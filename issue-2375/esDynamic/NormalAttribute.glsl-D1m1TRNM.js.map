{"version":3,"file":"NormalAttribute.glsl-D1m1TRNM.js","sources":["../../node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js","../../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";var n;function e(t){switch(t){case\"multiply\":default:return n.Multiply;case\"ignore\":return n.Ignore;case\"replace\":return n.Replace;case\"tint\":return n.Tint}}function r(e,r,a){if(null==e||r===n.Ignore)return a[0]=255,a[1]=255,a[2]=255,void(a[3]=255);const c=t(Math.round(e[3]*i),0,i),p=0===c||r===n.Tint?0:r===n.Replace?u:l;a[0]=t(Math.round(e[0]*o),0,o),a[1]=t(Math.round(e[1]*o),0,o),a[2]=t(Math.round(e[2]*o),0,o),a[3]=c+p}!function(t){t[t.Multiply=1]=\"Multiply\",t[t.Ignore=2]=\"Ignore\",t[t.Replace=3]=\"Replace\",t[t.Tint=4]=\"Tint\"}(n||(n={}));const o=255,i=85,u=i,l=2*i;export{n as ColorMixModeEnum,r as encodeSymbolColor,e as parseColorMixMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar o;function t(t){return r(t)||t===o.Depth||t===o.Normal||t===o.ObjectAndLayerIdColor}function r(t){return t===o.Shadow||t===o.ShadowHighlight||t===o.ShadowExcludeHighlight||t===o.ViewshedShadow}function n(t){return c(t)||t===o.Normal}function h(t){return t===o.Highlight||t===o.ObjectAndLayerIdColor}function e(t){return t===o.Color||h(t)}function i(t){return t===o.Color}function d(t){return i(t)||t===o.ObjectAndLayerIdColor}function u(t){return i(t)||t===o.Highlight}function l(o){return u(o)||g(o)}function a(o){return i(o)||h(o)}function c(o){return a(o)||g(o)}function g(t){return t===o.Depth}!function(o){o[o.Color=0]=\"Color\",o[o.Depth=1]=\"Depth\",o[o.Normal=2]=\"Normal\",o[o.Shadow=3]=\"Shadow\",o[o.ShadowHighlight=4]=\"ShadowHighlight\",o[o.ShadowExcludeHighlight=5]=\"ShadowExcludeHighlight\",o[o.ViewshedShadow=6]=\"ViewshedShadow\",o[o.Highlight=7]=\"Highlight\",o[o.ObjectAndLayerIdColor=8]=\"ObjectAndLayerIdColor\",o[o.COUNT=9]=\"COUNT\"}(o||(o={}));export{o as ShaderOutput,e as is2DGeometryOutput,n as is3DGeometryOutput,i as isColor,c as isColorHighlightOIDOrDepth,l as isColorHighlightOrDepth,a as isColorHighlightOrOID,u as isColorOrHighlight,d as isColorOrOID,g as isDepth,t as isDepthLikeOutput,h as isOIDorHighlight,r as isShadowRelatedOutput};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../../../core/compilerUtils.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";import{VertexAttribute as o}from\"../../../lib/VertexAttribute.js\";function t(t,i){switch(i.normalType){case a.Compressed:t.attributes.add(o.NORMALCOMPRESSED,\"vec2\"),t.vertex.code.add(r`vec3 decompressNormal(vec2 normal) {\nfloat z = 1.0 - abs(normal.x) - abs(normal.y);\nreturn vec3(normal + sign(normal) * min(z, 0.0), z);\n}\nvec3 normalModel() {\nreturn decompressNormal(normalCompressed);\n}`);break;case a.Attribute:t.attributes.add(o.NORMAL,\"vec3\"),t.vertex.code.add(r`vec3 normalModel() {\nreturn normal;\n}`);break;case a.ScreenDerivative:t.fragment.code.add(r`vec3 screenDerivativeNormal(vec3 positionView) {\nreturn normalize(cross(dFdx(positionView), dFdy(positionView)));\n}`);break;default:e(i.normalType);case a.COUNT:case a.Ground:}}var a;!function(e){e[e.Attribute=0]=\"Attribute\",e[e.Compressed=1]=\"Compressed\",e[e.Ground=2]=\"Ground\",e[e.ScreenDerivative=3]=\"ScreenDerivative\",e[e.COUNT=4]=\"COUNT\"}(a||(a={}));export{t as NormalAttribute,a as NormalType};\n"],"names":["n","t","o","r","c","h","i","a","g","e"],"mappings":";;;AAIyD,IAACA;AAAAA,CAAsa,SAASC,GAAE;AAAC,EAAAA,EAAEA,EAAE,WAAS,CAAC,IAAE,YAAWA,EAAEA,EAAE,SAAO,CAAC,IAAE,UAASA,EAAEA,EAAE,UAAQ,CAAC,IAAE,WAAUA,EAAEA,EAAE,OAAK,CAAC,IAAE;AAAM,GAAED,MAAIA,IAAE,CAAE,EAAC;ACAjlB,IAACE;AAAoF,SAASC,EAAEF,GAAE;AAAC,SAAOA,MAAIC,EAAE,UAAQD,MAAIC,EAAE,mBAAiBD,MAAIC,EAAE,0BAAwBD,MAAIC,EAAE;AAAc;AAAC,SAASF,EAAEC,GAAE;AAAC,SAAOG,EAAEH,CAAC,KAAGA,MAAIC,EAAE;AAAM;AAAC,SAASG,EAAEJ,GAAE;AAAC,SAAOA,MAAIC,EAAE,aAAWD,MAAIC,EAAE;AAAqB;AAAwC,SAASI,EAAEL,GAAE;AAAC,SAAOA,MAAIC,EAAE;AAAK;AAAmI,SAASK,EAAEL,GAAE;AAAC,SAAOI,EAAEJ,CAAC,KAAGG,EAAEH,CAAC;AAAC;AAAC,SAASE,EAAEF,GAAE;AAAC,SAAOK,EAAEL,CAAC,KAAGM,EAAEN,CAAC;AAAC;AAAC,SAASM,EAAEP,GAAE;AAAC,SAAOA,MAAIC,EAAE;AAAK;AAAA,CAAE,SAASA,GAAE;AAAC,EAAAA,EAAEA,EAAE,QAAM,CAAC,IAAE,SAAQA,EAAEA,EAAE,QAAM,CAAC,IAAE,SAAQA,EAAEA,EAAE,SAAO,CAAC,IAAE,UAASA,EAAEA,EAAE,SAAO,CAAC,IAAE,UAASA,EAAEA,EAAE,kBAAgB,CAAC,IAAE,mBAAkBA,EAAEA,EAAE,yBAAuB,CAAC,IAAE,0BAAyBA,EAAEA,EAAE,iBAAe,CAAC,IAAE,kBAAiBA,EAAEA,EAAE,YAAU,CAAC,IAAE,aAAYA,EAAEA,EAAE,wBAAsB,CAAC,IAAE,yBAAwBA,EAAEA,EAAE,QAAM,CAAC,IAAE;AAAO,GAAEA,MAAIA,IAAE,CAAE,EAAC;ACArvB,SAASD,EAAEA,GAAEK,GAAE;AAAC,UAAOA,EAAE,YAAY;AAAA,IAAA,KAAKC,EAAE;AAAW,MAAAN,EAAE,WAAW,IAAIC,EAAE,kBAAiB,MAAM,GAAED,EAAE,OAAO,KAAK,IAAIE;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,EAMrT;AAAE;AAAA,IAAM,KAAKI,EAAE;AAAU,MAAAN,EAAE,WAAW,IAAIC,EAAE,QAAO,MAAM,GAAED,EAAE,OAAO,KAAK,IAAIE;AAAAA;AAAAA,EAE7E;AAAE;AAAA,IAAM,KAAKI,EAAE;AAAiB,MAAAN,EAAE,SAAS,KAAK,IAAIE;AAAAA;AAAAA,EAEpD;AAAE;AAAA,IAAM;AAAQM,MAAAA,EAAEH,EAAE,UAAU;AAAA,IAAE,KAAKC,EAAE;AAAA,IAAM,KAAKA,EAAE;AAAA,EAAO;AAAC;AAAI,IAACA;AAAA,CAAG,SAAS,GAAE;AAAC,IAAE,EAAE,YAAU,CAAC,IAAE,aAAY,EAAE,EAAE,aAAW,CAAC,IAAE,cAAa,EAAE,EAAE,SAAO,CAAC,IAAE,UAAS,EAAE,EAAE,mBAAiB,CAAC,IAAE,oBAAmB,EAAE,EAAE,QAAM,CAAC,IAAE;AAAO,GAAEA,MAAIA,IAAE,CAAE,EAAC;","x_google_ignoreList":[0,1,2]}