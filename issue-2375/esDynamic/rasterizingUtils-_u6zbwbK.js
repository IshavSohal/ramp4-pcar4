import{o as x}from"./floatRGBA-BLC568ta.js";import{b1 as u}from"./main-C02UbYD7.js";import{o as C}from"./constants-DVpDF9P6.js";const y=r=>r==="vertical"||r==="horizontal"||r==="cross"||r==="esriSFSCross"||r==="esriSFSVertical"||r==="esriSFSHorizontal";function p(r,d,f){const i=d.style,l=u(Math.ceil(f)),t=y(i)?8*l:16*l,o=2*l;r.width=t,r.height=t;const a=r.getContext("2d");a.strokeStyle="#FFFFFF",a.lineWidth=l,a.beginPath(),i!=="vertical"&&i!=="cross"&&i!=="esriSFSCross"&&i!=="esriSFSVertical"||(a.moveTo(t/2,-o),a.lineTo(t/2,t+o)),i!=="horizontal"&&i!=="cross"&&i!=="esriSFSCross"&&i!=="esriSFSHorizontal"||(a.moveTo(-o,t/2),a.lineTo(t+o,t/2)),i!=="backward-diagonal"&&i!=="diagonal-cross"&&i!=="esriSFSDiagonalCross"&&i!=="esriSFSBackwardDiagonal"||(a.moveTo(-o,-o),a.lineTo(t+o,t+o),a.moveTo(t-o,-o),a.lineTo(t+o,o),a.moveTo(-o,t-o),a.lineTo(o,t+o)),i!=="forward-diagonal"&&i!=="diagonal-cross"&&i!=="esriSFSForwardDiagonal"&&i!=="esriSFSDiagonalCross"||(a.moveTo(t+o,-o),a.lineTo(-o,t+o),a.moveTo(o,-o),a.lineTo(-o,o),a.moveTo(t+o,t-o),a.lineTo(t-o,t+o)),a.stroke();const g=a.getImageData(0,0,r.width,r.height),s=new Uint8Array(g.data);let h;for(let n=0;n<s.length;n+=4)h=s[n+3]/255,s[n]=s[n]*h,s[n+1]=s[n+1]*h,s[n+2]=s[n+2]*h;return[s,r.width,r.height,l]}function z(r,d){r==null&&(r=[]);const f=d==="Butt",i=d==="Square",l=!f&&!i;r.length%2==1&&(r=[...r,...r]);const t=C,o=2*t;let a=0;for(const c of r)a+=c;const g=Math.round(a*t),s=new Float32Array(g*o),h=.5*t;let n=0,S=0,e=.5,M=!0;for(const c of r){for(n=S,S+=c*t;e<=S;){let F=.5;for(;F<o;){const w=(F-.5)*g+e-.5,m=l?(F-t)*(F-t):Math.abs(F-t);s[w]=M?f?Math.max(Math.max(n+h-e,m),Math.max(e-S+h,m)):m:l?Math.min((e-n)*(e-n)+m,(e-S)*(e-S)+m):i?Math.min(Math.max(e-n,m),Math.max(S-e,m)):Math.min(Math.max(e-n+h,m),Math.max(S+h-e,m)),F++}e++}M=!M}const T=s.length,v=new Uint8Array(4*T);for(let c=0;c<T;++c){const F=(l?Math.sqrt(s[c]):s[c])/t;x(F,v,4*c)}return[v,g,o]}export{p as e,z as i};
