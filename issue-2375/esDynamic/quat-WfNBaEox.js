import{e as B}from"./mat3f64-Dh9_zhFu.js";import{e as A}from"./quatf64-DxbQqBtW.js";import{as as b,at as C,au as D,av as F,aw as G,ax as H,ay as J,az as K,aA as N,aB as W,aC as Y,aD as Z,aE as $,aF as I,aG as k,aH as Q,aI as R,aJ as v,aK as U}from"./main-C02UbYD7.js";function V(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function x(t,n,c){c*=.5;const s=Math.sin(c);return t[0]=s*n[0],t[1]=s*n[1],t[2]=s*n[2],t[3]=Math.cos(c),t}function _(t,n){const c=2*Math.acos(n[3]),s=Math.sin(c/2);return s>b()?(t[0]=n[0]/s,t[1]=n[1]/s,t[2]=n[2]/s):(t[0]=1,t[1]=0,t[2]=0),c}function y(t,n,c){const s=n[0],e=n[1],u=n[2],r=n[3],i=c[0],a=c[1],h=c[2],M=c[3];return t[0]=s*M+r*i+e*h-u*a,t[1]=e*M+r*a+u*i-s*h,t[2]=u*M+r*h+s*a-e*i,t[3]=r*M-s*i-e*a-u*h,t}function tt(t,n,c){c*=.5;const s=n[0],e=n[1],u=n[2],r=n[3],i=Math.sin(c),a=Math.cos(c);return t[0]=s*a+r*i,t[1]=e*a+u*i,t[2]=u*a-e*i,t[3]=r*a-s*i,t}function nt(t,n,c){c*=.5;const s=n[0],e=n[1],u=n[2],r=n[3],i=Math.sin(c),a=Math.cos(c);return t[0]=s*a-u*i,t[1]=e*a+r*i,t[2]=u*a+s*i,t[3]=r*a-e*i,t}function st(t,n,c){c*=.5;const s=n[0],e=n[1],u=n[2],r=n[3],i=Math.sin(c),a=Math.cos(c);return t[0]=s*a+e*i,t[1]=e*a-s*i,t[2]=u*a+r*i,t[3]=r*a-u*i,t}function et(t,n){const c=n[0],s=n[1],e=n[2];return t[0]=c,t[1]=s,t[2]=e,t[3]=Math.sqrt(Math.abs(1-c*c-s*s-e*e)),t}function g(t,n,c,s){const e=n[0],u=n[1],r=n[2],i=n[3];let a,h,M,l,o,m=c[0],p=c[1],q=c[2],d=c[3];return h=e*m+u*p+r*q+i*d,h<0&&(h=-h,m=-m,p=-p,q=-q,d=-d),1-h>b()?(a=Math.acos(h),M=Math.sin(a),l=Math.sin((1-s)*a)/M,o=Math.sin(s*a)/M):(l=1-s,o=s),t[0]=l*e+o*m,t[1]=l*u+o*p,t[2]=l*r+o*q,t[3]=l*i+o*d,t}function ct(t){const n=U,c=n(),s=n(),e=n(),u=Math.sqrt(1-c),r=Math.sqrt(c);return t[0]=u*Math.sin(2*Math.PI*s),t[1]=u*Math.cos(2*Math.PI*s),t[2]=r*Math.sin(2*Math.PI*e),t[3]=r*Math.cos(2*Math.PI*e),t}function ut(t,n){const c=n[0],s=n[1],e=n[2],u=n[3],r=c*c+s*s+e*e+u*u,i=r?1/r:0;return t[0]=-c*i,t[1]=-s*i,t[2]=-e*i,t[3]=u*i,t}function j(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function z(t,n){const c=n[0]+n[4]+n[8];let s;if(c>0)s=Math.sqrt(c+1),t[3]=.5*s,s=.5/s,t[0]=(n[5]-n[7])*s,t[1]=(n[6]-n[2])*s,t[2]=(n[1]-n[3])*s;else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);const u=(e+1)%3,r=(e+2)%3;s=Math.sqrt(n[3*e+e]-n[3*u+u]-n[3*r+r]+1),t[e]=.5*s,s=.5/s,t[3]=(n[3*u+r]-n[3*r+u])*s,t[u]=(n[3*u+e]+n[3*e+u])*s,t[r]=(n[3*r+e]+n[3*e+r])*s}return t}function E(t,n,c,s){const e=.5*Math.PI/180;n*=e,c*=e,s*=e;const u=Math.sin(n),r=Math.cos(n),i=Math.sin(c),a=Math.cos(c),h=Math.sin(s),M=Math.cos(s);return t[0]=u*a*M-r*i*h,t[1]=r*i*M+u*a*h,t[2]=r*a*h-u*i*M,t[3]=r*a*M+u*i*h,t}function rt(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const it=C,O=D,at=F,ht=y,Mt=G,ft=H,lt=J,T=K,ot=T,L=N,mt=L,P=W,S=Y,pt=Z;function qt(t,n,c){const s=$(n,c);return s<-.999999?(I(f,dt,n),k(f)<1e-6&&I(f,gt,n),Q(f,f),x(t,f,Math.PI),t):s>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(I(f,n,c),t[0]=f[0],t[1]=f[1],t[2]=f[2],t[3]=1+s,P(t,t))}const f=R(),dt=v(1,0,0),gt=v(0,1,0);function It(t,n,c,s,e,u){return g(X,n,e,u),g(w,c,s,u),g(t,X,w,2*u*(1-u)),t}const X=A(),w=A();function xt(t,n,c,s){const e=yt;return e[0]=c[0],e[3]=c[1],e[6]=c[2],e[1]=s[0],e[4]=s[1],e[7]=s[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],P(t,z(t,e))}const yt=B();Object.freeze(Object.defineProperty({__proto__:null,add:at,calculateW:et,conjugate:j,copy:it,dot:ft,equals:pt,exactEquals:S,fromEuler:E,fromMat3:z,getAxisAngle:_,identity:V,invert:ut,len:ot,length:T,lerp:lt,mul:ht,multiply:y,normalize:P,random:ct,rotateX:tt,rotateY:nt,rotateZ:st,rotationTo:qt,scale:Mt,set:O,setAxes:xt,setAxisAngle:x,slerp:g,sqlerp:It,sqrLen:mt,squaredLength:L,str:rt},Symbol.toStringTag,{value:"Module"}));export{x as I,S as N,j as O,E as T,O as X,_ as v,y as x};
