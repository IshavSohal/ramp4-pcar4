const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./loadGLTFMesh-ClZyqYjH.js","./main-De_LB6CK.js","./preload-helper-dJJaZANz.js","./main-CRG1_KF0.css","./mat3f64-BNcPSU_3.js","./MeshVertexAttributes-C8WaYfTQ.js","./meshVertexSpaceUtils-5TjQRTSc.js","./MeshLocalVertexSpace-CxLA1CTa.js","./BufferView-4E1wW6he.js","./vec3-CZ7lj5p3.js","./vec4-DL7AGgEj.js","./types-D3aYjW3J.js","./DefaultMaterial_COLOR_GAMMA-KgyJ2iMZ.js","./mat4f64-UGgSIQpQ.js","./enums-CwcDCDam.js","./quat-B8nS7RKb.js","./quatf64-C3zJJInI.js","./resourceUtils-BISVkMpm.js","./basicInterfaces-CK7IW-0v.js","./Indices-BsO8T79w.js","./vertexSpaceConversion-CUyRO8GH.js","./spatialReferenceEllipsoidUtils-Cyuld_dU.js","./computeTranslationToOriginAndRotation-DnypH-8m.js","./projection-D5PNRBAr.js","./DoubleArray-D7vEiMX8.js","./MeshTransform-CJWjJ5SQ.js","./imageUtils-L-pHKW6m.js","./earcut-D2l-TsO6.js","./plane-CohIkSqP.js","./deduplicate-D9JWLrv2.js","./gltfexport-BkjWcL3a.js"])))=>i.map(i=>d[i]);
import { _ as __vitePreload } from './preload-helper-dJJaZANz.js';
import { bd as e$2, be as y$2, gx as h$6, eL as r, ed as o$1, bf as a$3, b_ as f$5, ez as m$5, cs as g$5, bZ as i$2, aA as u$8, cv as s$1, G as n$3, P as a$4, s as s$2, gl as h$7, jg as n$4, bt as W$1, lk as L$1, fP as o$2, nQ as a$6, nR as D$1, bE as i$4, nS as c$6, a_ as w$3, F as a$7, dJ as e$5, dM as u$9, ap as n$5, aq as r$1, hm as h$8, dN as s$3, _ as _$1, R as Rt, nT as G$1, mP as g$6, jX as c$8, mg as u$a, jB as l$1, a0 as V$1, bg as v$2, cD as S$2, ao as z$1, nU as D$2, mc as _, cF as l$2, cG as c$9, nV as O$2, gb as f$6, nW as y$5, nX as I$2, cC as n$6, jf as p$6, er as O$3, dL as g$8, fa as m$6, kc as n$7, bj as d$3, aX as j$2, nY as t$4, eY as n$8 } from './main-De_LB6CK.js';
import { u as u$b, y as y$3, h as h$9, b as b$3, N as N$2, c as A$2, d as y$4, k as k$1, w as w$5 } from './MeshTransform-CJWjJ5SQ.js';
import { c as c$4 } from './imageUtils-L-pHKW6m.js';
import { c as c$5, l } from './MeshVertexAttributes-C8WaYfTQ.js';
import { a as a$9, i as i$5 } from './MeshLocalVertexSpace-CxLA1CTa.js';
import { a as a$8, s as s$4, g as g$7, u as u$d } from './meshVertexSpaceUtils-5TjQRTSc.js';
import { i as i$3 } from './earcut-D2l-TsO6.js';
import { a as a$5, e as e$4, t as t$3 } from './DoubleArray-D7vEiMX8.js';
import { t as t$2 } from './Indices-BsO8T79w.js';
import { E as E$1, F as F$1, X as X$2 } from './plane-CohIkSqP.js';
import { e as e$3 } from './deduplicate-D9JWLrv2.js';
import { project as J$2, logProjectionError as S$1, loadProjectErrorMessage as L$2, projectToPCPF as w$4, projectNormalToPCPF as v$3, projectTangentToPCPF as Y$2, projectFromPCPF as G$2, projectNormalFromPCPF as k$2, projectTangentFromPCPF as q$1 } from './projection-D5PNRBAr.js';
import { c as c$7, M as M$2, X as X$3, N as N$3 } from './vertexSpaceConversion-CUyRO8GH.js';
import { e as e$6 } from './mat3f64-BNcPSU_3.js';
import { e as e$7 } from './mat4f64-UGgSIQpQ.js';
import { I as I$1 } from './quat-B8nS7RKb.js';
import { e as e$8, o as o$3 } from './quatf64-C3zJJInI.js';
import { a as a$a } from './spatialReferenceEllipsoidUtils-Cyuld_dU.js';
import { u as u$c } from './computeTranslationToOriginAndRotation-DnypH-8m.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
var p$5;const h$5=new WeakMap;let u$7=0,d$2=p$5=class extends f$5{constructor(t){super(t),this.wrap="repeat";}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null);}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null);}writeData(t,e,a,r){if(t instanceof HTMLImageElement){const s={type:"image-element",src:m$5(t.src,r),crossOrigin:t.crossOrigin};e[a]=s;}else if(t instanceof HTMLCanvasElement){const r={type:"canvas-element",imageData:m$4(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[a]=r;}else if(t instanceof HTMLVideoElement){const s={type:"video-element",src:m$5(t.src,r),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[a]=s;}else if(t instanceof ImageData){const r={type:"image-data",imageData:m$4(t)};e[a]=r;}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=g$4(t.imageData),a=document.createElement("canvas");return a.width=e.width,a.height=e.height,a.getContext("2d").putImageData(e,0,0),a}case"image-data":return g$4(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const t=this.data,e=this.url;if(t instanceof HTMLCanvasElement)return f$4(t.getContext("2d").getImageData(0,0,t.width,t.height));if(t instanceof ImageData)return f$4(t);if(e){const t=e.substr(e.length-4,4).toLowerCase(),a=e.substr(0,15).toLocaleLowerCase();if(".png"===t||"data:image/png;"===a)return !0}return !1}set transparent(t){this._overrideIfSome("transparent",t);}get contentHash(){const t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",e=(e="")=>`d:${e},t:${this.transparent},w:${t}`;return null!=this.url?e(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?e(this.data.src):(h$5.has(this.data)||h$5.set(this.data,++u$7),e(h$5.get(this.data))):e()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3);}return t}clone(){const t={url:this.url,data:this.data,wrap:this._cloneWrap()};return new p$5(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const a=this.clone();return t.set(this,a),a}_cloneWrap(){return "string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return "string"==typeof t?new p$5({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new p$5({data:t}):g$5(p$5,t)}};function m$4(t){let e="";for(let a=0;a<t.data.length;a++)e+=String.fromCharCode(t.data[a]);return {data:btoa(e),width:t.width,height:t.height}}function g$4(t){const a=atob(t.data),r=new Uint8ClampedArray(a.length);for(let e=0;e<a.length;e++)r[e]=a.charCodeAt(e);return c$4(r,t.width,t.height)}function f$4(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return !0;return !1}e$2([y$2({type:String,json:{write:h$6}})],d$2.prototype,"url",null),e$2([y$2({json:{write:{overridePolicy(){return {enabled:!this.url}}}}}),y$2()],d$2.prototype,"data",null),e$2([r("data")],d$2.prototype,"writeData",null),e$2([o$1("data")],d$2.prototype,"readData",null),e$2([y$2({type:Boolean,json:{write:{overridePolicy(){return {enabled:this._isOverridden("transparent")}}}}})],d$2.prototype,"transparent",null),e$2([y$2({json:{write:!0}})],d$2.prototype,"wrap",void 0),e$2([y$2({readOnly:!0})],d$2.prototype,"contentHash",null),d$2=p$5=e$2([a$3("esri.geometry.support.MeshTexture")],d$2);const w$2=d$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
let p$4=class p extends(i$2(f$5)){constructor(o){super(o),this.offset=[0,0],this.rotation=0,this.scale=[1,1];}};e$2([y$2({type:[Number],nonNullable:!0,json:{write:!0}})],p$4.prototype,"offset",void 0),e$2([y$2({type:Number,nonNullable:!0,json:{write:!0}})],p$4.prototype,"rotation",void 0),e$2([y$2({type:[Number],nonNullable:!0,json:{write:!0}})],p$4.prototype,"scale",void 0),p$4=e$2([a$3("esri.geometry.support.MeshTextureTransform")],p$4);const c$3=p$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
var n$2;let u$6=n$2=class extends f$5{constructor(o){super(o),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0;}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(o,r){const e=null!=o?o.get(this):null;if(e)return e;const t=new n$2(this.clonePropertiesWithDeduplication(r));return null!=o&&o.set(this,t),t}clonePropertiesWithDeduplication(o){return {color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(o),normalTexture:this.normalTexture?.cloneWithDeduplication(o),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let o=0;return o+=null!=this.color?16:0,null!=this.colorTexture&&(o+=this.colorTexture.memoryUsage),o+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(o+=this.normalTexture.memoryUsage),o+=null!=this.normalTextureTransform?20:0,o}};e$2([y$2({type:u$8,json:{write:!0}})],u$6.prototype,"color",void 0),e$2([y$2({type:w$2,json:{write:!0}})],u$6.prototype,"colorTexture",void 0),e$2([y$2({type:c$3,json:{write:!0}})],u$6.prototype,"colorTextureTransform",void 0),e$2([y$2({type:w$2,json:{write:!0}})],u$6.prototype,"normalTexture",void 0),e$2([y$2({type:c$3,json:{write:!0}})],u$6.prototype,"normalTextureTransform",void 0),e$2([y$2({nonNullable:!0,json:{write:!0}})],u$6.prototype,"alphaMode",void 0),e$2([y$2({nonNullable:!0,json:{write:!0}})],u$6.prototype,"alphaCutoff",void 0),e$2([y$2({nonNullable:!0,json:{write:!0}})],u$6.prototype,"doubleSided",void 0),u$6=n$2=e$2([a$3("esri.geometry.support.MeshMaterial")],u$6);const a$2=u$6;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
var n$1;let u$5=n$1=class extends a$2{constructor(e){super(e),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0;}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,s){const o=null!=e?e.get(this):null;if(o)return o;const t=new n$1(this.clonePropertiesWithDeduplication(s));return null!=e&&e.set(this,t),t}getMemoryUsage(){let e=super.getMemoryUsage();return e+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(e+=this.emissiveTexture.memoryUsage),e+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(e+=this.occlusionTexture.memoryUsage),e+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(e+=this.metallicRoughnessTexture.memoryUsage),e+=null!=this.metallicRoughnessTextureTransform?20:0,e}clonePropertiesWithDeduplication(e){return {...super.clonePropertiesWithDeduplication(e),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(e),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(e),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(e),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};e$2([y$2({type:u$8,json:{write:!0}})],u$5.prototype,"emissiveColor",void 0),e$2([y$2({type:w$2,json:{write:!0}})],u$5.prototype,"emissiveTexture",void 0),e$2([y$2({type:c$3,json:{write:!0}})],u$5.prototype,"emissiveTextureTransform",void 0),e$2([y$2({type:w$2,json:{write:!0}})],u$5.prototype,"occlusionTexture",void 0),e$2([y$2({type:c$3,json:{write:!0}})],u$5.prototype,"occlusionTextureTransform",void 0),e$2([y$2({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],u$5.prototype,"metallic",void 0),e$2([y$2({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],u$5.prototype,"roughness",void 0),e$2([y$2({type:w$2,json:{write:!0}})],u$5.prototype,"metallicRoughnessTexture",void 0),e$2([y$2({type:c$3,json:{write:!0}})],u$5.prototype,"metallicRoughnessTextureTransform",void 0),u$5=n$1=e$2([a$3("esri.geometry.support.MeshMaterialMetallicRoughness")],u$5);const m$3=u$5;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
var p$3;let u$4=p$3=class extends f$5{static from(t){return g$5(p$3,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1;}castFaces(t){return c$5(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},n$3.getLogger(this))}castMaterial(t){return g$5(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?m$3:a$2,t)}clone(){return new p$3({faces:a$4(this.faces),shading:this.shading,material:a$4(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,r){const s={faces:a$4(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,r):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new p$3(s)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};e$2([y$2({json:{write:!0}})],u$4.prototype,"faces",void 0),e$2([s$1("faces")],u$4.prototype,"castFaces",null),e$2([y$2({type:a$2,json:{write:!0}})],u$4.prototype,"material",void 0),e$2([s$1("material")],u$4.prototype,"castMaterial",null),e$2([y$2()],u$4.prototype,"name",void 0),e$2([y$2({type:String,json:{write:!0}})],u$4.prototype,"shading",void 0),e$2([y$2({type:Boolean})],u$4.prototype,"trustSourceNormals",void 0),u$4=p$3=e$2([a$3("esri.geometry.support.MeshComponent")],u$4);const h$4=u$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
const t$1="Mesh must be loaded before applying operations",e$1="Provided component is not part of the list of components",n="Expected polygon to be a Polygon instance",s="Expected location to be a Point instance";let i$1 = class i extends s$2{constructor(){super("invalid-input:location",s);}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
function c$2(t,o,s){const i=e(f$3,t,o,s)?F$1(f$3):[0,0,1];return Math.abs(i[2])>Math.cos(h$7(80))?n$4.Z:Math.abs(i[1])>Math.abs(i[0])?n$4.Y:n$4.X}function e(r,a,i,n){const c=(r=>!Array.isArray(r[0]))(a)?(r,t)=>a[3*r+t]:(r,t)=>a[r][t],e=n?W$1(n)/L$1(n):1;return X$2(r,((r,t)=>o$2(r,c(t,0)*e,c(t,1)*e,c(t,2))),i)}const f$3=E$1();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
function f$2(t){const e=a$1(t.rings,t.hasZ,p$2.CCW_IS_HOLE,t.spatialReference),s=new Array;let l=0,f=0;for(const r of e.polygons){const t=r.count,c=r.index,h=a$5(e.position,3*c,3*t),a=r.holeIndices.map((n=>n-c)),g=t$2(i$3(h,a,3));s.push({position:h,faces:g}),l+=h.length,f+=g.length;}const g=h$3(s,l,f),u=Array.isArray(g.position)?e$3(g.position,3,{originalIndices:g.faces}):e$3(g.position.buffer,6,{originalIndices:g.faces});return g.position=e$4(new Float64Array(u.buffer)),g.faces=u.indices,g}function h$3(n,t,e){if(1===n.length)return n[0];const o=t$3(t),r=new Array(e);let l=0,c=0,f=0;for(const s of n){for(let n=0;n<s.position.length;n++)o[l++]=s.position[n];for(const n of s.faces)r[c++]=n+f;f=l/3;}return {position:o,faces:t$2(r)}}function a$1(n,t,e,o){const r=n.length,i=new Array(r),l=new Array(r),c=new Array(r);let f=0;for(let s=0;s<r;++s)f+=n[s].length;let h=0,a=0,m=0;const d=t$3(3*f);let y=0;for(let s=r-1;s>=0;s--){const f=n[s],A=e===p$2.CCW_IS_HOLE&&u$3(f,t,o);if(A&&1!==r)i[h++]=f;else {let n=f.length;for(let t=0;t<h;++t)n+=i[t].length;const e={index:y,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=f.length,f.length>0&&(c[m++]={index:y,count:f.length}),y=A?g$3(f,f.length-1,-1,d,y,f.length,t):g$3(f,0,1,d,y,f.length,t);for(let o=0;o<h;++o){const n=i[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(c[m++]={index:y,count:n.length}),y=g$3(n,0,1,d,y,n.length,t);}h=0,e.count>0&&(l[a++]=e);}}for(let s=0;s<h;++s){const n=i[s];n.length>0&&(c[m++]={index:y,count:n.length}),y=g$3(n,0,1,d,y,n.length,t);}return l.length=a,c.length=m,{position:d,polygons:l,outlines:c}}function g$3(n,t,e,o,r,s,i){r*=3;for(let l=0;l<s;++l){const s=n[t];o[r++]=s[0],o[r++]=s[1],o[r++]=i?s[2]:0,t+=e;}return r/3}function u$3(n,o,r){if(!o)return !a$6(n);const s=n.length-1;switch(c$2(n,s,r)){case n$4.X:return !a$6(n,n$4.Y,n$4.Z);case n$4.Y:return !a$6(n,n$4.X,n$4.Z);case n$4.Z:return !a$6(n,n$4.X,n$4.Y)}}var p$2;!function(n){n[n.NONE=0]="NONE",n[n.CCW_IS_HOLE=1]="CCW_IS_HOLE";}(p$2||(p$2={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
function o([e,n,r,I,o,m],u,a,s){i??=new Float64Array(24);const T=i;return T[0]=e,T[1]=n,T[2]=r,T[3]=e,T[4]=o,T[5]=r,T[6]=I,T[7]=o,T[8]=r,T[9]=I,T[10]=n,T[11]=r,T[12]=e,T[13]=n,T[14]=m,T[15]=e,T[16]=o,T[17]=m,T[18]=I,T[19]=o,T[20]=m,T[21]=I,T[22]=n,T[23]=m,J$2({positions:T,transform:u,vertexSpace:a,inSpatialReference:s,outSpatialReference:s,outPositions:T}),N$1(T,s)}let i=null;function m$2(e){if(0===e.length)return D$1;const t=i$4([Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY,-Number.POSITIVE_INFINITY]);return c$6(t,e),t}function N$1(n,r){const[I,t,o,i,N,u]=m$2(n);return new w$3({xmin:I,ymin:t,zmin:o,xmax:i,ymax:N,zmax:u,spatialReference:r})}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
function t(o,t,i,a){if(void 0!==a){a$7(o(),"option: geographic",{replacement:"Use mesh `vertexSpace` and spatial reference to control how operations are performed instead.",version:"4.30",warnOnce:!0});const c="local"===t.type;if(!a$8(t)||a===c)return i.isGeographic||i.isWebMercator&&a;o().warnOnce(`Specifying the 'geographic' parameter (${a}) for a Mesh vertex space of type "${t.type}" is not supported. This parameter will be ignored.`);}switch(t.type){case"georeferenced":return i.isGeographic;case"local":return i.isGeographic||i.isWebMercator}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
const g$2=()=>n$3.getLogger("esri.geometry.support.meshUtils.centerAt");function u$2(e,t$1,r){if(!e.vertexAttributes?.position)return;const{vertexSpace:i}=e,o=r?.origin??e.anchor,n=t(g$2,i,o.spatialReference,r?.geographic);a$8(i)?x$2(e,t$1,o):n?v$1(e,t$1,o):R(e,t$1,o);}function x$2(e,o,s){const{vertexSpace:c}=e;if(!a$8(c))return;const f=b$2,m=h$2;if(!c$7(o,m,e.spatialReference))return void S$1(g$2(),o.spatialReference,e.spatialReference,L$2);if(!c$7(s,f,e.spatialReference)){const t=e.origin;return f[0]=t.x,f[1]=t.y,f[2]=t.z,void S$1(g$2(),s.spatialReference,e.spatialReference,L$2)}const u=e$5(A$1,m,f);c.origin=u$9(n$5(),c.origin,u);}function v$1(e,t,r){const i=r$1(r.x,r.y,r.z??0),n=M$2(e,new a$9({origin:i}));if(!n)return;const a=r$1(t.x,t.y,t.z??0),f=M$2({vertexAttributes:n,spatialReference:e.spatialReference,vertexSpace:new a$9({origin:a})},new i$5);if(!f)return;const{position:p,normal:l,tangent:g}=f;e.vertexAttributes.position=p,e.vertexAttributes.normal=l,e.vertexAttributes.tangent=g,e.vertexAttributesChanged();}function R(e,t,r){const i=b$2,o=h$2;if(c$7(t,o,e.spatialReference)){if(!c$7(r,i,e.spatialReference)){const t=e.origin;return i[0]=t.x,i[1]=t.y,i[2]=t.z,void S$1(g$2(),r.spatialReference,e.spatialReference,L$2)}j$1(e.vertexAttributes.position,o,i),e.vertexAttributesChanged();}else S$1(g$2(),t.spatialReference,e.spatialReference,L$2);}function j$1(e,t,r){if(e)for(let i=0;i<e.length;i+=3)for(let o=0;o<3;o++)e[i+o]+=t[o]-r[o];}const h$2=n$5(),b$2=n$5(),A$1=n$5();

async function c$1(e,n,r){const{source:o}=n,{loadGLTFMesh:i}=await h$8(__vitePreload(() => import('./loadGLTFMesh-ClZyqYjH.js'),true?__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]):void 0,import.meta.url),r),a=await f$1(o,r);s$3(r);const c=i(new _$1({x:0,y:0,z:0,spatialReference:e.spatialReference}),a.url,{resolveFile:u$1(a),signal:r?.signal,expectedType:a.type});c.then((()=>a.dispose()),(()=>a.dispose()));const{vertexAttributes:m,components:p}=await c;e.vertexAttributes=m,e.components=p;}function u$1(e){const t=Rt(e.url);return s=>{const n=G$1(s,t,t),r=n?n.replace(/^ *\.\//,""):null;return (r?e.files.get(r):null)??s}}async function f$1(t,s){if(Array.isArray(t)){if(!t.length)throw new s$2("mesh-load-external:missing-assets","There must be at least one file to load");return t[0]instanceof File?h$1(t):y$1(t,s)}return p$1(t)}async function m$1(e,t){const{parts:n,assetMimeType:r,assetName:o}=e;if(1===n.length)return new j(n[0].partUrl);const i=await e.toBlob(t);return s$3(t),j.fromBlob(i,x$1(o,r))}function p$1(e){return j.fromBlob(e,x$1(e.name,e.type))}function h$1(e){return T$1(e.map((e=>({name:e.name,mimeType:e.type,source:p$1(e)}))))}async function y$1(e,t){const i=await g$6(e.map((async e=>{const n=await m$1(e);return s$3(t),{name:e.assetName,mimeType:e.assetMimeType,source:n}})));if(c$8(t))throw i.forEach((e=>e.source.dispose())),u$a();return T$1(i)}const w$1=/^model\/gltf\+json$/,d$1=/^model\/gltf-binary$/,g$1=/\.gltf$/i,b$1=/\.glb$/i;function T$1(t){const s=new Map;let n,r=null;for(const{name:e,mimeType:o,source:i}of t)null===r&&(w$1.test(o)||g$1.test(e)?(r=i.url,n="gltf"):(d$1.test(o)||b$1.test(e))&&(r=i.url,n="glb")),s.set(e,i.url),i.files.forEach(((e,t)=>s.set(t,e)));if(null==r)throw new s$2("mesh-load-external:missing-files","Missing files to load external mesh source");return new j(r,(()=>t.forEach((({source:e})=>e.dispose()))),s,n)}class j{constructor(e,t=(()=>{}),s=new Map,n){this.url=e,this.dispose=t,this.files=s,this.type=n;}static fromBlob(e,t){const s=URL.createObjectURL(e);return new j(s,(()=>URL.revokeObjectURL(s)),void 0,t)}}function x$1(e,t){return w$1.test(t)||g$1.test(e)?"gltf":d$1.test(t)||g$1.test(e)?"glb":void 0}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
let a=class extends l$1{constructor(e){super(e),this.externalSources=new V$1,this._explicitDisplaySource=null,this.addHandles(v$2((()=>this.externalSources),"after-remove",(({item:e})=>{e===this._explicitDisplaySource&&(this._explicitDisplaySource=null);}),{sync:!0,onListenerRemove:()=>this._explicitDisplaySource=null}));}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(e){if(null!=e&&!u$b(e))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=e,e&&this.externalSources.every((r=>!y$3(r,e)))&&this.externalSources.add(e);}clearSources(){this.externalSources.removeAll();}getExternalSourcesOnService(e){return this.externalSources.items.filter((r=>h$9(r,e)))}get _implicitDisplaySource(){return this.externalSources.find(u$b)}};e$2([y$2()],a.prototype,"externalSources",void 0),e$2([y$2()],a.prototype,"displaySource",null),e$2([y$2()],a.prototype,"_implicitDisplaySource",null),e$2([y$2()],a.prototype,"_explicitDisplaySource",void 0),a=e$2([a$3("esri.geometry.support.meshUtils.Metadata")],a);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
function c(){const{faceDescriptions:t,faceVertexOffsets:e,uvScales:r}=F,n=4*t.length,o=new Float64Array(3*n),s=new Float32Array(3*n),a=new Float32Array(2*n),i=new Uint32Array(2*t.length*3);let l=0,c=0,f=0,u=0;for(let h=0;h<t.length;h++){const n=t[h],p=l/3;for(const t of e)i[u++]=p+t;const m=n.corners;for(let t=0;t<4;t++){const e=m[t];let i=0;a[f++]=.25*r[t][0]+n.uvOrigin[0],a[f++]=n.uvOrigin[1]-.25*r[t][1];for(let t=0;t<3;t++)0!==n.axis[t]?(o[l++]=.5*n.axis[t],s[c++]=n.axis[t]):(o[l++]=.5*e[i++],s[c++]=0);}}return {position:o,normal:s,uv:a,faces:i}}function f(t,e){const r=t.components[0],n=r.faces,s=b[e],a=6*s,i=new Array(6),l=new Array(n.length-6);let c=0,f=0;for(let o=0;o<n.length;o++)o>=a&&o<a+6?i[c++]=n[o]:l[f++]=n[o];if(null!=t.vertexAttributes.uv){const e=new Float32Array(t.vertexAttributes.uv),r=4*s*2,n=[0,1,1,1,1,0,0,0];for(let t=0;t<n.length;t++)e[r+t]=n[t];t.vertexAttributes.uv=e;}return t.components=[new h$4({faces:i,material:r.material}),new h$4({faces:l})],t}function u(t=0){const e=Math.round(8*2**t),r=2*e,n=(e-1)*(r+1)+2*r,o=new Float64Array(3*n),s=new Float32Array(3*n),a=new Float32Array(2*n),i=new Uint32Array(3*((e-1)*r*2));let l=0,c=0,f=0,u=0;for(let h=0;h<=e;h++){const t=h/e*Math.PI+.5*Math.PI,n=Math.cos(t),p=Math.sin(t);O$1[2]=p;const m=0===h||h===e,w=m?r-1:r;for(let v=0;v<=w;v++){const t=v/w*2*Math.PI;O$1[0]=-Math.sin(t)*n,O$1[1]=Math.cos(t)*n;for(let e=0;e<3;e++)o[l]=.5*O$1[e],s[l]=O$1[e],++l;a[c++]=(v+(m?.5:0))/r,a[c++]=h/e,0!==h&&v!==r&&(h!==e&&(i[f++]=u,i[f++]=u+1,i[f++]=u-r),1!==h&&(i[f++]=u,i[f++]=u-r,i[f++]=u-r-1)),u++;}}return {position:o,normal:s,uv:a,faces:i}}function h(t=0){const e=5,r=Math.round(16*2**t),n=(e-1)*(r+1)+2*r,o=new Float64Array(3*n),s=new Float32Array(3*n),a=new Float32Array(2*n),i=new Uint32Array(3*(4*r));let l=0,c=0,f=0,u=0,h=0;for(let p=0;p<=e;p++){const t=0===p||p===e,n=p<=1||p>=e-1,m=2===p||4===p,w=t?r-1:r;for(let v=0;v<=w;v++){const g=v/w*2*Math.PI,A=t?0:.5;O$1[0]=A*Math.sin(g),O$1[1]=A*-Math.cos(g),O$1[2]=p<=2?.5:-.5;for(let t=0;t<3;t++)o[l++]=O$1[t],s[c++]=n?2===t?p<=1?1:-1:0:2===t?0:O$1[t]/A;a[f++]=(v+(t?.5:0))/r,a[f++]=p<=1?1*p/3:p<=3?1*(p-2)/3+1/3:1*(p-4)/3+2/3,m||0===p||v===r||(p!==e&&(i[u++]=h,i[u++]=h+1,i[u++]=h-r),1!==p&&(i[u++]=h,i[u++]=h-r,i[u++]=h-r-1)),h++;}}return {position:o,normal:s,uv:a,faces:i}}function p(t,e){const r="number"==typeof e?e:null!=e?e.width:1,n="number"==typeof e?e:null!=e?e.height:1;switch(t){case"up":case"down":return {width:r,depth:n};case"north":case"south":return {width:r,height:n};case"east":case"west":return {depth:r,height:n}}}function m(t){const e=A.facingAxisOrderSwap[t],r=A.position,n=A.normal,o=new Float64Array(r.length),s=new Float32Array(n.length);let a=0;for(let i=0;i<4;i++){const t=a;for(let i=0;i<3;i++){const l=e[i],c=Math.abs(l)-1,f=l>=0?1:-1;o[a]=r[t+c]*f,s[a]=n[t+c]*f,a++;}}return {position:o,normal:s,uv:new Float32Array(A.uv),faces:new Uint32Array(A.faces),isPlane:!0}}const w=1,v=2,g=3,A={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[g,w,v],west:[-g,-w,v],north:[-w,g,v],south:[w,-g,v],up:[w,v,g],down:[w,-v,-g]}};function x(t,e,r){t.isPlane||y(t),M$1(t,d(r?.size,r?.unit,e.spatialReference));const n=s$4(e,r),l$1=e.spatialReference.isGeographic?s$4(e):n,c=M$2({vertexAttributes:t,vertexSpace:l$1,spatialReference:e.spatialReference},n,{allowBufferReuse:!0});return {vertexAttributes:new l({...c,uv:t.uv}),vertexSpace:n,components:[new h$4({faces:t.faces,material:r?.material||null})],spatialReference:e.spatialReference}}function y(t){for(let e=0;e<t.position.length;e+=3)t.position[e+2]+=.5;}function d(t,e,r){const n=X$3(e,r);if(null==t&&1===n)return null;if(null==t)return [n,n,n];if("number"==typeof t){const e=t*n;return [e,e,e]}return [null!=t.width?t.width*n:n,null!=t.depth?t.depth*n:n,null!=t.height?t.height*n:n]}function M$1(t,n){if(null!=n){S[0]=n[0],S[4]=n[1],S[8]=n[2];for(let r=0;r<t.position.length;r+=3){for(let e=0;e<3;e++)O$1[e]=t.position[r+e];S$2(O$1,O$1,S);for(let e=0;e<3;e++)t.position[r+e]=O$1[e];}if(n[0]!==n[1]||n[1]!==n[2]){S[0]=1/n[0],S[4]=1/n[1],S[8]=1/n[2];for(let n=0;n<t.normal.length;n+=3){for(let e=0;e<3;e++)O$1[e]=t.normal[n+e];S$2(O$1,O$1,S),z$1(O$1,O$1);for(let e=0;e<3;e++)t.normal[n+e]=O$1[e];}}}}const F={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},b={south:0,east:1,north:2,west:3,up:4,down:5},O$1=n$5(),S=e$6();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
const O=()=>n$3.getLogger("esri.geometry.support.meshUtils.rotate");function B(t$1,e,r){if(!t$1.vertexAttributes?.position||0===e[3])return;const{spatialReference:o,vertexSpace:i}=t$1,n=r?.origin??t$1.anchor,s=r?.geographic,a=t(O,i,o,s);g$7(t$1)?G(t$1,e,n):a?H$1(t$1,e,n):I(t$1,e,n);}function G(t,e,r){t.transform??=new N$2;const{vertexSpace:l,transform:c,spatialReference:f}=t,[g,x,A]=l.origin,R=new _$1({x:g,y:x,z:A,spatialReference:f}),d=K$1;if(R.equals(r))o$2(d,0,0,0);else if(!N$3(d,r,t))return void S$1(O(),r.spatialReference,f,L$2);I$1(Z,y$4(e),A$2(e));const y=D$2(N,Z,l$2,_,d),{localMatrix:U}=c,q=c$9(N,y,U);c.scale=O$2(n$5(),q),f$6(q,q,y$5(K$1,c.scale));const z=c.rotationAxis;c.rotation=k$1(q),0===c.rotationAngle&&(c.rotationAxis=z),c.translation=I$2(n$5(),q);}function H$1(t,r,o){const i=t.spatialReference,n=a$a(i),s=Y$1;if(!c$7(o,s,n)&&(S$1(O(),o.spatialReference,n,"Falling back to mesh origin"),!c$7(t.origin,s,n)))return void S$1(O(),t.origin.spatialReference,n);const a=t.vertexAttributes.position,l=t.vertexAttributes.normal,c=t.vertexAttributes.tangent,m=new Float64Array(a.length),f=null!=l?new Float32Array(l.length):null,p=null!=c?new Float32Array(c.length):null;u$c(n,s,W,n),n$6(X$1,W);const u=Q$1;S$2(y$4(Q$1),y$4(r),X$1),u[3]=r[3],w$4(a,i,m)&&(null==l||null==f||v$3(l,a,m,i,f))&&(null==c||null==p||Y$2(c,a,m,i,p))?(J$1(m,u,3,s),G$2(m,a,i)&&(null==l||null==f||(J$1(f,u,3),k$2(f,a,m,i,l)))&&(null==c||null==p||(J$1(p,u,4),q$1(p,a,m,i,c)))?t.vertexAttributesChanged():S$1(O(),n,i)):S$1(O(),i,n);}function I(t,e,r){const o=Y$1;if(!c$7(r,o,t.spatialReference)){const e=t.origin;return o[0]=e.x,o[1]=e.y,o[2]=e.z,void S$1(O(),r.spatialReference,t.spatialReference,L$2)}J$1(t.vertexAttributes.position,e,3,o),J$1(t.vertexAttributes.normal,e,3),J$1(t.vertexAttributes.tangent,e,4),t.vertexAttributesChanged();}function J$1(t,e,r,o=l$2){if(null!=t){p$6(W,A$2(e),y$4(e));for(let e=0;e<t.length;e+=r){for(let r=0;r<3;r++)K$1[r]=t[e+r]-o[r];O$3(K$1,K$1,W);for(let r=0;r<3;r++)t[e+r]=K$1[r]+o[r];}}}const K$1=n$5(),N=e$7(),Q$1=b$3(),W=e$7(),X$1=e$6(),Y$1=n$5(),Z=e$8();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
const k=()=>n$3.getLogger("esri.geometry.support.meshUtils.scale");function q(e,t$1,r){if(!e.vertexAttributes?.position)return;const{vertexSpace:o,spatialReference:i}=e,n=r?.origin??e.anchor,s=r?.geographic,a=t(k,o,i,s);g$7(e)?z(e,t$1,n):a?L(e,t$1,n):M(e,t$1,n);}function z(e,s,f){e.transform??=new N$2;const{vertexSpace:g,transform:x,spatialReference:h}=e,[A,d,y]=g.origin,w=new _$1({x:A,y:d,z:y,spatialReference:h}),F=T;if(w.equals(f))o$2(F,0,0,0);else if(!N$3(F,f,e))return void S$1(k(),f.spatialReference,h,L$2);const S=o$2(V,s,s,s),U=D$2(D,o$3,l$2,S,F),{localMatrix:q}=x,z=c$9(D,U,q);x.scale=O$2(n$5(),z),f$6(z,z,y$5(T,x.scale));const L=x.rotationAxis;x.rotation=k$1(z),0===x.rotationAngle&&(x.rotationAxis=L),x.translation=I$2(n$5(),z);}function L(e,t,r){const o=e.spatialReference,i=a$a(o),n=E;if(!c$7(r,n,i)&&(S$1(k(),r.spatialReference,i,"Falling back to mesh origin"),!c$7(e.origin,n,i)))return void S$1(k(),e.origin.spatialReference,i);const s=e.vertexAttributes.position,a=e.vertexAttributes.normal,l=e.vertexAttributes.tangent,c=new Float64Array(s.length),f=null!=a?new Float32Array(a.length):null,m=null!=l?new Float32Array(l.length):null;w$4(s,o,c)&&(null==a||null==f||v$3(a,s,c,o,f))&&(null==l||null==m||Y$2(l,s,c,o,m))?(P(c,t,n),G$2(c,s,o)&&(null==a||null==f||k$2(f,s,c,o,a))&&(null==l||null==m||q$1(m,s,c,o,l))?e.vertexAttributesChanged():S$1(k(),i,o)):S$1(k(),o,i);}function M(e,t,r){const o=E;if(!c$7(r,o,e.spatialReference)){const t=e.origin;return o[0]=t.x,o[1]=t.y,o[2]=t.z,void S$1(k(),r.spatialReference,e.spatialReference,L$2)}P(e.vertexAttributes.position,t,o),e.vertexAttributesChanged();}function P(e,t,r=l$2){if(e)for(let o=0;o<e.length;o+=3){for(let t=0;t<3;t++)T[t]=e[o+t]-r[t];g$8(T,T,t);for(let t=0;t<3;t++)e[o+t]=T[t]+r[t];}}const T=n$5(),V=n$5(),D=e$7(),E=n$5();

var H;const K="esri.geometry.Mesh";function J(){return n$3.getLogger(K)}const Q={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:i$5,local:a$9}};let X=H=class extends(m$6.LoadableMixin(n$7(n$8))){constructor(e){super(e),this.components=null,this.vertexSpace=new i$5,this.transform=null,this.metadata=new a,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new l,this.type="mesh";}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when((()=>{this.addHandles(d$3((()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map((e=>e.clone()))})),(()=>this._clearSources()),{once:!0,sync:!0}));}));}get hasExtent(){return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=this.metadata.displaySource?.extent}get _transformedExtent(){const{components:e,spatialReference:t,vertexAttributes:r,vertexSpace:o$1}=this,s=r.position;if(0===s.length||e&&0===e.length)return new w$3({xmin:0,ymin:0,zmin:0,xmax:0,ymax:0,zmax:0,spatialReference:t});if(a$8(o$1)){const{_untransformedBounds:e,transform:r}=this;return o(e,r,o$1,t)}return N$1(s,t)}get _untransformedBounds(){return m$2(this.vertexAttributes.position)}get anchor(){const e=u$d(this.vertexSpace,this.spatialReference);if(null!=e)return e;const{center:t,zmin:r}=this._transformedExtent;return new _$1({x:t.x,y:t.y,z:r,spatialReference:this.spatialReference})}get origin(){const e=u$d(this.vertexSpace,this.spatialReference);return null!=e?e:this._transformedExtent.center}get extent(){return this.loaded||null==this.metadata?.displaySource?.extent?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(e){this._checkIfLoaded("addComponent()")&&(this.components||(this.components=[]),this.components.push(h$4.from(e)),this.notifyChange("components"));}removeComponent(e){if(this._checkIfLoaded("removeComponent()")){if(this.components){const t=this.components.indexOf(e);if(-1!==t)return this.components.splice(t,1),void this.notifyChange("components")}J().error("removeComponent()",e$1);}}rotate(e,t,r,o){return w$5(e,t,r,Y),B(this,Y,o),this}offset(e,t,r){if(!this._checkIfLoaded("offset()"))return this;const{vertexSpace:o,vertexAttributes:s}=this,n=s?.position;if(!n)return this;if(a$8(o)){const[s,n,i]=o.origin;o.origin=r$1(s+e,n+t,i+r);}else {for(let o=0;o<n.length;o+=3)n[o]+=e,n[o+1]+=t,n[o+2]+=r;this.vertexAttributesChanged();}return this}scale(e,t){return this._checkIfLoaded("scale()")?(q(this,e,t),this):this}centerAt(e,t){return this._checkIfLoaded("centerAt()")?(u$2(this,e,t),this):this}load(e){const{metadata:{displaySource:t}}=this;return t&&this.addResolvingPromise(c$1(this,t,e)),Promise.resolve(this)}addExternalSources(e){this.metadata.externalSources.addMany(e);}updateDisplaySource(e){this.metadata.displaySource=e;}clone(){return this.cloneAndModifyVertexAttributes(this.vertexAttributes.clone(),this.vertexSpace.clone())}cloneAndModifyVertexAttributes(e,t){let r=null;if(this.components){const e=new Map,t=new Map;r=this.components.map((r=>r.cloneWithDeduplication(e,t)));}const o={components:r,spatialReference:this.spatialReference,vertexAttributes:e,vertexSpace:t,transform:this.transform?.clone()??null,metadata:this.metadata.clone()};return new H(o)}cloneShallow(){return new H({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes");}async toBinaryGLTF(e){const[{toBinaryGLTF:t}]=await Promise.all([__vitePreload(() => import('./gltfexport-BkjWcL3a.js'),true?__vite__mapDeps([30,1,2,3,15,4,16,20,13,21,22,6,7,9,23,24,8,10,14,17,18,25,26,5,27,19,28,29]):void 0,import.meta.url),this.load(e)]);return s$3(e),await t(this,e)}get memoryUsage(){let e=0;if(e+=this.vertexAttributes.memoryUsage,null!=this.components)for(const t of this.components)e+=t.memoryUsage;return e}_clearSources(){this.metadata.clearSources();}_checkIfLoaded(e){return !!this.loaded||(J().error(e,t$1),!1)}static createBox(e,t){if(!(e instanceof _$1))return J().error(".createBox()",s),null;const r=new H(x(c(),e,t));return t?.imageFace&&"all"!==t.imageFace?f(r,t.imageFace):r}static createSphere(e,t){return e instanceof _$1?new H(x(u(t?.densificationFactor||0),e,t)):(J().error(".createSphere()",s),null)}static createCylinder(e,t){return e instanceof _$1?new H(x(h(t?.densificationFactor||0),e,t)):(J().error(".createCylinder()",s),null)}static createPlane(e,t){if(!(e instanceof _$1))return J().error(".createPlane()",s),null;const r=t?.facing??"up",o=p(r,t?.size);return new H(x(m(r),e,{...t,size:o}))}static createFromPolygon(e,t){if(!(e instanceof j$2))return J().error(".createFromPolygon()",n),null;const r=f$2(e);return new H({vertexAttributes:new l({position:r.position}),components:[new h$4({faces:r.faces,shading:"flat",material:t?.material??null})],spatialReference:e.spatialReference,vertexSpace:new i$5})}static async createFromGLTF(e,t,r){if(!(e instanceof _$1)){const e=new i$1;throw J().error(".createfromGLTF()",e.message),e}const{loadGLTFMesh:o}=await h$8(__vitePreload(() => import('./loadGLTFMesh-ClZyqYjH.js'),true?__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]):void 0,import.meta.url),r);return new H(await o(e,t,r))}static async createFromFiles(e,o,s){t$4(J(),"`Mesh.createFromFiles` is deprecated in favor of 'SceneLayer.convertMesh'",{replacement:"SceneLayer.convertMesh",version:"4.29"});const n=e=>J().error(".createFromFiles()",e.message);if(!(e instanceof _$1)){const e=new i$1;throw n(e),e}if(!s?.layer)throw new s$2("invalid:no-layer","SceneLayer required for file to mesh conversion.");return s.layer.convertMesh(o,{location:e,...s})}static createWithExternalSource(e,t,r){const o=r?.extent??null,{spatialReference:s}=e,n=r?.transform?.clone()??new N$2,i=s$4(e,r),a$1={source:t,extent:o},c=new a;return c.externalSources.push(a$1),new H({metadata:c,transform:n,vertexSpace:i,spatialReference:s})}static createIncomplete(e,t){const{spatialReference:o}=e,s=t?.transform?.clone()??new N$2,n=s$4(e,t),i=new H({transform:s,vertexSpace:n,spatialReference:o});return i.addResolvingPromise(Promise.reject(new s$2("mesh-incomplete","Mesh resources are not complete"))),i}};e$2([y$2({type:[h$4],json:{write:!0}})],X.prototype,"components",void 0),e$2([y$2({nonNullable:!0,types:Q,constructOnly:!0,json:{write:!0}})],X.prototype,"vertexSpace",void 0),e$2([y$2({type:N$2,json:{write:!0}})],X.prototype,"transform",void 0),e$2([y$2({constructOnly:!0})],X.prototype,"metadata",void 0),e$2([y$2()],X.prototype,"hasExtent",null),e$2([y$2()],X.prototype,"_transformedExtent",null),e$2([y$2()],X.prototype,"_untransformedBounds",null),e$2([y$2()],X.prototype,"anchor",null),e$2([y$2()],X.prototype,"origin",null),e$2([y$2({readOnly:!0,json:{read:!1}})],X.prototype,"extent",null),e$2([y$2({readOnly:!0,json:{read:!1,write:!0,default:!0}})],X.prototype,"hasZ",void 0),e$2([y$2({readOnly:!0,json:{read:!1,write:!0,default:!1}})],X.prototype,"hasM",void 0),e$2([y$2({type:l,nonNullable:!0,json:{write:!0}})],X.prototype,"vertexAttributes",void 0),X=H=e$2([a$3(K)],X);const Y=b$3(),$=X;

export { $, c$3 as c, h$4 as h, m$3 as m, w$2 as w };
