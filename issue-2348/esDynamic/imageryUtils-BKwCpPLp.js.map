{"version":3,"file":"imageryUtils-BKwCpPLp.js","sources":["../../node_modules/@arcgis/core/layers/save/imageryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as i,addTypeKeyword as s}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",y=\"imagery-layer-save\",n=\"imagery-layer-save-as\",o=\"imagery-tile-layer-save\",m=\"imagery-tile-layer-save-as\";function c(e){if(\"imagery\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function p(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function u(e,t){const{parsedUrl:l,title:y,fullExtent:n}=e;t.url=l.path,t.title||=y;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,i.METADATA),\"imagery-tile\"===e.type&&s(t,i.TILED_IMAGERY)}async function g(t,r){const a=\"imagery\"===t.type?y:o;return e({layer:t,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:a},r)}async function v(e,r,a){const i=\"imagery\"===e.type?n:m;return t({layer:e,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:i,newItem:r,setItemProperties:u},a)}export{g as save,v as saveAs};\n"],"names":["l","y","n","o","m","c","e","t","r","p","u","a","i","s","g","v"],"mappings":";;AAI0L,MAAMA,IAAE,iBAAgBC,IAAE,sBAAqBC,IAAE,yBAAwBC,IAAE,2BAA0BC,IAAE;AAA6B,SAASC,EAAEC,GAAE;AAAC,MAAeA,EAAE,SAAd,UAAmB,QAAM,EAAC,SAAQ,GAAE;AAAE,QAAK,EAAC,QAAOC,EAAC,IAAED,GAAEE,IAAeD,GAAG,kBAAhB,aAA8BA,EAAE,gBAAgB,QAAQ,CAAC,IAAEA;AAAE,SAAM,EAAC,SAA6BC,GAAG,kBAAxB,uBAAmDA,EAAE,aAAb,YAA+BA,EAAE,aAAV,QAAoB,cAAa,mEAAkE;AAAC;AAAC,SAASC,EAAEH,GAAE;AAAC,QAAMC,IAAED,EAAE;AAAU,SAAO,QAAQ,QAAQC,KAAG,OAAO,KAAKA,CAAC,EAAE,SAAOA,IAAE,IAAI;AAAC;AAAC,eAAeG,EAAEJ,GAAEC,GAAE;AAAC,QAAK,EAAC,WAAUP,GAAE,OAAMC,GAAE,YAAW,EAAC,IAAEK;AAAE,EAAAC,EAAE,MAAIP,EAAE,MAAKO,EAAE,UAAQN;AAAE,MAAG;AAAC,IAAAM,EAAE,SAAO,MAAMC,EAAE,CAAC;AAAA,EAAC,QAAM;AAAC,IAAAD,EAAE,SAAO;AAAA,EAAM;AAAC,EAAAI,EAAEJ,GAAEK,EAAE,QAAQ,GAAmBN,EAAE,SAAnB,kBAAyBO,EAAEN,GAAEK,EAAE,aAAa;AAAC;AAAC,eAAeE,EAAEP,GAAEC,GAAE;AAAC,QAAM,IAAcD,EAAE,SAAd,YAAmBN,IAAEE;AAAE,SAAOG,EAAE,EAAC,OAAMC,GAAE,UAASP,GAAE,eAAcK,GAAE,gBAAeI,GAAE,iBAAgB,EAAC,GAAED,CAAC;AAAC;AAAC,eAAeO,EAAET,GAAEE,GAAE,GAAE;AAAC,QAAMI,IAAcN,EAAE,SAAd,YAAmBJ,IAAEE;AAAE,SAAOG,EAAE,EAAC,OAAMD,GAAE,UAASN,GAAE,eAAcK,GAAE,gBAAeI,GAAE,iBAAgBG,GAAE,SAAQJ,GAAE,mBAAkBE,EAAC,GAAE,CAAC;AAAC;","x_google_ignoreList":[0]}