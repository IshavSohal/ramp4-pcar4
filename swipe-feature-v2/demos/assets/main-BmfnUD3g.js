const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-vLCBzJmy.js","./preload-helper-ExcqyqRp.js","./IdentityManager-DoTsaDID.js","./jsxFactory-B5lY7UlG.js","./uuid-Cl5lrJ4c.js","./themeUtils-C3zvZbsE.js","./substitute-DdNuGcv1.js","./pe-wasm-Bm91CMb3.js","./_commonjsHelpers-DCkdB7M8.js","./WhereClause-CtY7pA7e.js","./TimeOnly-jU36UpCS.js","./UnknownTimeZone-DbA_8TWt.js","./arcadeUtils-D-grf8Pi.js","./languageUtils-CFDvVmjQ.js","./ImmutableArray-BPVd6ESQ.js","./shared-BdlRNkAA.js","./Field-DCSagnNK.js","./fieldType-C_aXdwDr.js","./number-CGSEfa_K.js","./Query-C17ZsKZm.js","./TimeExtent-Dtq5nncN.js","./featureConversionUtils-CKUUAutM.js","./OptimizedFeature-CIptWNVu.js","./OptimizedFeatureSet-Blu9Ckm7.js","./FieldsIndex-B4I-zMIH.js","./PortalItem-DejdcV5B.js","./Basemap-xrbvSmkw.js","./loadAll-CDIDzB34.js","./writeUtils-58zi3nH1.js","./ElevationLayer-DTZMGeFw.js","./MultiOriginJSONSupport-BCzazlYB.js","./HeightModelInfo-BHffBfn5.js","./Layer-D2QRdFNK.js","./ArcGISCachedService-CoX1Za89.js","./TileInfo-DfgpKJja.js","./TileKey-DZd6gJy7.js","./TileInfoTilemapCache-D7v-SvvJ.js","./TilemapCache-BHL9Hpyy.js","./ByteSizeUnit-BsxeN7wM.js","./LRUCache-fyiuEhBh.js","./ArcGISService-BuKCGJbV.js","./arcgisLayerUrl-BSIzazOi.js","./OperationalLayer-E1J9LCpQ.js","./commonProperties-DfNwvgwQ.js","./ElevationInfo-D-D7ZpiZ.js","./lengthUtils-7USZCmmw.js","./PortalLayer-BGssmdEZ.js","./portalItemUtils-CvelWCc3.js","./projection-CbejALnF.js","./projectBuffer-BZgUONQQ.js","./workers-B8hP9G_c.js","./webStyleSymbolUtils-DLko8_Aa.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-DNg90Vb8.js","./Map-DRrvE4lr.js","./compilerUtils-CkBtCXnu.js","./CollectionFlattener-BIDo5PzX.js","./mat4f32-DcsiF_Rp.js","./mat4-CRJqZhkC.js","./common-DQOJ18NT.js","./TablesMixin-C9r72hrf.js","./MapView-BBnK-fvu.js","./Cyclical-DoCvFFKZ.js","./UpdatingHandles-v-gs74oz.js","./signal-TyIcU-8l.js","./GraphicsCollection-C9a77t8K.js","./ReactiveMap-D_sR4R5o.js","./ViewingMode-HRfKv6NR.js","./vec2f64-B7N_6o8F.js","./vec2-DGVIkCvT.js","./Tile-CU8waRCz.js","./TileKey-CY_Rvqvf.js","./QueueProcessor-b8okjSk6.js","./quickselect-QQC62dOK.js","./normalizeUtils-C72bTOCg.js","./normalizeUtilsCommon-Bro4jizJ.js","./utils-DGzLhnf6.js","./utils-BQdCGHRG.js","./mat3-XZDRtl20.js","./vec2f32-BbH2jxlN.js","./unitBezier-BX6NeAEr.js","./Scheduler--OJChNt8.js","./vec32-D_bAuRQ1.js","./definitions-C0Jy3zs7.js","./enums-Dk3osxpS.js","./Texture-DXpke67d.js","./imageUtils-tCtpFt6h.js","./capabilities-A2uoe7dc.js","./globalCss-CZa70j6i.js","./Version-CKYX5zGH.js","./ColorBackground-DgVPtf2n.js","./FeatureLayer-Cw7eIcQ2.js","./UniqueValueRenderer-C175jEWj.js","./RendererLegendOptions-BxN9QvLA.js","./diffUtils-BP7Naba7.js","./colorRamps-DkG8fDLZ.js","./sizeVariableUtils-Cmcuvw-4.js","./visualVariableUtils-CCMtSSuM.js","./jsonUtils-BgYi8lX8.js","./OverrideHelper-CRbdG-G2.js","./colorUtils-CRW8kTEL.js","./vec42-CKs01hkn.js","./vec4f64-CMoMXWBi.js","./utils-QWndGYJy.js","./enums-CmIX1y88.js","./quantizationUtils-D5p4I9RK.js","./heatmapUtils-BmbFqBs7.js","./FeatureLayerBase-CxrpQrIl.js","./featureLayerUtils-DQEcgwJF.js","./RelationshipQuery-DqHzA9J9.js","./LayerFloorInfo-DaZR5UIZ.js","./Relationship-BLy-qdKa.js","./serviceCapabilitiesUtils-qG3ju46I.js","./editsZScale-CXPkOblZ.js","./queryZScale-B5xV0JP9.js","./FeatureSet-CEgGjrYI.js","./APIKeyMixin-Dbeu9B4c.js","./BlendLayer-DVSQ10E0.js","./jsonUtils-DpvrCUQ8.js","./parser-CMHNXkU2.js","./CustomParametersMixin-Cf2_c840.js","./EditBusLayer-BAzVr2w6.js","./FeatureEffectLayer-DmZZhPkD.js","./FeatureEffect-D4Kb6hM4.js","./FeatureFilter-BfeN6fYi.js","./FeatureReductionLayer-LC8WIRWi.js","./FeatureReductionSelection-BZvn6Dxj.js","./labelingInfo-D3SnM_MU.js","./labelUtils-Cd9RUie5.js","./MD5-C9MwAd2G.js","./OrderedLayer-CrrHzcsP.js","./OrderByInfo-CYLYnb__.js","./RefreshableLayer-CjvrPUG-.js","./ScaleRangeLayer-BJyXLQNz.js","./TemporalLayer-BlorrnuY.js","./TimeInfo-BTZUuQZg.js","./FeatureTemplate-Dr2QZ_Wb.js","./FeatureType-D4vtvWnD.js","./fieldProperties-BwAtD--O.js","./versionUtils-D_RJXH8z.js","./styleUtils-C59r5xK-.js","./popupUtils-2-HRgdHv.js","./AlphaCutoff-UcccL64p.js","./interfaces-CL2NbQte.js","./GraphicsLayer-BPzwT5us.js","./ImageryLayer-BixhsSn4.js","./RasterPresetRendererMixin-DRICuxFZ.js","./multidimensionalUtils-Dse-TTe3.js","./dataUtils-Bc5gsvEa.js","./RasterSymbolizer-BFDuYNjw.js","./ClassBreaksDefinition-_GDcJNv4.js","./utils-B50WlorG.js","./cimSymbolUtils-BJRcd6w_.js","./imageBitmapUtils-Btz5TfxJ.js","./executeForIds-C_y4jB0J.js","./query-Svdugr8k.js","./pbfQueryUtils-h17FG0rG.js","./pbf-DG6LT8qc.js","./executeQueryJSON-DYqovK5d.js","./MapImageLayer-BPcHv4eh.js","./scaleUtils-BxIV_K8g.js","./SublayersOwner-TzDxStKy.js","./QueryTask-BhEzkc4I.js","./infoFor3D-_5f2f6Um.js","./executeQueryPBF-DHB-a-yl.js","./sublayerUtils-D4hL0SoN.js","./ExportImageParameters-BJwnkkRX.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-D8upPI9k.js","./WebTileLayer-BrFeZKnV.js","./TileLayer-D2QtIbE4.js","./WMSLayer-CmJLrOKF.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-Bba5m_VS.js","./query-opDbTUSl.js","./AttachmentInfo-kRB0Dar2.js","./executeBinsQuery-DscZkNoU.js","./BinsQuery-Bi6_nXh_.js","./queryUtils-oSTSC5lL.js","./json-Wa8cmqdu.js","./executeRelationshipQuery-BETNmhI-.js","./executeTopFeaturesQuery-RT0LGmwa.js","./queryTopFeatures-DCCxYA5A.js","./TopFeaturesQuery-Bd86R4mx.js","./executeForTopIds-Cnrc1bqM.js","./executeForTopExtents-BGLl2yeI.js","./executeForTopCount-urE71JWv.js","./Swipe-BdCJ-Cxy.js","./legacyIcon-CEIp6Pa9.js","./ClipRect-CtFIJh3n.js","./shp.min-Csyc3qLL.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-elaiu8ST.js","./index-BY9fiDmf.js","./index-C0BV8b1p.css","./index-2i2awyIX.js","./screen.vue_vue_type_script_setup_true_lang-BI0YXaPK.js","./screen-Cea9pofX.css","./index-Q3paRp7j.js","./index-eL9L9sAf.js","./index-1X12IJY7.css","./index-DLsXHvHW.js","./hilight-defs-CqXQYtIh.js","./index-DIE0ISMy.js","./fabric-DVykLQ2Y.js","./index-DVaigdGI.js","./index-CrOkUrE6.js","./index-C_lSuvZA.js","./index-C1dzdsF_.js","./index-DLVqd0I3.js","./index-DmGviBAM.js","./index-DV1QVtKL.js","./screen.vue_vue_type_script_setup_true_lang-fWi9yQzw.js","./index-BNOX-5iT.js","./index-BT3166gB.js","./index-CT7oF54Y.js","./index-RCeY23kX.js","./table-state-manager-BeyhKYxv.js","./index-DmEJZkku.js","./index-CvJOUTMa.js","./index-D3JjGrAr.js","./index-BQ5LdZM1.js","./index-DfBQGUHv.js","./index-CTZ1kO0r.css","./index-BdL8xl4z.js","./index-BC_Kq5GW.js","./index-B49TqOJy.js","./index-C1UMDyxT.css","./index-CpACb_fY.js","./index-CtGaC30W.css","./index-BlTrGFVy.js","./index-Dti23dwS.css","./index-CMTawZvD.js","./index-CIj3Nh7k.js","./index-CCSN2t4y.js","./index-OP-N97KH.css","./index-H48bzH9o.js","./screen-DTfA3rSk.js","./screen-Di-1OKjp.js","./screen-B_KOI8ka.css","./screen-H_pAyzbR.js","./screen-fjXoUbCt.js","./screen-CwbtZ41W.css","./screen-DH1Uv4lT.js","./screen-Dfw8X_y6.css","./screen-BKOOZEcN.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-CQrCgh2Y.js","./vue.esm-bundler-BZevFZZU.js","./screen-DH2W8SRu.css","./screen-C6VgJQcD.js","./screen-Dx1ZXHzb.js","./screen-CkXxljnt.css","./screen-B5zq0wPe.js","./toggle-switch-control-DZDcBvB6.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-C5NYwFrU.js","./screen-BYyOI6eq.css"])))=>i.map(i=>d[i]);
import{_ as we}from"./preload-helper-ExcqyqRp.js";var Uo=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Uo||{}),Mo=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(Mo||{}),zi=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(zi||{}),FO=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(FO||{}),UO=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(UO||{}),jO=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(jO||{}),Ze=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ze||{}),v1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(v1||{}),ke=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(ke||{}),wn=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(wn||{}),ni=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(ni||{}),hr=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(hr||{}),Fr=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Fr||{}),er=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(er||{}),dr=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(dr||{}),Ji=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(Ji||{}),ah=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(ah||{}),Pi=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Pi||{}),yr=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(yr||{});class vs{attributes;geometry;style;id;constructor(t,r,i){this.geometry=t,r?this.id=r:this.id=Th.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const Uy={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function x7(e){return!!Uy[e]||!!Uy[e.toLowerCase()]}function GO(e){return Uy[e]??Uy[e.toLowerCase()]}function Ade(e){return[...GO(e)]}function Hv(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function E7(e,t,r,i=1){const n=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*Hv(o,s,n+1/3)),Math.round(255*Hv(o,s,n)),Math.round(255*Hv(o,s,n-1/3)),i]}function Mde(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,n=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=r,a[3]=n*l/255),l=o&i,o>>=r,a[2]=n*l,l=o&i,o>>=r,a[1]=n*l,l=o&i,o>>=r,a[0]=n*l,a}const bT=new Float32Array(1);function Ide(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function b1(e,t,r){return Math.min(Math.max(e,t),r)}function Ode(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function T7(e,t,r){return e+(t-e)*r}function Cde(e,t,r,i,n){return T7(i,n,(e-t)/(r-t))}function $de(e){return e*Math.PI/180}function Nde(e){return 180*e/Math.PI}function Pde(e){return Math.acos(b1(e,-1,1))}function Lde(e){return Math.asin(b1(e,-1,1))}function Yv(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const jy=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function a_(e){return jy.setFloat64(0,e),jy.getBigInt64(0)}function A7(e){return jy.setBigInt64(0,e),jy.getFloat64(0)}const R0=BigInt("1000000"),M7=BO(1);function BO(e){const t=a_(e=Math.abs(e)),r=A7(t<=R0?R0:t-R0);return Math.abs(e-r)}function kde(e,t,r=M7){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&BO(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const i=a_(e),n=a_(t);return i<0!=n<0?!1:!((i<n?n-i:i-n)>R0)}function Rde(e){return VO(Math.max(-_T,Math.min(e,_T)))}function VO(e){return bT[0]=e,bT[0]}function Dde(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Yv(t,1)&&Yv(r,1)&&Yv(i,1))}const _T=VO(34028234663852886e22);function Fde(e,t,r){if(r===void 0||+r==0)return Math[e](t);if(t=+t,r=+r,isNaN(t)||typeof r!="number"||r%1!=0)return NaN;let i=t.toString().split("e");return i=(t=Math[e](+(i[0]+"e"+(i[1]?+i[1]-r:-r)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+r:r))}let Ya;function fe(e){return typeof Ya[e]=="function"?Ya[e]=Ya[e](globalThis):Ya[e]}Ya=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},fe.add=(e,t,r,i)=>{(i||Ya[e]===void 0)&&(Ya[e]=t),r&&fe(e)},fe.cache=Ya,fe.add("big-integer-warning-enabled",!0),fe.add("esri-deprecation-warnings",!0),fe.add("esri-tests-disable-screenshots",!1),fe.add("esri-tests-use-full-window",!1),fe.add("esri-tests-post-to-influx",!0),fe.add("esri-cim-animations-enable-status","enabled"),fe.add("esri-cim-animations-spotlight",!1),fe.add("esri-cim-animations-freeze-time",!1),fe.add("enable-feature:multiple-highlights",!1),(()=>{fe.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(fe.add("host-browser",e),fe.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),fe.add("dom",e),fe("host-browser")){const t=navigator,r=t.userAgent,i=t.appVersion,n=parseFloat(i);if(fe.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),fe.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),fe.add("khtml",i.includes("Konqueror")?n:void 0),fe.add("edge",parseFloat(r.split("Edge/")[1])||void 0),fe.add("opr",parseFloat(r.split("OPR/")[1])||void 0),fe.add("webkit",!fe("wp")&&!fe("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),fe.add("chrome",!fe("edge")&&!fe("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),fe.add("android",!fe("wp")&&parseFloat(r.split("Android ")[1])||void 0),fe.add("safari",!i.includes("Safari")||fe("wp")||fe("chrome")||fe("android")||fe("edge")||fe("opr")?void 0:parseFloat(i.split("Version/")[1])),fe.add("mac",i.includes("Macintosh")),!fe("wp")&&/(iPhone|iPod|iPad)/.test(r)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));fe.add(s,a),fe.add("ios",a)}fe("webkit")||(!r.includes("Gecko")||fe("wp")||fe("khtml")||fe("edge")||fe.add("mozilla",n),fe("mozilla")&&fe.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&fe.add("esri-mobile",t),r&&fe.add("esri-iPhone",r),fe.add("esri-geolocation",!!navigator.geolocation)}fe.add("esri-wasm","WebAssembly"in globalThis),fe.add("esri-performance-mode-frames-between-render",20),fe.add("esri-force-performance-mode",!1),fe.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),fe.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),fe.add("esri-atomics","Atomics"in globalThis),fe.add("esri-workers","Worker"in globalThis),fe.add("web-feat:cache","caches"in globalThis),fe.add("esri-workers-arraybuffer-transfer",!fe("safari")||Number(fe("safari"))>=12),fe.add("workers-pool-size",8),fe.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),fe.add("featurelayer-simplify-payload-size-factors",[1,1,4]),fe.add("featurelayer-fast-triangulation-enabled",!0),fe.add("featurelayer-animation-enabled",!0),fe.add("featurelayer-snapshot-enabled",!0),fe.add("featurelayer-snapshot-point-min-threshold",8e4),fe.add("featurelayer-snapshot-point-max-threshold",4e5),fe.add("featurelayer-snapshot-point-coverage",.1),fe.add("featurelayer-query-max-depth",4),fe.add("featurelayer-query-pausing-enabled",!1),fe.add("featurelayer-advanced-symbols",!1),fe.add("featurelayer-pbf",!0),fe.add("featurelayer-pbf-statistics",!1),fe.add("feature-layers-workers",!0),fe.add("feature-polyline-generalization-factor",1),fe.add("mapview-transitions-duration",200),fe.add("mapview-essential-goto-duration",200),fe.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),fe.add("mapserver-pbf-version-support",10.81),fe.add("mapservice-popup-identify-max-tolerance",20),fe("host-webworker")||fe("host-browser")&&(fe.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),fe.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{fe.add("esri-image-decode",!0,!0,!0)}).catch(()=>{fe.add("esri-image-decode",!1,!0,!0)})}return!1}),fe.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();let D0=class Vl{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Vl._m}getInt(){return this._seed=(Vl._a*this._seed+Vl._c)%Vl._m,this._seed}getFloat(){return this.getInt()/(Vl._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const i=r-t;return t+this.getInt()/Vl._m*i}};D0._m=2147483647,D0._a=48271,D0._c=0;const I7=1.5,Ude=1/I7,jde=.5;function Gde(e,t){return t?e.filter((r,i,n)=>n.findIndex(t.bind(null,r))===i):Array.from(new Set(e))}function _1(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function Bde(e,t,r){let i,n;return r?(i=t.filter(s=>!e.some(o=>r(o,s))),n=e.filter(s=>!t.some(o=>r(o,s)))):(i=t.filter(s=>!e.includes(s)),n=e.filter(s=>!t.includes(s))),{added:i,removed:n}}function Vde(e){return e&&typeof e.length=="number"}let zO=class{constructor(){this.last=0}};const qO=new zO;function l_(e,t,r,i){i=i||qO;const n=Math.max(0,i.last-10);for(let o=n;o<r;++o)if(e[o]===t)return i.last=o,o;const s=Math.min(n,r);for(let o=0;o<s;++o)if(e[o]===t)return i.last=o,o;return-1}function qde(e,t,r,i){const n=e.length,s=l_(e,t,n,i);if(s!==-1)return e[s]=e[n-1],e.pop(),t}const Jn=new Set;function O7(e,t,r=e.length,i=t.length,n,s){if(i===0||r===0)return r;Jn.clear();for(let a=0;a<i;++a)Jn.add(t[a]);n=n||qO;const o=Math.max(0,n.last-10);for(let a=o;a<r;++a)if(Jn.has(e[a])&&(s?.push(e[a]),Jn.delete(e[a]),e[a]=e[r-1],--r,--a,Jn.size===0||r===0))return Jn.clear(),r;for(let a=0;a<o;++a)if(Jn.has(e[a])&&(s?.push(e[a]),Jn.delete(e[a]),e[a]=e[r-1],--r,--a,Jn.size===0||r===0))return Jn.clear(),r;return Jn.clear(),r}function Wde(e,t){let r=0;for(let i=0;i<e.length;++i){const n=e[i];t(n,i)&&(e[r]=n,r++)}e.length=r}function C7(e){return e?(wT.seed=e,()=>wT.getFloat()):Math.random}function Hde(e,t){const r=C7(t);for(let i=e.length-1;i>0;i--){const n=Math.floor(r()*(i+1)),s=e[i];e[i]=e[n],e[n]=s}return e}const wT=new D0;function $7(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function N7(e,t){return e!=null}function WO(e){return 32+e.length}function SS(){return 16}function Yde(e){if(!e)return 0;let t=YO;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(typeof i){case"string":t+=WO(i);break;case"number":t+=SS();break;case"boolean":t+=4}}return t}function P7(e){if(!e)return 0;if(Array.isArray(e))return L7(e);let t=YO;for(const r in e)e.hasOwnProperty(r)&&(t+=HO(e[r]));return t}function L7(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=JO;for(let i=0;i<t;i++)r+=HO(e[i]);return r}function HO(e){switch(typeof e){case"object":return P7(e);case"string":return WO(e);case"number":return SS();case"boolean":return 4;default:return 8}}function k7(e,t){return JO+e.length*t}const YO=32,JO=16;function Jde(e){return e instanceof ArrayBuffer}function xS(e){return e?.constructor?.name==="Int8Array"}function KO(e){return e?.constructor?.name==="Uint8Array"}function ZO(e){return e?.constructor?.name==="Uint8ClampedArray"}function ES(e){return e?.constructor?.name==="Int16Array"}function XO(e){return e?.constructor?.name==="Uint16Array"}function TS(e){return e?.constructor?.name==="Int32Array"}function QO(e){return e?.constructor?.name==="Uint32Array"}function w1(e){return e?.constructor?.name==="Float32Array"}function S1(e){return e?.constructor?.name==="Float64Array"}function eC(e){return!("buffer"in e)}function Kde(...e){return e.reduce((t,r)=>t+(r?eC(r)?k7(r,SS()):r.byteLength+R7:0),0)}const R7=145,tC=1024;function Zde(e){return S1(e)||w1(e)||TS(e)||ES(e)||xS(e)}function Xde(e){return S1(e)||w1(e)}function Qde(e){return S1(e)?179769e303:w1(e)?3402823e32:QO(e)?4294967295:XO(e)?65535:KO(e)||ZO(e)?255:TS(e)?2147483647:ES(e)?32767:xS(e)?127:256}function epe(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=sC(e);if(t!=null)return t;if(rC(e))return e.clone();if(iC(e))return e.map(ge);if(nC(e))return e.clone();const r={};for(const i of Object.getOwnPropertyNames(e))r[i]=ge(e[i]);return r}function c_(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=sC(e);if(t!=null)return t;if(iC(e)){let r=!0;const i=e.map(n=>{const s=c_(n);return n!=null&&s==null&&(r=!1),s});return r?i:null}if(rC(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!nC(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const i of Object.getOwnPropertyNames(e)){const n=e[i],s=c_(n);if(n!=null&&s==null)return null;r[i]=s}return r}return null}function rC(e){return typeof e.clone=="function"}function iC(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function nC(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function ST(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function sC(e){if(xS(e)||KO(e)||ZO(e)||ES(e)||XO(e)||TS(e)||QO(e)||w1(e)||S1(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,ge(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(ge(r));return t}return null}function AS(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function D7(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&_1(e,t):e instanceof Set?t instanceof Set&&U7(e,t):e instanceof Map?t instanceof Map&&j7(e,t):!!ST(e)&&ST(t)&&F7(e,t))}function F7(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function U7(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function j7(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const n=t.get(r);if(n!==i||n===void 0&&!t.has(r))return!1}return!0}function G7(e,t,r=!1){return aC(e,t,r)}function MS(e,t){if(t!=null)return t[e]||oC(e.split("."),!1,t)}function af(e,t,r){const i=e.split("."),n=i.pop(),s=oC(i,!0,r);s&&n&&(s[n]=t)}function xT(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let i=0;i<e.length;i++)if(xT(e[i],r[i]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(xT(e[r],t[r]))return!0;return!1}return e!==t}function oC(e,t,r){let i=r;for(const n of e){if(i==null)return;if(!(n in i)){if(!t)return;i[n]={}}i=i[n]}return i}function aC(e,t,r){return t?Object.keys(t).reduce((i,n)=>{let s=i[n],o=t[n];return s===o?i:s===void 0?(i[n]=ge(o),i):(Array.isArray(o)||Array.isArray(i)?(s=s?Array.isArray(s)?i[n]=s.slice():i[n]=[s]:i[n]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{s.includes(a)||s.push(a)}):i[n]=o.slice())):o&&typeof o=="object"?i[n]=aC(s,o,r):i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[n]=o),i)},e||{}):e}const Pt={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(G7(Pt,globalThis.esriConfig,!0),delete Pt.has),!Pt.assetsPath){{const e="4.31";Pt.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Pt.defaultAssetsPath=Pt.assetsPath}const B7=/\{([^}]+)\}/g;function ET(e){return e??""}function lC(e,t){return t?e.replaceAll(B7,typeof t=="object"?(r,i)=>ET(MS(i,t)):(r,i)=>ET(t(i))):e}function tpe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t?.includes(r)?r:`\\${r}`)}function cC(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let TT;function rpe(e){return TT??=new DOMParser,TT.parseFromString(e||"","text/html").body.innerText||""}function ipe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const AT={info:0,warn:1,error:2,none:3};let jt=class ln{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ln._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=ln.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,ln._loggers.get(t)||new ln({module:t})}_log(t,r,...i){if(this._matchLevel(t)){if(r!=="always"&&!ln._throttlingDisabled){const n=z7(i),s=this._loggedMessages[t].get(n);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=ln._tickCounter)return;this._loggedMessages[t].set(n,ln._tickCounter),ln._scheduleTickCounterIncrement()}for(const n of Pt.log.interceptors)if(n(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;i!=null;){const n=i[t];if(n!=null)return n;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",V7)}_matchLevel(t){const r=Pt.log.level||"warn";return AT[this._parentWithMember("level",r)]<=AT[t]}static _scheduleTickCounterIncrement(){ln._tickCounterScheduled||(ln._tickCounterScheduled=!0,Promise.resolve().then(()=>{ln._tickCounter++,ln._tickCounterScheduled=!1}))}};function V7(e,t,...r){console[e](`[${t}]`,...r)}function z7(...e){return cC(JSON.stringify(e,(r,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}jt._loggers=new Map,jt._tickCounter=0,jt._tickCounterScheduled=!1,jt._throttlingDisabled=!1;function npe(e,t){for(const r of e.values())if(t(r))return!0;return!1}function q7(e,t,r){const i=e.get(t);if(i!==void 0)return i;const n=r();return e.set(t,n),n}function spe(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const lh=()=>jt.getLogger("esri.core.accessorSupport.ensureTypes");function W7(e){return e==null?e:new Date(e)}function H7(e){return e==null?e:!!e}function Y7(e){return e==null?e:e.toString()}function x1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function IS(e){return e==null?e:Math.round(parseFloat(e))}function J7(e){return null}function K7(e,t){return r=>{let i=e(r);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function uC(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function Gy(e,t){return t!=null&&e&&!(t instanceof e)}function hC(e){return e&&"isCollection"in e}function MT(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function Z7(e,t){if(!t?.constructor||!hC(t.constructor))return u_(e,t)?t:new e(t);const r=MT(e.prototype.itemType),i=MT(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(u_(e,t),t):new e(t):t}function u_(e,t){return!!uC(t)&&(lh().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+E1(e)+"'"),!0)}function X7(e,t){return t==null?t:hC(e)?Z7(e,t):Gy(e,t)?u_(e,t)?t:new e(t):t}function E1(e){return e?.prototype?.declaredClass||"unknown"}const Q7=new WeakMap;function eD(e){switch(e){case Number:return t=>x1(t);case Gr:return IS;case Boolean:return H7;case String:return Y7;case Date:return W7;case OS:return J7;default:return q7(Q7,e,()=>X7.bind(null,e))}}function bs(e,t){const r=eD(e);return arguments.length===1?r:r(t)}function Xd(e,t,r){return arguments.length===1?Xd.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,r)):[e(t,r)])}function tD(e,t){return arguments.length===1?Xd(r=>bs(e,r)):Xd(r=>bs(e,r),t)}function fC(e,t,r){return t!==0&&Array.isArray(r)?r.map(i=>fC(e,t-1,i)):e(r)}function By(e,t,r){if(arguments.length===2)return s=>By(e,t,s);if(!r)return r;r=fC(e,t,r);let i=t,n=r;for(;i>0&&Array.isArray(n);)i--,n=n[0];if(n!==void 0)for(let s=0;s<i;s++)r=[r];return r}function rD(e,t,r){return arguments.length===2?By(i=>bs(e,i),t):By(i=>bs(e,i),t,r)}function dC(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function h_(e,t){if(arguments.length===2)return h_(e).call(null,t);const r=new Set,i=e.filter(a=>typeof a!="function"),n=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(r.has(a)||n.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&n.some(d=>!Gy(a,d))?a:(f&&i.length?(s||(s=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),lh().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&n.length?(o||(o=n.map(d=>E1(d)).join(", ")),lh().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):lh().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Cc(e,t){if(arguments.length===2)return Cc(e).call(null,t);const r={},i=[],n=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=bs(c),i.push(E1(c)),n.push(l)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${n.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Gy(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,f=r[c];if(!f)return lh().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Gy(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!uC(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return f(d)}return f(l)}}let Gr=class{},OS=class{};const lpe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function iD(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function pC(e){switch(e.type){case"native":return bs(e.value);case"array":return Xd(pC(e.value));case"one-of":return nD(e);default:return null}}function nD(e){let t=null;return(r,i)=>d_(r,e)?r:(t==null&&(t=f_(e)),lh().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function f_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Gr:return"integer";case Date:return"date";case OS:return"null";default:return E1(e.value)}case"array":return`array of ${f_(e.value)}`;case"one-of":{const t=e.values.map(r=>f_(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function d_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Gr:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case OS:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!d_(r,t.value));case"one-of":return t.values.some(r=>d_(e,r))}}function jm(e){return b1(IS(e),0,255)}function Gm(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function Bm(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}let F0=class Rr{static blendColors(t,r,i,n=new Rr){return n.r=Math.round(t.r+(r.r-t.r)*i),n.g=Math.round(t.g+(r.g-t.g)*i),n.b=Math.round(t.b+(r.b-t.b)*i),n.a=t.a+(r.a-t.a)*i,n._sanitize()}static fromRgb(t,r){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const n=i[2].split(/\s*,\s*/),s=i[1];if(s==="rgb"&&n.length===3||s==="rgba"&&n.length===4){const o=n[0];if(o.charAt(o.length-1)==="%"){const a=n.map(l=>2.56*parseFloat(l));return n.length===4&&(a[3]=parseFloat(n[3])),Rr.fromArray(a,r)}return Rr.fromArray(n.map(a=>parseFloat(a)),r)}if(s==="hsl"&&n.length===3||s==="hsla"&&n.length===4)return Rr.fromArray(E7(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),r)}return null}static fromHex(t,r=new Rr){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const i=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),s=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Rr.fromArray([i+16*i,n+16*n,s+16*s,(o+16*o)/255],r)}case 7:case 9:{const i=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Rr.fromArray([i,n,s,o/255],r)}default:return null}}static fromArray(t,r=new Rr){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const i=x7(t)?GO(t):null;return i&&Rr.fromArray(i,r)||Rr.fromRgb(t,r)||Rr.fromHex(t,r)}static fromJSON(t){return t!=null?new Rr([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Rr.fromString(t,this):Array.isArray(t)?Rr.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Rr||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=t?.capitalize??!1,i=t?.digits??6,n=i===3||i===4,s=i===4||i===8,o=`#${Bm(this.r,n)}${Bm(this.g,n)}${Bm(this.b,n)}${s?Bm(Math.round(255*this.a),n):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Rr.AlphaMode.ALWAYS){const r=jm(this.r),i=jm(this.g),n=jm(this.b);return t===Rr.AlphaMode.ALWAYS||this.a!==1?[r,i,n,jm(255*this.a)]:[r,i,n]}clone(){return new Rr(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Gm(this.r,0,255)),this.g=Math.round(Gm(this.g,0,255)),this.b=Math.round(Gm(this.b,0,255)),this.a=Gm(this.a,0,1),this}_set(t,r,i,n){this.r=t,this.g=r,this.b=i,this.a=n}};F0.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(F0||(F0={}));const wt=F0;function b(e,t,r,i){var n,s=arguments.length,o=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function cpe(e,t){return function(r,i){t(r,i,e)}}function upe(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(i.next(f))}catch(d){o(d)}}function l(f){try{c(i.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):n(f.value).then(a,l)}c((i=i.apply(e,[])).next())})}const sD={remove:()=>{}};function Er(e){return e?{remove(){e&&(e(),e=void 0)}}:sD}function oD(e){e.forEach(t=>t?.remove())}function CS(e){return Er(()=>oD(e))}function hpe(e){return Er(()=>e?.abort())}function fpe(e){return Er(e!=null?()=>e.destroy():void 0)}function al(e){return e.__accessor__??null}function aD(e,t){return e?.metadata?.[t]!=null}function U0(e,t,r){return r?Vy(e,t,{policy:r,path:""}):Vy(e,t,null)}function Vy(e,t,r){return t?Object.keys(t).reduce((i,n)=>{const s=n;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${n}`:n,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[s]))return i[s]=t[s],i;if(i[s]===void 0)return i[s]=ge(t[s]),i;let l=i[s],c=t[s];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[s]=l.slice():i[s]=[l]:i[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(r){const f=r.path;r.path=o,i[s]=Vy(l,c,r),r.path=f}else i[s]=Vy(l,c,null);else i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[s]=c);return i},e||{}):e}function mC(e){return Array.isArray(e)?e:e.split(".")}function IT(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function lD(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...IT(r));return t}return IT(e)}function yC(e,t,r,i){const n=lD(t);if(n.length!==1){const s=n.map(o=>i(e,o,r));return CS(s)}return i(e,n[0],r)}function gC(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const i=al(t);return aD(i,r)?i.get(r):t[r]}function vC(e,t,r){if(e==null)return e;const i=gC(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:vC(i,t,r+1)}function Kp(e,t,r=0){return typeof t!="string"||t.includes(".")?vC(e,mC(t),r):gC(t,e)}function $c(e,t){return Kp(e,t)}function OT(e,t){return Kp(t,e)!==void 0}function Zp(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const i in t)t[i]=ge(t[i]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function T1(e,t){const r=Zp(e);let i=r[t];return i||(i=r[t]={}),i}function cD(e,t){return U0(e,t,hD)}const uD=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function hD(e){return uD.test(e)?"replace":"merge"}function fD(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,i)=>i===""?"$":(MS(i,t)??"").toString())}let bC=class{constructor(t,r,i=void 0){this.name=t,this.details=i,this.message=(r&&fD(r,i))??""}toString(){return"["+this.name+"]: "+this.message}},lt=class _C extends bC{constructor(t,r,i){super(t,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return ge(r)}catch{return"[object]"}}))}}catch(t){throw jt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new _C(t.name,t.message,t.details)}};lt.prototype.type="error";function zy(e,t,r){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))zy(e,i,t[i]);else{if(t.includes(".")){const n=t.split("."),s=n.splice(-1,1)[0];return void zy($c(e,n),s,r)}const i=e.__accessor__;i!=null&&dD(t,i),e[t]=r}}function dD(e,t){if(fe("esri-unknown-property-errors")&&!pD(e,t))throw new lt("set:unknown-property",mD(e,t))}function pD(e,t){return t.metadata[e]!=null}function mD(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function A(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),n=T1(t,r);i&&(i.get||i.set?(n.get=i.get||n.get,n.set=i.set||n.set):"value"in i&&("value"in e&&jt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=i.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let f;n.dependsOn=[l],n.get=function(){let d=$c(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=$c(this,f);p&&(d=d.bind(p))}return d},n.readOnly||(n.set=c?function(d){this._override(r,d)}:function(d){zy(this,l,d)})}const o=e.type,a=e.types;if(!n.cast){let l;o?l=yD(o):a&&(l=Array.isArray(a)?Xd(Cc(a[0])):Cc(a)),e.cast=gD(e.cast,l)}cD(n,e),e.range&&(n.cast=K7(n.cast,e.range))}}function wC(e,t,r){const i=T1(e,r);i.json||(i.json={});let n=i.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function yD(e){let t=0,r=e;if(iD(e))return pC(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const i=r;if(dC(i))return t===0?h_(i):By(h_(i),t);if(t===1)return tD(i);if(t>1)return rD(i,t);const n=e;return n.from?n.from:bs(n)}function gD(e,t){if(e||t)return e?t?(r,i)=>t(e(r,i),i):e:t}const SC=Symbol("Accessor-beforeDestroy");var Hi;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Hi||(Hi={}));var xt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(xt||(xt={}));let A1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const qy=new A1,qf=[];let xd=qy;function Je(e){xd.onAccessed(e)}let j0=!1,G0=!1;function ll(e,t,r){if(j0)return $S(e,t,r);let i=null;return xC(e),i=t.call(r),EC(),i}function vD(e,t){return ll(qy,e,t)}function $S(e,t,r){const i=j0;j0=!0,xC(e);let n=null;try{n=t.call(r)}catch(s){G0&&jt.getLogger("esri.core.accessorSupport.tracking").error(s)}return EC(),j0=i,n}function xC(e){xd=e,qf.push(e)}function EC(){const e=qf.length;if(e>1){const t=qf.pop();xd=qf[e-2],t.onTrackingEnd()}else if(e===1){const t=qf.pop();xd=qy,t.onTrackingEnd()}else xd=qy}function TC(e,t){if(t.flags&xt.DepTrackingInitialized)return;t.flags|=xt.DepTrackingInitialized;const r=G0;G0=!1,t.flags&xt.AutoTracked?$S(t.trackingTarget,t.metadata.get,e):AC(e,t),G0=r}const bD=[];function AC(e,t){t.flags&xt.ExplicitlyTracking||(t.flags|=xt.ExplicitlyTracking,$S(t.trackingTarget,()=>{const r=t.metadata.dependsOn||bD;for(const i of r)if(typeof i!="string"||i.includes(".")){const n=mC(i);for(let s=0,o=e;s<n.length&&o!=null&&typeof o=="object";++s)o=CT(o,n[s],s!==n.length-1)}else CT(e,i,!1)}),t.flags&=~xt.ExplicitlyTracking)}function CT(e,t,r){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const n=al(e);if(n){const s=n.propertiesByName.get(i);s&&(Je(s),TC(e,s))}return r?e[i]:void 0}function _D(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(t[i]){const n=t[i];r[i].forEach(s=>{t[s]=n}),delete t[i]}}}let Qd=class extends bC{constructor(t,r,i){super(t,r,i)}};Qd.prototype.type="warning";function MC(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const p_=()=>jt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function $T(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||xD(e)&&af("read.reader",IC(e),t))}function IC(e){const t=e.ndimArray??0;if(t>1)return SD(e);if(t===1)return NT(e);if("type"in e&&CC(e.type)){const r=e.type.prototype?.itemType?.Type,i=NT(typeof r=="function"?{type:r}:{types:r});return(n,s,o)=>{const a=i(n,s,o);return a&&new e.type(a)}}return NS(e)}function NS(e){return"type"in e?wD(e.type):ED(e.types)}function wD(e){return e.prototype.read?(t,r,i)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void p_().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,i),s}:e.fromJSON}function OC(e,t,r,i){return i!==0&&Array.isArray(t)?t.map(n=>OC(e,n,r,i-1)):e(t,void 0,r)}function SD(e){const t=NS(e),r=OC.bind(null,t),i=e.ndimArray??0;return(n,s,o)=>{if(n==null)return n;n=r(n,o,i);let a=i,l=n;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)n=[n];return n}}function NT(e){const t=NS(e);return(r,i,n)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,n);l!==void 0&&o.push(l)}return o}const s=t(r,void 0,n);return s!==void 0?[s]:void 0}}function CC(e){if(!MC(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?PS(t.Type):$C(t.Type))}function xD(e){return"types"in e?$C(e.types):PS(e.type)}function PS(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||CC(e))}function $C(e){for(const t in e.typeMap)if(!PS(e.typeMap[t]))return!1;return!0}function ED(e){let t=null;const r=e.errorContext??"type",i=e.validate;return(n,s,o)=>{if(n==null)return n;const a=typeof n;if(a!=="object")return void p_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=TD(e));const l=e.key;if(typeof l!="string")return;const c=n[l],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&n&&o.messages.push(new Qd(`${r}:unsupported`,p,{definition:n,context:o})),void p_().error(p)}const d=new f;return d.read(n,o),i?i(d):d}}function TD(e){const t={};for(const r in e.typeMap){const i=e.typeMap[r],n=Zp(i.prototype);if(typeof e.key=="function")continue;const s=n[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=i;continue}const o=s.json?.write;if(!o?.writer){t[r]=i;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(r,c,l),c[l]&&(t[c[l]]=i)}return t}function AD(e){if(e.json||(e.json={}),LT(e.json),kT(e.json),PT(e.json),e.json.origins)for(const t in e.json.origins)LT(e.json.origins[t]),kT(e.json.origins[t]),PT(e.json.origins[t]);return!0}function PT(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function LT(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function kT(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function RT(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&MC(e.type))?t.write.writer=CD:r>1?t.write.writer=$D(r):t.types?Array.isArray(t.types)?t.write.writer=ID(t.types[0]):t.write.writer=MD(t.types):t.write.writer=ep}function MD(e){return(t,r,i,n)=>t?NC(t,e,n)?ep(t,r,i,n):void 0:ep(t,r,i,n)}function NC(e,t,r){for(const i in t.typeMap)if(e instanceof t.typeMap[i])return!0;if(r?.messages){const i=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new lt(`${i}:unsupported`,n,{definition:e,context:r})),jt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function ID(e){return(t,r,i,n)=>!t||!Array.isArray(t)?ep(t,r,i,n):ep(t.filter(s=>NC(s,e,n)),r,i,n)}function ep(e,t,r,i){af(r,Wy(e,i),t)}function Wy(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?OD(e):e}function OD(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function CD(e,t,r,i){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(s=>Wy(s,i)),typeof n.toArray=="function"&&(n=n.toArray())):n=[Wy(e,i)],af(r,n,t)}function PC(e,t,r){return r!==0&&Array.isArray(e)?e.map(i=>PC(i,t,r-1)):Wy(e,t)}function $D(e){return(t,r,i,n)=>{let s;if(t===null)s=null;else{s=PC(t,n,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}af(i,s,r)}}function ND(e,t){return LS(e,"any",t?.origin)}function m_(e,t){return LS(e,"read",t?.origin)}function LC(e,t){return LS(e,"write",t?.origin)}function LS(e,t,r){let i=e?.json;if(i?.origins&&r){let n;n=r==="link-chart"?i.origins[r]&&(t==="any"||t in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],n&&(t==="any"||t in n)&&(i=n)}return i}function PD(e){const t=LD(e);if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],n=i.types?kD(i):t;$T(n,i,!1),i.types&&!i.write&&e.json.write?.enabled&&(i.write={...e.json.write}),RT(n,i)}$T(t,e.json,!0),RT(t,e.json)}function LD(e){return e.json.types?y_(e.json):e.type?kC(e):y_(e)}function kD(e){return e.type?kC(e):y_(e)}function kC(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!dC(r);)r=r[0],t++;return{type:r,ndimArray:t}}function y_(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function RD(e){AD(e)&&(_D(e),PD(e))}const Jv=new Set,Kv=new Set;function le(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,FD(t);const r=[],i=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!Jv.has(n.initialize)&&(Jv.add(n.initialize),r.push(n.initialize)),n.hasOwnProperty("destroy")&&!Kv.has(n.destroy)&&(Kv.add(n.destroy),i.push(n.destroy)),n=Object.getPrototypeOf(n);Jv.clear(),Kv.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),i.length){let l=!1;const c=this[SC];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let f=0;f<i.length;f++)i[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=Zp(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function DD(e,t){return t.get==null?function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i===void 0)return;r.mutable&&Je(i);const n=r.store;return n.has(e)?n.get(e):i.metadata.value}:function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i!==void 0)return i.getComputed(r)}}function FD(e){const t=e.prototype,r=Zp(t),i={};for(const n of Object.getOwnPropertyNames(r)){const s=r[n];RD(s),i[n]={enumerable:!0,configurable:!0,get:DD(n,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?DT("read-only",n):a.lifecycle===Hi.CONSTRUCTED&&s.constructOnly?DT("construct-only",n):void a.set(n,o)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,i)}const DT=(e,t)=>{jt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)},FT=new WeakMap;function UD(e,t,r=!1){const i=` DEPRECATED - ${t}`;if(!r)return void e.warn(i);let n=FT.get(e);n||(n=new Set,FT.set(e,n)),n.has(t)||(n.add(t),e.warn(i))}function jD(e,t,r={}){if(fe("esri-deprecation-warnings")){const{moduleName:i}=r;tp(e,`Function: ${(i?i+"::":"")+t+"()"}`,r)}}function ype(e,t,r={}){if(fe("esri-deprecation-warnings")){const{moduleName:i}=r;tp(e,`Property: ${(i?i+"::":"")+t}`,r)}}function GD(e,t,r={}){fe("esri-deprecation-warnings")&&tp(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function tp(e,t,r={}){if(fe("esri-deprecation-warnings")){const{replacement:i,version:n,see:s,warnOnce:o}=r;let a=t;i&&(a+=`
	 Replacement: ${i}`),n&&(a+=`
	 Version: ${n}`),s&&(a+=`
	 See ${s} for more details.`),UD(e,a,o)}}function gpe(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function vpe(e,t){for(const r of e)if(r!=null&&t(r))return r}function UT(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let kS=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(UT(t)){const i=this._getOrCreateGroup(r);for(const n of t)GT(n)&&i.push(n)}else GT(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(i=>i.forEach(t));else{const i=this._getGroup(t);i&&r&&i.forEach(r)}}has(t){return this._groups.has(Vm(t))}remove(t){if(typeof t!="string"&&UT(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(jT(this._getGroup(t)),this._groups.delete(Vm(t)),this):this}removeAll(){return this._groups.forEach(jT),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(Vm(t),r),r}_getGroup(t){return this._groups.get(Vm(t))}};function Vm(e){return e||"_default_"}function jT(e){for(const t of e)t instanceof kS?t.removeAll():t.remove()}function GT(e){return e!=null&&(!!e.remove||e instanceof kS)}function BD(e,t){if(e==null)throw new Error(t??"value is None")}function B0(e){return e?.destroy(),null}function _pe(e){return e?.dispose(),null}function lf(e){return e?.remove(),null}function RC(e){return e?.abort(),null}function wpe(e){return e?.release(),null}function Spe(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function VD(e,t){let r;return e.some((i,n)=>(r=t(i,n),r!=null)),r??void 0}function zD(e){return e?.release&&typeof e.release=="function"}function qD(e){return e?.acquire&&typeof e.acquire=="function"}let Xp=class g_{constructor(t,r,i,n=1,s=0){this._ctor=t,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let r;if(g_.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let n=0;n<i;n++)this._pool[n]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):qD(r)&&r.acquire(...t),r}release(t){t&&!g_.test.disabled&&(this._releaseFunction?this._releaseFunction(t):zD(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};Xp.test={disabled:!1};let WD=class{constructor(t,r){this._observers=t,this._observer=r}remove(){$7(this._observers,this._observer)}},DC=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return HD;this._observers==null&&(this._observers=[]);const r=this._observers;let i=!1,n=!1;const s=r.length;for(let o=0;o<s;++o){const a=r[o];if(a.destroyed)n=!0;else if(a===t){i=!0;break}}return i||(r.push(t),n&&this._removeDestroyedObservers()),new WD(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let i=0;for(let n=0;n<r;++n){for(;n+i<r&&t[n+i].destroyed;)++i;if(i>0){if(!(n+i<r))break;t[n]=t[n+i]}}t.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const HD=Er();var dt;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(dt||(dt={}));const Tpe=dt.USER+1;function FC(e){switch(e){case"defaults":return dt.DEFAULTS;case"service":return dt.SERVICE;case"portal-item":return dt.PORTAL_ITEM;case"web-scene":return dt.WEB_SCENE;case"web-map":return dt.WEB_MAP;case"link-chart":return dt.LINK_CHART;case"user":return dt.USER;default:return null}}function v_(e){switch(e){case dt.DEFAULTS:return"defaults";case dt.SERVICE:return"service";case dt.PORTAL_ITEM:return"portal-item";case dt.WEB_SCENE:return"web-scene";case dt.WEB_MAP:return"web-map";case dt.LINK_CHART:return"link-chart";case dt.USER:return"user"}}function YD(e){return v_(e)}let BT=class extends DC{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new A1(this),this.flags=0,this.flags=xt.Dirty|(r.nonNullable?xt.NonNullable:0)|(r.hasOwnProperty("value")?xt.HasDefaultValue:0)|(r.get===void 0?xt.DepTrackingInitialized:0)|(r.dependsOn===void 0?xt.AutoTracked:0)}destroy(){this.flags&xt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Je(this);const r=t.store,i=this.propertyName,n=this.flags,s=r.get(i);if(n&xt.Computing||~n&xt.Dirty&&r.has(i))return s;this.flags|=xt.Computing;const o=t.host;let a;n&xt.AutoTracked?a=ll(this.trackingTarget,this.metadata.get,o):(AC(o,this),a=this.metadata.get.call(o)),this.flags|=xt.DepTrackingInitialized,r.set(i,a,dt.COMPUTED);const l=r.get(i);return l===s?this.flags&=~xt.Dirty:vD(this.commit,this),this.flags&=~xt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~xt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&xt.Overridden&&(this.flags|=xt.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onCommitted()}}},JD=class UC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new UC;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,ge(i))}),r}get(t){return this._values.get(t)}originOf(){return dt.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function zm(e,t,r){return e!==void 0}function VT(e,t,r,i){return e!==void 0&&(!(r==null&&e.flags&xt.NonNullable)||(i.lifecycle,Hi.INITIALIZING,!1))}let KD=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Hi.INITIALIZING,this.store=new JD,this.mutable=!0,this._origin=dt.USER;const r=this.host.constructor.__accessorMetadata__;for(const i in r){const n=new BT(i,r[i]);this.propertiesByName.set(i,n)}this.metadata=r}initialize(){this.lifecycle=Hi.CONSTRUCTING}constructed(){this.lifecycle=Hi.CONSTRUCTED}destroy(){this.lifecycle=Hi.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Hi.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);this.mutable&&Je(r);const i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const i=this.propertiesByName.get(t);if(i!==void 0&&i.flags&xt.HasDefaultValue)return"defaults"}return v_(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(zm(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const i=this.propertiesByName.get(t);zm(i)&&this._internalSet(i,r)}getDependsInfo(t,r,i){const n=this.propertiesByName.get(r);if(!zm(n))return"";const s=new A1,o=ll(s,()=>n.metadata.get?.call(t));let a=`${i}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;const l=s.accessed??new Set;if(l.size===0)return a;i+="  ";for(const c of l)c instanceof BT&&(a+=`${i}${c.propertyName}: undefined
`);return a}setAtOrigin(t,r,i){const n=this.propertiesByName.get(t);if(zm(n))return this._setAtOrigin(n,r,i)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&xt.Overridden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&xt.Overridden&&(r.flags&=~xt.Overridden,r.notifyChange())}override(t,r){const i=this.propertiesByName.get(t);if(!VT(i,t,r,this))return;const n=i.metadata.cast;if(n){const s=this._cast(n,r),{valid:o,value:a}=s;if(Zv.release(s),!o)return;r=a}i.flags|=xt.Overridden,this._internalSet(i,r)}set(t,r){const i=this.propertiesByName.get(t);if(!VT(i,t,r,this))return;const n=i.metadata.cast;if(n){const o=this._cast(n,r),{valid:a,value:l}=o;if(Zv.release(o),!a)return;r=l}const s=i.metadata.set;s?s.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=FC(t)}getDefaultOrigin(){return v_(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const i=this.lifecycle!==Hi.INITIALIZING?this._origin:dt.DEFAULTS;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){const n=this.store,s=t.propertyName;n.has(s,i)&&AS(r,n.get(s))&&~t.flags&xt.Overridden&&i===n.originOf(s)||(t.invalidate(),n.set(s,r,i),t.commit(),TC(this.host,t))}_cast(t,r){const i=Zv.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}},ZD=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Zv=new Xp(ZD);let XD;function QD(){return XD}var zT;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(zT||(zT={}));function eF(e){e.length=0}let La=class{constructor(t=50,r=50){this._pool=new Xp(Array,void 0,eF,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Xv.acquire()}static release(t){return Xv.release(t)}static prune(){Xv.prune()}};const Xv=new La(100);let tF=class extends Xp{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const qm=[];function jC(e){qm.push(e),qm.length===1&&queueMicrotask(()=>{const t=qm.slice();qm.length=0;for(const r of t)r()})}let GC=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var b_;(function(e){const t=(s,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=s[c-1];for(;f<=d;){f=c<<1,f<a&&l(s[f-1],s[f])<0&&++f;const y=s[f-1];if(l(y,p)<=0)break;s[c-1]=y,c=f}s[c-1]=p},r=(s,o)=>s<o?-1:s>o?1:0;function i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)t(s,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=s[o];s[o]=s[f],s[f]=d,t(s,c,f,l)}}function*n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)t(s,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=s[o];s[o]=s[f],s[f]=d,t(s,c,f,l),yield}}e.sort=i,e.iterableSort=n})(b_||(b_={}));const qT=b_,rF=1.5,iF=1.1;let BC=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new zO,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>WT(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let i=0;i<this._length;i++){const n=this.data[i];t(n)&&r.push(n)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const i=this.data.indexOf(t,r);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,WT(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=l_(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(l_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=O7(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const i=this.data[t];this.data[t]=this.data[r],this.data[r]=i}sort(t){qT.sort(this.data,0,this.length,t)}iterableSort(t){return qT.iterableSort(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}find(t,r){const{data:i,length:n}=this;for(let s=0;s<n;++s)if(t.call(r,i[s]))return i[s]}filterInPlace(t,r){let i=0;for(let n=0;n<this._length;++n){const s=this.data[n];t.call(r,s,n,this.data)&&(this.data[n]=this.data[i],this.data[i]=s,i++)}if(this._deallocator)for(let n=i;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=i,this._shrink(),this}forAll(t,r){const{data:i,length:n}=this;for(let s=0;s<n;++s)t.call(r,i[s],s,i)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const i=new Array(this.length);for(let n=0;n<this.length;++n)i[n]=t.call(r,this.data[n],n,this.data);return i}reduce(t,r){let i=r;for(let n=0;n<this.length;++n)i=t(i,this.data[n],n,this.data);return i}has(t){const r=this.length,i=this.data;for(let n=0;n<r;++n)if(i[n]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function WT(e){e.data.length>rF*e.length&&(e.data.length=Math.floor(e.length*iF))}function nF(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return Er(()=>e.clearTimeout(i))}}}const sF=nF(globalThis);function RS(e){return oF(e)||VC(e)}function oF(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function VC(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function zC(e,t,r){if(!RS(e))throw new TypeError("target is not a Evented or EventTarget object");return VC(e)?aF(e,t,r):e.on(t,r)}function aF(e,t,r,i){if(Array.isArray(t)){const n=t.slice();for(const s of n)e.addEventListener(s,r,i);return Er(()=>{for(const s of n)e.removeEventListener(s,r,i)})}return e.addEventListener(t,r,i),Er(()=>e.removeEventListener(t,r,i))}function qC(e,t,r){if(!RS(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=zC(e,t,n=>{i.remove(),r.call(e,n)});return i}function gn(e="Aborted"){return new lt("AbortError",e)}function rp(e,t="Aborted"){if(Nc(e))throw gn(t)}function M1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Nc(e){const t=M1(e);return t!=null&&t.aborted}function WC(e){if(Qp(e))throw e}function Ppe(e){if(!Qp(e))throw e}function Pc(e,t){const r=M1(e);if(r!=null){if(!r.aborted)return qC(r,"abort",()=>t());t()}}function lF(e,t){const r=M1(e);if(r!=null)return rp(r),qC(r,"abort",()=>t(gn()))}function Lpe(e,t){return M1(t)==null?e:new Promise((r,i)=>{let n=Pc(t,()=>i(gn()));const s=()=>{n=lf(n)};e.then(s,s),e.then(r,i)})}function Qp(e){return e?.name==="AbortError"}async function kpe(e){try{return await e}catch(t){if(!Qp(t))throw t;return}}async function DS(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),i=r.map(o=>e[o]),n=await DS(i),s={};return r.map((o,a)=>s[o]=n[a]),s}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(i,n)=>{const s=r[n];return s.status==="fulfilled"?{promise:i,value:s.value}:{promise:i,error:s.reason}}))}async function Rpe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function Dpe(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function cF(e,t=void 0,r){const i=new AbortController;return Pc(r,()=>i.abort()),new Promise((n,s)=>{let o=setTimeout(()=>{o=0,n(t)},e);Pc(i,()=>{o&&(clearTimeout(o),s(gn()))})})}function Fpe(e,t){const r=new AbortController,i=setTimeout(()=>r.abort(),t);return Pc(e,()=>{r.abort(),clearTimeout(i)}),{...e,signal:r.signal}}function HC(e){return e&&typeof e.then=="function"}function HT(e){return HC(e)?e:Promise.resolve(e)}function Upe(e,t=-1){let r,i,n,s,o=null;const a=(...l)=>{if(r){i=l,s&&s.reject(gn()),s=Ah();const p=s.promise;if(o){const y=o;o=null,y.abort()}return p}if(n=s||Ah(),s=null,t>0){const p=new AbortController;r=HT(e(...l,p.signal));const y=r;cF(t).then(()=>{r===y&&(s?p.abort():o=p)})}else r=1,r=HT(e(...l));const c=()=>{const p=i;i=n=r=o=null,p!=null&&a(...p)},f=r,d=n;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function Ah(){let e,t;const r=new Promise((n,s)=>{e=n,t=s}),i=n=>{e(n)};return i.resolve=n=>e(n),i.reject=n=>t(n),i.timeout=(n,s)=>sF.setTimeout(()=>i.reject(s),n),i.promise=r,i}async function jpe(e){await Promise.resolve(),rp(e)}function Gpe(e){return e}function Bpe(e){return 1e3*e}function Vpe(e){return e}let uF=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},hF=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},__=0;const Mf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},w_=["prepare","preRender","render","postRender","update","finish"],S_=[],Lc=new BC;let fF=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function dF(){bc!=null&&(cancelAnimationFrame(bc),bc=requestAnimationFrame(FS))}const Hy={frameTasks:Lc,willDispatch:!1,clearFrameTasks:pF,dispatch:KC,executeFrameTasks:mF,reschedule:dF};function YC(e){const t=new hF(e);return S_.push(t),Hy.willDispatch||(Hy.willDispatch=!0,jC(KC)),t}function Hpe(e){const t=new uF(e);return Lc.push(t),bc==null&&(__=performance.now(),bc=requestAnimationFrame(FS)),new fF(t)}let bc=null;function pF(e=!1){Lc.forAll(t=>{t.removed=!0}),e&&JC()}function FS(){const e=performance.now();bc=null,bc=Lc.length>0?requestAnimationFrame(FS):null,Hy.executeFrameTasks(e)}function mF(e){const t=e-__;__=e;const r=1e3/60,i=Math.max(0,t-r);Mf.time=e,Mf.frameDuration=r-i;for(let n=0;n<w_.length;n++){const s=performance.now(),o=w_[n];Lc.forAll(a=>{a.paused||a.removed||(n===0&&a.ticks++,a.phases[o]&&(Mf.elapsedFrameTime=performance.now()-e,Mf.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,Mf)))}),vF[n].push(performance.now()-s)}JC(),bF.push(performance.now()-e)}const Wm=new BC;function JC(){Lc.forAll(e=>{e.removed&&Wm.push(e)}),Lc.removeUnorderedMany(Wm.data,Wm.length),Wm.clear()}function KC(){for(;S_.length;){const e=S_.shift();e.isActive&&e.callback()}Hy.willDispatch=!1}function yF(e=1,t){const r=Ah(),i=()=>{Nc(t)?r.reject(gn()):e===0?r():(--e,jC(()=>i()))};return i(),r.promise}function gF(e){return yF(1,e)}async function Ype(e){await gF(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const vF=w_.map(e=>new GC(e)),bF=new GC("total");function _F(e,t){for(const r of e.values())if(t(r))return!0;return!1}function YT(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function Jpe(e,t){return t!=null&&e.add(t),e}function ZC(e,t){const r=new Set;return YT(r,e),YT(r,t),r}function wF(e,t){const r=new Set;for(const i of t)e.has(i)&&r.add(i);return r}function Kpe(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function Zpe(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function SF(e,t){const r=new Set(e);for(const i of t)r.delete(i);return r}function Xpe(e,t){return SF(ZC(e,t),wF(e,t))}let xF=0;function V0(){return++xF}let US=class extends A1{constructor(t){super(new EF(t)),this._observer&&JT.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&JT.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},EF=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=TF}};const JT=new FinalizationRegistry(e=>{e.deref()?.destroy()});function TF(){}let ch=!1;const Yy=[];function XC(e,t){let r=new US(s),i=null,n=!1;function s(){if(!r||n)return;if(ch)return void e$(s);const a=i;r.clear(),ch=!0,n=!0,i=ll(r,e),n=!1,ch=!1,t(i,a),t$()}function o(){r&&(r.destroy(),r=null,i=null)}return n=!0,i=ll(r,e),n=!1,Er(o)}function QC(e,t){let r=new US(n),i=null;function n(){t(i,o)}function s(){r&&(r.destroy(),r=null),i=null}function o(){return r?(r.clear(),i=ll(r,e),i):null}return o(),Er(s)}function tme(e,t){let r=!1,i=!1;const n=!!t?.sync;let s=new US(()=>{r||i||(i=!0,n?o():queueMicrotask(o))});function o(){i=!1,s&&!r&&(ch?e$(o):(s.clear(),ch=!0,r=!0,ll(s,e),r=!1,ch=!1,t$()))}function a(){s&&(s.destroy(),s=null)}return r=!0,ll(s,e),r=!1,Er(a)}function e$(e){Yy.includes(e)||Yy.unshift(e)}function t$(){for(;Yy.length;)Yy.pop()()}var Ed;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Ed||(Ed={}));let ip=class{constructor(){this.uid=V0(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,i,n,s){return this.pool.acquire(Ed.Untracked,t,r,i,n,s,AS)}static acquireTracked(t,r,i,n){return this.pool.acquire(Ed.Tracked,t,r,i,null,null,n)}notify(t,r){this.type===Ed.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,i,n,s,o,a){this.uid=V0(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=n,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=V0(),this.removed=!0}};ip.pool=new tF(ip);const z0=new La,Ho=new Set;let Jy;function Ky(e){Ho.delete(e),Ho.add(e),Jy||(Jy=YC(IF))}function AF(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function MF(e){for(const t of Ho.values())t.target===e&&(t.removed=!0)}function IF(){let e=10;for(;Jy&&e--;){Jy=null;const t=OF(),r=z0.acquire();for(const i of t){const n=i.uid;AF(i),n===i.uid&&i.removed&&r.push(i)}for(const i of Ho)i.removed&&(r.push(i),Ho.delete(i));for(const i of r)ip.pool.release(i);z0.release(r),z0.release(t),x_.forEach(i=>i())}}function OF(){const e=z0.acquire();e.length=Ho.size;let t=0;for(const r of Ho)e[t]=r,++t;return Ho.clear(),e}const x_=new Set;function ime(e){return x_.add(e),Er(()=>x_.delete(e))}function CF(e,t,r){let i=yC(e,t,r,(n,s,o)=>{let a,l,c=QC(()=>Kp(n,s),(f,d)=>{n.__accessor__?.lifecycle===Hi.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=ip.acquireUntracked(f,o,d,n,s),l=a.uid),Ky(a))});return Er(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Ky(a)),a=null),i=c=null})});return i}function $F(e,t,r){const i=yC(e,t,r,(n,s,o)=>{let a=!1;return XC(()=>Kp(n,s),(l,c)=>{n.__accessor__.lifecycle!==Hi.DESTROYED?a||(a=!0,AS(c,l)||o.call(n,l,c,s,n),a=!1):i.remove()})});return i}function NF(e,t,r,i=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Hi.DESTROYED?i?$F(e,t,r):CF(e,t,r):Er()}function PF(e,t,r){let i,n,s=QC(e,(o,a)=>{i&&i.uid!==n?s.remove():(i||(i=ip.acquireTracked(o,t,a,r),n=i.uid),Ky(i))});return Er(()=>{s.remove(),i&&(i.uid!==n||i.removed||(i.removed=!0,Ky(i)),i=null),s=null})}function LF(e,t,r){let i=!1;return XC(e,(n,s)=>{i||(i=!0,r(s,n)||t(n,s),i=!1)})}function kF(e,t,r=!1,i=D7){return r?LF(e,t,i):PF(e,t,i)}function nme(e){return _F(Ho,t=>t.oldValue===e)}var r$,i$;function RF(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const wa=Symbol("Accessor-Handles"),E_=Symbol("Accessor-Initialized");let Zr=class q0{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,n&&n.apply(this,l)}}Zp(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(s.prototype[a])return s.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:t[a]}for(const a in r){const l=RF(r[a]);A(l)(o.prototype,a)}return le(i)(o)}static freeze(t){return t instanceof q0?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof q0?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[r$]=null,this[i$]=!1,this.constructor===q0)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new KD(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[E_]=!0}initialize(){}[SC](){this[wa]=B0(this[wa])}destroy(){this.destroyed||(MF(this),this.__accessor__.destroy(),QD()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[E_]}get destroyed(){return this.__accessor__?.lifecycle===Hi.DESTROYED||!1}commitProperty(t){$c(this,t)}get(t){return jD(jt.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),$c(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return zy(this,t,r),this}watch(t,r,i){return NF(this,t,r,i)}addHandles(t,r){if(this.destroyed){const i=Array.isArray(t)?t:[t];for(const n of i)n.remove();return}(this[wa]??=new kS).add(t,r)}removeHandles(t){this[wa]?.remove(t)}removeAllHandles(){this[wa]?.removeAll()}removeHandlesReference(t){this[wa]?.removeReference(t)}hasHandles(t){return this[wa]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};r$=wa,i$=E_;let DF=class n${constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new n$;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,ge(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const i=this._values.get(t);return r==null||i?.origin===r?i?.value:void 0}originOf(t){return this._values.get(t)?.origin??dt.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(i=>this._values.get(i)?.origin===t)}set(t,r,i){if((i=this._normalizeOrigin(i))===dt.DEFAULTS){const n=this._values.get(t);if(n?.origin!=null&&n.origin>i)return}this._values.set(t,new FF(r,i))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(t!=null)return t===dt.DEFAULTS?t:dt.USER}},FF=class{constructor(t,r){this.value=t,this.origin=r}};function UF(e,t,r){t.keys().forEach(n=>{r.set(n,t.get(n),dt.DEFAULTS)});const i=e.metadata;Object.keys(i).forEach(n=>{e.internalGet(n)&&r.set(n,e.internalGet(n),dt.DEFAULTS)})}function jF(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.indexOf(t)===0&&OT(i,r))return!0}else for(const n of i)if(n===t||n.includes(".")&&n.indexOf(t)===0&&OT(n,r))return!0;return!1}function GF(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function BF(e,t,r,i,n){let s=m_(t[r],n);GF(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=m_(t[o],n),jF(s,r,i)&&(e[o]=!0)}function VF(e,t,r,i){const n=r.metadata,s=ND(n[t],i),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,i):o;a!==void 0&&r.set(t,a)}const s$={origin:"service"};function zF(e,t,r=s$){if(!t||typeof t!="object")return;const i=al(e),n=i.metadata,s={};for(const o of Object.getOwnPropertyNames(t))BF(s,n,o,t,r);i.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=m_(n[o],r).read,l=a?.source;let c;c=l&&typeof l=="string"?Kp(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&i.set(o,c)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(n))s[o]||VF(e,o,i,r)}i.setDefaultOrigin("user")}function ome(e,t,r,i=s$){const n={...i,messages:[]};r(n),n.messages?.forEach(s=>{s.type!=="warning"||e.loaded?i?.messages&&i.messages.push(s):e.loadWarnings.push(s)})}function qF(e,t,r,i,n){const s={};return t.write?.writer?.call(e,i,s,r,n),s}function o$(e,t,r,i,n,s){if(!i?.write)return!1;const o=$c(e,r);if(!n&&i.write.overridePolicy){const a=i.write.overridePolicy.call(e,o,r,s??void 0);a!==void 0&&(n=a)}if(n||(n=i.write),!n||n.enabled===!1||n.layerContainerTypes&&s?.layerContainerType&&!n.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!n.allowNull&&!n.writerEnsuresNonNull||o===void 0)&&n.isRequired){const a=new lt("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&s?.messages?s.messages.push(a):a&&!s&&jt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===dt.DEFAULTS)&&WF(e,r,s,i,o)||!n.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<FC(s.origin))}function WF(e,t,r,i,n){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const o=s.call(e,t,r??void 0);return _1(o,n)}return!1}return s===n}function ame(e,t,r,i){const n=al(e),s=n.metadata,o=LC(s[t],i);return!!o&&o$(e,n,t,o,r,i)}function HF(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return U0(t,e.toJSON(r));const i=al(e),n=i.metadata;for(const s in n){const o=LC(n[s],r);if(!o$(e,i,s,o,void 0,r))continue;const a=$c(e,s),l=qF(e,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,r);Object.keys(l).length>0&&(t=U0(t,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>U0(t,l,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:s,oldOrigin:YD(i.store.originOf(s)),newOrigin:r.origin}))}return t}const a$=e=>{let t=class extends e{constructor(...r){super(...r);const i=al(this),n=i.store,s=new DF;i.store=s,UF(i,n,s)}read(r,i){zF(this,r,i)}write(r,i){return HF(this,r??{},i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return YF.call(this,r,i)}};return t=b([le("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function YF(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function T_(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let it=class extends a$(Zr){};it=b([le("esri.core.JSONSupport")],it);function Kr(e,t,r){let i,n;return t===void 0||Array.isArray(t)?(n=e,r=t,i=[void 0]):(n=t,i=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;i.forEach(l=>{const c=wC(s,l,n);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let Zo=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=JF(t),this.apiValues=KT(this._apiToJSON),this.jsonValues=KT(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,n,s)=>{const o=this.toJSON(i);o!==void 0&&af(s,o,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function JF(e){const t={};for(const r in e)t[e[r]]=r;return t}function KT(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function Es(){return function(e,t){return new Zo(e,{ignoreUnknown:!0,...t})}}let jS=class{constructor(t,r,i,n,s,o){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=n,this.scaleHeight=s;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const _s=new jS(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),np=new jS(3396190,1/169.8944472236118,23e4,6e4,.111),I1=new jS(1737400,0,0,0,0),KF=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,ZF={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function ZT(e){const t=e?.match(KF);if(!t)return null;const[,r,i,n]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:f}=ZF;if(i)if(s=r,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function XF(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function l$(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):i.test(e)&&(e=e.replace(i,"https://qaext.arcgis.com")),e}function QF(e){const t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer}function eU(e){const t=new Uint8Array(e);let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return btoa(r)}const tU=()=>jt.getLogger("esri.core.urlUtils"),cf=Pt.request,XT="esri/config: esriConfig.request.proxyUrl is not set.",c$=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,u$=/^\s*http:/i,rU=/^\s*https:/i,iU=/^\s*file:/i,nU=/:\d+$/,sU=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,oU=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),aU=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let uh=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(oU);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(aU),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const Hm={},lU=new uh(Pt.applicationUrl);let gi=lU;const cU=uU();let GS=cU;const BS=()=>gi,fme=()=>GS;function uU(){const e=gi.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${gi.scheme}://${gi.host}${gi.port!=null?`:${gi.port}`:""}`}${t}`}function Xc(e){if(!e)return null;const t={path:null,query:null},r=new uh(e),i=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,i),t.query=VS(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function VS(e){const t=e.split("&"),r={};for(const i of t){if(!i)continue;const n=i.indexOf("=");let s,o;n<0?(s=decodeURIComponent(i),o=""):(s=decodeURIComponent(i.slice(0,n)),o=decodeURIComponent(i.slice(n+1)));let a=r[s];typeof a=="string"&&(a=r[s]=[a]),Array.isArray(a)?a.push(o):r[s]=o}return r}function sp(e,t){return e?Object.keys(e).map(r=>{const i=e[r];if(i==null)return"";const n=encodeURIComponent(r)+"=",s=t?.[r];return s?n+encodeURIComponent(s(i)):Array.isArray(i)?i.map(o=>T_(o)?n+encodeURIComponent(JSON.stringify(o)):n+encodeURIComponent(o)).join("&"):T_(i)?n+encodeURIComponent(JSON.stringify(i)):n+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function h$(e=!1){let t,r=cf.proxyUrl;if(typeof e=="string"){t=yU(e);const i=O1(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw tU().warn(XT),new lt("urlUtils:proxy-not-set",XT);return t&&A_()&&(r=JS(r)),Xc(r)}function dme(e,t=!1){const r=O1(e);let i,n;if(r){const s=zS(r.proxyUrl);i=s.path,n=s.query?VS(s.query):null}else if(t){const s=h$(e);i=s.path,n=s.query}if(i){const s=Xc(e);e=i+"?"+s.path;const o=sp({...n,...s.query});o&&(e=`${e}?${o}`)}return e}const If={path:"",query:""};function zS(e){const t=e.indexOf("?");return t!==-1?(If.path=e.slice(0,t),If.query=e.slice(t+1)):(If.path=e,If.query=null),If}function f$(e){return e=(e=Xy(e=wU(e=zS(e).path),!0)).toLowerCase()}function hU(e){const t={proxyUrl:e.proxyUrl,urlPrefix:f$(e.urlPrefix)},r=cf.proxyRules,i=t.urlPrefix;let n=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(i.indexOf(o)===0){if(i.length===o.length)return-1;n=s;break}o.indexOf(i)===0&&(n=s+1)}return r.splice(n,0,t),n}function O1(e){const t=cf.proxyRules,r=f$(e);for(let i=0;i<t.length;i++)if(r.indexOf(t[i].urlPrefix)===0)return t[i]}function pme(e,t){if(!e||!t)return!1;e=Zy(e),t=Zy(t);const r=ZT(e),i=ZT(t);return r!=null&&i!=null?r.portalHostname===i.portalHostname:r==null&&i==null&&Mh(e,t,!0)}function fU(e,t){return e=Zy(e),t=Zy(t),Xy(e)===Xy(t)}function Zy(e){const t=(e=Qa(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function QT(e,t=cf.interceptors){const r=i=>i==null||i instanceof RegExp&&i.test(e)||typeof i=="string"&&e.startsWith(i);if(t){for(const i of t)if(Array.isArray(i.urls)){if(i.urls.some(r))return i}else if(r(i.urls))return i}return null}function Mh(e,t,r=!1){if(!e||!t)return!1;const i=I_(e),n=I_(t);return!(!r&&i.scheme!==n.scheme)&&i.host!=null&&n.host!=null&&i.host.toLowerCase()===n.host.toLowerCase()&&i.port===n.port}function qS(e){if(typeof e=="string"){if(!ps(e))return!0;e=I_(e)}if(Mh(e,gi))return!0;const t=cf.trustedServers||[];for(let r=0;r<t.length;r++){const i=dU(t[r]);for(let n=0;n<i.length;n++)if(Mh(e,i[n]))return!0}return!1}function dU(e){return Hm[e]||(YS(e)||ml(e)?Hm[e]=[new uh(em(e))]:Hm[e]=[new uh(`http://${e}`),new uh(`https://${e}`)]),Hm[e]}function em(e,t=GS,r){return ml(e)?r?.preserveProtocolRelative?e:gi.scheme==="http"&&gi.authority===ds(e).slice(2)?`http:${e}`:`https:${e}`:YS(e)?e:WS(e[0]==="/"?_U(t):t,e)}function d$(e,t=GS,r){if(e==null||!ps(e))return e;const i=Qa(e),n=i.toLowerCase(),s=Qa(t).toLowerCase().replace(/\/+$/,""),o=r?Qa(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(n,"/",n.indexOf("//")+2),c=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==n.length);)l=a(n,"/",l+1);if(c===-1||o&&c<o.length)return e;e=i.slice(c);const f=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)e=`../${e}`;else e=`./${e}`;return e}function Qa(e){return e=EU(e=xU(e=SU(e=em(e=e.trim()))))}function WS(...e){const t=e.filter(N7);if(!t?.length)return;const r=[];if(ps(t[0])){const n=t[0],s=n.indexOf("//");s!==-1&&(r.push(n.slice(0,s+1)),vU(t[0])&&(r[0]+="/"),t[0]=n.slice(s+2))}else t[0][0]==="/"&&r.push("");const i=t.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<i.length;n++){const s=i[n];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&n===i.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function ds(e,t=!1){if(e==null||HS(e)||uf(e))return null;let r=e.indexOf("://");if(r===-1&&ml(e))r=2;else{if(r===-1)return null;r+=3}const i=e.indexOf("/",r);return i!==-1&&(e=e.slice(0,i)),t&&(e=Xy(e,!0)),e}function ps(e){return ml(e)||YS(e)}function HS(e){return e!=null&&e.slice(0,5)==="blob:"}function uf(e){return e!=null&&e.slice(0,5)==="data:"}function pU(e){const t=op(e);return t?.isBase64?QF(t.data):null}function mme(e){return eU(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const mU=/^data:(.*?)(;base64)?,(.*)$/;function op(e){const t=e.match(mU);if(!t)return null;const[,r,i,n]=t;return{mediaType:r,isBase64:!!i,data:n}}function p$(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function yme(e){return(await fetch(e)).blob()}function gme(e){const t=pU(e);if(!t)return null;const r=op(e);return new Blob([t],{type:r.mediaType})}function ml(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function YS(e){return e!=null&&c$.test(e)}function yU(e){return e!=null&&rU.test(e)||gi.scheme==="https"&&ml(e)}function gU(e){return e!=null&&u$.test(e)||gi.scheme==="http"&&ml(e)}function vU(e){return e!=null&&iU.test(e)}function JS(e){return ml(e)?`https:${e}`:e.replace(u$,"https:")}function bU(){return gi.scheme==="http"}function A_(){return gi.scheme==="https"}function Xy(e,t=!1){return ml(e)?e.slice(2):(e=e.replace(c$,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function _U(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function vme(e){let t=0;if(ps(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function bme(e,t){if(!e)return"";const r=Xc(e).path.replace(/\/+$/,""),i=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return i;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return i.replace(n,"")}function wU(e){return e.endsWith("/")?e:`${e}/`}function _me(e){return e.replace(/\/+$/,"")}function SU(e){if(/^https?:\/\//i.test(e)){const t=zS(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function xU(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function EU(e){const t=cf.httpsDomains;if(!gU(e))return e;const r=e.indexOf("/",7);let i;if(i=r===-1?e:e.slice(0,r),i=i.toLowerCase().slice(7),nU.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return bU()&&i===gi.authority&&!sU.test(e)||(A_()&&i===gi.authority||t&&t.some(n=>i===n||i.endsWith(`.${n}`))||A_()&&!O1(e))&&(e=JS(e)),e}function M_(e,t,r){if(!(t&&r&&e&&ps(e)))return e;const i=e.indexOf("//"),n=e.indexOf("/",i+2),s=e.indexOf(":",i+2),o=Math.min(n<0?e.length:n,s<0?e.length:s);return e.slice(i+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${r}${e.slice(o)}`}function I_(e){return typeof e=="string"?new uh(em(e)):(e.scheme||(e.scheme=gi.scheme),e)}function wme(e){return AU.test(e)}function Sme(e,t){const r=Xc(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function TU(e,t,r){const i=Xc(e),n=i.query||{};return n[t]=String(r),`${i.path}?${sp(n)}`}function Qv(e,t){if(!t)return e;const r=Xc(e),i=r.query||{};for(const[s,o]of Object.entries(t))o!=null&&(i[s]=o);const n=sp(i);return n?`${r.path}?${n}`:r.path}function xme(e){if(e==null)return null;const t=e.match(m$);return t?t[2]:null}function eA(e){if(e==null)return null;const t=e.match(m$);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function Eme(e){return typeof e=="string"?op(e)??{data:e}:new Promise((t,r)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(op(i.result)),i.onerror=n=>r(n)})}const m$=/([^.]*)\.([^/]*)$/,AU=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const MU="4.31";let Kt,IU=MU;IU="4.31.6";function Tme(e){Kt=e}function Ame(e){const t=Kt?.findCredential(e);return t?.token?TU(e,"token",t.token):e}fe("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),fe("host-webworker");const OU=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function CU(e){const t=ds(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!OU.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function y$(e,t){return!(!Pt.apiKey||!CU(e))}function $U(e,t,r=!1,i){return new Promise((n,s)=>{if(Nc(i))return void s(tA());let o=()=>{c(),s(new Error(`Unable to load ${t}`))},a=()=>{const f=e;c(),n(f)},l=()=>{if(!e)return;const f=e;c(),f.src="",s(tA())};const c=()=>{fe("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,i?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};i?.addEventListener("abort",l),fe("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function tA(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const g$="Timeout exceeded";function NU(){return new Error(g$)}function Mme(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===g$}function PU(e){Pt.request.crossOriginNoCorsDomains||(Pt.request.crossOriginNoCorsDomains={});const t=Pt.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[ds(r)??""]=0:(t[ds("http://"+r)??""]=0,t[ds("https://"+r)??""]=0)}function LU(e){const t=Pt.request.crossOriginNoCorsDomains;if(t){let r=ds(e);if(r)return r=r.toLowerCase(),!Mh(r,BS())&&t[r]<Date.now()-36e5}return!1}async function kU(e){const t=Xc(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=Pt.request.crossOriginNoCorsDomains,i=ds(e);r&&i&&(r[i.toLowerCase()]=Date.now())}async function wr(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=VS(t.query.toString().replaceAll("+"," ")));const r=uf(e),i=HS(e);i||r||(e=Qa(e));const n={url:e,requestOptions:{...t}},s=p=>({data:p,getAllHeaders:Ih,getHeader:Ih,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),o=QT(e,Ln.internalInterceptors);if(o){const p=await iA(o,n);if(p!=null)return s(p)}let a=QT(e);if(a){const p=await iA(a,n);if(p!=null)return s(p);a.after||a.error||(a=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(fe("host-webworker")||fe("host-node")))throw to("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw to("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(r||i)throw to("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await jU(),Qy)return Qy.execute(e,t);const l=new AbortController,c=Pc(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:Ln.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=await zU(f).finally(()=>c?.remove());return a?.after?.(d),d}let Qy;const Ln=Pt.request,v$="FormData"in globalThis,RU=new Set([499,498,403,401]),DU=new Set(["COM_0056","COM_0057","SB_0008"]),FU=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ih=()=>null,eg=Symbol();function UU(e){const t=ds(e);t&&!wr._corsServers.includes(t)&&wr._corsServers.push(t)}function rA(e){const t=ds(e);return!t||t.endsWith(".arcgis.com")||wr._corsServers.includes(t)||qS(t)}function to(e,t,r,i){let n="Error";const s={url:r.url,requestOptions:r.requestOptions,getAllHeaders:Ih,getHeader:Ih,ssl:!1};if(t instanceof lt)return t.details?(t.details=ge(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=i&&(()=>Array.from(i.headers)),a=i&&(f=>i.headers.get(f)),l=i?.status,c=t.message;c&&(n=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=eg in t?t[eg]:t}return Qp(t)?gn():new lt(e,n,s)}async function jU(){fe("host-webworker")&&!Qy&&(Qy=await we(()=>import("./request-vLCBzJmy.js"),__vite__mapDeps([0,1]),import.meta.url))}async function O_(){Kt||await we(()=>import("./IdentityManager-DoTsaDID.js"),__vite__mapDeps([2,1,3,4,5,6]),import.meta.url)}async function GU(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,n=r.body;let s=null,o=null;if(v$&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(o=n),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Ln.priority,redirect:"follow",signal:i},(s||o)&&(e.fetchOptions.body=s||o),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||s?.get("token")),!e.hasToken&&y$(t)&&(r.query||(r.query={}),r.query.token=Pt.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!b$(t)&&!Nc(i)){let a;r.authMode==="immediate"?(await O_(),a=await Kt.getCredential(t,{signal:i}),e.credential=a):r.authMode==="no-prompt"?(await O_(),a=await Kt.getCredential(t,{prompt:!1,signal:i}).catch(()=>{}),e.credential=a):Kt&&(a=Kt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function b$(e){return FU.some(t=>t.test(e))}async function BU(e){let t=e.params.url;const r=e.params.requestOptions,i=e.fetchOptions??{},n=HS(t)||uf(t),s=r.responseType||"json",o=n?0:r.timeout!=null?r.timeout:Ln.timeout;let a=!1;if(!n){e.useSSL&&(t=JS(t));let p={...r.query};e.credentialToken&&(p.token=e.credentialToken);let y=sp(p);fe("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=t.length+1+y.length;let w;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>Ln.maxUrlLength;const _=r.useProxy||!!O1(t);if(_){const x=h$(t);w=x.path,!a&&w.length+1+g>Ln.maxUrlLength&&(a=!0),x.query&&(p={...x.query,...p})}if(i.method==="HEAD"&&(a||_)){if(a)throw g>Ln.maxUrlLength?to("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):to("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(_)throw to("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(i.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=Qv(t,p):(i.body=sp(p),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Qv(t,p),_&&(e.useProxy=!0,t=`${w}?${t}`),p.token&&v$&&i.body instanceof FormData&&!XF(t)&&i.body.set("token",p.token),r.hasOwnProperty("withCredentials")?e.withCredentials=r.withCredentials:Mh(t,BS())||(qS(t)||Kt&&Kt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(i.credentials="include",LU(t)&&await kU(a?Qv(t,p):t))}let l,c,f=0,d=!1;o>0&&(f=setTimeout(()=>{d=!0,e.controller.abort()},o));try{if(r.responseType==="native-request-init")c=i,c.url=t,r.signal?c.signal=r.signal:delete c.signal;else if(r.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||a||VU(r.headers)||!n&&!e.useProxy&&Ln.proxyUrl&&!rA(t)){if(wr._beforeFetch&&await wr._beforeFetch(t,i),l=await fetch(t,i),wr._afterFetch&&await wr._afterFetch(l),e.useProxy||UU(t),r.responseType==="native")c=l;else if(i.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(f&&(clearTimeout(f),f=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=nA(c,"application/xml");break;case"document":c=nA(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const p=l.headers.get("Content-Type");if(p&&/application\/json|text\/plain/i.test(p)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await sA(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await sA(t,e)}catch(p){if(p.name==="AbortError")throw d?NU():gn("Request canceled");if(!(!l&&p instanceof TypeError&&Ln.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||rA(t))throw p;e.redoRequest=!0,hU({proxyUrl:Ln.proxyUrl,urlPrefix:ds(t)??""})}finally{f&&clearTimeout(f)}return[l,c]}async function iA(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(n){r=to("request:interceptor",n,t)}if((i instanceof Error||i instanceof lt)&&(r=to("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function VU(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function nA(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function zU(e){let t,r;await GU(e);try{do[t,r]=await BU(e);while(!await qU(e,t,r))}catch(s){const o=to("request:server",s,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!qS(i)){const s=ds(i,!0);s&&Ln.trustedServers.push(s)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&PU(r.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&Kt){let o=Kt.findServerInfo(n.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Kt.findCredential(o,n.userId);a&&Kt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):Ih,getHeader:t?s=>t.headers.get(s):Ih,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function qU(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let n,s;if(r&&(r.error&&typeof r.error=="object"?n=r.error:r.status==="error"&&Array.isArray(r.messages)&&(n={...r},n[eg]=r,n.details=r.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[eg]=r,n;let o,a=null;n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o?.toUpperCase());const l=i.authMode;if(s===403&&(a===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&RU.has(s)&&!b$(e.params.url)&&(s!==403||(!o||!DU.has(o))&&(a==null||a===2&&e.credentialToken))){await O_();try{const c=await Kt.getCredential(e.params.url,{error:to("request:server",n,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=c}}if(n)throw n;return!0}function sA(e,t,r=!1){const i=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Ln.priority,n.src=e,$U(n,e,r,i)}wr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],wr._beforeFetch=void 0,wr._afterFetch=void 0;function _$(e){if(!Pt.assetsPath)throw jt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new lt("assets:path-not-set","config.assetsPath is not set");return WS(Pt.assetsPath,e)}let eb,H=null;function WU(){return!!H}function HU(){return!!fe("esri-wasm")}function YU(){return eb||(eb=we(()=>import("./pe-wasm-Bm91CMb3.js"),__vite__mapDeps([7,8]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>_$(`esri/geometry/support/${t}`)})).then(e=>{x$(e)}),eb)}var C_,Jt;(function(e){function t(s,o,a){H.ensureCache.prepare();const l=lc(a),c=a===l,f=H.ensureFloat64(l),d=H._pe_geog_to_proj(H.getPointer(s),o,f);return d&&qa(a,o,f,c),d}function r(s,o,a,l){switch(l){case Jt.PE_TRANSFORM_P_TO_G:return i(s,o,a);case Jt.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function i(s,o,a){return n(s,o,a,0)}function n(s,o,a,l){H.ensureCache.prepare();const c=lc(a),f=a===c,d=H.ensureFloat64(c),p=H._pe_proj_to_geog_center(H.getPointer(s),o,d,l);return p&&qa(a,o,d,f),p}e.geogToProj=t,e.projGeog=r,e.projToGeog=i,e.projToGeogCenter=n})(C_||(C_={})),function(e){function t(){e.PE_BUFFER_MAX=H.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=H.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=H.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=H.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=H.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=H.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=H.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=H.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=H.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=H.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=H.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=H.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=H.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=H.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=H.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=H.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=H.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=H.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=H.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=H.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=H.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=H.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=H.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=H.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=H.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=H.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=H.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=H.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=H.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=H.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=H.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=H.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Jt||(Jt={}));let w$=null;var $_;(function(e){const t={},r={},i=y=>{const g=y.getType();switch(g){case Jt.PE_TYPE_GEOGCS:y=H.castObject(y,H.PeGeogcs);break;case Jt.PE_TYPE_PROJCS:y=H.castObject(y,H.PeProjcs);break;case Jt.PE_TYPE_GEOGTRAN:y=H.castObject(y,H.PeGeogtran);break;default:g&Jt.PE_TYPE_UNIT&&(y=H.castObject(y,H.PeUnit))}return y};function n(){H.PeFactory.prototype.initialize(null)}function s(y){return o(Jt.PE_TYPE_COORDSYS,y)}function o(y,g){let w=null,_=t[y];if(_||(_={},t[y]=_),_.hasOwnProperty(String(g))&&(w=_[g],H.compare(w,H.NULL)&&(w=null)),!w){const x=H.PeFactory.prototype.factoryByType(y,g);H.compare(x,H.NULL)||(w=i(x),_[g]=w)}return w}function a(y,g){let w=null,_=r[y];if(_||(_={},r[y]=_),_.hasOwnProperty(g)&&(w=_[g],H.compare(w,H.NULL)&&(w=null)),!w){const x=H.PeFactory.prototype.fromString(y,g);H.compare(x,H.NULL)||(w=i(x),_[g]=w)}return w}function l(y){return o(Jt.PE_TYPE_GEOGCS,y)}function c(y){return o(Jt.PE_TYPE_GEOGTRAN,y)}function f(y){return H.PeFactory.prototype.getCode(y)}function d(y){return o(Jt.PE_TYPE_PROJCS,y)}function p(y){return o(Jt.PE_TYPE_UNIT,y)}e.initialize=n,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=f,e.projcs=d,e.unit=p})($_||($_={}));let S$=null;var tg,N_,P_,L_,k_,R_,rg,D_,ig,ng,F_;function x$(e){function t(s,o,a){s[o]=a(s[o])}H=e,Jt.init(),tg.init(),rg.init(),ig.init(),ng.init(),w$=class extends H.PeDouble{constructor(s=NaN){super(s)}destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}},S$=class extends H.PeGCSExtent{destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[H.PeAngunit,H.PeDatum,H.PeGeogcs,H.PeGeogtran,H.PeObject,H.PeParameter,H.PePrimem,H.PeProjcs,H.PeSpheroid,H.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(Jt.PE_NAME_MAX))});for(const s of[H.PeGeogtran,H.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(Jt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=H.getValue(l,"*");a[c]=f?H.wrapPointer(f,H.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(H.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return qa(l,a,s.call(this),o),l}),t(H.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=H._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=H.getPointer(l);for(let d=1;d<c;d++)a.push(H.wrapPointer(f+o*d,H.PeGTlistExtendedGTs))}}return a}});const i=H._pe_getPeHorizonSize(),n=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const c=l.getNump();if(c>1){const f=H.getPointer(l);for(let d=1;d<c;d++)a.push(H.wrapPointer(f+i*d,H.PeHorizon))}}return o.set(s,a),a};t(H.PeProjcs.prototype,"horizonGcsGenerate",n),t(H.PeProjcs.prototype,"horizonPcsGenerate",n),H.PeObject.prototype.toString=function(s=Jt.PE_STR_OPTS_NONE){H.ensureCache.prepare();const o=H.getPointer(this),a=H.ensureInt8(new Array(Jt.PE_BUFFER_MAX));return H.UTF8ToString(H._pe_object_to_string_ext(o,s,a))},H.PeGeogcs.prototype.destroy=function(){this.Delete(),ns(this),this.ptr=0},H.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},H.PeProjcs.prototype.destroy=function(){this.Delete(),ns(this),this.ptr=0},H.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ns(e){if(!e)return;const t=H.getClass(e);if(!t)return;const r=H.getCache(t);if(!r)return;const i=H.getPointer(e);i&&delete r[i]}function Ym(e,t){const r=[],i=new Array(t);for(let n=0;n<e;n++)r.push(H.ensureInt8(i));return r}function lc(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function qa(e,t,r,i=!1){if(i)for(let n=0;n<2*t;n++)e[n]=H.getValue(r+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let s=0;s<t;s++)n&&(e[s]=new Array(2)),e[s][0]=H.getValue(r,"double"),e[s][1]=H.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=H.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=H._pe_getPeGTlistExtendedEntrySize()}function i(n,s,o,a,l,c){let f=null;const d=new H.PeInteger(c);try{const p=H.PeGTlistExtended.prototype.getGTlist(n,s,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=H.getPointer(p);for(let g=1;g<c;g++)f.push(H.wrapPointer(y+t*g,H.PeGTlistExtendedEntry))}}finally{H.destroy(d)}return f}e.init=r,e.getGTlist=i})(tg||(tg={})),function(e){function t(r){if(r?.length){for(const i of r)ns(i),i.getEntries().forEach(n=>{ns(n);const s=n.getGeogtran();ns(s),s.getParameters().forEach(ns),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{ns(o);const a=o.getDatum();ns(a),ns(a.getSpheroid()),ns(o.getPrimem()),ns(o.getUnit())})});H.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(N_||(N_={})),function(e){function t(r,i,n,s,o){H.ensureCache.prepare();const a=lc(n),l=n===a,c=H.ensureFloat64(a);let f=0;s&&(f=H.ensureFloat64(s));const d=H._pe_geog_to_geog(H.getPointer(r),i,c,f,o);return d&&qa(n,i,c,l),d}e.geogToGeog=t}(P_||(P_={})),function(e){function t(s,o,a,l,c,f,d,p){H.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,f,d,p)}function r(s,o,a,l,c,f,d,p,y){H.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,f,d,p,y)}function i(s,o,a,l,c,f,d,p,y,g){H.PeLineType.prototype.geodetic_distance(s,o,a,l,c,f,d,p,y,g)}function n(s,o,a,l,c,f,d,p,y){H.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,f,d,p,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=r,e.geodeticDistance=i,e.greatEllipticDistance=n}(L_||(L_={})),function(e){function t(o,a){return H.PeMath.prototype.phi_to_eta(o,a)}function r(o,a){return H.PeMath.prototype.eta_to_phi(o,a)}function i(o,a){return H.PeMath.prototype.phi_to_phig(o,a)}function n(o,a,l){return H.PeMath.prototype.q(o,a,l)}function s(o,a){return H.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=r,e.phiToPhig=i,e.q=n,e.q90=s}(k_||(k_={})),function(e){const t=(c,f,d,p,y,g)=>{let w,_;switch(H.ensureCache.prepare(),c){case"dd":w=H._pe_geog_to_dd,_=Jt.PE_DD_MAX;break;case"ddm":w=H._pe_geog_to_ddm,_=Jt.PE_DDM_MAX;break;case"dms":w=H._pe_geog_to_dms,_=Jt.PE_DMS_MAX}let x=0;f&&(x=H.getPointer(f));const T=lc(p),S=H.ensureFloat64(T),v=Ym(d,_),M=w(x,d,S,y,H.ensureInt32(v));if(M)for(let C=0;C<d;C++)g[C]=H.UTF8ToString(v[C]);return M},r=(c,f,d,p,y)=>{let g;switch(H.ensureCache.prepare(),c){case"dd":g=H._pe_dd_to_geog;break;case"ddm":g=H._pe_ddm_to_geog;break;case"dms":g=H._pe_dms_to_geog}let w=0;f&&(w=H.getPointer(f));const _=p.map(v=>H.ensureString(v)),x=H.ensureInt32(_),T=H.ensureFloat64(new Array(2*d)),S=g(w,d,x,T);return S&&qa(y,d,T),S};function i(c,f,d,p,y){return t("dms",c,f,d,p,y)}function n(c,f,d,p){return r("dms",c,f,d,p)}function s(c,f,d,p,y){return t("ddm",c,f,d,p,y)}function o(c,f,d,p){return r("ddm",c,f,d,p)}function a(c,f,d,p,y){return t("dd",c,f,d,p,y)}function l(c,f,d,p){return r("dd",c,f,d,p)}e.geogToDms=i,e.dmsToGeog=n,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(R_||(R_={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=H.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=H.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(n,s,o,a,l,c,f){H.ensureCache.prepare();let d=0;n&&(d=H.getPointer(n));const p=lc(o),y=H.ensureFloat64(p),g=Ym(s,Jt.PE_MGRS_MAX),w=H.ensureInt32(g),_=H._pe_geog_to_mgrs_extended(d,s,y,a,l,c,w);if(_)for(let x=0;x<s;x++)f[x]=H.UTF8ToString(g[x]);return _}function i(n,s,o,a,l){H.ensureCache.prepare();let c=0;n&&(c=H.getPointer(n));const f=o.map(g=>H.ensureString(g)),d=H.ensureInt32(f),p=H.ensureFloat64(new Array(2*s)),y=H._pe_mgrs_to_geog_extended(c,s,d,a,p);return y&&qa(l,s,p),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=i}(rg||(rg={})),function(e){function t(i,n,s,o,a,l,c){H.ensureCache.prepare();let f=0;i&&(f=H.getPointer(i));const d=lc(s),p=H.ensureFloat64(d),y=Ym(n,Jt.PE_MGRS_MAX),g=H.ensureInt32(y),w=H._pe_geog_to_usng(f,n,p,o,a,l,g);if(w)for(let _=0;_<n;_++)c[_]=H.UTF8ToString(y[_]);return w}function r(i,n,s,o){H.ensureCache.prepare();let a=0;i&&(a=H.getPointer(i));const l=s.map(p=>H.ensureString(p)),c=H.ensureInt32(l),f=H.ensureFloat64(new Array(2*n)),d=H._pe_usng_to_geog(a,n,c,f);return d&&qa(o,n,f),d}e.geogToUsng=t,e.usngToGeog=r}(D_||(D_={})),function(e){function t(){e.PE_UTM_OPTS_NONE=H.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=H.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=H.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(n,s,o,a,l){H.ensureCache.prepare();let c=0;n&&(c=H.getPointer(n));const f=lc(o),d=H.ensureFloat64(f),p=Ym(s,Jt.PE_UTM_MAX),y=H.ensureInt32(p),g=H._pe_geog_to_utm(c,s,d,a,y);if(g)for(let w=0;w<s;w++)l[w]=H.UTF8ToString(p[w]);return g}function i(n,s,o,a,l){H.ensureCache.prepare();let c=0;n&&(c=H.getPointer(n));const f=o.map(g=>H.ensureString(g)),d=H.ensureInt32(f),p=H.ensureFloat64(new Array(2*s)),y=H._pe_utm_to_geog(c,s,d,a,p);return y&&qa(l,s,p),y}e.init=t,e.geogToUtm=r,e.utmToGeog=i}(ig||(ig={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=H.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=H.PePCSInfo.prototype.PE_POLE_POINT}function i(n,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(n)&&(a=t.get(n),a[s]&&(o=a[s])),o||(o=H.PePCSInfo.prototype.generate(n,s),a||(a=[],t.set(n,a)),a[s]=o),o}e.init=r,e.generate=i}(ng||(ng={})),function(e){function t(){return H.PeVersion.prototype.version_string()}e.versionString=t}(F_||(F_={}));const Ime=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return C_},get PeDefs(){return Jt},get PeDouble(){return w$},get PeFactory(){return $_},get PeGCSExtent(){return S$},get PeGTTransformations(){return P_},get PeGTlistExtended(){return tg},get PeGTlistExtendedEntry(){return N_},get PeLineType(){return L_},get PeMath(){return k_},get PeNotationDms(){return R_},get PeNotationMgrs(){return rg},get PeNotationUsng(){return D_},get PeNotationUtm(){return ig},get PePCSInfo(){return ng},get PeVersion(){return F_},_init:x$,get _pe(){return H},isLoaded:WU,isSupported:HU,load:YU},Symbol.toStringTag,{value:"Module"}));var Oh;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Oh||(Oh={}));let h;const $={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(h=2e3;h<=2045;h++)$[h]=0;for(h=2056;h<=2065;h++)$[h]=0;for(h=2067;h<=2135;h++)$[h]=0;for(h=2137;h<=2154;h++)$[h]=0;for(h=2161;h<=2170;h++)$[h]=0;for(h=2172;h<=2193;h++)$[h]=0;for(h=2195;h<=2198;h++)$[h]=0;for(h=2200;h<=2203;h++)$[h]=0;for(h=2205;h<=2217;h++)$[h]=0;for(h=2222;h<=2224;h++)$[h]=1;for(h=2225;h<=2250;h++)$[h]=2;for(h=2251;h<=2253;h++)$[h]=1;for(h=2257;h<=2264;h++)$[h]=2;for(h=2274;h<=2279;h++)$[h]=2;for(h=2280;h<=2282;h++)$[h]=1;for(h=2283;h<=2289;h++)$[h]=2;for(h=2290;h<=2292;h++)$[h]=0;for(h=2308;h<=2313;h++)$[h]=0;for(h=2315;h<=2491;h++)$[h]=0;for(h=2494;h<=2866;h++)$[h]=0;for(h=2867;h<=2869;h++)$[h]=1;for(h=2870;h<=2888;h++)$[h]=2;for(h=2891;h<=2895;h++)$[h]=2;for(h=2896;h<=2898;h++)$[h]=1;for(h=2902;h<=2908;h++)$[h]=2;for(h=2915;h<=2920;h++)$[h]=2;for(h=2921;h<=2923;h++)$[h]=1;for(h=2924;h<=2930;h++)$[h]=2;for(h=2931;h<=2962;h++)$[h]=0;for(h=2964;h<=2968;h++)$[h]=2;for(h=2969;h<=2973;h++)$[h]=0;for(h=2975;h<=2991;h++)$[h]=0;for(h=2995;h<=3051;h++)$[h]=0;for(h=3054;h<=3079;h++)$[h]=0;for(h=3081;h<=3088;h++)$[h]=0;for(h=3092;h<=3101;h++)$[h]=0;for(h=3106;h<=3138;h++)$[h]=0;for(h=3146;h<=3151;h++)$[h]=0;for(h=3153;h<=3166;h++)$[h]=0;for(h=3168;h<=3172;h++)$[h]=0;for(h=3174;h<=3203;h++)$[h]=0;for(h=3294;h<=3358;h++)$[h]=0;for(h=3367;h<=3403;h++)$[h]=0;for(h=3408;h<=3416;h++)$[h]=0;for(h=3417;h<=3438;h++)$[h]=2;for(h=3441;h<=3446;h++)$[h]=2;for(h=3447;h<=3450;h++)$[h]=0;for(h=3451;h<=3459;h++)$[h]=2;for(h=3460;h<=3478;h++)$[h]=0;for(h=3554;h<=3559;h++)$[h]=0;for(h=3560;h<=3570;h++)$[h]=2;for(h=3571;h<=3581;h++)$[h]=0;for(h=3594;h<=3597;h++)$[h]=0;for(h=3601;h<=3604;h++)$[h]=0;for(h=3637;h<=3639;h++)$[h]=0;for(h=3665;h<=3667;h++)$[h]=0;for(h=3693;h<=3695;h++)$[h]=0;for(h=3701;h<=3727;h++)$[h]=0;for(h=3728;h<=3739;h++)$[h]=2;for(h=3740;h<=3751;h++)$[h]=0;for(h=3753;h<=3760;h++)$[h]=2;for(h=3761;h<=3773;h++)$[h]=0;for(h=3775;h<=3777;h++)$[h]=0;for(h=3779;h<=3781;h++)$[h]=0;for(h=3783;h<=3785;h++)$[h]=0;for(h=3788;h<=3791;h++)$[h]=0;for(h=3797;h<=3802;h++)$[h]=0;for(h=3814;h<=3816;h++)$[h]=0;for(h=3825;h<=3829;h++)$[h]=0;for(h=3832;h<=3841;h++)$[h]=0;for(h=3844;h<=3852;h++)$[h]=0;for(h=3873;h<=3885;h++)$[h]=0;for(h=3890;h<=3893;h++)$[h]=0;for(h=3907;h<=3912;h++)$[h]=0;for(h=3942;h<=3950;h++)$[h]=0;for(h=3968;h<=3970;h++)$[h]=0;for(h=3973;h<=3976;h++)$[h]=0;for(h=3986;h<=3989;h++)$[h]=0;for(h=3994;h<=3997;h++)$[h]=0;for(h=4048;h<=4051;h++)$[h]=0;for(h=4056;h<=4063;h++)$[h]=0;for(h=4093;h<=4096;h++)$[h]=0;for(h=4390;h<=4398;h++)$[h]=0;for(h=4399;h<=4413;h++)$[h]=2;for(h=4418;h<=4433;h++)$[h]=2;for(h=4455;h<=4457;h++)$[h]=2;for(h=4484;h<=4489;h++)$[h]=0;for(h=4491;h<=4554;h++)$[h]=0;for(h=4568;h<=4589;h++)$[h]=0;for(h=4652;h<=4656;h++)$[h]=0;for(h=4766;h<=4800;h++)$[h]=0;for(h=5014;h<=5016;h++)$[h]=0;for(h=5069;h<=5072;h++)$[h]=0;for(h=5105;h<=5130;h++)$[h]=0;for(h=5167;h<=5188;h++)$[h]=0;for(h=5253;h<=5259;h++)$[h]=0;for(h=5269;h<=5275;h++)$[h]=0;for(h=5292;h<=5311;h++)$[h]=0;for(h=5329;h<=5331;h++)$[h]=0;for(h=5343;h<=5349;h++)$[h]=0;for(h=5355;h<=5357;h++)$[h]=0;for(h=5387;h<=5389;h++)$[h]=0;for(h=5459;h<=5463;h++)$[h]=0;for(h=5479;h<=5482;h++)$[h]=0;for(h=5518;h<=5520;h++)$[h]=0;for(h=5530;h<=5539;h++)$[h]=0;for(h=5550;h<=5552;h++)$[h]=0;for(h=5562;h<=5583;h++)$[h]=0;for(h=5623;h<=5625;h++)$[h]=2;for(h=5631;h<=5639;h++)$[h]=0;for(h=5649;h<=5653;h++)$[h]=0;for(h=5663;h<=5680;h++)$[h]=0;for(h=5682;h<=5685;h++)$[h]=0;for(h=5875;h<=5877;h++)$[h]=0;for(h=5896;h<=5899;h++)$[h]=0;for(h=5921;h<=5940;h++)$[h]=0;for(h=6050;h<=6125;h++)$[h]=0;for(h=6244;h<=6275;h++)$[h]=0;for(h=6328;h<=6348;h++)$[h]=0;for(h=6350;h<=6356;h++)$[h]=0;for(h=6366;h<=6372;h++)$[h]=0;for(h=6381;h<=6387;h++)$[h]=0;for(h=6393;h<=6404;h++)$[h]=0;for(h=6480;h<=6483;h++)$[h]=0;for(h=6511;h<=6514;h++)$[h]=0;for(h=6579;h<=6581;h++)$[h]=0;for(h=6619;h<=6624;h++)$[h]=0;for(h=6625;h<=6627;h++)$[h]=2;for(h=6628;h<=6632;h++)$[h]=0;for(h=6634;h<=6637;h++)$[h]=0;for(h=6669;h<=6692;h++)$[h]=0;for(h=6707;h<=6709;h++)$[h]=0;for(h=6720;h<=6723;h++)$[h]=0;for(h=6732;h<=6738;h++)$[h]=0;for(h=6931;h<=6933;h++)$[h]=0;for(h=6956;h<=6959;h++)$[h]=0;for(h=7005;h<=7007;h++)$[h]=0;for(h=7057;h<=7070;h++)$[h]=2;for(h=7074;h<=7082;h++)$[h]=0;for(h=7109;h<=7118;h++)$[h]=0;for(h=7119;h<=7127;h++)$[h]=1;for(h=7374;h<=7376;h++)$[h]=0;for(h=7528;h<=7586;h++)$[h]=0;for(h=7587;h<=7645;h++)$[h]=2;for(h=7692;h<=7696;h++)$[h]=0;for(h=7755;h<=7787;h++)$[h]=0;for(h=7791;h<=7795;h++)$[h]=0;for(h=7799;h<=7801;h++)$[h]=0;for(h=7803;h<=7805;h++)$[h]=0;for(h=7825;h<=7831;h++)$[h]=0;for(h=7845;h<=7859;h++)$[h]=0;for(h=8013;h<=8032;h++)$[h]=0;for(h=8065;h<=8068;h++)$[h]=1;for(h=8518;h<=8529;h++)$[h]=2;for(h=8533;h<=8536;h++)$[h]=2;for(h=8538;h<=8540;h++)$[h]=2;for(h=8677;h<=8679;h++)$[h]=0;for(h=8836;h<=8840;h++)$[h]=0;for(h=8857;h<=8859;h++)$[h]=0;for(h=8908;h<=8910;h++)$[h]=0;for(h=9154;h<=9159;h++)$[h]=0;for(h=9205;h<=9218;h++)$[h]=0;for(h=9271;h<=9273;h++)$[h]=0;for(h=9295;h<=9297;h++)$[h]=0;for(h=9356;h<=9360;h++)$[h]=0;for(h=9404;h<=9407;h++)$[h]=0;for(h=9476;h<=9482;h++)$[h]=0;for(h=9487;h<=9494;h++)$[h]=0;for(h=9697;h<=9699;h++)$[h]=0;for(h=9821;h<=9865;h++)$[h]=0;for(h=10285;h<=10291;h++)$[h]=0;for(h=10314;h<=10317;h++)$[h]=0;for(h=10448;h<=10465;h++)$[h]=0;for(h=10731;h<=10733;h++)$[h]=0;for(h=11114;h<=11118;h++)$[h]=0;for(h=20004;h<=20032;h++)$[h]=0;for(h=20047;h<=20049;h++)$[h]=0;for(h=20062;h<=20092;h++)$[h]=0;for(h=20135;h<=20138;h++)$[h]=0;for(h=20248;h<=20258;h++)$[h]=0;for(h=20348;h<=20358;h++)$[h]=0;for(h=20436;h<=20440;h++)$[h]=0;for(h=20822;h<=20824;h++)$[h]=0;for(h=20904;h<=20932;h++)$[h]=0;for(h=20934;h<=20936;h++)$[h]=0;for(h=21004;h<=21032;h++)$[h]=0;for(h=21035;h<=21037;h++)$[h]=0;for(h=21095;h<=21097;h++)$[h]=0;for(h=21148;h<=21150;h++)$[h]=0;for(h=21207;h<=21264;h++)$[h]=0;for(h=21307;h<=21364;h++)$[h]=0;for(h=21413;h<=21423;h++)$[h]=0;for(h=21453;h<=21463;h++)$[h]=0;for(h=21473;h<=21483;h++)$[h]=0;for(h=21780;h<=21782;h++)$[h]=0;for(h=21891;h<=21894;h++)$[h]=0;for(h=21896;h<=21899;h++)$[h]=0;for(h=22171;h<=22177;h++)$[h]=0;for(h=22181;h<=22187;h++)$[h]=0;for(h=22191;h<=22197;h++)$[h]=0;for(h=22207;h<=22222;h++)$[h]=0;for(h=22229;h<=22232;h++)$[h]=0;for(h=22234;h<=22236;h++)$[h]=0;for(h=22243;h<=22250;h++)$[h]=0;for(h=22262;h<=22265;h++)$[h]=0;for(h=22307;h<=22322;h++)$[h]=0;for(h=22348;h<=22357;h++)$[h]=0;for(h=22407;h<=22422;h++)$[h]=0;for(h=22462;h<=22465;h++)$[h]=0;for(h=22521;h<=22525;h++)$[h]=0;for(h=22607;h<=22622;h++)$[h]=0;for(h=22641;h<=22646;h++)$[h]=0;for(h=22648;h<=22657;h++)$[h]=0;for(h=22707;h<=22722;h++)$[h]=0;for(h=22762;h<=22765;h++)$[h]=0;for(h=22807;h<=22822;h++)$[h]=0;for(h=22991;h<=22994;h++)$[h]=0;for(h=23028;h<=23038;h++)$[h]=0;for(h=23301;h<=23333;h++)$[h]=2;for(h=23830;h<=23853;h++)$[h]=0;for(h=23866;h<=23872;h++)$[h]=0;for(h=23877;h<=23884;h++)$[h]=0;for(h=23886;h<=23894;h++)$[h]=0;for(h=23946;h<=23948;h++)$[h]=0;for(h=24311;h<=24313;h++)$[h]=0;for(h=24342;h<=24347;h++)$[h]=0;for(h=24370;h<=24374;h++)$[h]=10;for(h=24375;h<=24381;h++)$[h]=0;for(h=24718;h<=24721;h++)$[h]=0;for(h=24817;h<=24821;h++)$[h]=0;for(h=24877;h<=24882;h++)$[h]=0;for(h=24891;h<=24893;h++)$[h]=0;for(h=25391;h<=25395;h++)$[h]=0;for(h=25828;h<=25838;h++)$[h]=0;for(h=26191;h<=26195;h++)$[h]=0;for(h=26391;h<=26393;h++)$[h]=0;for(h=26701;h<=26722;h++)$[h]=0;for(h=26729;h<=26799;h++)$[h]=2;for(h=26801;h<=26803;h++)$[h]=2;for(h=26811;h<=26813;h++)$[h]=2;for(h=26847;h<=26870;h++)$[h]=2;for(h=26891;h<=26899;h++)$[h]=0;for(h=26901;h<=26923;h++)$[h]=0;for(h=26929;h<=26946;h++)$[h]=0;for(h=26948;h<=26998;h++)$[h]=0;for(h=27037;h<=27040;h++)$[h]=0;for(h=27205;h<=27232;h++)$[h]=0;for(h=27258;h<=27260;h++)$[h]=0;for(h=27391;h<=27398;h++)$[h]=0;for(h=27561;h<=27564;h++)$[h]=0;for(h=27571;h<=27574;h++)$[h]=0;for(h=27581;h<=27584;h++)$[h]=0;for(h=27591;h<=27594;h++)$[h]=0;for(h=27700;h<=27707;h++)$[h]=0;for(h=28191;h<=28193;h++)$[h]=0;for(h=28348;h<=28358;h++)$[h]=0;for(h=28402;h<=28432;h++)$[h]=0;for(h=28462;h<=28492;h++)$[h]=0;for(h=29118;h<=29122;h++)$[h]=0;for(h=29168;h<=29172;h++)$[h]=0;for(h=29177;h<=29185;h++)$[h]=0;for(h=29187;h<=29195;h++)$[h]=0;for(h=29900;h<=29903;h++)$[h]=0;for(h=30161;h<=30179;h++)$[h]=0;for(h=30491;h<=30494;h++)$[h]=0;for(h=30729;h<=30732;h++)$[h]=0;for(h=31251;h<=31259;h++)$[h]=0;for(h=31265;h<=31268;h++)$[h]=0;for(h=31275;h<=31279;h++)$[h]=0;for(h=31281;h<=31297;h++)$[h]=0;for(h=31461;h<=31469;h++)$[h]=0;for(h=31491;h<=31495;h++)$[h]=0;for(h=31917;h<=31922;h++)$[h]=0;for(h=31965;h<=32e3;h++)$[h]=0;for(h=32001;h<=32003;h++)$[h]=2;for(h=32005;h<=32031;h++)$[h]=2;for(h=32033;h<=32060;h++)$[h]=2;for(h=32064;h<=32067;h++)$[h]=2;for(h=32074;h<=32077;h++)$[h]=2;for(h=32081;h<=32086;h++)$[h]=0;for(h=32107;h<=32130;h++)$[h]=0;for(h=32133;h<=32159;h++)$[h]=0;for(h=32164;h<=32167;h++)$[h]=2;for(h=32180;h<=32199;h++)$[h]=0;for(h=32201;h<=32260;h++)$[h]=0;for(h=32301;h<=32360;h++)$[h]=0;for(h=32401;h<=32460;h++)$[h]=0;for(h=32501;h<=32560;h++)$[h]=0;for(h=32601;h<=32662;h++)$[h]=0;for(h=32664;h<=32667;h++)$[h]=2;for(h=32701;h<=32761;h++)$[h]=0;for(h=53001;h<=53004;h++)$[h]=0;for(h=53008;h<=53019;h++)$[h]=0;for(h=53021;h<=53032;h++)$[h]=0;for(h=53034;h<=53037;h++)$[h]=0;for(h=53042;h<=53046;h++)$[h]=0;for(h=53074;h<=53080;h++)$[h]=0;for(h=54001;h<=54004;h++)$[h]=0;for(h=54008;h<=54019;h++)$[h]=0;for(h=54021;h<=54032;h++)$[h]=0;for(h=54034;h<=54037;h++)$[h]=0;for(h=54042;h<=54046;h++)$[h]=0;for(h=54048;h<=54053;h++)$[h]=0;for(h=54074;h<=54080;h++)$[h]=0;for(h=54098;h<=54101;h++)$[h]=0;for(h=102001;h<=102040;h++)$[h]=0;for(h=102042;h<=102063;h++)$[h]=0;for(h=102065;h<=102067;h++)$[h]=0;for(h=102070;h<=102117;h++)$[h]=0;for(h=102122;h<=102216;h++)$[h]=0;for(h=102221;h<=102377;h++)$[h]=0;for(h=102382;h<=102388;h++)$[h]=0;for(h=102389;h<=102398;h++)$[h]=2;for(h=102399;h<=102444;h++)$[h]=0;for(h=102445;h<=102447;h++)$[h]=2;for(h=102448;h<=102458;h++)$[h]=0;for(h=102459;h<=102468;h++)$[h]=2;for(h=102469;h<=102499;h++)$[h]=0;for(h=102500;h<=102519;h++)$[h]=1;for(h=102520;h<=102524;h++)$[h]=0;for(h=102525;h<=102529;h++)$[h]=2;for(h=102530;h<=102588;h++)$[h]=0;for(h=102590;h<=102598;h++)$[h]=0;for(h=102601;h<=102603;h++)$[h]=0;for(h=102605;h<=102628;h++)$[h]=0;for(h=102629;h<=102646;h++)$[h]=2;for(h=102648;h<=102700;h++)$[h]=2;for(h=102701;h<=102703;h++)$[h]=0;for(h=102707;h<=102730;h++)$[h]=2;for(h=102733;h<=102758;h++)$[h]=2;for(h=102767;h<=102900;h++)$[h]=0;for(h=102901;h<=102933;h++)$[h]=2;for(h=102934;h<=102950;h++)$[h]=13;for(h=102951;h<=102963;h++)$[h]=0;for(h=102965;h<=102969;h++)$[h]=0;for(h=102971;h<=102973;h++)$[h]=0;for(h=102975;h<=102989;h++)$[h]=0;for(h=102990;h<=102992;h++)$[h]=1;for(h=102997;h<=103002;h++)$[h]=0;for(h=103003;h<=103008;h++)$[h]=2;for(h=103009;h<=103011;h++)$[h]=0;for(h=103012;h<=103014;h++)$[h]=2;for(h=103019;h<=103021;h++)$[h]=0;for(h=103022;h<=103024;h++)$[h]=2;for(h=103029;h<=103031;h++)$[h]=0;for(h=103032;h<=103034;h++)$[h]=2;for(h=103065;h<=103068;h++)$[h]=0;for(h=103074;h<=103076;h++)$[h]=0;for(h=103077;h<=103079;h++)$[h]=1;for(h=103080;h<=103082;h++)$[h]=0;for(h=103083;h<=103085;h++)$[h]=2;for(h=103090;h<=103093;h++)$[h]=0;for(h=103097;h<=103099;h++)$[h]=0;for(h=103100;h<=103102;h++)$[h]=2;for(h=103107;h<=103109;h++)$[h]=0;for(h=103110;h<=103112;h++)$[h]=2;for(h=103113;h<=103116;h++)$[h]=0;for(h=103117;h<=103120;h++)$[h]=2;for(h=103153;h<=103157;h++)$[h]=0;for(h=103158;h<=103162;h++)$[h]=2;for(h=103163;h<=103165;h++)$[h]=0;for(h=103166;h<=103168;h++)$[h]=1;for(h=103169;h<=103171;h++)$[h]=2;for(h=103186;h<=103188;h++)$[h]=0;for(h=103189;h<=103191;h++)$[h]=2;for(h=103192;h<=103195;h++)$[h]=0;for(h=103196;h<=103199;h++)$[h]=2;for(h=103200;h<=103224;h++)$[h]=0;for(h=103225;h<=103227;h++)$[h]=1;for(h=103232;h<=103237;h++)$[h]=0;for(h=103238;h<=103243;h++)$[h]=2;for(h=103244;h<=103246;h++)$[h]=0;for(h=103247;h<=103249;h++)$[h]=2;for(h=103254;h<=103256;h++)$[h]=0;for(h=103257;h<=103259;h++)$[h]=2;for(h=103264;h<=103266;h++)$[h]=0;for(h=103267;h<=103269;h++)$[h]=2;for(h=103300;h<=103375;h++)$[h]=0;for(h=103381;h<=103383;h++)$[h]=0;for(h=103384;h<=103386;h++)$[h]=1;for(h=103387;h<=103389;h++)$[h]=0;for(h=103390;h<=103392;h++)$[h]=2;for(h=103397;h<=103399;h++)$[h]=0;for(h=103400;h<=103471;h++)$[h]=2;for(h=103476;h<=103478;h++)$[h]=0;for(h=103479;h<=103481;h++)$[h]=2;for(h=103486;h<=103488;h++)$[h]=0;for(h=103489;h<=103491;h++)$[h]=2;for(h=103492;h<=103495;h++)$[h]=0;for(h=103496;h<=103499;h++)$[h]=2;for(h=103528;h<=103543;h++)$[h]=0;for(h=103544;h<=103548;h++)$[h]=2;for(h=103549;h<=103551;h++)$[h]=0;for(h=103552;h<=103554;h++)$[h]=1;for(h=103555;h<=103557;h++)$[h]=2;for(h=103558;h<=103560;h++)$[h]=0;for(h=103571;h<=103573;h++)$[h]=0;for(h=103574;h<=103576;h++)$[h]=2;for(h=103577;h<=103580;h++)$[h]=0;for(h=103581;h<=103583;h++)$[h]=2;for(h=103595;h<=103694;h++)$[h]=0;for(h=103696;h<=103699;h++)$[h]=0;for(h=103700;h<=103793;h++)$[h]=2;for(h=103794;h<=103890;h++)$[h]=0;for(h=103891;h<=103896;h++)$[h]=2;for(h=103900;h<=103971;h++)$[h]=2;for(h=103972;h<=103977;h++)$[h]=0;for(h=112e3;h<=112101;h++)$[h]=0;const E$=[102100,102113,3857,3785,900913],JU=[104905,104971],KU=[4326,...E$,...JU],ap=[-20037508342788905e-9,20037508342788905e-9],U_=[-20037508342787e-6,20037508342787e-6],tb={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:ap,origin:U_,dx:1e-5},T$={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ap,origin:U_,dx:1e-5},102100:tb,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ap,origin:U_,dx:1e-5},3857:tb,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:tb};function kc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,i=t.wkid;if(r!=null||i!=null){if(r===i||Rc(e)&&Rc(t))return!0;const o=e.latestWkid;if(o!=null&&i===o)return!0;const a=t.latestWkid;return a!=null&&r===a}let n,s;return e.wkt2&&t.wkt2?(n=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,s=t.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function Td(e){const t=e?.wkid;return t!=null&&t>=2e3&&T$[t]||null}function Ome(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const i=e.wkt||e.wkt2;return JSON.stringify(i?r?{wkt:i,vcsWkid:r}:{wkt:i}:{})}function KS(e){if(!A$(e))return!1;const{wkid:t}=e;if(t)return $[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function ZU(e){return!(XU(e)||QU(e))}function sg(e){return e?.wkid===4326}function Cme(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function $me(e){return e?.wkid===Oh.CGCS2000}function Rc(e){const t=e?.wkid;return t!=null&&t>=2e3&&E$.includes(t)}function Nme(e){return e?.wkid===32662}function C1(e){return e===Oh.GCSMARS2000||e===Oh.GCSMARS2000_SPHERE}function XU(e){return C1(e?.wkid)}function $1(e){return e===Oh.GCSMOON2000}function QU(e){return $1(e?.wkid)}function ej(e){const t=e?.wkid;return t!=null&&t>=2e3&&KU.includes(t)}function A$(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const M$={wkid:4326,wkt:lC(T$[4326].wkTemplate,{Central_Meridian:"0.0"})},I$={wkid:102100,latestWkid:3857},tj={wkid:32662};function ZS(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const rj=ZS(_s),O$=ZS(np),C$=ZS(I1),Pme={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${_s.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},ij=O$.wkt.toUpperCase(),nj=C$.wkt.toUpperCase();function sj(e){if(e!=null&&A$(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(C1(t))return np;const i=r?.toUpperCase();if(r&&i===ij)return np;if($1(t)||i&&i===nj)return I1}return _s}function Lme(e){return C1(e)?np:$1(e)?I1:_s}function oj(e){return kc(e,rj)}function kme(e){return oj(e)||kc(e,O$)||kc(e,C$)}const Rme=39.37,aj=_s.radius*Math.PI/200,$$=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,_c=$,N$=/UNIT\[([^\]]+)]/i,lj=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),cj=Es()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Cs=e=>e*e,ca=e=>e*e*e,lp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Cs(.001)},"square-centimeters":{inBaseUnits:Cs(.01)},"square-decimeters":{inBaseUnits:Cs(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Cs(1e3)},"square-inches":{inBaseUnits:Cs(.0254)},"square-feet":{inBaseUnits:Cs(.3048)},"square-yards":{inBaseUnits:Cs(.9144)},"square-miles":{inBaseUnits:Cs(1609.344)},"square-us-feet":{inBaseUnits:Cs(1200/3937)},acres:{inBaseUnits:.0015625*Cs(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*ca(.001)},"cubic-centimeters":{inBaseUnits:1e3*ca(.01)},"cubic-decimeters":{inBaseUnits:1e3*ca(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*ca(1e3)},"cubic-inches":{inBaseUnits:1e3*ca(.0254)},"cubic-feet":{inBaseUnits:1e3*ca(.3048)},"cubic-yards":{inBaseUnits:1e3*ca(.9144)},"cubic-miles":{inBaseUnits:1e3*ca(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},uj=(()=>{const e={};for(const t in lp)for(const r in lp[t].units)e[r]=t;return e})();function hj(e,t,r){return e*lp[r].units[t].inBaseUnits}function fj(e,t,r){return e/lp[r].units[t].inBaseUnits}const P$=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],dj=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function j_(e){const t=uj[e];if(!t)throw new Error("unknown type");return t}function oA(e,t=null){return t=t||j_(e),lp[t].baseUnit===e}function Qc(e,t,r){if(t===r)return e;const i=j_(t);if(i!==j_(r))throw new Error("incompatible units");const n=oA(t,i)?e:hj(e,t,i);return oA(r,i)?n:fj(n,r,i)}function pj(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function Dme(e){return pj(e)}function Fme(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function Ume(e,t){const r=Qc(e,t,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function jme(e,t){const r=Qc(e,t,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function Gme(e,t){const r=Qc(e,t,"feet");return Math.abs(r)<1e3?"feet":"miles"}function Bme(e,t){const r=Qc(e,t,"feet");return Math.abs(r)<1e5?"feet":"miles"}function Vme(e,t){const r=Qc(e,t,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function zme(e,t){const r=Qc(e,t,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function qme(e,t,r){return Qc(e,t,"meters")/(r*Math.PI/180)}function mj(e){return cj.fromJSON(e.toLowerCase())||null}function Wme(e){if(e!=null&&!ZU(e))return 1;const t=N1(e);return t>1e5?1:t}function yj(e){return N1(e)>=sj(e).metersPerDegree?"meters":tm(e)}function N1(e,t=_s.metersPerDegree){return gj(e,!0)??t}function gj(e,t=!1){const r=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let n=null;if(r){if(C1(r))return np.metersPerDegree;if($1(r))return I1.metersPerDegree;n=_c.values[_c[r]],!n&&t&&lj.has(r)&&(n=aj)}else i&&(R$(i)?n=aA($$.exec(i),n):k$(i)&&(n=aA(N$.exec(i),n)));return n}function Hme(e){return KS(e)?1:N1(e)}function aA(e,t){return e?.[1]?L$(e[1]):t}function L$(e){return parseFloat(e.split(",")[1])}function tm(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let i=null;if(t)i=_c.units[_c[t]];else if(r){const n=R$(r)?$$:k$(r)?N$:null;if(n){const s=n.exec(r);s?.[1]&&(i=bj(s[1]))}}return i!=null?mj(i):null}function Yme(e){const t=tm(e);return t!=null&&P$.includes(t)?t:null}function Jme(e){const t=yj(e);return t!=null&&P$.includes(t)?t:null}function Kme(e){const t=tm(e);return t==null?null:dj.get(t)}function k$(e){return/^GEOCCS/i.test(e)}function R$(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const vj=1e-7;function bj(e){let r=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!r||!_c.units.includes(r)){const i=L$(e);r=null;const n=_c.values;for(let s=0;s<n.length;++s)if(Math.abs(i-n[s])<vj){r=_c.units[s];break}}return r}function Zme(e){const t=tm(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const _j={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},wj={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Sj={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Xme=Es()(_j),Qme=Es()(wj),e0e=Es()(Sj);function or(e,t,r){let i,n;return t===void 0?(n=e,i=[void 0]):typeof t!="string"?(n=e,i=[void 0],r=t):(n=t,i=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of i){const c=wC(s,l,n);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}var Ls;let At=Ls=class extends it{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return Ls.WebMercator;if(e?.wkid===4326)return Ls.WGS84;const t=new Ls;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return sg(this)}get isWebMercator(){return Rc(this)}get isGeographic(){return KS(this)}get isWrappable(){return ej(this)}get metersPerUnit(){return N1(this)}get unit(){return tm(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Ls.WGS84)return new Ls(M$);if(this===Ls.WebMercator)return new Ls(I$);const e=new Ls;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||i?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return kc(this,e)}toJSON(e){return this.write(void 0,e)}};At.GCS_NAD_1927=null,At.WGS84=null,At.WebMercator=null,At.PlateCarree=null,b([A({readOnly:!0})],At.prototype,"isWGS84",null),b([A({readOnly:!0})],At.prototype,"isWebMercator",null),b([A({readOnly:!0})],At.prototype,"isGeographic",null),b([A({readOnly:!0})],At.prototype,"isWrappable",null),b([A({type:Gr,json:{write:!0}})],At.prototype,"latestWkid",void 0),b([A({readOnly:!0})],At.prototype,"metersPerUnit",null),b([A({readOnly:!0})],At.prototype,"unit",null),b([A({type:Gr,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],At.prototype,"wkid",void 0),b([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],At.prototype,"wkt",void 0),b([or("wkt"),or("web-scene","wkt")],At.prototype,"writeWkt",null),b([A({type:String,json:{write:!1}})],At.prototype,"wkt2",void 0),b([A({type:Gr,json:{write:!0}})],At.prototype,"vcsWkid",void 0),b([A({type:Gr,json:{write:!0}})],At.prototype,"latestVcsWkid",void 0),b([A()],At.prototype,"imageCoordinateSystem",void 0),At=Ls=b([le("esri.geometry.SpatialReference")],At),At.prototype.toJSON.isDefaultToJSON=!0,At.GCS_NAD_1927=Zr.freeze(new At({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),At.WGS84=Zr.freeze(new At(M$)),At.WebMercator=Zr.freeze(new At(I$)),At.PlateCarree=Zr.freeze(new At(tj));const Vr=At;let ks=class extends it{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Vr.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof Vr)return t;if(t!=null){const i=new Vr;return i.read(t,r),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};b([A()],ks.prototype,"type",void 0),b([A({readOnly:!0})],ks.prototype,"cache",null),b([A({readOnly:!0})],ks.prototype,"extent",null),b([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ks.prototype,"hasM",void 0),b([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ks.prototype,"hasZ",void 0),b([A({type:Vr,json:{write:!0},value:Vr.WGS84})],ks.prototype,"spatialReference",void 0),b([Kr("spatialReference")],ks.prototype,"readSpatialReference",null),ks=b([le("esri.geometry.Geometry")],ks);const eu=ks,xj=Object.prototype.toString;function Ej(e){const t="__accessorMetadata__"in e?bs(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Tj.apply(this,r)}}function Tj(e,t,r,i){T1(e,t).cast=i}function Aj(e){return(t,r)=>{T1(t,e).cast=t[r]}}function rm(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&xj.call(e[0])==="[object Function]"?Ej(e[0]):e.length===1&&typeof e[0]=="string"?Aj(e[0]):void 0}const Mj=57.29577951308232,Ij=.017453292519943;function lA(e){return e*Mj}function cA(e){return e*Ij}function r0e(e){return Math.PI/2-2*Math.atan(Math.exp(-e/_s.radius))}function G_(e){return e.wkid!=null||e.wkt!=null}const rb=[0,0];function og(e,t,r,i,n){const s=e,o=n;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,rb,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,rb,i),[o.xmax,o.ymax]=t(s.xmax,s.ymax,rb,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],i)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return n}function W0(e,t){const r=e&&(G_(e)?e:e.spatialReference),i=t&&(G_(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!i)&&(!!kc(i,r)||Rc(i)&&sg(r)||Rc(r)&&sg(i))}function D$(e,t){if(e==null)return null;const r=e.spatialReference,i=t&&(G_(t)?t:t.spatialReference);return W0(r,i)?kc(r,i)?ge(e):Rc(i)?og(e,Wu,Vr.WebMercator,!1,ge(e)):sg(i)?og(e,P1,Vr.WGS84,!1,ge(e)):null:null}function Wu(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=cA(t);return r[0]=cA(e)*_s.radius,r[1]=_s.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function P1(e,t,r=[0,0],i=!1){if(e===ap[0])r[0]=-180;else if(e===ap[1])r[0]=180;else{const n=lA(e/_s.radius);r[0]=i?n:n-360*Math.floor((n+180)/360)}return r[1]=lA(Math.PI/2-2*Math.atan(Math.exp(-t/_s.radius))),r}function ib(e,t=!1,r=ge(e)){return og(e,Wu,Vr.WebMercator,t,r)}function Jm(e,t=!1,r=ge(e)){return og(e,P1,Vr.WGS84,t,r)}function Oj(e,t){const r=e.x-t.x,i=e.y-t.y,n=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+i*i+n*n)}function Cj(e){return F$(e,U$)?.[0]??null}function $j(e){return F$(e,U$)?.[1]??null}function F$({x:e,y:t,spatialReference:r},i=[0,0]){if(r){if(Rc(r))return P1(e,t,i);if(KS(r))return i[0]=e,i[1]=t,i}return null}const U$=[0,0];var H0;const nb=[0,0];function uA(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ti=H0=class extends eu{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Zr.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],r=s[2],i=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,i=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new Vr(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)jt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)jt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n?.isWebMercator){const a=Wu(s.longitude,s.latitude,nb);e=a[0],t=a[1]}}}else uA(r)?(n=r,r=null):uA(i)&&(n=i,i=null);const o={x:e,y:t};return o.x==null&&o.y!=null?jt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&jt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(o.spatialReference=n),r!=null&&(o.z=r),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return $j(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Wu(r,e,nb)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Cj(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",Wu(e,t,nb)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new H0;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return H0.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:i,m:n,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:f}=e;if(!s.equals(f))if(s.isWebMercator&&f.isWGS84)[l,c]=Wu(l,c),f=s;else{if(!s.isWGS84||!f.isWebMercator)return!1;[l,c]=P1(l,c),f=s}return t===l&&r===c&&i===o&&n===a&&s.wkid===f.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=Td(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,n=2*i;let s;return t>i?(s=Math.ceil(Math.abs(t-i)/n),t-=s*n):t<r&&(s=Math.ceil(Math.abs(t-r)/n),t+=s*n),this._set("x",t),this}distance(e){return Oj(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};b([A({readOnly:!0})],Ti.prototype,"cache",null),b([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ti.prototype,"hasM",null),b([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ti.prototype,"hasZ",null),b([A({type:Number})],Ti.prototype,"latitude",null),b([A({type:Number})],Ti.prototype,"longitude",null),b([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),rm(e=>isNaN(e)?e:x1(e))],Ti.prototype,"x",void 0),b([or("x")],Ti.prototype,"writeX",null),b([Kr("x")],Ti.prototype,"readX",null),b([A({type:Number,json:{write:!0}})],Ti.prototype,"y",void 0),b([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ti.prototype,"z",void 0),b([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ti.prototype,"m",void 0),Ti=H0=b([le("esri.geometry.Point")],Ti),Ti.prototype.toJSON.isDefaultToJSON=!0;const Cr=Ti,sb=[0,0];function j$(e,t){return t!=null&&Ii(e,t.x,t.y,t.z)}function i0e(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Ch(e,r))return!1;return!0}function Nj(e,t){const{xmin:r,ymin:i,zmin:n,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Ii(e,r,i,n)&&Ii(e,r,o,n)&&Ii(e,s,o,n)&&Ii(e,s,i,n)&&Ii(e,r,i,a)&&Ii(e,r,o,a)&&Ii(e,s,o,a)&&Ii(e,s,i,a):Ii(e,r,i)&&Ii(e,r,o)&&Ii(e,s,o)&&Ii(e,s,i)}function Ch(e,t){return Ii(e,t[0],t[1])}function Pj(e,t){return Ii(e,t[0],t[1],t[2])}function Ii(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function Lj(e,t){return sb[1]=t.y,sb[0]=t.x,kj(e,sb)}function kj(e,t){return G$(e.rings,t)}function G$(e,t){if(!e)return!1;if(Rj(e))return hA(!1,e,t);let r=!1;for(let i=0,n=e.length;i<n;i++)r=hA(r,e[i],t);return r}function Rj(e){return!Array.isArray(e[0][0])}function hA(e,t,r){const[i,n]=r;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=t[a],[d,p]=t[o];(f<n&&p>=n||p<n&&f>=n)&&c+(n-f)/(p-f)*(d-c)<i&&(s=!s)}return s}function Dj(e,t){return j$(e,t)}function Fj(e,t){const r=e.hasZ&&t.hasZ;let i,n,s;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function Uj(e,t){const{points:r,hasZ:i}=t,n=i?Pj:Ch;for(const s of r)if(n(e,s))return!0;return!1}const Dc=[0,0],Fc=[0,0],Uc=[0,0],jc=[0,0],jj=[Dc,Fc,Uc,jc],B$=[[Uc,Dc],[Dc,Fc],[Fc,jc],[jc,Uc]];function Gj(e,t){return Bj(e,t.rings)}function Bj(e,t){Dc[0]=e.xmin,Dc[1]=e.ymax,Fc[0]=e.xmax,Fc[1]=e.ymax,Uc[0]=e.xmin,Uc[1]=e.ymin,jc[0]=e.xmax,jc[1]=e.ymin;for(const r of jj)if(G$(t,r))return!0;for(const r of t){if(!r.length)continue;let i=r[0];if(Ch(e,i))return!0;for(let n=1;n<r.length;n++){const s=r[n];if(Ch(e,s)||V$(i,s,B$))return!0;i=s}}return!1}function Vj(e,t){Dc[0]=e.xmin,Dc[1]=e.ymax,Fc[0]=e.xmax,Fc[1]=e.ymax,Uc[0]=e.xmin,Uc[1]=e.ymin,jc[0]=e.xmax,jc[1]=e.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let n=i[0];if(Ch(e,n))return!0;for(let s=1;s<i.length;s++){const o=i[s];if(Ch(e,o)||V$(n,o,B$))return!0;n=o}}return!1}const Hr=[0,0];function zj(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const s=r[n],o=r[n+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],f=e[a][l+1];if(B_(s,o,c,f,Hr)&&!(Hr[0]===s[0]&&Hr[1]===s[1]||Hr[0]===c[0]&&Hr[1]===c[1]||Hr[0]===o[0]&&Hr[1]===o[1]||Hr[0]===f[0]&&Hr[1]===f[1]))return!0}}const i=r.length;if(!(i<=4))for(let n=0;n<i-3;n++){let s=i-1;n===0&&(s=i-2);const o=r[n],a=r[n+1];for(let l=n+2;l<s;l++){const c=r[l],f=r[l+1];if(B_(o,a,c,f,Hr)&&!(Hr[0]===o[0]&&Hr[1]===o[1]||Hr[0]===c[0]&&Hr[1]===c[1]||Hr[0]===a[0]&&Hr[1]===a[1]||Hr[0]===f[0]&&Hr[1]===f[1]))return!0}}}return!1}function V$(e,t,r){for(let i=0;i<r.length;i++)if(B_(e,t,r[i][0],r[i][1]))return!0;return!1}function B_(e,t,r,i,n){const[s,o]=e,[a,l]=t,[c,f]=r,[d,p]=i,y=d-c,g=s-c,w=a-s,_=p-f,x=o-f,T=l-o,S=_*w-y*T;if(S===0)return!1;const v=(y*x-_*g)/S,M=(w*x-T*g)/S;return v>=0&&v<=1&&M>=0&&M<=1&&(n&&(n[0]=s+v*(a-s),n[1]=o+v*(l-o)),!0)}function qj(e){switch(e){case"esriGeometryEnvelope":case"extent":return Fj;case"esriGeometryMultipoint":case"multipoint":return Uj;case"esriGeometryPoint":case"point":return Dj;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Gj;case"esriGeometryPolyline":case"polyline":return Vj}}var In;function Wj(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function ua(e,t,r){return t==null?r:r==null?t:e(t,r)}let Dr=In=class extends eu{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,n){return Wj(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Vr.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:n??Vr.WGS84}}static fromBounds(e,t){return new In({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new In({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Cr({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new In;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&W0(t,r)&&(e=t.isWebMercator?ib(e):Jm(e,!0)),e.type==="point"?j$(this,e):e.type==="extent"&&Nj(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&W0(t,r)&&(e=t.isWebMercator?ib(e):Jm(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!kc(t,r)&&W0(t,r)&&(e=t.isWebMercator?ib(e):Jm(e,!0)),qj(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ua(Math.min,this.zmin,e.zmin),this.zmax=ua(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ua(Math.min,this.mmin,e.mmin),this.mmax=ua(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ua(Math.max,this.zmin,e.zmin),this.zmax=ua(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ua(Math.max,this.mmin,e.mmin),this.mmax=ua(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Td(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?Jm(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=ob(i.x,e).x),this.spatialReference=new Vr(lC((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,n=this.xmin,s=this.xmax;return n>=r&&n<=i&&s>=r&&s<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;const n=r??Td(i);if(n==null)return this;const s=this._getParts(n).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;e=e||Td(o);const[d,p]=e.valid;f=ob(this.xmin,e);const y=f.x,g=f.frameId;f=ob(this.xmax,e);const w=f.x,_=f.frameId,x=y===w&&a>0;if(a>2*p){const T=new In(l<c?y:w,n,p,s,o),S=new In(d,n,l<c?w:y,s,o),v=new In(0,n,p,s,o),M=new In(d,n,0,s,o),C=[],L=[];T.contains(v)&&C.push(g),T.contains(M)&&L.push(g),S.contains(v)&&C.push(_),S.contains(M)&&L.push(_);for(let R=g+1;R<_;R++)C.push(R),L.push(R);t.push({extent:T,frameIds:[g]},{extent:S,frameIds:[_]},{extent:v,frameIds:C},{extent:M,frameIds:L})}else y>w||x?t.push({extent:new In(y,n,p,s,o),frameIds:[g]},{extent:new In(d,n,w,s,o),frameIds:[_]}):t.push({extent:new In(y,n,w,s,o),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const n={};r&&(n.zmin=this.zmin,n.zmax=this.zmax),i&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(n)}return t}};function ob(e,t){const[r,i]=t.valid,n=2*i;let s,o=0;return e>i?(s=Math.ceil(Math.abs(e-i)/n),e-=s*n,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/n),e+=s*n,o=-s),{x:e,frameId:o}}b([A({readOnly:!0})],Dr.prototype,"cache",null),b([A({readOnly:!0})],Dr.prototype,"center",null),b([A({readOnly:!0})],Dr.prototype,"extent",null),b([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Dr.prototype,"hasM",null),b([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Dr.prototype,"hasZ",null),b([A({readOnly:!0})],Dr.prototype,"height",null),b([A({readOnly:!0})],Dr.prototype,"width",null),b([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Dr.prototype,"xmin",void 0),b([A({type:Number,json:{write:!0}})],Dr.prototype,"ymin",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Dr.prototype,"mmin",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Dr.prototype,"zmin",void 0),b([A({type:Number,json:{write:!0}})],Dr.prototype,"xmax",void 0),b([A({type:Number,json:{write:!0}})],Dr.prototype,"ymax",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Dr.prototype,"mmax",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Dr.prototype,"zmax",void 0),Dr=In=b([le("esri.geometry.Extent")],Dr),Dr.prototype.toJSON.isDefaultToJSON=!0;const zn=Dr;function $h(e,t,r=!1){let{hasM:i,hasZ:n}=e;Array.isArray(t)?t.length!==4||i||n?t.length===3&&r&&!i?(n=!0,i=!1):t.length===3&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=i}var V_;function fA(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function Hj(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Sa=V_=class extends eu{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):Hj(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=r.points?.[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new zn,r=this.hasZ,i=this.hasM,n=r?3:2,s=e[0],o=fA(Math.min),a=fA(Math.max);let l,c,f,d,[p,y]=s,[g,w]=s;for(let _=0,x=e.length;_<x;_++){const T=e[_],[S,v]=T;if(p=o(p,S),y=o(y,v),g=a(g,S),w=a(w,v),r&&T.length>2){const M=T[2];l=o(l,M),f=a(f,M)}if(i&&T.length>n){const M=T[n];c=o(c,M),d=a(d,M)}}return t.xmin=p,t.ymin=y,t.xmax=g,t.ymax=w,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),i?(t.mmin=c,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ge(this.points)}addPoint(e){return $h(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new V_(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new Cr(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Cr(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?($h(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};b([A({readOnly:!0})],Sa.prototype,"cache",null),b([A()],Sa.prototype,"extent",null),b([A({type:[[Number]],json:{write:{isRequired:!0}}})],Sa.prototype,"points",void 0),b([or("points")],Sa.prototype,"writePoints",null),Sa=V_=b([le("esri.geometry.Multipoint")],Sa),Sa.prototype.toJSON.isDefaultToJSON=!0;const L1=Sa;function n0e(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function Yj(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var ag;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(ag||(ag={}));function XS(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}return Math.sqrt(r*r+i*i)}function Jj(e,t,r){const i=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,n,e[2]+r*(t[2]-e[2])]:[i,n]}function s0e(e,t,r,i){return Kj(e,t,r[i],r[i+1])}function Kj(e,t,r,i){const[n,s]=t,[o,a]=r,[l,c]=i,f=l-o,d=c-a,p=f*f+d*d,y=(n-o)*f+(s-a)*d,g=Math.min(1,Math.max(0,y/p));return e[0]=o+f*g,e[1]=a+d*g,e}function o0e(e,t,r,i,n,s){let o=r,a=i,l=n-o,c=s-a;if(l!==0||c!==0){const f=((e-o)*l+(t-a)*c)/(l*l+c*c);f>1?(o=n,a=s):f>0&&(o+=l*f,a+=c*f)}return l=e-o,c=t-a,l*l+c*c}function z$(e,t){return Jj(e,t,.5)}function a0e(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=XS(e[i],e[i+1]);return r}function q$(e,t=ag.X,r=ag.Y){let i=0;const n=e.length;let s=e[0];for(let o=1;o<n;o++){const a=e[o];i+=(a[t]-s[t])*(a[r]+s[r]),s=a}if(!W$(e)){const o=e[0];i+=(o[t]-s[t])*(o[r]+s[r])}return i>=0}function W$(e){const t=e.length;return t<3||_1(e[0],e[t-1])}function l0e(e){"rings"in e&&(Zj(e),Xj(e))}function Zj(e){if(!("rings"in e))return!1;let t=!1;for(const r of e.rings)W$(r)||(r.push(r[0].slice()),t=!0);return t}function Xj(e){if(!("rings"in e)||e.rings.length===0||q$(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function c0e(e){return e.type!=="polygon"&&e.type!=="polyline"||Qj(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function Qj(e,t){const r=Td(t);if(!r)return;const i=r.valid[0],n=r.valid[1],s=n-i;for(const o of e){let a=1/0,l=-1/0;for(const f of o){const d=eG(f[0],i,n);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;s-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=s)})}}function eG(e,t,r){const i=r-t;return e<t?r-(t-e)%i:e>r?t+(e-t)%i:e}function u0e(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[r,i]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return r.length===i.length&&r.every((n,s)=>n.length===i[s].length)}function h0e(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function tG(e){return e?rG(e.rings,e.hasZ??!1):null}function rG(e,t){if(!e?.length)return null;const r=[],i=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=H$(e[s],t,n);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?iG(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function H$(e,t,r){let i=0,n=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],g=e[(p+1)%e.length],[w,_,x]=y,T=w-l,S=_-c,[v,M,C]=g,L=v-l,R=M-c,k=T*R-L*S;if(o+=k,i+=(T+L)*k,n+=(S+R)*k,t&&y.length>2&&g.length>2){const G=x-f,W=C-f,V=T*W-L*G;s+=(G+W)*V,a+=V}w<r[0]&&(r[0]=w),w>r[1]&&(r[1]=w),_<r[2]&&(r[2]=_),_>r[3]&&(r[3]=_),t&&(x<r[4]&&(r[4]=x),x>r[5]&&(r[5]=x))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,n/(6*o)+c,o];return t&&(r[4]===r[5]||a===0?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=s/(6*a)+f,d[4]=a)),d}function f0e(e,t){let r=0,i=0,n=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[f,d]=l,p=f-s,y=d-o,[g,w]=c,_=g-s,x=w-o,T=p*x-_*y;n+=T,r+=(p+_)*T,i+=(y+x)*T,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return n>0&&(n*=-1),n?(n*=.5,[r/(6*n)+s,i/(6*n)+o,n]):null}function iG(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const f=e[l],d=e[l+1];if(f&&d){r[0]=f[0],r[1]=f[1],i[0]=d[0],i[1]=d[1],t&&f.length>2&&d.length>2&&(r[2]=f[2],i[2]=d[2]);const p=XS(r,i);if(p){n+=p;const y=z$(f,d);s+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.length?e[0]:null}function nG(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const i=[],n=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=H$(Yj(e),e.hasZ,s);o&&n.push(o)}if(n.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const o=e.pathSize?sG(e):null;if(!o)return null;i[0]=o[0],i[1]=o[1],t&&o.length>2&&(i[2]=o[2])}return i}function sG(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,f=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;r[0]=l,r[1]=c,i[0]=d,i[1]=p,t&&(r[2]=f,i[2]=y);const g=XS(r,i);if(g){n+=g;const w=z$(r,i);s+=g*w[0],o+=g*w[1],t&&w.length>2&&(a+=g*w[2])}l=d,c=p,f=y}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const oG=1e-6;function d0e(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<oG){const n=nG(e);return n?[n[0],n[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)lG(r,i,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=i[0],r[1]+=i[1],r}const aG=1/3;function lG(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const i=r.x,n=r.y;r.nextPoint();let s,o=r.x-i,a=r.y-n,l=0,c=0;for(;r.nextPoint();)l=r.x-i,c=r.y-n,s=.5*aG*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const f=r.getCurrentRingArea(),d=[i,n];return d[0]-=t[0],d[1]-=t[1],d[0]*=f,d[1]*=f,e[0]+=d[0],e[1]+=d[1],e}function im(e=hG){return[e[0],e[1],e[2],e[3]]}function Y$(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function p0e(e,t,r,i,n=im()){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function m0e(e,t=im()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function y0e(e,t){return new zn({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function g0e(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function v0e(e,t,r){if(t!=null)if("length"in t)z_(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else Y$(r,e)}function cG(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function uG(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function b0e(e){return cG(e)*uG(e)}function _0e(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function w0e(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function S0e(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function x0e(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function E0e(e){return e?Y$(e,dA):im(dA)}function z_(e){return e!=null&&e.length===4}function T0e(e,t){return z_(e)&&z_(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const dA=[1/0,1/0,-1/0,-1/0],hG=[0,0,0,0];function J$(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function K$(e){return e.points!==void 0}function Z$(e){return e.x!==void 0&&e.y!==void 0}function X$(e){return e.paths!==void 0}function Q$(e){return e.rings!==void 0}function e5(e){function t(r,i){return r==null?i:i==null?r:e(r,i)}return t}const Ja=e5(Math.min),Ka=e5(Math.max);function A0e(e,t){return X$(t)?Nh(e,t.paths,!1,!1):Q$(t)?Nh(e,t.rings,!1,!1):K$(t)?QS(e,t.points,!1,!1,!1,!1):J$(t)?t5(e,t):(Z$(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function M0e(e){let t,r,i,n;for(e.reset(),t=i=1/0,r=n=-1/0;e.nextPath();){const s=fG(e);t=Math.min(s[0],t),i=Math.min(s[1],i),r=Math.max(s[2],r),n=Math.max(s[3],n)}return im([t,i,r,n])}function fG(e){let t,r,i,n;for(t=i=1/0,r=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),r=Math.max(e.x,r),n=Math.max(e.y,n);return im([t,i,r,n])}function I0e(e,t){return X$(t)?Nh(e,t.paths,!0,!1):Q$(t)?Nh(e,t.rings,!0,!1):K$(t)?QS(e,t.points,!0,!1,!0,!1):J$(t)?t5(e,t,!0,!1,!0,!1):(Z$(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Nh(e,t,r,i){const n=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,f]=t[0][0],[d,p]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let w=0;w<g.length;w++){const _=g[w],[x,T]=_;if(c=Ja(c,x),f=Ja(f,T),d=Ka(d,x),p=Ka(p,T),r&&_.length>2){const S=_[2];s=Ja(s,S),o=Ka(o,S)}if(i&&_.length>n){const S=_[n];a=Ja(s,S),l=Ka(o,S)}}}return r?i?(e[0]=c,e[1]=f,e[2]=s,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=f,e[2]=s,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):i?(e[0]=c,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function t5(e,t,r,i,n,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let f=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return n?(f=f||0,d=d||0,s?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=d,e)):s?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function QS(e,t,r,i,n,s){const o=r?3:2,a=i&&s,l=r&&n;if(!t.length||!t[0].length)return null;let c,f,d,p,[y,g]=t[0],[w,_]=t[0];for(let x=0;x<t.length;x++){const T=t[x],[S,v]=T;if(y=Ja(y,S),g=Ja(g,v),w=Ka(w,S),_=Ka(_,v),l&&T.length>2){const M=T[2];c=Ja(c,M),f=Ka(f,M)}if(a&&T.length>o){const M=T[o];d=Ja(c,M),p=Ka(f,M)}}return n?(c=c||0,f=f||0,s?(d=d||0,p=p||0,e[0]=y,e[1]=g,e[2]=c,e[3]=d,e[4]=w,e[5]=_,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=g,e[2]=c,e[3]=w,e[4]=_,e[5]=f,e)):s?(d=d||0,p=p||0,e[0]=y,e[1]=g,e[2]=d,e[3]=w,e[4]=_,e[5]=p,e):(e[0]=y,e[1]=g,e[2]=w,e[3]=_,e)}function dG(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function pG(e){return e.points!==void 0}function mG(e){return e.x!==void 0&&e.y!==void 0}function yG(e){return e.paths!==void 0}function gG(e){return e.rings!==void 0}const ex=[];function r5(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function i5(e,t,r,i,n,s){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:n,zmax:s}}function n5(e,t,r,i,n,s){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:n,mmax:s}}function s5(e,t,r,i,n,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:n,ymax:s,zmax:o,mmax:a}}function tx(e,t=!1,r=!1){return t?r?s5(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):i5(e[0],e[1],e[2],e[3],e[4],e[5]):r?n5(e[0],e[1],e[2],e[3],e[4],e[5]):r5(e[0],e[1],e[2],e[3])}function O0e(e){return e?dG(e)?e:mG(e)?bG(e):gG(e)?o5(e):yG(e)?a5(e):pG(e)?vG(e):null:null}function vG(e){const{hasZ:t,hasM:r,points:i}=e;return tx(QS(ex,i,t??!1,r??!1),t,r)}function bG(e){const{x:t,y:r,z:i,m:n}=e,s=n!=null;return i!=null?s?s5(t,r,i,n,t,r,i,n):i5(t,r,i,t,r,i):s?n5(t,r,n,t,r,n):r5(t,r,t,r)}function o5(e){const{hasZ:t,hasM:r,rings:i}=e,n=Nh(ex,i,t??!1,r??!1);return n?tx(n,t,r):null}function a5(e){const{hasZ:t,hasM:r,paths:i}=e,n=Nh(ex,i,t??!1,r??!1);return n?tx(n,t,r):null}var Y0;function pA(e){return!Array.isArray(e[0])}function _G(e){return typeof e[0]?.[0]=="number"}function wG(e){if(!e)return;let{rings:t,hasM:r,hasZ:i,spatialReference:n}=e;switch(t??=[],_G(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return n??=Vr.WGS84,{...e,hasM:r,hasZ:i,rings:t,spatialReference:n}}let Bs=Y0=class extends eu{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let i=!1,n=!1;for(const o of t)o.hasZ&&(i=!0),o.hasM&&(n=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return i&&(s.hasZ=!0),n&&(s.hasM=!0),new Y0(s)}constructor(e){super(wG(e)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=tG(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Cr;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=o5(this);if(!t)return null;const r=new zn(t);return r.spatialReference=e,r}get isSelfIntersecting(){return zj(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(pA(e)){const i=[];for(let n=0,s=e.length;n<s;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new Y0;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const i=([n,s,o,a],[l,c,f,d])=>n===l&&s===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],o=e.rings[n];if(!_1(s,o,i))return!1}return!0}contains(e){if(!e)return!1;const t=D$(e,this.spatialReference);return Lj(this,t??e)}isClockwise(e){const t=pA(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return q$(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new Cr(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new Cr(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new Cr(r[0],r[1],r[2],r[3],this.spatialReference):new Cr(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?($h(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Cr(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new Cr(n,r));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?($h(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([A({readOnly:!0})],Bs.prototype,"cache",null),b([A({readOnly:!0})],Bs.prototype,"centroid",null),b([A({readOnly:!0})],Bs.prototype,"extent",null),b([A({readOnly:!0})],Bs.prototype,"isSelfIntersecting",null),b([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Bs.prototype,"rings",void 0),b([or("rings")],Bs.prototype,"writeRings",null),Bs=Y0=b([le("esri.geometry.Polygon")],Bs);const Gc=Bs;Bs.prototype.toJSON.isDefaultToJSON=!0;var q_;function SG(e){return!Array.isArray(e[0])}function xG(e){return typeof e[0]?.[0]=="number"}function EG(e){if(!e)return;let{paths:t,hasM:r,hasZ:i,spatialReference:n}=e;switch(t??=[],xG(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return n??=Vr.WGS84,{...e,hasM:r,hasZ:i,paths:t,spatialReference:n}}let ka=q_=class extends eu{constructor(e){super(EG(e)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=a5(this);if(!t)return null;const r=new zn(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(SG(e)){const i=[];for(let n=0,s=e.length;n<s;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new q_;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new Cr(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new Cr(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new Cr(r[0],r[1],r[2],r[3],this.spatialReference):new Cr(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?($h(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new Cr(n,r));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Cr(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?($h(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([A({readOnly:!0})],ka.prototype,"cache",null),b([A({readOnly:!0})],ka.prototype,"extent",null),b([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],ka.prototype,"paths",void 0),b([or("paths")],ka.prototype,"writePaths",null),ka=q_=b([le("esri.geometry.Polyline")],ka);const nm=ka;ka.prototype.toJSON.isDefaultToJSON=!0;function l5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function c5(e){return e.points!==void 0}function u5(e){return e.x!==void 0&&e.y!==void 0}function h5(e){return e.paths!==void 0}function f5(e){return e.rings!==void 0}function rx(e){return e==null?null:e instanceof eu?e:u5(e)?Cr.fromJSON(e):h5(e)?nm.fromJSON(e):f5(e)?Gc.fromJSON(e):c5(e)?L1.fromJSON(e):l5(e)?zn.fromJSON(e):null}function C0e(e){return e?u5(e)?"esriGeometryPoint":h5(e)?"esriGeometryPolyline":f5(e)?"esriGeometryPolygon":l5(e)?"esriGeometryEnvelope":c5(e)?"esriGeometryMultipoint":null:null}const TG={esriGeometryPoint:Cr,esriGeometryPolyline:nm,esriGeometryPolygon:Gc,esriGeometryEnvelope:zn,esriGeometryMultipoint:L1,esriGeometryMultiPatch:Gc};function $0e(e){return e&&TG[e]||null}const N0e=Es()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),P0e=Es()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),d5={base:eu,key:"type",typeMap:{extent:zn,multipoint:L1,point:Cr,polyline:nm,polygon:Gc}};Cc(d5);const ra=e=>{let t=class extends e{clone(){const r=al(this);BD(r,"unable to clone instance of non-accessor class");const i=r.metadata,n=r.store,s={},o=new Map;for(const l in i){const c=i[l],f=n?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==dt.USER&&f!==dt.DEFAULTS&&f!==dt.WEB_MAP&&f!==dt.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:c_(p),p!=null&&y==null||(f===dt.DEFAULTS?o.set(l,y):s[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=al(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,dt.DEFAULTS)}return a}};return t=b([le("esri.core.Clonable")],t),t};let mA=class extends ra(Zr){};mA=b([le("esri.core.Clonable")],mA);let J0=class p5{constructor(){this._emitter=new p5.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(n=null){this._target=n,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(n,s){let o=this._listenersMap?.get(n);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(n,o)),o.length>0}on(n,s){if(Array.isArray(n)){const a=n.map(l=>this.on(l,s));return CS(a)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(n)||[];return o.push(s),this._listenersMap.set(n,o),Er(()=>{const a=this._listenersMap?.get(n),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(n,s){const o=this.on(n,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(n){const s=this._listenersMap?.get(n);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=i=>{let n=class extends i{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return n=b([le("esri.core.Evented")],n),n};let r=class extends Zr{constructor(){super(...arguments),this._emitter=new J0.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,n){return this._emitter.emit(i,n)}on(i,n){return this._emitter.on(i,n)}once(i,n){return this._emitter.once(i,n)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=b([le("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(J0||(J0={}));const AG=J0;var bt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(bt||(bt={}));function MG(e){return(t,r)=>{t[r]=e}}let IG=class extends DC{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onInvalidated(),i.onCommitted()}}};var jo;let OG=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},CG=class{constructor(t,r,i,n,s){this.target=t,this.added=r,this.removed=i,this.start=n,this.deleteCount=s}};const En=new Xp(OG,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function yA(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function ab(e){return e?e instanceof Ro?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function lb(e){if(e?.length)return e[0]}function $G(e,t,r,i){const n=Math.min(e.length-r,t.length-i);let s=0;for(;s<n&&e[r+s]===t[i+s];)s++;return s}function m5(e,t,r,i){t&&t.forEach((n,s,o)=>{e.push(n),m5(e,r.call(i,n,s,o),r,i)})}const ha=new Set,fa=new Set,da=new Set,cb=new Map;let NG=0,Ro=jo=class extends AG.EventedAccessor{static isCollection(e){return e!=null&&e instanceof jo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new IG,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:NG++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof jo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Je(this._observable),this._items}set items(e){this._emitBeforeChanges(bt.ADD)||(this._splice(0,this.length,ab(e)),this._emitAfterChanges(bt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Er();if(e==="change"){const r=this._chgListeners,i={removed:!1,callback:t};return r.push(i),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),Er(()=>{i.removed=!0,r.splice(r.indexOf(i),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,i=this.on(e,n=>{r()?.call(null,n),i.remove()});return i}add(e,t){if(Je(this._observable),this._emitBeforeChanges(bt.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(bt.ADD),this}addMany(e,t=this._items.length){if(Je(this._observable),!e?.length)return this;if(this._emitBeforeChanges(bt.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,ab(e)),this._emitAfterChanges(bt.ADD),this}at(e){if(Je(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(bt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Je(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Je(this._observable);const t=e.map(ab);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return;const r=this._splice(0,this.length),i=r.length;for(let n=0;n<i;n++)e.call(t,r[n],n,r);this._emitAfterChanges(bt.REMOVE)}destroyAll(){this.drain(yA)}destroyMany(e){const t=this.removeMany(e);return t.forEach(yA),t}every(e,t){return Je(this._observable),this._items.every(e,t)}filter(e,t){let r;return Je(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Je(this._observable),this._items.find(e,t)}findIndex(e,t){return Je(this._observable),this._items.findIndex(e,t)}flatten(e,t){Je(this._observable);const r=[];return m5(r,this,e,t),new jo(r)}forEach(e,t){return Je(this._observable),this._items.forEach(e,t)}getItemAt(e){return Je(this._observable),this._items[e]}getNextIndex(e){Je(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Je(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Je(this._observable),this._items.indexOf(e,t)}join(e=","){return Je(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Je(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Je(this._observable);const r=this._items.map(e,t);return new jo({items:r})}reorder(e,t=this.length-1){Je(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(bt.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(bt.MOVE)}return e}}pop(){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return;const e=lb(this._splice(this.length-1,1));return this._emitAfterChanges(bt.REMOVE),e}push(...e){return Je(this._observable),this._emitBeforeChanges(bt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(bt.ADD)),this.length}reduce(e,t){Je(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Je(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Je(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Je(this._observable),e<0||e>=this.length||this._emitBeforeChanges(bt.REMOVE))return;const t=lb(this._splice(e,1));return this._emitAfterChanges(bt.REMOVE),t}removeMany(e){if(Je(this._observable),!e?.length||this._emitBeforeChanges(bt.REMOVE))return[];const t=e instanceof jo?e.toArray():e,r=this._items,i=[],n=t.length;for(let s=0;s<n;s++){const o=t[s],a=r.indexOf(o);if(a>-1){const l=1+$G(t,r,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(bt.REMOVE),i}reverse(){if(Je(this._observable),this._emitBeforeChanges(bt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(bt.MOVE),this}shift(){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return;const e=lb(this._splice(0,1));return this._emitAfterChanges(bt.REMOVE),e}slice(e=0,t=this.length){return Je(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Je(this._observable),this._items.some(e,t)}sort(e){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(bt.MOVE),this}splice(e,t,...r){Je(this._observable);const i=(t?bt.REMOVE:0)|(r.length?bt.ADD:0);if(this._emitBeforeChanges(i))return[];const n=this._splice(e,t,r)||[];return this._emitAfterChanges(i),n}toArray(){return Je(this._observable),this._items.slice()}toJSON(){return Je(this._observable),this.toArray()}toLocaleString(){return Je(this._observable),this._items.toLocaleString()}toString(){return Je(this._observable),this._items.toString()}unshift(...e){return Je(this._observable),!e.length||this._emitBeforeChanges(bt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(bt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,n=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=YC(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=i.splice(e,t),this.hasEventListener("before-remove")){const a=En.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(e,0,s),e+=1,l-=1,c-=1);En.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=En.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);En.release(a)}}if(r?.length){if(n){const f=[];for(const d of r){const p=n.ensureType(d);p==null&&d!=null||f.push(p)}r=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const f=En.acquire();f.target=this,f.cancellable=!0;const d=En.acquire();d.target=this,d.cancellable=!1;for(const p of r)a?(f.reset(p),this.emit("before-add",f),f.defaultPrevented||(c?i.push(p):i.splice(e++,0,p),this._set("length",i.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?i.push(p):i.splice(e++,0,p),this._set("length",i.length),d.reset(p),this.emit("after-add",d));En.release(d),En.release(f)}else{if(c)for(const f of r)i.push(f);else i.splice(e,0,...r);this._set("length",i.length)}}if((r?.length||o?.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const a=new CG(this,r,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=En.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,En.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=En.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),En.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;ha.clear(),fa.clear(),da.clear();for(const{added:l,removed:c}of r){if(l)if(da.size===0&&fa.size===0)for(const f of l)ha.add(f);else for(const f of l)fa.has(f)?(da.add(f),fa.delete(f)):da.has(f)||ha.add(f);if(c)if(da.size===0&&ha.size===0)for(const f of c)fa.add(f);else for(const f of c)ha.has(f)?ha.delete(f):(da.delete(f),fa.add(f))}const i=La.acquire();ha.forEach(l=>{i.push(l)});const n=La.acquire();fa.forEach(l=>{n.push(l)});const s=this._items,o=t.items,a=La.acquire();if(da.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(i.length||n.length||a.length)){const l={target:this,added:i,removed:n,moved:a},c=t.listeners.length;for(let f=0;f<c;f++){const d=t.listeners[f];d.removed||d.callback.call(this,l)}}La.release(i),La.release(n),La.release(a)}ha.clear(),fa.clear(),da.clear()}};Ro.ofType=e=>{if(!e)return jo;if(cb.has(e))return cb.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const n=e.typeMap[i].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends jo{};return b([MG({Type:e,ensureType:typeof e=="function"?bs(e):Cc(e)})],r.prototype,"itemType",void 0),r=b([le(`esri.core.Collection<${t}>`)],r),cb.set(e,r),r},b([A()],Ro.prototype,"_updating",void 0),b([A()],Ro.prototype,"length",void 0),b([A()],Ro.prototype,"items",null),b([A({readOnly:!0})],Ro.prototype,"updating",null),Ro=jo=b([le("esri.core.Collection")],Ro);const Ut=Ro,PG=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));async function LG(e,t){const{WhereClause:r}=await we(()=>import("./WhereClause-CtY7pA7e.js").then(i=>i.W),__vite__mapDeps([9,10,11]),import.meta.url);return r.create(e,{fieldsIndex:t})}function F0e(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}let Ad;const kG=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,W_=globalThis.document?.documentElement;function y5(){const e=W_?.getAttribute("lang"),t=globalThis.navigator?.language;return kG??e??t??"en"}function ro(){return Ad===void 0&&(Ad=y5()),Ad}function U0e(e=ro()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const K0=[];function j0e(e){return K0.push(e),Er(()=>K0.splice(K0.indexOf(e),1))}const Z0=[];function ix(e){return Z0.push(e),Er(()=>Z0.splice(Z0.indexOf(e),1))}function gA(){const e=y5();Ad!==e&&([...Z0].forEach(t=>t(e)),Ad=e,[...K0].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",gA),W_&&new MutationObserver(()=>{gA()}).observe(W_,{attributeFilter:["lang"]});const vA=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class tu extends Error{}class RG extends tu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class DG extends tu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class FG extends tu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Hu extends tu{}class g5 extends tu{constructor(t){super(`Invalid unit ${t}`)}}class di extends tu{}class pa extends tu{constructor(){super("Zone is an abstract class")}}const be="numeric",ws="short",pn="long",lg={year:be,month:be,day:be},v5={year:be,month:ws,day:be},UG={year:be,month:ws,day:be,weekday:ws},b5={year:be,month:pn,day:be},_5={year:be,month:pn,day:be,weekday:pn},w5={hour:be,minute:be},S5={hour:be,minute:be,second:be},x5={hour:be,minute:be,second:be,timeZoneName:ws},E5={hour:be,minute:be,second:be,timeZoneName:pn},T5={hour:be,minute:be,hourCycle:"h23"},A5={hour:be,minute:be,second:be,hourCycle:"h23"},M5={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:ws},I5={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:pn},O5={year:be,month:be,day:be,hour:be,minute:be},C5={year:be,month:be,day:be,hour:be,minute:be,second:be},$5={year:be,month:ws,day:be,hour:be,minute:be},N5={year:be,month:ws,day:be,hour:be,minute:be,second:be},jG={year:be,month:ws,day:be,weekday:ws,hour:be,minute:be},P5={year:be,month:pn,day:be,hour:be,minute:be,timeZoneName:ws},L5={year:be,month:pn,day:be,hour:be,minute:be,second:be,timeZoneName:ws},k5={year:be,month:pn,day:be,weekday:pn,hour:be,minute:be,timeZoneName:pn},R5={year:be,month:pn,day:be,weekday:pn,hour:be,minute:be,second:be,timeZoneName:pn};class sm{get type(){throw new pa}get name(){throw new pa}get ianaName(){return this.name}get isUniversal(){throw new pa}offsetName(t,r){throw new pa}formatOffset(t,r){throw new pa}offset(t){throw new pa}equals(t){throw new pa}get isValid(){throw new pa}}let ub=null;class k1 extends sm{static get instance(){return ub===null&&(ub=new k1),ub}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return q5(t,r,i)}formatOffset(t,r){return Md(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let X0={};function GG(e){return X0[e]||(X0[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),X0[e]}const BG={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function VG(e,t){const r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,n,s,o,a,l,c,f]=i;return[o,n,s,a,l,c,f]}function zG(e,t){const r=e.formatToParts(t),i=[];for(let n=0;n<r.length;n++){const{type:s,value:o}=r[n],a=BG[s];s==="era"?i[a]=o:ze(a)||(i[a]=parseInt(o,10))}return i}let Km={};class Xo extends sm{static create(t){return Km[t]||(Km[t]=new Xo(t)),Km[t]}static resetCache(){Km={},X0={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Xo.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return q5(t,r,i,this.name)}formatOffset(t,r){return Md(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const i=GG(this.name);let[n,s,o,a,l,c,f]=i.formatToParts?zG(i,r):VG(i,r);a==="BC"&&(n=-Math.abs(n)+1);const p=D1({year:n,month:s,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+r;const g=y%1e3;return y-=g>=0?g:1e3+g,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let bA={};function qG(e,t={}){const r=JSON.stringify([e,t]);let i=bA[r];return i||(i=new Intl.ListFormat(e,t),bA[r]=i),i}let H_={};function Y_(e,t={}){const r=JSON.stringify([e,t]);let i=H_[r];return i||(i=new Intl.DateTimeFormat(e,t),H_[r]=i),i}let J_={};function WG(e,t={}){const r=JSON.stringify([e,t]);let i=J_[r];return i||(i=new Intl.NumberFormat(e,t),J_[r]=i),i}let K_={};function HG(e,t={}){const{base:r,...i}=t,n=JSON.stringify([e,i]);let s=K_[n];return s||(s=new Intl.RelativeTimeFormat(e,t),K_[n]=s),s}let Wf=null;function YG(){return Wf||(Wf=new Intl.DateTimeFormat().resolvedOptions().locale,Wf)}let _A={};function JG(e){let t=_A[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,_A[e]=t}return t}function KG(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let i,n;try{i=Y_(e).resolvedOptions(),n=e}catch{const l=e.substring(0,r);i=Y_(l).resolvedOptions(),n=l}const{numberingSystem:s,calendar:o}=i;return[n,s,o]}}function ZG(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function XG(e){const t=[];for(let r=1;r<=12;r++){const i=Ue.utc(2009,r,1);t.push(e(i))}return t}function QG(e){const t=[];for(let r=1;r<=7;r++){const i=Ue.utc(2016,11,13+r);t.push(e(i))}return t}function Zm(e,t,r,i){const n=e.listingMode();return n==="error"?null:n==="en"?r(t):i(t)}function eB(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class tB{constructor(t,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:s,...o}=i;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=WG(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):lx(t,3);return Or(r,this.padTo)}}}class rB{constructor(t,r,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Xo.create(a).valid?(n=a,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=Y_(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class iB{constructor(t,r,i){this.opts={style:"long",...i},!r&&V5()&&(this.rtf=HG(t,i))}format(t,r){return this.rtf?this.rtf.format(t,r):AB(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const nB={firstDay:1,minimalDays:4,weekend:[6,7]};class Ot{static fromOpts(t){return Ot.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,i,n,s=!1){const o=t||fr.defaultLocale,a=o||(s?"en-US":YG()),l=r||fr.defaultNumberingSystem,c=i||fr.defaultOutputCalendar,f=Z_(n)||fr.defaultWeekSettings;return new Ot(a,l,c,f,o)}static resetCache(){Wf=null,H_={},J_={},K_={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:i,weekSettings:n}={}){return Ot.create(t,r,i,n)}constructor(t,r,i,n,s){const[o,a,l]=KG(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=i||l||null,this.weekSettings=n,this.intl=ZG(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=eB(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Ot.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Z_(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Zm(this,t,Y5,()=>{const i=r?{month:t,day:"numeric"}:{month:t},n=r?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=XG(s=>this.extract(s,i,"month"))),this.monthsCache[n][t]})}weekdays(t,r=!1){return Zm(this,t,Z5,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=r?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=QG(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return Zm(this,void 0,()=>X5,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ue.utc(2016,11,13,9),Ue.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Zm(this,t,Q5,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ue.utc(-40,1,1),Ue.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[t]})}extract(t,r,i){const n=this.dtFormatter(t,r),s=n.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(t={}){return new tB(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new rB(t,this.intl,r)}relFormatter(t={}){return new iB(this.intl,this.isEnglish(),t)}listFormatter(t={}){return qG(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:z5()?JG(this.locale):nB}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let hb=null;class bi extends sm{static get utcInstance(){return hb===null&&(hb=new bi(0)),hb}static instance(t){return t===0?bi.utcInstance:new bi(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new bi(F1(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Md(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Md(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Md(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class sB extends sm{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Wa(e,t){if(ze(e)||e===null)return t;if(e instanceof sm)return e;if(hB(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?k1.instance:r==="utc"||r==="gmt"?bi.utcInstance:bi.parseSpecifier(r)||Xo.create(e)}else return el(e)?bi.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new sB(e)}const nx={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},wA={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},oB=nx.hanidec.replace(/[\[|\]]/g,"").split("");function aB(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(e[r].search(nx.hanidec)!==-1)t+=oB.indexOf(e[r]);else for(const n in wA){const[s,o]=wA[n];i>=s&&i<=o&&(t+=i-s)}}return parseInt(t,10)}else return t}let $u={};function lB(){$u={}}function Kn({numberingSystem:e},t=""){const r=e||"latn";return $u[r]||($u[r]={}),$u[r][t]||($u[r][t]=new RegExp(`${nx[r]}${t}`)),$u[r][t]}let SA=()=>Date.now(),xA="system",EA=null,TA=null,AA=null,MA=60,IA,OA=null;class fr{static get now(){return SA}static set now(t){SA=t}static set defaultZone(t){xA=t}static get defaultZone(){return Wa(xA,k1.instance)}static get defaultLocale(){return EA}static set defaultLocale(t){EA=t}static get defaultNumberingSystem(){return TA}static set defaultNumberingSystem(t){TA=t}static get defaultOutputCalendar(){return AA}static set defaultOutputCalendar(t){AA=t}static get defaultWeekSettings(){return OA}static set defaultWeekSettings(t){OA=Z_(t)}static get twoDigitCutoffYear(){return MA}static set twoDigitCutoffYear(t){MA=t%100}static get throwOnInvalid(){return IA}static set throwOnInvalid(t){IA=t}static resetCaches(){Ot.resetCache(),Xo.resetCache(),Ue.resetCache(),lB()}}class ls{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const D5=[0,31,59,90,120,151,181,212,243,273,304,334],F5=[0,31,60,91,121,152,182,213,244,274,305,335];function Dn(e,t){return new ls("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function sx(e,t,r){const i=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function U5(e,t,r){return r+(om(e)?F5:D5)[t-1]}function j5(e,t){const r=om(e)?F5:D5,i=r.findIndex(s=>s<t),n=t-r[i];return{month:i+1,day:n}}function ox(e,t){return(e-t+7)%7+1}function cg(e,t=4,r=1){const{year:i,month:n,day:s}=e,o=U5(i,n,s),a=ox(sx(i,n,s),r);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=i-1,l=cp(c,t,r)):l>cp(i,t,r)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...U1(e)}}function CA(e,t=4,r=1){const{weekYear:i,weekNumber:n,weekday:s}=e,o=ox(sx(i,1,t),r),a=hh(i);let l=n*7+s-o-7+t,c;l<1?(c=i-1,l+=hh(c)):l>a?(c=i+1,l-=hh(i)):c=i;const{month:f,day:d}=j5(c,l);return{year:c,month:f,day:d,...U1(e)}}function fb(e){const{year:t,month:r,day:i}=e,n=U5(t,r,i);return{year:t,ordinal:n,...U1(e)}}function $A(e){const{year:t,ordinal:r}=e,{month:i,day:n}=j5(t,r);return{year:t,month:i,day:n,...U1(e)}}function NA(e,t){if(!ze(e.localWeekday)||!ze(e.localWeekNumber)||!ze(e.localWeekYear)){if(!ze(e.weekday)||!ze(e.weekNumber)||!ze(e.weekYear))throw new Hu("Cannot mix locale-based week fields with ISO-based week fields");return ze(e.localWeekday)||(e.weekday=e.localWeekday),ze(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),ze(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function cB(e,t=4,r=1){const i=R1(e.weekYear),n=Fn(e.weekNumber,1,cp(e.weekYear,t,r)),s=Fn(e.weekday,1,7);return i?n?s?!1:Dn("weekday",e.weekday):Dn("week",e.weekNumber):Dn("weekYear",e.weekYear)}function uB(e){const t=R1(e.year),r=Fn(e.ordinal,1,hh(e.year));return t?r?!1:Dn("ordinal",e.ordinal):Dn("year",e.year)}function G5(e){const t=R1(e.year),r=Fn(e.month,1,12),i=Fn(e.day,1,ug(e.year,e.month));return t?r?i?!1:Dn("day",e.day):Dn("month",e.month):Dn("year",e.year)}function B5(e){const{hour:t,minute:r,second:i,millisecond:n}=e,s=Fn(t,0,23)||t===24&&r===0&&i===0&&n===0,o=Fn(r,0,59),a=Fn(i,0,59),l=Fn(n,0,999);return s?o?a?l?!1:Dn("millisecond",n):Dn("second",i):Dn("minute",r):Dn("hour",t)}function ze(e){return typeof e>"u"}function el(e){return typeof e=="number"}function R1(e){return typeof e=="number"&&e%1===0}function hB(e){return typeof e=="string"}function fB(e){return Object.prototype.toString.call(e)==="[object Date]"}function V5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function z5(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function dB(e){return Array.isArray(e)?e:[e]}function PA(e,t,r){if(e.length!==0)return e.reduce((i,n)=>{const s=[t(n),n];return i&&r(i[0],s[0])===i[0]?i:s},null)[1]}function pB(e,t){return t.reduce((r,i)=>(r[i]=e[i],r),{})}function Ph(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Z_(e){if(e==null)return null;if(typeof e!="object")throw new di("Week settings must be an object");if(!Fn(e.firstDay,1,7)||!Fn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Fn(t,1,7)))throw new di("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Fn(e,t,r){return R1(e)&&e>=t&&e<=r}function mB(e,t){return e-t*Math.floor(e/t)}function Or(e,t=2){const r=e<0;let i;return r?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function Ra(e){if(!(ze(e)||e===null||e===""))return parseInt(e,10)}function Ll(e){if(!(ze(e)||e===null||e===""))return parseFloat(e)}function ax(e){if(!(ze(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function lx(e,t,r=!1){const i=10**t;return(r?Math.trunc:Math.round)(e*i)/i}function om(e){return e%4===0&&(e%100!==0||e%400===0)}function hh(e){return om(e)?366:365}function ug(e,t){const r=mB(t-1,12)+1,i=e+(t-r)/12;return r===2?om(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function D1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function LA(e,t,r){return-ox(sx(e,1,t),r)+t-1}function cp(e,t=4,r=1){const i=LA(e,t,r),n=LA(e+1,t,r);return(hh(e)-i+n)/7}function X_(e){return e>99?e:e>fr.twoDigitCutoffYear?1900+e:2e3+e}function q5(e,t,r,i=null){const n=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function F1(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const i=parseInt(t,10)||0,n=r<0||Object.is(r,-0)?-i:i;return r*60+n}function W5(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new di(`Invalid unit value ${e}`);return t}function hg(e,t){const r={};for(const i in e)if(Ph(e,i)){const n=e[i];if(n==null)continue;r[t(i)]=W5(n)}return r}function Md(e,t){const r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${Or(r,2)}:${Or(i,2)}`;case"narrow":return`${n}${r}${i>0?`:${i}`:""}`;case"techie":return`${n}${Or(r,2)}${Or(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function U1(e){return pB(e,["hour","minute","second","millisecond"])}const yB=["January","February","March","April","May","June","July","August","September","October","November","December"],H5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gB=["J","F","M","A","M","J","J","A","S","O","N","D"];function Y5(e){switch(e){case"narrow":return[...gB];case"short":return[...H5];case"long":return[...yB];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const J5=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],K5=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],vB=["M","T","W","T","F","S","S"];function Z5(e){switch(e){case"narrow":return[...vB];case"short":return[...K5];case"long":return[...J5];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const X5=["AM","PM"],bB=["Before Christ","Anno Domini"],_B=["BC","AD"],wB=["B","A"];function Q5(e){switch(e){case"narrow":return[...wB];case"short":return[..._B];case"long":return[...bB];default:return null}}function SB(e){return X5[e.hour<12?0:1]}function xB(e,t){return Z5(t)[e.weekday-1]}function EB(e,t){return Y5(t)[e.month-1]}function TB(e,t){return Q5(t)[e.year<0?0:1]}function AB(e,t,r="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${n[e][0]}`;case-1:return d?"yesterday":`last ${n[e][0]}`;case 0:return d?"today":`this ${n[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=n[e],f=i?l?c[1]:c[2]||c[1]:l?n[e][0]:e;return o?`${a} ${f} ago`:`in ${a} ${f}`}function kA(e,t){let r="";for(const i of e)i.literal?r+=i.val:r+=t(i.val);return r}const MB={D:lg,DD:v5,DDD:b5,DDDD:_5,t:w5,tt:S5,ttt:x5,tttt:E5,T:T5,TT:A5,TTT:M5,TTTT:I5,f:O5,ff:$5,fff:P5,ffff:k5,F:C5,FF:N5,FFF:L5,FFFF:R5};class vi{static create(t,r={}){return new vi(t,r)}static parseFormat(t){let r=null,i="",n=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),r=null,i="",n=!n):n||a===r?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,r=a)}return i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(t){return MB[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return Or(t,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,r){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(t,y,g),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>i?SB(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>i?EB(t,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>i?xB(t,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const g=vi.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},d=y=>i?TB(t,y):s({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return n?s({day:"numeric"},"day"):this.num(t.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(t.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(t.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return kA(vi.parseFormat(r),p)}formatDurationFromString(t,r){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=l=>c=>{const f=i(c);return f?this.num(l.get(f),c.length):c},s=vi.parseFormat(r),o=s.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=t.shiftTo(...o.map(i).filter(l=>l));return kA(s,n(a))}}const e6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function hf(...e){const t=e.reduce((r,i)=>r+i.source,"");return RegExp(`^${t}$`)}function ff(...e){return t=>e.reduce(([r,i,n],s)=>{const[o,a,l]=s(t,n);return[{...r,...o},a||i,l]},[{},null,1]).slice(0,2)}function df(e,...t){if(e==null)return[null,null];for(const[r,i]of t){const n=r.exec(e);if(n)return i(n)}return[null,null]}function t6(...e){return(t,r)=>{const i={};let n;for(n=0;n<e.length;n++)i[e[n]]=Ra(t[r+n]);return[i,null,r+n]}}const r6=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,IB=`(?:${r6.source}?(?:\\[(${e6.source})\\])?)?`,cx=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,i6=RegExp(`${cx.source}${IB}`),ux=RegExp(`(?:T${i6.source})?`),OB=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,CB=/(\d{4})-?W(\d\d)(?:-?(\d))?/,$B=/(\d{4})-?(\d{3})/,NB=t6("weekYear","weekNumber","weekDay"),PB=t6("year","ordinal"),LB=/(\d{4})-(\d\d)-(\d\d)/,n6=RegExp(`${cx.source} ?(?:${r6.source}|(${e6.source}))?`),kB=RegExp(`(?: ${n6.source})?`);function fh(e,t,r){const i=e[t];return ze(i)?r:Ra(i)}function RB(e,t){return[{year:fh(e,t),month:fh(e,t+1,1),day:fh(e,t+2,1)},null,t+3]}function pf(e,t){return[{hours:fh(e,t,0),minutes:fh(e,t+1,0),seconds:fh(e,t+2,0),milliseconds:ax(e[t+3])},null,t+4]}function am(e,t){const r=!e[t]&&!e[t+1],i=F1(e[t+1],e[t+2]),n=r?null:bi.instance(i);return[{},n,t+3]}function lm(e,t){const r=e[t]?Xo.create(e[t]):null;return[{},r,t+1]}const DB=RegExp(`^T?${cx.source}$`),FB=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function UB(e){const[t,r,i,n,s,o,a,l,c]=e,f=t[0]==="-",d=l&&l[0]==="-",p=(y,g=!1)=>y!==void 0&&(g||y&&f)?-y:y;return[{years:p(Ll(r)),months:p(Ll(i)),weeks:p(Ll(n)),days:p(Ll(s)),hours:p(Ll(o)),minutes:p(Ll(a)),seconds:p(Ll(l),l==="-0"),milliseconds:p(ax(c),d)}]}const jB={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hx(e,t,r,i,n,s,o){const a={year:t.length===2?X_(Ra(t)):Ra(t),month:H5.indexOf(r)+1,day:Ra(i),hour:Ra(n),minute:Ra(s)};return o&&(a.second=Ra(o)),e&&(a.weekday=e.length>3?J5.indexOf(e)+1:K5.indexOf(e)+1),a}const GB=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function BB(e){const[,t,r,i,n,s,o,a,l,c,f,d]=e,p=hx(t,n,i,r,s,o,a);let y;return l?y=jB[l]:c?y=0:y=F1(f,d),[p,new bi(y)]}function VB(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const zB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,qB=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,WB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function RA(e){const[,t,r,i,n,s,o,a]=e;return[hx(t,n,i,r,s,o,a),bi.utcInstance]}function HB(e){const[,t,r,i,n,s,o,a]=e;return[hx(t,a,r,i,n,s,o),bi.utcInstance]}const YB=hf(OB,ux),JB=hf(CB,ux),KB=hf($B,ux),ZB=hf(i6),s6=ff(RB,pf,am,lm),XB=ff(NB,pf,am,lm),QB=ff(PB,pf,am,lm),eV=ff(pf,am,lm);function tV(e){return df(e,[YB,s6],[JB,XB],[KB,QB],[ZB,eV])}function rV(e){return df(VB(e),[GB,BB])}function iV(e){return df(e,[zB,RA],[qB,RA],[WB,HB])}function nV(e){return df(e,[FB,UB])}const sV=ff(pf);function oV(e){return df(e,[DB,sV])}const aV=hf(LB,kB),lV=hf(n6),cV=ff(pf,am,lm);function uV(e){return df(e,[aV,s6],[lV,cV])}const DA="Invalid Duration",o6={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},hV={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...o6},Tn=146097/400,wu=146097/4800,fV={years:{quarters:4,months:12,weeks:Tn/7,days:Tn,hours:Tn*24,minutes:Tn*24*60,seconds:Tn*24*60*60,milliseconds:Tn*24*60*60*1e3},quarters:{months:3,weeks:Tn/28,days:Tn/4,hours:Tn*24/4,minutes:Tn*24*60/4,seconds:Tn*24*60*60/4,milliseconds:Tn*24*60*60*1e3/4},months:{weeks:wu/7,days:wu,hours:wu*24,minutes:wu*24*60,seconds:wu*24*60*60,milliseconds:wu*24*60*60*1e3},...o6},dc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],dV=dc.slice(0).reverse();function ma(e,t,r=!1){const i={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new yt(i)}function a6(e,t){let r=t.milliseconds??0;for(const i of dV.slice(1))t[i]&&(r+=t[i]*e[i].milliseconds);return r}function FA(e,t){const r=a6(e,t)<0?-1:1;dc.reduceRight((i,n)=>{if(ze(t[n]))return i;if(i){const s=t[i]*r,o=e[n][i],a=Math.floor(s/o);t[n]+=a*r,t[i]-=a*o*r}return n},null),dc.reduce((i,n)=>{if(ze(t[n]))return i;if(i){const s=t[i]%1;t[i]-=s,t[n]+=s*e[i][n]}return n},null)}function pV(e){const t={};for(const[r,i]of Object.entries(e))i!==0&&(t[r]=i);return t}class yt{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let i=r?fV:hV;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||Ot.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,r){return yt.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new di(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new yt({values:hg(t,yt.normalizeUnit),loc:Ot.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(el(t))return yt.fromMillis(t);if(yt.isDuration(t))return t;if(typeof t=="object")return yt.fromObject(t);throw new di(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[i]=nV(t);return i?yt.fromObject(i,r):yt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[i]=oV(t);return i?yt.fromObject(i,r):yt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new di("need to specify a reason the Duration is invalid");const i=t instanceof ls?t:new ls(t,r);if(fr.throwOnInvalid)throw new FG(i);return new yt({invalid:i})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new g5(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?vi.create(this.loc,i).formatDurationFromString(this,t):DA}toHuman(t={}){if(!this.isValid)return DA;const r=dc.map(i=>{const n=this.values[i];return ze(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=lx(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ue.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?a6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t),i={};for(const n of dc)(Ph(r.values,n)||Ph(this.values,n))&&(i[n]=r.get(n)+this.get(n));return ma(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=W5(t(this.values[i],i));return ma(this,{values:r},!0)}get(t){return this[yt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...hg(t,yt.normalizeUnit)};return ma(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:i,matrix:n}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:n,conversionAccuracy:i};return ma(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return FA(this.matrix,t),ma(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=pV(this.normalize().shiftToAll().toObject());return ma(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>yt.normalizeUnit(o));const r={},i={},n=this.toObject();let s;for(const o of dc)if(t.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;el(n[o])&&(a+=n[o]);const l=Math.trunc(a);r[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else el(n[o])&&(i[o]=n[o]);for(const o in i)i[o]!==0&&(r[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return FA(this.matrix,r),ma(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return ma(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of dc)if(!r(this.values[i],t.values[i]))return!1;return!0}}const Su="Invalid Interval";function mV(e,t){return!e||!e.isValid?ur.invalid("missing or invalid start"):!t||!t.isValid?ur.invalid("missing or invalid end"):t<e?ur.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class ur{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new di("need to specify a reason the Interval is invalid");const i=t instanceof ls?t:new ls(t,r);if(fr.throwOnInvalid)throw new DG(i);return new ur({invalid:i})}static fromDateTimes(t,r){const i=Of(t),n=Of(r),s=mV(i,n);return s??new ur({start:i,end:n})}static after(t,r){const i=yt.fromDurationLike(r),n=Of(t);return ur.fromDateTimes(n,n.plus(i))}static before(t,r){const i=yt.fromDurationLike(r),n=Of(t);return ur.fromDateTimes(n.minus(i),n)}static fromISO(t,r){const[i,n]=(t||"").split("/",2);if(i&&n){let s,o;try{s=Ue.fromISO(i,r),o=s.isValid}catch{o=!1}let a,l;try{a=Ue.fromISO(n,r),l=a.isValid}catch{l=!1}if(o&&l)return ur.fromDateTimes(s,a);if(o){const c=yt.fromISO(n,r);if(c.isValid)return ur.after(s,c)}else if(l){const c=yt.fromISO(i,r);if(c.isValid)return ur.before(a,c)}}return ur.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(t,r);let n;return r?.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(t,r),Math.floor(n.diff(i,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?ur.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(Of).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:n}=this,s=0;for(;n<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;i.push(ur.fromDateTimes(n,a)),n=a,s+=1}return i}splitBy(t){const r=yt.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,n=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(r.mapUnits(l=>l*n));s=+a>+this.e?this.e:a,o.push(ur.fromDateTimes(i,s)),i=s,n+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return r>=i?null:ur.fromDateTimes(r,i)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return ur.fromDateTimes(r,i)}static merge(t){const[r,i]=t.sort((n,s)=>n.s-s.s).reduce(([n,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[n,s.union(o)]:[n.concat([s]),o]:[n,o],[[],null]);return i&&r.push(i),r}static xor(t){let r=null,i=0;const n=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&n.push(ur.fromDateTimes(r,l.time)),r=null);return ur.merge(n)}difference(...t){return ur.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Su}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=lg,r={}){return this.isValid?vi.create(this.s.loc.clone(r),t).formatInterval(this):Su}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Su}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Su}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Su}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Su}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):yt.invalid(this.invalidReason)}mapEndpoints(t){return ur.fromDateTimes(t(this.s),t(this.e))}}class Xm{static hasDST(t=fr.defaultZone){const r=Ue.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return Xo.isValidZone(t)}static normalizeZone(t){return Wa(t,fr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Ot.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Ot.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Ot.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Ot.create(r,i,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Ot.create(r,i,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Ot.create(r,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Ot.create(r,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Ot.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Ot.create(r,null,"gregory").eras(t)}static features(){return{relative:V5(),localeWeek:z5()}}}function UA(e,t){const r=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(t)-r(e);return Math.floor(yt.fromMillis(i).as("days"))}function yV(e,t,r){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=UA(l,c);return(f-f%7)/7}],["days",UA]],n={},s=e;let o,a;for(const[l,c]of i)r.indexOf(l)>=0&&(o=l,n[l]=c(e,t),a=s.plus(n),a>t?(n[l]--,e=s.plus(n),e>t&&(a=e,n[l]--,e=s.plus(n))):e=a);return[e,n,a,o]}function gV(e,t,r,i){let[n,s,o,a]=yV(e,t,r);const l=t-n,c=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=n.plus({[a]:1})),o!==n&&(s[a]=(s[a]||0)+l/(o-n)));const f=yt.fromObject(s,i);return c.length>0?yt.fromMillis(l,i).shiftTo(...c).plus(f):f}const vV="missing Intl.DateTimeFormat.formatToParts support";function St(e,t=r=>r){return{regex:e,deser:([r])=>t(aB(r))}}const bV="",l6=`[ ${bV}]`,c6=new RegExp(l6,"g");function _V(e){return e.replace(/\./g,"\\.?").replace(c6,l6)}function jA(e){return e.replace(/\./g,"").replace(c6," ").toLowerCase()}function Zn(e,t){return e===null?null:{regex:RegExp(e.map(_V).join("|")),deser:([r])=>e.findIndex(i=>jA(r)===jA(i))+t}}function GA(e,t){return{regex:e,deser:([,r,i])=>F1(r,i),groups:t}}function Qm(e){return{regex:e,deser:([t])=>t}}function wV(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function SV(e,t){const r=Kn(t),i=Kn(t,"{2}"),n=Kn(t,"{3}"),s=Kn(t,"{4}"),o=Kn(t,"{6}"),a=Kn(t,"{1,2}"),l=Kn(t,"{1,3}"),c=Kn(t,"{1,6}"),f=Kn(t,"{1,9}"),d=Kn(t,"{2,4}"),p=Kn(t,"{4,6}"),y=_=>({regex:RegExp(wV(_.val)),deser:([x])=>x,literal:!0}),w=(_=>{if(e.literal)return y(_);switch(_.val){case"G":return Zn(t.eras("short"),0);case"GG":return Zn(t.eras("long"),0);case"y":return St(c);case"yy":return St(d,X_);case"yyyy":return St(s);case"yyyyy":return St(p);case"yyyyyy":return St(o);case"M":return St(a);case"MM":return St(i);case"MMM":return Zn(t.months("short",!0),1);case"MMMM":return Zn(t.months("long",!0),1);case"L":return St(a);case"LL":return St(i);case"LLL":return Zn(t.months("short",!1),1);case"LLLL":return Zn(t.months("long",!1),1);case"d":return St(a);case"dd":return St(i);case"o":return St(l);case"ooo":return St(n);case"HH":return St(i);case"H":return St(a);case"hh":return St(i);case"h":return St(a);case"mm":return St(i);case"m":return St(a);case"q":return St(a);case"qq":return St(i);case"s":return St(a);case"ss":return St(i);case"S":return St(l);case"SSS":return St(n);case"u":return Qm(f);case"uu":return Qm(a);case"uuu":return St(r);case"a":return Zn(t.meridiems(),0);case"kkkk":return St(s);case"kk":return St(d,X_);case"W":return St(a);case"WW":return St(i);case"E":case"c":return St(r);case"EEE":return Zn(t.weekdays("short",!1),1);case"EEEE":return Zn(t.weekdays("long",!1),1);case"ccc":return Zn(t.weekdays("short",!0),1);case"cccc":return Zn(t.weekdays("long",!0),1);case"Z":case"ZZ":return GA(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return GA(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Qm(/[a-z_+-/]{1,256}?/i);case" ":return Qm(/[^\S\n\r]/);default:return y(_)}})(e)||{invalidReason:vV};return w.token=e,w}const xV={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function EV(e,t,r){const{type:i,value:n}=e;if(i==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const s=t[i];let o=i;i==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=xV[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function TV(e){return[`^${e.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,e]}function AV(e,t,r){const i=e.match(t);if(i){const n={};let s=1;for(const o in r)if(Ph(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,n]}else return[i,{}]}function MV(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return ze(e.z)||(r=Xo.create(e.z)),ze(e.Z)||(r||(r=new bi(e.Z)),i=e.Z),ze(e.q)||(e.M=(e.q-1)*3+1),ze(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),ze(e.u)||(e.S=ax(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),r,i]}let db=null;function IV(){return db||(db=Ue.fromMillis(1555555555555)),db}function OV(e,t){if(e.literal)return e;const r=vi.macroTokenToFormatOpts(e.val),i=d6(r,t);return i==null||i.includes(void 0)?e:i}function u6(e,t){return Array.prototype.concat(...e.map(r=>OV(r,t)))}class h6{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=u6(vi.parseFormat(r),t),this.units=this.tokens.map(i=>SV(i,t)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,n]=TV(this.units);this.regex=RegExp(i,"i"),this.handlers=n}}explainFromTokens(t){if(this.isValid){const[r,i]=AV(t,this.regex,this.handlers),[n,s,o]=i?MV(i):[null,null,void 0];if(Ph(i,"a")&&Ph(i,"H"))throw new Hu("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:n,zone:s,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function f6(e,t,r){return new h6(e,r).explainFromTokens(t)}function CV(e,t,r){const{result:i,zone:n,specificOffset:s,invalidReason:o}=f6(e,t,r);return[i,n,s,o]}function d6(e,t){if(!e)return null;const i=vi.create(t,e).dtFormatter(IV()),n=i.formatToParts(),s=i.resolvedOptions();return n.map(o=>EV(o,e,s))}const pb="Invalid DateTime",BA=864e13;function Hf(e){return new ls("unsupported zone",`the zone "${e.name}" is not supported`)}function mb(e){return e.weekData===null&&(e.weekData=cg(e.c)),e.weekData}function yb(e){return e.localWeekData===null&&(e.localWeekData=cg(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function kl(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ue({...r,...t,old:r})}function p6(e,t,r){let i=e-t*60*1e3;const n=r.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;const s=r.offset(i);return n===s?[i,n]:[e-Math.min(n,s)*60*1e3,Math.max(n,s)]}function e0(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Q0(e,t,r){return p6(D1(e),t,r)}function VA(e,t){const r=e.o,i=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:i,month:n,day:Math.min(e.c.day,ug(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=yt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=D1(s);let[l,c]=p6(a,r,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function xu(e,t,r,i,n,s){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Ue.fromObject(e,{...r,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Ue.invalid(new ls("unparsable",`the input "${n}" can't be parsed as ${i}`))}function t0(e,t,r=!0){return e.isValid?vi.create(Ot.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function gb(e,t){const r=e.c.year>9999||e.c.year<0;let i="";return r&&e.c.year>=0&&(i+="+"),i+=Or(e.c.year,r?6:4),t?(i+="-",i+=Or(e.c.month),i+="-",i+=Or(e.c.day)):(i+=Or(e.c.month),i+=Or(e.c.day)),i}function zA(e,t,r,i,n,s){let o=Or(e.c.hour);return t?(o+=":",o+=Or(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=":")):o+=Or(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=Or(e.c.second),(e.c.millisecond!==0||!i)&&(o+=".",o+=Or(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=Or(Math.trunc(-e.o/60)),o+=":",o+=Or(Math.trunc(-e.o%60))):(o+="+",o+=Or(Math.trunc(e.o/60)),o+=":",o+=Or(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const m6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},$V={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},NV={ordinal:1,hour:0,minute:0,second:0,millisecond:0},y6=["year","month","day","hour","minute","second","millisecond"],PV=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],LV=["year","ordinal","hour","minute","second","millisecond"];function kV(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new g5(e);return t}function qA(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return kV(e)}}function RV(e){return ty[e]||(ey===void 0&&(ey=fr.now()),ty[e]=e.offset(ey)),ty[e]}function WA(e,t){const r=Wa(t.zone,fr.defaultZone);if(!r.isValid)return Ue.invalid(Hf(r));const i=Ot.fromObject(t);let n,s;if(ze(e.year))n=fr.now();else{for(const l of y6)ze(e[l])&&(e[l]=m6[l]);const o=G5(e)||B5(e);if(o)return Ue.invalid(o);const a=RV(r);[n,s]=Q0(e,a,r)}return new Ue({ts:n,zone:r,loc:i,o:s})}function HA(e,t,r){const i=ze(r.round)?!0:r.round,n=(o,a)=>(o=lx(o,i||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return n(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return n(a,o)}return n(e>t?-0:0,r.units[r.units.length-1])}function YA(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let ey,ty={};class Ue{constructor(t){const r=t.zone||fr.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new ls("invalid input"):null)||(r.isValid?null:Hf(r));this.ts=ze(t.ts)?fr.now():t.ts;let n=null,s=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[n,s]=[t.old.c,t.old.o];else{const a=el(t.o)&&!t.old?t.o:r.offset(this.ts);n=e0(this.ts,a),i=Number.isNaN(n.year)?new ls("invalid input"):null,n=i?null:n,s=i?null:a}this._zone=r,this.loc=t.loc||Ot.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ue({})}static local(){const[t,r]=YA(arguments),[i,n,s,o,a,l,c]=r;return WA({year:i,month:n,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,r]=YA(arguments),[i,n,s,o,a,l,c]=r;return t.zone=bi.utcInstance,WA({year:i,month:n,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const i=fB(t)?t.valueOf():NaN;if(Number.isNaN(i))return Ue.invalid("invalid input");const n=Wa(r.zone,fr.defaultZone);return n.isValid?new Ue({ts:i,zone:n,loc:Ot.fromObject(r)}):Ue.invalid(Hf(n))}static fromMillis(t,r={}){if(el(t))return t<-BA||t>BA?Ue.invalid("Timestamp out of range"):new Ue({ts:t,zone:Wa(r.zone,fr.defaultZone),loc:Ot.fromObject(r)});throw new di(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(el(t))return new Ue({ts:t*1e3,zone:Wa(r.zone,fr.defaultZone),loc:Ot.fromObject(r)});throw new di("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const i=Wa(r.zone,fr.defaultZone);if(!i.isValid)return Ue.invalid(Hf(i));const n=Ot.fromObject(r),s=hg(t,qA),{minDaysInFirstWeek:o,startOfWeek:a}=NA(s,n),l=fr.now(),c=ze(r.specificOffset)?i.offset(l):r.specificOffset,f=!ze(s.ordinal),d=!ze(s.year),p=!ze(s.month)||!ze(s.day),y=d||p,g=s.weekYear||s.weekNumber;if((y||f)&&g)throw new Hu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Hu("Can't mix ordinal dates with month/day");const w=g||s.weekday&&!y;let _,x,T=e0(l,c);w?(_=PV,x=$V,T=cg(T,o,a)):f?(_=LV,x=NV,T=fb(T)):(_=y6,x=m6);let S=!1;for(const G of _){const W=s[G];ze(W)?S?s[G]=x[G]:s[G]=T[G]:S=!0}const v=w?cB(s,o,a):f?uB(s):G5(s),M=v||B5(s);if(M)return Ue.invalid(M);const C=w?CA(s,o,a):f?$A(s):s,[L,R]=Q0(C,c,i),k=new Ue({ts:L,zone:i,o:R,loc:n});return s.weekday&&y&&t.weekday!==k.weekday?Ue.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${k.toISO()}`):k.isValid?k:Ue.invalid(k.invalid)}static fromISO(t,r={}){const[i,n]=tV(t);return xu(i,n,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[i,n]=rV(t);return xu(i,n,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[i,n]=iV(t);return xu(i,n,r,"HTTP",r)}static fromFormat(t,r,i={}){if(ze(t)||ze(r))throw new di("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=i,o=Ot.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[a,l,c,f]=CV(o,t,r);return f?Ue.invalid(f):xu(a,l,i,`format ${r}`,t,c)}static fromString(t,r,i={}){return Ue.fromFormat(t,r,i)}static fromSQL(t,r={}){const[i,n]=uV(t);return xu(i,n,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new di("need to specify a reason the DateTime is invalid");const i=t instanceof ls?t:new ls(t,r);if(fr.throwOnInvalid)throw new RG(i);return new Ue({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const i=d6(t,Ot.fromObject(r));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(t,r={}){return u6(vi.parseFormat(t),Ot.fromObject(r)).map(n=>n.val).join("")}static resetCache(){ey=void 0,ty={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?mb(this).weekYear:NaN}get weekNumber(){return this.isValid?mb(this).weekNumber:NaN}get weekday(){return this.isValid?mb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?yb(this).weekday:NaN}get localWeekNumber(){return this.isValid?yb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?yb(this).weekYear:NaN}get ordinal(){return this.isValid?fb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Xm.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Xm.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Xm.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Xm.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,i=D1(this.c),n=this.zone.offset(i-t),s=this.zone.offset(i+t),o=this.zone.offset(i-n*r),a=this.zone.offset(i-s*r);if(o===a)return[this];const l=i-o*r,c=i-a*r,f=e0(l,o),d=e0(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[kl(this,{ts:l}),kl(this,{ts:c})]:[this]}get isInLeapYear(){return om(this.year)}get daysInMonth(){return ug(this.year,this.month)}get daysInYear(){return this.isValid?hh(this.year):NaN}get weeksInWeekYear(){return this.isValid?cp(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?cp(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:i,calendar:n}=vi.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:n}}toUTC(t=0,r={}){return this.setZone(bi.instance(t),r)}toLocal(){return this.setZone(fr.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(t=Wa(t,fr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(r||i){const s=t.offset(this.ts),o=this.toObject();[n]=Q0(o,s,t)}return kl(this,{ts:n,zone:t})}else return Ue.invalid(Hf(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:i}={}){const n=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:i});return kl(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=hg(t,qA),{minDaysInFirstWeek:i,startOfWeek:n}=NA(r,this.loc),s=!ze(r.weekYear)||!ze(r.weekNumber)||!ze(r.weekday),o=!ze(r.ordinal),a=!ze(r.year),l=!ze(r.month)||!ze(r.day),c=a||l,f=r.weekYear||r.weekNumber;if((c||o)&&f)throw new Hu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Hu("Can't mix ordinal dates with month/day");let d;s?d=CA({...cg(this.c,i,n),...r},i,n):ze(r.ordinal)?(d={...this.toObject(),...r},ze(r.day)&&(d.day=Math.min(ug(d.year,d.month),d.day))):d=$A({...fb(this.c),...r});const[p,y]=Q0(d,this.o,this.zone);return kl(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t);return kl(this,VA(this,r))}minus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t).negate();return kl(this,VA(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},n=yt.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?vi.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):pb}toLocaleString(t=lg,r={}){return this.isValid?vi.create(this.loc.clone(r),t).formatDateTime(this):pb}toLocaleParts(t={}){return this.isValid?vi.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=gb(this,o);return a+="T",a+=zA(this,o,r,i,n,s),a}toISODate({format:t="extended"}={}){return this.isValid?gb(this,t==="extended"):null}toISOWeekDate(){return t0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(n?"T":"")+zA(this,o==="extended",r,t,i,s):null}toRFC2822(){return t0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return t0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?gb(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(r||t)&&(i&&(n+=" "),r?n+="z":t&&(n+="ZZ")),t0(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():pb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",i={}){if(!this.isValid||!t.isValid)return yt.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=dB(r).map(yt.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=gV(a,l,s,n);return o?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(Ue.now(),t,r)}until(t){return this.isValid?ur.fromDateTimes(this,t):this}hasSame(t,r,i){if(!this.isValid)return!1;const n=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r,i)<=n&&n<=s.endOf(r,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||Ue.fromObject({},{zone:this.zone}),i=t.padding?this<r?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(n=t.unit,s=void 0),HA(r,this.plus(i),{...t,numeric:"always",units:n,unit:s})}toRelativeCalendar(t={}){return this.isValid?HA(t.base||Ue.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ue.isDateTime))throw new di("min requires all arguments be DateTimes");return PA(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(Ue.isDateTime))throw new di("max requires all arguments be DateTimes");return PA(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,i={}){const{locale:n=null,numberingSystem:s=null}=i,o=Ot.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return f6(o,t,r)}static fromStringExplain(t,r,i={}){return Ue.fromFormatExplain(t,r,i)}static buildFormatParser(t,r={}){const{locale:i=null,numberingSystem:n=null}=r,s=Ot.fromOpts({locale:i,numberingSystem:n,defaultToEN:!0});return new h6(s,t)}static fromFormatParser(t,r,i={}){if(ze(t)||ze(r))throw new di("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=i,o=Ot.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!o.equals(r.locale))throw new di(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=r.explainFromTokens(t);return f?Ue.invalid(f):xu(a,l,i,`format ${r.format}`,t,c)}static get DATE_SHORT(){return lg}static get DATE_MED(){return v5}static get DATE_MED_WITH_WEEKDAY(){return UG}static get DATE_FULL(){return b5}static get DATE_HUGE(){return _5}static get TIME_SIMPLE(){return w5}static get TIME_WITH_SECONDS(){return S5}static get TIME_WITH_SHORT_OFFSET(){return x5}static get TIME_WITH_LONG_OFFSET(){return E5}static get TIME_24_SIMPLE(){return T5}static get TIME_24_WITH_SECONDS(){return A5}static get TIME_24_WITH_SHORT_OFFSET(){return M5}static get TIME_24_WITH_LONG_OFFSET(){return I5}static get DATETIME_SHORT(){return O5}static get DATETIME_SHORT_WITH_SECONDS(){return C5}static get DATETIME_MED(){return $5}static get DATETIME_MED_WITH_SECONDS(){return N5}static get DATETIME_MED_WITH_WEEKDAY(){return jG}static get DATETIME_FULL(){return P5}static get DATETIME_FULL_WITH_SECONDS(){return L5}static get DATETIME_HUGE(){return k5}static get DATETIME_HUGE_WITH_SECONDS(){return R5}}function Of(e){if(Ue.isDateTime(e))return e;if(e&&e.valueOf&&el(e.valueOf()))return Ue.fromJSDate(e);if(e&&typeof e=="object")return Ue.fromObject(e);throw new di(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const cm="system",fx="unknown",up="UTC",DV=Intl.DateTimeFormat().resolvedOptions().timeZone,FV="shortOffset";function UV(e){return"timeZoneIANA"in e}function jV(e){return e.startsWith("UTC")}function G0e(e,t=!1){return{json:{read:{source:e,reader:(r,i)=>i[e]?GV(i[e]):null},write:!!t&&{allowNull:!0,writer(r,i){i[e]=r?BV(r):null}}}}}function GV(e,t=cm){return e?UV(e)?e.timeZoneIANA:VV(e,t):t}function BV(e){return{timeZoneIANA:e}}function VV(e,t=cm){if(!e||!vA.has(e.timeZone))return t;const r=vA.get(e.timeZone);return jV(e.timeZone)||e.respectsDaylightSaving?r:zV(r)}function zV(e){const t=Ue.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${bi.instance(-r).formatOffset(0,"narrow")}`}function B0e(e,t,r,i,n){if(t&&n==="date")return{timeZone:up,timeZoneName:void 0};const s=i.timeStyle||i.hour,o=r===fx;return{timeZone:o?n==="timestamp-offset"?void 0:e??up:r,timeZoneName:o&&s?FV:void 0}}function V0e(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(i=>i.toLowerCase()));return e===cm||e===fx||t.has(e.toLowerCase())||r.has(e.toLowerCase())}const qV={year:void 0,month:void 0,day:void 0,weekday:void 0},WV={hour:void 0,minute:void 0,second:void 0},g6={timeZone:up},$s={year:"numeric",month:"numeric",day:"numeric"},Cf={year:"numeric",month:"long",day:"numeric"},$f={year:"numeric",month:"short",day:"numeric"},Nf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Da={hour:"numeric",minute:"numeric"},zl={...Da,second:"numeric"},v6={hourCycle:"h23"},Pf={...Da,...v6},Lf={...zl,...v6},b6={"short-date":$s,"short-date-short-time":{...$s,...Da},"short-date-short-time-24":{...$s,...Pf},"short-date-long-time":{...$s,...zl},"short-date-long-time-24":{...$s,...Lf},"short-date-le":$s,"short-date-le-short-time":{...$s,...Da},"short-date-le-short-time-24":{...$s,...Pf},"short-date-le-long-time":{...$s,...zl},"short-date-le-long-time-24":{...$s,...Lf},"long-month-day-year":Cf,"long-month-day-year-short-time":{...Cf,...Da},"long-month-day-year-short-time-24":{...Cf,...Pf},"long-month-day-year-long-time":{...Cf,...zl},"long-month-day-year-long-time-24":{...Cf,...Lf},"day-short-month-year":$f,"day-short-month-year-short-time":{...$f,...Da},"day-short-month-year-short-time-24":{...$f,...Pf},"day-short-month-year-long-time":{...$f,...zl},"day-short-month-year-long-time-24":{...$f,...Lf},"long-date":Nf,"long-date-short-time":{...Nf,...Da},"long-date-short-time-24":{...Nf,...Pf},"long-date-long-time":{...Nf,...zl},"long-date-long-time-24":{...Nf,...Lf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Da,"long-time":zl},HV=Es()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),_6={ar:"ar-u-nu-latn-ca-gregory"};let Q_=new WeakMap;const j1=b6["short-date-short-time"];function YV(e){let t=Q_.get(e);if(!t){const r=ro(),i=_6[r]||r,n=JV(e.timeZone??cm),s={...e,timeZone:n};t=new Intl.DateTimeFormat(i,s),Q_.set(e,t)}return t}function z0e(e){return b6[e]}function dx(e,t=j1){return YV(t).format(e)}function q0e(e,t=j1){return dx(new Date(e),{...t,...g6,...WV})}function W0e(e,t=j1){return dx(new Date(`1970-01-01T${e}Z`),{...t,...g6,...qV})}function H0e(e,t=j1){if(t.timeZone)return dx(new Date(e),t);const r=Ue.fromISO(e,{setZone:!0}),i=ro(),n=_6[i]??i,s=r.offset===0?up:t.timeZone,o={...t,timeZone:s};return r.toLocaleString(o,{locale:n})}function JV(e){switch(e){case cm:return DV;case fx:return up;default:return e}}ix(()=>{Q_=new WeakMap});const KV={ar:"ar-u-nu-latn"};let ry=new WeakMap,w6={};function e2(e){const t=e||w6;if(!ry.has(t)){const r=ro(),i=KV[ro()]||r;ry.set(t,new Intl.NumberFormat(i,e))}return ry.get(t)}function Y0e(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function J0e(e,t){return Object.is(e,-0)&&(e=0),e2(t).format(e)}function K0e(e,t=ro()){if(!e)return null;let r=JA.get(t);if(!r){const i=e2().formatToParts(12345.6),n=[...e2({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map((d,p)=>[d,p])),o=new RegExp(`[${i.find(d=>d.type==="group")?.value}]`,"g"),a=new RegExp(`[${i.find(d=>d.type==="decimal")?.value}]`),l=new RegExp(`[${n.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,f=/[-\u2212\u2013\u2014\u2015]/g;r=d=>{if((d=d.trim().replaceAll(o,"").replace(a,".").replace(l,y=>String(s.get(y))).replaceAll(c,"").replaceAll(f,"-"))==="")return null;const p=Number(d);return isNaN(p)?null:p},JA.set(t,r)}return r(e)}ix(()=>{ry=new WeakMap,w6={}});const JA=new Map,KA=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,ZV={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function ZA(e){return e in ZV}const Yf=[],dh=new Map;function XA(e){for(const t of dh.keys())S6(e.pattern,t)&&dh.delete(t)}function XV(e){return Yf.includes(e)||(XA(e),Yf.unshift(e)),Er(()=>{const t=Yf.indexOf(e);t>-1&&(Yf.splice(t,1),XA(e))})}async function Z0e(e){const t=ro();dh.has(e)||dh.set(e,ez(e,t));const r=dh.get(e);return r&&await tz.add(r),r}function QV(e){if(!KA.test(e))return null;const t=KA.exec(e);if(t===null)return null;const[,r,i]=t,n=r+(i?"-"+i.toUpperCase():"");return ZA(n)?n:ZA(r)?r:null}async function ez(e,t){const r=[];for(const i of Yf)if(S6(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(n){r.push(n)}throw r.length?new lt("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new lt("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function S6(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}ix(()=>{dh.clear()});const tz=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Ah())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function rz(e,t,r,i){const n=t.exec(r);if(!n)throw new lt("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=n[1]?`${n[1]}/`:"",o=n[2],a=QV(i),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let f;try{f=await QA(e(c))}catch(d){if(c===l)throw new lt("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:d});try{f=await QA(e(l))}catch(p){throw new lt("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:p})}}return f}async function QA(e){if(e4.fetchBundleAsset!=null)return e4.fetchBundleAsset(e);const t=await wr(e,{responseType:"text"});return JSON.parse(t.data)}let iz=class{constructor({base:t="",pattern:r,location:i=new URL(window.location.href)}){let n;n=typeof i=="string"?s=>new URL(s,new URL(i,window.location.href)).href:i instanceof URL?s=>new URL(s,i).href:i,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return rz(this.getAssetUrl,this.matcher,t,r)}};function nz(e){return new iz(e)}const e4={};XV(nz({pattern:"esri/",location:_$}));function px(e){return typeof e=="string"||e instanceof String}var ph;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(ph||(ph={}));const sz=[ph.HMS_MS,ph.HMS,ph.HM,"TT"],oz="yyyy-MM-dd";ph.HMS;function t4(e){if(!e||!px(e))return null;const t=Ue.fromFormat(e,oz);return t.isValid?t:null}function r4(e){return e&&px(e)?VD(sz,t=>{const r=Ue.fromFormat(e,t);return r.isValid?r:null})??null:null}function i4(e){if(!e||!px(e))return null;const t=Ue.fromISO(e);return t.isValid?t:null}var Lh;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Lh||(Lh={}));const az=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function lz(e){return e!=null&&az.has(e.type)}function x6(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function E6(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function T6(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function cz(e,t,r){const i=e?.domain;if(!i)return null;switch(i.type){case"range":{const{min:n,max:s}=uz(e);if(n!=null&&+t<n||s!=null&&+t>s)return Lh.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(i.codedValues==null||i.codedValues.every(n=>n==null||n.code!==t))return Lh.INVALID_CODED_VALUE}return null}function uz(e,t){const r=e?.domain;if(!r||r.type!=="range")return;const i="range"in r?r.range[0]:r.minValue,n="range"in r?r.range[1]:r.maxValue,s=lz(e);return x6(e)||T6(e)||E6(e)?{...hz(e,n,i),isInteger:s}:{min:i!=null&&typeof i=="number"?i:null,max:n!=null&&typeof n=="number"?n:null,rawMin:i,rawMax:n,isInteger:s}}function hz(e,t,r){return x6(e)?{min:t4(r)?.toMillis(),max:t4(t)?.toMillis(),rawMin:r,rawMax:t}:T6(e)?{min:r4(r)?.toMillis(),max:r4(t)?.toMillis(),rawMin:r,rawMax:t}:E6(e)?{min:i4(r)?.toMillis(),max:i4(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}const fz=()=>jt.getLogger("esri.support.arcadeOnDemand");let vb;function A6(){return vb||(vb=(async()=>{const e=await we(()=>import("./arcadeUtils-D-grf8Pi.js").then(t=>t.i),__vite__mapDeps([12,1,13,10,11,14,15,16,17,18,19,20,21,22,23,24,4]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),vb}const Q0e=(e,t,r)=>M6.create(e,t,r,null,["$feature","$view"],[]),eye=(e,t,r,i)=>M6.create(e,t,r,i,["$feature","$view"],[]);let M6=class I6{constructor(t,r,i,n,s,o,a){this.services=null,this.script=t,this.evaluate=n;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=i,this._arcade=r,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,i,n,s,o){const{arcade:a,Feature:l,Dictionary:c}=await A6(),f=r instanceof Vr?r:Vr.fromJSON(r);let d;try{d=a.parseScript(t,o)}catch(R){return fz().error(new lt("arcade-bad-expression","Failed to parse arcade script",{script:t,error:R})),null}const p=s.reduce((R,k)=>({...R,[k]:null}),{});let y=null;n!=null&&(y=new c(n),y.immutable=!0,p.$config=null);const g=a.scriptUsesGeometryEngine(d),w=g&&a.enableGeometrySupport(),_=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),x=a.scriptIsAsync(d),T=x&&a.enableAsyncSupport(),S={vars:p,spatialReference:f,useAsync:!!T};await Promise.all([w,_,T]);const v=new Set;await a.loadDependentModules(v,d,null,x,g);const M=new c;M.immutable=!1,M.setField("scale",0);const C=a.compileScript(d,S),L=(R,k)=>{const G=R.$view?.timeZone;return"$view"in R&&R.$view&&(M.setField("scale",typeof R.$view=="object"&&"scale"in R.$view?R.$view.scale:void 0),R.$view=M),y&&(R.$config=y),C({vars:R,spatialReference:f,services:k,timeZone:G})};return new I6(t,a,d,L,new l,i,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const dz=/^([0-9_])/,pz=/[^a-z0-9_\u0080-\uffff]+/gi;function tye(e){return e==null?null:e.trim().replaceAll(pz,"_").replace(dz,"F$1")||null}const mz=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],yz=["field","normalizationField"];function rye(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(n4(mz,r,t),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)n4(yz,i,t)}}function n4(e,t,r){if(e)for(const i of e){const n=MS(i,t),s=n&&typeof n!="function"&&r.get(n);s&&af(i,s.name,t)}}function iye(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),i=t.get(e.endField);e.startField=r?.name??null,e.endField=i?.name??null}else{const r=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=i?.name??null}}const bb=new Set;function mx(e,t){return e&&t?(bb.clear(),hp(bb,e,t),Array.from(bb).sort()):[]}function hp(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)G1(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)i!=null&&e.add(i)}}function G1(e,t,r){if(typeof r=="string")if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function nye(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function sye(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const i=mx(e,t);return i.length/e.fields.length>=r?["*"]:i}async function Bc(e,t,r){if(!r)return;const{arcadeUtils:i}=await A6(),n=i.extractFieldNames(r,t?.fields?.map(s=>s.name));for(const s of n)G1(e,t,s)}async function O6(e,t,r){if(r&&r!=="1=1"){const i=await LG(r,t);if(!i.isStandardized)throw new lt("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});hp(e,t,i.fieldNames)}}function oye({displayField:e,fields:t}){return e||(t?.length?_b(t,"name-or-title")||_b(t,"unique-identifier")||_b(t,"type-or-category")||gz(t):null)}function gz(e){for(const t of e){if(!t?.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function _b(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}async function aye(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function vz(e,t,r){r.onStatisticExpression?Bc(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function lye(e,t,r){if(!t||!r||!("fields"in r))return;const i=[],n=r.popupTemplate;i.push(bz(e,t,n)),r.fields&&i.push(...r.fields.map(async s=>vz(e,t.fieldsIndex,s))),await Promise.all(i)}async function bz(e,t,r){const i=[];r?.expressionInfos&&i.push(...r.expressionInfos.map(s=>Bc(e,t.fieldsIndex,s.expression)));const n=r?.content;if(Array.isArray(n))for(const s of n)s.type==="expression"&&s.expressionInfo&&i.push(Bc(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(i)}async function cye(e,t,r){t&&(t.timeInfo&&r?.timeExtent&&hp(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&hp(e,t.fieldsIndex,[t.floorInfo.floorField]),r?.where!=null&&await O6(e,t.fieldsIndex,r.where))}async function uye(e,t,r){t&&r&&await Promise.all(r.map(i=>_z(e,t,i)))}async function _z(e,t,r){t&&r&&(r.valueExpression?await Bc(e,t.fieldsIndex,r.valueExpression):r.field&&G1(e,t.fieldsIndex,r.field))}function hye(e){return e?mx(e.fieldsIndex,C6(e)):[]}function wz(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?mx(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const Sz=new Set(["oid","global-id","guid"]),xz=new Set(["oid","global-id"]),Ez=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Tz(e){const t=new Set;$6(e).forEach(i=>t.add(i)),wz(e).forEach(i=>t.add(i.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(i=>t.add(i.toLowerCase())),Object.values(r.transformFieldRoles).forEach(i=>t.add(i.toLowerCase()))),Array.from(t)}function C6(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:i,editDateField:n,editorField:s}=t;return[r,i,n,s].filter(Boolean)}function $6(e){return C6(e).map(t=>t.toLowerCase())}function fye(e,t){return e.editable&&!Sz.has(e.type)&&!$6(t).includes(e.name?.toLowerCase()??"")}function dye(e,t){const r=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&r===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&r===t.globalIdField.toLowerCase()||Tz(t).includes(r)||xz.has(e.type)||Ez.some(i=>i.test(r)))}async function pye(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r?.length&&await Promise.all(r.map(n=>Az(e,i,n)))}async function Az(e,t,r){if(!r)return;const i=r.getLabelExpression(),n=r.where;if(i.type==="arcade")await Bc(e,t,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{G1(e,t,o.slice(1,-1))})}await O6(e,t,n)}function mye(e){const t=e.defaultValue;return t!==void 0&&L6(e,t)?t:e.nullable?null:void 0}function yye(e){const t=typeof e=="string"?{type:e}:e;return Fz(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function N6(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Mz(e){return e===null||N6(e)}function Iz(e){return e===null||Number.isInteger(e)}function P6(e){return e!=null&&typeof e=="string"}function Oz(e){return e===null||P6(e)}function Cz(){return!0}function L6(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?Iz:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?Mz:N6;break;case"string":case"esriFieldTypeString":r=e.nullable?Oz:P6;break;default:r=Cz}return arguments.length===1?r:r(t)}const $z=["integer","small-integer","big-integer"],Nz=["single","double"],Pz=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Lz=["esriFieldTypeSingle","esriFieldTypeDouble"],k6=new Set([...$z,...Pz]),kz=new Set([...Nz,...Lz]),Rz=ZC(k6,kz);function gye(e){return e!=null&&k6.has(e.type)}function Dz(e){return e!=null&&Rz.has(e.type)}function Fz(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function vye(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function bye(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function _ye(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function wye(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function Sye(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function xye(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function Eye(e,t){return Uz(e,t)===null}var fg,dg;function Tye(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function Uz(e,t){return e==null||e.nullable&&t===null?null:Dz(e)&&!jz(e.type,Number(t))?fg.OUT_OF_RANGE:L6(e,t)?e.domain?cz(e,t):null:dg.INVALID_TYPE}function jz(e,t){const r=typeof e=="string"?R6(e):e;if(!r)return!1;const i=r.min,n=r.max;return r.isInteger?Number.isInteger(t)&&t>=i&&t<=n:t>=i&&t<=n}function R6(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Gz;case"esriFieldTypeInteger":case"integer":return Bz;case"esriFieldTypeBigInteger":case"big-integer":return Vz;case"esriFieldTypeSingle":case"single":return zz;case"esriFieldTypeDouble":case"double":return qz}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(fg||(fg={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(dg||(dg={}));const Gz={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Bz={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Vz={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},zz={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},qz={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Aye(e,t,r){switch(e){case Lh.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Lh.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case dg.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case fg.OUT_OF_RANGE:{const{min:i,max:n}=R6(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${n}`}}}function Mye(e,t){return!Wz(e,t,null)}function Wz(e,t,r){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let n=!1;for(const s of e)if(!i.has(s)&&(n=!0,r==null))break;return n}function Iye(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function Hz(e){const t=e?.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let iy=class extends it{constructor(t){super(t),this.type=null}};b([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],iy.prototype,"type",void 0),iy=b([le("esri.popup.content.Content")],iy);const ia=iy;var t2;let ql=t2=class extends ia{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new t2({description:this.description,displayType:this.displayType,title:this.title})}};b([A({type:String,json:{write:!0}})],ql.prototype,"description",void 0),b([A({type:["auto","preview","list"],json:{write:!0}})],ql.prototype,"displayType",void 0),b([A({type:String,json:{write:!0}})],ql.prototype,"title",void 0),b([A({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],ql.prototype,"type",void 0),ql=t2=b([le("esri.popup.content.AttachmentsContent")],ql);const fp=ql;var r2;let Wl=r2=class extends ia{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new r2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};b([A()],Wl.prototype,"creator",void 0),b([A()],Wl.prototype,"destroyer",void 0),b([A()],Wl.prototype,"outFields",void 0),b([A({type:["custom"],readOnly:!0})],Wl.prototype,"type",void 0),Wl=r2=b([le("esri.popup.content.CustomContent")],Wl);const Yz=Wl;var i2;let Nu=i2=class extends it{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new i2({title:this.title,expression:this.expression})}};b([A({type:String,json:{write:!0}})],Nu.prototype,"title",void 0),b([A({type:String,json:{write:!0}})],Nu.prototype,"expression",void 0),b([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Nu.prototype,"returnType",void 0),Nu=i2=b([le("esri.popup.ElementExpressionInfo")],Nu);const Jz=Nu;var n2;let Jf=n2=class extends ia{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new n2({expressionInfo:this.expressionInfo?.clone()})}};b([A({type:Jz,json:{write:!0}})],Jf.prototype,"expressionInfo",void 0),b([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Jf.prototype,"type",void 0),Jf=n2=b([le("esri.popup.content.ExpressionContent")],Jf);const B1=Jf;function ut(e,t={}){const r=e instanceof Zo?e:new Zo(e,t),{alwaysWriteDefaults:i,default:n,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return A({type:s?r.apiValues:String,json:{type:r.jsonValues,default:n,name:o,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let Pu=class extends ra(it){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};b([ut(HV)],Pu.prototype,"dateFormat",void 0),b([A({type:Boolean,json:{write:!0}})],Pu.prototype,"digitSeparator",void 0),b([A({type:Gr,json:{write:!0}})],Pu.prototype,"places",void 0),Pu=b([le("esri.popup.support.FieldInfoFormat")],Pu);const Kz=Pu;var s2;let Qn=s2=class extends it{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new s2({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};b([A({type:String,json:{write:!0}})],Qn.prototype,"fieldName",void 0),b([A({type:Kz,json:{write:!0}})],Qn.prototype,"format",void 0),b([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Qn.prototype,"isEditable",void 0),b([A({type:String,json:{write:!0}})],Qn.prototype,"label",void 0),b([ut(new Zo({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Qn.prototype,"stringFieldOption",void 0),b([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Qn.prototype,"statisticType",void 0),b([A({type:String,json:{write:!0}})],Qn.prototype,"tooltip",void 0),b([A({type:Boolean,json:{write:!0}})],Qn.prototype,"visible",void 0),Qn=s2=b([le("esri.popup.FieldInfo")],Qn);const D6=Qn;var o2;let Io=o2=class extends ia{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new o2(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};b([A({type:Object,json:{write:!0}})],Io.prototype,"attributes",void 0),b([A({type:String,json:{write:!0}})],Io.prototype,"description",void 0),b([A({type:[D6]})],Io.prototype,"fieldInfos",void 0),b([or("fieldInfos")],Io.prototype,"writeFieldInfos",null),b([A({type:String,json:{write:!0}})],Io.prototype,"title",void 0),b([A({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Io.prototype,"type",void 0),Io=o2=b([le("esri.popup.content.FieldsContent")],Io);const dp=Io;let Hl=class extends it{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};b([A({type:String,json:{write:!0}})],Hl.prototype,"altText",void 0),b([A({type:String,json:{write:!0}})],Hl.prototype,"caption",void 0),b([A({type:String,json:{write:!0}})],Hl.prototype,"title",void 0),b([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Hl.prototype,"type",void 0),Hl=b([le("esri.popup.content.mixins.MediaInfo")],Hl);const yx=Hl;var a2;let Yl=a2=class extends Zr{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new a2({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};b([A()],Yl.prototype,"color",void 0),b([A()],Yl.prototype,"fieldName",void 0),b([A()],Yl.prototype,"tooltip",void 0),b([A()],Yl.prototype,"value",void 0),Yl=a2=b([le("esri.popup.content.support.ChartMediaInfoValueSeries")],Yl);const Zz=Yl;var l2;let xa=l2=class extends it{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new l2({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};b([A({type:[wt],json:{type:[[Gr]],write:!0}})],xa.prototype,"colors",void 0),b([A({type:[String],json:{write:!0}})],xa.prototype,"fields",void 0),b([A({type:String,json:{write:!0}})],xa.prototype,"normalizeField",void 0),b([A({type:[Zz],json:{read:!1}})],xa.prototype,"series",void 0),b([A({type:String,json:{write:!0}})],xa.prototype,"tooltipField",void 0),xa=l2=b([le("esri.popup.content.support.ChartMediaInfoValue")],xa);const Xz=xa;let Kf=class extends yx{constructor(t){super(t),this.type=null,this.value=void 0}};b([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Kf.prototype,"type",void 0),b([A({type:Xz,json:{write:!0}})],Kf.prototype,"value",void 0),Kf=b([le("esri.popup.content.mixins.ChartMediaInfo")],Kf);const V1=Kf,z1=Es()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var c2;let ny=c2=class extends V1{constructor(e){super(e),this.type="bar-chart"}clone(){return new c2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:z1.write}})],ny.prototype,"type",void 0),ny=c2=b([le("esri.popup.content.BarChartMediaInfo")],ny);const F6=ny;var u2;let sy=u2=class extends V1{constructor(e){super(e),this.type="column-chart"}clone(){return new u2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:z1.write}})],sy.prototype,"type",void 0),sy=u2=b([le("esri.popup.content.ColumnChartMediaInfo")],sy);const U6=sy;var h2;let Zf=h2=class extends it{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new h2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};b([A({type:String,json:{write:!0}})],Zf.prototype,"linkURL",void 0),b([A({type:String,json:{write:!0}})],Zf.prototype,"sourceURL",void 0),Zf=h2=b([le("esri.popup.content.support.ImageMediaInfoValue")],Zf);const Qz=Zf;var f2;let Lu=f2=class extends yx{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new f2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};b([A({type:Number,json:{write:!0}})],Lu.prototype,"refreshInterval",void 0),b([A({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Lu.prototype,"type",void 0),b([A({type:Qz,json:{write:!0}})],Lu.prototype,"value",void 0),Lu=f2=b([le("esri.popup.content.ImageMediaInfo")],Lu);const j6=Lu;var d2;let oy=d2=class extends V1{constructor(e){super(e),this.type="line-chart"}clone(){return new d2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:z1.write}})],oy.prototype,"type",void 0),oy=d2=b([le("esri.popup.content.LineChartMediaInfo")],oy);const G6=oy;var p2;let ay=p2=class extends V1{constructor(e){super(e),this.type="pie-chart"}clone(){return new p2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:z1.write}})],ay.prototype,"type",void 0),ay=p2=b([le("esri.popup.content.PieChartMediaInfo")],ay);const B6=ay,m2={base:yx,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":F6,"column-chart":U6,"line-chart":G6,"pie-chart":B6,image:j6}};var y2;let es=y2=class extends ia{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?j6.fromJSON(t):t.type==="barchart"?F6.fromJSON(t):t.type==="columnchart"?U6.fromJSON(t):t.type==="linechart"?G6.fromJSON(t):t.type==="piechart"?B6.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new y2(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};b([A()],es.prototype,"activeMediaInfoIndex",void 0),b([A({type:Object,json:{write:!0}})],es.prototype,"attributes",void 0),b([A({type:String,json:{write:!0}})],es.prototype,"description",void 0),b([A({types:[m2]})],es.prototype,"mediaInfos",void 0),b([Kr("mediaInfos")],es.prototype,"readMediaInfos",null),b([or("mediaInfos")],es.prototype,"writeMediaInfos",null),b([A({type:String,json:{write:!0}})],es.prototype,"title",void 0),b([A({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],es.prototype,"type",void 0),es=y2=b([le("esri.popup.content.MediaContent")],es);const pp=es;var g2;let Xf=g2=class extends it{constructor(e){super(e),this.field=null,this.order=null}clone(){return new g2({field:this.field,order:this.order})}};b([A({type:String,json:{write:!0}})],Xf.prototype,"field",void 0),b([A({type:["asc","desc"],json:{write:!0}})],Xf.prototype,"order",void 0),Xf=g2=b([le("esri.popup.support.RelatedRecordsInfoFieldOrder")],Xf);const V6=Xf;let Rs=class extends ra(ia){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};b([A({type:String,json:{write:!0}})],Rs.prototype,"description",void 0),b([A({type:Number,json:{type:Gr,write:!0}})],Rs.prototype,"displayCount",void 0),b([A({type:["list"],json:{write:!0}})],Rs.prototype,"displayType",void 0),b([A({type:[V6],json:{write:!0}})],Rs.prototype,"orderByFields",void 0),b([A({type:Number,json:{type:Gr,write:!0}})],Rs.prototype,"relationshipId",void 0),b([A({type:String,json:{write:!0}})],Rs.prototype,"title",void 0),b([A({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Rs.prototype,"type",void 0),Rs=b([le("esri.popup.content.RelationshipContent")],Rs);const mp=Rs;var v2;let Qf=v2=class extends ia{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new v2({text:this.text})}};b([A({type:String,json:{write:!0}})],Qf.prototype,"text",void 0),b([A({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Qf.prototype,"type",void 0),Qf=v2=b([le("esri.popup.content.TextContent")],Qf);const yp=Qf;let Ds=class extends ra(it){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};b([A({type:String,json:{write:!0}})],Ds.prototype,"title",void 0),b([A({type:String,json:{write:!0}})],Ds.prototype,"description",void 0),b([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ds.prototype,"type",void 0),b([A({type:Boolean,json:{read:!1}})],Ds.prototype,"open",void 0),b([A({type:Number,json:{type:Gr,write:!0}})],Ds.prototype,"associatedNetworkSourceId",void 0),b([A({type:Number,json:{type:Gr,write:!0}})],Ds.prototype,"associatedAssetGroup",void 0),b([A({type:Number,json:{type:Gr,write:!0}})],Ds.prototype,"associatedAssetType",void 0),Ds=b([le("esri.popup.support.UtilityNetworkAssociationType")],Ds);const eq=Ds;let Jl=class extends ra(ia){constructor(t){super(t),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};b([A({type:String,json:{write:!0}})],Jl.prototype,"description",void 0),b([A({type:String,json:{write:!0}})],Jl.prototype,"title",void 0),b([A({type:[eq],json:{write:!0}})],Jl.prototype,"associationTypes",void 0),b([ut({utilityNetworkAssociations:"utility-network-associations"})],Jl.prototype,"type",void 0),Jl=b([le("esri.popup.content.UtilityNetworkAssociationsContent")],Jl);const gx=Jl,tq={base:null,key:"type",typeMap:{attachment:fp,media:pp,text:yp,expression:B1,field:dp,relationship:mp,utilityNetworkAssociations:gx}},rq={base:null,key:"type",typeMap:{attachment:fp,media:pp,text:yp,expression:B1,field:dp,relationship:mp}};var b2;let Kl=b2=class extends it{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new b2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};b([A({type:String,json:{write:!0}})],Kl.prototype,"name",void 0),b([A({type:String,json:{write:!0}})],Kl.prototype,"title",void 0),b([A({type:String,json:{write:!0}})],Kl.prototype,"expression",void 0),b([A({type:["string","number"],json:{write:!0}})],Kl.prototype,"returnType",void 0),Kl=b2=b([le("esri.popup.ExpressionInfo")],Kl);const iq=Kl;var _2;let ed=_2=class extends it{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new _2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};b([A({type:Boolean,json:{write:!0}})],ed.prototype,"returnTopmostRaster",void 0),b([A({type:Boolean,json:{write:!0}})],ed.prototype,"showNoDataRecords",void 0),ed=_2=b([le("esri.popup.LayerOptions")],ed);const nq=ed;var w2;let td=w2=class extends it{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new w2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};b([A({type:Boolean,json:{write:!0}})],td.prototype,"showRelatedRecords",void 0),b([A({type:[V6],json:{write:!0}})],td.prototype,"orderByFields",void 0),td=w2=b([le("esri.popup.RelatedRecordsInfo")],td);const s4=td;let z6=0;const q6=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+z6++})}};return t=b([le("esri.core.Identifiable")],t),t},Rye=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:z6++})}};return t=b([le("esri.core.Identifiable.NumericIdentifiable")],t),t};let o4=class extends q6(class{}){};o4=b([le("esri.core.Identifiable")],o4);var S2;let On=S2=class extends q6(Zr){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new S2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};b([A()],On.prototype,"active",void 0),b([A()],On.prototype,"className",void 0),b([A()],On.prototype,"disabled",void 0),b([A()],On.prototype,"icon",void 0),b([A()],On.prototype,"id",void 0),b([A()],On.prototype,"indicator",void 0),b([A()],On.prototype,"title",void 0),b([A()],On.prototype,"type",void 0),b([A()],On.prototype,"visible",void 0),On=S2=b([le("esri.support.actions.ActionBase")],On);const vx=On;var x2;let ly=x2=class extends vx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new x2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};b([A()],ly.prototype,"image",void 0),ly=x2=b([le("esri.support.actions.ActionButton")],ly);const sq=ly;var E2;let rd=E2=class extends vx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new E2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};b([A()],rd.prototype,"image",void 0),b([A()],rd.prototype,"value",void 0),rd=E2=b([le("esri.support.actions.ActionToggle")],rd);const oq=rd,kf="relationships/",a4="expression/",aq=Ut.ofType({key:"type",defaultKeyValue:"button",base:vx,typeMap:{button:sq,toggle:oq}}),lq={base:ia,key:"type",typeMap:{media:pp,custom:Yz,text:yp,attachments:fp,fields:dp,expression:B1,relationship:mp,utilityNetworkAssociations:gx}},W6=new Set(["attachments","fields","media","text","expression","relationship"]),cq=new Set([...W6,"utility-network-associations"]);let Ar=class extends ra(it){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>Cc(lq,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||HC(t)?t:(jt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeWebSceneContent(t,r,i,n){this._writePopupTemplateContent(t,r,n)}writeWebMapContent(t,r,i,n){this._writePopupTemplateContent(t,r,n)}writeFieldInfos(t,r,i,n){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);r.fieldInfos=t.filter(Boolean).map(c=>{const f=c.toJSON(n);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,i,n){r[i]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(n)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...i,...this._getContentExpressionInfos(this.content,i)]),hp(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writePopupTemplateContent(t,r,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(n=>i?.origin==="web-scene"?W6.has(n.type):cq.has(n.type)).map(n=>n?.toJSON(i)),r.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(r):n.type==="media"?this._writeMediaContent(n,r):n.type==="text"?this._writeTextContent(n,r):n.type==="relationship"&&this._writeRelationshipContent(n,r)})):r.description=t}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const i=ge(t.fieldInfos);Array.isArray(r.fieldInfos)?i.forEach(n=>{const s=r.fieldInfos.find(o=>o.fieldName?.toLowerCase()===n.fieldName?.toLowerCase());s?s.visible=!0:r.fieldInfos.push(n)}):r.fieldInfos=i}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){const i=t.orderByFields?.map(s=>this._toFieldOrderJSON(s,t.relationshipId))||[],n=[...r.relatedRecordsInfo?.orderByFields||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...n?.length&&{orderByFields:n}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const i=ge(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(t,r,i){const n={description:!1,mediaInfos:!1};return i.map(s=>s.type==="media"?(s.mediaInfos||!r||n.mediaInfos||(s.mediaInfos=r,n.mediaInfos=!0),pp.fromJSON(s)):s.type==="text"?(s.text||!t||n.description||(s.text=t,n.description=!0),yp.fromJSON(s)):s.type==="attachments"?fp.fromJSON(s):s.type==="fields"?dp.fromJSON(s):s.type==="expression"?B1.fromJSON(s):s.type==="relationship"?mp.fromJSON(s):s.type==="utilityNetworkAssociations"?gx.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:i}=t;if(!r?.startsWith(kf))return null;const n=r.replace(kf,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),o=n[1];return typeof s=="number"&&o?mp.fromJSON({relationshipId:s,orderByFields:[{field:o,order:i}]}):null}_toFieldOrderJSON(t,r){const{order:i,field:n}=t;return{field:`${kf}${r}/${n}`,order:i}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:i,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];t?s.push(new yp({text:t})):s.push(new dp),Array.isArray(r)&&r.length&&s.push(pp.fromJSON({mediaInfos:r})),i&&s.push(fp.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=n;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:t}_getContentElementFields(t){const r=t?.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const i=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...i.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:r,title:i,value:n}=t,s=n||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=s,d=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((i,n)=>[...i,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,i)=>[...r,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(t,r,i){i&&await Promise.all(i.map(n=>Bc(t,r,n.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:i})=>!(i!==void 0&&!i||!r||r.startsWith(kf)||r.startsWith(a4))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,i)=>[...r,...this._getActionFields(i)],[]):[]}_getActionFields(t){const{className:r,title:i,type:n}=t,s=n==="button"||n==="toggle"?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return Hz(t).filter(r=>!(r.indexOf(kf)===0||r.indexOf(a4)===0))}};b([A({type:aq})],Ar.prototype,"actions",void 0),b([A()],Ar.prototype,"content",void 0),b([rm("content")],Ar.prototype,"castContent",null),b([Kr("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ar.prototype,"readContent",null),b([or("web-scene","content",{popupElements:{type:Ut.ofType(rq)},showAttachments:{type:Boolean},mediaInfos:{type:Ut.ofType(m2)},description:{type:String},relatedRecordsInfo:{type:s4}})],Ar.prototype,"writeWebSceneContent",null),b([or("content",{popupElements:{type:Ut.ofType(tq)},showAttachments:{type:Boolean},mediaInfos:{type:Ut.ofType(m2)},description:{type:String},relatedRecordsInfo:{type:s4}})],Ar.prototype,"writeWebMapContent",null),b([A({type:[iq],json:{write:!0}})],Ar.prototype,"expressionInfos",void 0),b([A({type:[D6]})],Ar.prototype,"fieldInfos",void 0),b([or("fieldInfos")],Ar.prototype,"writeFieldInfos",null),b([A({type:nq})],Ar.prototype,"layerOptions",void 0),b([or("layerOptions")],Ar.prototype,"writeLayerOptions",null),b([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ar.prototype,"lastEditInfoEnabled",void 0),b([A()],Ar.prototype,"outFields",void 0),b([A()],Ar.prototype,"overwriteActions",void 0),b([A()],Ar.prototype,"returnGeometry",void 0),b([A({json:{type:String}})],Ar.prototype,"title",void 0),b([or("title")],Ar.prototype,"writeTitle",null),Ar=b([le("esri.PopupTemplate")],Ar);const uq=Ar,l4=new Zo({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let hq=0,ku=class extends it{constructor(t){super(t),this.id="sym"+hq++,this.type=null,this.color=new wt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};b([A({type:l4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:l4.write}}})],ku.prototype,"type",void 0),b([A({type:wt,json:{write:{allowNull:!0}}})],ku.prototype,"color",void 0),b([Kr("color")],ku.prototype,"readColor",null),ku=b([le("esri.symbols.Symbol")],ku);const Ei=ku;var T2;let Ea=T2=class extends Ei{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const i=r.map(n=>{const s=n.valueExpressionInfo;return s?Bc(e,t,s.expression):null});await Promise.all(i)}}}clone(){return new T2({data:ge(this.data)})}hash(){return cC(JSON.stringify(this.data)).toString()}};b([A({json:{write:!1}})],Ea.prototype,"color",void 0),b([A({json:{write:!0}})],Ea.prototype,"data",void 0),b([Kr("data",["symbol"])],Ea.prototype,"readData",null),b([or("data",{})],Ea.prototype,"writeData",null),b([ut({CIMSymbolReference:"cim"},{readOnly:!0})],Ea.prototype,"type",void 0),Ea=T2=b([le("esri.symbols.CIMSymbol")],Ea);const ru=Ea;let Ru=class extends it{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,i){t||(r[i]=t)}};b([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Ru.prototype,"enabled",void 0),b([or("enabled")],Ru.prototype,"writeEnabled",null),b([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Ru.prototype,"type",void 0),Ru=b([le("esri.symbols.Symbol3DLayer")],Ru);const bo=Ru,fq=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,dq="screenUtils.toPt: input not recognized!",H6=96;function Gye(e){return e?e/72*H6:0}function uo(e){return e?72*e/H6:0}function ir(e){if(typeof e=="string"){const t=e.match(fq);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",s=i==="px"?uo(r):r;return n?-s:s}return console.warn(dq),null}return e}function pq(e=0,t=0){return{x:e,y:t}}function Bye(e){return e?pq(e.x,e.y):null}function Vye(e=0,t=0){return[e,t]}function zye(e=0,t=0,r=0){return[e,t,r]}function qye(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function mq(e){const t=IS(100*(1-e));return Math.max(0,Math.min(t,100))}function yq(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function gq(e,t){const r=t.transparency!=null?yq(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new wt([i[0]||0,i[1]||0,i[2]||0,r]):null}function vq(e,t){t.color=e.toJSON().slice(0,3);const r=mq(e.a);r!==0&&(t.transparency=r)}const yl={type:wt,json:{type:[Gr],default:null,read:{source:["color","transparency"],reader:gq},write:{target:{color:{type:[Gr]},transparency:{type:Gr}},writer:vq}}},ho={type:Number,cast:ir,json:{write:!0}};let Zl=class extends it{constructor(t){super(t),this.color=new wt([0,0,0,1]),this.extensionLength=0,this.size=uo(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};b([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Zl.prototype,"type",void 0),b([A(yl)],Zl.prototype,"color",void 0),b([A({...ho,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Zl.prototype,"extensionLength",void 0),b([A(ho)],Zl.prototype,"size",void 0),Zl=b([le("esri.symbols.edges.Edges3D")],Zl);const bx=Zl;var A2;let cy=A2=class extends bx{constructor(e){super(e),this.type="sketch"}clone(){return new A2(this.cloneProperties())}};b([ut({sketch:"sketch"},{readOnly:!0})],cy.prototype,"type",void 0),cy=A2=b([le("esri.symbols.edges.SketchEdges3D")],cy);const bq=cy;var M2;let uy=M2=class extends bx{constructor(e){super(e),this.type="solid"}clone(){return new M2(this.cloneProperties())}};b([ut({solid:"solid"},{readOnly:!0})],uy.prototype,"type",void 0),uy=M2=b([le("esri.symbols.edges.SolidEdges3D")],uy);const Y6=uy,J6={types:{key:"type",base:bx,typeMap:{solid:Y6,sketch:bq}},json:{write:!0}};function _x(){return[0,0,0]}function wx(e){return[e[0],e[1],e[2]]}function mf(e,t,r){return[e,t,r]}function _q(e,t,r){return[e,t,r]}function wq(e,t=_x()){const r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function Sq(e,t){return new Float64Array(e,t,3)}function K6(){return _x()}function Z6(){return mf(1,1,1)}function X6(){return mf(1,0,0)}function Q6(){return mf(0,1,0)}function eN(){return mf(0,0,1)}const xq=K6(),Eq=Z6(),Tq=X6(),Aq=Q6(),Mq=eN();Object.freeze(Object.defineProperty({__proto__:null,ONES:Eq,UNIT_X:Tq,UNIT_Y:Aq,UNIT_Z:Mq,ZEROS:xq,clone:wx,create:_x,createView:Sq,freeze:_q,fromArray:wq,fromValues:mf,ones:Z6,unitX:X6,unitY:Q6,unitZ:eN,zeros:K6},Symbol.toStringTag,{value:"Module"}));var I2;let fn=I2=class extends it{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?wx(this.emissiveFactor):null};return new I2(e)}};b([A(yl)],fn.prototype,"color",void 0),b([A({type:[Number],json:{write:!1}})],fn.prototype,"emissiveFactor",void 0),fn=I2=b([le("esri.symbols.support.Symbol3DMaterial")],fn);var O2;let Ta=O2=class extends bo{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new O2({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};b([ut({Extrude:"extrude"},{readOnly:!0})],Ta.prototype,"type",void 0),b([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Ta.prototype,"size",void 0),b([A({type:fn,json:{write:!0}})],Ta.prototype,"material",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ta.prototype,"castShadows",void 0),b([A(J6)],Ta.prototype,"edges",void 0),Ta=O2=b([le("esri.symbols.ExtrudeSymbol3DLayer")],Ta);const tN=Ta;let id=class extends Ei{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};b([ut({esriSLS:"simple-line"},{readOnly:!0})],id.prototype,"type",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],id.prototype,"width",void 0),id=b([le("esri.symbols.LineSymbol")],id);const Iq=id,Oq=["begin","end","begin-end"],rN=["arrow","circle","square","diamond","cross","x"];var C2;let Fs=C2=class extends it{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]=i?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){i?.origin==="web-map"||(t[r]=e)}clone(){return new C2({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};b([A({type:["begin","end","begin-end"],json:{write:!0}})],Fs.prototype,"placement",void 0),b([ut({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],Fs.prototype,"type",void 0),b([A({type:rN})],Fs.prototype,"style",void 0),b([or("style")],Fs.prototype,"writeStyle",null),b([A({type:wt,value:null,json:{write:{allowNull:!0}}})],Fs.prototype,"color",null),b([Kr("color")],Fs.prototype,"readColor",null),b([or("color")],Fs.prototype,"writeColor",null),Fs=C2=b([le("esri.symbols.LineSymbolMarker")],Fs);const Cq=Fs;var $2;const wb=new Zo({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Oo=$2=class extends Iq{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,n,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=ir(r)),i!=null&&(o.cap=i),n!=null&&(o.join=n),s!=null&&(o.miterLimit=ir(s)),o}clone(){return new $2({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};b([ut({esriSLS:"simple-line"},{readOnly:!0})],Oo.prototype,"type",void 0),b([A({type:wb.apiValues,json:{read:wb.read,write:wb.write}})],Oo.prototype,"style",void 0),b([A({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],Oo.prototype,"cap",void 0),b([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],Oo.prototype,"join",void 0),b([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Cq}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Oo.prototype,"marker",void 0),b([A({type:Number,json:{read:!1,write:!1}})],Oo.prototype,"miterLimit",void 0),Oo=$2=b([le("esri.symbols.SimpleLineSymbol")],Oo);const Ts=Oo;let nd=class extends Ei{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};b([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ts}},json:{default:null,write:!0}})],nd.prototype,"outline",void 0),b([A({type:["simple-fill","picture-fill"],readOnly:!0})],nd.prototype,"type",void 0),nd=b([le("esri.symbols.FillSymbol")],nd);const iN=nd;let hy=class extends it{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};b([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],hy.prototype,"type",void 0),hy=b([le("esri.symbols.patterns.LinePattern3D")],hy);const nN=hy,$q=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var N2;const Nq=Es()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let sd=N2=class extends nN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new N2(e)}};b([A({type:["style"]})],sd.prototype,"type",void 0),b([ut(Nq),A({type:$q})],sd.prototype,"style",void 0),sd=N2=b([le("esri.symbols.patterns.LineStylePattern3D")],sd);const Sx=sd;let fy=class extends it{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};b([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],fy.prototype,"type",void 0),fy=b([le("esri.symbols.patterns.Pattern3D")],fy);const sN=fy,Pq=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var P2;let od=P2=class extends sN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new P2({style:this.style})}};b([A({type:["style"]})],od.prototype,"type",void 0),b([A({type:Pq,json:{read:!0,write:!0}})],od.prototype,"style",void 0),od=P2=b([le("esri.symbols.patterns.StylePattern3D")],od);const oN=od,Lq={types:{key:"type",base:sN,typeMap:{style:oN}},json:{write:!0}},aN={types:{key:"type",base:nN,typeMap:{style:Sx}},json:{write:!0}},Id=new wt("white");new wt("black");const kq=new wt([255,255,255,0]);function Rq(e){return e.r===0&&e.g===0&&e.b===0}var L2;let Od=L2=class extends fn{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?wx(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new L2(e)}};b([ut({multiply:"multiply",replace:"replace",tint:"tint"})],Od.prototype,"colorMixMode",void 0),Od=L2=b([le("esri.symbols.support.Symbol3DFillMaterial")],Od);function Dq(e,t=!1){return e<=tC?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function Zye(e){return(eC(e)?e.length:e.byteLength/8)<=tC?Array.from(e):new Float64Array(e)}function Xye(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function um(e=jq){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function xx(e,t,r,i,n,s,o=um()){return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o[4]=n,o[5]=s,o}function Qye(e,t=um()){return Fq(e,0,e.length/3,t)}function Fq(e,t,r,i=um()){return lN(i,k2),Uq(i,e,t,r),i}function ege(e,t=Dq(24)){const[r,i,n,s,o,a]=e;return t[0]=r,t[1]=i,t[2]=n,t[3]=r,t[4]=i,t[5]=a,t[6]=r,t[7]=o,t[8]=n,t[9]=r,t[10]=o,t[11]=a,t[12]=s,t[13]=i,t[14]=n,t[15]=s,t[16]=i,t[17]=a,t[18]=s,t[19]=o,t[20]=n,t[21]=s,t[22]=o,t[23]=a,t}function tge(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new zn(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function rge(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function ige(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Uq(e,t,r=0,i=t.length/3){let n=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let f=0;f<i;f++)n=Math.min(n,t[r+3*f]),s=Math.min(s,t[r+3*f+1]),o=Math.min(o,t[r+3*f+2]),a=Math.max(a,t[r+3*f]),l=Math.max(l,t[r+3*f+1]),c=Math.max(c,t[r+3*f+2]);e[0]=n,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function Ex(e){return e[0]>=e[3]?0:e[3]-e[0]}function Tx(e){return e[1]>=e[4]?0:e[4]-e[1]}function Ax(e){return e[2]>=e[5]?0:e[5]-e[2]}function nge(e){const t=Ex(e),r=Ax(e),i=Tx(e);return Math.sqrt(t*t+r*r+i*i)}function sge(e,t=[0,0,0]){return t[0]=e[0]+Ex(e)/2,t[1]=e[1]+Tx(e)/2,t[2]=e[2]+Ax(e)/2,t}function oge(e,t=[0,0,0]){return t[0]=Ex(e),t[1]=Tx(e),t[2]=Ax(e),t}function age(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function lge(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function lN(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function cge(e){return e?lN(e,k2):um(k2)}function uge(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function hge(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function c4(e){return e.length===6}function fge(e,t,r){if(e==null||t==null)return e===t;if(!c4(e)||!c4(t))return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const k2=[1/0,1/0,1/0,-1/0,-1/0,-1/0],jq=[0,0,0,0,0,0];um();function dge(e,{isPrimitive:t,width:r,depth:i,height:n}){const s=t?10:1;if(r==null&&n==null&&i==null)return[s*e[0],s*e[1],s*e[2]];const o=mf(r,i,n);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const Gq=xx(-.5,-.5,-.5,.5,.5,.5),Bq=xx(-.5,-.5,0,.5,.5,1),Vq=xx(-.5,-.5,0,.5,.5,.5);function pge(e){switch(e){case"sphere":case"cube":case"diamond":return Gq;case"cylinder":case"cone":case"inverted-cone":return Bq;case"tetrahedron":return Vq;default:return}}const Mx=["butt","square","round"],zq=[...Mx,"none"],cN=["miter","bevel","round"];var R2;let Xl=R2=class extends it{constructor(e){super(e),this.color=new wt([0,0,0,1]),this.size=uo(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new R2(e)}};b([A(yl)],Xl.prototype,"color",void 0),b([A(ho)],Xl.prototype,"size",void 0),b([A(aN)],Xl.prototype,"pattern",void 0),b([A({type:Mx,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Xl.prototype,"patternCap",void 0),Xl=R2=b([le("esri.symbols.support.Symbol3DOutline")],Xl);var dy;let Co=dy=class extends bo{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new dy(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Sx({style:e.outline.style}):null,r={size:e.outline?.width??0,color:(e.outline?.color??Id).clone(),pattern:t};return t&&e.outline?.cap&&(r.patternCap=e.outline.cap),new dy({material:new Od({color:(e.color??kq).clone()}),pattern:e.style&&e.style!=="solid"?new oN({style:e.style}):null,outline:r})}};b([ut({Fill:"fill"},{readOnly:!0})],Co.prototype,"type",void 0),b([A({type:Od,json:{write:!0}})],Co.prototype,"material",void 0),b([A(Lq)],Co.prototype,"pattern",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Co.prototype,"castShadows",void 0),b([A({type:Xl,json:{write:!0}})],Co.prototype,"outline",void 0),b([A(J6)],Co.prototype,"edges",void 0),Co=dy=b([le("esri.symbols.FillSymbol3DLayer")],Co);const iu=Co,qq=["none","underline","line-through"],Wq=["normal","italic","oblique"],Hq=["normal","lighter","bold","bolder"],uN={type:Number,cast:e=>{const t=x1(e);return t===0?1:b1(t,.1,4)},nonNullable:!0},Yq=["left","right","center"],Jq=["baseline","top","middle","bottom"],hN={type:Yq,nonNullable:!0},fN={type:Jq,nonNullable:!0},mge=8;var D2;let $o=D2=class extends it{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ir(e)}clone(){return new D2({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};b([A({type:qq,json:{default:"none",write:!0}})],$o.prototype,"decoration",void 0),b([A({type:String,json:{write:!0}})],$o.prototype,"family",void 0),b([A({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],$o.prototype,"size",void 0),b([rm("size")],$o.prototype,"castSize",null),b([A({type:Wq,json:{default:"normal",write:!0}})],$o.prototype,"style",void 0),b([A({type:Hq,json:{default:"normal",write:!0}})],$o.prototype,"weight",void 0),$o=D2=b([le("esri.symbols.Font")],$o);const q1=$o;function hm(e,t){const r=t?.url?.path;if(e&&r&&(e=em(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=d$(e,t.portalItem.itemUrl);i!=null&&Kq.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=F2(e,t?.portal))&&H1.test(e)?pN(e):e}function W1(e,t,r=vp.YES){if((e=e&&H1.test(e)?mN(e):e)==null)return e;!ps(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=em(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const s=F2(n,t.portal),o=F2(i,t.portal);i=d$(o,s,s),i!=null&&i!==o&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=dN(i,t?.portal),ps(i)&&(i=Qa(i)),t?.resources&&t?.portalItem&&!ps(i)&&!uf(i)&&r===vp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function Ix(e,t,r){return hm(e,r)}function gp(e,t,r,i){const n=W1(e,i);n!==void 0&&(t[r]=n)}const H1=/\/items\/([^/]+)\/resources\/(.*)/,Kq=/^\.\/resources\//;function Zq(e){return(e?.match(H1)??null)?.[1]??null}function Xq(e){const t=e?.match(H1)??null;if(t==null)return null;const r=t[2],i=r.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=eA(r);return{prefix:null,filename:o,extension:a}}const{path:n,extension:s}=eA(r.slice(i+1));return{prefix:r.slice(0,i),filename:n,extension:s}}function dN(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?M_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function F2(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=BS();return Mh(i,`${i.scheme}://${r}`)?M_(e,t.portalHostname,r):M_(e,r,t.portalHostname)}function pN(e){if(!e)return e||null;let t=e;return t&&Kt&&!Kt.findCredential(t)&&(t=l$(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function mN(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Kt&&!Kt.findCredential(t)&&(t=l$(t)),t}var vp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(vp||(vp={}));const yge=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return vp},ensureMainOnlineDomain:dN,fromCDNUrl:mN,fromJSON:hm,itemIdFromResourceUrl:Zq,prefixAndFilenameFromResourceUrl:Xq,read:Ix,toCDNUrl:pN,toJSON:W1,write:gp},Symbol.toStringTag,{value:"Module"}));var U2;const Qq=Es()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Ql=U2=class extends it{constructor(e){super(e)}readHref(e,t,r){return e?hm(e,r):t.dataURI}writeHref(e,t,r,i){e&&(uf(e)?t.dataURI=e:(t.href=W1(e,i),ps(t.href)&&(t.href=Qa(t.href))))}clone(){return new U2({href:this.href,primitive:this.primitive})}};b([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Ql.prototype,"href",void 0),b([Kr("href")],Ql.prototype,"readHref",null),b([or("href",{href:{type:String},dataURI:{type:String}})],Ql.prototype,"writeHref",null),b([ut(Qq)],Ql.prototype,"primitive",void 0),Ql=U2=b([le("esri.symbols.support.IconSymbol3DLayerResource")],Ql);var j2;let Yu=j2=class extends Zr{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new j2({x:this.x,y:this.y})}};b([A({type:Number})],Yu.prototype,"x",void 0),b([A({type:Number})],Yu.prototype,"y",void 0),Yu=j2=b([le("esri.symbols.support.Symbol3DAnchorPosition2D")],Yu);var G2;let ad=G2=class extends it{constructor(e){super(e),this.color=new wt([0,0,0,1]),this.size=uo(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new G2(e)}};b([A(yl)],ad.prototype,"color",void 0),b([A(ho)],ad.prototype,"size",void 0),ad=G2=b([le("esri.symbols.support.Symbol3DIconOutline")],ad);var Du;const yN="esri.symbols.IconSymbol3DLayer";let ts=Du=class extends bo{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Du({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Id,r=u4(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Id).clone()}:null;return new Du({size:e.size,angle:e.angle,resource:{primitive:tW(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||Rq(e.color)?Id:e.color,r=u4(e);return new Du({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Du({resource:{href:p$({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};b([A({type:fn,json:{write:!0}})],ts.prototype,"material",void 0),b([A({type:Ql,json:{write:!0}})],ts.prototype,"resource",void 0),b([ut({Icon:"icon"},{readOnly:!0})],ts.prototype,"type",void 0),b([A(ho)],ts.prototype,"size",void 0),b([ut({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],ts.prototype,"anchor",void 0),b([A({type:Yu,json:{type:[Number],read:{reader:e=>new Yu({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ts.prototype,"anchorPosition",void 0),b([A({type:ad,json:{write:!0}})],ts.prototype,"outline",void 0),b([A({type:Number,json:{write:!0,default:0}})],ts.prototype,"angle",void 0),ts=Du=b([le(yN)],ts);const pc=ts;function u4(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=h4(e.xoffset),n=h4(e.yoffset);return(i||n)&&t&&r?{x:-i/t,y:n/r}:null}function h4(e){return isFinite(e)?e:0}const eW={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function tW(e){return eW[e]||(jt.getLogger(yN).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}function rW(e,t,r=Ut){return t||(t=new r),t===e||(t.removeAll(),nW(e)?t.addMany(e):e&&t.add(e)),t}function iW(e){return e}function nW(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Fa;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Fa||(Fa={}));let sW=class{constructor(){this._resolver=Ah(),this._status=Fa.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Fa.RESOLVED,this._cleanUp()},()=>{this._status=Fa.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Fa.RESOLVED}isRejected(){return this._status===Fa.REJECTED}isFulfilled(){return this._status!==Fa.PENDING}abort(){this._resolver.reject(gn())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Ah(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==i||Qp(n)||this._resolver.reject(n)}),t.resolve()}};const oW=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new sW,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return this._promiseProps.promise.then(()=>this).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=b([le("esri.core.Promise")],t),t};let B2=class extends oW(Zr){};B2=b([le("esri.core.Promise")],B2);const aW="not-loaded",lW="loading",cW="failed",f4="loaded",gN=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const n=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=lF(s,l);this.destroyed&&l(new lt("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===aW){this._set("loadStatus",lW);const a=this._loadController=new AbortController;n({signal:a.signal})}return i(),o}})),this.when(()=>{this._set("loadStatus",f4),this._loadController=null},i=>{this._set("loadStatus",cW),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=RC(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===f4}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new lt("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return b([A({readOnly:!0})],t.prototype,"loaded",null),b([A({readOnly:!0})],t.prototype,"loadError",void 0),b([A({clonable:!1})],t.prototype,"loadStatus",void 0),b([A({type:[Qd],readOnly:!0})],t.prototype,"loadWarnings",null),t=b([le("esri.core.Loadable")],t),t};let ld=class extends gN(B2){};ld=b([le("esri.core.Loadable")],ld),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=gN,e.isLoadable=t}(ld||(ld={}));const uW=ld;let r0;function hW(e){return r0&&!r0.destroyed||(r0=e()),r0}var V2;const fW=new Zo({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Cn=V2=class extends Zr{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new V2({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=D$(this.extent,Vr.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:r,bbox:i,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>fW.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};b([A()],Cn.prototype,"categories",void 0),b([A()],Cn.prototype,"disableExtraQuery",void 0),b([A({type:zn})],Cn.prototype,"extent",void 0),b([A()],Cn.prototype,"filter",void 0),b([A()],Cn.prototype,"num",void 0),b([A()],Cn.prototype,"query",void 0),b([A()],Cn.prototype,"sortField",void 0),b([A()],Cn.prototype,"sortOrder",null),b([A()],Cn.prototype,"start",void 0),Cn=V2=b([le("esri.portal.PortalQueryParams")],Cn);const Js=Cn;var z2;let Mr=z2=class extends it{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new lt("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new z2({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=bs(Js,e);const i=this.portal;return parseFloat(i.currentVersion)>5?(r=r||new Js,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Js,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(i=>{const n=i.contentCategorySetsGroupQuery;if(n){const s=new Js({disableExtraQuery:!0,num:1,query:n});return r.queryGroups(s,t)}throw new lt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const n=i.results[0],s=new Js({num:1,query:`typekeywords:"${e}"`});return n.queryItems(s,t)}throw new lt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(n=>{const s=n?.categorySchema;return s?.length?s:[]}):[])}};b([A()],Mr.prototype,"access",void 0),b([A({type:Date})],Mr.prototype,"created",void 0),b([A()],Mr.prototype,"description",void 0),b([A()],Mr.prototype,"id",void 0),b([A()],Mr.prototype,"isInvitationOnly",void 0),b([A({type:Date})],Mr.prototype,"modified",void 0),b([A()],Mr.prototype,"owner",void 0),b([A()],Mr.prototype,"portal",void 0),b([A()],Mr.prototype,"snippet",void 0),b([A()],Mr.prototype,"sortField",void 0),b([A()],Mr.prototype,"sortOrder",void 0),b([A()],Mr.prototype,"sourceJSON",void 0),b([A()],Mr.prototype,"tags",void 0),b([A()],Mr.prototype,"thumbnail",void 0),b([A({readOnly:!0})],Mr.prototype,"thumbnailUrl",null),b([A()],Mr.prototype,"title",void 0),b([A({readOnly:!0})],Mr.prototype,"url",null),Mr=z2=b([le("esri.portal.PortalGroup")],Mr);const q2=Mr;let ec=class extends Zr{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};b([A()],ec.prototype,"nextQueryParams",void 0),b([A()],ec.prototype,"queryParams",void 0),b([A()],ec.prototype,"results",void 0),b([A()],ec.prototype,"total",void 0),ec=b([le("esri.portal.PortalQueryResult")],ec);const dW=ec;let No=class extends it{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new lt("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};b([A({type:Date})],No.prototype,"created",void 0),b([A()],No.prototype,"id",void 0),b([A()],No.prototype,"portal",void 0),b([A()],No.prototype,"title",void 0),b([A({readOnly:!0})],No.prototype,"url",null),b([A()],No.prototype,"username",void 0),No=b([le("esri.portal.PortalFolder")],No);const pW=No;var W2;let Dt=W2=class extends it{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e?.data,i=e?.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),r!=null&&(typeof r=="string"?n.query.text=r:typeof r=="object"&&(n.query.text=JSON.stringify(r))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal.request(s+"/addItem",n).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const i=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:i}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",i=[],n=e.map(s=>s.id);if(n.length){const s={method:"post",query:{items:n.join(","),permanentDelete:t}},o=await this.portal.request(r,s);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new lt("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:f})}}return i}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(i=>{const n=pW.fromJSON(i);return n.portal=this.portal,n}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const i=q2.fromJSON(r);return i.portal=this.portal,i}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await we(()=>import("./PortalItem-DejdcV5B.js"),__vite__mapDeps([25,1]),import.meta.url),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},n=await this.portal.request(t,{query:i});let s;return n?.items?(s=n.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new q2({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new lt("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,i=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:i})}toJSON(){throw new lt("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new W2({sourceJSON:e});return t.read(e),t}};b([A()],Dt.prototype,"access",void 0),b([A({type:Date})],Dt.prototype,"created",void 0),b([A()],Dt.prototype,"culture",void 0),b([A()],Dt.prototype,"description",void 0),b([A()],Dt.prototype,"email",void 0),b([A()],Dt.prototype,"favGroupId",void 0),b([A()],Dt.prototype,"fullName",void 0),b([A({type:Date})],Dt.prototype,"modified",void 0),b([A()],Dt.prototype,"orgId",void 0),b([A()],Dt.prototype,"portal",void 0),b([A()],Dt.prototype,"preferredView",void 0),b([A()],Dt.prototype,"privileges",void 0),b([A()],Dt.prototype,"region",void 0),b([A()],Dt.prototype,"role",void 0),b([A()],Dt.prototype,"roleId",void 0),b([A()],Dt.prototype,"sourceJSON",void 0),b([A()],Dt.prototype,"thumbnail",void 0),b([A({readOnly:!0})],Dt.prototype,"thumbnailUrl",null),b([A()],Dt.prototype,"units",void 0),b([A({readOnly:!0})],Dt.prototype,"userContentUrl",null),b([A({readOnly:!0})],Dt.prototype,"url",null),b([A()],Dt.prototype,"username",void 0),b([A()],Dt.prototype,"userLicenseTypeId",void 0),b([A()],Dt.prototype,"userType",void 0),Dt=W2=b([le("esri.portal.PortalUser")],Dt);const vN=Dt;var cn;let Rf;const d4={PortalGroup:()=>Promise.resolve({default:q2}),PortalItem:()=>we(()=>import("./PortalItem-DejdcV5B.js"),__vite__mapDeps([25,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:vN})};let me=cn=class extends a$(uW){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Pt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){p4.unregister(this),this.defaultBasemap=B0(this.defaultBasemap),this.defaultDevBasemap=B0(this.defaultDevBasemap),this.defaultVectorBasemap=B0(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=lf(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Pt.request.trustedServers.includes(t)||Pt.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return y$(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=vN.fromJSON(e),t.portal=this),t}load(e){const t=we(()=>import("./Basemap-xrbvSmkw.js").then(r=>r.B),__vite__mapDeps([26,1,27,25,28]),import.meta.url).then(({default:r})=>{rp(e),Rf=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{if(!this.hasAPIKey&&Kt){const i=Kt;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==cn.AUTH_MODE_AUTO&&this.authMode!==cn.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",mW(new WeakRef(this))),p4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await we(async()=>{const{default:r}=await import("./ElevationLayer-DTZMGeFw.js");return{default:r}},__vite__mapDeps([29,1,30,31,32,20,33,34,35,36,37,38,39,40,41,42,43,44,45,46,25,47,48,49,50]),import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(e,t);r.unshift(...i)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new Js;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const r=(await this.queryItems(t,e)).results.find(i=>i.type==="Web Scene");return r?new Rf({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Nc(e)?Promise.reject(gn()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Js({num:100,sortField:"title"});if(t?.length){const i=[];for(const n of t)i.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return Nc(e)?Promise.reject(gn()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||ro();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||ro();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return hW(()=>new cn)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",n={authMode:e,query:{culture:ro().toLowerCase()},withCredentials:!0,...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(i,n)}queryPortal(e,t,r,i){const n=bs(Js,t),s=o=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...i}).then(a=>{const l=n.clone();return l.start=a.nextStart,new dW({nextQueryParams:l,queryParams:n,total:a.total,results:cn._resultsToTypedArray(o,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(WC(l),a)));return r&&d4[r]?d4[r]().then(({default:o})=>(rp(i),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new lt("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===cn.AUTH_MODE_ANONYMOUS||this.authMode===cn.AUTH_MODE_NO_PROMPT&&!Kt)return Promise.reject(new lt("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Kt?Kt.getCredential(this.restUrl,{prompt:this.authMode!==cn.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(i=>{const n=cn._resultsToTypedArray(r,{portal:this},i);return Promise.all(n.map(s=>typeof s.when=="function"?s.when():i)).then(()=>n,()=>n)})}request(e,t={}){const r={f:"json",...t.query},{authMode:i=this.authMode===cn.AUTH_MODE_ANONYMOUS||this.authMode===cn.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:i,body:n,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),wr(this._normalizeSSL(e),c).then(f=>f.data)}toJSON(){throw new lt("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new cn({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new lt("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Js;r.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const i=await this.queryGroups(r,t);if(!i.total)return[];const n=i.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const s=await n.queryItems(r,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new Rf({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const i=new Js({query:r,disableExtraQuery:!0}),n=await this.queryGroups(i,t);if(!n.total)return[];const s=n.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Rf({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Rf.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,i){let n;if(r){const s=i!=null?i.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else n=[];return n}};me.AUTH_MODE_ANONYMOUS="anonymous",me.AUTH_MODE_AUTO="auto",me.AUTH_MODE_IMMEDIATE="immediate",me.AUTH_MODE_NO_PROMPT="no-prompt",b([A()],me.prototype,"access",void 0),b([A()],me.prototype,"allSSL",void 0),b([A()],me.prototype,"authMode",void 0),b([A()],me.prototype,"authorizedCrossOriginDomains",void 0),b([Kr("authorizedCrossOriginDomains")],me.prototype,"readAuthorizedCrossOriginDomains",null),b([A()],me.prototype,"basemapGalleryGroupQuery",void 0),b([A({json:{name:"3DBasemapGalleryGroupQuery"}})],me.prototype,"basemapGalleryGroupQuery3D",void 0),b([A()],me.prototype,"bingKey",void 0),b([A()],me.prototype,"canListApps",void 0),b([A()],me.prototype,"canListData",void 0),b([A()],me.prototype,"canListPreProvisionedItems",void 0),b([A()],me.prototype,"canProvisionDirectPurchase",void 0),b([A()],me.prototype,"canSearchPublic",void 0),b([A()],me.prototype,"canShareBingPublic",void 0),b([A()],me.prototype,"canSharePublic",void 0),b([A()],me.prototype,"canSignInArcGIS",void 0),b([A()],me.prototype,"canSignInIDP",void 0),b([A()],me.prototype,"colorSetsGroupQuery",void 0),b([A()],me.prototype,"commentsEnabled",void 0),b([A({type:Date})],me.prototype,"created",void 0),b([A()],me.prototype,"credential",void 0),b([A()],me.prototype,"culture",void 0),b([A()],me.prototype,"currentVersion",void 0),b([A()],me.prototype,"customBaseUrl",void 0),b([A()],me.prototype,"default3DBasemapQuery",void 0),b([A()],me.prototype,"defaultBasemap",void 0),b([Kr("defaultBasemap")],me.prototype,"readDefaultBasemap",null),b([A()],me.prototype,"defaultDevBasemap",void 0),b([Kr("defaultDevBasemap")],me.prototype,"readDefaultDevBasemap",null),b([A({type:zn})],me.prototype,"defaultExtent",void 0),b([A()],me.prototype,"defaultVectorBasemap",void 0),b([Kr("defaultVectorBasemap")],me.prototype,"readDefaultVectorBasemap",null),b([A()],me.prototype,"description",void 0),b([A()],me.prototype,"devBasemapGalleryGroupQuery",void 0),b([A()],me.prototype,"eueiEnabled",void 0),b([A({readOnly:!0})],me.prototype,"extraQuery",null),b([A()],me.prototype,"featuredGroups",void 0),b([A()],me.prototype,"featuredItemsGroupQuery",void 0),b([A()],me.prototype,"galleryTemplatesGroupQuery",void 0),b([A()],me.prototype,"layoutGroupQuery",void 0),b([A()],me.prototype,"livingAtlasGroupQuery",void 0),b([A({readOnly:!0})],me.prototype,"hasAPIKey",null),b([A()],me.prototype,"hasCategorySchema",void 0),b([A()],me.prototype,"hasClassificationSchema",void 0),b([A()],me.prototype,"helpBase",void 0),b([A()],me.prototype,"helperServices",void 0),b([A()],me.prototype,"helpMap",void 0),b([A()],me.prototype,"homePageFeaturedContent",void 0),b([A()],me.prototype,"homePageFeaturedContentCount",void 0),b([A()],me.prototype,"httpPort",void 0),b([A()],me.prototype,"httpsPort",void 0),b([A()],me.prototype,"id",void 0),b([A()],me.prototype,"ipCntryCode",void 0),b([A({readOnly:!0})],me.prototype,"isOrganization",null),b([A()],me.prototype,"isPortal",void 0),b([A()],me.prototype,"isReadOnly",void 0),b([A({readOnly:!0})],me.prototype,"itemPageUrl",null),b([A()],me.prototype,"layerTemplatesGroupQuery",void 0),b([A()],me.prototype,"maxTokenExpirationMinutes",void 0),b([A({type:Date})],me.prototype,"modified",void 0),b([A()],me.prototype,"name",void 0),b([A()],me.prototype,"portalHostname",void 0),b([A()],me.prototype,"portalMode",void 0),b([A()],me.prototype,"portalProperties",void 0),b([A()],me.prototype,"region",void 0),b([A()],me.prototype,"recycleBinEnabled",void 0),b([A({readOnly:!0})],me.prototype,"restUrl",null),b([A()],me.prototype,"rotatorPanels",void 0),b([A()],me.prototype,"showHomePageDescription",void 0),b([A()],me.prototype,"sourceJSON",void 0),b([A()],me.prototype,"staticImagesUrl",void 0),b([A({json:{name:"2DStylesGroupQuery"}})],me.prototype,"stylesGroupQuery2d",void 0),b([A({json:{name:"stylesGroupQuery"}})],me.prototype,"stylesGroupQuery3d",void 0),b([A()],me.prototype,"supportsHostedServices",void 0),b([A()],me.prototype,"symbolSetsGroupQuery",void 0),b([A()],me.prototype,"templatesGroupQuery",void 0),b([A()],me.prototype,"thumbnail",void 0),b([A({readOnly:!0})],me.prototype,"thumbnailUrl",null),b([A()],me.prototype,"units",void 0),b([A()],me.prototype,"url",void 0),b([A()],me.prototype,"urlKey",void 0),b([Kr("urlKey")],me.prototype,"readUrlKey",null),b([A()],me.prototype,"user",void 0),b([Kr("user")],me.prototype,"readUser",null),b([A()],me.prototype,"use3dBasemaps",void 0),b([A()],me.prototype,"useDefault3dBasemap",void 0),b([A()],me.prototype,"useStandardizedQuery",void 0),b([A()],me.prototype,"useVectorBasemaps",void 0),b([A()],me.prototype,"vectorBasemapGalleryGroupQuery",void 0),me=cn=b([le("esri.portal.Portal")],me);const Y1=me,p4=new FinalizationRegistry(e=>{e.remove()});function mW(e){const t=Kt;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let tc=class extends ra(it){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};b([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],tc.prototype,"type",void 0),b([A({type:Oq,json:{default:"begin-end",write:!0}})],tc.prototype,"placement",void 0),b([A({type:rN,json:{default:"arrow",write:!0}})],tc.prototype,"style",void 0),b([A({type:wt,json:{type:[Gr],default:null,write:!0}})],tc.prototype,"color",void 0),tc=b([le("esri.symbols.LineStyleMarker3D")],tc);const H2=tc;var py;let Us=py=class extends bo{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=uo(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new py(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??uo(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Sx({style:e.style}):null,material:new fn({color:(e.color||Id).clone()}),marker:e.marker?new H2({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new py(t)}};b([A({type:fn,json:{write:!0}})],Us.prototype,"material",void 0),b([ut({Line:"line"},{readOnly:!0})],Us.prototype,"type",void 0),b([A({type:cN,json:{write:!0,default:"miter"}})],Us.prototype,"join",void 0),b([A({type:Mx,json:{write:!0,default:"butt"}})],Us.prototype,"cap",void 0),b([A(ho)],Us.prototype,"size",void 0),b([A(aN)],Us.prototype,"pattern",void 0),b([A({types:{key:"type",base:H2,typeMap:{style:H2}},json:{write:!0}})],Us.prototype,"marker",void 0),Us=py=b([le("esri.symbols.LineSymbol3DLayer")],Us);const yf=Us;var Y2;const yW=Es()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let cd=Y2=class extends it{clone(){return new Y2({href:this.href,primitive:this.primitive})}};b([A({type:String,json:{read:Ix,write:gp}})],cd.prototype,"href",void 0),b([ut(yW)],cd.prototype,"primitive",void 0),cd=Y2=b([le("esri.symbols.support.ObjectSymbol3DLayerResource")],cd);var J2;let cc=J2=class extends Zr{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new J2({x:this.x,y:this.y,z:this.z})}};b([A({type:Number})],cc.prototype,"x",void 0),b([A({type:Number})],cc.prototype,"y",void 0),b([A({type:Number})],cc.prototype,"z",void 0),cc=J2=b([le("esri.symbols.support.Symbol3DAnchorPosition3D")],cc);var K2;let ui=K2=class extends bo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new K2({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};b([A({type:fn,json:{write:!0}})],ui.prototype,"material",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ui.prototype,"castShadows",void 0),b([A({type:cd,json:{write:!0}})],ui.prototype,"resource",void 0),b([ut({Object:"object"},{readOnly:!0})],ui.prototype,"type",void 0),b([A({type:Number,json:{write:!0}})],ui.prototype,"width",void 0),b([A({type:Number,json:{write:!0}})],ui.prototype,"height",void 0),b([A({type:Number,json:{write:!0}})],ui.prototype,"depth",void 0),b([ut({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],ui.prototype,"anchor",void 0),b([A({type:cc,json:{type:[Number],read:{reader:e=>new cc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ui.prototype,"anchorPosition",void 0),b([A({type:Number,json:{write:!0}})],ui.prototype,"heading",void 0),b([A({type:Number,json:{write:!0}})],ui.prototype,"tilt",void 0),b([A({type:Number,json:{write:!0}})],ui.prototype,"roll",void 0),b([A({readOnly:!0})],ui.prototype,"isPrimitive",null),ui=K2=b([le("esri.symbols.ObjectSymbol3DLayer")],ui);const Ox=ui;var Z2;let Ai=Z2=class extends bo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new Z2({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};b([A({type:fn,json:{write:!0}})],Ai.prototype,"material",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ai.prototype,"castShadows",void 0),b([ut({Path:"path"},{readOnly:!0})],Ai.prototype,"type",void 0),b([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],Ai.prototype,"profile",void 0),b([A({type:cN,json:{write:!0,default:"miter"}})],Ai.prototype,"join",void 0),b([A({type:zq,json:{write:!0,default:"butt"}})],Ai.prototype,"cap",void 0),b([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Ai.prototype,"width",void 0),b([Kr("width",["width","size","height"])],Ai.prototype,"readWidth",null),b([A({type:Number,json:{write:!0}})],Ai.prototype,"height",void 0),b([Kr("height",["height","size","width"])],Ai.prototype,"readHeight",null),b([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Ai.prototype,"anchor",void 0),b([A({type:["heading","all"],json:{write:!0,default:"all"}})],Ai.prototype,"profileRotation",void 0),Ai=Z2=b([le("esri.symbols.PathSymbol3DLayer")],Ai);const Cx=Ai;var X2;let Ju=X2=class extends it{constructor(){super(...arguments),this.color=new wt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new X2(e)}};b([A(yl)],Ju.prototype,"color",void 0),b([A(ho)],Ju.prototype,"size",void 0),Ju=X2=b([le("esri.symbols.support.Symbol3DHalo")],Ju);let Cd=class extends ra(it){constructor(t){super(t),this.color=null}};b([A(yl)],Cd.prototype,"color",void 0),Cd=b([le("esri.symbols.support.Symbol3DTextBackground")],Cd);var my;let Gi=my=class extends bo{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,i){const n={...i,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new my({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new my({font:e.font!=null?e.font.clone():new q1,halo:gW(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new fn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Cd({color:e.backgroundColor.clone()}):null})}};function gW(e,t){return e&&t!=null&&t>0?new Ju({color:ge(e),size:t}):null}b([A({type:q1,json:{write:!0}})],Gi.prototype,"font",null),b([or("font")],Gi.prototype,"writeFont",null),b([A({type:Ju,json:{write:!0}})],Gi.prototype,"halo",void 0),b([A({...hN,json:{default:"center",write:!0}})],Gi.prototype,"horizontalAlignment",void 0),b([A({...uN,json:{default:1,write:!0}})],Gi.prototype,"lineHeight",void 0),b([A({type:fn,json:{write:!0}})],Gi.prototype,"material",void 0),b([A({type:Cd,json:{write:!0}})],Gi.prototype,"background",void 0),b([A(ho)],Gi.prototype,"size",null),b([A({type:String,json:{write:!0}})],Gi.prototype,"text",void 0),b([ut({Text:"text"},{readOnly:!0})],Gi.prototype,"type",void 0),b([A({...fN,json:{default:"baseline",write:!0}})],Gi.prototype,"verticalAlignment",void 0),Gi=my=b([le("esri.symbols.TextSymbol3DLayer")],Gi);const gf=Gi;var Q2;let Aa=Q2=class extends bo{constructor(e){super(e),this.color=ew.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Q2({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};b([A({type:wt,nonNullable:!0,json:{type:[Gr],write:(e,t,r)=>t[r]=e.toArray(wt.AlphaMode.UNLESS_OPAQUE),default:()=>ew.clone(),defaultEquals:e=>e.toCss(!0)===ew.toCss(!0)}})],Aa.prototype,"color",void 0),b([ut({Water:"water"},{readOnly:!0})],Aa.prototype,"type",void 0),b([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Aa.prototype,"waterbodySize",void 0),b([A({type:Number,json:{write:!0,default:null}})],Aa.prototype,"waveDirection",void 0),b([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Aa.prototype,"waveStrength",void 0),Aa=Q2=b([le("esri.symbols.WaterSymbol3DLayer")],Aa);const bN=Aa,ew=new wt([0,119,190]);var tw;let rc=tw=class extends Zr{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new tw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};b([A({type:String})],rc.prototype,"name",void 0),b([A({type:String})],rc.prototype,"styleUrl",void 0),b([A({type:String})],rc.prototype,"styleName",void 0),b([A({type:Y1})],rc.prototype,"portal",void 0),rc=tw=b([le("esri.symbols.support.StyleOrigin")],rc);const rw=rc;var iw;let $d=iw=class extends Zr{constructor(){super(...arguments),this.url=""}clone(){return new iw({url:this.url})}};b([A({type:String})],$d.prototype,"url",void 0),$d=iw=b([le("esri.symbols.support.Thumbnail")],$d);const _N={icon:pc,object:Ox,line:yf,path:Cx,fill:iu,extrude:tN,text:gf,water:bN},vW=Ut.ofType({base:bo,key:"type",typeMap:_N,errorContext:"symbol-layer"});let js=class extends Ei{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type,n=i||Ut;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&jt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){rW(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){const n=hm(t.styleUrl,i);return new rw({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new rw({portal:i?.portal||Y1.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new Qd("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,n){if(t.styleUrl&&t.name){let s=W1(t.styleUrl,n);ps(s)&&(s=Qa(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&n?.portal&&!fU(t.portal.restUrl,n.portal.restUrl)?n?.messages&&n.messages.push(new Qd("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof bo||t&&_N[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};b([A({json:{read:!1,write:!1}})],js.prototype,"color",null),b([A({type:vW,nonNullable:!0,json:{write:!0}}),rm(iW)],js.prototype,"symbolLayers",null),b([A({type:rw})],js.prototype,"styleOrigin",void 0),b([Kr("styleOrigin")],js.prototype,"readStyleOrigin",null),b([or("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],js.prototype,"writeStyleOrigin",null),b([A({type:$d,json:{read:!1}})],js.prototype,"thumbnail",void 0),b([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],js.prototype,"type",void 0),js=b([le("esri.symbols.Symbol3D")],js);const nu=js;let ud=class extends it{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};b([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],ud.prototype,"type",void 0),b([A({readOnly:!0})],ud.prototype,"visible",void 0),ud=b([le("esri.symbols.callouts.Callout3D")],ud);const wN=ud;var nw;let yy=nw=class extends it{constructor(e){super(e),this.color=new wt("white")}clone(){return new nw({color:ge(this.color)})}};b([A(yl)],yy.prototype,"color",void 0),yy=nw=b([le("esri.symbols.callouts.LineCallout3DBorder")],yy);const bW=yy;var sw;let Ma=sw=class extends wN{constructor(e){super(e),this.type="line",this.color=new wt([0,0,0,1]),this.size=uo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new sw({color:ge(this.color),size:this.size,border:ge(this.border)})}};b([ut({line:"line"})],Ma.prototype,"type",void 0),b([A(yl)],Ma.prototype,"color",void 0),b([A(ho)],Ma.prototype,"size",void 0),b([A({type:bW,json:{write:!0}})],Ma.prototype,"border",void 0),b([A({readOnly:!0})],Ma.prototype,"visible",null),Ma=sw=b([le("esri.symbols.callouts.LineCallout3D")],Ma);const SN=Ma;function $x(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function xN(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!$x(e)}const EN={types:{key:"type",base:wN,typeMap:{line:SN}},json:{write:!0}};var ow;let Fu=ow=class extends it{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new ow({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};b([A(ho)],Fu.prototype,"screenLength",void 0),b([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Fu.prototype,"minWorldLength",void 0),b([A({type:Number,json:{write:!0}})],Fu.prototype,"maxWorldLength",void 0),Fu=ow=b([le("esri.symbols.support.Symbol3DVerticalOffset")],Fu);const Nx=Fu;var gy;const TN=Ut.ofType({base:null,key:"type",typeMap:{text:gf}});let Ia=gy=class extends nu{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new TN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return xN(this)}hasVisibleVerticalOffset(){return $x(this)}clone(){return new gy({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new gy({symbolLayers:new Ut([gf.fromTextSymbol(e)])})}};b([A({type:Nx,json:{write:!0}})],Ia.prototype,"verticalOffset",void 0),b([A(EN)],Ia.prototype,"callout",void 0),b([A({json:{read:!1,write:!1}})],Ia.prototype,"styleOrigin",void 0),b([A({type:TN})],Ia.prototype,"symbolLayers",void 0),b([ut({LabelSymbol3D:"label-3d"},{readOnly:!0})],Ia.prototype,"type",void 0),Ia=gy=b([le("esri.symbols.LabelSymbol3D")],Ia);const J1=Ia;var vy;const AN=Ut.ofType({base:null,key:"type",typeMap:{line:yf,path:Cx}}),_W=Ut.ofType({base:null,key:"type",typeMap:{line:yf,path:Cx}});let hd=vy=class extends nu{constructor(e){super(e),this.symbolLayers=new AN,this.type="line-3d"}clone(){return new vy({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new vy({symbolLayers:new Ut([yf.fromSimpleLineSymbol(e)])})}};b([A({type:AN,json:{type:_W}})],hd.prototype,"symbolLayers",void 0),b([ut({LineSymbol3D:"line-3d"},{readOnly:!0})],hd.prototype,"type",void 0),hd=vy=b([le("esri.symbols.LineSymbol3D")],hd);const su=hd;let Oa=class extends Ei{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};b([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Oa.prototype,"angle",void 0),b([A({type:["simple-marker","picture-marker"],readOnly:!0})],Oa.prototype,"type",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],Oa.prototype,"xoffset",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],Oa.prototype,"yoffset",void 0),b([A({cast:e=>e==="auto"?e:x1(ir(e)),json:{write:!0}})],Oa.prototype,"size",void 0),Oa=b([le("esri.symbols.MarkerSymbol")],Oa);const MN=Oa;var by;const IN=Ut.ofType({base:null,key:"type",typeMap:{fill:iu}});let fd=by=class extends nu{constructor(e){super(e),this.symbolLayers=new IN,this.type="mesh-3d"}clone(){return new by({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new by({symbolLayers:new Ut([iu.fromSimpleFillSymbol(e)])})}};b([A({type:IN})],fd.prototype,"symbolLayers",void 0),b([ut({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],fd.prototype,"type",void 0),fd=by=b([le("esri.symbols.MeshSymbol3D")],fd);const fm=fd;function wW(e,t,r){return t.imageData?p$({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):ON(t.url,r)}function ON(e,t){if(!ps(e)){const r=xW(t);if(r)return WS(r,"images",e)}return hm(e,t)}function SW(e,t,r,i){if(uf(e)){const n=op(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,r&&r.imageData===t.imageData&&r.url&&gp(r.url,t,"url",i)}else gp(e,t,"url",i)}const CN={json:{read:{source:["imageData","url"],reader:wW},write:{writer(e,t,r,i){SW(e,t,this.source,i)}}}},$N={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=ON(t.url,r)),i}}}};function xW(e){if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const i=r?.type;return i==="feature"||i==="stream"?r.parsedUrl?.path:i==="map-image"||i==="tile"?e.url?.path:null}var aw;let $n=aw=class extends iN{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),r!=null&&(n.width=ir(r)),i!=null&&(n.height=ir(i)),n}clone(){const e=new aw({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};b([ut({esriPFS:"picture-fill"},{readOnly:!0})],$n.prototype,"type",void 0),b([A(CN)],$n.prototype,"url",void 0),b([A({type:Number,json:{write:!0}})],$n.prototype,"xscale",void 0),b([A({type:Number,json:{write:!0}})],$n.prototype,"yscale",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],$n.prototype,"width",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],$n.prototype,"height",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],$n.prototype,"xoffset",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],$n.prototype,"yoffset",void 0),b([A($N)],$n.prototype,"source",void 0),$n=aw=b([le("esri.symbols.PictureFillSymbol")],$n);const Px=$n;var lw;let rs=lw=class extends MN{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=ir(t)),r!=null&&(i.height=ir(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new lw({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};b([A({json:{write:!1}})],rs.prototype,"color",void 0),b([ut({esriPMS:"picture-marker"},{readOnly:!0})],rs.prototype,"type",void 0),b([A(CN)],rs.prototype,"url",void 0),b([A($N)],rs.prototype,"source",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],rs.prototype,"height",void 0),b([Kr("height",["height","size"])],rs.prototype,"readHeight",null),b([A({type:Number,cast:ir,json:{write:!0}})],rs.prototype,"width",void 0),b([A({json:{write:!1}})],rs.prototype,"size",void 0),rs=lw=b([le("esri.symbols.PictureMarkerSymbol")],rs);const vf=rs;var ic;const NN=Ut.ofType({base:null,key:"type",typeMap:{icon:pc,object:Ox,text:gf}});let nc=ic=class extends nu{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new NN,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return xN(this)}hasVisibleVerticalOffset(){return $x(this)}clone(){return new ic({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new ic({symbolLayers:new Ut([pc.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new ic({symbolLayers:new Ut([pc.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new ic(r?.callout?{symbolLayers:new Ut([pc.fromCIMSymbol(e)]),callout:new SN({size:.5,color:new wt([0,0,0])}),verticalOffset:new Nx({screenLength:40})}:{symbolLayers:new Ut([pc.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new ic({symbolLayers:new Ut([gf.fromTextSymbol(e)])})}};b([A({type:Nx,json:{write:!0}})],nc.prototype,"verticalOffset",void 0),b([A(EN)],nc.prototype,"callout",void 0),b([A({type:NN,json:{origins:{"web-scene":{write:!0}}}})],nc.prototype,"symbolLayers",void 0),b([ut({PointSymbol3D:"point-3d"},{readOnly:!0})],nc.prototype,"type",void 0),nc=ic=b([le("esri.symbols.PointSymbol3D")],nc);const Wo=nc;function Mge(e,t,r){return DS(e.map((i,n)=>t.apply(r,[i,n])))}async function Ige(e,t,r){return(await DS(e.map((i,n)=>t.apply(r,[i,n])))).map(i=>i.value)}function Lx(e){return{ok:!0,value:e}}function kx(e){return{ok:!1,error:e}}function EW(e){return e!=null&&e.ok===!0?e.value:null}function TW(e){return e!=null&&e.ok===!1?e.error:null}async function Oge(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return Lx(await e)}catch(t){return kx(t)}}async function Cge(e){try{return Lx(await e)}catch(t){return WC(t),kx(t)}}function $ge(e,t){return new Ca(e,t)}let Ca=class extends Zr{get value(){return EW(this._result)}get error(){return TW(this._result)}get finished(){return this._result!=null}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=RC(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then(i=>{this._result=Lx(i),this._cleanup()},i=>{this._result=kx(i),this._cleanup()}),this._abortHandle=Pc(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=lf(this._abortHandle),this._abortController=null}};b([A()],Ca.prototype,"value",null),b([A()],Ca.prototype,"error",null),b([A()],Ca.prototype,"finished",null),b([A()],Ca.prototype,"promise",void 0),b([A()],Ca.prototype,"_result",void 0),Ca=b([le("esri.core.asyncUtils.ReactiveTask")],Ca);function AW(e,t,r={}){return Rx(e,t,r,PN)}function m4(e,t,r={}){return Rx(e,t,r,LN)}function Rx(e,t,r={},i){let n=null;const s=r.once?(o,a)=>{i(o)&&(lf(n),t(o,a))}:(o,a)=>{i(o)&&t(o,a)};if(n=kF(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return n}function MW(e,t,r,i={}){let n=null,s=null,o=null;function a(){n&&s&&(s.remove(),i.onListenerRemove?.(n),n=null,s=null)}function l(f){i.once&&i.once&&lf(o),r(f)}const c=AW(e,(f,d)=>{a(),RS(f)&&(n=f,s=zC(f,t,l),i.onListenerAdd?.(f))},{sync:i.sync,initial:!0});return o=Er(()=>{c.remove(),a()}),o}function Nge(e,t){return IW(e,LN,t)}function IW(e,t,r){if(Nc(r))return Promise.reject(gn());const i=e();if(t?.(i))return Promise.resolve(i);let n=null;function s(){n=lf(n)}return new Promise((o,a)=>{n=CS([Pc(r,()=>{s(),a(gn())}),Rx(e,l=>{s(),o(l)},{sync:!1,once:!0},t??PN)])})}function PN(e){return!0}function LN(e){return!!e}const OW={sync:!0},Pge={initial:!0},Lge={sync:!0,initial:!0};var dd;const kN=Ut.ofType({base:null,key:"type",typeMap:{extrude:tN,fill:iu,icon:pc,line:yf,object:Ox,text:gf,water:bN}});let pd=dd=class extends nu{constructor(e){super(e),this.symbolLayers=new kN,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&tp(jt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&tp(jt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(MW(()=>this.symbolLayers,"after-add",({item:t})=>e(t),OW))}clone(){return new dd({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new dd;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:i.size,color:i.material!=null?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new dd({symbolLayers:new Ut([iu.fromSimpleFillSymbol(e)])})}};b([A({type:kN,json:{write:!0}})],pd.prototype,"symbolLayers",void 0),b([ut({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],pd.prototype,"type",void 0),pd=dd=b([le("esri.symbols.PolygonSymbol3D")],pd);const ou=pd;var cw;const Sb=new Zo({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let sc=cw=class extends iN{constructor(...e){super(...e),this.color=new wt([0,0,0,.25]),this.outline=new Ts,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new cw({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};b([A()],sc.prototype,"color",void 0),b([A()],sc.prototype,"outline",void 0),b([ut({esriSFS:"simple-fill"},{readOnly:!0})],sc.prototype,"type",void 0),b([A({type:Sb.apiValues,json:{read:Sb.read,write:Sb.write}})],sc.prototype,"style",void 0),sc=cw=b([le("esri.symbols.SimpleFillSymbol")],sc);const au=sc;var uw;const xb=new Zo({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Gs=uw=class extends MN{constructor(...e){super(...e),this.color=new wt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Ts}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=ir(t)),r&&(n.outline=r),i&&(n.color=i),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new uw({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};b([A()],Gs.prototype,"color",void 0),b([or("color")],Gs.prototype,"writeColor",null),b([ut({esriSMS:"simple-marker"},{readOnly:!0})],Gs.prototype,"type",void 0),b([A()],Gs.prototype,"size",void 0),b([A({type:xb.apiValues,json:{read:xb.read,write:xb.write}})],Gs.prototype,"style",void 0),b([A({type:String,json:{write:!0}})],Gs.prototype,"path",null),b([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ts}},json:{default:null,write:!0}})],Gs.prototype,"outline",void 0),Gs=uw=b([le("esri.symbols.SimpleMarkerSymbol")],Gs);const fo=Gs;var hw;let Ht=hw=class extends Ei{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new q1,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}castLineWidth(e){return ir(e)}writeLineHeight(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}clone(){return new hw({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};b([A({type:wt,json:{write:!0}})],Ht.prototype,"backgroundColor",void 0),b([A({type:wt,json:{write:!0}})],Ht.prototype,"borderLineColor",void 0),b([A({type:Number,json:{write:!0},cast:ir})],Ht.prototype,"borderLineSize",void 0),b([A({type:q1,json:{write:!0}})],Ht.prototype,"font",void 0),b([A({...hN,json:{write:!0}})],Ht.prototype,"horizontalAlignment",void 0),b([A({type:Boolean,json:{write:!0}})],Ht.prototype,"kerning",void 0),b([A({type:wt,json:{write:!0}})],Ht.prototype,"haloColor",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],Ht.prototype,"haloSize",void 0),b([A({type:Boolean,json:{write:!0}})],Ht.prototype,"rightToLeft",void 0),b([A({type:Boolean,json:{write:!0}})],Ht.prototype,"rotated",void 0),b([A({type:String,json:{write:!0}})],Ht.prototype,"text",void 0),b([ut({esriTS:"text"},{readOnly:!0})],Ht.prototype,"type",void 0),b([A({...fN,json:{write:!0}})],Ht.prototype,"verticalAlignment",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],Ht.prototype,"xoffset",void 0),b([A({type:Number,cast:ir,json:{write:!0}})],Ht.prototype,"yoffset",void 0),b([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Ht.prototype,"angle",void 0),b([A({type:Number,json:{write:!0}})],Ht.prototype,"width",void 0),b([A({type:Number})],Ht.prototype,"lineWidth",void 0),b([or("lineWidth")],Ht.prototype,"writeLineWidth",null),b([rm("lineWidth")],Ht.prototype,"castLineWidth",null),b([A(uN)],Ht.prototype,"lineHeight",void 0),b([or("lineHeight")],Ht.prototype,"writeLineHeight",null),Ht=hw=b([le("esri.symbols.TextSymbol")],Ht);const bf=Ht;var fw;let is=fw=class extends Ei{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:Y1.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new fw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,i=r?this._fetchCacheKey:null;if(r!=null){const a=i&&r.get(i);if(a)return a.clone()}const{resolveWebStyleSymbol:n}=await we(()=>import("./webStyleSymbolUtils-DLko8_Aa.js"),__vite__mapDeps([51,52,53,1]),import.meta.url);rp(t);const s=n(this,{portal:this.portal},e,t);s.catch(a=>{jt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(r?.set(i,o.clone()),o):null}};b([A({json:{write:!1}})],is.prototype,"color",void 0),b([A({type:String,json:{write:!0}})],is.prototype,"styleName",void 0),b([A({type:Y1,json:{write:!1}})],is.prototype,"portal",void 0),b([A({type:String,json:{read:Ix,write:gp}})],is.prototype,"styleUrl",void 0),b([A({type:$d,json:{read:!1}})],is.prototype,"thumbnail",void 0),b([A({type:String,json:{write:!0}})],is.prototype,"name",void 0),b([ut({styleSymbolReference:"web-style"},{readOnly:!0})],is.prototype,"type",void 0),b([A()],is.prototype,"_fetchCacheKey",null),is=fw=b([le("esri.symbols.WebStyleSymbol")],is);const _f=is;function kge(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function y4(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Dx={base:Ei,key:"type",typeMap:{"simple-fill":au,"picture-fill":Px,"picture-marker":vf,"simple-line":Ts,"simple-marker":fo,text:bf,"label-3d":J1,"line-3d":su,"mesh-3d":fm,"point-3d":Wo,"polygon-3d":ou,"web-style":_f,cim:ru},errorContext:"symbol"},Rge={base:Ei,key:"type",typeMap:{"picture-marker":vf,"simple-marker":fo,"point-3d":Wo,cim:ru},errorContext:"symbol"},Dge={base:Ei,key:"type",typeMap:{"simple-line":Ts,"line-3d":su,cim:ru},errorContext:"symbol"},Fge={base:Ei,key:"type",typeMap:{"simple-fill":au,"picture-fill":Px,"polygon-3d":ou,cim:ru},errorContext:"symbol"},Uge={base:Ei,key:"type",typeMap:{"picture-marker":vf,"simple-marker":fo,text:bf,"web-style":_f,cim:ru},errorContext:"symbol"},CW=IC({types:Dx}),jge={base:Ei,key:"type",typeMap:{"simple-fill":au,"picture-fill":Px,"picture-marker":vf,"simple-line":Ts,"simple-marker":fo,text:bf,"line-3d":su,"mesh-3d":fm,"point-3d":Wo,"polygon-3d":ou,"web-style":_f,cim:ru},errorContext:"symbol"},Gge={base:Ei,key:"type",typeMap:{text:bf,"label-3d":J1},errorContext:"symbol"},Bge={base:Ei,key:"type",typeMap:{"line-3d":su,"mesh-3d":fm,"point-3d":Wo,"polygon-3d":ou,"web-style":_f,cim:ru},errorContext:"symbol"},Vge={base:Ei,key:"type",typeMap:{"label-3d":J1},errorContext:"symbol"},zge=Cc(Dx);var dw;function $W(e){if(!e)return null;const t={};for(const r in e){const i=rx(e[r]);i&&(t[r]=i)}return Object.keys(t).length!==0?t:null}function NW(e){if(e==null)return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return Object.keys(t).length!==0?t:null}let Bi=dw=class extends ra(it){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:V0(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&GD(jt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new dw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[t,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:NW(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:T_(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(n.action=i),e==="attributes"&&(n.attributeName=i),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([m4(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),m4(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};b([A({value:null,json:{read:$W}})],Bi.prototype,"aggregateGeometries",null),b([A({value:null})],Bi.prototype,"attributes",null),b([A({value:null,types:d5,json:{read:rx}})],Bi.prototype,"geometry",null),b([A({type:Boolean})],Bi.prototype,"isAggregate",void 0),b([A({clonable:"reference"})],Bi.prototype,"layer",void 0),b([A({clonable:"reference"})],Bi.prototype,"origin",void 0),b([A({type:uq})],Bi.prototype,"popupTemplate",void 0),b([A({clonable:"reference"})],Bi.prototype,"sourceLayer",void 0),b([A({value:null,types:Dx})],Bi.prototype,"symbol",null),b([A({clonable:!1,json:{read:!1,write:!1}})],Bi.prototype,"_version",void 0),b([A({type:Boolean,value:!0})],Bi.prototype,"visible",null),Bi=dw=b([le("esri.Graphic")],Bi);const PW=Bi;function qge(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function Wge(e){return e?.type==="subtype-sublayer"}const Hge={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function g4(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function Yge(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function Jge(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e.source?.type==="feature-layer"}async function Kge(e,t){const r=Kt?.findServerInfo(e);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const n=`${e.slice(0,i)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await wr(n,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function LW(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Zge(e){return LW(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function kW(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Xge(e){return!!kW(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const Fx=[252,146,31,255],RW=[153,153,153,255],DW={type:"esriSMS",style:"esriSMSCircle",size:6,color:Fx,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},FW={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Fx},UW={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},jW={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},GW={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},BW={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},VW={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},RN=fo.fromJSON(DW),DN=Ts.fromJSON(FW),FN=au.fromJSON(UW),Qge=bf.fromJSON(jW);function e1e(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return RN;case"polyline":return DN;case"polygon":case"extent":return FN}return null}const t1e=fo.fromJSON(GW),r1e=Ts.fromJSON(BW),i1e=au.fromJSON(VW);Wo.fromSimpleMarkerSymbol(RN);su.fromSimpleLineSymbol(DN);ou.fromSimpleFillSymbol(FN);new fm({symbolLayers:new Ut([new iu({material:{color:Fx},edges:new Y6({size:uo(1),color:new wt(RW)})})])});const zW=new su({symbolLayers:new Ut([new yf({material:{color:new wt([0,0,0])},size:uo(1)})])}),qW=new ou({symbolLayers:new Ut([new iu({outline:{color:new wt([0,0,0]),size:uo(1)}})])}),v4="#useCIMFallbackSymbology()",Eu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function WW(e,t=Eu){if(!e)return{symbol:null};const{retainId:r=Eu.retainId,ignoreDrivers:i=Eu.ignoreDrivers,hasLabelingContext:n=Eu.hasLabelingContext,retainCIM:s=Eu.retainCIM,cimFallbackEnabled:o=Eu.cimFallbackEnabled}=t;let a=null;if(y4(e)||e instanceof _f)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?e.clone():Wo.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=zW.clone(),t?.logWarning?.(v4,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=qW.clone(),t?.logWarning?.(v4,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new lt("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Ts)a=su.fromSimpleLineSymbol(e);else if(e instanceof fo)a=Wo.fromSimpleMarkerSymbol(e);else if(e instanceof vf)a=Wo.fromPictureMarkerSymbol(e);else if(e instanceof au)a=t.geometryType&&t.geometryType==="mesh"?fm.fromSimpleFillSymbol(e):ou.fromSimpleFillSymbol(e);else{if(!(e instanceof bf))return{error:new lt("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=n?J1.fromTextSymbol(e):Wo.fromTextSymbol(e)}return r&&a&&a.type!=="cim"&&(a.id=e.id),i&&y4(a)&&a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function n1e(e,t,r,i){const n=UN(e,{},{context:i,isLabelSymbol:!1});n!=null&&(t[r]=n)}function s1e(e,t,r,i){const n=UN(e,{},{context:i,isLabelSymbol:!0});n!=null&&(t[r]=n)}function b4(e){return e instanceof nu||e instanceof _f}function HW(e){return e instanceof nu&&(e.type==="polygon-3d"||e.type==="line-3d")}function UN(e,t,r){if(e==null)return null;const{context:i,isLabelSymbol:n}=r,s=i?.origin,o=i?.messages;if(s==="web-scene"&&!b4(e)){const a=WW(e,{retainCIM:!0,hasLabelingContext:n});return a.symbol!=null?a.symbol.write(t,i):(o?.push(new lt("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:a.error})),null)}return g4(i?.layer)&&HW(e)?(o?.push(new lt("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:e,context:i})),null):(s==="web-map"||s==="portal-item"&&!g4(i?.layer))&&b4(e)?(o?.push(new lt("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function Ux(e,t){return CW(e,null,t)}class Gt{static async Basemap(t){const r=await we(()=>import("./Basemap-xrbvSmkw.js").then(i=>i.B),__vite__mapDeps([26,1,27,25,28]),import.meta.url);return Reflect.construct(r.default,[t])}static async Map(t){const r=await we(()=>import("./Map-DRrvE4lr.js"),__vite__mapDeps([54,26,1,27,25,28,55,56,57,58,59,60,32,20]),import.meta.url);return Reflect.construct(r.default,[t])}static async MapView(t){const r=await we(()=>import("./MapView-BBnK-fvu.js").then(i=>i.U),__vite__mapDeps([61,1,62,56,50,48,49,34,35,3,4,63,64,54,26,27,25,28,55,57,58,59,60,32,20,65,31,66,19,16,17,41,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,5,88,89,90]),import.meta.url);return Reflect.construct(r.default,[t])}static async FeatureLayer(t){const r=await we(()=>import("./FeatureLayer-Cw7eIcQ2.js"),__vite__mapDeps([91,1,92,93,94,95,96,97,55,45,53,98,39,89,24,11,99,100,101,59,102,103,104,105,106,30,43,44,107,16,17,31,41,108,4,19,20,109,110,111,112,32,50,113,114,48,49,115,116,40,117,118,119,57,58,120,121,122,123,124,125,126,127,128,129,42,130,131,46,25,47,132,133,134,135,136,137,138,139,140,141,142,143]),import.meta.url);return Reflect.construct(r.default,[t])}static async GraphicsLayer(t){const r=await we(()=>import("./GraphicsLayer-BPzwT5us.js"),__vite__mapDeps([144,65,32,1,20,117,118,119,57,58,59,133,44,45]),import.meta.url);return Reflect.construct(r.default,[t])}static async ImageryLayer(t){const r=await we(()=>import("./ImageryLayer-BixhsSn4.js"),__vite__mapDeps([145,1,30,32,20,146,147,50,148,16,17,92,93,94,95,96,97,55,45,53,149,8,100,101,59,102,150,76,115,74,75,77,151,119,57,58,152,103,104,39,43,44,24,11,153,19,154,155,156,157,22,23,114,48,49,158,40,41,117,118,120,42,46,25,47,132,133,134,135,139,141,143]),import.meta.url);return Reflect.construct(r.default,[t])}static async MapImageLayer(t){const r=await we(()=>import("./MapImageLayer-BPcHv4eh.js"),__vite__mapDeps([159,27,30,160,32,1,20,116,161,89,41,43,44,45,47,48,49,56,92,93,94,95,96,97,55,53,98,39,24,11,99,100,101,59,102,103,104,105,106,162,163,19,16,17,76,154,155,74,75,77,156,157,22,23,114,164,21,115,158,108,4,109,137,136,127,128,110,111,112,141,165,40,117,118,119,57,58,120,42,46,25,132,133,134,135,166,167,153,139]),import.meta.url);return Reflect.construct(r.default,[t])}static async OpenStreetMapLayer(t){const r=await we(()=>import("./OpenStreetMapLayer-D8upPI9k.js"),__vite__mapDeps([168,169,30,32,1,20,117,118,119,57,58,59,42,43,44,45,46,25,47,48,49,132,133,153,34,35]),import.meta.url);return Reflect.construct(r.default,[t])}static async TileLayer(t){const r=await we(()=>import("./TileLayer-D2QtIbE4.js"),__vite__mapDeps([170,27,30,32,1,20,116,33,34,35,36,37,38,39,161,89,41,43,44,45,47,48,49,56,92,93,94,95,96,97,55,53,98,24,11,99,100,101,59,102,103,104,105,106,162,163,19,16,17,76,154,155,74,75,77,156,157,22,23,114,164,21,115,158,108,4,109,137,136,127,128,110,111,112,141,165,40,117,118,119,57,58,120,42,46,25,132,133,153]),import.meta.url);return Reflect.construct(r.default,[t])}static async WMSLayer(t){const r=await we(()=>import("./WMSLayer-CmJLrOKF.js"),__vite__mapDeps([171,56,30,160,32,1,20,117,118,119,57,58,59,42,43,44,45,46,25,47,48,49,132,133,134,135,172,41,173,153]),import.meta.url);return Reflect.construct(r.default,[t])}static async ColorBackground(t){const r=await we(()=>import("./ColorBackground-DgVPtf2n.js"),__vite__mapDeps([90,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async FeatureFilter(t){const r=await we(()=>import("./FeatureFilter-BfeN6fYi.js"),__vite__mapDeps([124,19,16,17,20,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async FieldFromJson(t){return(await we(()=>import("./Field-DCSagnNK.js").then(i=>i.F),__vite__mapDeps([16,17]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await we(()=>import("./Query-C17ZsKZm.js").then(r=>r.Q),__vite__mapDeps([19,16,17,20]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,r,i){const{executeForIds:n}=await we(async()=>{const{executeForIds:s}=await import("./query-opDbTUSl.js");return{executeForIds:s}},__vite__mapDeps([174,19,16,17,20,158,76,155,74,75,77,156,157,22,23,114,48,1,49,115,164,21,175,109,176,177,178,179,154,180,181,182,183,184,185,186]),import.meta.url);return n(t,r,i)}static async RendererFromJson(t){const{fromJSON:r}=await we(async()=>{const{fromJSON:i}=await import("./jsonUtils-BgYi8lX8.js").then(n=>n.j);return{fromJSON:i}},__vite__mapDeps([98,92,93,94,95,96,97,55,45,1,53,39,89,24,11,99,100,101,59,102,103,104,105,106]),import.meta.url);return r(t)}static async Swipe(t){const r=await we(()=>import("./Swipe-BdCJ-Cxy.js"),__vite__mapDeps([187,3,4,88,188,189,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async Collection(){const t=await we(()=>Promise.resolve().then(()=>PG),void 0,import.meta.url);return Reflect.construct(t.default,[])}}class Be{wkid;latestWkid;wkt;constructor(t,r){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=r)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Be("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Be(4326)}static fromConfig(t){if(t.wkt)return new Be(t.wkt);if(t.wkid)return new Be(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Be?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Be(parseInt(t.substring(5).trim())):new Be(t):Be.latLongSR()}static fromESRI(t){if(t.wkt)return new Be(t.wkt);{const r=t.toJSON().latestWkid,i=new Be(t.wkid);return r&&(i.latestWkid=r),i}}toESRI(){return new Vr(this.lean())}static fromGeoJSON(t){const r=Be.parseGeoJsonCrs(t);return r.substring(0,5)==="EPSG:"?new Be(parseInt(r.slice(5))):new Be(r)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=t.properties.name,n=i.match(r);if(n)return"EPSG:"+n[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class lu{sr;id;constructor(t,r){this.id=t?t.toString():"",this.sr=Be.parseSR(r)}get type(){return Ze.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ze.NONE||this.type===Ze.UNKNOWN}geoJsonFactory(t,r){const i={type:t,coordinates:r};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class gl extends lu{constructor(){super("no_geometry")}get type(){return Ze.NONE}}let Ri=class md extends lu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=r.slice():this.rawArray=md.parseXY(r)}get type(){return Ze.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let r;if(Array.isArray(t)&&t.length===2)r=t;else{if(t instanceof md)return t.toArray();r=[t.x,t.y]}if(isNaN(r[0])||isNaN(r[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(r[0]),parseFloat(r[1])]}static fromESRI(t,r){return new md(r,[t.x,t.y],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Cr({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new md(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hr.POINT,this.toArray())}};class Qi extends lu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=Qi.arrayDeepCopy(r):r instanceof Qi?this.rawArray=r.toArray():this.rawArray=Qi.parsePointSet(r)}get pointArray(){return this.rawArray.map((t,r)=>new Ri(this.childIdGenerator(r),t,this.sr,!0))}getAt(t){return new Ri(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,r){this.rawArray[r]=Ri.parseXY(t)}get length(){return this.rawArray.length}toArray(){return Qi.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(r=>Ri.parseXY(r))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(r=>r.slice())}}class mh extends Qi{constructor(t,r,i,n){super(t,r,i,n)}get type(){return Ze.MULTIPOINT}static fromESRI(t,r){return new mh(r,t.points,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new L1({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new mh(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hr.MULTIPOINT,this.toArray())}}class tl extends Qi{constructor(t,r,i,n){if(super(t,r,i,n),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ze.LINESTRING}static fromESRI(t,r){return new tl(r,t.paths[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new nm({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new tl(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hr.LINESTRING,this.toArray())}}class ss extends lu{rawArray;constructor(t,r,i,n){if(super(t,r.sr||i),n)this.rawArray=ss.arrayDeepCopy(r);else if(r instanceof ss)this.rawArray=r.toArray();else if(r instanceof Qi)this.rawArray=[r.toArray()];else if(Array.isArray(r)){if(r.length===0)throw new Error("no lines provided");this.rawArray=r.map(s=>Qi.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,r)=>new tl(this.childIdGenerator(r),t,this.sr,!0))}getAt(t){return new tl(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,r){this.rawArray[r]=Qi.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ze.MULTILINESTRING}toArray(){return ss.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.slice()))}static fromESRI(t,r){return new ss(r,t.paths,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new nm({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new ss(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hr.MULTILINESTRING,this.toArray())}}class wc extends Qi{constructor(t,r,i,n){if(super(t,r,i,n),wc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ze.LINEARRING}updateAt(t,r){const i=this.length-1;r===0?super.updateAt(t,i):r===i&&super.updateAt(t,0),super.updateAt(t,r)}static closeRing(t){const r=t[0],i=t[t.length-1];(r[0]!==i[0]||r[1]!==i[1])&&t.push(r.slice())}static fromESRI(t,r){return new wc(r,t.rings[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Gc({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new wc(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hr.POLYGON,[this.toArray()])}}class mi extends lu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=mi.arrayDeepCopy(r):this.rawArray=mi.parsePolygon(r)}addLinearRings(t){t.forEach(r=>this.rawArray.push(r.toArray()))}get ringArray(){return this.rawArray.map((t,r)=>new wc(this.childIdGenerator(r),t,this.sr,!0))}get type(){return Ze.POLYGON}toArray(){return mi.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let r=[];if(t instanceof mi)return t.toArray();if(t instanceof ss)r=t.toArray();else if(t instanceof Qi)r=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");r=t.map(i=>Qi.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return r.forEach(i=>wc.closeRing(i)),r}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.slice()))}static fromESRI(t,r){return new mi(r,t.rings,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Gc({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new mi(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hr.POLYGON,this.toArray())}}class Go extends lu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=Go.arrayDeepCopy(r):this.rawArray=Go.parseMultiPolygon(r)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,r)=>new mi(this.childIdGenerator(r),t,this.sr,!0))}get type(){return Ze.MULTIPOLYGON}toArray(){return Go.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof Go)return t.toArray();if(t instanceof mi)return[t.toArray()];if(t instanceof ss||t instanceof Qi)return[mi.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(r=>mi.parsePolygon(r))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.map(n=>n.slice())))}static fromESRI(t,r){return new Go(r,[t.rings],Be.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(r=>{r.forEach(i=>t.push(i))}),new Gc({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new Go(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hr.MULTIPOLYGON,this.toArray())}}class tr extends lu{rawMin;rawMax;constructor(t,r,i,n){super(t,r.sr||n),this.rawMin=Ri.parseXY(r),this.rawMax=Ri.parseXY(i)}get type(){return Ze.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Ri(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return tr.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new tr(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new mi(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,r,i,n,s,o){return new tr(t,[r,i],[n,s],o)}static fromConfig(t,r){return new tr(t,[r.xmin,r.ymin],[r.xmax,r.ymax],Be.fromConfig(r.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,r){return tr.fromParams(r,t.xmin,t.ymin,t.xmax,t.ymax,Be.fromESRI(t.spatialReference))}toESRI(){return new zn({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,r){return tr.fromESRI(zn.fromJSON(t),r)}static fromGeoJSON(t,r){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=t.coordinates[0].slice(),n=i.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=t.coordinates[s];i[o]>a[o]&&(i[o]=a[o]),n[o]<a[o]&&(n[o]=a[o])})}),new tr(r,i,n,Be.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(hr.POLYGON,this.toPolygonArray())}}class Qo{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const r=t.length;if(r<3||r>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((i,n)=>n===3?i:parseInt(i)),r===3&&this.c.push(1)}else if(typeof t=="string"){const r=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(i=>{const n=r.substring(i,i+2);return Qo.hexToInt(n)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((r,i)=>{r<0&&(console.error("Negative value passed to colour"),this.c[i]=0),r>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(r=>Qo.intToHex(r)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new wt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const r=t.toString(16);return r.length===1?`0${r}`:r}}class Bo{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let r;const i=t.length;if(i===0)return;const n=t.substring(i-2);return n==="px"?r=parseFloat(t.substring(0,i-2))*1.333333:n==="pt"?r=parseFloat(t.substring(0,i-2)):r=parseFloat(t),r}else return t}}class Za extends Bo{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:Mo.CIRCLE},super(),this._style=t.style||Mo.CIRCLE,t.style===Mo.ICON){const r=t;this._icon=r.icon||"",this._height=Bo.convToPoints(r.height)||16.5,this._width=Bo.convToPoints(r.width)||16.5,this._size=0,this._colour=new Qo,this._outline=new io,this._path=""}else{const r=t;this._size=Bo.convToPoints(r.size)||12,this._colour=new Qo(r.colour??"#ffffff40"),this._outline=new io(r.outline),this._path=this._style===Mo.PATH&&r.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=Bo.convToPoints(t.xOffset)||0,this._yOffset=Bo.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===Mo.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Mo.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===Mo.ICON?Za.isImageUrl(this.icon)?(t=new vf,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new fo,t.color=new wt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new fo,t.color=new wt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const r={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const i=r;i.style=t.style,i.colour=t.color.toRgba(),i.size=t.size,i.path=t.path,i.outline=io.fromESRI(t.outline).toOptions()}else{const i=r;i.style=Mo.ICON,i.width=t.width,i.height=t.height,i.icon=t.url}return new Za(r)}static fromArcServer(t){return Za.fromESRI(Ux(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class io extends Bo{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||zi.SOLID;const r=Bo.convToPoints(t.width);this._width=typeof r>"u"||r<0?.75:r,this._colour=new Qo(t.colour),this._miter=t.miter??2,this._cap=t.cap||UO.ROUND,this._join=t.join||FO.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new Ts;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const r={width:t.width,colour:t.color.toRgba(),style:t.style};return new io(r)}static fromArcServer(t){return io.fromESRI(Ux(t))}}class bp extends Bo{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new Qo(t.fill.colour),this._fillStyle=t.fill.style||jO.SOLID,this._outlineStyle=new io(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),r=new wt(this.fillColour.rgba),i=new au;return i.style=this.fillStyleType,i.color=r,i.outline=t,i}static fromESRI(t){const r={fill:{colour:t.color.toRgba(),style:t.style},outline:io.fromESRI(t.outline).toOptions()};return new bp(r)}static fromArcServer(t){return bp.fromESRI(Ux(t))}}class YW{Extent=tr;Graphic=vs;LineString=tl;LineStyle=io;LinearRing=wc;MultiLineString=ss;MultiPoint=mh;MultiPolygon=Go;Point=Ri;PointStyle=Za;Polygon=mi;PolygonStyle=bp;SpatialReference=Be;esriMapClickToRamp(t,r){return{mapPoint:Ri.fromESRI(t.mapPoint,r),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,r){switch(t.type){case"point":return Ri.fromESRI(t,r);case"polyline":{const i=t;return i.paths.length===1?tl.fromESRI(i,r):ss.fromESRI(i,r)}case"polygon":return mi.fromESRI(t,r);case"extent":return tr.fromESRI(t,r);case"multipoint":return mh.fromESRI(t,r);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,r){switch(t.type){case hr.POINT:return Ri.fromGeoJSON(t,r);case hr.LINESTRING:return tl.fromGeoJSON(t,r);case hr.POLYGON:return mi.fromGeoJSON(t,r);case hr.MULTIPOINT:return mh.fromGeoJSON(t,r);case hr.MULTILINESTRING:return ss.fromGeoJSON(t,r);case hr.MULTIPOLYGON:return Go.fromGeoJSON(t,r);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const r={},i={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:r};return Object.keys(t.attributes).forEach(n=>i.properties[n]=t.attributes[n]),i}graphicGeoJsonToRamp(t,r){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(t.geometry,r),n={};return Object.keys(t.properties.forEach(o=>n[o]=t.properties[o])),new vs(i,"",n)}graphicRampToEsri(t){const r={attributes:{},id:t.id};return r.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(i=>r.attributes[i]=t.attributes[i]),t.style&&(r.symbol=this.styleRampToEsri(t.style)),new PW(r)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return Za.fromESRI(t);case"simple-line":return io.fromESRI(t);case"simple-fill":return bp.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new Za}}serverGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"esriGeometryPolygon":return Ze.POLYGON;case"esriGeometryPolyline":return Ze.LINESTRING;case"esriGeometryPoint":return Ze.POINT;case"esriGeometryMultipoint":return Ze.MULTIPOINT;case"esriGeometryEnvelope":return Ze.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ze.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"polygon":return Ze.POLYGON;case"polyline":return Ze.LINESTRING;case"point":return Ze.POINT;case"multipoint":return Ze.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ze.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case hr.POINT:return"point";case hr.LINESTRING:case hr.MULTILINESTRING:return"polyline";case hr.POLYGON:case hr.MULTIPOLYGON:return"polygon";case hr.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return Za.isImageUrl(t)}}class pg{layerIdx;name;children;uid;isRoot;constructor(t,r,i="",n=!0){this.layerIdx=t,this.name=i,this.isRoot=n,this.children=[],this.uid=r}findChildByUid(t){if(this.uid===t)return this;{let r;return this.children.some(i=>r=i.findChildByUid(t)),r}}findChildByIdx(t){if(this.layerIdx===t)return this;{let r;return this.children.some(i=>r=i.findChildByIdx(t)),r}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class jN{minScale;maxScale;constructor(t=0,r=0){this.minScale=t,this.maxScale=r}isOffScale(t){const r={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(r.offScale=!0,r.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(r.offScale=!0,r.zoomIn=!0),r}}class GN{sql;cache;extent;constructor(t="",r=""){this.sql={[Pi.PERMANENT]:t,[Pi.INITIAL]:r},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const r=this.sql,i=Object.keys(r).filter(n=>r[n]);return t.length===0?i:i.filter(n=>t.indexOf(n)===-1)}isActive(){return this.sqlActiveFilters([Pi.PERMANENT]).length>0}getCombinedSql(t=[]){const r=this.sqlActiveFilters(t),i=r.length;return i===0?"":i===1?this.sql[r[0]]:r.map(n=>`(${this.sql[n]})`).join(" AND ")}setSql(t,r){t===Pi.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=r,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Pi.EXTENT))}getCacheKey(t,r){return`_cache$${t.sort().join("$")}${r?"$"+Pi.EXTENT:""}$`}getCache(t,r){const i=this.getCacheKey(t,r);return this.cache[i]}setCache(t,r,i){const n=this.getCacheKey(r,i);this.cache[n]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(r=>t[r])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(r=>{r.indexOf(`$${t}$`)>-1&&delete this.cache[r]})}clearAll(){this.sql={[Pi.PERMANENT]:this.sql[Pi.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class _p{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,r,i=void 0,n=void 0){this.id=t,this.sr=r.sr.clone(),this._defaultExtent=r.clone(),this._fullExtent=i?.clone(),this._maximumExtent=n?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),n&&!n.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${n.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new _p(t.id,tr.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?tr.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?tr.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new _p(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class $r{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,r)=>{this.resolveMe=i=>{t(i)},this.rejectMe=r})}}var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JW(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var Eb,_4;function KW(){if(_4)return Eb;_4=1;var e=function(T){return t(T)&&!r(T)};function t(x){return!!x&&typeof x=="object"}function r(x){var T=Object.prototype.toString.call(x);return T==="[object RegExp]"||T==="[object Date]"||s(x)}var i=typeof Symbol=="function"&&Symbol.for,n=i?Symbol.for("react.element"):60103;function s(x){return x.$$typeof===n}function o(x){return Array.isArray(x)?[]:{}}function a(x,T){return T.clone!==!1&&T.isMergeableObject(x)?w(o(x),x,T):x}function l(x,T,S){return x.concat(T).map(function(v){return a(v,S)})}function c(x,T){if(!T.customMerge)return w;var S=T.customMerge(x);return typeof S=="function"?S:w}function f(x){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(x).filter(function(T){return Object.propertyIsEnumerable.call(x,T)}):[]}function d(x){return Object.keys(x).concat(f(x))}function p(x,T){try{return T in x}catch{return!1}}function y(x,T){return p(x,T)&&!(Object.hasOwnProperty.call(x,T)&&Object.propertyIsEnumerable.call(x,T))}function g(x,T,S){var v={};return S.isMergeableObject(x)&&d(x).forEach(function(M){v[M]=a(x[M],S)}),d(T).forEach(function(M){y(x,M)||(p(x,M)&&S.isMergeableObject(T[M])?v[M]=c(M,S)(x[M],T[M],S):v[M]=a(T[M],S))}),v}function w(x,T,S){S=S||{},S.arrayMerge=S.arrayMerge||l,S.isMergeableObject=S.isMergeableObject||e,S.cloneUnlessOtherwiseSpecified=a;var v=Array.isArray(T),M=Array.isArray(x),C=v===M;return C?v?S.arrayMerge(x,T,S):g(x,T,S):a(T,S)}w.all=function(T,S){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(v,M){return w(v,M,S)},{})};var _=w;return Eb=_,Eb}var ZW=KW();const BN=dm(ZW);class XW{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(r==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(t,r,i=!0){const n=r??document.createElement("canvas"),s=document.createElement("img");i&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{n.width=s.width,n.height=s.height,n.getContext("2d")?.drawImage(s,0,0),a(n)}),s.addEventListener("error",c=>l(c))});return s.src=t,o}async convertImagetoDataURL(t,r="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(i=>i.toDataURL(r)).catch(i=>(console.error("Failed to load crossorigin image",t,i),t))}parseUrlIndex(t){const r={rootUrl:t,index:0},i=/\/(\d+)\/?$/,n=t.match(i);if(n){const s=n[1];r.index=isNaN(parseInt(s))?void 0:parseInt(s),r.rootUrl=t.substr(0,t.length-n[0].length)}else console.warn("Cannot extract layer index from url "+t);return r}controlAvailable(t,r){return r?.disabledControls?.includes(t)?!1:r?.controls?r?.controls?.includes(t):!0}}class mg{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((r,i)=>{const[n,s]=i.split("=");return r[n]=s,r},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const r=BN.all([{},this.queryMap,t]);return`${this.base}${Object.entries(r).filter(([,n])=>n!==void 0).map(([n,s],o)=>`${o===0?"?":""}${n}=${s}`).join("&")}`}}var _y={exports:{}},QW=_y.exports,w4;function VN(){return w4||(w4=1,function(e,t){(function(r,i){e.exports=i(),typeof window=="object"&&(r.Terraformer=i())})(QW,function(){var r={},i=6378137,n=57.29577951308232,s=.017453292519943,o={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},a={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}};function l(O){return Object.prototype.toString.call(O)==="[object Array]"}function c(){var O=Array.prototype.slice.apply(arguments);typeof console!==void 0&&console.warn&&console.warn.apply(console,O)}function f(O,U){for(var I in U)U.hasOwnProperty(I)&&(O[I]=U[I]);return O}function d(O){if(O.type)switch(O.type){case"Point":return[O.coordinates[0],O.coordinates[1],O.coordinates[0],O.coordinates[1]];case"MultiPoint":return g(O.coordinates);case"LineString":return g(O.coordinates);case"MultiLineString":return p(O.coordinates);case"Polygon":return p(O.coordinates);case"MultiPolygon":return y(O.coordinates);case"Feature":return O.geometry?d(O.geometry):null;case"FeatureCollection":return w(O);case"GeometryCollection":return _(O);default:throw new Error("Unknown type: "+O.type)}return null}function p(O){for(var U=null,I=null,P=null,j=null,Z=0;Z<O.length;Z++)for(var re=O[Z],te=0;te<re.length;te++){var Y=re[te],X=Y[0],ve=Y[1];(U===null||X<U)&&(U=X),(I===null||X>I)&&(I=X),(P===null||ve<P)&&(P=ve),(j===null||ve>j)&&(j=ve)}return[U,P,I,j]}function y(O){for(var U=null,I=null,P=null,j=null,Z=0;Z<O.length;Z++)for(var re=O[Z],te=0;te<re.length;te++)for(var Y=re[te],X=0;X<Y.length;X++){var ve=Y[X],Ie=ve[0],mt=ve[1];(U===null||Ie<U)&&(U=Ie),(I===null||Ie>I)&&(I=Ie),(P===null||mt<P)&&(P=mt),(j===null||mt>j)&&(j=mt)}return[U,P,I,j]}function g(O){for(var U=null,I=null,P=null,j=null,Z=0;Z<O.length;Z++){var re=O[Z],te=re[0],Y=re[1];(U===null||te<U)&&(U=te),(I===null||te>I)&&(I=te),(P===null||Y<P)&&(P=Y),(j===null||Y>j)&&(j=Y)}return[U,P,I,j]}function w(O){for(var U=[],I,P=O.features.length-1;P>=0;P--)I=d(O.features[P].geometry),U.push([I[0],I[1]]),U.push([I[2],I[3]]);return g(U)}function _(O){for(var U=[],I,P=O.geometries.length-1;P>=0;P--)I=d(O.geometries[P]),U.push([I[0],I[1]]),U.push([I[2],I[3]]);return g(U)}function x(O){var U=d(O);return{x:U[0],y:U[1],w:Math.abs(U[0]-U[2]),h:Math.abs(U[1]-U[3])}}function T(O){return O*n}function S(O){return O*s}function v(O,U){for(var I=0;I<O.length;I++)typeof O[I][0]=="number"&&(O[I]=U(O[I])),typeof O[I]=="object"&&(O[I]=v(O[I],U));return O}function M(O){var U=O[0],I=O[1];return[T(U/i)-Math.floor((T(U/i)+180)/360)*360,T(Math.PI/2-2*Math.atan(Math.exp(-1*I/i)))]}function C(O){var U=O[0],I=Math.max(Math.min(O[1],89.99999),-89.99999);return[S(U)*i,i/2*Math.log((1+Math.sin(S(I)))/(1-Math.sin(S(I))))]}function L(O,U,I){if(O.type==="Point")O.coordinates=U(O.coordinates);else if(O.type==="Feature")O.geometry=L(O.geometry,U,!0);else if(O.type==="FeatureCollection")for(var P=0;P<O.features.length;P++)O.features[P]=L(O.features[P],U,!0);else if(O.type==="GeometryCollection")for(var j=0;j<O.geometries.length;j++)O.geometries[j]=L(O.geometries[j],U,!0);else O.coordinates=v(O.coordinates,U);return I||U===C&&(O.crs=o),U===M&&delete O.crs,O}function R(O){return L(O,C)}function k(O){return L(O,M)}function G(O,U){return O<U?-1:O>U?1:0}function W(O,U){return O[0]>U[0]?-1:O[0]<U[0]?1:O[1]>U[1]?-1:O[1]<U[1]?1:0}function V(O,U,I){return G((U[0]-O[0])*(I[1]-O[1])-(I[0]-O[0])*(U[1]-O[1]),0)}function z(O,U){var I=U[0]-O[0],P=U[1]-O[1];return I*I+P*P}function ee(O,U){var I=U;for(var P in O){var j=V(U,I,O[P]);(j===-1||j===0&&z(U,O[P])>z(U,I))&&(I=O[P])}return I}function u(O){if(O.length===0)return[];if(O.length===1)return O;for(var U=[O.sort(W)[0]],I=0;I<U.length;I++){var P=ee(O,U[I]);P!==U[0]&&U.push(P)}return U}function m(O){for(var U,I=0;I<O.length-3;I++){var P=O[I],j=O[I+1],Z=O[I+2],re=[j[0]-P[0],j[1]-P[1]],te=Z[0]*re[1]-Z[1]*re[0]+re[0]*P[1]-re[1]*P[0];if(I===0)te<0?U=!0:U=!1;else if(U&&te>0||!U&&te<0)return!1}return!0}function E(O,U){for(var I=!1,P=-1,j=O.length,Z=j-1;++P<j;Z=P)(O[P][1]<=U[1]&&U[1]<O[Z][1]||O[Z][1]<=U[1]&&U[1]<O[P][1])&&U[0]<(O[Z][0]-O[P][0])*(U[1]-O[P][1])/(O[Z][1]-O[P][1])+O[P][0]&&(I=!I);return I}function N(O,U){if(O&&O.length){if(O.length===1)return E(O[0],U);if(E(O[0],U)){for(var I=1;I<O.length;I++)if(E(O[I],U))return!1;return!0}else return!1}else return!1}function q(O,U,I,P){var j=(P[0]-I[0])*(O[1]-I[1])-(P[1]-I[1])*(O[0]-I[0]),Z=(U[0]-O[0])*(O[1]-I[1])-(U[1]-O[1])*(O[0]-I[0]),re=(P[1]-I[1])*(U[0]-O[0])-(P[0]-I[0])*(U[1]-O[1]);if(re!==0){var te=j/re,Y=Z/re;if(0<=te&&te<=1&&0<=Y&&Y<=1)return!0}return!1}function K(O){return!isNaN(parseFloat(O))&&isFinite(O)}function he(O,U){if(K(O[0][0])){if(K(U[0][0])){for(var I=0;I<O.length-1;I++)for(var P=0;P<U.length-1;P++)if(q(O[I],O[I+1],U[P],U[P+1]))return!0}else for(var j=0;j<U.length;j++)if(he(O,U[j]))return!0}else for(var Z=0;Z<O.length;Z++)if(he(O[Z],U))return!0;return!1}function oe(O){for(var U=[],I=0;I<O.length;I++){var P=O[I].slice();Ae(P[0],P[P.length-1])===!1&&P.push(P[0]),U.push(P)}return U}function Ae(O,U){for(var I=0;I<O.length;I++)if(O[I]!==U[I])return!1;return!0}function Fe(O,U){if(O.length!==U.length)return!1;for(var I=O.slice().sort(W),P=U.slice().sort(W),j=0;j<I.length;j++){if(I[j].length!==P[j].length)return!1;for(var Z=0;Z<I.length;Z++)if(I[j][Z]!==P[j][Z])return!1}return!0}var Ve=["length"];function Oe(O){if(O)switch(O.type){case"Point":return new vt(O);case"MultiPoint":return new rt(O);case"LineString":return new pt(O);case"MultiLineString":return new ht(O);case"Polygon":return new nt(O);case"MultiPolygon":return new Rt(O);case"Feature":return new B(O);case"FeatureCollection":return new F(O);case"GeometryCollection":return new J(O);default:throw new Error("Unknown type: "+O.type)}}Oe.prototype.toMercator=function(){return R(this)},Oe.prototype.toGeographic=function(){return k(this)},Oe.prototype.envelope=function(){return x(this)},Oe.prototype.bbox=function(){return d(this)},Oe.prototype.convexHull=function(){var O=[],U,I;if(this.type==="Point")return null;if(this.type==="LineString"||this.type==="MultiPoint")if(this.coordinates&&this.coordinates.length>=3)O=this.coordinates;else return null;else if(this.type==="Polygon"||this.type==="MultiLineString")if(this.coordinates&&this.coordinates.length>0){for(U=0;U<this.coordinates.length;U++)O=O.concat(this.coordinates[U]);if(O.length<3)return null}else return null;else if(this.type==="MultiPolygon")if(this.coordinates&&this.coordinates.length>0){for(U=0;U<this.coordinates.length;U++)for(I=0;I<this.coordinates[U].length;I++)O=O.concat(this.coordinates[U][I]);if(O.length<3)return null}else return null;else if(this.type==="Feature"){var P=new Oe(this.geometry);return P.convexHull()}return new nt({type:"Polygon",coordinates:oe([u(O)])})},Oe.prototype.toJSON=function(){var O={};for(var U in this)this.hasOwnProperty(U)&&Ve.indexOf(U)===-1&&(O[U]=this[U]);return O.bbox=d(this),O},Oe.prototype.contains=function(O){return new Oe(O).within(this)},Oe.prototype.within=function(O){var U,I,P,j;if(O.type==="Feature"&&(O=O.geometry),O.type==="Point"&&this.type==="Point")return Ae(this.coordinates,O.coordinates);if(O.type==="MultiLineString"&&this.type==="Point")for(I=0;I<O.coordinates.length;I++){var Z={type:"LineString",coordinates:O.coordinates[I]};if(this.within(Z))return!0}if((O.type==="LineString"||O.type==="MultiPoint")&&this.type==="Point")for(I=0;I<O.coordinates.length;I++){if(this.coordinates.length!==O.coordinates[I].length)return!1;if(Ae(this.coordinates,O.coordinates[I]))return!0}if(O.type==="Polygon")if(this.type==="Polygon"){if(O.coordinates.length===this.coordinates.length){for(I=0;I<this.coordinates.length;I++)if(Fe(this.coordinates[I],O.coordinates[I]))return!0}return this.coordinates.length&&N(O.coordinates,this.coordinates[0][0])?!he(oe(this.coordinates),oe(O.coordinates)):!1}else{if(this.type==="Point")return N(O.coordinates,this.coordinates);if(this.type==="LineString"||this.type==="MultiPoint"){if(!this.coordinates||this.coordinates.length===0)return!1;for(I=0;I<this.coordinates.length;I++)if(N(O.coordinates,this.coordinates[I])===!1)return!1;return!0}else if(this.type==="MultiLineString"){for(I=0;I<this.coordinates.length;I++){var re=new pt(this.coordinates[I]);if(re.within(O)===!1)return j++,!1}return!0}else if(this.type==="MultiPolygon"){for(I=0;I<this.coordinates.length;I++){var te=new Oe({type:"Polygon",coordinates:this.coordinates[I]});if(te.within(O)===!1)return!1}return!0}}if(O.type==="MultiPolygon"){if(this.type==="Point"){if(O.coordinates.length){for(I=0;I<O.coordinates.length;I++)if(U=O.coordinates[I],N(U,this.coordinates)&&he([this.coordinates],O.coordinates)===!1)return!0}return!1}else if(this.type==="Polygon"){for(I=0;I<this.coordinates.length;I++)if(O.coordinates[I].length===this.coordinates.length){for(P=0;P<this.coordinates.length;P++)if(Fe(this.coordinates[P],O.coordinates[I][P]))return!0}if(he(this.coordinates,O.coordinates)===!1&&O.coordinates.length){for(I=0;I<O.coordinates.length;I++)U=O.coordinates[I],N(U,this.coordinates[0][0])===!1?j=!1:j=!0;return j}}else if(this.type==="LineString"||this.type==="MultiPoint")for(I=0;I<O.coordinates.length;I++){var Y={type:"Polygon",coordinates:O.coordinates[I]};return!!this.within(Y)}else if(this.type==="MultiLineString"){for(I=0;I<this.coordinates.length;I++){var X=new pt(this.coordinates[I]);if(X.within(O)===!1)return!1}return!0}else if(this.type==="MultiPolygon"){for(I=0;I<O.coordinates.length;I++){var ve={type:"Polygon",coordinates:O.coordinates[I]};if(this.within(ve)===!1)return!1}return!0}}return!1},Oe.prototype.intersects=function(O){O.type==="Feature"&&(O=O.geometry);var U=new Oe(O);if(this.within(O)||U.within(this))return!0;if(this.type!=="Point"&&this.type!=="MultiPoint"&&O.type!=="Point"&&O.type!=="MultiPoint")return he(this.coordinates,O.coordinates);if(this.type==="Feature"){var I=new Oe(this.geometry);return I.intersects(O)}return c("Type "+this.type+" to "+O.type+" intersection is not supported by intersects"),!1};function vt(O){var U=Array.prototype.slice.call(arguments);if(O&&O.type==="Point"&&O.coordinates)f(this,O);else if(O&&l(O))this.coordinates=O;else if(U.length>=2)this.coordinates=U;else throw"Terraformer: invalid input for Terraformer.Point";this.type="Point"}vt.prototype=new Oe,vt.prototype.constructor=vt;function rt(O){if(O&&O.type==="MultiPoint"&&O.coordinates)f(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.MultiPoint";this.type="MultiPoint"}rt.prototype=new Oe,rt.prototype.constructor=rt,rt.prototype.forEach=function(O){for(var U=0;U<this.coordinates.length;U++)O.apply(this,[this.coordinates[U],U,this.coordinates]);return this},rt.prototype.addPoint=function(O){return this.coordinates.push(O),this},rt.prototype.insertPoint=function(O,U){return this.coordinates.splice(U,0,O),this},rt.prototype.removePoint=function(O){return typeof O=="number"?this.coordinates.splice(O,1):this.coordinates.splice(this.coordinates.indexOf(O),1),this},rt.prototype.get=function(O){return new vt(this.coordinates[O])};function pt(O){if(O&&O.type==="LineString"&&O.coordinates)f(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.LineString";this.type="LineString"}pt.prototype=new Oe,pt.prototype.constructor=pt,pt.prototype.addVertex=function(O){return this.coordinates.push(O),this},pt.prototype.insertVertex=function(O,U){return this.coordinates.splice(U,0,O),this},pt.prototype.removeVertex=function(O){return this.coordinates.splice(O,1),this};function ht(O){if(O&&O.type==="MultiLineString"&&O.coordinates)f(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.MultiLineString";this.type="MultiLineString"}ht.prototype=new Oe,ht.prototype.constructor=ht,ht.prototype.forEach=function(O){for(var U=0;U<this.coordinates.length;U++)O.apply(this,[this.coordinates[U],U,this.coordinates])},ht.prototype.get=function(O){return new pt(this.coordinates[O])};function nt(O){if(O&&O.type==="Polygon"&&O.coordinates)f(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.Polygon";this.type="Polygon"}nt.prototype=new Oe,nt.prototype.constructor=nt,nt.prototype.addVertex=function(O){return this.insertVertex(O,this.coordinates[0].length-1),this},nt.prototype.insertVertex=function(O,U){return this.coordinates[0].splice(U,0,O),this},nt.prototype.removeVertex=function(O){return this.coordinates[0].splice(O,1),this},nt.prototype.close=function(){this.coordinates=oe(this.coordinates)},nt.prototype.hasHoles=function(){return this.coordinates.length>1},nt.prototype.holes=function(){var O=[];if(this.hasHoles())for(var U=1;U<this.coordinates.length;U++)O.push(new nt([this.coordinates[U]]));return O};function Rt(O){if(O&&O.type==="MultiPolygon"&&O.coordinates)f(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.type="MultiPolygon"}Rt.prototype=new Oe,Rt.prototype.constructor=Rt,Rt.prototype.forEach=function(O){for(var U=0;U<this.coordinates.length;U++)O.apply(this,[this.coordinates[U],U,this.coordinates])},Rt.prototype.get=function(O){return new nt(this.coordinates[O])},Rt.prototype.close=function(){var O=[];return this.forEach(function(U){O.push(oe(U))}),this.coordinates=O,this};function B(O){if(O&&O.type==="Feature")f(this,O);else if(O&&O.type&&O.coordinates)this.geometry=O;else throw"Terraformer: invalid input for Terraformer.Feature";this.type="Feature"}B.prototype=new Oe,B.prototype.constructor=B;function F(O){if(O&&O.type==="FeatureCollection"&&O.features)f(this,O);else if(l(O))this.features=O;else throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.type="FeatureCollection"}F.prototype=new Oe,F.prototype.constructor=F,F.prototype.forEach=function(O){for(var U=0;U<this.features.length;U++)O.apply(this,[this.features[U],U,this.features])},F.prototype.get=function(O){var U;return this.forEach(function(I){I.id===O&&(U=I)}),new B(U)};function J(O){if(O&&O.type==="GeometryCollection"&&O.geometries)f(this,O);else if(l(O))this.geometries=O;else if(O.coordinates&&O.type)this.type="GeometryCollection",this.geometries=[O];else throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection"}J.prototype=new Oe,J.prototype.constructor=J,J.prototype.forEach=function(O){for(var U=0;U<this.geometries.length;U++)O.apply(this,[this.geometries[U],U,this.geometries])},J.prototype.get=function(O){return new Oe(this.geometries[O])};function ae(O,U,I){for(var P=C(O),j=I||64,Z={type:"Polygon",coordinates:[[]]},re=1;re<=j;re++){var te=re*(360/j)*Math.PI/180;Z.coordinates[0].push([P[0]+U*Math.cos(te),P[1]+U*Math.sin(te)])}return Z.coordinates=oe(Z.coordinates),k(Z)}function se(O,U,I){var P=I||64,j=U||250;if(!O||O.length<2||!j||!P)throw new Error("Terraformer: missing parameter for Terraformer.Circle");f(this,new B({type:"Feature",geometry:ae(O,j,P),properties:{radius:j,center:O,steps:P}}))}return se.prototype=new Oe,se.prototype.constructor=se,se.prototype.recalculate=function(){return this.geometry=ae(this.properties.center,this.properties.radius,this.properties.steps),this},se.prototype.center=function(O){return O&&(this.properties.center=O,this.recalculate()),this.properties.center},se.prototype.radius=function(O){return O&&(this.properties.radius=O,this.recalculate()),this.properties.radius},se.prototype.steps=function(O){return O&&(this.properties.steps=O,this.recalculate()),this.properties.steps},se.prototype.toJSON=function(){var O=Oe.prototype.toJSON.call(this);return O},r.Primitive=Oe,r.Point=vt,r.MultiPoint=rt,r.LineString=pt,r.MultiLineString=ht,r.Polygon=nt,r.MultiPolygon=Rt,r.Feature=B,r.FeatureCollection=F,r.GeometryCollection=J,r.Circle=se,r.toMercator=R,r.toGeographic=k,r.Tools={},r.Tools.positionToMercator=C,r.Tools.positionToGeographic=M,r.Tools.applyConverter=L,r.Tools.toMercator=R,r.Tools.toGeographic=k,r.Tools.createCircle=ae,r.Tools.calculateBounds=d,r.Tools.calculateEnvelope=x,r.Tools.coordinatesContainPoint=E,r.Tools.polygonContainsPoint=N,r.Tools.arraysIntersectArrays=he,r.Tools.coordinatesContainPoint=E,r.Tools.coordinatesEqual=Fe,r.Tools.convexHull=u,r.Tools.isConvex=m,r.MercatorCRS=o,r.GeographicCRS=a,r})}(_y)),_y.exports}var eH=VN();function tH(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Vc=1,zc=2,yh=3,rH=4,pw=5,S4=6378137,iH=6356752314e-3,x4=.0066943799901413165,Nd=484813681109536e-20,de=Math.PI/2,nH=.16666666666666666,sH=.04722222222222222,oH=.022156084656084655,_e=1e-10,ii=.017453292519943295,Ks=57.29577951308232,Mt=Math.PI/4,wp=Math.PI*2,gr=3.14159265359,an={};an.greenwich=0;an.lisbon=-9.131906111111;an.paris=2.337229166667;an.bogota=-74.080916666667;an.madrid=-3.687938888889;an.rome=12.452333333333;an.bern=7.439583333333;an.jakarta=106.807719444444;an.ferro=-17.666666666667;an.brussels=4.367975;an.stockholm=18.058277777778;an.athens=23.7163375;an.oslo=10.722916666667;const aH={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var E4=/[\s_\-\/\(\)]/g;function cl(e,t){if(e[t])return e[t];for(var r=Object.keys(e),i=t.toLowerCase().replace(E4,""),n=-1,s,o;++n<r.length;)if(s=r[n],o=s.toLowerCase().replace(E4,""),o===i)return e[s]}function mw(e){var t={},r=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,n,s,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*ii},lat_1:function(a){t.lat1=a*ii},lat_2:function(a){t.lat2=a*ii},lat_ts:function(a){t.lat_ts=a*ii},lon_0:function(a){t.long0=a*ii},lon_1:function(a){t.long1=a*ii},lon_2:function(a){t.long2=a*ii},alpha:function(a){t.alpha=parseFloat(a)*ii},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*ii},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=cl(aH,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*ii},pm:function(a){var l=cl(an,a);t.from_greenwich=(l||parseFloat(a))*ii},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(i in r)n=r[i],i in o?(s=o[i],typeof s=="function"?s(n):t[s]=n):t[i]=n;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var Sp=1,zN=2,qN=3,yg=4,WN=5,jx=-1,lH=/\s/,cH=/[A-Za-z]/,uH=/[A-Za-z84_]/,K1=/[,\]]/,HN=/[\d\.E\-\+]/;function na(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Sp}na.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==yg)for(;lH.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Sp:return this.neutral(e);case zN:return this.keyword(e);case yg:return this.quoted(e);case WN:return this.afterquote(e);case qN:return this.number(e);case jx:return}};na.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=yg;return}if(K1.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};na.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Sp;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Sp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=jx);return}};na.prototype.number=function(e){if(HN.test(e)){this.word+=e;return}if(K1.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};na.prototype.quoted=function(e){if(e==='"'){this.state=WN;return}this.word+=e};na.prototype.keyword=function(e){if(uH.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Sp;return}if(K1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};na.prototype.neutral=function(e){if(cH.test(e)){this.word=e,this.state=zN;return}if(e==='"'){this.word="",this.state=yg;return}if(HN.test(e)){this.word=e,this.state=qN;return}if(K1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};na.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===jx)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function hH(e){var t=new na(e);return t.output()}function T4(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var i=t?{}:e,n=r.reduce(function(s,o){return Ku(o,s),s},i);t&&(e[t]=n)}function Ku(e,t){if(!Array.isArray(e)){t[e]=!0;return}var r=e.shift();if(r==="PARAMETER"&&(r=e.shift()),e.length===1){if(Array.isArray(e[0])){t[r]={},Ku(e[0],t[r]);return}t[r]=e[0];return}if(!e.length){t[r]=!0;return}if(r==="TOWGS84"){t[r]=e;return}if(r==="AXIS"){r in t||(t[r]=[]),t[r].push(e);return}Array.isArray(r)||(t[r]={});var i;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[r]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Ku(e[2],t[r]);return;case"SPHEROID":case"ELLIPSOID":t[r]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Ku(e[3],t[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],T4(t,r,e);return;default:for(i=-1;++i<e.length;)if(!Array.isArray(e[i]))return Ku(e,t[r]);return T4(t,r,e)}}var fH=.017453292519943295;function dH(e,t){var r=t[0],i=t[1];!(r in e)&&i in e&&(e[r]=e[i],t.length===3&&(e[r]=t[2](e[r])))}function Ns(e){return e*fH}function pH(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",r=0,i=e.AXIS.length;r<i;++r){var n=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];n[0].indexOf("north")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="north"?t+="n":n[0].indexOf("south")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="south"?t+="s":n[0].indexOf("east")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="east"?t+="e":(n[0].indexOf("west")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;e.type==="GEOGCS"&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var f=e.to_meter||1;return c*f}var a=function(c){return dH(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ns],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ns],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Ns],["lat0","latitude_of_origin",Ns],["lat0","standard_parallel_1",Ns],["lat1","standard_parallel_1",Ns],["lat2","standard_parallel_2",Ns],["azimuth","Azimuth"],["alpha","azimuth",Ns],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Ns(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Ns(e.lat0>0?90:-90))}function YN(e){var t=hH(e),r=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",r]);var n={};return Ku(t,n),pH(n),n}function $i(e){var t=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?$i[e]=mw(arguments[1]):$i[e]=YN(arguments[1]):$i[e]=r}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(i){Array.isArray(i)?$i.apply(t,i):$i(i)});if(typeof e=="string"){if(e in $i)return $i[e]}else"EPSG"in e?$i["EPSG:"+e.EPSG]=e:"ESRI"in e?$i["ESRI:"+e.ESRI]=e:"IAU2000"in e?$i["IAU2000:"+e.IAU2000]=e:console.log(e);return}}tH($i);function mH(e){return typeof e=="string"}function yH(e){return e in $i}var gH=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function vH(e){return gH.some(function(t){return e.indexOf(t)>-1})}var bH=["3857","900913","3785","102113"];function _H(e){var t=cl(e,"authority");if(t){var r=cl(t,"epsg");return r&&bH.indexOf(r)>-1}}function wH(e){var t=cl(e,"extension");if(t)return cl(t,"proj4")}function SH(e){return e[0]==="+"}function xH(e){if(mH(e)){if(yH(e))return $i[e];if(vH(e)){var t=YN(e);if(_H(t))return $i["EPSG:3857"];var r=wH(t);return r?mw(r):t}if(SH(e))return mw(e)}else return e}function A4(e,t){e=e||{};var r,i;if(!t)return e;for(i in t)r=t[i],r!==void 0&&(e[i]=r);return e}function po(e,t,r){var i=e*t;return r/Math.sqrt(1-i*i)}function pm(e){return e<0?-1:1}function xe(e){return Math.abs(e)<=gr?e:e-pm(e)*wp}function ms(e,t,r){var i=e*r,n=.5*e;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(de-t))/i}function xp(e,t){for(var r=.5*e,i,n,s=de-2*Math.atan(t),o=0;o<=15;o++)if(i=e*Math.sin(s),n=de-2*Math.atan(t*Math.pow((1-i)/(1+i),r))-s,s+=n,Math.abs(n)<=1e-10)return s;return-9999}function EH(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function TH(e){var t=e.x,r=e.y;if(r*Ks>90&&r*Ks<-90&&t*Ks>180&&t*Ks<-180)return null;var i,n;if(Math.abs(Math.abs(r)-de)<=_e)return null;if(this.sphere)i=this.x0+this.a*this.k0*xe(t-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Mt+.5*r));else{var s=Math.sin(r),o=ms(this.e,r,s);i=this.x0+this.a*this.k0*xe(t-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return e.x=i,e.y=n,e}function AH(e){var t=e.x-this.x0,r=e.y-this.y0,i,n;if(this.sphere)n=de-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(n=xp(this.e,s),n===-9999)return null}return i=xe(this.long0+t/(this.a*this.k0)),e.x=i,e.y=n,e}var MH=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const IH={init:EH,forward:TH,inverse:AH,names:MH};function OH(){}function M4(e){return e}var CH=["longlat","identity"];const $H={init:OH,forward:M4,inverse:M4,names:CH};var NH=[IH,$H],wy={},gg=[];function JN(e,t){var r=gg.length;return e.names?(gg[r]=e,e.names.forEach(function(i){wy[i.toLowerCase()]=r}),this):(console.log(t),!0)}function PH(e){if(!e)return!1;var t=e.toLowerCase();if(typeof wy[t]<"u"&&gg[wy[t]])return gg[wy[t]]}function LH(){NH.forEach(JN)}const kH={start:LH,add:JN,get:PH};var He={};He.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};He.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};He.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};He.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};He.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};He.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};He.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};He.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};He.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};He.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};He.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};He.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};He.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};He.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};He.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};He.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};He.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};He.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};He.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};He.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};He.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};He.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};He.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};He.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};He.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};He.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};He.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};He.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};He.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};He.hough={a:6378270,rf:297,ellipseName:"Hough"};He.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};He.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};He.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};He.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};He.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};He.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};He.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};He.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};He.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};He.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};He.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};He.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var RH=He.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};He.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function DH(e,t,r,i){var n=e*e,s=t*t,o=(n-s)/n,a=0;i?(e*=1-o*(nH+o*(sH+o*oH)),n=e*e,o=0):a=Math.sqrt(o);var l=(n-s)/s;return{es:o,e:a,ep2:l}}function FH(e,t,r,i,n){if(!e){var s=cl(He,i);s||(s=RH),e=s.a,t=s.b,r=s.rf}return r&&!t&&(t=(1-1/r)*e),(r===0||Math.abs(e-t)<_e)&&(n=!0,t=e),{a:e,b:t,rf:r,sphere:n}}var Wr={};Wr.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Wr.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Wr.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Wr.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Wr.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Wr.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Wr.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Wr.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Wr.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Wr.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Wr.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Wr.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Wr.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Wr.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Wr.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Wr.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Wr.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Wr.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function UH(e,t,r,i,n,s,o){var a={};return e===void 0||e==="none"?a.datum_type=pw:a.datum_type=rH,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Vc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=zc,a.datum_params[3]*=Nd,a.datum_params[4]*=Nd,a.datum_params[5]*=Nd,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=yh,a.grids=o),a.a=r,a.b=i,a.es=n,a.ep2=s,a}var KN={};function jH(e,t){var r=new DataView(t),i=VH(r),n=zH(r,i),s=qH(r,n,i),o={header:n,subgrids:s};return KN[e]=o,o}function GH(e){if(e===void 0)return null;var t=e.split(",");return t.map(BH)}function BH(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:KN[e]||null,isNull:!1}}function Zu(e){return e/3600*Math.PI/180}function VH(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function zH(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:yw(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function yw(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}function qH(e,t,r){for(var i=176,n=[],s=0;s<t.nSubgrids;s++){var o=HH(e,i,r),a=YH(e,i,o,r),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);n.push({ll:[Zu(o.lowerLongitude),Zu(o.lowerLatitude)],del:[Zu(o.longitudeInterval),Zu(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:WH(a)}),i+=176+o.gridNodeCount*16}return n}function WH(e){return e.map(function(t){return[Zu(t.longitudeShift),Zu(t.latitudeShift)]})}function HH(e,t,r){return{name:yw(e,t+8,t+16).trim(),parent:yw(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,r),upperLatitude:e.getFloat64(t+88,r),lowerLongitude:e.getFloat64(t+104,r),upperLongitude:e.getFloat64(t+120,r),latitudeInterval:e.getFloat64(t+136,r),longitudeInterval:e.getFloat64(t+152,r),gridNodeCount:e.getInt32(t+168,r)}}function YH(e,t,r,i){for(var n=t+176,s=16,o=[],a=0;a<r.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(n+a*s,i),longitudeShift:e.getFloat32(n+a*s+4,i),latitudeAccuracy:e.getFloat32(n+a*s+8,i),longitudeAccuracy:e.getFloat32(n+a*s+12,i)};o.push(l)}return o}function no(e,t){if(!(this instanceof no))return new no(e);t=t||function(c){if(c)throw c};var r=xH(e);if(typeof r!="object"){t("Could not parse to valid json: "+e);return}var i=no.projections.get(r.projName);if(!i){t("Could not get projection name from: "+e);return}if(r.datumCode&&r.datumCode!=="none"){var n=cl(Wr,r.datumCode);n&&(r.datum_params=r.datum_params||(n.towgs84?n.towgs84.split(","):null),r.ellps=n.ellipse,r.datumName=n.datumName?n.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var s=FH(r.a,r.b,r.rf,r.ellps,r.sphere),o=DH(s.a,s.b,s.rf,r.R_A),a=GH(r.nadgrids),l=r.datum||UH(r.datumCode,r.datum_params,s.a,s.b,o.es,o.ep2,a);A4(this,r),A4(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}no.projections=kH;no.projections.start();function JH(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Vc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===zc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function ZN(e,t,r){var i=e.x,n=e.y,s=e.z?e.z:0,o,a,l,c;if(n<-de&&n>-1.001*de)n=-de;else if(n>de&&n<1.001*de)n=de;else{if(n<-de)return{x:-1/0,y:-1/0,z:e.z};if(n>de)return{x:1/0,y:1/0,z:e.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(n),c=Math.cos(n),l=a*a,o=r/Math.sqrt(1-t*l),{x:(o+s)*c*Math.cos(i),y:(o+s)*c*Math.sin(i),z:(o*(1-t)+s)*a}}function XN(e,t,r,i){var n=1e-12,s=n*n,o=30,a,l,c,f,d,p,y,g,w,_,x,T,S,v=e.x,M=e.y,C=e.z?e.z:0,L,R,k;if(a=Math.sqrt(v*v+M*M),l=Math.sqrt(v*v+M*M+C*C),a/r<n){if(L=0,l/r<n)return R=de,k=-i,{x:e.x,y:e.y,z:e.z}}else L=Math.atan2(M,v);c=C/l,f=a/l,d=1/Math.sqrt(1-t*(2-t)*f*f),g=f*(1-t)*d,w=c*d,S=0;do S++,y=r/Math.sqrt(1-t*w*w),k=a*g+C*w-y*(1-t*w*w),p=t*y/(y+k),d=1/Math.sqrt(1-p*(2-p)*f*f),_=f*(1-p)*d,x=c*d,T=x*g-_*w,g=_,w=x;while(T*T>s&&S<o);return R=Math.atan(x/Math.abs(_)),{x:L,y:R,z:k}}function KH(e,t,r){if(t===Vc)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===zc){var i=r[0],n=r[1],s=r[2],o=r[3],a=r[4],l=r[5],c=r[6];return{x:c*(e.x-l*e.y+a*e.z)+i,y:c*(l*e.x+e.y-o*e.z)+n,z:c*(-a*e.x+o*e.y+e.z)+s}}}function ZH(e,t,r){if(t===Vc)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===zc){var i=r[0],n=r[1],s=r[2],o=r[3],a=r[4],l=r[5],c=r[6],f=(e.x-i)/c,d=(e.y-n)/c,p=(e.z-s)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function n0(e){return e===Vc||e===zc}function XH(e,t,r){if(JH(e,t)||e.datum_type===pw||t.datum_type===pw)return r;var i=e.a,n=e.es;if(e.datum_type===yh){var s=I4(e,!1,r);if(s!==0)return;i=S4,n=x4}var o=t.a,a=t.b,l=t.es;if(t.datum_type===yh&&(o=S4,a=iH,l=x4),n===l&&i===o&&!n0(e.datum_type)&&!n0(t.datum_type))return r;if(r=ZN(r,n,i),n0(e.datum_type)&&(r=KH(r,e.datum_type,e.datum_params)),n0(t.datum_type)&&(r=ZH(r,t.datum_type,t.datum_params)),r=XN(r,l,o,a),t.datum_type===yh){var c=I4(t,!0,r);if(c!==0)return}return r}function I4(e,t,r){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-r.x,y:r.y},n={x:Number.NaN,y:Number.NaN},s=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(s.push(a.name),a.isNull){n=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,g=d.ll[1]-p,w=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,_=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(g>i.y||y>i.x||_<i.y||w<i.x)&&(n=QH(i,t,d),!isNaN(n.x)))break e}}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*Ks+" "+i.y*Ks+" tried: '"+s+"'"),-1):(r.x=-n.x,r.y=n.y,0)}function QH(e,t,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var n={x:e.x,y:e.y};n.x-=r.ll[0],n.y-=r.ll[1],n.x=xe(n.x-Math.PI)+Math.PI;var s=O4(n,r);if(t){if(isNaN(s.x))return i;s.x=n.x-s.x,s.y=n.y-s.y;var o=9,a=1e-12,l,c;do{if(c=O4(s,r),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:n.x-(c.x+s.x),y:n.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=xe(s.x+r.ll[0]),i.y=s.y+r.ll[1]}else isNaN(s.x)||(i.x=e.x+s.x,i.y=e.y+s.y);return i}function O4(e,t){var r={x:e.x/t.del[0],y:e.y/t.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},n={x:r.x-1*i.x,y:r.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=t.lim[0]||i.y<0||i.y>=t.lim[1])return s;o=i.y*t.lim[0]+i.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var f={x:t.cvs[o][0],y:t.cvs[o][1]},d=n.x*n.y,p=n.x*(1-n.y),y=(1-n.x)*(1-n.y),g=(1-n.x)*n.y;return s.x=y*a.x+p*l.x+g*f.x+d*c.x,s.y=y*a.y+p*l.y+g*f.y+d*c.y,s}function C4(e,t,r){var i=r.x,n=r.y,s=r.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&r.z===void 0))switch(l===0?(o=i,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=n,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":r[a]!==void 0&&(c.z=o);break;case"d":r[a]!==void 0&&(c.z=-o);break;default:return null}return c}function QN(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function eY(e){$4(e.x),$4(e.y)}function $4(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function tY(e,t){return(e.datum.datum_type===Vc||e.datum.datum_type===zc||e.datum.datum_type===yh)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Vc||t.datum.datum_type===zc||t.datum.datum_type===yh)&&e.datumCode!=="WGS84"}function vg(e,t,r,i){var n;Array.isArray(r)?r=QN(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var s=r.z!==void 0;if(eY(r),e.datum&&t.datum&&tY(e,t)&&(n=new no("WGS84"),r=vg(e,n,r,i),e=n),i&&e.axis!=="enu"&&(r=C4(e,!1,r)),e.projName==="longlat")r={x:r.x*ii,y:r.y*ii,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),r=e.inverse(r),!r)return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=XH(e.datum,t.datum,r),!!r)return t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),t.projName==="longlat"?r={x:r.x*Ks,y:r.y*Ks,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),i&&t.axis!=="enu"?C4(t,!0,r):(r&&!s&&delete r.z,r)}var N4=no("WGS84");function Tb(e,t,r,i){var n,s,o;return Array.isArray(r)?(n=vg(e,t,r,i)||{x:NaN,y:NaN},r.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(r.slice(3)):[n.x,n.y,r[2]].concat(r.slice(3)):[n.x,n.y].concat(r.slice(2)):[n.x,n.y]):(s=vg(e,t,r,i),o=Object.keys(r),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=r[a]}),s)}function P4(e){return e instanceof no?e:e.oProj?e.oProj:no(e)}function Ft(e,t,r){e=P4(e);var i=!1,n;return typeof t>"u"?(t=e,e=N4,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(r=t,t=e,e=N4,i=!0),t=P4(t),r?Tb(e,t,r):(n={forward:function(s,o){return Tb(e,t,s,o)},inverse:function(s,o){return Tb(t,e,s,o)}},i&&(n.oProj=t),n)}var L4=6,eP="AJSAJS",tP="AFAFAF",Xu=65,qi=73,Nn=79,yd=86,gd=90;const rY={forward:rP,inverse:iY,toPoint:iP};function rP(e,t){return t=t||5,oY(nY({lat:e[1],lon:e[0]}),t)}function iY(e){var t=Gx(sP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function iP(e){var t=Gx(sP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Ab(e){return e*(Math.PI/180)}function k4(e){return 180*(e/Math.PI)}function nY(e){var t=e.lat,r=e.lon,i=6378137,n=.00669438,s=.9996,o,a,l,c,f,d,p,y=Ab(t),g=Ab(r),w,_;_=Math.floor((r+180)/6)+1,r===180&&(_=60),t>=56&&t<64&&r>=3&&r<12&&(_=32),t>=72&&t<84&&(r>=0&&r<9?_=31:r>=9&&r<21?_=33:r>=21&&r<33?_=35:r>=33&&r<42&&(_=37)),o=(_-1)*6-180+3,w=Ab(o),a=n/(1-n),l=i/Math.sqrt(1-n*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(g-w),p=i*((1-n/4-3*n*n/64-5*n*n*n/256)*y-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*y)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*y)-35*n*n*n/3072*Math.sin(6*y));var x=s*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,T=s*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return t<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(x),zoneNumber:_,zoneLetter:sY(t)}}function Gx(e){var t=e.northing,r=e.easting,i=e.zoneLetter,n=e.zoneNumber;if(n<0||n>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,g,w,_,x,T,S=r-5e5,v=t;i<"N"&&(v-=1e7),_=(n-1)*6-180+3,l=a/(1-a),w=v/s,x=w/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=x+(3*c/2-27*c*c*c/32)*Math.sin(2*x)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*x)+151*c*c*c/96*Math.sin(6*x),f=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),g=S/(f*s);var M=T-f*Math.tan(T)/y*(g*g/2-(5+3*d+10*p-4*p*p-9*l)*g*g*g*g/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*g*g*g*g*g*g/720);M=k4(M);var C=(g-(1+2*d+p)*g*g*g/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(T);C=_+k4(C);var L;if(e.accuracy){var R=Gx({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});L={top:R.lat,right:R.lon,bottom:M,left:C}}else L={lat:M,lon:C};return L}function sY(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function oY(e,t){var r="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+aY(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+i.substr(i.length-5,t)}function aY(e,t,r){var i=nP(r),n=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return lY(n,s,i)}function nP(e){var t=e%L4;return t===0&&(t=L4),t}function lY(e,t,r){var i=r-1,n=eP.charCodeAt(i),s=tP.charCodeAt(i),o=n+e-1,a=s+t,l=!1;o>gd&&(o=o-gd+Xu-1,l=!0),(o===qi||n<qi&&o>qi||(o>qi||n<qi)&&l)&&o++,(o===Nn||n<Nn&&o>Nn||(o>Nn||n<Nn)&&l)&&(o++,o===qi&&o++),o>gd&&(o=o-gd+Xu-1),a>yd?(a=a-yd+Xu-1,l=!0):l=!1,(a===qi||s<qi&&a>qi||(a>qi||s<qi)&&l)&&a++,(a===Nn||s<Nn&&a>Nn||(a>Nn||s<Nn)&&l)&&(a++,a===qi&&a++),a>yd&&(a=a-yd+Xu-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function sP(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,r=null,i="",n,s=0;!/[A-Z]/.test(n=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;i+=n,s++}var o=parseInt(i,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(s,s+=2);for(var l=nP(o),c=cY(r.charAt(0),l),f=uY(r.charAt(1),l);f<hY(a);)f+=2e6;var d=t-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,g=0,w,_,x,T,S;return p>0&&(w=1e5/Math.pow(10,p),_=e.substring(s,s+p),y=parseFloat(_)*w,x=e.substring(s+p),g=parseFloat(x)*w),T=y+c,S=g+f,{easting:T,northing:S,zoneLetter:a,zoneNumber:o,accuracy:w}}function cY(e,t){for(var r=eP.charCodeAt(t-1),i=1e5,n=!1;r!==e.charCodeAt(0);){if(r++,r===qi&&r++,r===Nn&&r++,r>gd){if(n)throw"Bad character: "+e;r=Xu,n=!0}i+=1e5}return i}function uY(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=tP.charCodeAt(t-1),i=0,n=!1;r!==e.charCodeAt(0);){if(r++,r===qi&&r++,r===Nn&&r++,r>yd){if(n)throw"Bad character: "+e;r=Xu,n=!0}i+=1e5}return i}function hY(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function kh(e,t,r){if(!(this instanceof kh))return new kh(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}kh.fromMGRS=function(e){return new kh(iP(e))};kh.prototype.toMGRS=function(e){return rP([this.x,this.y],e)};var fY=1,dY=.25,R4=.046875,D4=.01953125,F4=.01068115234375,pY=.75,mY=.46875,yY=.013020833333333334,gY=.007120768229166667,vY=.3645833333333333,bY=.005696614583333333,_Y=.3076171875;function Bx(e){var t=[];t[0]=fY-e*(dY+e*(R4+e*(D4+e*F4))),t[1]=e*(pY-e*(R4+e*(D4+e*F4)));var r=e*e;return t[2]=r*(mY-e*(yY+e*gY)),r*=e,t[3]=r*(vY-e*bY),t[4]=r*e*_Y,t}function wf(e,t,r,i){return r*=t,t*=t,i[0]*e-r*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var wY=20;function Vx(e,t,r){for(var i=1/(1-t),n=e,s=wY;s;--s){var o=Math.sin(n),a=1-t*o*o;if(a=(wf(n,o,Math.cos(n),r)-e)*(a*Math.sqrt(a))*i,n-=a,Math.abs(a)<_e)return n}return n}function SY(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Bx(this.es),this.ml0=wf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function xY(e){var t=e.x,r=e.y,i=xe(t-this.long0),n,s,o,a=Math.sin(r),l=Math.cos(r);if(this.es){var f=l*i,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),g=Math.abs(l)>_e?Math.tan(r):0,w=Math.pow(g,2),_=Math.pow(w,2);n=1-this.es*Math.pow(a,2),f=f/Math.sqrt(n);var x=wf(r,a,l,this.en);s=this.a*(this.k0*f*(1+d/6*(1-w+p+d/20*(5-18*w+_+14*p-58*w*p+d/42*(61+179*_-_*w-479*w)))))+this.x0,o=this.a*(this.k0*(x-this.ml0+a*i*f/2*(1+d/12*(5-w+9*p+4*y+d/30*(61+_-58*w+270*p-330*w*p+d/56*(1385+543*_-_*w-3111*w))))))+this.y0}else{var c=l*Math.sin(i);if(Math.abs(Math.abs(c)-1)<_e)return 93;if(s=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>_e)return 93;o=0}else o=Math.acos(o);r<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=s,e.y=o,e}function EY(e){var t,r,i,n,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,r=Vx(t,this.es,this.en),Math.abs(r)<de){var d=Math.sin(r),p=Math.cos(r),y=Math.abs(p)>_e?Math.tan(r):0,g=this.ep2*Math.pow(p,2),w=Math.pow(g,2),_=Math.pow(y,2),x=Math.pow(_,2);t=1-this.es*Math.pow(d,2);var T=s*Math.sqrt(t)/this.k0,S=Math.pow(T,2);t=t*y,i=r-t*S/(1-this.es)*.5*(1-S/12*(5+3*_-9*g*_+g-4*w-S/30*(61+90*_-252*g*_+45*x+46*g-S/56*(1385+3633*_+4095*x+1574*x*_)))),n=xe(this.long0+T*(1-S/6*(1+2*_+g-S/20*(5+28*_+24*x+8*g*_+6*g-S/42*(61+662*_+1320*x+720*x*_))))/p)}else i=de*pm(o),n=0;else{var a=Math.exp(s/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);t=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),i=Math.asin(t),o<0&&(i=-i),l===0&&f===0?n=0:n=xe(Math.atan2(l,f)+this.long0)}return e.x=n,e.y=i,e}var TY=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Sy={init:SY,forward:xY,inverse:EY,names:TY};function oP(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function Ki(e,t){e=Math.abs(e),t=Math.abs(t);var r=Math.max(e,t),i=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function AY(e){var t=1+e,r=t-1;return r===0?e:e*Math.log(t)/r}function MY(e){var t=Math.abs(e);return t=AY(t*(1+t/(Ki(1,t)+1))),e<0?-t:t}function zx(e,t){for(var r=2*Math.cos(2*t),i=e.length-1,n=e[i],s=0,o;--i>=0;)o=-s+r*n+e[i],s=n,n=o;return t+o*Math.sin(2*t)}function IY(e,t){for(var r=2*Math.cos(t),i=e.length-1,n=e[i],s=0,o;--i>=0;)o=-s+r*n+e[i],s=n,n=o;return Math.sin(t)*o}function OY(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function aP(e,t,r){for(var i=Math.sin(t),n=Math.cos(t),s=oP(r),o=OY(r),a=2*n*o,l=-2*i*s,c=e.length-1,f=e[c],d=0,p=0,y=0,g,w;--c>=0;)g=p,w=d,p=f,d=y,f=-g+a*p-l*d+e[c],y=-w+l*p+a*d;return a=i*o,l=n*s,[a*f-l*y,a*y+l*f]}function CY(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Sy.init.apply(this),this.forward=Sy.forward,this.inverse=Sy.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),r=r*t,this.cgb[1]=r*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),r=r*t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=r*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),r=r*t,this.cgb[3]=r*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=r*(1237/630+t*(-12/5+t*(-24832/14175))),r=r*t,this.cgb[4]=r*(4174/315+t*(-144838/6237)),this.cbg[4]=r*(-734/315+t*(109598/31185)),r=r*t,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=r*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),r=r*t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),r=r*t,this.utg[3]=r*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=r*(49561/161280+t*(-179/168+t*(6601661/7257600))),r=r*t,this.utg[4]=r*(-4583/161280+t*(108847/3991680)),this.gtu[4]=r*(34729/80640+t*(-3418889/1995840)),r=r*t,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var i=zx(this.cbg,this.lat0);this.Zb=-this.Qn*(i+IY(this.gtu,2*i))}function $Y(e){var t=xe(e.x-this.long0),r=e.y;r=zx(this.cbg,r);var i=Math.sin(r),n=Math.cos(r),s=Math.sin(t),o=Math.cos(t);r=Math.atan2(i,o*n),t=Math.atan2(s*n,Ki(i,n*o)),t=MY(Math.tan(t));var a=aP(this.gtu,2*r,2*t);r=r+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function NY(e){var t=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,t=t/this.Qn;var i,n;if(Math.abs(t)<=2.623395162778){var s=aP(this.utg,2*r,2*t);r=r+s[0],t=t+s[1],t=Math.atan(oP(t));var o=Math.sin(r),a=Math.cos(r),l=Math.sin(t),c=Math.cos(t);r=Math.atan2(o*c,Ki(l,c*a)),t=Math.atan2(l,c*a),i=xe(t+this.long0),n=zx(this.cgb,r)}else i=1/0,n=1/0;return e.x=i,e.y=n,e}var PY=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const xy={init:CY,forward:$Y,inverse:NY,names:PY};function LY(e,t){if(e===void 0){if(e=Math.floor((xe(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var kY="etmerc";function RY(){var e=LY(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*ii,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,xy.init.apply(this),this.forward=xy.forward,this.inverse=xy.inverse}var DY=["Universal Transverse Mercator System","utm"];const FY={init:RY,names:DY,dependsOn:kY};function qx(e,t){return Math.pow((1-e)/(1+e),t)}var UY=20;function jY(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Mt)/(Math.pow(Math.tan(.5*this.lat0+Mt),this.C)*qx(this.e*e,this.ratexp))}function GY(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+Mt),this.C)*qx(this.e*Math.sin(r),this.ratexp))-de,e.x=this.C*t,e}function BY(e){for(var t=1e-14,r=e.x/this.C,i=e.y,n=Math.pow(Math.tan(.5*i+Mt)/this.K,1/this.C),s=UY;s>0&&(i=2*Math.atan(n*qx(this.e*Math.sin(e.y),-.5*this.e))-de,!(Math.abs(i-e.y)<t));--s)e.y=i;return s?(e.x=r,e.y=i,e):null}var VY=["gauss"];const Wx={init:jY,forward:GY,inverse:BY,names:VY};function zY(){Wx.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function qY(e){var t,r,i,n;return e.x=xe(e.x-this.long0),Wx.forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),n=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*i),e.x=n*r*Math.sin(e.x),e.y=n*(this.cosc0*t-this.sinc0*r*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function WY(e){var t,r,i,n,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=Ki(e.x,e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),r=Math.cos(o),n=Math.asin(r*this.sinc0+e.y*t*this.cosc0/s),i=Math.atan2(e.x*t,s*this.cosc0*r-e.y*this.sinc0*t)}else n=this.phic0,i=0;return e.x=i,e.y=n,Wx.inverse.apply(this,[e]),e.x=xe(e.x+this.long0),e}var HY=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const YY={init:zY,forward:qY,inverse:WY,names:HY};function JY(e,t,r){return t*=r,Math.tan(.5*(de+e))*Math.pow((1-t)/(1+t),.5*r)}function KY(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&(this.k0=.5*(1+pm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&Math.abs(Math.cos(this.lat_ts))>_e&&(this.k0=.5*this.cons*po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ms(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=po(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-de,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function ZY(e){var t=e.x,r=e.y,i=Math.sin(r),n=Math.cos(r),s,o,a,l,c,f,d=xe(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=_e&&Math.abs(r+this.lat0)<=_e?(e.x=NaN,e.y=NaN,e):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*n*Math.cos(d)),e.x=this.a*s*n*Math.sin(d)+this.x0,e.y=this.a*s*(this.coslat0*i-this.sinlat0*n*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(r,i,this.e))-de,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=_e?(c=ms(this.e,r*this.con,this.con*i),f=2*this.a*this.k0*c/this.cons,e.x=this.x0+f*Math.sin(t-this.long0),e.y=this.y0-this.con*f*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<_e?(s=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=s*l*Math.sin(d)+this.x0,e))}function XY(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,n,s,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,r=this.lat0,o<=_e?(e.x=t,e.y=r,e):(r=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<_e?this.lat0>0?t=xe(this.long0+Math.atan2(e.x,-1*e.y)):t=xe(this.long0+Math.atan2(e.x,e.y)):t=xe(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=r,e)}else if(Math.abs(this.coslat0)<=_e){if(o<=_e)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,i=o*this.cons/(2*this.a*this.k0),r=this.con*xp(this.e,i),t=this.con*xe(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else n=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=_e?s=this.X0:(s=Math.asin(Math.cos(n)*this.sinX0+e.y*Math.sin(n)*this.cosX0/o),t=xe(this.long0+Math.atan2(e.x*Math.sin(n),o*this.cosX0*Math.cos(n)-e.y*this.sinX0*Math.sin(n)))),r=-1*xp(this.e,Math.tan(.5*(de+s)));return e.x=t,e.y=r,e}var QY=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const eJ={init:KY,forward:ZY,inverse:XY,names:QY,ssfn_:JY};function tJ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,i=this.rf,n=1/i,s=2*n-Math.pow(n,2),o=this.e=Math.sqrt(s);this.R=this.k0*r*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function rJ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+r)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function iJ(e){for(var t=e.x-this.x0,r=e.y-this.y0,i=t/this.R,n=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+o/this.alpha,l=0,c=s,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var nJ=["somerc"];const sJ={init:tJ,forward:rJ,inverse:iJ,names:nJ};var Uu=1e-7;function oJ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(r)!==-1}function aJ(){var e,t,r,i,n,s,o,a,l,c,f=0,d,p=0,y=0,g=0,w=0,_=0,x=0;this.no_off=oJ(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var S=!1;if("rectified_grid_angle"in this&&(S=!0),T&&(x=this.alpha),S&&(f=this.rectified_grid_angle*ii),T||S)p=this.longc;else if(y=this.long1,w=this.lat1,g=this.long2,_=this.lat2,Math.abs(w-_)<=Uu||(e=Math.abs(w))<=Uu||Math.abs(e-de)<=Uu||Math.abs(Math.abs(this.lat0)-de)<=Uu||Math.abs(Math.abs(_)-de)<=Uu)throw new Error;var v=1-this.es;t=Math.sqrt(v),Math.abs(this.lat0)>_e?(a=Math.sin(this.lat0),r=Math.cos(this.lat0),e=1-this.es*a*a,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/v),this.A=this.B*this.k0*t/e,i=this.B*t/(r*Math.sqrt(e)),n=i*i-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(ms(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=n=1),T||S?(T?(d=Math.asin(Math.sin(x)/i),S||(f=x)):(d=f,x=Math.asin(i*Math.sin(d))),this.lam0=p-Math.asin(.5*(n-1/n)*Math.tan(d))/this.B):(s=Math.pow(ms(this.e,w,Math.sin(w)),this.B),o=Math.pow(ms(this.e,_,Math.sin(_)),this.B),n=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),e=y-g,e<-Math.pi?g-=wp:e>Math.pi&&(g+=wp),this.lam0=xe(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B),d=Math.atan(2*Math.sin(this.B*xe(y-this.lam0))/(n-1/n)),f=x=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(x))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Mt-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(Mt+n))}function lJ(e){var t={},r,i,n,s,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-de)>_e){if(o=this.E/Math.pow(ms(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,r=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*e.x),n=(r*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(n)-1)<_e)throw new Error;c=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*e.x),Math.abs(a)<Uu?l=this.A*e.x:l=this.ArB*Math.atan2(r*this.cosgam+s*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function cJ(e){var t,r,i,n,s,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*r),n=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*t),a=(o*this.cosgam+n*this.singam)/s,Math.abs(Math.abs(a)-1)<_e)l.x=0,l.y=a<0?-de:de;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=xp(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(n*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var uJ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const hJ={init:aJ,forward:lJ,inverse:cJ,names:uJ};function fJ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_e)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),i=po(this.e,t,r),n=ms(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=po(this.e,s,o),l=ms(this.e,this.lat2,s),c=ms(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_e?this.ns=Math.log(i/a)/Math.log(n/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function dJ(e){var t=e.x,r=e.y;Math.abs(2*Math.abs(r)-Math.PI)<=_e&&(r=pm(r)*(de-2*_e));var i=Math.abs(Math.abs(r)-de),n,s;if(i>_e)n=ms(this.e,r,Math.sin(r)),s=this.a*this.f0*Math.pow(n,this.ns);else{if(i=r*this.ns,i<=0)return null;s=0}var o=this.ns*xe(t-this.long0);return e.x=this.k0*(s*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,e}function pJ(e){var t,r,i,n,s,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),r=1):(t=-Math.sqrt(o*o+a*a),r=-1);var l=0;if(t!==0&&(l=Math.atan2(r*o,r*a)),t!==0||this.ns>0){if(r=1/this.ns,i=Math.pow(t/(this.a*this.f0),r),n=xp(this.e,i),n===-9999)return null}else n=-de;return s=xe(l/this.ns+this.long0),e.x=s,e.y=n,e}var mJ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const yJ={init:fJ,forward:dJ,inverse:pJ,names:mJ};function gJ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function vJ(e){var t,r,i,n,s,o,a,l=e.x,c=e.y,f=xe(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),i=-f*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),s=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(n)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function bJ(e){var t,r,i,n,s,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),n=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),r=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(t)),e.x=this.long0-r/this.alfa,a=t,l=0;var f=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,f+=1;while(l===0&&f<15);return f>=15?null:e}var _J=["Krovak","krovak"];const wJ={init:gJ,forward:vJ,inverse:bJ,names:_J};function Di(e,t,r,i,n){return e*n-t*Math.sin(2*n)+r*Math.sin(4*n)-i*Math.sin(6*n)}function mm(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function ym(e){return .375*e*(1+.25*e*(1+.46875*e))}function gm(e){return .05859375*e*e*(1+.75*e)}function vm(e){return e*e*e*(35/3072)}function Rh(e,t,r){var i=t*r;return e/Math.sqrt(1-i*i)}function vl(e){return Math.abs(e)<de?e:e-pm(e)*Math.PI}function bg(e,t,r,i,n){var s,o;s=e/t;for(var a=0;a<15;a++)if(o=(e-(t*s-r*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)))/(t-2*r*Math.cos(2*s)+4*i*Math.cos(4*s)-6*n*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function SJ(){this.sphere||(this.e0=mm(this.es),this.e1=ym(this.es),this.e2=gm(this.es),this.e3=vm(this.es),this.ml0=this.a*Di(this.e0,this.e1,this.e2,this.e3,this.lat0))}function xJ(e){var t,r,i=e.x,n=e.y;if(i=xe(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(n)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var s=Math.sin(n),o=Math.cos(n),a=Rh(this.a,this.e,s),l=Math.tan(n)*Math.tan(n),c=i*Math.cos(n),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Di(this.e0,this.e1,this.e2,this.e3,n);t=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),r=p-this.ml0+a*s/o*f*(.5+(5-l+6*d)*f/24)}return e.x=t+this.x0,e.y=r+this.y0,e}function EJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,n;if(this.sphere){var s=r+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(t)),n=Math.atan2(Math.tan(t),Math.cos(s))}else{var o=this.ml0/this.a+r,a=bg(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-de)<=_e)return e.x=this.long0,e.y=de,r<0&&(e.y*=-1),e;var l=Rh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),n=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return e.x=xe(n+this.long0),e.y=vl(i),e}var TJ=["Cassini","Cassini_Soldner","cass"];const AJ={init:SJ,forward:xJ,inverse:EJ,names:TJ};function rl(e,t){var r;return e>1e-7?(r=e*t,(1-e*e)*(t/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*t}var MJ=1,IJ=2,OJ=3,CJ=4;function $J(){var e=Math.abs(this.lat0);if(Math.abs(e-de)<_e?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<_e?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=rl(this.e,1),this.mmf=.5/(1-this.es),this.apa=jJ(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=rl(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function NJ(e){var t,r,i,n,s,o,a,l,c,f,d=e.x,p=e.y;if(d=xe(d-this.long0),this.sphere){if(s=Math.sin(p),f=Math.cos(p),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+f*i:1+this.sinph0*s+this.cosph0*f*i,r<=_e)return null;r=Math.sqrt(2/r),t=r*f*Math.sin(d),r*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<_e)return null;r=Mt-p*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),t=r*Math.sin(d),r*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),n=Math.sin(d),s=Math.sin(p),o=rl(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=de+p,o=this.qp-o;break;case this.S_POLE:c=p-de,o=this.qp+o;break}if(Math.abs(c)<_e)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?r=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):r=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,t=this.xmf*c*l*n;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*n,r=i*(this.mode===this.S_POLE?c:-c)):t=r=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e}function PJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,n,s,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(t*t+r*r),n=d*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=_e?0:Math.asin(r*p/d),t*=p,r=f*d;break;case this.OBLIQ:n=Math.abs(d)<=_e?this.lat0:Math.asin(f*this.sinph0+r*p*this.cosph0/d),t*=p*this.cosph0,r=(f-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:r=-r,n=de-n;break;case this.S_POLE:n-=de;break}i=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,r)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,r*=this.dd,l=Math.sqrt(t*t+r*r),l<_e)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+r*o*this.cosb1/l,a=this.qp*c,r=l*this.cosb1*s-r*this.sinb1*o):(c=r*o/l,a=this.qp*c,r=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),a=t*t+r*r,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(t,r),n=GJ(Math.asin(c),this.apa)}return e.x=xe(this.long0+i),e.y=n,e}var LJ=.3333333333333333,kJ=.17222222222222222,RJ=.10257936507936508,DJ=.06388888888888888,FJ=.0664021164021164,UJ=.016415012942191543;function jJ(e){var t,r=[];return r[0]=e*LJ,t=e*e,r[0]+=t*kJ,r[1]=t*DJ,t*=e,r[0]+=t*RJ,r[1]+=t*FJ,r[2]=t*UJ,r}function GJ(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}var BJ=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const VJ={init:$J,forward:NJ,inverse:PJ,names:BJ,S_POLE:MJ,N_POLE:IJ,EQUIT:OJ,OBLIQ:CJ};function ul(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function zJ(){Math.abs(this.lat1+this.lat2)<_e||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=po(this.e3,this.sin_po,this.cos_po),this.qs1=rl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=po(this.e3,this.sin_po,this.cos_po),this.qs2=rl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=rl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>_e?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function qJ(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=rl(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*xe(t-this.long0),o=n*Math.sin(s)+this.x0,a=this.rh-n*Math.cos(s)+this.y0;return e.x=o,e.y=a,e}function WJ(e){var t,r,i,n,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),n=0,t!==0&&(n=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,r)),s=xe(n/this.ns0+this.long0),e.x=s,e.y=o,e}function HJ(e,t){var r,i,n,s,o,a=ul(.5*t);if(e<_e)return a;for(var l=e*e,c=1;c<=25;c++)if(r=Math.sin(a),i=Math.cos(a),n=e*r,s=1-n*n,o=.5*s*s/i*(t/(1-l)-r/s+.5/e*Math.log((1-n)/(1+n))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var YJ=["Albers_Conic_Equal_Area","Albers","aea"];const JJ={init:zJ,forward:qJ,inverse:WJ,names:YJ,phi1z:HJ};function KJ(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function ZJ(e){var t,r,i,n,s,o,a,l,c=e.x,f=e.y;return i=xe(c-this.long0),t=Math.sin(f),r=Math.cos(f),n=Math.cos(i),o=this.sin_p14*t+this.cos_p14*r*n,s=1,o>0||Math.abs(o)<=_e?(a=this.x0+this.a*s*r*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*r*n)/o):(a=this.x0+this.infinity_dist*r*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*n)),e.x=a,e.y=l,e}function XJ(e){var t,r,i,n,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(n=Math.atan2(t,this.rc),r=Math.sin(n),i=Math.cos(n),o=ul(i*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r),s=xe(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}var QJ=["gnom"];const eK={init:KJ,forward:ZJ,inverse:XJ,names:QJ};function tK(e,t){var r=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*de:de;for(var i=Math.asin(.5*t),n,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=e*s,n=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-s/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),i+=n,Math.abs(n)<=1e-10)return i;return NaN}function rK(){this.sphere||(this.k0=po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function iK(e){var t=e.x,r=e.y,i,n,s=xe(t-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=rl(this.e,Math.sin(r));i=this.x0+this.a*this.k0*s,n=this.y0+this.a*o*.5/this.k0}return e.x=i,e.y=n,e}function nK(e){e.x-=this.x0,e.y-=this.y0;var t,r;return this.sphere?(t=xe(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=tK(this.e,2*e.y*this.k0/this.a),t=xe(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e}var sK=["cea"];const oK={init:rK,forward:iK,inverse:nK,names:sK};function aK(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function lK(e){var t=e.x,r=e.y,i=xe(t-this.long0),n=vl(r-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*n,e}function cK(e){var t=e.x,r=e.y;return e.x=xe(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=vl(this.lat0+(r-this.y0)/this.a),e}var uK=["Equirectangular","Equidistant_Cylindrical","eqc"];const hK={init:aK,forward:lK,inverse:cK,names:uK};var U4=20;function fK(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=mm(this.es),this.e1=ym(this.es),this.e2=gm(this.es),this.e3=vm(this.es),this.ml0=this.a*Di(this.e0,this.e1,this.e2,this.e3,this.lat0)}function dK(e){var t=e.x,r=e.y,i,n,s,o=xe(t-this.long0);if(s=o*Math.sin(r),this.sphere)Math.abs(r)<=_e?(i=this.a*o,n=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(r),n=this.a*(vl(r-this.lat0)+(1-Math.cos(s))/Math.tan(r)));else if(Math.abs(r)<=_e)i=this.a*o,n=-1*this.ml0;else{var a=Rh(this.a,this.e,Math.sin(r))/Math.tan(r);i=a*Math.sin(s),n=this.a*Di(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*(1-Math.cos(s))}return e.x=i+this.x0,e.y=n+this.y0,e}function pK(e){var t,r,i,n,s,o,a,l,c;if(i=e.x-this.x0,n=e.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=_e)t=xe(i/this.a+this.long0),r=0;else{o=this.lat0+n/this.a,a=i*i/this.a/this.a+o*o,l=o;var f;for(s=U4;s;--s)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=_e){r=l;break}t=xe(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(n+this.ml0)<=_e)r=0,t=xe(this.long0+i/this.a);else{o=(this.ml0+n)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,p,y,g,w;for(s=U4;s;--s)if(w=this.e*Math.sin(l),d=Math.sqrt(1-w*w)*Math.tan(l),p=this.a*Di(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=p/this.a,c=(o*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*d)+(o-g)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=_e){r=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=xe(this.long0+Math.asin(i*d/this.a)/Math.sin(r))}return e.x=t,e.y=r,e}var mK=["Polyconic","poly"];const yK={init:fK,forward:dK,inverse:pK,names:mK};function gK(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function vK(e){var t,r=e.x,i=e.y,n=i-this.lat0,s=r-this.long0,o=n/Nd*1e-5,a=s,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var f=c,d=a,p=1,y=0,g,w,_=0,x=0;for(t=1;t<=6;t++)g=p*f-y*d,w=y*f+p*d,p=g,y=w,_=_+this.B_re[t]*p-this.B_im[t]*y,x=x+this.B_im[t]*p+this.B_re[t]*y;return e.x=x*this.a+this.x0,e.y=_*this.a+this.y0,e}function bK(e){var t,r=e.x,i=e.y,n=r-this.x0,s=i-this.y0,o=s/this.a,a=n/this.a,l=1,c=0,f,d,p=0,y=0;for(t=1;t<=6;t++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var g=0;g<this.iterations;g++){var w=p,_=y,x,T,S=o,v=a;for(t=2;t<=6;t++)x=w*p-_*y,T=_*p+w*y,w=x,_=T,S=S+(t-1)*(this.B_re[t]*w-this.B_im[t]*_),v=v+(t-1)*(this.B_im[t]*w+this.B_re[t]*_);w=1,_=0;var M=this.B_re[1],C=this.B_im[1];for(t=2;t<=6;t++)x=w*p-_*y,T=_*p+w*y,w=x,_=T,M=M+t*(this.B_re[t]*w-this.B_im[t]*_),C=C+t*(this.B_im[t]*w+this.B_re[t]*_);var L=M*M+C*C;p=(S*M+v*C)/L,y=(v*M-S*C)/L}var R=p,k=y,G=1,W=0;for(t=1;t<=9;t++)G=G*R,W=W+this.D[t]*G;var V=this.lat0+W*Nd*1e5,z=this.long0+k;return e.x=z,e.y=V,e}var _K=["New_Zealand_Map_Grid","nzmg"];const wK={init:gK,forward:vK,inverse:bK,names:_K};function SK(){}function xK(e){var t=e.x,r=e.y,i=xe(t-this.long0),n=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=n,e.y=s,e}function EK(e){e.x-=this.x0,e.y-=this.y0;var t=xe(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e}var TK=["Miller_Cylindrical","mill"];const AK={init:SK,forward:xK,inverse:EK,names:TK};var MK=20;function IK(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Bx(this.es)}function OK(e){var t,r,i=e.x,n=e.y;if(i=xe(i-this.long0),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var s=this.n*Math.sin(n),o=MK;o;--o){var a=(this.m*n+Math.sin(n)-s)/(this.m+Math.cos(n));if(n-=a,Math.abs(a)<_e)break}t=this.a*this.C_x*i*(this.m+Math.cos(n)),r=this.a*this.C_y*n}else{var l=Math.sin(n),c=Math.cos(n);r=this.a*wf(n,l,c,this.en),t=this.a*i*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=r,e}function CK(e){var t,r,i,n;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(t))),this.m?t=ul((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=ul(Math.sin(t)/this.n)),i=xe(i+this.long0),t=vl(t)):(t=Vx(e.y/this.a,this.es,this.en),n=Math.abs(t),n<de?(n=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(t)),i=xe(r)):n-_e<de&&(i=this.long0)),e.x=i,e.y=t,e}var $K=["Sinusoidal","sinu"];const NK={init:IK,forward:OK,inverse:CK,names:$K};function PK(){}function LK(e){for(var t=e.x,r=e.y,i=xe(t-this.long0),n=r,s=Math.PI*Math.sin(r);;){var o=-(n+Math.sin(n)-s)/(1+Math.cos(n));if(n+=o,Math.abs(o)<_e)break}n/=2,Math.PI/2-Math.abs(r)<_e&&(i=0);var a=.900316316158*this.a*i*Math.cos(n)+this.x0,l=1.4142135623731*this.a*Math.sin(n)+this.y0;return e.x=a,e.y=l,e}function kK(e){var t,r;e.x-=this.x0,e.y-=this.y0,r=e.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),t=Math.asin(r);var i=xe(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*t+Math.sin(2*t))/Math.PI,Math.abs(r)>1&&(r=1);var n=Math.asin(r);return e.x=i,e.y=n,e}var RK=["Mollweide","moll"];const DK={init:PK,forward:LK,inverse:kK,names:RK};function FK(){Math.abs(this.lat1+this.lat2)<_e||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=mm(this.es),this.e1=ym(this.es),this.e2=gm(this.es),this.e3=vm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=po(this.e,this.sinphi,this.cosphi),this.ml1=Di(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_e?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=po(this.e,this.sinphi,this.cosphi),this.ml2=Di(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Di(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function UK(e){var t=e.x,r=e.y,i;if(this.sphere)i=this.a*(this.g-r);else{var n=Di(this.e0,this.e1,this.e2,this.e3,r);i=this.a*(this.g-n)}var s=this.ns*xe(t-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return e.x=o,e.y=a,e}function jK(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,r,i,n;this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(r!==0&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return n=xe(this.long0+s/this.ns),i=vl(this.g-r/this.a),e.x=n,e.y=i,e;var o=this.g-r/this.a;return i=bg(o,this.e0,this.e1,this.e2,this.e3),n=xe(this.long0+s/this.ns),e.x=n,e.y=i,e}var GK=["Equidistant_Conic","eqdc"];const BK={init:FK,forward:UK,inverse:jK,names:GK};function VK(){this.R=this.a}function zK(e){var t=e.x,r=e.y,i=xe(t-this.long0),n,s;Math.abs(r)<=_e&&(n=this.x0+this.R*i,s=this.y0);var o=ul(2*Math.abs(r/Math.PI));(Math.abs(i)<=_e||Math.abs(Math.abs(r)-de)<=_e)&&(n=this.x0,r>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),g=y*y,w=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(p-g)))/(g+l);i<0&&(w=-w),n=this.x0+w;var _=l+d;return w=Math.PI*this.R*(y*_-a*Math.sqrt((g+l)*(l+1)-_*_))/(g+l),r>=0?s=this.y0+w:s=this.y0-w,e.x=n,e.y=s,e}function qK(e){var t,r,i,n,s,o,a,l,c,f,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=e.x/d,n=e.y/d,s=i*i+n*n,o=-Math.abs(n)*(1+s),a=o-2*n*n+i*i,l=-2*o+1+2*n*n+s*s,y=n*n/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?r=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:r=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<_e?t=this.long0:t=xe(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-n*n)+s*s))/2/i),e.x=t,e.y=r,e}var WK=["Van_der_Grinten_I","VanDerGrinten","vandg"];const HK={init:VK,forward:zK,inverse:qK,names:WK};function YK(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function JK(e){var t=e.x,r=e.y,i=Math.sin(e.y),n=Math.cos(e.y),s=xe(t-this.long0),o,a,l,c,f,d,p,y,g,w,_,x,T,S,v,M,C,L,R,k,G,W,V;return this.sphere?Math.abs(this.sin_p12-1)<=_e?(e.x=this.x0+this.a*(de-r)*Math.sin(s),e.y=this.y0-this.a*(de-r)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=_e?(e.x=this.x0+this.a*(de+r)*Math.sin(s),e.y=this.y0+this.a*(de+r)*Math.cos(s),e):(L=this.sin_p12*i+this.cos_p12*n*Math.cos(s),M=Math.acos(L),C=M?M/Math.sin(M):1,e.x=this.x0+this.a*C*n*Math.sin(s),e.y=this.y0+this.a*C*(this.cos_p12*i-this.sin_p12*n*Math.cos(s)),e):(o=mm(this.es),a=ym(this.es),l=gm(this.es),c=vm(this.es),Math.abs(this.sin_p12-1)<=_e?(f=this.a*Di(o,a,l,c,de),d=this.a*Di(o,a,l,c,r),e.x=this.x0+(f-d)*Math.sin(s),e.y=this.y0-(f-d)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=_e?(f=this.a*Di(o,a,l,c,de),d=this.a*Di(o,a,l,c,r),e.x=this.x0+(f+d)*Math.sin(s),e.y=this.y0+(f+d)*Math.cos(s),e):(p=i/n,y=Rh(this.a,this.e,this.sin_p12),g=Rh(this.a,this.e,i),w=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(g*n)),_=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(w)-this.sin_p12*Math.cos(s)),_===0?R=Math.asin(this.cos_p12*Math.sin(w)-this.sin_p12*Math.cos(w)):Math.abs(Math.abs(_)-Math.PI)<=_e?R=-Math.asin(this.cos_p12*Math.sin(w)-this.sin_p12*Math.cos(w)):R=Math.asin(Math.sin(s)*Math.cos(w)/Math.sin(_)),x=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(_)/Math.sqrt(1-this.es),S=x*T,v=T*T,k=R*R,G=k*R,W=G*R,V=W*R,M=y*R*(1-k*v*(1-v)/6+G/8*S*(1-2*v)+W/120*(v*(4-7*v)-3*x*x*(1-7*v))-V/48*S),e.x=this.x0+M*Math.sin(_),e.y=this.y0+M*Math.cos(_),e))}function KK(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,n,s,o,a,l,c,f,d,p,y,g,w,_,x,T,S,v,M,C,L,R;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*de*this.a?void 0:(r=t/this.a,i=Math.sin(r),n=Math.cos(r),s=this.long0,Math.abs(t)<=_e?o=this.lat0:(o=ul(n*this.sin_p12+e.y*i*this.cos_p12/t),a=Math.abs(this.lat0)-de,Math.abs(a)<=_e?this.lat0>=0?s=xe(this.long0+Math.atan2(e.x,-e.y)):s=xe(this.long0-Math.atan2(-e.x,e.y)):s=xe(this.long0+Math.atan2(e.x*i,t*this.cos_p12*n-e.y*this.sin_p12*i))),e.x=s,e.y=o,e)):(l=mm(this.es),c=ym(this.es),f=gm(this.es),d=vm(this.es),Math.abs(this.sin_p12-1)<=_e?(p=this.a*Di(l,c,f,d,de),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=bg(y/this.a,l,c,f,d),s=xe(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=_e?(p=this.a*Di(l,c,f,d,de),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=bg(y/this.a,l,c,f,d),s=xe(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),_=Math.atan2(e.x,e.y),g=Rh(this.a,this.e,this.sin_p12),x=Math.cos(_),T=this.e*this.cos_p12*x,S=-T*T/(1-this.es),v=3*this.es*(1-S)*this.sin_p12*this.cos_p12*x/(1-this.es),M=t/g,C=M-S*(1+S)*Math.pow(M,3)/6-v*(1+3*S)*Math.pow(M,4)/24,L=1-S*C*C/2-M*C*C*C/6,w=Math.asin(this.sin_p12*Math.cos(C)+this.cos_p12*Math.sin(C)*x),s=xe(this.long0+Math.asin(Math.sin(_)*Math.sin(C)/Math.cos(w))),R=Math.sin(w),o=Math.atan2((R-this.es*L*this.sin_p12)*Math.tan(w),R*(1-this.es)),e.x=s,e.y=o,e))}var ZK=["Azimuthal_Equidistant","aeqd"];const XK={init:YK,forward:JK,inverse:KK,names:ZK};function QK(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function eZ(e){var t,r,i,n,s,o,a,l,c=e.x,f=e.y;return i=xe(c-this.long0),t=Math.sin(f),r=Math.cos(f),n=Math.cos(i),o=this.sin_p14*t+this.cos_p14*r*n,s=1,(o>0||Math.abs(o)<=_e)&&(a=this.a*s*r*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*r*n)),e.x=a,e.y=l,e}function tZ(e){var t,r,i,n,s,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=ul(t/this.a),i=Math.sin(r),n=Math.cos(r),o=this.long0,Math.abs(t)<=_e?(a=this.lat0,e.x=o,e.y=a,e):(a=ul(n*this.sin_p14+e.y*i*this.cos_p14/t),s=Math.abs(this.lat0)-de,Math.abs(s)<=_e?(this.lat0>=0?o=xe(this.long0+Math.atan2(e.x,-e.y)):o=xe(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=xe(this.long0+Math.atan2(e.x*i,t*this.cos_p14*n-e.y*this.sin_p14*i)),e.x=o,e.y=a,e))}var rZ=["ortho"];const iZ={init:QK,forward:eZ,inverse:tZ,names:rZ};var sr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},It={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function nZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=de-Mt/2?this.face=sr.TOP:this.lat0<=-(de-Mt/2)?this.face=sr.BOTTOM:Math.abs(this.long0)<=Mt?this.face=sr.FRONT:Math.abs(this.long0)<=de+Mt?this.face=this.long0>0?sr.RIGHT:sr.LEFT:this.face=sr.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function sZ(e){var t={x:0,y:0},r,i,n,s,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):r=e.y,i=e.x,this.face===sr.TOP)s=de-r,i>=Mt&&i<=de+Mt?(l.value=It.AREA_0,n=i-de):i>de+Mt||i<=-(de+Mt)?(l.value=It.AREA_1,n=i>0?i-gr:i+gr):i>-(de+Mt)&&i<=-Mt?(l.value=It.AREA_2,n=i+de):(l.value=It.AREA_3,n=i);else if(this.face===sr.BOTTOM)s=de+r,i>=Mt&&i<=de+Mt?(l.value=It.AREA_0,n=-i+de):i<Mt&&i>=-Mt?(l.value=It.AREA_1,n=-i):i<-Mt&&i>=-(de+Mt)?(l.value=It.AREA_2,n=-i-de):(l.value=It.AREA_3,n=i>0?-i+gr:-i-gr);else{var c,f,d,p,y,g,w;this.face===sr.RIGHT?i=gh(i,+de):this.face===sr.BACK?i=gh(i,+gr):this.face===sr.LEFT&&(i=gh(i,-de)),p=Math.sin(r),y=Math.cos(r),g=Math.sin(i),w=Math.cos(i),c=y*w,f=y*g,d=p,this.face===sr.FRONT?(s=Math.acos(c),n=s0(s,d,f,l)):this.face===sr.RIGHT?(s=Math.acos(f),n=s0(s,d,-c,l)):this.face===sr.BACK?(s=Math.acos(-c),n=s0(s,d,-f,l)):this.face===sr.LEFT?(s=Math.acos(-f),n=s0(s,d,c,l)):(s=n=0,l.value=It.AREA_0)}return a=Math.atan(12/gr*(n+Math.acos(Math.sin(n)*Math.cos(Mt))-de)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===It.AREA_1?a+=de:l.value===It.AREA_2?a+=gr:l.value===It.AREA_3&&(a+=1.5*gr),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function oZ(e){var t={lam:0,phi:0},r,i,n,s,o,a,l,c,f,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,i=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),r=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=It.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=It.AREA_1,r-=de):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=It.AREA_2,r=r<0?r+gr:r-gr):(d.value=It.AREA_3,r+=de),f=gr/12*Math.tan(r),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),n=Math.cos(r),s=Math.tan(i),l=1-n*n*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===sr.TOP)c=Math.acos(l),t.phi=de-c,d.value===It.AREA_0?t.lam=a+de:d.value===It.AREA_1?t.lam=a<0?a+gr:a-gr:d.value===It.AREA_2?t.lam=a-de:t.lam=a;else if(this.face===sr.BOTTOM)c=Math.acos(l),t.phi=c-de,d.value===It.AREA_0?t.lam=-a+de:d.value===It.AREA_1?t.lam=-a:d.value===It.AREA_2?t.lam=-a-de:t.lam=a<0?-a-gr:-a+gr;else{var p,y,g;p=l,f=p*p,f>=1?g=0:g=Math.sqrt(1-f)*Math.sin(a),f+=g*g,f>=1?y=0:y=Math.sqrt(1-f),d.value===It.AREA_1?(f=y,y=-g,g=f):d.value===It.AREA_2?(y=-y,g=-g):d.value===It.AREA_3&&(f=y,y=g,g=-f),this.face===sr.RIGHT?(f=p,p=-y,y=f):this.face===sr.BACK?(p=-p,y=-y):this.face===sr.LEFT&&(f=p,p=y,y=-f),t.phi=Math.acos(-g)-de,t.lam=Math.atan2(y,p),this.face===sr.RIGHT?t.lam=gh(t.lam,-de):this.face===sr.BACK?t.lam=gh(t.lam,-gr):this.face===sr.LEFT&&(t.lam=gh(t.lam,+de))}if(this.es!==0){var w,_,x;w=t.phi<0?1:0,_=Math.tan(t.phi),x=this.b/Math.sqrt(_*_+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-x*x)/(this.one_minus_f*x)),w&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function s0(e,t,r,i){var n;return e<_e?(i.value=It.AREA_0,n=0):(n=Math.atan2(t,r),Math.abs(n)<=Mt?i.value=It.AREA_0:n>Mt&&n<=de+Mt?(i.value=It.AREA_1,n-=de):n>de+Mt||n<=-(de+Mt)?(i.value=It.AREA_2,n=n>=0?n-gr:n+gr):(i.value=It.AREA_3,n+=de)),n}function gh(e,t){var r=e+t;return r<-gr?r+=wp:r>+gr&&(r-=wp),r}var aZ=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const lZ={init:nZ,forward:sZ,inverse:oZ,names:aZ};var gw=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],vd=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],lP=.8487,cP=1.3523,uP=Ks/5,cZ=1/uP,Qu=18,_g=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},uZ=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function hZ(e,t,r,i){for(var n=t;i;--i){var s=e(n);if(n-=s,Math.abs(s)<r)break}return n}function fZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function dZ(e){var t=xe(e.x-this.long0),r=Math.abs(e.y),i=Math.floor(r*uP);i<0?i=0:i>=Qu&&(i=Qu-1),r=Ks*(r-cZ*i);var n={x:_g(gw[i],r)*t,y:_g(vd[i],r)};return e.y<0&&(n.y=-n.y),n.x=n.x*this.a*lP+this.x0,n.y=n.y*this.a*cP+this.y0,n}function pZ(e){var t={x:(e.x-this.x0)/(this.a*lP),y:Math.abs(e.y-this.y0)/(this.a*cP)};if(t.y>=1)t.x/=gw[Qu][0],t.y=e.y<0?-de:de;else{var r=Math.floor(t.y*Qu);for(r<0?r=0:r>=Qu&&(r=Qu-1);;)if(vd[r][0]>t.y)--r;else if(vd[r+1][0]<=t.y)++r;else break;var i=vd[r],n=5*(t.y-i[0])/(vd[r+1][0]-i[0]);n=hZ(function(s){return(_g(i,s)-t.y)/uZ(i,s)},n,_e,100),t.x/=_g(gw[r],n),t.y=(5*r+n)*ii,e.y<0&&(t.y=-t.y)}return t.x=xe(t.x+this.long0),t}var mZ=["Robinson","robin"];const yZ={init:fZ,forward:dZ,inverse:pZ,names:mZ};function gZ(){this.name="geocent"}function vZ(e){var t=ZN(e,this.es,this.a);return t}function bZ(e){var t=XN(e,this.es,this.a,this.b);return t}var _Z=["Geocentric","geocentric","geocent","Geocent"];const wZ={init:gZ,forward:vZ,inverse:bZ,names:_Z};var pi={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Df={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function SZ(){if(Object.keys(Df).forEach(function(r){if(typeof this[r]>"u")this[r]=Df[r].def;else{if(Df[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);Df[r].num&&(this[r]=parseFloat(this[r]))}Df[r].degrees&&(this[r]=this[r]*ii)}.bind(this)),Math.abs(Math.abs(this.lat0)-de)<_e?this.mode=this.lat0<0?pi.S_POLE:pi.N_POLE:Math.abs(this.lat0)<_e?this.mode=pi.EQUIT:(this.mode=pi.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function xZ(e){e.x-=this.long0;var t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),n,s;switch(this.mode){case pi.OBLIQ:s=this.sinph0*t+this.cosph0*r*i;break;case pi.EQUIT:s=r*i;break;case pi.S_POLE:s=-t;break;case pi.N_POLE:s=t;break}switch(s=this.pn1/(this.p-s),n=s*r*Math.sin(e.x),this.mode){case pi.OBLIQ:s*=this.cosph0*t-this.sinph0*r*i;break;case pi.EQUIT:s*=t;break;case pi.N_POLE:s*=-(r*i);break;case pi.S_POLE:s*=r*i;break}var o,a;return o=s*this.cg+n*this.sg,a=1/(o*this.sw*this.h1+this.cw),n=(n*this.cg-s*this.sg)*this.cw*a,s=o*a,e.x=n*this.a,e.y=s*this.a,e}function EZ(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},r,i,n;n=1/(this.pn1-e.y*this.sw),r=this.pn1*e.x*n,i=this.pn1*e.y*this.cw*n,e.x=r*this.cg+i*this.sg,e.y=i*this.cg-r*this.sg;var s=Ki(e.x,e.y);if(Math.abs(s)<_e)t.x=0,t.y=e.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case pi.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/s),e.y=(o-this.sinph0*Math.sin(t.y))*s,e.x*=a*this.cosph0;break;case pi.EQUIT:t.y=Math.asin(e.y*a/s),e.y=o*s,e.x*=a;break;case pi.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case pi.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var TZ=["Tilted_Perspective","tpers"];const AZ={init:SZ,forward:xZ,inverse:EZ,names:TZ};function MZ(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function IZ(e){var t=e.x,r=e.y,i,n,s,o;if(t=t-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var a=this.radius_p/Ki(this.radius_p*Math.cos(r),Math.sin(r));if(n=a*Math.cos(t)*Math.cos(r),s=a*Math.sin(t)*Math.cos(r),o=a*Math.sin(r),(this.radius_g-n)*n-s*s-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/Ki(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(s/i),e.y=this.radius_g_1*Math.atan(o/Ki(s,i)))}else this.shape==="sphere"&&(i=Math.cos(r),n=Math.cos(t)*i,s=Math.sin(t)*i,o=Math.sin(r),i=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/Ki(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(s/i),e.y=this.radius_g_1*Math.atan(o/Ki(s,i))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function OZ(e){var t=-1,r=0,i=0,n,s,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Ki(1,i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*Ki(1,r));var l=i/this.radius_p;if(n=r*r+l*l+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+i*i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+r*r)),n=r*r+i*i+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var CZ=["Geostationary Satellite View","Geostationary_Satellite","geos"];const $Z={init:MZ,forward:IZ,inverse:OZ,names:CZ};var Pd=1.340264,Ld=-.081106,kd=893e-6,Rd=.003796,wg=Math.sqrt(3)/2;function NZ(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function PZ(e){var t=xe(e.x-this.long0),r=e.y,i=Math.asin(wg*Math.sin(r)),n=i*i,s=n*n*n;return e.x=t*Math.cos(i)/(wg*(Pd+3*Ld*n+s*(7*kd+9*Rd*n))),e.y=i*(Pd+Ld*n+s*(kd+Rd*n)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function LZ(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,r=12,i=e.y,n,s,o,a,l,c;for(c=0;c<r&&(n=i*i,s=n*n*n,o=i*(Pd+Ld*n+s*(kd+Rd*n))-e.y,a=Pd+3*Ld*n+s*(7*kd+9*Rd*n),i-=l=o/a,!(Math.abs(l)<t));++c);return n=i*i,s=n*n*n,e.x=wg*e.x*(Pd+3*Ld*n+s*(7*kd+9*Rd*n))/Math.cos(i),e.y=Math.asin(Math.sin(i)/wg),e.x=xe(e.x+this.long0),e}var kZ=["eqearth","Equal Earth","Equal_Earth"];const RZ={init:NZ,forward:PZ,inverse:LZ,names:kZ};var Ep=1e-10;function DZ(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Ep)throw new Error;this.es?(this.en=Bx(this.es),this.m1=wf(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=UZ,this.forward=FZ):(Math.abs(this.phi1)+Ep>=de?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=GZ,this.forward=jZ)}function FZ(e){var t=xe(e.x-(this.long0||0)),r=e.y,i,n,s;return i=this.am1+this.m1-wf(r,n=Math.sin(r),s=Math.cos(r),this.en),n=s*t/(i*Math.sqrt(1-this.es*n*n)),e.x=i*Math.sin(n),e.y=this.am1-i*Math.cos(n),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function UZ(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,i,n;if(r=Ki(e.x,e.y=this.am1-e.y),n=Vx(this.am1+this.m1-r,this.es,this.en),(t=Math.abs(n))<de)t=Math.sin(n),i=r*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(n);else if(Math.abs(t-de)<=Ep)i=0;else throw new Error;return e.x=xe(i+(this.long0||0)),e.y=vl(n),e}function jZ(e){var t=xe(e.x-(this.long0||0)),r=e.y,i,n;return n=this.cphi1+this.phi1-r,Math.abs(n)>Ep?(e.x=n*Math.sin(i=t*Math.cos(r)/n),e.y=this.cphi1-n*Math.cos(i)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function GZ(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,i=Ki(e.x,e.y=this.cphi1-e.y);if(r=this.cphi1+this.phi1-i,Math.abs(r)>de)throw new Error;return Math.abs(Math.abs(r)-de)<=Ep?t=0:t=i*Math.atan2(e.x,e.y)/Math.cos(r),e.x=xe(t+(this.long0||0)),e.y=vl(r),e}var BZ=["bonne","Bonne (Werner lat_1=90)"];const VZ={init:DZ,names:BZ};function zZ(e){e.Proj.projections.add(Sy),e.Proj.projections.add(xy),e.Proj.projections.add(FY),e.Proj.projections.add(YY),e.Proj.projections.add(eJ),e.Proj.projections.add(sJ),e.Proj.projections.add(hJ),e.Proj.projections.add(yJ),e.Proj.projections.add(wJ),e.Proj.projections.add(AJ),e.Proj.projections.add(VJ),e.Proj.projections.add(JJ),e.Proj.projections.add(eK),e.Proj.projections.add(oK),e.Proj.projections.add(hK),e.Proj.projections.add(yK),e.Proj.projections.add(wK),e.Proj.projections.add(AK),e.Proj.projections.add(NK),e.Proj.projections.add(DK),e.Proj.projections.add(BK),e.Proj.projections.add(HK),e.Proj.projections.add(XK),e.Proj.projections.add(iZ),e.Proj.projections.add(lZ),e.Proj.projections.add(yZ),e.Proj.projections.add(wZ),e.Proj.projections.add(AZ),e.Proj.projections.add($Z),e.Proj.projections.add(RZ),e.Proj.projections.add(VZ)}Ft.defaultDatum="WGS84";Ft.Proj=no;Ft.WGS84=new Ft.Proj("WGS84");Ft.Point=kh;Ft.toPoint=QN;Ft.defs=$i;Ft.nadgrid=jH;Ft.transform=vg;Ft.mgrs=rY;Ft.version="__VERSION__";zZ(Ft);const qZ="EPSG:4326";class WZ{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Ft.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ft.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ft.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Ft.defs("EPSG:102100",Ft.defs("EPSG:3857")),Ft.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ft.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const r=t<10?`0${t}`:t;Ft.defs(`EPSG:326${r}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,r){t=typeof t=="number"?`EPSG:${t}`:t,Ft.defs(t,r)}defaultEpsgLookup(t){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,n=String(t).match(r)||String(t).match(i)||[];if(n.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${n[1]}.proj4`;wr(a,{responseType:"text"}).then(f=>{f.data?s(f.data):o()},f=>{o(f)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let r,i="";try{r=this.normalizeProj(t)}catch{return!1}if(!r.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(i=this.normalizeProj(t.latestWkid));const n=(l,c)=>{l!==c&&Ft.defs(c,Ft.defs(l))};if(Ft.defs(r))return!0;if(i&&Ft.defs(i))return n(i,r),!0;const s=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Ft.defs(l,c),!0)}catch{return!1}};return await(i?s(i):Promise.resolve(!1))?(n(i,r),!0):s(r)}async checkProjBomber(t){if(t.length>0){const r=t.pop();if(await this.checkProj(r))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",r),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,r,i){let n,s;if(r?n=this.normalizeProj(r):n=Be.parseGeoJsonCrs(t.crs),i?s=this.normalizeProj(i):s=qZ,s===n)return t;await this.checkProjBomber([n,s]);const o=Ft(n,s).forward;return eH.Tools.applyConverter(t,o)}async projectGeometry(t,r){if(r.type===Ze.EXTENT)return this.projectExtent(t,r);await this.checkProjBomber([t,r.sr]);const i=r.toGeoJSON(),n=await this.projectGeoJson(i,this.normalizeProj(r.sr),this.normalizeProj(t)),s=Th.geom.geomGeoJsonToRamp(n,r.id);return s.sr=Be.parseSR(t),s}async projectExtent(t,r){const i=(w,_,x)=>{if(x===0)return[w,_];const T=[(w[0]+_[0])/2,(w[1]+_[1])/2];if(x===1)return[w,T,_];if(x>1){const S=i(w,T,x-1),v=i(T,_,x-1);return S.concat(v.slice(1))}return[[]]},n=r.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(w=>i(n[w],n[w+1],3).slice(1)).forEach(w=>s=s.concat(w));const o=new mi("warpy",[s],r.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(w=>w[0]),f=l.map(w=>w[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),g=Math.max.apply(null,f);return tr.fromParams(r.id+"_projected",d,y,p,g,a.sr)}}class HZ{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new WZ,this.geom=new YW,this.sharedUtils=new XW}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const r=i=>i.map(n=>({level:n[0],resolution:n[1],scale:n[2]}));if(t===this.DEFAULT_LAMBERT)return r([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return r([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class Pr{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function YZ(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function JZ(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(r=>e[r]!==void 0)}function hP(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function KZ(e){return typeof e=="object"&&e.default!==void 0}var o0={exports:{}},j4;function ZZ(){if(j4)return o0.exports;j4=1;function e(){}return e.prototype={on:function(t,r,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:r,ctx:i}),this},once:function(t,r,i){var n=this;function s(){n.off(t,s),r.apply(i,arguments)}return s._=r,this.on(t,s,i)},emit:function(t){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;for(n;n<s;n++)i[n].fn.apply(i[n].ctx,r);return this},off:function(t,r){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&r)for(var o=0,a=n.length;o<a;o++)n[o].fn!==r&&n[o].fn._!==r&&s.push(n[o]);return s.length?i[t]=s:delete i[t],this}},o0.exports=e,o0.exports.TinyEmitter=e,o0.exports}var XZ=ZZ();/**
* @vue/shared v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Sn(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const at={},vh=[],wi=()=>{},bd=()=>!1,cu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Hx=e=>e.startsWith("onUpdate:"),ct=Object.assign,Yx=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},QZ=Object.prototype.hasOwnProperty,Et=(e,t)=>QZ.call(e,t),Te=Array.isArray,bh=e=>Sf(e)==="[object Map]",uu=e=>Sf(e)==="[object Set]",G4=e=>Sf(e)==="[object Date]",eX=e=>Sf(e)==="[object RegExp]",je=e=>typeof e=="function",Ke=e=>typeof e=="string",vn=e=>typeof e=="symbol",Nt=e=>e!==null&&typeof e=="object",Jx=e=>(Nt(e)||je(e))&&je(e.then)&&je(e.catch),fP=Object.prototype.toString,Sf=e=>fP.call(e),tX=e=>Sf(e).slice(8,-1),Z1=e=>Sf(e)==="[object Object]",Kx=e=>Ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,il=Sn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rX=Sn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),X1=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},iX=/-(\w)/g,Xt=X1(e=>e.replace(iX,(t,r)=>r?r.toUpperCase():"")),nX=/\B([A-Z])/g,Zi=X1(e=>e.replace(nX,"-$1").toLowerCase()),bl=X1(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sc=X1(e=>e?`on${bl(e)}`:""),Li=(e,t)=>!Object.is(e,t),_h=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},dP=(e,t,r,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:r})},Sg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},xg=e=>{const t=Ke(e)?Number(e):NaN;return isNaN(t)?e:t};let B4;const pP=()=>B4||(B4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sX(e,t){return e+JSON.stringify(t,(r,i)=>typeof i=="function"?i.toString():i)}const oX="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",aX=Sn(oX);function _l(e){if(Te(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],n=Ke(i)?mP(i):_l(i);if(n)for(const s in n)t[s]=n[s]}return t}else if(Ke(e)||Nt(e))return e}const lX=/;(?![^(]*\))/g,cX=/:([^]+)/,uX=/\/\*[^]*?\*\//g;function mP(e){const t={};return e.replace(uX,"").split(lX).forEach(r=>{if(r){const i=r.split(cX);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function mr(e){let t="";if(Ke(e))t=e;else if(Te(e))for(let r=0;r<e.length;r++){const i=mr(e[r]);i&&(t+=i+" ")}else if(Nt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function yP(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Ke(t)&&(e.class=mr(t)),r&&(e.style=_l(r)),e}const hX="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",fX="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",dX="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",pX="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",mX=Sn(hX),yX=Sn(fX),gX=Sn(dX),vX=Sn(pX),bX="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_X=Sn(bX);function gP(e){return!!e||e===""}function wX(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=hl(e[i],t[i]);return r}function hl(e,t){if(e===t)return!0;let r=G4(e),i=G4(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=vn(e),i=vn(t),r||i)return e===t;if(r=Te(e),i=Te(t),r||i)return r&&i?wX(e,t):!1;if(r=Nt(e),i=Nt(t),r||i){if(!r||!i)return!1;const n=Object.keys(e).length,s=Object.keys(t).length;if(n!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!hl(e[o],t[o]))return!1}}return String(e)===String(t)}function Q1(e,t){return e.findIndex(r=>hl(r,t))}const vP=e=>!!(e&&e.__v_isRef===!0),zt=e=>Ke(e)?e:e==null?"":Te(e)||Nt(e)&&(e.toString===fP||!je(e.toString))?vP(e)?zt(e.value):JSON.stringify(e,bP,2):String(e),bP=(e,t)=>vP(t)?bP(e,t.value):bh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,n],s)=>(r[Mb(i,s)+" =>"]=n,r),{})}:uu(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Mb(r))}:vn(t)?Mb(t):Nt(t)&&!Te(t)&&!Z1(t)?String(t):t,Mb=(e,t="")=>{var r;return vn(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ni;class ev{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ni,!t&&Ni&&(this.index=(Ni.scopes||(Ni.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Ni;try{return Ni=this,t()}finally{Ni=r}}}on(){Ni=this}off(){Ni=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function bm(e){return new ev(e)}function tv(){return Ni}function Zx(e,t=!1){Ni&&Ni.cleanups.push(e)}let Bt;const Ib=new WeakSet;class Dh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ni&&Ni.active&&Ni.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ib.has(this)&&(Ib.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wP(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,V4(this),SP(this);const t=Bt,r=ys;Bt=this,ys=!0;try{return this.fn()}finally{xP(this),Bt=t,ys=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)eE(t);this.deps=this.depsTail=void 0,V4(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ib.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vw(this)&&this.run()}get dirty(){return vw(this)}}let _P=0,eh;function wP(e){e.flags|=8,e.next=eh,eh=e}function Xx(){_P++}function Qx(){if(--_P>0)return;let e;for(;eh;){let t=eh,r;for(;t;)t.flags&=-9,t=t.next;for(t=eh,eh=void 0;t;){if(t.flags&1)try{t.trigger()}catch(i){e||(e=i)}r=t.next,t.next=void 0,t=r}}if(e)throw e}function SP(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xP(e){let t,r=e.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),eE(i),SX(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=r}function vw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(EP(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function EP(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Tp))return;e.globalVersion=Tp;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!vw(e)){e.flags&=-3;return}const r=Bt,i=ys;Bt=e,ys=!0;try{SP(e);const n=e.fn(e._value);(t.version===0||Li(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Bt=r,ys=i,xP(e),e.flags&=-3}}function eE(e,t=!1){const{dep:r,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),r.subs===e&&(r.subs=i),!r.subs&&r.computed){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)eE(s,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function SX(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}function TP(e,t){e.effect instanceof Dh&&(e=e.effect.fn);const r=new Dh(e);t&&ct(r,t);try{r.run()}catch(n){throw r.stop(),n}const i=r.run.bind(r);return i.effect=r,i}function AP(e){e.effect.stop()}let ys=!0;const MP=[];function wl(){MP.push(ys),ys=!1}function Sl(){const e=MP.pop();ys=e===void 0?!0:e}function V4(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Bt;Bt=void 0;try{t()}finally{Bt=r}}}let Tp=0;class xX{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class rv{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Bt||!ys||Bt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Bt)r=this.activeLink=new xX(Bt,this),Bt.deps?(r.prevDep=Bt.depsTail,Bt.depsTail.nextDep=r,Bt.depsTail=r):Bt.deps=Bt.depsTail=r,IP(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Bt.depsTail,r.nextDep=void 0,Bt.depsTail.nextDep=r,Bt.depsTail=r,Bt.deps===r&&(Bt.deps=i)}return r}trigger(t){this.version++,Tp++,this.notify(t)}notify(t){Xx();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Qx()}}}function IP(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)IP(i)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Eg=new WeakMap,xc=Symbol(""),bw=Symbol(""),Ap=Symbol("");function xi(e,t,r){if(ys&&Bt){let i=Eg.get(e);i||Eg.set(e,i=new Map);let n=i.get(r);n||(i.set(r,n=new rv),n.target=e,n.map=i,n.key=r),n.track()}}function Yo(e,t,r,i,n,s){const o=Eg.get(e);if(!o){Tp++;return}const a=l=>{l&&l.trigger()};if(Xx(),t==="clear")o.forEach(a);else{const l=Te(e),c=l&&Kx(r);if(l&&r==="length"){const f=Number(i);o.forEach((d,p)=>{(p==="length"||p===Ap||!vn(p)&&p>=f)&&a(d)})}else switch(r!==void 0&&a(o.get(r)),c&&a(o.get(Ap)),t){case"add":l?c&&a(o.get("length")):(a(o.get(xc)),bh(e)&&a(o.get(bw)));break;case"delete":l||(a(o.get(xc)),bh(e)&&a(o.get(bw)));break;case"set":bh(e)&&a(o.get(xc));break}}Qx()}function EX(e,t){const r=Eg.get(e);return r&&r.get(t)}function Tu(e){const t=qe(e);return t===e?t:(xi(t,"iterate",Ap),tn(e)?t:t.map(yi))}function iv(e){return xi(e=qe(e),"iterate",Ap),e}const TX={__proto__:null,[Symbol.iterator](){return Ob(this,Symbol.iterator,yi)},concat(...e){return Tu(this).concat(...e.map(t=>Te(t)?Tu(t):t))},entries(){return Ob(this,"entries",e=>(e[1]=yi(e[1]),e))},every(e,t){return xo(this,"every",e,t,void 0,arguments)},filter(e,t){return xo(this,"filter",e,t,r=>r.map(yi),arguments)},find(e,t){return xo(this,"find",e,t,yi,arguments)},findIndex(e,t){return xo(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xo(this,"findLast",e,t,yi,arguments)},findLastIndex(e,t){return xo(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xo(this,"forEach",e,t,void 0,arguments)},includes(...e){return Cb(this,"includes",e)},indexOf(...e){return Cb(this,"indexOf",e)},join(e){return Tu(this).join(e)},lastIndexOf(...e){return Cb(this,"lastIndexOf",e)},map(e,t){return xo(this,"map",e,t,void 0,arguments)},pop(){return Ff(this,"pop")},push(...e){return Ff(this,"push",e)},reduce(e,...t){return z4(this,"reduce",e,t)},reduceRight(e,...t){return z4(this,"reduceRight",e,t)},shift(){return Ff(this,"shift")},some(e,t){return xo(this,"some",e,t,void 0,arguments)},splice(...e){return Ff(this,"splice",e)},toReversed(){return Tu(this).toReversed()},toSorted(e){return Tu(this).toSorted(e)},toSpliced(...e){return Tu(this).toSpliced(...e)},unshift(...e){return Ff(this,"unshift",e)},values(){return Ob(this,"values",yi)}};function Ob(e,t,r){const i=iv(e),n=i[t]();return i!==e&&!tn(e)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=r(s.value)),s}),n}const AX=Array.prototype;function xo(e,t,r,i,n,s){const o=iv(e),a=o!==e&&!tn(e),l=o[t];if(l!==AX[t]){const d=l.apply(e,s);return a?yi(d):d}let c=r;o!==e&&(a?c=function(d,p){return r.call(this,yi(d),p,e)}:r.length>2&&(c=function(d,p){return r.call(this,d,p,e)}));const f=l.call(o,c,i);return a&&n?n(f):f}function z4(e,t,r,i){const n=iv(e);let s=r;return n!==e&&(tn(e)?r.length>3&&(s=function(o,a,l){return r.call(this,o,a,l,e)}):s=function(o,a,l){return r.call(this,o,yi(a),l,e)}),n[t](s,...i)}function Cb(e,t,r){const i=qe(e);xi(i,"iterate",Ap);const n=i[t](...r);return(n===-1||n===!1)&&_m(r[0])?(r[0]=qe(r[0]),i[t](...r)):n}function Ff(e,t,r=[]){wl(),Xx();const i=qe(e)[t].apply(e,r);return Qx(),Sl(),i}const MX=Sn("__proto__,__v_isRef,__isVue"),OP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(vn));function IX(e){vn(e)||(e=String(e));const t=qe(this);return xi(t,"has",e),t.hasOwnProperty(e)}class CP{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){const n=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw")return i===(n?s?RP:kP:s?LP:PP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Te(t);if(!n){let l;if(o&&(l=TX[r]))return l;if(r==="hasOwnProperty")return IX}const a=Reflect.get(t,r,gt(t)?t:i);return(vn(r)?OP.has(r):MX(r))||(n||xi(t,"get",r),s)?a:gt(a)?o&&Kx(r)?a:a.value:Nt(a)?n?ov(a):ei(a):a}}class $P extends CP{constructor(t=!1){super(!1,t)}set(t,r,i,n){let s=t[r];if(!this._isShallow){const l=ea(s);if(!tn(i)&&!ea(i)&&(s=qe(s),i=qe(i)),!Te(t)&&gt(s)&&!gt(i))return l?!1:(s.value=i,!0)}const o=Te(t)&&Kx(r)?Number(r)<t.length:Et(t,r),a=Reflect.set(t,r,i,gt(t)?t:n);return t===qe(n)&&(o?Li(i,s)&&Yo(t,"set",r,i):Yo(t,"add",r,i)),a}deleteProperty(t,r){const i=Et(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&i&&Yo(t,"delete",r,void 0),n}has(t,r){const i=Reflect.has(t,r);return(!vn(r)||!OP.has(r))&&xi(t,"has",r),i}ownKeys(t){return xi(t,"iterate",Te(t)?"length":xc),Reflect.ownKeys(t)}}class NP extends CP{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const OX=new $P,CX=new NP,$X=new $P(!0),NX=new NP(!0),tE=e=>e,nv=e=>Reflect.getPrototypeOf(e);function a0(e,t,r=!1,i=!1){e=e.__v_raw;const n=qe(e),s=qe(t);r||(Li(t,s)&&xi(n,"get",t),xi(n,"get",s));const{has:o}=nv(n),a=i?tE:r?iE:yi;if(o.call(n,t))return a(e.get(t));if(o.call(n,s))return a(e.get(s));e!==n&&e.get(t)}function l0(e,t=!1){const r=this.__v_raw,i=qe(r),n=qe(e);return t||(Li(e,n)&&xi(i,"has",e),xi(i,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function c0(e,t=!1){return e=e.__v_raw,!t&&xi(qe(e),"iterate",xc),Reflect.get(e,"size",e)}function q4(e,t=!1){!t&&!tn(e)&&!ea(e)&&(e=qe(e));const r=qe(this);return nv(r).has.call(r,e)||(r.add(e),Yo(r,"add",e,e)),this}function W4(e,t,r=!1){!r&&!tn(t)&&!ea(t)&&(t=qe(t));const i=qe(this),{has:n,get:s}=nv(i);let o=n.call(i,e);o||(e=qe(e),o=n.call(i,e));const a=s.call(i,e);return i.set(e,t),o?Li(t,a)&&Yo(i,"set",e,t):Yo(i,"add",e,t),this}function H4(e){const t=qe(this),{has:r,get:i}=nv(t);let n=r.call(t,e);n||(e=qe(e),n=r.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return n&&Yo(t,"delete",e,void 0),s}function Y4(){const e=qe(this),t=e.size!==0,r=e.clear();return t&&Yo(e,"clear",void 0,void 0),r}function u0(e,t){return function(i,n){const s=this,o=s.__v_raw,a=qe(o),l=t?tE:e?iE:yi;return!e&&xi(a,"iterate",xc),o.forEach((c,f)=>i.call(n,l(c),l(f),s))}}function h0(e,t,r){return function(...i){const n=this.__v_raw,s=qe(n),o=bh(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...i),f=r?tE:t?iE:yi;return!t&&xi(s,"iterate",l?bw:xc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function ya(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function PX(){const e={get(s){return a0(this,s)},get size(){return c0(this)},has:l0,add:q4,set:W4,delete:H4,clear:Y4,forEach:u0(!1,!1)},t={get(s){return a0(this,s,!1,!0)},get size(){return c0(this)},has:l0,add(s){return q4.call(this,s,!0)},set(s,o){return W4.call(this,s,o,!0)},delete:H4,clear:Y4,forEach:u0(!1,!0)},r={get(s){return a0(this,s,!0)},get size(){return c0(this,!0)},has(s){return l0.call(this,s,!0)},add:ya("add"),set:ya("set"),delete:ya("delete"),clear:ya("clear"),forEach:u0(!0,!1)},i={get(s){return a0(this,s,!0,!0)},get size(){return c0(this,!0)},has(s){return l0.call(this,s,!0)},add:ya("add"),set:ya("set"),delete:ya("delete"),clear:ya("clear"),forEach:u0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=h0(s,!1,!1),r[s]=h0(s,!0,!1),t[s]=h0(s,!1,!0),i[s]=h0(s,!0,!0)}),[e,r,t,i]}const[LX,kX,RX,DX]=PX();function sv(e,t){const r=t?e?DX:RX:e?kX:LX;return(i,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Et(r,n)&&n in i?r:i,n,s)}const FX={get:sv(!1,!1)},UX={get:sv(!1,!0)},jX={get:sv(!0,!1)},GX={get:sv(!0,!0)},PP=new WeakMap,LP=new WeakMap,kP=new WeakMap,RP=new WeakMap;function BX(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function VX(e){return e.__v_skip||!Object.isExtensible(e)?0:BX(tX(e))}function ei(e){return ea(e)?e:av(e,!1,OX,FX,PP)}function rE(e){return av(e,!1,$X,UX,LP)}function ov(e){return av(e,!0,CX,jX,kP)}function DP(e){return av(e,!0,NX,GX,RP)}function av(e,t,r,i,n){if(!Nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=n.get(e);if(s)return s;const o=VX(e);if(o===0)return e;const a=new Proxy(e,o===2?i:r);return n.set(e,a),a}function mn(e){return ea(e)?mn(e.__v_raw):!!(e&&e.__v_isReactive)}function ea(e){return!!(e&&e.__v_isReadonly)}function tn(e){return!!(e&&e.__v_isShallow)}function _m(e){return e?!!e.__v_raw:!1}function qe(e){const t=e&&e.__v_raw;return t?qe(t):e}function xr(e){return!Et(e,"__v_skip")&&Object.isExtensible(e)&&dP(e,"__v_skip",!0),e}const yi=e=>Nt(e)?ei(e):e,iE=e=>Nt(e)?ov(e):e;function gt(e){return e?e.__v_isRef===!0:!1}function ne(e){return FP(e,!1)}function xf(e){return FP(e,!0)}function FP(e,t){return gt(e)?e:new zX(e,t)}class zX{constructor(t,r){this.dep=new rv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:qe(t),this._value=r?t:yi(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||tn(t)||ea(t);t=i?t:qe(t),Li(t,r)&&(this._rawValue=t,this._value=i?t:yi(t),this.dep.trigger())}}function UP(e){e.dep&&e.dep.trigger()}function $e(e){return gt(e)?e.value:e}function jP(e){return je(e)?e():$e(e)}const qX={get:(e,t,r)=>t==="__v_raw"?e:$e(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const n=e[t];return gt(n)&&!gt(r)?(n.value=r,!0):Reflect.set(e,t,r,i)}};function lv(e){return mn(e)?e:new Proxy(e,qX)}class WX{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new rv,{get:i,set:n}=t(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=n}get value(){return this._value=this._get()}set value(t){this._set(t)}}function nE(e){return new WX(e)}function sE(e){const t=Te(e)?new Array(e.length):{};for(const r in e)t[r]=BP(e,r);return t}class HX{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return EX(qe(this._object),this._key)}}class YX{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function GP(e,t,r){return gt(e)?e:je(e)?new YX(e):Nt(e)&&arguments.length>1?BP(e,t,r):ne(e)}function BP(e,t,r){const i=e[t];return gt(i)?i:new HX(e,t,r)}class JX{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new rv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tp-1,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Bt!==this)return wP(this),!0}get value(){const t=this.dep.track();return EP(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function KX(e,t,r=!1){let i,n;return je(e)?i=e:(i=e.get,n=e.set),new JX(i,n,r)}const VP={GET:"get",HAS:"has",ITERATE:"iterate"},zP={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},f0={},Tg=new WeakMap;let Ua;function qP(){return Ua}function oE(e,t=!1,r=Ua){if(r){let i=Tg.get(r);i||Tg.set(r,i=[]),i.push(e)}}function ZX(e,t,r=at){const{immediate:i,deep:n,once:s,scheduler:o,augmentJob:a,call:l}=r,c=v=>n?v:tn(v)||n===!1||n===0?Vo(v,1):Vo(v);let f,d,p,y,g=!1,w=!1;if(gt(e)?(d=()=>e.value,g=tn(e)):mn(e)?(d=()=>c(e),g=!0):Te(e)?(w=!0,g=e.some(v=>mn(v)||tn(v)),d=()=>e.map(v=>{if(gt(v))return v.value;if(mn(v))return c(v);if(je(v))return l?l(v,2):v()})):je(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){wl();try{p()}finally{Sl()}}const v=Ua;Ua=f;try{return l?l(e,3,[y]):e(y)}finally{Ua=v}}:d=wi,t&&n){const v=d,M=n===!0?1/0:n;d=()=>Vo(v(),M)}const _=tv(),x=()=>{f.stop(),_&&Yx(_.effects,f)};if(s&&t){const v=t;t=(...M)=>{v(...M),x()}}let T=w?new Array(e.length).fill(f0):f0;const S=v=>{if(!(!(f.flags&1)||!f.dirty&&!v))if(t){const M=f.run();if(n||g||(w?M.some((C,L)=>Li(C,T[L])):Li(M,T))){p&&p();const C=Ua;Ua=f;try{const L=[M,T===f0?void 0:w&&T[0]===f0?[]:T,y];l?l(t,3,L):t(...L),T=M}finally{Ua=C}}}else f.run()};return a&&a(S),f=new Dh(d),f.scheduler=o?()=>o(S,!1):S,y=v=>oE(v,!1,f),p=f.onStop=()=>{const v=Tg.get(f);if(v){if(l)l(v,4);else for(const M of v)M();Tg.delete(f)}},t?i?S(!0):T=f.run():o?o(S.bind(null,!0),!0):f.run(),x.pause=f.pause.bind(f),x.resume=f.resume.bind(f),x.stop=x,x}function Vo(e,t=1/0,r){if(t<=0||!Nt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,gt(e))Vo(e.value,t,r);else if(Te(e))for(let i=0;i<e.length;i++)Vo(e[i],t,r);else if(uu(e)||bh(e))e.forEach(i=>{Vo(i,t,r)});else if(Z1(e)){for(const i in e)Vo(e[i],t,r);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Vo(e[i],t,r)}return e}/**
* @vue/runtime-core v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const WP=[];function XX(e){WP.push(e)}function QX(){WP.pop()}function HP(e,t){}const YP={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},eQ={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function hu(e,t,r,i){try{return i?e(...i):e()}catch(n){xl(n,t,r)}}function bn(e,t,r,i){if(je(e)){const n=hu(e,t,r,i);return n&&Jx(n)&&n.catch(s=>{xl(s,t,r)}),n}if(Te(e)){const n=[];for(let s=0;s<e.length;s++)n.push(bn(e[s],t,r,i));return n}}function xl(e,t,r,i=!0){const n=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||at;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,c)===!1)return}a=a.parent}if(s){wl(),hu(s,null,10,[e,l,c]),Sl();return}}tQ(e,r,n,i,o)}function tQ(e,t,r,i=!0,n=!1){if(n)throw e;console.error(e)}let Mp=!1,_w=!1;const ki=[];let Vs=0;const wh=[];let ja=null,ju=0;const JP=Promise.resolve();let aE=null;function As(e){const t=aE||JP;return e?t.then(this?e.bind(this):e):t}function rQ(e){let t=Mp?Vs+1:0,r=ki.length;for(;t<r;){const i=t+r>>>1,n=ki[i],s=Op(n);s<e||s===e&&n.flags&2?t=i+1:r=i}return t}function lE(e){if(!(e.flags&1)){const t=Op(e),r=ki[ki.length-1];!r||!(e.flags&2)&&t>=Op(r)?ki.push(e):ki.splice(rQ(t),0,e),e.flags|=1,KP()}}function KP(){!Mp&&!_w&&(_w=!0,aE=JP.then(ZP))}function Ip(e){Te(e)?wh.push(...e):ja&&e.id===-1?ja.splice(ju+1,0,e):e.flags&1||(wh.push(e),e.flags|=1),KP()}function J4(e,t,r=Mp?Vs+1:0){for(;r<ki.length;r++){const i=ki[r];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;ki.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ag(e){if(wh.length){const t=[...new Set(wh)].sort((r,i)=>Op(r)-Op(i));if(wh.length=0,ja){ja.push(...t);return}for(ja=t,ju=0;ju<ja.length;ju++){const r=ja[ju];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}ja=null,ju=0}}const Op=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ZP(e){_w=!1,Mp=!0;try{for(Vs=0;Vs<ki.length;Vs++){const t=ki[Vs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),hu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vs<ki.length;Vs++){const t=ki[Vs];t&&(t.flags&=-2)}Vs=0,ki.length=0,Ag(),Mp=!1,aE=null,(ki.length||wh.length)&&ZP()}}let Gu,d0=[];function XP(e,t){var r,i;Gu=e,Gu?(Gu.enabled=!0,d0.forEach(({event:n,args:s})=>Gu.emit(n,...s)),d0=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{XP(s,t)}),setTimeout(()=>{Gu||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,d0=[])},3e3)):d0=[]}let Br=null,cv=null;function Cp(e){const t=Br;return Br=e,cv=e&&e.type.__scopeId||null,t}function QP(e){cv=e}function eL(){cv=null}const tL=e=>Tr;function Tr(e,t=Br,r){if(!t||e._n)return e;const i=(...n)=>{i._d&&Ng(-1);const s=Cp(t);let o;try{o=e(...n)}finally{Cp(s),i._d&&Ng(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ct(e,t){if(Br===null)return e;const r=Am(Br),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[s,o,a,l=at]=t[n];s&&(je(s)&&(s={mounted:s,updated:s}),s.deep&&Vo(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ws(e,t,r,i){const n=e.dirs,s=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(wl(),bn(l,r,8,[e.el,a,e,t]),Sl())}}const rL=Symbol("_vte"),iL=e=>e.__isTeleport,Dd=e=>e&&(e.disabled||e.disabled===""),iQ=e=>e&&(e.defer||e.defer===""),K4=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Z4=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ww=(e,t)=>{const r=e&&e.to;return Ke(r)?t?t(r):null:r},nQ={name:"Teleport",__isTeleport:!0,process(e,t,r,i,n,s,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:g,createText:w,createComment:_}}=c,x=Dd(t.props);let{shapeFlag:T,children:S,dynamicChildren:v}=t;if(e==null){const M=t.el=w(""),C=t.anchor=w("");y(M,r,i),y(C,r,i);const L=(k,G)=>{T&16&&(n&&n.isCE&&(n.ce._teleportTarget=k),f(S,k,G,n,s,o,a,l))},R=()=>{const k=t.target=ww(t.props,g),G=nL(k,t,w,y);k&&(o!=="svg"&&K4(k)?o="svg":o!=="mathml"&&Z4(k)&&(o="mathml"),x||(L(k,G),Ey(t)))};x&&(L(r,C),Ey(t)),iQ(t.props)?Jr(R,s):R()}else{t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,C=t.target=e.target,L=t.targetAnchor=e.targetAnchor,R=Dd(e.props),k=R?r:C,G=R?M:L;if(o==="svg"||K4(C)?o="svg":(o==="mathml"||Z4(C))&&(o="mathml"),v?(p(e.dynamicChildren,v,k,n,s,o,a),CE(e,t,!0)):l||d(e,t,k,G,n,s,o,a,!1),x)R?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):p0(t,r,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const W=t.target=ww(t.props,g);W&&p0(t,W,null,c,0)}else R&&p0(t,C,L,c,1);Ey(t)}},remove(e,t,r,{um:i,o:{remove:n}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=e;if(d&&(n(c),n(f)),s&&n(l),o&16){const y=s||!Dd(p);for(let g=0;g<a.length;g++){const w=a[g];i(w,t,r,y,!!w.dynamicChildren)}}},move:p0,hydrate:sQ};function p0(e,t,r,{o:{insert:i},m:n},s=2){s===0&&i(e.targetAnchor,t,r);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,d=s===2;if(d&&i(o,t,r),(!d||Dd(f))&&l&16)for(let p=0;p<c.length;p++)n(c[p],t,r,2);d&&i(a,t,r)}function sQ(e,t,r,i,n,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=t.target=ww(t.props,l);if(p){const y=p._lpa||p.firstChild;if(t.shapeFlag&16)if(Dd(t.props))t.anchor=d(o(e),t,a(e),r,i,n,s),t.targetStart=y,t.targetAnchor=y&&o(y);else{t.anchor=o(e);let g=y;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||nL(p,t,f,c),d(y&&o(y),t,p,r,i,n,s)}Ey(t)}return t.anchor&&o(t.anchor)}const cE=nQ;function Ey(e){const t=e.ctx;if(t&&t.ut){let r=e.targetStart;for(;r&&r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}function nL(e,t,r,i){const n=t.targetStart=r(""),s=t.targetAnchor=r("");return n[rL]=s,e&&(i(n,e),i(s,e)),s}const Ga=Symbol("_leaveCb"),m0=Symbol("_enterCb");function uv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return oi(()=>{e.isMounted=!0}),Ms(()=>{e.isUnmounting=!0}),e}const An=[Function,Array],hv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:An,onEnter:An,onAfterEnter:An,onEnterCancelled:An,onBeforeLeave:An,onLeave:An,onAfterLeave:An,onLeaveCancelled:An,onBeforeAppear:An,onAppear:An,onAfterAppear:An,onAppearCancelled:An},sL=e=>{const t=e.subTree;return t.component?sL(t.component):t},oQ={name:"BaseTransition",props:hv,setup(e,{slots:t}){const r=Nr(),i=uv();return()=>{const n=t.default&&wm(t.default(),!0);if(!n||!n.length)return;const s=oL(n),o=qe(e),{mode:a}=o;if(i.isLeaving)return $b(s);const l=X4(s);if(!l)return $b(s);let c=qc(l,o,i,r,p=>c=p);l.type!==br&&mo(l,c);const f=r.subTree,d=f&&X4(f);if(d&&d.type!==br&&!os(l,d)&&sL(r).type!==br){const p=qc(d,o,i,r);if(mo(d,p),a==="out-in"&&l.type!==br)return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete p.afterLeave},$b(s);a==="in-out"&&l.type!==br&&(p.delayLeave=(y,g,w)=>{const _=aL(i,d);_[String(d.key)]=d,y[Ga]=()=>{g(),y[Ga]=void 0,delete c.delayedLeave},c.delayedLeave=w})}return s}}};function oL(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==br){t=r;break}}return t}const uE=oQ;function aL(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function qc(e,t,r,i,n){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:_,onAppear:x,onAfterAppear:T,onAppearCancelled:S}=t,v=String(e.key),M=aL(r,e),C=(k,G)=>{k&&bn(k,i,9,G)},L=(k,G)=>{const W=G[1];C(k,G),Te(k)?k.every(V=>V.length<=1)&&W():k.length<=1&&W()},R={mode:o,persisted:a,beforeEnter(k){let G=l;if(!r.isMounted)if(s)G=_||l;else return;k[Ga]&&k[Ga](!0);const W=M[v];W&&os(e,W)&&W.el[Ga]&&W.el[Ga](),C(G,[k])},enter(k){let G=c,W=f,V=d;if(!r.isMounted)if(s)G=x||c,W=T||f,V=S||d;else return;let z=!1;const ee=k[m0]=u=>{z||(z=!0,u?C(V,[k]):C(W,[k]),R.delayedLeave&&R.delayedLeave(),k[m0]=void 0)};G?L(G,[k,ee]):ee()},leave(k,G){const W=String(e.key);if(k[m0]&&k[m0](!0),r.isUnmounting)return G();C(p,[k]);let V=!1;const z=k[Ga]=ee=>{V||(V=!0,G(),ee?C(w,[k]):C(g,[k]),k[Ga]=void 0,M[W]===e&&delete M[W])};M[W]=e,y?L(y,[k,z]):z()},clone(k){const G=qc(k,t,r,i,n);return n&&n(G),G}};return R}function $b(e){if(Sm(e))return e=xs(e),e.children=null,e}function X4(e){if(!Sm(e))return iL(e.type)&&e.children?oL(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&je(r.default))return r.default()}}function mo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,mo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wm(e,t=!1,r){let i=[],n=0;for(let s=0;s<e.length;s++){let o=e[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===Lt?(o.patchFlag&128&&n++,i=i.concat(wm(o.children,t,a))):(t||o.type!==br)&&i.push(a!=null?xs(o,{key:a}):o)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function ot(e,t){return je(e)?ct({name:e.name},t,{setup:e}):e}function lL(){const e=Nr();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function hE(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Mg(e){const t=Nr(),r=xf(null);if(t){const n=t.refs===at?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>r.value,set:s=>r.value=s})}return r}function Ig(e,t,r,i,n=!1){if(Te(e)){e.forEach((g,w)=>Ig(g,t&&(Te(t)?t[w]:t),r,i,n));return}if(nl(i)&&!n)return;const s=i.shapeFlag&4?Am(i.component):i.el,o=n?null:s,{i:a,r:l}=e,c=t&&t.r,f=a.refs===at?a.refs={}:a.refs,d=a.setupState,p=qe(d),y=d===at?()=>!1:g=>Et(p,g);if(c!=null&&c!==l&&(Ke(c)?(f[c]=null,y(c)&&(d[c]=null)):gt(c)&&(c.value=null)),je(l))hu(l,a,12,[o,f]);else{const g=Ke(l),w=gt(l);if(g||w){const _=()=>{if(e.f){const x=g?y(l)?d[l]:f[l]:l.value;n?Te(x)&&Yx(x,s):Te(x)?x.includes(s)||x.push(s):g?(f[l]=[s],y(l)&&(d[l]=f[l])):(l.value=[s],e.k&&(f[e.k]=l.value))}else g?(f[l]=o,y(l)&&(d[l]=o)):w&&(l.value=o,e.k&&(f[e.k]=o))};o?(_.id=-1,Jr(_,r)):_()}}}let Q4=!1;const Au=()=>{Q4||(console.error("Hydration completed but contains mismatches."),Q4=!0)},aQ=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",lQ=e=>e.namespaceURI.includes("MathML"),y0=e=>{if(e.nodeType===1){if(aQ(e))return"svg";if(lQ(e))return"mathml"}},th=e=>e.nodeType===8;function cQ(e){const{mt:t,p:r,o:{patchProp:i,createText:n,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(S,v)=>{if(!v.hasChildNodes()){r(null,S,v),Ag(),v._vnode=S;return}d(v.firstChild,S,null,null,null),Ag(),v._vnode=S},d=(S,v,M,C,L,R=!1)=>{R=R||!!v.dynamicChildren;const k=th(S)&&S.data==="[",G=()=>w(S,v,M,C,L,k),{type:W,ref:V,shapeFlag:z,patchFlag:ee}=v;let u=S.nodeType;v.el=S,ee===-2&&(R=!1,v.dynamicChildren=null);let m=null;switch(W){case so:u!==3?v.children===""?(l(v.el=n(""),o(S),S),m=S):m=G():(S.data!==v.children&&(Au(),S.data=v.children),m=s(S));break;case br:T(S)?(m=s(S),x(v.el=S.content.firstChild,S,M)):u!==8||k?m=G():m=s(S);break;case sl:if(k&&(S=s(S),u=S.nodeType),u===1||u===3){m=S;const E=!v.children.length;for(let N=0;N<v.staticCount;N++)E&&(v.children+=m.nodeType===1?m.outerHTML:m.data),N===v.staticCount-1&&(v.anchor=m),m=s(m);return k?s(m):m}else G();break;case Lt:k?m=g(S,v,M,C,L,R):m=G();break;default:if(z&1)(u!==1||v.type.toLowerCase()!==S.tagName.toLowerCase())&&!T(S)?m=G():m=p(S,v,M,C,L,R);else if(z&6){v.slotScopeIds=L;const E=o(S);if(k?m=_(S):th(S)&&S.data==="teleport start"?m=_(S,S.data,"teleport end"):m=s(S),t(v,E,null,M,C,y0(E),R),nl(v)){let N;k?(N=Xe(Lt),N.anchor=m?m.previousSibling:E.lastChild):N=S.nodeType===3?oo(""):Xe("div"),N.el=S,v.component.subTree=N}}else z&64?u!==8?m=G():m=v.type.hydrate(S,v,M,C,L,R,e,y):z&128&&(m=v.type.hydrate(S,v,M,C,y0(o(S)),L,R,e,d))}return V!=null&&Ig(V,null,C,v),m},p=(S,v,M,C,L,R)=>{R=R||!!v.dynamicChildren;const{type:k,props:G,patchFlag:W,shapeFlag:V,dirs:z,transition:ee}=v,u=k==="input"||k==="option";if(u||W!==-1){z&&Ws(v,null,M,"created");let m=!1;if(T(S)){m=zL(C,ee)&&M&&M.vnode.props&&M.vnode.props.appear;const N=S.content.firstChild;m&&ee.beforeEnter(N),x(N,S,M),v.el=S=N}if(V&16&&!(G&&(G.innerHTML||G.textContent))){let N=y(S.firstChild,v,S,M,C,L,R);for(;N;){g0(S,1)||Au();const q=N;N=N.nextSibling,a(q)}}else if(V&8){let N=v.children;N[0]===`
`&&(S.tagName==="PRE"||S.tagName==="TEXTAREA")&&(N=N.slice(1)),S.textContent!==N&&(g0(S,0)||Au(),S.textContent=v.children)}if(G){if(u||!R||W&48){const N=S.tagName.includes("-");for(const q in G)(u&&(q.endsWith("value")||q==="indeterminate")||cu(q)&&!il(q)||q[0]==="."||N)&&i(S,q,null,G[q],void 0,M)}else if(G.onClick)i(S,"onClick",null,G.onClick,void 0,M);else if(W&4&&mn(G.style))for(const N in G.style)G.style[N]}let E;(E=G&&G.onVnodeBeforeMount)&&Wi(E,M,v),z&&Ws(v,null,M,"beforeMount"),((E=G&&G.onVnodeMounted)||z||m)&&QL(()=>{E&&Wi(E,M,v),m&&ee.enter(S),z&&Ws(v,null,M,"mounted")},C)}return S.nextSibling},y=(S,v,M,C,L,R,k)=>{k=k||!!v.dynamicChildren;const G=v.children,W=G.length;for(let V=0;V<W;V++){const z=k?G[V]:G[V]=Yi(G[V]),ee=z.type===so;S?(ee&&!k&&V+1<W&&Yi(G[V+1]).type===so&&(l(n(S.data.slice(z.children.length)),M,s(S)),S.data=z.children),S=d(S,z,C,L,R,k)):ee&&!z.children?l(z.el=n(""),M):(g0(M,1)||Au(),r(null,z,M,null,C,L,y0(M),R))}return S},g=(S,v,M,C,L,R)=>{const{slotScopeIds:k}=v;k&&(L=L?L.concat(k):k);const G=o(S),W=y(s(S),v,G,M,C,L,R);return W&&th(W)&&W.data==="]"?s(v.anchor=W):(Au(),l(v.anchor=c("]"),G,W),W)},w=(S,v,M,C,L,R)=>{if(g0(S.parentElement,1)||Au(),v.el=null,R){const W=_(S);for(;;){const V=s(S);if(V&&V!==W)a(V);else break}}const k=s(S),G=o(S);return a(S),r(null,v,G,k,M,C,y0(G),L),k},_=(S,v="[",M="]")=>{let C=0;for(;S;)if(S=s(S),S&&th(S)&&(S.data===v&&C++,S.data===M)){if(C===0)return s(S);C--}return S},x=(S,v,M)=>{const C=v.parentNode;C&&C.replaceChild(S,v);let L=M;for(;L;)L.vnode.el===v&&(L.vnode.el=L.subTree.el=S),L=L.parent},T=S=>S.nodeType===1&&S.tagName==="TEMPLATE";return[f,d]}const eM="data-allow-mismatch",uQ={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function g0(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(eM);)e=e.parentElement;const r=e&&e.getAttribute(eM);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return t===0&&i.includes("children")?!0:r.split(",").includes(uQ[t])}}const cL=(e=1e4)=>t=>{const r=requestIdleCallback(t,{timeout:e});return()=>cancelIdleCallback(r)};function hQ(e){const{top:t,left:r,bottom:i,right:n}=e.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(t>0&&t<s||i>0&&i<s)&&(r>0&&r<o||n>0&&n<o)}const uL=e=>(t,r)=>{const i=new IntersectionObserver(n=>{for(const s of n)if(s.isIntersecting){i.disconnect(),t();break}},e);return r(n=>{if(n instanceof Element){if(hQ(n))return t(),i.disconnect(),!1;i.observe(n)}}),()=>i.disconnect()},hL=e=>t=>{if(e){const r=matchMedia(e);if(r.matches)t();else return r.addEventListener("change",t,{once:!0}),()=>r.removeEventListener("change",t)}},fL=(e=[])=>(t,r)=>{Ke(e)&&(e=[e]);let i=!1;const n=o=>{i||(i=!0,s(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{r(o=>{for(const a of e)o.removeEventListener(a,n)})};return r(o=>{for(const a of e)o.addEventListener(a,n,{once:!0})}),s};function fQ(e,t){if(th(e)&&e.data==="["){let r=1,i=e.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(th(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else t(e)}const nl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function fE(e){je(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:i,delay:n=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let g;return c||(g=c=t().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),l)return new Promise((_,x)=>{l(w,()=>_(p()),()=>x(w),d+1)});throw w}).then(w=>g!==c&&c?c:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),f=w,w)))};return ot({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,w,_){const x=s?()=>{const T=s(_,S=>fQ(g,S));T&&(w.bum||(w.bum=[])).push(T)}:_;f?x():y().then(()=>!w.isUnmounted&&x())},get __asyncResolved(){return f},setup(){const g=jr;if(hE(g),f)return()=>Nb(f,g);const w=S=>{c=null,xl(S,g,13,!i)};if(a&&g.suspense||Tm)return y().then(S=>()=>Nb(S,g)).catch(S=>(w(S),()=>i?Xe(i,{error:S}):null));const _=ne(!1),x=ne(),T=ne(!!n);return n&&setTimeout(()=>{T.value=!1},n),o!=null&&setTimeout(()=>{if(!_.value&&!x.value){const S=new Error(`Async component timed out after ${o}ms.`);w(S),x.value=S}},o),y().then(()=>{_.value=!0,g.parent&&Sm(g.parent.vnode)&&g.parent.update()}).catch(S=>{w(S),x.value=S}),()=>{if(_.value&&f)return Nb(f,g);if(x.value&&i)return Xe(i,{error:x.value});if(r&&!T.value)return Xe(r)}}})}function Nb(e,t){const{ref:r,props:i,children:n,ce:s}=t.vnode,o=Xe(e,i,n);return o.ref=r,o.ce=s,delete t.vnode.ce,o}const Sm=e=>e.type.__isKeepAlive,dQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=Nr(),i=r.ctx;if(!i.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const n=new Map,s=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=i,p=d("div");i.activate=(T,S,v,M,C)=>{const L=T.component;c(T,S,v,0,a),l(L.vnode,T,S,v,L,a,M,T.slotScopeIds,C),Jr(()=>{L.isDeactivated=!1,L.a&&_h(L.a);const R=T.props&&T.props.onVnodeMounted;R&&Wi(R,L.parent,T)},a)},i.deactivate=T=>{const S=T.component;Cg(S.m),Cg(S.a),c(T,p,null,1,a),Jr(()=>{S.da&&_h(S.da);const v=T.props&&T.props.onVnodeUnmounted;v&&Wi(v,S.parent,T),S.isDeactivated=!0},a)};function y(T){Pb(T),f(T,r,a,!0)}function g(T){n.forEach((S,v)=>{const M=Nw(S.type);M&&!T(M)&&w(v)})}function w(T){const S=n.get(T);S&&(!o||!os(S,o))?y(S):o&&Pb(o),n.delete(T),s.delete(T)}Xr(()=>[e.include,e.exclude],([T,S])=>{T&&g(v=>_d(T,v)),S&&g(v=>!_d(S,v))},{flush:"post",deep:!0});let _=null;const x=()=>{_!=null&&($g(r.subTree.type)?Jr(()=>{n.set(_,v0(r.subTree))},r.subTree.suspense):n.set(_,v0(r.subTree)))};return oi(x),Ef(x),Ms(()=>{n.forEach(T=>{const{subTree:S,suspense:v}=r,M=v0(S);if(T.type===M.type&&T.key===M.key){Pb(M);const C=M.component.da;C&&Jr(C,v);return}y(T)})}),()=>{if(_=null,!t.default)return o=null;const T=t.default(),S=T[0];if(T.length>1)return o=null,T;if(!Ss(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let v=v0(S);if(v.type===br)return o=null,v;const M=v.type,C=Nw(nl(v)?v.type.__asyncResolved||{}:M),{include:L,exclude:R,max:k}=e;if(L&&(!C||!_d(L,C))||R&&C&&_d(R,C))return v.shapeFlag&=-257,o=v,S;const G=v.key==null?M:v.key,W=n.get(G);return v.el&&(v=xs(v),S.shapeFlag&128&&(S.ssContent=v)),_=G,W?(v.el=W.el,v.component=W.component,v.transition&&mo(v,v.transition),v.shapeFlag|=512,s.delete(G),s.add(G)):(s.add(G),k&&s.size>parseInt(k,10)&&w(s.values().next().value)),v.shapeFlag|=256,o=v,$g(S.type)?S:v}}},dL=dQ;function _d(e,t){return Te(e)?e.some(r=>_d(r,t)):Ke(e)?e.split(",").includes(t):eX(e)?(e.lastIndex=0,e.test(t)):!1}function dE(e,t){pL(e,"a",t)}function pE(e,t){pL(e,"da",t)}function pL(e,t,r=jr){const i=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(fv(t,i,r),r){let n=r.parent;for(;n&&n.parent;)Sm(n.parent.vnode)&&pQ(i,t,r,n),n=n.parent}}function pQ(e,t,r,i){const n=fv(t,e,i,!0);fu(()=>{Yx(i[t],n)},r)}function Pb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function v0(e){return e.shapeFlag&128?e.ssContent:e}function fv(e,t,r=jr,i=!1){if(r){const n=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...o)=>{wl();const a=Hc(r),l=bn(t,r,e,o);return a(),Sl(),l});return i?n.unshift(s):n.push(s),s}}const sa=e=>(t,r=jr)=>{(!Tm||e==="sp")&&fv(e,(...i)=>t(...i),r)},xm=sa("bm"),oi=sa("m"),mE=sa("bu"),Ef=sa("u"),Ms=sa("bum"),fu=sa("um"),yE=sa("sp"),gE=sa("rtg"),vE=sa("rtc");function bE(e,t=jr){fv("ec",e,t)}const _E="components",mQ="directives";function vr(e,t){return SE(_E,e,!0,t)||e}const mL=Symbol.for("v-ndc");function wE(e){return Ke(e)?SE(_E,e,!1)||e:e||mL}function $t(e){return SE(mQ,e)}function SE(e,t,r=!0,i=!1){const n=Br||jr;if(n){const s=n.type;if(e===_E){const a=Nw(s,!1);if(a&&(a===t||a===Xt(t)||a===bl(Xt(t))))return s}const o=tM(n[e]||s[e],t)||tM(n.appContext[e],t);return!o&&i?s:o}}function tM(e,t){return e&&(e[t]||e[Xt(t)]||e[bl(Xt(t))])}function El(e,t,r,i){let n;const s=r&&r[i],o=Te(e);if(o||Ke(e)){const a=o&&mn(e);let l=!1;a&&(l=!tn(e),e=iv(e)),n=new Array(e.length);for(let c=0,f=e.length;c<f;c++)n[c]=t(l?yi(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,s&&s[a])}else if(Nt(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];n[l]=t(e[f],f,l,s&&s[l])}}else n=[];return r&&(r[i]=n),n}function yL(e,t){for(let r=0;r<t.length;r++){const i=t[r];if(Te(i))for(let n=0;n<i.length;n++)e[i[n].name]=i[n].fn;else i&&(e[i.name]=i.key?(...n)=>{const s=i.fn(...n);return s&&(s.key=i.key),s}:i.fn)}return e}function cs(e,t,r={},i,n){if(Br.ce||Br.parent&&nl(Br.parent)&&Br.parent.ce)return t!=="default"&&(r.name=t),pe(),qt(Lt,null,[Xe("slot",r,i&&i())],64);let s=e[t];s&&s._c&&(s._d=!1),pe();const o=s&&xE(s(r)),a=qt(Lt,{key:(r.key||o&&o.key||`_${t}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&e._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function xE(e){return e.some(t=>Ss(t)?!(t.type===br||t.type===Lt&&!xE(t.children)):!0)?e:null}function gL(e,t){const r={};for(const i in e)r[t&&/[A-Z]/.test(i)?`on:${i}`:Sc(i)]=e[i];return r}const Sw=e=>e?ok(e)?Am(e):Sw(e.parent):null,Fd=ct(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Sw(e.parent),$root:e=>Sw(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>EE(e),$forceUpdate:e=>e.f||(e.f=()=>{lE(e.update)}),$nextTick:e=>e.n||(e.n=As.bind(e.proxy)),$watch:e=>$Q.bind(e)}),Lb=(e,t)=>e!==at&&!e.__isScriptSetup&&Et(e,t),xw={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return n[t];case 4:return r[t];case 3:return s[t]}else{if(Lb(i,t))return o[t]=1,i[t];if(n!==at&&Et(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&Et(c,t))return o[t]=3,s[t];if(r!==at&&Et(r,t))return o[t]=4,r[t];Ew&&(o[t]=0)}}const f=Fd[t];let d,p;if(f)return t==="$attrs"&&xi(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==at&&Et(r,t))return o[t]=4,r[t];if(p=l.config.globalProperties,Et(p,t))return p[t]},set({_:e},t,r){const{data:i,setupState:n,ctx:s}=e;return Lb(n,t)?(n[t]=r,!0):i!==at&&Et(i,t)?(i[t]=r,!0):Et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:n,propsOptions:s}},o){let a;return!!r[o]||e!==at&&Et(e,o)||Lb(t,o)||(a=s[0])&&Et(a,o)||Et(i,o)||Et(Fd,o)||Et(n.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Et(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},yQ=ct({},xw,{get(e,t){if(t!==Symbol.unscopables)return xw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!aX(t)}});function vL(){return null}function bL(){return null}function _L(e){}function wL(e){}function SL(){return null}function xL(){}function EL(e,t){return null}function TL(){return ML().slots}function AL(){return ML().attrs}function ML(){const e=Nr();return e.setupContext||(e.setupContext=uk(e))}function $p(e){return Te(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function IL(e,t){const r=$p(e);for(const i in t){if(i.startsWith("__skip"))continue;let n=r[i];n?Te(n)||je(n)?n=r[i]={type:n,default:t[i]}:n.default=t[i]:n===null&&(n=r[i]={default:t[i]}),n&&t[`__skip_${i}`]&&(n.skipFactory=!0)}return r}function OL(e,t){return!e||!t?e||t:Te(e)&&Te(t)?e.concat(t):ct({},$p(e),$p(t))}function CL(e,t){const r={};for(const i in e)t.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>e[i]});return r}function $L(e){const t=Nr();let r=e();return Ow(),Jx(r)&&(r=r.catch(i=>{throw Hc(t),i})),[r,()=>Hc(t)]}let Ew=!0;function gQ(e){const t=EE(e),r=e.proxy,i=e.ctx;Ew=!1,t.beforeCreate&&rM(t.beforeCreate,e,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:g,activated:w,deactivated:_,beforeDestroy:x,beforeUnmount:T,destroyed:S,unmounted:v,render:M,renderTracked:C,renderTriggered:L,errorCaptured:R,serverPrefetch:k,expose:G,inheritAttrs:W,components:V,directives:z,filters:ee}=t;if(c&&vQ(c,i,null),o)for(const E in o){const N=o[E];je(N)&&(i[E]=N.bind(r))}if(n){const E=n.call(r,r);Nt(E)&&(e.data=ei(E))}if(Ew=!0,s)for(const E in s){const N=s[E],q=je(N)?N.bind(r,r):je(N.get)?N.get.bind(r,r):wi,K=!je(N)&&je(N.set)?N.set.bind(r):wi,he=tt({get:q,set:K});Object.defineProperty(i,E,{enumerable:!0,configurable:!0,get:()=>he.value,set:oe=>he.value=oe})}if(a)for(const E in a)NL(a[E],i,r,E);if(l){const E=je(l)?l.call(r):l;Reflect.ownKeys(E).forEach(N=>{TE(N,E[N])})}f&&rM(f,e,"c");function m(E,N){Te(N)?N.forEach(q=>E(q.bind(r))):N&&E(N.bind(r))}if(m(xm,d),m(oi,p),m(mE,y),m(Ef,g),m(dE,w),m(pE,_),m(bE,R),m(vE,C),m(gE,L),m(Ms,T),m(fu,v),m(yE,k),Te(G))if(G.length){const E=e.exposed||(e.exposed={});G.forEach(N=>{Object.defineProperty(E,N,{get:()=>r[N],set:q=>r[N]=q})})}else e.exposed||(e.exposed={});M&&e.render===wi&&(e.render=M),W!=null&&(e.inheritAttrs=W),V&&(e.components=V),z&&(e.directives=z),k&&hE(e)}function vQ(e,t,r=wi){Te(e)&&(e=Tw(e));for(const i in e){const n=e[i];let s;Nt(n)?"default"in n?s=zr(n.from||i,n.default,!0):s=zr(n.from||i):s=zr(n),gt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function rM(e,t,r){bn(Te(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function NL(e,t,r,i){let n=i.includes(".")?HL(r,i):()=>r[i];if(Ke(e)){const s=t[e];je(s)&&Xr(n,s)}else if(je(e))Xr(n,e.bind(r));else if(Nt(e))if(Te(e))e.forEach(s=>NL(s,t,r,i));else{const s=je(e.handler)?e.handler.bind(r):t[e.handler];je(s)&&Xr(n,s,e)}}function EE(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!n.length&&!r&&!i?l=t:(l={},n.length&&n.forEach(c=>Og(l,c,o,!0)),Og(l,t,o)),Nt(t)&&s.set(t,l),l}function Og(e,t,r,i=!1){const{mixins:n,extends:s}=t;s&&Og(e,s,r,!0),n&&n.forEach(o=>Og(e,o,r,!0));for(const o in t)if(!(i&&o==="expose")){const a=bQ[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const bQ={data:iM,props:nM,emits:nM,methods:wd,computed:wd,beforeCreate:Mi,created:Mi,beforeMount:Mi,mounted:Mi,beforeUpdate:Mi,updated:Mi,beforeDestroy:Mi,beforeUnmount:Mi,destroyed:Mi,unmounted:Mi,activated:Mi,deactivated:Mi,errorCaptured:Mi,serverPrefetch:Mi,components:wd,directives:wd,watch:wQ,provide:iM,inject:_Q};function iM(e,t){return t?e?function(){return ct(je(e)?e.call(this,this):e,je(t)?t.call(this,this):t)}:t:e}function _Q(e,t){return wd(Tw(e),Tw(t))}function Tw(e){if(Te(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Mi(e,t){return e?[...new Set([].concat(e,t))]:t}function wd(e,t){return e?ct(Object.create(null),e,t):t}function nM(e,t){return e?Te(e)&&Te(t)?[...new Set([...e,...t])]:ct(Object.create(null),$p(e),$p(t??{})):t}function wQ(e,t){if(!e)return t;if(!t)return e;const r=ct(Object.create(null),e);for(const i in t)r[i]=Mi(e[i],t[i]);return r}function PL(){return{app:null,config:{isNativeTag:bd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let SQ=0;function xQ(e,t){return function(i,n=null){je(i)||(i=ct({},i)),n!=null&&!Nt(n)&&(n=null);const s=PL(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:SQ++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:jE,get config(){return s.config},set config(f){},use(f,...d){return o.has(f)||(f&&je(f.install)?(o.add(f),f.install(c,...d)):je(f)&&(o.add(f),f(c,...d))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,d){return d?(s.components[f]=d,c):s.components[f]},directive(f,d){return d?(s.directives[f]=d,c):s.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Xe(i,n);return y.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,f):e(y,f,p),l=!0,c._container=f,f.__vue_app__=c,Am(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(bn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,d){return s.provides[f]=d,c},runWithContext(f){const d=Ec;Ec=c;try{return f()}finally{Ec=d}}};return c}}let Ec=null;function TE(e,t){if(jr){let r=jr.provides;const i=jr.parent&&jr.parent.provides;i===r&&(r=jr.provides=Object.create(i)),r[e]=t}}function zr(e,t,r=!1){const i=jr||Br;if(i||Ec){const n=Ec?Ec._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&je(t)?t.call(i&&i.proxy):t}}function AE(){return!!(jr||Br||Ec)}const LL={},kL=()=>Object.create(LL),RL=e=>Object.getPrototypeOf(e)===LL;function EQ(e,t,r,i=!1){const n={},s=kL();e.propsDefaults=Object.create(null),DL(e,t,n,s);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);r?e.props=i?n:rE(n):e.type.props?e.props=n:e.props=s,e.attrs=s}function TQ(e,t,r,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=e,a=qe(n),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(dv(e.emitsOptions,p))continue;const y=t[p];if(l)if(Et(s,p))y!==s[p]&&(s[p]=y,c=!0);else{const g=Xt(p);n[g]=Aw(l,a,g,y,e,!1)}else y!==s[p]&&(s[p]=y,c=!0)}}}else{DL(e,t,n,s)&&(c=!0);let f;for(const d in a)(!t||!Et(t,d)&&((f=Zi(d))===d||!Et(t,f)))&&(l?r&&(r[d]!==void 0||r[f]!==void 0)&&(n[d]=Aw(l,a,d,void 0,e,!0)):delete n[d]);if(s!==a)for(const d in s)(!t||!Et(t,d))&&(delete s[d],c=!0)}c&&Yo(e.attrs,"set","")}function DL(e,t,r,i){const[n,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(il(l))continue;const c=t[l];let f;n&&Et(n,f=Xt(l))?!s||!s.includes(f)?r[f]=c:(a||(a={}))[f]=c:dv(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=qe(r),c=a||at;for(let f=0;f<s.length;f++){const d=s[f];r[d]=Aw(n,l,d,c[d],e,!Et(c,d))}}return o}function Aw(e,t,r,i,n,s){const o=e[r];if(o!=null){const a=Et(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&je(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const f=Hc(n);i=c[r]=l.call(null,t),f()}}else i=l;n.ce&&n.ce._setProp(r,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Zi(r))&&(i=!0))}return i}const AQ=new WeakMap;function FL(e,t,r=!1){const i=r?AQ:t.propsCache,n=i.get(e);if(n)return n;const s=e.props,o={},a=[];let l=!1;if(!je(e)){const f=d=>{l=!0;const[p,y]=FL(d,t,!0);ct(o,p),y&&a.push(...y)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!s&&!l)return Nt(e)&&i.set(e,vh),vh;if(Te(s))for(let f=0;f<s.length;f++){const d=Xt(s[f]);sM(d)&&(o[d]=at)}else if(s)for(const f in s){const d=Xt(f);if(sM(d)){const p=s[f],y=o[d]=Te(p)||je(p)?{type:p}:ct({},p),g=y.type;let w=!1,_=!0;if(Te(g))for(let x=0;x<g.length;++x){const T=g[x],S=je(T)&&T.name;if(S==="Boolean"){w=!0;break}else S==="String"&&(_=!1)}else w=je(g)&&g.name==="Boolean";y[0]=w,y[1]=_,(w||Et(y,"default"))&&a.push(d)}}const c=[o,a];return Nt(e)&&i.set(e,c),c}function sM(e){return e[0]!=="$"&&!il(e)}const UL=e=>e[0]==="_"||e==="$stable",ME=e=>Te(e)?e.map(Yi):[Yi(e)],MQ=(e,t,r)=>{if(t._n)return t;const i=Tr((...n)=>ME(t(...n)),r);return i._c=!1,i},jL=(e,t,r)=>{const i=e._ctx;for(const n in e){if(UL(n))continue;const s=e[n];if(je(s))t[n]=MQ(n,s,i);else if(s!=null){const o=ME(s);t[n]=()=>o}}},GL=(e,t)=>{const r=ME(t);e.slots.default=()=>r},BL=(e,t,r)=>{for(const i in t)(r||i!=="_")&&(e[i]=t[i])},IQ=(e,t,r)=>{const i=e.slots=kL();if(e.vnode.shapeFlag&32){const n=t._;n?(BL(i,t,r),r&&dP(i,"_",n,!0)):jL(t,i)}else t&&GL(e,t)},OQ=(e,t,r)=>{const{vnode:i,slots:n}=e;let s=!0,o=at;if(i.shapeFlag&32){const a=t._;a?r&&a===1?s=!1:BL(n,t,r):(s=!t.$stable,jL(t,n)),o=t}else t&&(GL(e,t),o={default:1});if(s)for(const a in n)!UL(a)&&o[a]==null&&delete n[a]},Jr=QL;function IE(e){return VL(e)}function OE(e){return VL(e,cQ)}function VL(e,t){const r=pP();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=wi,insertStaticContent:g}=e,w=(B,F,J,ae=null,se=null,O=null,U=void 0,I=null,P=!!F.dynamicChildren)=>{if(B===F)return;B&&!os(B,F)&&(ae=vt(B),oe(B,se,O,!0),B=null),F.patchFlag===-2&&(P=!1,F.dynamicChildren=null);const{type:j,ref:Z,shapeFlag:re}=F;switch(j){case so:_(B,F,J,ae);break;case br:x(B,F,J,ae);break;case sl:B==null&&T(F,J,ae,U);break;case Lt:V(B,F,J,ae,se,O,U,I,P);break;default:re&1?M(B,F,J,ae,se,O,U,I,P):re&6?z(B,F,J,ae,se,O,U,I,P):(re&64||re&128)&&j.process(B,F,J,ae,se,O,U,I,P,ht)}Z!=null&&se&&Ig(Z,B&&B.ref,O,F||B,!F)},_=(B,F,J,ae)=>{if(B==null)i(F.el=a(F.children),J,ae);else{const se=F.el=B.el;F.children!==B.children&&c(se,F.children)}},x=(B,F,J,ae)=>{B==null?i(F.el=l(F.children||""),J,ae):F.el=B.el},T=(B,F,J,ae)=>{[B.el,B.anchor]=g(B.children,F,J,ae,B.el,B.anchor)},S=({el:B,anchor:F},J,ae)=>{let se;for(;B&&B!==F;)se=p(B),i(B,J,ae),B=se;i(F,J,ae)},v=({el:B,anchor:F})=>{let J;for(;B&&B!==F;)J=p(B),n(B),B=J;n(F)},M=(B,F,J,ae,se,O,U,I,P)=>{F.type==="svg"?U="svg":F.type==="math"&&(U="mathml"),B==null?C(F,J,ae,se,O,U,I,P):k(B,F,se,O,U,I,P)},C=(B,F,J,ae,se,O,U,I)=>{let P,j;const{props:Z,shapeFlag:re,transition:te,dirs:Y}=B;if(P=B.el=o(B.type,O,Z&&Z.is,Z),re&8?f(P,B.children):re&16&&R(B.children,P,null,ae,se,kb(B,O),U,I),Y&&Ws(B,null,ae,"created"),L(P,B,B.scopeId,U,ae),Z){for(const ve in Z)ve!=="value"&&!il(ve)&&s(P,ve,null,Z[ve],O,ae);"value"in Z&&s(P,"value",null,Z.value,O),(j=Z.onVnodeBeforeMount)&&Wi(j,ae,B)}Y&&Ws(B,null,ae,"beforeMount");const X=zL(se,te);X&&te.beforeEnter(P),i(P,F,J),((j=Z&&Z.onVnodeMounted)||X||Y)&&Jr(()=>{j&&Wi(j,ae,B),X&&te.enter(P),Y&&Ws(B,null,ae,"mounted")},se)},L=(B,F,J,ae,se)=>{if(J&&y(B,J),ae)for(let O=0;O<ae.length;O++)y(B,ae[O]);if(se){let O=se.subTree;if(F===O||$g(O.type)&&(O.ssContent===F||O.ssFallback===F)){const U=se.vnode;L(B,U,U.scopeId,U.slotScopeIds,se.parent)}}},R=(B,F,J,ae,se,O,U,I,P=0)=>{for(let j=P;j<B.length;j++){const Z=B[j]=I?Ba(B[j]):Yi(B[j]);w(null,Z,F,J,ae,se,O,U,I)}},k=(B,F,J,ae,se,O,U)=>{const I=F.el=B.el;let{patchFlag:P,dynamicChildren:j,dirs:Z}=F;P|=B.patchFlag&16;const re=B.props||at,te=F.props||at;let Y;if(J&&Rl(J,!1),(Y=te.onVnodeBeforeUpdate)&&Wi(Y,J,F,B),Z&&Ws(F,B,J,"beforeUpdate"),J&&Rl(J,!0),(re.innerHTML&&te.innerHTML==null||re.textContent&&te.textContent==null)&&f(I,""),j?G(B.dynamicChildren,j,I,J,ae,kb(F,se),O):U||N(B,F,I,null,J,ae,kb(F,se),O,!1),P>0){if(P&16)W(I,re,te,J,se);else if(P&2&&re.class!==te.class&&s(I,"class",null,te.class,se),P&4&&s(I,"style",re.style,te.style,se),P&8){const X=F.dynamicProps;for(let ve=0;ve<X.length;ve++){const Ie=X[ve],mt=re[Ie],Wt=te[Ie];(Wt!==mt||Ie==="value")&&s(I,Ie,mt,Wt,se,J)}}P&1&&B.children!==F.children&&f(I,F.children)}else!U&&j==null&&W(I,re,te,J,se);((Y=te.onVnodeUpdated)||Z)&&Jr(()=>{Y&&Wi(Y,J,F,B),Z&&Ws(F,B,J,"updated")},ae)},G=(B,F,J,ae,se,O,U)=>{for(let I=0;I<F.length;I++){const P=B[I],j=F[I],Z=P.el&&(P.type===Lt||!os(P,j)||P.shapeFlag&70)?d(P.el):J;w(P,j,Z,null,ae,se,O,U,!0)}},W=(B,F,J,ae,se)=>{if(F!==J){if(F!==at)for(const O in F)!il(O)&&!(O in J)&&s(B,O,F[O],null,se,ae);for(const O in J){if(il(O))continue;const U=J[O],I=F[O];U!==I&&O!=="value"&&s(B,O,I,U,se,ae)}"value"in J&&s(B,"value",F.value,J.value,se)}},V=(B,F,J,ae,se,O,U,I,P)=>{const j=F.el=B?B.el:a(""),Z=F.anchor=B?B.anchor:a("");let{patchFlag:re,dynamicChildren:te,slotScopeIds:Y}=F;Y&&(I=I?I.concat(Y):Y),B==null?(i(j,J,ae),i(Z,J,ae),R(F.children||[],J,Z,se,O,U,I,P)):re>0&&re&64&&te&&B.dynamicChildren?(G(B.dynamicChildren,te,J,se,O,U,I),(F.key!=null||se&&F===se.subTree)&&CE(B,F,!0)):N(B,F,J,Z,se,O,U,I,P)},z=(B,F,J,ae,se,O,U,I,P)=>{F.slotScopeIds=I,B==null?F.shapeFlag&512?se.ctx.activate(F,J,ae,U,P):ee(F,J,ae,se,O,U,P):u(B,F,P)},ee=(B,F,J,ae,se,O,U)=>{const I=B.component=sk(B,ae,se);if(Sm(B)&&(I.ctx.renderer=ht),ak(I,!1,U),I.asyncDep){if(se&&se.registerDep(I,m,U),!B.el){const P=I.subTree=Xe(br);x(null,P,F,J)}}else m(I,B,F,J,se,O,U)},u=(B,F,J)=>{const ae=F.component=B.component;if(RQ(B,F,J))if(ae.asyncDep&&!ae.asyncResolved){E(ae,F,J);return}else ae.next=F,ae.update();else F.el=B.el,ae.vnode=F},m=(B,F,J,ae,se,O,U)=>{const I=()=>{if(B.isMounted){let{next:re,bu:te,u:Y,parent:X,vnode:ve}=B;{const Lr=qL(B);if(Lr){re&&(re.el=ve.el,E(B,re,U)),Lr.asyncDep.then(()=>{B.isUnmounted||I()});return}}let Ie=re,mt;Rl(B,!1),re?(re.el=ve.el,E(B,re,U)):re=ve,te&&_h(te),(mt=re.props&&re.props.onVnodeBeforeUpdate)&&Wi(mt,X,re,ve),Rl(B,!0);const Wt=Ty(B),cr=B.subTree;B.subTree=Wt,w(cr,Wt,d(cr.el),vt(cr),B,se,O),re.el=Wt.el,Ie===null&&kE(B,Wt.el),Y&&Jr(Y,se),(mt=re.props&&re.props.onVnodeUpdated)&&Jr(()=>Wi(mt,X,re,ve),se)}else{let re;const{el:te,props:Y}=F,{bm:X,m:ve,parent:Ie,root:mt,type:Wt}=B,cr=nl(F);if(Rl(B,!1),X&&_h(X),!cr&&(re=Y&&Y.onVnodeBeforeMount)&&Wi(re,Ie,F),Rl(B,!0),te&&Rt){const Lr=()=>{B.subTree=Ty(B),Rt(te,B.subTree,B,se,null)};cr&&Wt.__asyncHydrate?Wt.__asyncHydrate(te,B,Lr):Lr()}else{mt.ce&&mt.ce._injectChildStyle(Wt);const Lr=B.subTree=Ty(B);w(null,Lr,J,ae,B,se,O),F.el=Lr.el}if(ve&&Jr(ve,se),!cr&&(re=Y&&Y.onVnodeMounted)){const Lr=F;Jr(()=>Wi(re,Ie,Lr),se)}(F.shapeFlag&256||Ie&&nl(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&B.a&&Jr(B.a,se),B.isMounted=!0,F=J=ae=null}};B.scope.on();const P=B.effect=new Dh(I);B.scope.off();const j=B.update=P.run.bind(P),Z=B.job=P.runIfDirty.bind(P);Z.i=B,Z.id=B.uid,P.scheduler=()=>lE(Z),Rl(B,!0),j()},E=(B,F,J)=>{F.component=B;const ae=B.vnode.props;B.vnode=F,B.next=null,TQ(B,F.props,ae,J),OQ(B,F.children,J),wl(),J4(B),Sl()},N=(B,F,J,ae,se,O,U,I,P=!1)=>{const j=B&&B.children,Z=B?B.shapeFlag:0,re=F.children,{patchFlag:te,shapeFlag:Y}=F;if(te>0){if(te&128){K(j,re,J,ae,se,O,U,I,P);return}else if(te&256){q(j,re,J,ae,se,O,U,I,P);return}}Y&8?(Z&16&&Oe(j,se,O),re!==j&&f(J,re)):Z&16?Y&16?K(j,re,J,ae,se,O,U,I,P):Oe(j,se,O,!0):(Z&8&&f(J,""),Y&16&&R(re,J,ae,se,O,U,I,P))},q=(B,F,J,ae,se,O,U,I,P)=>{B=B||vh,F=F||vh;const j=B.length,Z=F.length,re=Math.min(j,Z);let te;for(te=0;te<re;te++){const Y=F[te]=P?Ba(F[te]):Yi(F[te]);w(B[te],Y,J,null,se,O,U,I,P)}j>Z?Oe(B,se,O,!0,!1,re):R(F,J,ae,se,O,U,I,P,re)},K=(B,F,J,ae,se,O,U,I,P)=>{let j=0;const Z=F.length;let re=B.length-1,te=Z-1;for(;j<=re&&j<=te;){const Y=B[j],X=F[j]=P?Ba(F[j]):Yi(F[j]);if(os(Y,X))w(Y,X,J,null,se,O,U,I,P);else break;j++}for(;j<=re&&j<=te;){const Y=B[re],X=F[te]=P?Ba(F[te]):Yi(F[te]);if(os(Y,X))w(Y,X,J,null,se,O,U,I,P);else break;re--,te--}if(j>re){if(j<=te){const Y=te+1,X=Y<Z?F[Y].el:ae;for(;j<=te;)w(null,F[j]=P?Ba(F[j]):Yi(F[j]),J,X,se,O,U,I,P),j++}}else if(j>te)for(;j<=re;)oe(B[j],se,O,!0),j++;else{const Y=j,X=j,ve=new Map;for(j=X;j<=te;j++){const Ce=F[j]=P?Ba(F[j]):Yi(F[j]);Ce.key!=null&&ve.set(Ce.key,j)}let Ie,mt=0;const Wt=te-X+1;let cr=!1,Lr=0;const ie=new Array(Wt);for(j=0;j<Wt;j++)ie[j]=0;for(j=Y;j<=re;j++){const Ce=B[j];if(mt>=Wt){oe(Ce,se,O,!0);continue}let Ye;if(Ce.key!=null)Ye=ve.get(Ce.key);else for(Ie=X;Ie<=te;Ie++)if(ie[Ie-X]===0&&os(Ce,F[Ie])){Ye=Ie;break}Ye===void 0?oe(Ce,se,O,!0):(ie[Ye-X]=j+1,Ye>=Lr?Lr=Ye:cr=!0,w(Ce,F[Ye],J,null,se,O,U,I,P),mt++)}const Me=cr?CQ(ie):vh;for(Ie=Me.length-1,j=Wt-1;j>=0;j--){const Ce=X+j,Ye=F[Ce],Qe=Ce+1<Z?F[Ce+1].el:ae;ie[j]===0?w(null,Ye,J,Qe,se,O,U,I,P):cr&&(Ie<0||j!==Me[Ie]?he(Ye,J,Qe,2):Ie--)}}},he=(B,F,J,ae,se=null)=>{const{el:O,type:U,transition:I,children:P,shapeFlag:j}=B;if(j&6){he(B.component.subTree,F,J,ae);return}if(j&128){B.suspense.move(F,J,ae);return}if(j&64){U.move(B,F,J,ht);return}if(U===Lt){i(O,F,J);for(let re=0;re<P.length;re++)he(P[re],F,J,ae);i(B.anchor,F,J);return}if(U===sl){S(B,F,J);return}if(ae!==2&&j&1&&I)if(ae===0)I.beforeEnter(O),i(O,F,J),Jr(()=>I.enter(O),se);else{const{leave:re,delayLeave:te,afterLeave:Y}=I,X=()=>i(O,F,J),ve=()=>{re(O,()=>{X(),Y&&Y()})};te?te(O,X,ve):ve()}else i(O,F,J)},oe=(B,F,J,ae=!1,se=!1)=>{const{type:O,props:U,ref:I,children:P,dynamicChildren:j,shapeFlag:Z,patchFlag:re,dirs:te,cacheIndex:Y}=B;if(re===-2&&(se=!1),I!=null&&Ig(I,null,J,B,!0),Y!=null&&(F.renderCache[Y]=void 0),Z&256){F.ctx.deactivate(B);return}const X=Z&1&&te,ve=!nl(B);let Ie;if(ve&&(Ie=U&&U.onVnodeBeforeUnmount)&&Wi(Ie,F,B),Z&6)Ve(B.component,J,ae);else{if(Z&128){B.suspense.unmount(J,ae);return}X&&Ws(B,null,F,"beforeUnmount"),Z&64?B.type.remove(B,F,J,ht,ae):j&&!j.hasOnce&&(O!==Lt||re>0&&re&64)?Oe(j,F,J,!1,!0):(O===Lt&&re&384||!se&&Z&16)&&Oe(P,F,J),ae&&Ae(B)}(ve&&(Ie=U&&U.onVnodeUnmounted)||X)&&Jr(()=>{Ie&&Wi(Ie,F,B),X&&Ws(B,null,F,"unmounted")},J)},Ae=B=>{const{type:F,el:J,anchor:ae,transition:se}=B;if(F===Lt){Fe(J,ae);return}if(F===sl){v(B);return}const O=()=>{n(J),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(B.shapeFlag&1&&se&&!se.persisted){const{leave:U,delayLeave:I}=se,P=()=>U(J,O);I?I(B.el,O,P):P()}else O()},Fe=(B,F)=>{let J;for(;B!==F;)J=p(B),n(B),B=J;n(F)},Ve=(B,F,J)=>{const{bum:ae,scope:se,job:O,subTree:U,um:I,m:P,a:j}=B;Cg(P),Cg(j),ae&&_h(ae),se.stop(),O&&(O.flags|=8,oe(U,B,F,J)),I&&Jr(I,F),Jr(()=>{B.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},Oe=(B,F,J,ae=!1,se=!1,O=0)=>{for(let U=O;U<B.length;U++)oe(B[U],F,J,ae,se)},vt=B=>{if(B.shapeFlag&6)return vt(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const F=p(B.anchor||B.el),J=F&&F[rL];return J?p(J):F};let rt=!1;const pt=(B,F,J)=>{B==null?F._vnode&&oe(F._vnode,null,null,!0):w(F._vnode||null,B,F,null,null,null,J),F._vnode=B,rt||(rt=!0,J4(),Ag(),rt=!1)},ht={p:w,um:oe,m:he,r:Ae,mt:ee,mc:R,pc:N,pbc:G,n:vt,o:e};let nt,Rt;return t&&([nt,Rt]=t(ht)),{render:pt,hydrate:nt,createApp:xQ(pt,nt)}}function kb({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Rl({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zL(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function CE(e,t,r=!1){const i=e.children,n=t.children;if(Te(i)&&Te(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Ba(n[s]),a.el=o.el),!r&&a.patchFlag!==-2&&CE(o,a)),a.type===so&&(a.el=o.el)}}function CQ(e){const t=e.slice(),r=[0];let i,n,s,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(n=r[r.length-1],e[n]<c){t[i]=n,r.push(i);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,e[r[a]]<c?s=a+1:o=a;c<e[r[s]]&&(s>0&&(t[i]=r[s-1]),r[s]=i)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=t[o];return r}function qL(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:qL(t)}function Cg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const $E=Symbol.for("v-scx"),NE=()=>zr($E);function WL(e,t){return Em(e,null,t)}function PE(e,t){return Em(e,null,{flush:"post"})}function LE(e,t){return Em(e,null,{flush:"sync"})}function Xr(e,t,r){return Em(e,t,r)}function Em(e,t,r=at){const{immediate:i,deep:n,flush:s,once:o}=r,a=ct({},r);let l;if(Tm)if(s==="sync"){const p=NE();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!t||i)a.once=!0;else{const p=()=>{};return p.stop=wi,p.resume=wi,p.pause=wi,p}const c=jr;a.call=(p,y,g)=>bn(p,c,y,g);let f=!1;s==="post"?a.scheduler=p=>{Jr(p,c&&c.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(p,y)=>{y?p():lE(p)}),a.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const d=ZX(e,t,a);return l&&l.push(d),d}function $Q(e,t,r){const i=this.proxy,n=Ke(e)?e.includes(".")?HL(i,e):()=>i[e]:e.bind(i,i);let s;je(t)?s=t:(s=t.handler,r=t);const o=Hc(this),a=Em(n,s.bind(i),r);return o(),a}function HL(e,t){const r=t.split(".");return()=>{let i=e;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function YL(e,t,r=at){const i=Nr(),n=Xt(t),s=Zi(t),o=JL(e,t),a=nE((l,c)=>{let f,d=at,p;return LE(()=>{const y=e[t];Li(f,y)&&(f=y,c())}),{get(){return l(),r.get?r.get(f):f},set(y){const g=r.set?r.set(y):y;if(!Li(g,f)&&!(d!==at&&Li(y,d)))return;const w=i.vnode.props;w&&(t in w||n in w||s in w)&&(`onUpdate:${t}`in w||`onUpdate:${n}`in w||`onUpdate:${s}`in w)||(f=y,c()),i.emit(`update:${t}`,g),Li(y,g)&&Li(y,d)&&!Li(g,p)&&c(),d=y,p=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||at:a,done:!1}:{done:!0}}}},a}const JL=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xt(t)}Modifiers`]||e[`${Zi(t)}Modifiers`];function NQ(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||at;let n=r;const s=t.startsWith("update:"),o=s&&JL(i,t.slice(7));o&&(o.trim&&(n=r.map(f=>Ke(f)?f.trim():f)),o.number&&(n=r.map(Sg)));let a,l=i[a=Sc(t)]||i[a=Sc(Xt(t))];!l&&s&&(l=i[a=Sc(Zi(t))]),l&&bn(l,e,6,n);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,bn(c,e,6,n)}}function KL(e,t,r=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const s=e.emits;let o={},a=!1;if(!je(e)){const l=c=>{const f=KL(c,t,!0);f&&(a=!0,ct(o,f))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Nt(e)&&i.set(e,null),null):(Te(s)?s.forEach(l=>o[l]=null):ct(o,s),Nt(e)&&i.set(e,o),o)}function dv(e,t){return!e||!cu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Et(e,t[0].toLowerCase()+t.slice(1))||Et(e,Zi(t))||Et(e,t))}function Ty(e){const{type:t,vnode:r,proxy:i,withProxy:n,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:g,inheritAttrs:w}=e,_=Cp(e);let x,T;try{if(r.shapeFlag&4){const v=n||i,M=v;x=Yi(c.call(M,v,f,d,y,p,g)),T=a}else{const v=t;x=Yi(v.length>1?v(d,{attrs:a,slots:o,emit:l}):v(d,null)),T=t.props?a:LQ(a)}}catch(v){Ud.length=0,xl(v,e,1),x=Xe(br)}let S=x;if(T&&w!==!1){const v=Object.keys(T),{shapeFlag:M}=S;v.length&&M&7&&(s&&v.some(Hx)&&(T=kQ(T,s)),S=xs(S,T,!1,!0))}return r.dirs&&(S=xs(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&mo(S,r.transition),x=S,Cp(_),x}function PQ(e,t=!0){let r;for(let i=0;i<e.length;i++){const n=e[i];if(Ss(n)){if(n.type!==br||n.children==="v-if"){if(r)return;r=n}}else return}return r}const LQ=e=>{let t;for(const r in e)(r==="class"||r==="style"||cu(r))&&((t||(t={}))[r]=e[r]);return t},kQ=(e,t)=>{const r={};for(const i in e)(!Hx(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function RQ(e,t,r){const{props:i,children:n,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?oM(i,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==i[p]&&!dv(c,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?oM(i,o,c):!0:!!o;return!1}function oM(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(t[s]!==e[s]&&!dv(r,s))return!0}return!1}function kE({vnode:e,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=r,t=t.parent;else break}}const $g=e=>e.__isSuspense;let Mw=0;const DQ={name:"Suspense",__isSuspense:!0,process(e,t,r,i,n,s,o,a,l,c){if(e==null)FQ(t,r,i,n,s,o,a,l,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}UQ(e,t,r,i,n,o,a,l,c)}},hydrate:jQ,normalize:GQ},ZL=DQ;function Np(e,t){const r=e.props&&e.props[t];je(r)&&r()}function FQ(e,t,r,i,n,s,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=e.suspense=XL(e,n,i,t,d,r,s,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,i,p,s,o),p.deps>0?(Np(e,"onPending"),Np(e,"onFallback"),c(null,e.ssFallback,t,r,i,null,s,o),Sh(p,e.ssFallback)):p.resolve(!1,!0)}function UQ(e,t,r,i,n,s,o,a,{p:l,um:c,o:{createElement:f}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:g,pendingBranch:w,isInFallback:_,isHydrating:x}=d;if(w)d.pendingBranch=p,os(p,w)?(l(w,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0?d.resolve():_&&(x||(l(g,y,r,i,n,null,s,o,a),Sh(d,y)))):(d.pendingId=Mw++,x?(d.isHydrating=!1,d.activeBranch=w):c(w,n,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),_?(l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0?d.resolve():(l(g,y,r,i,n,null,s,o,a),Sh(d,y))):g&&os(p,g)?(l(g,p,r,i,n,d,s,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&os(p,g))l(g,p,r,i,n,d,s,o,a),Sh(d,p);else if(Np(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Mw++,l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:S}=d;T>0?setTimeout(()=>{d.pendingId===S&&d.fallback(y)},T):T===0&&d.fallback(y)}}function XL(e,t,r,i,n,s,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:g,o:{parentNode:w,remove:_}}=c;let x;const T=BQ(e);T&&t&&t.pendingBranch&&(x=t.pendingId,t.deps++);const S=e.props?xg(e.props.timeout):void 0,v=s,M={vnode:e,parent:t,parentComponent:r,namespace:o,container:i,hiddenContainer:n,deps:0,pendingId:Mw++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(C=!1,L=!1){const{vnode:R,activeBranch:k,pendingBranch:G,pendingId:W,effects:V,parentComponent:z,container:ee}=M;let u=!1;M.isHydrating?M.isHydrating=!1:C||(u=k&&G.transition&&G.transition.mode==="out-in",u&&(k.transition.afterLeave=()=>{W===M.pendingId&&(p(G,ee,s===v?g(k):s,0),Ip(V))}),k&&(w(k.el)===ee&&(s=g(k)),y(k,z,M,!0)),u||p(G,ee,s,0)),Sh(M,G),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,E=!1;for(;m;){if(m.pendingBranch){m.effects.push(...V),E=!0;break}m=m.parent}!E&&!u&&Ip(V),M.effects=[],T&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!L&&t.resolve()),Np(R,"onResolve")},fallback(C){if(!M.pendingBranch)return;const{vnode:L,activeBranch:R,parentComponent:k,container:G,namespace:W}=M;Np(L,"onFallback");const V=g(R),z=()=>{M.isInFallback&&(d(null,C,G,V,k,null,W,a,l),Sh(M,C))},ee=C.transition&&C.transition.mode==="out-in";ee&&(R.transition.afterLeave=z),M.isInFallback=!0,y(R,k,null,!0),ee||z()},move(C,L,R){M.activeBranch&&p(M.activeBranch,C,L,R),M.container=C},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(C,L,R){const k=!!M.pendingBranch;k&&M.deps++;const G=C.vnode.el;C.asyncDep.catch(W=>{xl(W,C,0)}).then(W=>{if(C.isUnmounted||M.isUnmounted||M.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:V}=C;Cw(C,W,!1),G&&(V.el=G);const z=!G&&C.subTree.el;L(C,V,w(G||C.subTree.el),G?null:g(C.subTree),M,o,R),z&&_(z),kE(C,V.el),k&&--M.deps===0&&M.resolve()})},unmount(C,L){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,r,C,L),M.pendingBranch&&y(M.pendingBranch,r,C,L)}};return M}function jQ(e,t,r,i,n,s,o,a,l){const c=t.suspense=XL(t,i,r,e.parentNode,document.createElement("div"),null,n,s,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,r,c,s,o);return c.deps===0&&c.resolve(!1,!0),f}function GQ(e){const{shapeFlag:t,children:r}=e,i=t&32;e.ssContent=aM(i?r.default:r),e.ssFallback=i?aM(r.fallback):Xe(br)}function aM(e){let t;if(je(e)){const r=Wc&&e._c;r&&(e._d=!1,pe()),e=e(),r&&(e._d=!0,t=_i,ek())}return Te(e)&&(e=PQ(e)),e=Yi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function QL(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):Ip(e)}function Sh(e,t){e.activeBranch=t;const{vnode:r,parentComponent:i}=e;let n=t.el;for(;!n&&t.component;)t=t.component.subTree,n=t.el;r.el=n,i&&i.subTree===r&&(i.vnode.el=n,kE(i,n))}function BQ(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Lt=Symbol.for("v-fgt"),so=Symbol.for("v-txt"),br=Symbol.for("v-cmt"),sl=Symbol.for("v-stc"),Ud=[];let _i=null;function pe(e=!1){Ud.push(_i=e?null:[])}function ek(){Ud.pop(),_i=Ud[Ud.length-1]||null}let Wc=1;function Ng(e){Wc+=e,e<0&&_i&&(_i.hasOnce=!0)}function tk(e){return e.dynamicChildren=Wc>0?_i||vh:null,ek(),Wc>0&&_i&&_i.push(e),e}function Ee(e,t,r,i,n,s){return tk(ue(e,t,r,i,n,s,!0))}function qt(e,t,r,i,n){return tk(Xe(e,t,r,i,n,!0))}function Ss(e){return e?e.__v_isVNode===!0:!1}function os(e,t){return e.type===t.type&&e.key===t.key}function rk(e){}const ik=({key:e})=>e??null,Ay=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ke(e)||gt(e)||je(e)?{i:Br,r:e,k:t,f:!!r}:e:null);function ue(e,t=null,r=null,i=0,n=null,s=e===Lt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ik(t),ref:t&&Ay(t),scopeId:cv,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Br};return a?(DE(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=Ke(r)?8:16),Wc>0&&!o&&_i&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&_i.push(l),l}const Xe=VQ;function VQ(e,t=null,r=null,i=0,n=null,s=!1){if((!e||e===mL)&&(e=br),Ss(e)){const a=xs(e,t,!0);return r&&DE(a,r),Wc>0&&!s&&_i&&(a.shapeFlag&6?_i[_i.indexOf(e)]=a:_i.push(a)),a.patchFlag=-2,a}if(YQ(e)&&(e=e.__vccOpts),t){t=RE(t);let{class:a,style:l}=t;a&&!Ke(a)&&(t.class=mr(a)),Nt(l)&&(_m(l)&&!Te(l)&&(l=ct({},l)),t.style=_l(l))}const o=Ke(e)?1:$g(e)?128:iL(e)?64:Nt(e)?4:je(e)?2:0;return ue(e,t,r,i,n,o,s,!0)}function RE(e){return e?_m(e)||RL(e)?ct({},e):e:null}function xs(e,t,r=!1,i=!1){const{props:n,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?pv(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ik(c),ref:t&&t.ref?r&&s?Te(s)?s.concat(Ay(t)):[s,Ay(t)]:Ay(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Lt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xs(e.ssContent),ssFallback:e.ssFallback&&xs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&mo(f,l.clone(f)),f}function oo(e=" ",t=0){return Xe(so,null,e,t)}function nk(e,t){const r=Xe(sl,null,e);return r.staticCount=t,r}function Yt(e="",t=!1){return t?(pe(),qt(br,null,e)):Xe(br,null,e)}function Yi(e){return e==null||typeof e=="boolean"?Xe(br):Te(e)?Xe(Lt,null,e.slice()):Ss(e)?Ba(e):Xe(so,null,String(e))}function Ba(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xs(e)}function DE(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Te(t))r=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),DE(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!RL(t)?t._ctx=Br:n===3&&Br&&(Br.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else je(t)?(t={default:t,_ctx:Br},r=32):(t=String(t),i&64?(r=16,t=[oo(t)]):r=8);e.children=t,e.shapeFlag|=r}function pv(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=mr([t.class,i.class]));else if(n==="style")t.style=_l([t.style,i.style]);else if(cu(n)){const s=t[n],o=i[n];o&&s!==o&&!(Te(s)&&s.includes(o))&&(t[n]=s?[].concat(s,o):o)}else n!==""&&(t[n]=i[n])}return t}function Wi(e,t,r,i=null){bn(e,t,7,[r,i])}const zQ=PL();let qQ=0;function sk(e,t,r){const i=e.type,n=(t?t.appContext:e.appContext)||zQ,s={uid:qQ++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ev(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:FL(i,n),emitsOptions:KL(i,n),emit:null,emitted:null,propsDefaults:at,inheritAttrs:i.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=NQ.bind(null,s),e.ce&&e.ce(s),s}let jr=null;const Nr=()=>jr||Br;let Pg,Iw;{const e=pP(),t=(r,i)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(i),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};Pg=t("__VUE_INSTANCE_SETTERS__",r=>jr=r),Iw=t("__VUE_SSR_SETTERS__",r=>Tm=r)}const Hc=e=>{const t=jr;return Pg(e),e.scope.on(),()=>{e.scope.off(),Pg(t)}},Ow=()=>{jr&&jr.scope.off(),Pg(null)};function ok(e){return e.vnode.shapeFlag&4}let Tm=!1;function ak(e,t=!1,r=!1){t&&Iw(t);const{props:i,children:n}=e.vnode,s=ok(e);EQ(e,i,s,t),IQ(e,n,r);const o=s?WQ(e,t):void 0;return t&&Iw(!1),o}function WQ(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xw);const{setup:i}=r;if(i){const n=e.setupContext=i.length>1?uk(e):null,s=Hc(e);wl();const o=hu(i,e,0,[e.props,n]);if(Sl(),s(),Jx(o)){if(nl(e)||hE(e),o.then(Ow,Ow),t)return o.then(a=>{Cw(e,a,t)}).catch(a=>{xl(a,e,0)});e.asyncDep=o}else Cw(e,o,t)}else ck(e,t)}function Cw(e,t,r){je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Nt(t)&&(e.setupState=lv(t)),ck(e,r)}let Lg,$w;function FE(e){Lg=e,$w=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,yQ))}}const lk=()=>!Lg;function ck(e,t,r){const i=e.type;if(!e.render){if(!t&&Lg&&!i.render){const n=i.template||EE(e).template;if(n){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ct(ct({isCustomElement:s,delimiters:a},o),l);i.render=Lg(n,c)}}e.render=i.render||wi,$w&&$w(e)}{const n=Hc(e);wl();try{gQ(e)}finally{Sl(),n()}}}const HQ={get(e,t){return xi(e,"get",""),e[t]}};function uk(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,HQ),slots:e.slots,emit:e.emit,expose:t}}function Am(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(lv(xr(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Fd)return Fd[r](e)},has(t,r){return r in t||r in Fd}})):e.proxy}function Nw(e,t=!0){return je(e)?e.displayName||e.name:e.name||t&&e.__name}function YQ(e){return je(e)&&"__vccOpts"in e}const tt=(e,t)=>KX(e,t,Tm);function Un(e,t,r){const i=arguments.length;return i===2?Nt(t)&&!Te(t)?Ss(t)?Xe(e,null,[t]):Xe(e,t):Xe(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ss(r)&&(r=[r]),Xe(e,t,r))}function hk(){}function fk(e,t,r,i){const n=r[i];if(n&&UE(n,e))return n;const s=t();return s.memo=e.slice(),s.cacheIndex=i,r[i]=s}function UE(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(Li(r[i],t[i]))return!1;return Wc>0&&_i&&_i.push(e),!0}const jE="3.5.9",dk=wi,pk=eQ,mk=Gu,yk=XP,JQ={createComponentInstance:sk,setupComponent:ak,renderComponentRoot:Ty,setCurrentRenderingInstance:Cp,isVNode:Ss,normalizeVNode:Yi,getComponentPublicInstance:Am,ensureValidVNode:xE,pushWarningContext:XX,popWarningContext:QX},gk=JQ,vk=null,bk=null,_k=null;/**
* @vue/runtime-dom v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pw;const lM=typeof window<"u"&&window.trustedTypes;if(lM)try{Pw=lM.createPolicy("vue",{createHTML:e=>e})}catch{}const wk=Pw?e=>Pw.createHTML(e):e=>e,KQ="http://www.w3.org/2000/svg",ZQ="http://www.w3.org/1998/Math/MathML",Do=typeof document<"u"?document:null,cM=Do&&Do.createElement("template"),XQ={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const n=t==="svg"?Do.createElementNS(KQ,e):t==="mathml"?Do.createElementNS(ZQ,e):r?Do.createElement(e,{is:r}):Do.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Do.createTextNode(e),createComment:e=>Do.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Do.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,n,s){const o=r?r.previousSibling:t.lastChild;if(n&&(n===s||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{cM.innerHTML=wk(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=cM.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ga="transition",Uf="animation",Fh=Symbol("_vtc"),Sk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xk=ct({},hv,Sk),QQ=e=>(e.displayName="Transition",e.props=xk,e),mv=QQ((e,{slots:t})=>Un(uE,Ek(e),t)),Dl=(e,t=[])=>{Te(e)?e.forEach(r=>r(...t)):e&&e(...t)},uM=e=>e?Te(e)?e.some(t=>t.length>1):e.length>1:!1;function Ek(e){const t={};for(const V in e)V in Sk||(t[V]=e[V]);if(e.css===!1)return t;const{name:r="v",type:i,duration:n,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=e,g=eee(n),w=g&&g[0],_=g&&g[1],{onBeforeEnter:x,onEnter:T,onEnterCancelled:S,onLeave:v,onLeaveCancelled:M,onBeforeAppear:C=x,onAppear:L=T,onAppearCancelled:R=S}=t,k=(V,z,ee)=>{$a(V,z?f:a),$a(V,z?c:o),ee&&ee()},G=(V,z)=>{V._isLeaving=!1,$a(V,d),$a(V,y),$a(V,p),z&&z()},W=V=>(z,ee)=>{const u=V?L:T,m=()=>k(z,V,ee);Dl(u,[z,m]),hM(()=>{$a(z,V?l:s),Po(z,V?f:a),uM(u)||fM(z,i,w,m)})};return ct(t,{onBeforeEnter(V){Dl(x,[V]),Po(V,s),Po(V,o)},onBeforeAppear(V){Dl(C,[V]),Po(V,l),Po(V,c)},onEnter:W(!1),onAppear:W(!0),onLeave(V,z){V._isLeaving=!0;const ee=()=>G(V,z);Po(V,d),Po(V,p),Ak(),hM(()=>{V._isLeaving&&($a(V,d),Po(V,y),uM(v)||fM(V,i,_,ee))}),Dl(v,[V,ee])},onEnterCancelled(V){k(V,!1),Dl(S,[V])},onAppearCancelled(V){k(V,!0),Dl(R,[V])},onLeaveCancelled(V){G(V),Dl(M,[V])}})}function eee(e){if(e==null)return null;if(Nt(e))return[Rb(e.enter),Rb(e.leave)];{const t=Rb(e);return[t,t]}}function Rb(e){return xg(e)}function Po(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Fh]||(e[Fh]=new Set)).add(t)}function $a(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const r=e[Fh];r&&(r.delete(t),r.size||(e[Fh]=void 0))}function hM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let tee=0;function fM(e,t,r,i){const n=e._endId=++tee,s=()=>{n===e._endId&&i()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:l}=Tk(e,t);if(!o)return i();const c=o+"end";let f=0;const d=()=>{e.removeEventListener(c,p),s()},p=y=>{y.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),e.addEventListener(c,p)}function Tk(e,t){const r=window.getComputedStyle(e),i=g=>(r[g]||"").split(", "),n=i(`${ga}Delay`),s=i(`${ga}Duration`),o=dM(n,s),a=i(`${Uf}Delay`),l=i(`${Uf}Duration`),c=dM(a,l);let f=null,d=0,p=0;t===ga?o>0&&(f=ga,d=o,p=s.length):t===Uf?c>0&&(f=Uf,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?ga:Uf:null,p=f?f===ga?s.length:l.length:0);const y=f===ga&&/\b(transform|all)(,|$)/.test(i(`${ga}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function dM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,i)=>pM(r)+pM(e[i])))}function pM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ak(){return document.body.offsetHeight}function ree(e,t,r){const i=e[Fh];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const kg=Symbol("_vod"),Mk=Symbol("_vsh"),yv={beforeMount(e,{value:t},{transition:r}){e[kg]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):jf(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),jf(e,!0),i.enter(e)):i.leave(e,()=>{jf(e,!1)}):jf(e,t))},beforeUnmount(e,{value:t}){jf(e,t)}};function jf(e,t){e.style.display=t?e[kg]:"none",e[Mk]=!t}function iee(){yv.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Ik=Symbol("");function GE(e){const t=Nr();if(!t)return;const r=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>Rg(s,n))},i=()=>{const n=e(t.proxy);t.ce?Rg(t.ce,n):Lw(t.subTree,n),r(n)};xm(()=>{PE(i)}),oi(()=>{const n=new MutationObserver(i);n.observe(t.subTree.el.parentNode,{childList:!0}),fu(()=>n.disconnect())})}function Lw(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Lw(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Rg(e.el,t);else if(e.type===Lt)e.children.forEach(r=>Lw(r,t));else if(e.type===sl){let{el:r,anchor:i}=e;for(;r&&(Rg(r,t),r!==i);)r=r.nextSibling}}function Rg(e,t){if(e.nodeType===1){const r=e.style;let i="";for(const n in t)r.setProperty(`--${n}`,t[n]),i+=`--${n}: ${t[n]};`;r[Ik]=i}}const nee=/(^|;)\s*display\s*:/;function see(e,t,r){const i=e.style,n=Ke(r);let s=!1;if(r&&!n){if(t)if(Ke(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&My(i,a,"")}else for(const o in t)r[o]==null&&My(i,o,"");for(const o in r)o==="display"&&(s=!0),My(i,o,r[o])}else if(n){if(t!==r){const o=i[Ik];o&&(r+=";"+o),i.cssText=r,s=nee.test(r)}}else t&&e.removeAttribute("style");kg in e&&(e[kg]=s?i.display:"",e[Mk]&&(i.display="none"))}const mM=/\s*!important$/;function My(e,t,r){if(Te(r))r.forEach(i=>My(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=oee(e,t);mM.test(r)?e.setProperty(Zi(i),r.replace(mM,""),"important"):e[i]=r}}const yM=["Webkit","Moz","ms"],Db={};function oee(e,t){const r=Db[t];if(r)return r;let i=Xt(t);if(i!=="filter"&&i in e)return Db[t]=i;i=bl(i);for(let n=0;n<yM.length;n++){const s=yM[n]+i;if(s in e)return Db[t]=s}return t}const gM="http://www.w3.org/1999/xlink";function vM(e,t,r,i,n,s=_X(t)){i&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(gM,t.slice(6,t.length)):e.setAttributeNS(gM,t,r):r==null||s&&!gP(r)?e.removeAttribute(t):e.setAttribute(t,s?"":vn(r)?String(r):r)}function aee(e,t,r,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?wk(r):r);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const o=n==="OPTION"?e.getAttribute("value")||"":e.value,a=r==null?e.type==="checkbox"?"on":"":String(r);(o!==a||!("_value"in e))&&(e.value=a),r==null&&e.removeAttribute(t),e._value=r;return}let s=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=gP(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(t)}function zo(e,t,r,i){e.addEventListener(t,r,i)}function lee(e,t,r,i){e.removeEventListener(t,r,i)}const bM=Symbol("_vei");function cee(e,t,r,i,n=null){const s=e[bM]||(e[bM]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=uee(t);if(i){const c=s[t]=dee(i,n);zo(e,a,c,l)}else o&&(lee(e,a,o,l),s[t]=void 0)}}const _M=/(?:Once|Passive|Capture)$/;function uee(e){let t;if(_M.test(e)){t={};let i;for(;i=e.match(_M);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zi(e.slice(2)),t]}let Fb=0;const hee=Promise.resolve(),fee=()=>Fb||(hee.then(()=>Fb=0),Fb=Date.now());function dee(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;bn(pee(i,r.value),t,5,[i])};return r.value=e,r.attached=fee(),r}function pee(e,t){if(Te(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const wM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,mee=(e,t,r,i,n,s)=>{const o=n==="svg";t==="class"?ree(e,i,o):t==="style"?see(e,r,i):cu(t)?Hx(t)||cee(e,t,r,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):yee(e,t,i,o))?(aee(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&vM(e,t,i,o,s,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),vM(e,t,i,o))};function yee(e,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&wM(t)&&je(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return wM(t)&&Ke(r)?!1:!!(t in e||e._isVueCE&&(/[A-Z]/.test(t)||!Ke(r)))}const SM={};/*! #__NO_SIDE_EFFECTS__ */function BE(e,t,r){const i=ot(e,t);Z1(i)&&ct(i,t);class n extends Mm{constructor(o){super(i,o,r)}}return n.def=i,n}/*! #__NO_SIDE_EFFECTS__ */const Ok=(e,t)=>BE(e,t,HE),gee=typeof HTMLElement<"u"?HTMLElement:class{};class Mm extends gee{constructor(t,r={},i=dl){super(),this._def=t,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==dl?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Mm){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,As(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const n of i)this._setAttr(n.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(i,n=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=i;let a;if(s&&!Te(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=xg(this._props[l])),(a||(a=Object.create(null)))[Xt(l)]=!0)}this._numberProps=a,n&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>t(this._def=i,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)Et(this,i)||Object.defineProperty(this,i,{get:()=>$e(r[i])})}_resolveProps(t){const{props:r}=t,i=Te(r)?r:Object.keys(r||{});for(const n of Object.keys(this))n[0]!=="_"&&i.includes(n)&&this._setProp(n,this[n]);for(const n of i.map(Xt))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(s){this._setProp(n,s,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const r=this.hasAttribute(t);let i=r?this.getAttribute(t):SM;const n=Xt(t);r&&this._numberProps&&this._numberProps[n]&&(i=xg(i)),this._setProp(n,i,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,r,i=!0,n=!1){r!==this._props[t]&&(r===SM?delete this._props[t]:(this._props[t]=r,t==="key"&&this._app&&(this._app._ceVNode.key=r)),n&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(Zi(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Zi(t),r+""):r||this.removeAttribute(Zi(t))))}_update(){xh(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const r=Xe(this._def,ct(t,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const n=(s,o)=>{this.dispatchEvent(new CustomEvent(s,Z1(o[0])?ct({detail:o},o[0]):{detail:o}))};i.emit=(s,...o)=>{n(s,o),Zi(s)!==s&&n(Zi(s),o)},this._setParent()}),r}_applyStyles(t,r){if(!t)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let n=t.length-1;n>=0;n--){const s=document.createElement("style");i&&s.setAttribute("nonce",i),s.textContent=t[n],this.shadowRoot.prepend(s)}}_parseSlots(){const t=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(t[i]||(t[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let i=0;i<t.length;i++){const n=t[i],s=n.getAttribute("name")||"default",o=this._slots[s],a=n.parentNode;if(o)for(const l of o){if(r&&l.nodeType===1){const c=r+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,n)}else for(;n.firstChild;)a.insertBefore(n.firstChild,n);a.removeChild(n)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function VE(e){const t=Nr(),r=t&&t.ce;return r||null}function Ck(){const e=VE();return e&&e.shadowRoot}function $k(e="$style"){{const t=Nr();if(!t)return at;const r=t.type.__cssModules;if(!r)return at;const i=r[e];return i||at}}const Nk=new WeakMap,Pk=new WeakMap,Dg=Symbol("_moveCb"),xM=Symbol("_enterCb"),vee=e=>(delete e.props.mode,e),bee=vee({name:"TransitionGroup",props:ct({},xk,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Nr(),i=uv();let n,s;return Ef(()=>{if(!n.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!xee(n[0].el,r.vnode.el,o))return;n.forEach(_ee),n.forEach(wee);const a=n.filter(See);Ak(),a.forEach(l=>{const c=l.el,f=c.style;Po(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Dg]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Dg]=null,$a(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=qe(e),a=Ek(o);let l=o.tag||Lt;if(n=[],s)for(let c=0;c<s.length;c++){const f=s[c];f.el&&f.el instanceof Element&&(n.push(f),mo(f,qc(f,a,i,r)),Nk.set(f,f.el.getBoundingClientRect()))}s=t.default?wm(t.default()):[];for(let c=0;c<s.length;c++){const f=s[c];f.key!=null&&mo(f,qc(f,a,i,r))}return Xe(l,null,s)}}}),gv=bee;function _ee(e){const t=e.el;t[Dg]&&t[Dg](),t[xM]&&t[xM]()}function wee(e){Pk.set(e,e.el.getBoundingClientRect())}function See(e){const t=Nk.get(e),r=Pk.get(e),i=t.left-r.left,n=t.top-r.top;if(i||n){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${n}px)`,s.transitionDuration="0s",e}}function xee(e,t,r){const i=e.cloneNode(),n=e[Fh];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=Tk(i);return s.removeChild(i),o}const fl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?r=>_h(t,r):t};function Eee(e){e.target.composing=!0}function EM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gn=Symbol("_assign"),Pp={created(e,{modifiers:{lazy:t,trim:r,number:i}},n){e[Gn]=fl(n);const s=i||n.props&&n.props.type==="number";zo(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r&&(a=a.trim()),s&&(a=Sg(a)),e[Gn](a)}),r&&zo(e,"change",()=>{e.value=e.value.trim()}),t||(zo(e,"compositionstart",Eee),zo(e,"compositionend",EM),zo(e,"change",EM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:i,trim:n,number:s}},o){if(e[Gn]=fl(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?Sg(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===r||n&&e.value.trim()===l)||(e.value=l))}},vv={deep:!0,created(e,t,r){e[Gn]=fl(r),zo(e,"change",()=>{const i=e._modelValue,n=Uh(e),s=e.checked,o=e[Gn];if(Te(i)){const a=Q1(i,n),l=a!==-1;if(s&&!l)o(i.concat(n));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(uu(i)){const a=new Set(i);s?a.add(n):a.delete(n),o(a)}else o(Lk(e,s))})},mounted:TM,beforeUpdate(e,t,r){e[Gn]=fl(r),TM(e,t,r)}};function TM(e,{value:t},r){e._modelValue=t;let i;Te(t)?i=Q1(t,r.props.value)>-1:uu(t)?i=t.has(r.props.value):i=hl(t,Lk(e,!0)),e.checked!==i&&(e.checked=i)}const bv={created(e,{value:t},r){e.checked=hl(t,r.props.value),e[Gn]=fl(r),zo(e,"change",()=>{e[Gn](Uh(e))})},beforeUpdate(e,{value:t,oldValue:r},i){e[Gn]=fl(i),t!==r&&(e.checked=hl(t,i.props.value))}},zE={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const n=uu(t);zo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Sg(Uh(o)):Uh(o));e[Gn](e.multiple?n?new Set(s):s:s[0]),e._assigning=!0,As(()=>{e._assigning=!1})}),e[Gn]=fl(i)},mounted(e,{value:t}){AM(e,t)},beforeUpdate(e,t,r){e[Gn]=fl(r)},updated(e,{value:t}){e._assigning||AM(e,t)}};function AM(e,t){const r=e.multiple,i=Te(t);if(!(r&&!i&&!uu(t))){for(let n=0,s=e.options.length;n<s;n++){const o=e.options[n],a=Uh(o);if(r)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=Q1(t,a)>-1}else o.selected=t.has(a);else if(hl(Uh(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Uh(e){return"_value"in e?e._value:e.value}function Lk(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const qE={created(e,t,r){b0(e,t,r,null,"created")},mounted(e,t,r){b0(e,t,r,null,"mounted")},beforeUpdate(e,t,r,i){b0(e,t,r,i,"beforeUpdate")},updated(e,t,r,i){b0(e,t,r,i,"updated")}};function kk(e,t){switch(e){case"SELECT":return zE;case"TEXTAREA":return Pp;default:switch(t){case"checkbox":return vv;case"radio":return bv;default:return Pp}}}function b0(e,t,r,i,n){const o=kk(e.tagName,r.props&&r.props.type)[n];o&&o(e,t,r,i)}function Tee(){Pp.getSSRProps=({value:e})=>({value:e}),bv.getSSRProps=({value:e},t)=>{if(t.props&&hl(t.props.value,e))return{checked:!0}},vv.getSSRProps=({value:e},t)=>{if(Te(e)){if(t.props&&Q1(e,t.props.value)>-1)return{checked:!0}}else if(uu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},qE.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=kk(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const Aee=["ctrl","shift","alt","meta"],Mee={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Aee.some(r=>e[`${r}Key`]&&!t.includes(r))},Im=(e,t)=>{const r=e._withMods||(e._withMods={}),i=t.join(".");return r[i]||(r[i]=(n,...s)=>{for(let o=0;o<t.length;o++){const a=Mee[t[o]];if(a&&a(n,t))return}return e(n,...s)})},Iee={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},WE=(e,t)=>{const r=e._withKeys||(e._withKeys={}),i=t.join(".");return r[i]||(r[i]=n=>{if(!("key"in n))return;const s=Zi(n.key);if(t.some(o=>o===s||Iee[o]===s))return e(n)})},Rk=ct({patchProp:mee},XQ);let jd,MM=!1;function Dk(){return jd||(jd=IE(Rk))}function Fk(){return jd=MM?jd:OE(Rk),MM=!0,jd}const xh=(...e)=>{Dk().render(...e)},Uk=(...e)=>{Fk().hydrate(...e)},dl=(...e)=>{const t=Dk().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=Gk(i);if(!n)return;const s=t._component;!je(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,jk(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t},HE=(...e)=>{const t=Fk().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=Gk(i);if(n)return r(n,!0,jk(n))},t};function jk(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Gk(e){return Ke(e)?document.querySelector(e):e}let IM=!1;const Bk=()=>{IM||(IM=!0,Tee(),iee())},Oee=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:uE,BaseTransitionPropsValidators:hv,Comment:br,DeprecationTypes:_k,EffectScope:ev,ErrorCodes:YP,ErrorTypeStrings:pk,Fragment:Lt,KeepAlive:dL,ReactiveEffect:Dh,Static:sl,Suspense:ZL,Teleport:cE,Text:so,TrackOpTypes:VP,Transition:mv,TransitionGroup:gv,TriggerOpTypes:zP,VueElement:Mm,assertNumber:HP,callWithAsyncErrorHandling:bn,callWithErrorHandling:hu,camelize:Xt,capitalize:bl,cloneVNode:xs,compatUtils:bk,computed:tt,createApp:dl,createBlock:qt,createCommentVNode:Yt,createElementBlock:Ee,createElementVNode:ue,createHydrationRenderer:OE,createPropsRestProxy:CL,createRenderer:IE,createSSRApp:HE,createSlots:yL,createStaticVNode:nk,createTextVNode:oo,createVNode:Xe,customRef:nE,defineAsyncComponent:fE,defineComponent:ot,defineCustomElement:BE,defineEmits:bL,defineExpose:_L,defineModel:xL,defineOptions:wL,defineProps:vL,defineSSRCustomElement:Ok,defineSlots:SL,devtools:mk,effect:TP,effectScope:bm,getCurrentInstance:Nr,getCurrentScope:tv,getCurrentWatcher:qP,getTransitionRawChildren:wm,guardReactiveProps:RE,h:Un,handleError:xl,hasInjectionContext:AE,hydrate:Uk,hydrateOnIdle:cL,hydrateOnInteraction:fL,hydrateOnMediaQuery:hL,hydrateOnVisible:uL,initCustomFormatter:hk,initDirectivesForSSR:Bk,inject:zr,isMemoSame:UE,isProxy:_m,isReactive:mn,isReadonly:ea,isRef:gt,isRuntimeOnly:lk,isShallow:tn,isVNode:Ss,markRaw:xr,mergeDefaults:IL,mergeModels:OL,mergeProps:pv,nextTick:As,normalizeClass:mr,normalizeProps:yP,normalizeStyle:_l,onActivated:dE,onBeforeMount:xm,onBeforeUnmount:Ms,onBeforeUpdate:mE,onDeactivated:pE,onErrorCaptured:bE,onMounted:oi,onRenderTracked:vE,onRenderTriggered:gE,onScopeDispose:Zx,onServerPrefetch:yE,onUnmounted:fu,onUpdated:Ef,onWatcherCleanup:oE,openBlock:pe,popScopeId:eL,provide:TE,proxyRefs:lv,pushScopeId:QP,queuePostFlushCb:Ip,reactive:ei,readonly:ov,ref:ne,registerRuntimeCompiler:FE,render:xh,renderList:El,renderSlot:cs,resolveComponent:vr,resolveDirective:$t,resolveDynamicComponent:wE,resolveFilter:vk,resolveTransitionHooks:qc,setBlockTracking:Ng,setDevtoolsHook:yk,setTransitionHooks:mo,shallowReactive:rE,shallowReadonly:DP,shallowRef:xf,ssrContextKey:$E,ssrUtils:gk,stop:AP,toDisplayString:zt,toHandlerKey:Sc,toHandlers:gL,toRaw:qe,toRef:GP,toRefs:sE,toValue:jP,transformVNodeArgs:rk,triggerRef:UP,unref:$e,useAttrs:AL,useCssModule:$k,useCssVars:GE,useHost:VE,useId:lL,useModel:YL,useSSRContext:NE,useShadowRoot:Ck,useSlots:TL,useTemplateRef:Mg,useTransitionState:uv,vModelCheckbox:vv,vModelDynamic:qE,vModelRadio:bv,vModelSelect:zE,vModelText:Pp,vShow:yv,version:jE,warn:dk,watch:Xr,watchEffect:WL,watchPostEffect:PE,watchSyncEffect:LE,withAsyncContext:$L,withCtx:Tr,withDefaults:EL,withDirectives:Ct,withKeys:WE,withMemo:fk,withModifiers:Im,withScopeId:tL},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Lp=Symbol(""),Gd=Symbol(""),YE=Symbol(""),Fg=Symbol(""),Vk=Symbol(""),Yc=Symbol(""),zk=Symbol(""),qk=Symbol(""),JE=Symbol(""),KE=Symbol(""),Om=Symbol(""),ZE=Symbol(""),Wk=Symbol(""),XE=Symbol(""),QE=Symbol(""),e3=Symbol(""),t3=Symbol(""),r3=Symbol(""),i3=Symbol(""),Hk=Symbol(""),Yk=Symbol(""),_v=Symbol(""),Ug=Symbol(""),n3=Symbol(""),s3=Symbol(""),kp=Symbol(""),Cm=Symbol(""),o3=Symbol(""),kw=Symbol(""),Cee=Symbol(""),Rw=Symbol(""),jg=Symbol(""),$ee=Symbol(""),Nee=Symbol(""),a3=Symbol(""),Pee=Symbol(""),Lee=Symbol(""),l3=Symbol(""),Jk=Symbol(""),jh={[Lp]:"Fragment",[Gd]:"Teleport",[YE]:"Suspense",[Fg]:"KeepAlive",[Vk]:"BaseTransition",[Yc]:"openBlock",[zk]:"createBlock",[qk]:"createElementBlock",[JE]:"createVNode",[KE]:"createElementVNode",[Om]:"createCommentVNode",[ZE]:"createTextVNode",[Wk]:"createStaticVNode",[XE]:"resolveComponent",[QE]:"resolveDynamicComponent",[e3]:"resolveDirective",[t3]:"resolveFilter",[r3]:"withDirectives",[i3]:"renderList",[Hk]:"renderSlot",[Yk]:"createSlots",[_v]:"toDisplayString",[Ug]:"mergeProps",[n3]:"normalizeClass",[s3]:"normalizeStyle",[kp]:"normalizeProps",[Cm]:"guardReactiveProps",[o3]:"toHandlers",[kw]:"camelize",[Cee]:"capitalize",[Rw]:"toHandlerKey",[jg]:"setBlockTracking",[$ee]:"pushScopeId",[Nee]:"popScopeId",[a3]:"withCtx",[Pee]:"unref",[Lee]:"isRef",[l3]:"withMemo",[Jk]:"isMemoSame"};function kee(e){Object.getOwnPropertySymbols(e).forEach(t=>{jh[t]=e[t]})}const xn={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Ree(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:xn}}function Rp(e,t,r,i,n,s,o,a=!1,l=!1,c=!1,f=xn){return e&&(a?(e.helper(Yc),e.helper(Vh(e.inSSR,c))):e.helper(Bh(e.inSSR,c)),o&&e.helper(r3)),{type:13,tag:t,props:r,children:i,patchFlag:n,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Tc(e,t=xn){return{type:17,loc:t,elements:e}}function jn(e,t=xn){return{type:15,loc:t,properties:e}}function Sr(e,t){return{type:16,loc:xn,key:Ke(e)?et(e,!0):e,value:t}}function et(e,t=!1,r=xn,i=0){return{type:4,loc:r,content:e,isStatic:t,constType:t?3:i}}function gs(e,t=xn){return{type:8,loc:t,children:e}}function Ur(e,t=[],r=xn){return{type:14,loc:r,callee:e,arguments:t}}function Gh(e,t=void 0,r=!1,i=!1,n=xn){return{type:18,params:e,returns:t,newline:r,isSlot:i,loc:n}}function Dw(e,t,r,i=!0){return{type:19,test:e,consequent:t,alternate:r,newline:i,loc:xn}}function Dee(e,t,r=!1){return{type:20,index:e,value:t,needPauseTracking:r,needArraySpread:!1,loc:xn}}function Fee(e){return{type:21,body:e,loc:xn}}function Bh(e,t){return e||t?JE:KE}function Vh(e,t){return e||t?zk:qk}function c3(e,{helper:t,removeHelper:r,inSSR:i}){e.isBlock||(e.isBlock=!0,r(Bh(i,e.isComponent)),t(Yc),t(Vh(i,e.isComponent)))}const OM=new Uint8Array([123,123]),CM=new Uint8Array([125,125]);function $M(e){return e>=97&&e<=122||e>=65&&e<=90}function un(e){return e===32||e===10||e===9||e===12||e===13}function va(e){return e===47||e===62||un(e)}function Gg(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}const li={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Uee=class{constructor(t,r){this.stack=t,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=OM,this.delimiterClose=CM,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=OM,this.delimiterClose=CM}getPos(t){let r=1,i=t+1;for(let n=this.newlines.length-1;n>=0;n--){const s=this.newlines[n];if(t>s){r=n+2,i=t-s;break}}return{column:i,line:r,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?va(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||un(t)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===li.TitleEnd||this.currentSequence===li.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===li.Cdata[this.sequenceIndex]?++this.sequenceIndex===li.Cdata.length&&(this.state=28,this.currentSequence=li.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===li.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,r){this.enterRCDATA(t,r),this.state=31}enterRCDATA(t,r){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=r}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):$M(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){va(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(va(t)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Gg("</"+r),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){un(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=$M(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||un(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):un(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):un(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||va(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||va(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||va(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||va(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||va(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):un(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):un(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,r){(t===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){un(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=li.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===li.ScriptEnd[3]?this.startSpecial(li.ScriptEnd,4):t===li.StyleEnd[3]?this.startSpecial(li.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===li.TitleEnd[3]?this.startSpecial(li.TitleEnd,4):t===li.TextareaEnd[3]?this.startSpecial(li.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===li.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,r){}};function NM(e,{compatConfig:t}){const r=t&&t[e];return e==="MODE"?r||3:r}function Ac(e,t){const r=NM("MODE",t),i=NM(e,t);return r===3?i===!0:i!==!1}function Dp(e,t,r,...i){return Ac(e,t)}function u3(e){throw e}function Kk(e){}function rr(e,t,r,i){const n=`https://vuejs.org/error-reference/#compiler-${e}`,s=new SyntaxError(String(n));return s.code=e,s.loc=t,s}const en=e=>e.type===4&&e.isStatic;function Zk(e){switch(e){case"Teleport":case"teleport":return Gd;case"Suspense":case"suspense":return YE;case"KeepAlive":case"keep-alive":return Fg;case"BaseTransition":case"base-transition":return Vk}}const jee=/^\d|[^\$\w\xA0-\uFFFF]/,h3=e=>!jee.test(e),Gee=/[A-Za-z_$\xA0-\uFFFF]/,Bee=/[\.\?\w$\xA0-\uFFFF]/,Vee=/\s+[.[]\s*|\s*[.[]\s+/g,Xk=e=>e.type===4?e.content:e.loc.source,zee=e=>{const t=Xk(e).trim().replace(Vee,a=>a.trim());let r=0,i=[],n=0,s=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(r){case 0:if(l==="[")i.push(r),r=1,n++;else if(l==="(")i.push(r),r=2,s++;else if(!(a===0?Gee:Bee).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(r),r=3,o=l):l==="["?n++:l==="]"&&(--n||(r=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(r),r=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===t.length-1)return!1;--s||(r=i.pop())}break;case 3:l===o&&(r=i.pop(),o=null);break}}return!n&&!s},Qk=zee,qee=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Wee=e=>qee.test(Xk(e)),Hee=Wee;function kn(e,t,r=!1){for(let i=0;i<e.props.length;i++){const n=e.props[i];if(n.type===7&&(r||n.exp)&&(Ke(t)?n.name===t:t.test(n.name)))return n}}function wv(e,t,r=!1,i=!1){for(let n=0;n<e.props.length;n++){const s=e.props[n];if(s.type===6){if(r)continue;if(s.name===t&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&mc(s.arg,t))return s}}function mc(e,t){return!!(e&&en(e)&&e.content===t)}function Yee(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Ub(e){return e.type===5||e.type===2}function Jee(e){return e.type===7&&e.name==="slot"}function Bg(e){return e.type===1&&e.tagType===3}function Vg(e){return e.type===1&&e.tagType===2}const Kee=new Set([kp,Cm]);function e8(e,t=[]){if(e&&!Ke(e)&&e.type===14){const r=e.callee;if(!Ke(r)&&Kee.has(r))return e8(e.arguments[0],t.concat(e))}return[e,t]}function zg(e,t,r){let i,n=e.type===13?e.props:e.arguments[2],s=[],o;if(n&&!Ke(n)&&n.type===14){const a=e8(n);n=a[0],s=a[1],o=s[s.length-1]}if(n==null||Ke(n))i=jn([t]);else if(n.type===14){const a=n.arguments[0];!Ke(a)&&a.type===15?PM(t,a)||a.properties.unshift(t):n.callee===o3?i=Ur(r.helper(Ug),[jn([t]),n]):n.arguments.unshift(jn([t])),!i&&(i=n)}else n.type===15?(PM(t,n)||n.properties.unshift(t),i=n):(i=Ur(r.helper(Ug),[jn([t]),n]),o&&o.callee===Cm&&(o=s[s.length-2]));e.type===13?o?o.arguments[0]=i:e.props=i:o?o.arguments[0]=i:e.arguments[2]=i}function PM(e,t){let r=!1;if(e.key.type===4){const i=e.key.content;r=t.properties.some(n=>n.key.type===4&&n.key.content===i)}return r}function Fp(e,t){return`_${t}_${e.replace(/[^\w]/g,(r,i)=>r==="-"?"_":e.charCodeAt(i).toString())}`}function Zee(e){return e.type===14&&e.callee===l3?e.arguments[1].returns:e}const Xee=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,t8={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:bd,isPreTag:bd,isIgnoreNewlineTag:bd,isCustomElement:bd,onError:u3,onWarn:Kk,comments:!1,prefixIdentifiers:!1};let Tt=t8,Up=null,Jo="",fi=null,ft=null,Vi="",Lo=-1,oc=-1,f3=0,Va=!1,Fw=null;const Qt=[],pr=new Uee(Qt,{onerr:Eo,ontext(e,t){_0(ri(e,t),e,t)},ontextentity(e,t,r){_0(e,t,r)},oninterpolation(e,t){if(Va)return _0(ri(e,t),e,t);let r=e+pr.delimiterOpen.length,i=t-pr.delimiterClose.length;for(;un(Jo.charCodeAt(r));)r++;for(;un(Jo.charCodeAt(i-1));)i--;let n=ri(r,i);n.includes("&")&&(n=Tt.decodeEntities(n,!1)),Uw({type:5,content:Oy(n,!1,Ir(r,i)),loc:Ir(e,t)})},onopentagname(e,t){const r=ri(e,t);fi={type:1,tag:r,ns:Tt.getNamespace(r,Qt[0],Tt.ns),tagType:0,props:[],children:[],loc:Ir(e-1,t),codegenNode:void 0}},onopentagend(e){kM(e)},onclosetag(e,t){const r=ri(e,t);if(!Tt.isVoidTag(r)){let i=!1;for(let n=0;n<Qt.length;n++)if(Qt[n].tag.toLowerCase()===r.toLowerCase()){i=!0,n>0&&Eo(24,Qt[0].loc.start.offset);for(let o=0;o<=n;o++){const a=Qt.shift();Iy(a,t,o<n)}break}i||Eo(23,r8(e,60))}},onselfclosingtag(e){const t=fi.tag;fi.isSelfClosing=!0,kM(e),Qt[0]&&Qt[0].tag===t&&Iy(Qt.shift(),e)},onattribname(e,t){ft={type:6,name:ri(e,t),nameLoc:Ir(e,t),value:void 0,loc:Ir(e)}},ondirname(e,t){const r=ri(e,t),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!Va&&i===""&&Eo(26,e),Va||i==="")ft={type:6,name:r,nameLoc:Ir(e,t),value:void 0,loc:Ir(e)};else if(ft={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[et("prop")]:[],loc:Ir(e)},i==="pre"){Va=pr.inVPre=!0,Fw=fi;const n=fi.props;for(let s=0;s<n.length;s++)n[s].type===7&&(n[s]=lte(n[s]))}},ondirarg(e,t){if(e===t)return;const r=ri(e,t);if(Va)ft.name+=r,yc(ft.nameLoc,t);else{const i=r[0]!=="[";ft.arg=Oy(i?r:r.slice(1,-1),i,Ir(e,t),i?3:0)}},ondirmodifier(e,t){const r=ri(e,t);if(Va)ft.name+="."+r,yc(ft.nameLoc,t);else if(ft.name==="slot"){const i=ft.arg;i&&(i.content+="."+r,yc(i.loc,t))}else{const i=et(r,!0,Ir(e,t));ft.modifiers.push(i)}},onattribdata(e,t){Vi+=ri(e,t),Lo<0&&(Lo=e),oc=t},onattribentity(e,t,r){Vi+=e,Lo<0&&(Lo=t),oc=r},onattribnameend(e){const t=ft.loc.start.offset,r=ri(t,e);ft.type===7&&(ft.rawName=r),fi.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&Eo(2,t)},onattribend(e,t){if(fi&&ft){if(yc(ft.loc,t),e!==0)if(Vi.includes("&")&&(Vi=Tt.decodeEntities(Vi,!0)),ft.type===6)ft.name==="class"&&(Vi=n8(Vi).trim()),e===1&&!Vi&&Eo(13,t),ft.value={type:2,content:Vi,loc:e===1?Ir(Lo,oc):Ir(Lo-1,oc+1)},pr.inSFCRoot&&fi.tag==="template"&&ft.name==="lang"&&Vi&&Vi!=="html"&&pr.enterRCDATA(Gg("</template"),0);else{let r=0;ft.exp=Oy(Vi,!1,Ir(Lo,oc),0,r),ft.name==="for"&&(ft.forParseResult=ete(ft.exp));let i=-1;ft.name==="bind"&&(i=ft.modifiers.findIndex(n=>n.content==="sync"))>-1&&Dp("COMPILER_V_BIND_SYNC",Tt,ft.loc,ft.rawName)&&(ft.name="model",ft.modifiers.splice(i,1))}(ft.type!==7||ft.name!=="pre")&&fi.props.push(ft)}Vi="",Lo=oc=-1},oncomment(e,t){Tt.comments&&Uw({type:3,content:ri(e,t),loc:Ir(e-4,t+3)})},onend(){const e=Jo.length;for(let t=0;t<Qt.length;t++)Iy(Qt[t],e-1),Eo(24,Qt[t].loc.start.offset)},oncdata(e,t){Qt[0].ns!==0?_0(ri(e,t),e,t):Eo(1,e-9)},onprocessinginstruction(e){(Qt[0]?Qt[0].ns:Tt.ns)===0&&Eo(21,e-1)}}),LM=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qee=/^\(|\)$/g;function ete(e){const t=e.loc,r=e.content,i=r.match(Xee);if(!i)return;const[,n,s]=i,o=(d,p,y=!1)=>{const g=t.start.offset+p,w=g+d.length;return Oy(d,!1,Ir(g,w),0,y?1:0)},a={source:o(s.trim(),r.indexOf(s,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=n.trim().replace(Qee,"").trim();const c=n.indexOf(l),f=l.match(LM);if(f){l=l.replace(LM,"").trim();const d=f[1].trim();let p;if(d&&(p=r.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function ri(e,t){return Jo.slice(e,t)}function kM(e){pr.inSFCRoot&&(fi.innerLoc=Ir(e+1,e+1)),Uw(fi);const{tag:t,ns:r}=fi;r===0&&Tt.isPreTag(t)&&f3++,Tt.isVoidTag(t)?Iy(fi,e):(Qt.unshift(fi),(r===1||r===2)&&(pr.inXML=!0)),fi=null}function _0(e,t,r){{const s=Qt[0]&&Qt[0].tag;s!=="script"&&s!=="style"&&e.includes("&")&&(e=Tt.decodeEntities(e,!1))}const i=Qt[0]||Up,n=i.children[i.children.length-1];n&&n.type===2?(n.content+=e,yc(n.loc,r)):i.children.push({type:2,content:e,loc:Ir(t,r)})}function Iy(e,t,r=!1){r?yc(e.loc,r8(t,60)):yc(e.loc,tte(t,62)+1),pr.inSFCRoot&&(e.children.length?e.innerLoc.end=ct({},e.children[e.children.length-1].loc.end):e.innerLoc.end=ct({},e.innerLoc.start),e.innerLoc.source=ri(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:i,ns:n,children:s}=e;if(Va||(i==="slot"?e.tagType=2:RM(e)?e.tagType=3:ite(e)&&(e.tagType=1)),pr.inRCDATA||(e.children=i8(s)),n===0&&Tt.isIgnoreNewlineTag(i)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}n===0&&Tt.isPreTag(i)&&f3--,Fw===e&&(Va=pr.inVPre=!1,Fw=null),pr.inXML&&(Qt[0]?Qt[0].ns:Tt.ns)===0&&(pr.inXML=!1);{const o=e.props;if(!pr.inSFCRoot&&Ac("COMPILER_NATIVE_TEMPLATE",Tt)&&e.tag==="template"&&!RM(e)){const l=Qt[0]||Up,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Dp("COMPILER_INLINE_TEMPLATE",Tt,a.loc)&&e.children.length&&(a.value={type:2,content:ri(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function tte(e,t){let r=e;for(;Jo.charCodeAt(r)!==t&&r<Jo.length-1;)r++;return r}function r8(e,t){let r=e;for(;Jo.charCodeAt(r)!==t&&r>=0;)r--;return r}const rte=new Set(["if","else","else-if","for","slot"]);function RM({tag:e,props:t}){if(e==="template"){for(let r=0;r<t.length;r++)if(t[r].type===7&&rte.has(t[r].name))return!0}return!1}function ite({tag:e,props:t}){if(Tt.isCustomElement(e))return!1;if(e==="component"||nte(e.charCodeAt(0))||Zk(e)||Tt.isBuiltInComponent&&Tt.isBuiltInComponent(e)||Tt.isNativeTag&&!Tt.isNativeTag(e))return!0;for(let r=0;r<t.length;r++){const i=t[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Dp("COMPILER_IS_ON_ELEMENT",Tt,i.loc))return!0}}else if(i.name==="bind"&&mc(i.arg,"is")&&Dp("COMPILER_IS_ON_ELEMENT",Tt,i.loc))return!0}return!1}function nte(e){return e>64&&e<91}const ste=/\r\n/g;function i8(e,t){const r=Tt.whitespace!=="preserve";let i=!1;for(let n=0;n<e.length;n++){const s=e[n];if(s.type===2)if(f3)s.content=s.content.replace(ste,`
`);else if(ote(s.content)){const o=e[n-1]&&e[n-1].type,a=e[n+1]&&e[n+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&ate(s.content)))?(i=!0,e[n]=null):s.content=" "}else r&&(s.content=n8(s.content))}return i?e.filter(Boolean):e}function ote(e){for(let t=0;t<e.length;t++)if(!un(e.charCodeAt(t)))return!1;return!0}function ate(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r===10||r===13)return!0}return!1}function n8(e){let t="",r=!1;for(let i=0;i<e.length;i++)un(e.charCodeAt(i))?r||(t+=" ",r=!0):(t+=e[i],r=!1);return t}function Uw(e){(Qt[0]||Up).children.push(e)}function Ir(e,t){return{start:pr.getPos(e),end:t==null?t:pr.getPos(t),source:t==null?t:ri(e,t)}}function yc(e,t){e.end=pr.getPos(t),e.source=ri(e.start.offset,t)}function lte(e){const t={type:6,name:e.rawName,nameLoc:Ir(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const r=e.exp.loc;r.end.offset<e.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),t.value={type:2,content:e.exp.content,loc:r}}return t}function Oy(e,t=!1,r,i=0,n=0){return et(e,t,r,i)}function Eo(e,t,r){Tt.onError(rr(e,Ir(t,t)))}function cte(){pr.reset(),fi=null,ft=null,Vi="",Lo=-1,oc=-1,Qt.length=0}function ute(e,t){if(cte(),Jo=e,Tt=ct({},t8),t){let n;for(n in t)t[n]!=null&&(Tt[n]=t[n])}pr.mode=Tt.parseMode==="html"?1:Tt.parseMode==="sfc"?2:0,pr.inXML=Tt.ns===1||Tt.ns===2;const r=t&&t.delimiters;r&&(pr.delimiterOpen=Gg(r[0]),pr.delimiterClose=Gg(r[1]));const i=Up=Ree([],e);return pr.parse(Jo),i.loc=Ir(0,e.length),i.children=i8(i.children),Up=null,i}function hte(e,t){Cy(e,void 0,t,s8(e,e.children[0]))}function s8(e,t){const{children:r}=e;return r.length===1&&t.type===1&&!Vg(t)}function Cy(e,t,r,i=!1,n=!1){const{children:s}=e,o=[];for(let f=0;f<s.length;f++){const d=s[f];if(d.type===1&&d.tagType===0){const p=i?0:dn(d,r);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&a8(d,r)>=2){const w=l8(d);w&&(y.props=r.hoist(w))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:dn(d,r))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&r.scopes.vSlot++,Cy(d,e,r,!1,n),p&&r.scopes.vSlot--}else if(d.type===11)Cy(d,e,r,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)Cy(d.branches[p],e,r,d.branches[p].children.length===1,n)}let a=!1;if(o.length===s.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Te(e.codegenNode.children))e.codegenNode.children=l(Tc(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Te(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=c(e.codegenNode,"default");f&&(f.returns=l(Tc(f.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Te(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=kn(e,"slot",!0),d=f&&f.arg&&c(t.codegenNode,f.arg);d&&(d.returns=l(Tc(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=r.cache(f.codegenNode);function l(f){const d=r.cache(f);return n&&r.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Te(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(s,r,e)}function dn(e,t){const{constantCache:r}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const i=r.get(e);if(i!==void 0)return i;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let o=3;const a=a8(e,t);if(a===0)return r.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=dn(e.children[l],t);if(c===0)return r.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=dn(c.exp,t);if(f===0)return r.set(e,0),0;f<o&&(o=f)}}if(n.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return r.set(e,0),0;t.removeHelper(Yc),t.removeHelper(Vh(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(Bh(t.inSSR,n.isComponent))}return r.set(e,o),o}else return r.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return dn(e.content,t);case 4:return e.constType;case 8:let s=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Ke(a)||vn(a))continue;const l=dn(a,t);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const fte=new Set([n3,s3,kp,Cm]);function o8(e,t){if(e.type===14&&!Ke(e.callee)&&fte.has(e.callee)){const r=e.arguments[0];if(r.type===4)return dn(r,t);if(r.type===14)return o8(r,t)}return 0}function a8(e,t){let r=3;const i=l8(e);if(i&&i.type===15){const{properties:n}=i;for(let s=0;s<n.length;s++){const{key:o,value:a}=n[s],l=dn(o,t);if(l===0)return l;l<r&&(r=l);let c;if(a.type===4?c=dn(a,t):a.type===14?c=o8(a,t):c=0,c===0)return c;c<r&&(r=c)}}return r}function l8(e){const t=e.codegenNode;if(t.type===13)return t.props}function dte(e,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:n=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=wi,isCustomElement:f=wi,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:g=!1,inSSR:w=!1,ssrCssVars:_="",bindingMetadata:x=at,inline:T=!1,isTS:S=!1,onError:v=u3,onWarn:M=Kk,compatConfig:C}){const L=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),R={filename:t,selfName:L&&bl(Xt(L[1])),prefixIdentifiers:r,hoistStatic:i,hmr:n,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:g,inSSR:w,ssrCssVars:_,bindingMetadata:x,inline:T,isTS:S,onError:v,onWarn:M,compatConfig:C,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(k){const G=R.helpers.get(k)||0;return R.helpers.set(k,G+1),k},removeHelper(k){const G=R.helpers.get(k);if(G){const W=G-1;W?R.helpers.set(k,W):R.helpers.delete(k)}},helperString(k){return`_${jh[R.helper(k)]}`},replaceNode(k){R.parent.children[R.childIndex]=R.currentNode=k},removeNode(k){const G=R.parent.children,W=k?G.indexOf(k):R.currentNode?R.childIndex:-1;!k||k===R.currentNode?(R.currentNode=null,R.onNodeRemoved()):R.childIndex>W&&(R.childIndex--,R.onNodeRemoved()),R.parent.children.splice(W,1)},onNodeRemoved:wi,addIdentifiers(k){},removeIdentifiers(k){},hoist(k){Ke(k)&&(k=et(k)),R.hoists.push(k);const G=et(`_hoisted_${R.hoists.length}`,!1,k.loc,2);return G.hoisted=k,G},cache(k,G=!1){const W=Dee(R.cached.length,k,G);return R.cached.push(W),W}};return R.filters=new Set,R}function pte(e,t){const r=dte(e,t);Sv(e,r),t.hoistStatic&&hte(e,r),t.ssr||mte(e,r),e.helpers=new Set([...r.helpers.keys()]),e.components=[...r.components],e.directives=[...r.directives],e.imports=r.imports,e.hoists=r.hoists,e.temps=r.temps,e.cached=r.cached,e.transformed=!0,e.filters=[...r.filters]}function mte(e,t){const{helper:r}=t,{children:i}=e;if(i.length===1){const n=i[0];if(s8(e,n)&&n.codegenNode){const s=n.codegenNode;s.type===13&&c3(s,t),e.codegenNode=s}else e.codegenNode=n}else if(i.length>1){let n=64;e.codegenNode=Rp(t,r(Lp),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function yte(e,t){let r=0;const i=()=>{r--};for(;r<e.children.length;r++){const n=e.children[r];Ke(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=r,t.onNodeRemoved=i,Sv(n,t))}}function Sv(e,t){t.currentNode=e;const{nodeTransforms:r}=t,i=[];for(let s=0;s<r.length;s++){const o=r[s](e,t);if(o&&(Te(o)?i.push(...o):i.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Om);break;case 5:t.ssr||t.helper(_v);break;case 9:for(let s=0;s<e.branches.length;s++)Sv(e.branches[s],t);break;case 10:case 11:case 1:case 0:yte(e,t);break}t.currentNode=e;let n=i.length;for(;n--;)i[n]()}function c8(e,t){const r=Ke(e)?i=>i===e:i=>e.test(i);return(i,n)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(Jee))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&r(l.name)){s.splice(a,1),a--;const c=t(i,l,n);c&&o.push(c)}}return o}}}const xv="/*@__PURE__*/",u8=e=>`${jh[e]}: _${jh[e]}`;function gte(e,{mode:t="function",prefixIdentifiers:r=t==="module",sourceMap:i=!1,filename:n="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:r,sourceMap:i,filename:n,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(w){return`_${jh[w]}`},push(w,_=-2,x){y.code+=w},indent(){g(++y.indentLevel)},deindent(w=!1){w?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(w){y.push(`
`+"  ".repeat(w),0)}return y}function vte(e,t={}){const r=gte(e,t);t.onContextCreated&&t.onContextCreated(r);const{mode:i,push:n,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=r,d=Array.from(e.helpers),p=d.length>0,y=!s&&i!=="module";bte(e,r);const w=f?"ssrRender":"render",x=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${w}(${x}) {`),o(),y&&(n("with (_ctx) {"),o(),p&&(n(`const { ${d.map(u8).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(jb(e.components,"component",r),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(jb(e.directives,"directive",r),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),jb(e.filters,"filter",r),l()),e.temps>0){n("let ");for(let T=0;T<e.temps;T++)n(`${T>0?", ":""}_temp${T}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),l()),f||n("return "),e.codegenNode?Si(e.codegenNode,r):n("null"),y&&(a(),n("}")),a(),n("}"),{ast:e,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function bte(e,t){const{ssr:r,prefixIdentifiers:i,push:n,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,f=Array.from(e.helpers);if(f.length>0&&(n(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[JE,KE,Om,ZE,Wk].filter(p=>f.includes(p)).map(u8).join(", ");n(`const { ${d} } = _Vue
`,-1)}_te(e.hoists,t),s(),n("return ")}function jb(e,t,{helper:r,push:i,newline:n,isTS:s}){const o=r(t==="filter"?t3:t==="component"?XE:e3);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${Fp(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<e.length-1&&n()}}function _te(e,t){if(!e.length)return;t.pure=!0;const{push:r,newline:i}=t;i();for(let n=0;n<e.length;n++){const s=e[n];s&&(r(`const _hoisted_${n+1} = `),Si(s,t),i())}t.pure=!1}function d3(e,t){const r=e.length>3||!1;t.push("["),r&&t.indent(),$m(e,t,r),r&&t.deindent(),t.push("]")}function $m(e,t,r=!1,i=!0){const{push:n,newline:s}=t;for(let o=0;o<e.length;o++){const a=e[o];Ke(a)?n(a,-3):Te(a)?d3(a,t):Si(a,t),o<e.length-1&&(r?(i&&n(","),s()):i&&n(", "))}}function Si(e,t){if(Ke(e)){t.push(e,-3);return}if(vn(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Si(e.codegenNode,t);break;case 2:wte(e,t);break;case 4:h8(e,t);break;case 5:Ste(e,t);break;case 12:Si(e.codegenNode,t);break;case 8:f8(e,t);break;case 3:Ete(e,t);break;case 13:Tte(e,t);break;case 14:Mte(e,t);break;case 15:Ite(e,t);break;case 17:Ote(e,t);break;case 18:Cte(e,t);break;case 19:$te(e,t);break;case 20:Nte(e,t);break;case 21:$m(e.body,t,!0,!1);break}}function wte(e,t){t.push(JSON.stringify(e.content),-3,e)}function h8(e,t){const{content:r,isStatic:i}=e;t.push(i?JSON.stringify(r):r,-3,e)}function Ste(e,t){const{push:r,helper:i,pure:n}=t;n&&r(xv),r(`${i(_v)}(`),Si(e.content,t),r(")")}function f8(e,t){for(let r=0;r<e.children.length;r++){const i=e.children[r];Ke(i)?t.push(i,-3):Si(i,t)}}function xte(e,t){const{push:r}=t;if(e.type===8)r("["),f8(e,t),r("]");else if(e.isStatic){const i=h3(e.content)?e.content:JSON.stringify(e.content);r(i,-2,e)}else r(`[${e.content}]`,-3,e)}function Ete(e,t){const{push:r,helper:i,pure:n}=t;n&&r(xv),r(`${i(Om)}(${JSON.stringify(e.content)})`,-3,e)}function Tte(e,t){const{push:r,helper:i,pure:n}=t,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=e;let g;l&&(g=String(l)),f&&r(i(r3)+"("),d&&r(`(${i(Yc)}(${p?"true":""}), `),n&&r(xv);const w=d?Vh(t.inSSR,y):Bh(t.inSSR,y);r(i(w)+"(",-2,e),$m(Ate([s,o,a,g,c]),t),r(")"),d&&r(")"),f&&(r(", "),Si(f,t),r(")"))}function Ate(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(r=>r||"null")}function Mte(e,t){const{push:r,helper:i,pure:n}=t,s=Ke(e.callee)?e.callee:i(e.callee);n&&r(xv),r(s+"(",-2,e),$m(e.arguments,t),r(")")}function Ite(e,t){const{push:r,indent:i,deindent:n,newline:s}=t,{properties:o}=e;if(!o.length){r("{}",-2,e);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];xte(c,t),r(": "),Si(f,t),l<o.length-1&&(r(","),s())}a&&n(),r(a?"}":" }")}function Ote(e,t){d3(e.elements,t)}function Cte(e,t){const{push:r,indent:i,deindent:n}=t,{params:s,returns:o,body:a,newline:l,isSlot:c}=e;c&&r(`_${jh[a3]}(`),r("(",-2,e),Te(s)?$m(s,t):s&&Si(s,t),r(") => "),(l||a)&&(r("{"),i()),o?(l&&r("return "),Te(o)?d3(o,t):Si(o,t)):a&&Si(a,t),(l||a)&&(n(),r("}")),c&&(e.isNonScopedSlot&&r(", undefined, true"),r(")"))}function $te(e,t){const{test:r,consequent:i,alternate:n,newline:s}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(r.type===4){const d=!h3(r.content);d&&o("("),h8(r,t),d&&o(")")}else o("("),Si(r,t),o(")");s&&a(),t.indentLevel++,s||o(" "),o("? "),Si(i,t),t.indentLevel--,s&&c(),s||o(" "),o(": ");const f=n.type===19;f||t.indentLevel++,Si(n,t),f||t.indentLevel--,s&&l(!0)}function Nte(e,t){const{push:r,helper:i,indent:n,deindent:s,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&r("[...("),r(`_cache[${e.index}] || (`),a&&(n(),r(`${i(jg)}(-1),`),o(),r("(")),r(`_cache[${e.index}] = `),Si(e.value,t),a&&(r(`).cacheIndex = ${e.index},`),o(),r(`${i(jg)}(1),`),o(),r(`_cache[${e.index}]`),s()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Pte=c8(/^(if|else|else-if)$/,(e,t,r)=>Lte(e,t,r,(i,n,s)=>{const o=r.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)i.codegenNode=FM(n,l,r);else{const c=kte(i.codegenNode);c.alternate=FM(n,l+i.branches.length-1,r)}}}));function Lte(e,t,r,i){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;r.onError(rr(28,t.loc)),t.exp=et("true",!1,n)}if(t.name==="if"){const n=DM(e,t),s={type:9,loc:e.loc,branches:[n]};if(r.replaceNode(s),i)return i(s,n,!0)}else{const n=r.parent.children;let s=n.indexOf(e);for(;s-->=-1;){const o=n[s];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(rr(30,e.loc)),r.removeNode();const a=DM(e,t);o.branches.push(a);const l=i&&i(o,a,!1);Sv(a,r),l&&l(),r.currentNode=null}else r.onError(rr(30,e.loc));break}}}function DM(e,t){const r=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:r&&!kn(e,"for")?e.children:[e],userKey:wv(e,"key"),isTemplateIf:r}}function FM(e,t,r){return e.condition?Dw(e.condition,UM(e,t,r),Ur(r.helper(Om),['""',"true"])):UM(e,t,r)}function UM(e,t,r){const{helper:i}=r,n=Sr("key",et(`${t}`,!1,xn,2)),{children:s}=e,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const l=o.codegenNode;return zg(l,n,r),l}else return Rp(r,i(Lp),jn([n]),s,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=Zee(l);return c.type===13&&c3(c,r),zg(c,n,r),l}}function kte(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Rte=(e,t,r)=>{const{modifiers:i,loc:n}=e,s=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return r.onError(rr(52,s.loc)),{props:[Sr(s,et("",!0,n))]};d8(e),o=e.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=Xt(s.content):s.content=`${r.helperString(kw)}(${s.content})`:(s.children.unshift(`${r.helperString(kw)}(`),s.children.push(")"))),r.inSSR||(i.some(a=>a.content==="prop")&&jM(s,"."),i.some(a=>a.content==="attr")&&jM(s,"^")),{props:[Sr(s,o)]}},d8=(e,t)=>{const r=e.arg,i=Xt(r.content);e.exp=et(i,!1,r.loc)},jM=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Dte=c8("for",(e,t,r)=>{const{helper:i,removeHelper:n}=r;return Fte(e,t,r,s=>{const o=Ur(i(i3),[s.source]),a=Bg(e),l=kn(e,"memo"),c=wv(e,"key",!1,!0);c&&c.type===7&&!c.exp&&d8(c);const f=c&&(c.type===6?c.value?et(c.value.content,!0):void 0:c.exp),d=c&&f?Sr("key",f):null,p=s.source.type===4&&s.source.constType>0,y=p?64:c?128:256;return s.codegenNode=Rp(r,i(Lp),void 0,o,y,void 0,void 0,!0,!p,!1,e.loc),()=>{let g;const{children:w}=s,_=w.length!==1||w[0].type!==1,x=Vg(e)?e:a&&e.children.length===1&&Vg(e.children[0])?e.children[0]:null;if(x?(g=x.codegenNode,a&&d&&zg(g,d,r)):_?g=Rp(r,i(Lp),d?jn([d]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=w[0].codegenNode,a&&d&&zg(g,d,r),g.isBlock!==!p&&(g.isBlock?(n(Yc),n(Vh(r.inSSR,g.isComponent))):n(Bh(r.inSSR,g.isComponent))),g.isBlock=!p,g.isBlock?(i(Yc),i(Vh(r.inSSR,g.isComponent))):i(Bh(r.inSSR,g.isComponent))),l){const T=Gh(jw(s.parseResult,[et("_cached")]));T.body=Fee([gs(["const _memo = (",l.exp,")"]),gs(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${r.helperString(Jk)}(_cached, _memo)) return _cached`]),gs(["const _item = ",g]),et("_item.memo = _memo"),et("return _item")]),o.arguments.push(T,et("_cache"),et(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Gh(jw(s.parseResult),g,!0))}})});function Fte(e,t,r,i){if(!t.exp){r.onError(rr(31,t.loc));return}const n=t.forParseResult;if(!n){r.onError(rr(32,t.loc));return}p8(n);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=r,{source:l,value:c,key:f,index:d}=n,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:n,children:Bg(e)?e.children:[e]};r.replaceNode(p),a.vFor++;const y=i&&i(p);return()=>{a.vFor--,y&&y()}}function p8(e,t){e.finalized||(e.finalized=!0)}function jw({value:e,key:t,index:r},i=[]){return Ute([e,t,r,...i])}function Ute(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((r,i)=>r||et("_".repeat(i+1),!1))}const GM=et("undefined",!1),jte=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const r=kn(e,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Gte=(e,t,r,i)=>Gh(e,r,!1,!0,r.length?r[0].loc:i);function Bte(e,t,r=Gte){t.helper(a3);const{children:i,loc:n}=e,s=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=kn(e,"slot",!0);if(l){const{arg:_,exp:x}=l;_&&!en(_)&&(a=!0),s.push(Sr(_||et("default",!0),r(x,void 0,i,n)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let _=0;_<i.length;_++){const x=i[_];let T;if(!Bg(x)||!(T=kn(x,"slot",!0))){x.type!==3&&d.push(x);continue}if(l){t.onError(rr(37,T.loc));break}c=!0;const{children:S,loc:v}=x,{arg:M=et("default",!0),exp:C,loc:L}=T;let R;en(M)?R=M?M.content:"default":a=!0;const k=kn(x,"for"),G=r(C,k,S,v);let W,V;if(W=kn(x,"if"))a=!0,o.push(Dw(W.exp,w0(M,G,y++),GM));else if(V=kn(x,/^else(-if)?$/,!0)){let z=_,ee;for(;z--&&(ee=i[z],ee.type===3););if(ee&&Bg(ee)&&kn(ee,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=V.exp?Dw(V.exp,w0(M,G,y++),GM):w0(M,G,y++)}else t.onError(rr(30,V.loc))}else if(k){a=!0;const z=k.forParseResult;z?(p8(z),o.push(Ur(t.helper(i3),[z.source,Gh(jw(z),w0(M,G),!0)]))):t.onError(rr(32,k.loc))}else{if(R){if(p.has(R)){t.onError(rr(38,L));continue}p.add(R),R==="default"&&(f=!0)}s.push(Sr(M,G))}}if(!l){const _=(x,T)=>{const S=r(x,void 0,T,n);return t.compatConfig&&(S.isNonScopedSlot=!0),Sr("default",S)};c?d.length&&d.some(x=>m8(x))&&(f?t.onError(rr(39,d[0].loc)):s.push(_(void 0,d))):s.push(_(void 0,i))}const g=a?2:$y(e.children)?3:1;let w=jn(s.concat(Sr("_",et(g+"",!1))),n);return o.length&&(w=Ur(t.helper(Yk),[w,Tc(o)])),{slots:w,hasDynamicSlots:a}}function w0(e,t,r){const i=[Sr("name",e),Sr("fn",t)];return r!=null&&i.push(Sr("key",et(String(r),!0))),jn(i)}function $y(e){for(let t=0;t<e.length;t++){const r=e[t];switch(r.type){case 1:if(r.tagType===2||$y(r.children))return!0;break;case 9:if($y(r.branches))return!0;break;case 10:case 11:if($y(r.children))return!0;break}}return!1}function m8(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():m8(e.content)}const y8=new WeakMap,Vte=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:i,props:n}=e,s=e.tagType===1;let o=s?zte(e,t):`"${i}"`;const a=Nt(o)&&o.callee===QE;let l,c,f=0,d,p,y,g=a||o===Gd||o===YE||!s&&(i==="svg"||i==="foreignObject"||i==="math");if(n.length>0){const w=g8(e,t,void 0,s,a);l=w.props,f=w.patchFlag,p=w.dynamicPropNames;const _=w.directives;y=_&&_.length?Tc(_.map(x=>Wte(x,t))):void 0,w.shouldUseBlock&&(g=!0)}if(e.children.length>0)if(o===Fg&&(g=!0,f|=1024),s&&o!==Gd&&o!==Fg){const{slots:_,hasDynamicSlots:x}=Bte(e,t);c=_,x&&(f|=1024)}else if(e.children.length===1&&o!==Gd){const _=e.children[0],x=_.type,T=x===5||x===8;T&&dn(_,t)===0&&(f|=1),T||x===2?c=_:c=e.children}else c=e.children;p&&p.length&&(d=Hte(p)),e.codegenNode=Rp(t,o,l,c,f===0?void 0:f,d,y,!!g,!1,s,e.loc)};function zte(e,t,r=!1){let{tag:i}=e;const n=Gw(i),s=wv(e,"is",!1,!0);if(s)if(n||Ac("COMPILER_IS_ON_ELEMENT",t)){let a;if(s.type===6?a=s.value&&et(s.value.content,!0):(a=s.exp,a||(a=et("is",!1,s.arg.loc))),a)return Ur(t.helper(QE),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const o=Zk(i)||t.isBuiltInComponent(i);return o?(r||t.helper(o),o):(t.helper(XE),t.components.add(i),Fp(i,"component"))}function g8(e,t,r=e.props,i,n,s=!1){const{tag:o,loc:a,children:l}=e;let c=[];const f=[],d=[],p=l.length>0;let y=!1,g=0,w=!1,_=!1,x=!1,T=!1,S=!1,v=!1;const M=[],C=G=>{c.length&&(f.push(jn(BM(c),a)),c=[]),G&&f.push(G)},L=()=>{t.scopes.vFor>0&&c.push(Sr(et("ref_for",!0),et("true")))},R=({key:G,value:W})=>{if(en(G)){const V=G.content,z=cu(V);if(z&&(!i||n)&&V.toLowerCase()!=="onclick"&&V!=="onUpdate:modelValue"&&!il(V)&&(T=!0),z&&il(V)&&(v=!0),z&&W.type===14&&(W=W.arguments[0]),W.type===20||(W.type===4||W.type===8)&&dn(W,t)>0)return;V==="ref"?w=!0:V==="class"?_=!0:V==="style"?x=!0:V!=="key"&&!M.includes(V)&&M.push(V),i&&(V==="class"||V==="style")&&!M.includes(V)&&M.push(V)}else S=!0};for(let G=0;G<r.length;G++){const W=r[G];if(W.type===6){const{loc:V,name:z,nameLoc:ee,value:u}=W;let m=!0;if(z==="ref"&&(w=!0,L()),z==="is"&&(Gw(o)||u&&u.content.startsWith("vue:")||Ac("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Sr(et(z,!0,ee),et(u?u.content:"",m,u?u.loc:V)))}else{const{name:V,arg:z,exp:ee,loc:u,modifiers:m}=W,E=V==="bind",N=V==="on";if(V==="slot"){i||t.onError(rr(40,u));continue}if(V==="once"||V==="memo"||V==="is"||E&&mc(z,"is")&&(Gw(o)||Ac("COMPILER_IS_ON_ELEMENT",t))||N&&s)continue;if((E&&mc(z,"key")||N&&p&&mc(z,"vue:before-update"))&&(y=!0),E&&mc(z,"ref")&&L(),!z&&(E||N)){if(S=!0,ee)if(E){if(L(),C(),Ac("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(ee);continue}f.push(ee)}else C({type:14,loc:u,callee:t.helper(o3),arguments:i?[ee]:[ee,"true"]});else t.onError(rr(E?34:35,u));continue}E&&m.some(K=>K.content==="prop")&&(g|=32);const q=t.directiveTransforms[V];if(q){const{props:K,needRuntime:he}=q(W,e,t);!s&&K.forEach(R),N&&z&&!en(z)?C(jn(K,a)):c.push(...K),he&&(d.push(W),vn(he)&&y8.set(W,he))}else rX(V)||(d.push(W),p&&(y=!0))}}let k;if(f.length?(C(),f.length>1?k=Ur(t.helper(Ug),f,a):k=f[0]):c.length&&(k=jn(BM(c),a)),S?g|=16:(_&&!i&&(g|=2),x&&!i&&(g|=4),M.length&&(g|=8),T&&(g|=32)),!y&&(g===0||g===32)&&(w||v||d.length>0)&&(g|=512),!t.inSSR&&k)switch(k.type){case 15:let G=-1,W=-1,V=!1;for(let u=0;u<k.properties.length;u++){const m=k.properties[u].key;en(m)?m.content==="class"?G=u:m.content==="style"&&(W=u):m.isHandlerKey||(V=!0)}const z=k.properties[G],ee=k.properties[W];V?k=Ur(t.helper(kp),[k]):(z&&!en(z.value)&&(z.value=Ur(t.helper(n3),[z.value])),ee&&(x||ee.value.type===4&&ee.value.content.trim()[0]==="["||ee.value.type===17)&&(ee.value=Ur(t.helper(s3),[ee.value])));break;case 14:break;default:k=Ur(t.helper(kp),[Ur(t.helper(Cm),[k])]);break}return{props:k,directives:d,patchFlag:g,dynamicPropNames:M,shouldUseBlock:y}}function BM(e){const t=new Map,r=[];for(let i=0;i<e.length;i++){const n=e[i];if(n.key.type===8||!n.key.isStatic){r.push(n);continue}const s=n.key.content,o=t.get(s);o?(s==="style"||s==="class"||cu(s))&&qte(o,n):(t.set(s,n),r.push(n))}return r}function qte(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Tc([e.value,t.value],e.loc)}function Wte(e,t){const r=[],i=y8.get(e);i?r.push(t.helperString(i)):(t.helper(e3),t.directives.add(e.name),r.push(Fp(e.name,"directive")));const{loc:n}=e;if(e.exp&&r.push(e.exp),e.arg&&(e.exp||r.push("void 0"),r.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||r.push("void 0"),r.push("void 0"));const s=et("true",!1,n);r.push(jn(e.modifiers.map(o=>Sr(o,s)),n))}return Tc(r,e.loc)}function Hte(e){let t="[";for(let r=0,i=e.length;r<i;r++)t+=JSON.stringify(e[r]),r<i-1&&(t+=", ");return t+"]"}function Gw(e){return e==="component"||e==="Component"}const Yte=(e,t)=>{if(Vg(e)){const{children:r,loc:i}=e,{slotName:n,slotProps:s}=Jte(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),r.length&&(o[3]=Gh([],r,!1,!1,i),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=Ur(t.helper(Hk),o,i)}};function Jte(e,t){let r='"default"',i;const n=[];for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=Xt(o.name),n.push(o)));else if(o.name==="bind"&&mc(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=Xt(o.arg.content);r=o.exp=et(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&en(o.arg)&&(o.arg.content=Xt(o.arg.content)),n.push(o)}if(n.length>0){const{props:s,directives:o}=g8(e,t,n,!1,!1);i=s,o.length&&t.onError(rr(36,o[0].loc))}return{slotName:r,slotProps:i}}const v8=(e,t,r,i)=>{const{loc:n,modifiers:s,arg:o}=e;!e.exp&&!s.length&&r.onError(rr(35,n));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Sc(Xt(d)):`on:${d}`;a=et(p,!0,o.loc)}else a=gs([`${r.helperString(Rw)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(Rw)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const d=Qk(l),p=!(d||Hee(l)),y=l.content.includes(";");(p||c&&d)&&(l=gs([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Sr(a,l||et("() => {}",!1,n))]};return i&&(f=i(f)),c&&(f.props[0].value=r.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},Kte=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const r=e.children;let i,n=!1;for(let s=0;s<r.length;s++){const o=r[s];if(Ub(o)){n=!0;for(let a=s+1;a<r.length;a++){const l=r[a];if(Ub(l))i||(i=r[s]=gs([o],o.loc)),i.children.push(" + ",l),r.splice(a,1),a--;else{i=void 0;break}}}}if(!(!n||r.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(s=>s.type===7&&!t.directiveTransforms[s.name])&&e.tag!=="template")))for(let s=0;s<r.length;s++){const o=r[s];if(Ub(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&dn(o,t)===0&&a.push("1"),r[s]={type:12,content:o,loc:o.loc,codegenNode:Ur(t.helper(ZE),a)}}}}},VM=new WeakSet,Zte=(e,t)=>{if(e.type===1&&kn(e,"once",!0))return VM.has(e)||t.inVOnce||t.inSSR?void 0:(VM.add(e),t.inVOnce=!0,t.helper(jg),()=>{t.inVOnce=!1;const r=t.currentNode;r.codegenNode&&(r.codegenNode=t.cache(r.codegenNode,!0))})},b8=(e,t,r)=>{const{exp:i,arg:n}=e;if(!i)return r.onError(rr(41,e.loc)),S0();const s=i.loc.source.trim(),o=i.type===4?i.content:s,a=r.bindingMetadata[s];if(a==="props"||a==="props-aliased")return r.onError(rr(44,i.loc)),S0();if(!o.trim()||!Qk(i)&&!!1)return r.onError(rr(42,i.loc)),S0();const c=n||et("modelValue",!0),f=n?en(n)?`onUpdate:${Xt(n.content)}`:gs(['"onUpdate:" + ',n]):"onUpdate:modelValue";let d;const p=r.isTS?"($event: any)":"$event";d=gs([`${p} => ((`,i,") = $event)"]);const y=[Sr(c,e.exp),Sr(f,d)];if(e.modifiers.length&&t.tagType===1){const g=e.modifiers.map(_=>_.content).map(_=>(h3(_)?_:JSON.stringify(_))+": true").join(", "),w=n?en(n)?`${n.content}Modifiers`:gs([n,' + "Modifiers"']):"modelModifiers";y.push(Sr(w,et(`{ ${g} }`,!1,e.loc,2)))}return S0(y)};function S0(e=[]){return{props:e}}const Xte=/[\w).+\-_$\]]/,Qte=(e,t)=>{Ac("COMPILER_FILTERS",t)&&(e.type===5?qg(e.content,t):e.type===1&&e.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&qg(r.exp,t)}))};function qg(e,t){if(e.type===4)zM(e,t);else for(let r=0;r<e.children.length;r++){const i=e.children[r];typeof i=="object"&&(i.type===4?zM(i,t):i.type===8?qg(e,t):i.type===5&&qg(i.content,t))}}function zM(e,t){const r=e.content;let i=!1,n=!1,s=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,g,w=[];for(y=0;y<r.length;y++)if(p=d,d=r.charCodeAt(y),i)d===39&&p!==92&&(i=!1);else if(n)d===34&&p!==92&&(n=!1);else if(s)d===96&&p!==92&&(s=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(f=y+1,g=r.slice(0,y).trim()):_();else{switch(d){case 34:n=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let x=y-1,T;for(;x>=0&&(T=r.charAt(x),T===" ");x--);(!T||!Xte.test(T))&&(o=!0)}}g===void 0?g=r.slice(0,y).trim():f!==0&&_();function _(){w.push(r.slice(f,y).trim()),f=y+1}if(w.length){for(y=0;y<w.length;y++)g=ere(g,w[y],t);e.content=g,e.ast=void 0}}function ere(e,t,r){r.helper(t3);const i=t.indexOf("(");if(i<0)return r.filters.add(t),`${Fp(t,"filter")}(${e})`;{const n=t.slice(0,i),s=t.slice(i+1);return r.filters.add(n),`${Fp(n,"filter")}(${e}${s!==")"?","+s:s}`}}const qM=new WeakSet,tre=(e,t)=>{if(e.type===1){const r=kn(e,"memo");return!r||qM.has(e)?void 0:(qM.add(e),()=>{const i=e.codegenNode||t.currentNode.codegenNode;i&&i.type===13&&(e.tagType!==1&&c3(i,t),e.codegenNode=Ur(t.helper(l3),[r.exp,Gh(void 0,i),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function rre(e){return[[Zte,Pte,tre,Dte,Qte,Yte,Vte,jte,Kte],{on:v8,bind:Rte,model:b8}]}function ire(e,t={}){const r=t.onError||u3,i=t.mode==="module";t.prefixIdentifiers===!0?r(rr(47)):i&&r(rr(48));const n=!1;t.cacheHandlers&&r(rr(49)),t.scopeId&&!i&&r(rr(50));const s=ct({},t,{prefixIdentifiers:n}),o=Ke(e)?ute(e,s):e,[a,l]=rre();return pte(o,ct({},s,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:ct({},l,t.directiveTransforms||{})})),vte(o,s)}const nre=()=>({props:[]});/**
* @vue/compiler-dom v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const _8=Symbol(""),w8=Symbol(""),S8=Symbol(""),x8=Symbol(""),Bw=Symbol(""),E8=Symbol(""),T8=Symbol(""),A8=Symbol(""),M8=Symbol(""),I8=Symbol("");kee({[_8]:"vModelRadio",[w8]:"vModelCheckbox",[S8]:"vModelText",[x8]:"vModelSelect",[Bw]:"vModelDynamic",[E8]:"withModifiers",[T8]:"withKeys",[A8]:"vShow",[M8]:"Transition",[I8]:"TransitionGroup"});let Mu;function sre(e,t=!1){return Mu||(Mu=document.createElement("div")),t?(Mu.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Mu.children[0].getAttribute("foo")):(Mu.innerHTML=e,Mu.textContent)}const ore={parseMode:"html",isVoidTag:vX,isNativeTag:e=>mX(e)||yX(e)||gX(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:sre,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return M8;if(e==="TransitionGroup"||e==="transition-group")return I8},getNamespace(e,t,r){let i=t?t.ns:r;if(t&&i===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(e==="svg")return 1;if(e==="math")return 2}return i}},are=e=>{e.type===1&&e.props.forEach((t,r)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[r]={type:7,name:"bind",arg:et("style",!0,t.loc),exp:lre(t.value.content,t.loc),modifiers:[],loc:t.loc})})},lre=(e,t)=>{const r=mP(e);return et(JSON.stringify(r),!1,t,3)};function ol(e,t){return rr(e,t)}const cre=(e,t,r)=>{const{exp:i,loc:n}=e;return i||r.onError(ol(53,n)),t.children.length&&(r.onError(ol(54,n)),t.children.length=0),{props:[Sr(et("innerHTML",!0,n),i||et("",!0))]}},ure=(e,t,r)=>{const{exp:i,loc:n}=e;return i||r.onError(ol(55,n)),t.children.length&&(r.onError(ol(56,n)),t.children.length=0),{props:[Sr(et("textContent",!0),i?dn(i,r)>0?i:Ur(r.helperString(_v),[i],n):et("",!0))]}},hre=(e,t,r)=>{const i=b8(e,t,r);if(!i.props.length||t.tagType===1)return i;e.arg&&r.onError(ol(58,e.arg.loc));const{tag:n}=t,s=r.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||s){let o=S8,a=!1;if(n==="input"||s){const l=wv(t,"type");if(l){if(l.type===7)o=Bw;else if(l.value)switch(l.value.content){case"radio":o=_8;break;case"checkbox":o=w8;break;case"file":a=!0,r.onError(ol(59,e.loc));break}}else Yee(t)&&(o=Bw)}else n==="select"&&(o=x8);a||(i.needRuntime=r.helper(o))}else r.onError(ol(57,e.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},fre=Sn("passive,once,capture"),dre=Sn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),pre=Sn("left,right"),O8=Sn("onkeyup,onkeydown,onkeypress"),mre=(e,t,r,i)=>{const n=[],s=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&Dp("COMPILER_V_ON_NATIVE",r)||fre(l)?o.push(l):pre(l)?en(e)?O8(e.content.toLowerCase())?n.push(l):s.push(l):(n.push(l),s.push(l)):dre(l)?s.push(l):n.push(l)}return{keyModifiers:n,nonKeyModifiers:s,eventOptionModifiers:o}},WM=(e,t)=>en(e)&&e.content.toLowerCase()==="onclick"?et(t,!0):e.type!==4?gs(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,yre=(e,t,r)=>v8(e,t,r,i=>{const{modifiers:n}=e;if(!n.length)return i;let{key:s,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=mre(s,n,r,e.loc);if(l.includes("right")&&(s=WM(s,"onContextmenu")),l.includes("middle")&&(s=WM(s,"onMouseup")),l.length&&(o=Ur(r.helper(E8),[o,JSON.stringify(l)])),a.length&&(!en(s)||O8(s.content.toLowerCase()))&&(o=Ur(r.helper(T8),[o,JSON.stringify(a)])),c.length){const f=c.map(bl).join("");s=en(s)?et(`${s.content}${f}`,!0):gs(["(",s,`) + "${f}"`])}return{props:[Sr(s,o)]}}),gre=(e,t,r)=>{const{exp:i,loc:n}=e;return i||r.onError(ol(61,n)),{props:[],needRuntime:r.helper(A8)}},vre=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},bre=[are],_re={cloak:nre,html:cre,text:ure,model:hre,on:yre,show:gre};function wre(e,t={}){return ire(e,ct({},ore,t,{nodeTransforms:[vre,...bre,...t.nodeTransforms||[]],directiveTransforms:ct({},_re,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const HM=Object.create(null);function C8(e,t){if(!Ke(e))if(e.nodeType)e=e.innerHTML;else return wi;const r=sX(e,t),i=HM[r];if(i)return i;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const n=ct({hoistStatic:!0,onError:void 0,onWarn:wi},t);!n.isCustomElement&&typeof customElements<"u"&&(n.isCustomElement=a=>!!customElements.get(a));const{code:s}=wre(e,n),o=new Function("Vue",s)(Oee);return o._rc=!0,HM[r]=o}FE(C8);const a1e=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:uE,BaseTransitionPropsValidators:hv,Comment:br,DeprecationTypes:_k,EffectScope:ev,ErrorCodes:YP,ErrorTypeStrings:pk,Fragment:Lt,KeepAlive:dL,ReactiveEffect:Dh,Static:sl,Suspense:ZL,Teleport:cE,Text:so,TrackOpTypes:VP,Transition:mv,TransitionGroup:gv,TriggerOpTypes:zP,VueElement:Mm,assertNumber:HP,callWithAsyncErrorHandling:bn,callWithErrorHandling:hu,camelize:Xt,capitalize:bl,cloneVNode:xs,compatUtils:bk,compile:C8,computed:tt,createApp:dl,createBlock:qt,createCommentVNode:Yt,createElementBlock:Ee,createElementVNode:ue,createHydrationRenderer:OE,createPropsRestProxy:CL,createRenderer:IE,createSSRApp:HE,createSlots:yL,createStaticVNode:nk,createTextVNode:oo,createVNode:Xe,customRef:nE,defineAsyncComponent:fE,defineComponent:ot,defineCustomElement:BE,defineEmits:bL,defineExpose:_L,defineModel:xL,defineOptions:wL,defineProps:vL,defineSSRCustomElement:Ok,defineSlots:SL,devtools:mk,effect:TP,effectScope:bm,getCurrentInstance:Nr,getCurrentScope:tv,getCurrentWatcher:qP,getTransitionRawChildren:wm,guardReactiveProps:RE,h:Un,handleError:xl,hasInjectionContext:AE,hydrate:Uk,hydrateOnIdle:cL,hydrateOnInteraction:fL,hydrateOnMediaQuery:hL,hydrateOnVisible:uL,initCustomFormatter:hk,initDirectivesForSSR:Bk,inject:zr,isMemoSame:UE,isProxy:_m,isReactive:mn,isReadonly:ea,isRef:gt,isRuntimeOnly:lk,isShallow:tn,isVNode:Ss,markRaw:xr,mergeDefaults:IL,mergeModels:OL,mergeProps:pv,nextTick:As,normalizeClass:mr,normalizeProps:yP,normalizeStyle:_l,onActivated:dE,onBeforeMount:xm,onBeforeUnmount:Ms,onBeforeUpdate:mE,onDeactivated:pE,onErrorCaptured:bE,onMounted:oi,onRenderTracked:vE,onRenderTriggered:gE,onScopeDispose:Zx,onServerPrefetch:yE,onUnmounted:fu,onUpdated:Ef,onWatcherCleanup:oE,openBlock:pe,popScopeId:eL,provide:TE,proxyRefs:lv,pushScopeId:QP,queuePostFlushCb:Ip,reactive:ei,readonly:ov,ref:ne,registerRuntimeCompiler:FE,render:xh,renderList:El,renderSlot:cs,resolveComponent:vr,resolveDirective:$t,resolveDynamicComponent:wE,resolveFilter:vk,resolveTransitionHooks:qc,setBlockTracking:Ng,setDevtoolsHook:yk,setTransitionHooks:mo,shallowReactive:rE,shallowReadonly:DP,shallowRef:xf,ssrContextKey:$E,ssrUtils:gk,stop:AP,toDisplayString:zt,toHandlerKey:Sc,toHandlers:gL,toRaw:qe,toRef:GP,toRefs:sE,toValue:jP,transformVNodeArgs:rk,triggerRef:UP,unref:$e,useAttrs:AL,useCssModule:$k,useCssVars:GE,useHost:VE,useId:lL,useModel:YL,useSSRContext:NE,useShadowRoot:Ck,useSlots:TL,useTemplateRef:Mg,useTransitionState:uv,vModelCheckbox:vv,vModelDynamic:qE,vModelRadio:bv,vModelSelect:zE,vModelText:Pp,vShow:yv,version:jE,warn:dk,watch:Xr,watchEffect:WL,watchPostEffect:PE,watchSyncEffect:LE,withAsyncContext:$L,withCtx:Tr,withDefaults:EL,withDirectives:Ct,withKeys:WE,withMemo:fk,withModifiers:Im,withScopeId:tL},Symbol.toStringTag,{value:"Module"}));var Sre=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let $8;const Ev=e=>$8=e,N8=Symbol();function Vw(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Bd;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bd||(Bd={}));function xre(){const e=bm(!0),t=e.run(()=>ne({}));let r=[],i=[];const n=xr({install(s){Ev(n),n._a=s,s.provide(N8,n),s.config.globalProperties.$pinia=n,i.forEach(o=>r.push(o)),i=[]},use(s){return!this._a&&!Sre?i.push(s):r.push(s),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return n}const P8=()=>{};function YM(e,t,r,i=P8){e.push(t);const n=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!r&&tv()&&Zx(n),n}function Iu(e,...t){e.slice().forEach(r=>{r(...t)})}const Ere=e=>e();function zw(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,i)=>e.set(i,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],n=e[r];Vw(n)&&Vw(i)&&e.hasOwnProperty(r)&&!gt(i)&&!mn(i)?e[r]=zw(n,i):e[r]=i}return e}const Tre=Symbol();function Are(e){return!Vw(e)||!e.hasOwnProperty(Tre)}const{assign:Na}=Object;function Mre(e){return!!(gt(e)&&e.effect)}function Ire(e,t,r,i){const{state:n,actions:s,getters:o}=t,a=r.state.value[e];let l;function c(){a||(r.state.value[e]=n?n():{});const f=sE(r.state.value[e]);return Na(f,s,Object.keys(o||{}).reduce((d,p)=>(d[p]=xr(tt(()=>{Ev(r);const y=r._s.get(e);return o[p].call(y,y)})),d),{}))}return l=L8(e,c,t,r,i,!0),l}function L8(e,t,r={},i,n,s){let o;const a=Na({actions:{}},r),l={deep:!0};let c,f,d=[],p=[],y;const g=i.state.value[e];!s&&!g&&(i.state.value[e]={}),ne({});let w;function _(R){let k;c=f=!1,typeof R=="function"?(R(i.state.value[e]),k={type:Bd.patchFunction,storeId:e,events:y}):(zw(i.state.value[e],R),k={type:Bd.patchObject,payload:R,storeId:e,events:y});const G=w=Symbol();As().then(()=>{w===G&&(c=!0)}),f=!0,Iu(d,k,i.state.value[e])}const x=s?function(){const{state:k}=r,G=k?k():{};this.$patch(W=>{Na(W,G)})}:P8;function T(){o.stop(),d=[],p=[],i._s.delete(e)}function S(R,k){return function(){Ev(i);const G=Array.from(arguments),W=[],V=[];function z(m){W.push(m)}function ee(m){V.push(m)}Iu(p,{args:G,name:R,store:M,after:z,onError:ee});let u;try{u=k.apply(this&&this.$id===e?this:M,G)}catch(m){throw Iu(V,m),m}return u instanceof Promise?u.then(m=>(Iu(W,m),m)).catch(m=>(Iu(V,m),Promise.reject(m))):(Iu(W,u),u)}}const v={_p:i,$id:e,$onAction:YM.bind(null,p),$patch:_,$reset:x,$subscribe(R,k={}){const G=YM(d,R,k.detached,()=>W()),W=o.run(()=>Xr(()=>i.state.value[e],V=>{(k.flush==="sync"?f:c)&&R({storeId:e,type:Bd.direct,events:y},V)},Na({},l,k)));return G},$dispose:T},M=ei(v);i._s.set(e,M);const L=(i._a&&i._a.runWithContext||Ere)(()=>i._e.run(()=>(o=bm()).run(t)));for(const R in L){const k=L[R];if(gt(k)&&!Mre(k)||mn(k))s||(g&&Are(k)&&(gt(k)?k.value=g[R]:zw(k,g[R])),i.state.value[e][R]=k);else if(typeof k=="function"){const G=S(R,k);L[R]=G,a.actions[R]=k}}return Na(M,L),Na(qe(M),L),Object.defineProperty(M,"$state",{get:()=>i.state.value[e],set:R=>{_(k=>{Na(k,R)})}}),i._p.forEach(R=>{Na(M,o.run(()=>R({store:M,app:i._a,pinia:i,options:a})))}),g&&s&&r.hydrate&&r.hydrate(M.$state,g),c=!0,f=!0,M}function lr(e,t,r){let i,n;const s=typeof t=="function";typeof e=="string"?(i=e,n=s?r:t):(n=e,i=e.id);function o(a,l){const c=AE();return a=a||(c?zr(N8,null):null),a&&Ev(a),a=$8,a._s.has(i)||(s?L8(i,t,n,a):Ire(i,n,a)),a._s.get(i)}return o.$id=i,o}const Wg=lr("appbar",()=>{const e=ne({}),t=ne([]),r=ne([]),i=tt(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function n(o){r.value.includes(o)||r.value.push(o)}function s(o){const a=r.value.indexOf(o);a!==-1&&r.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:r,visible:i,addTempButton:n,removeButton:s}}),qw=lr("grid",()=>{const e=ne({}),t=ne(),r=ne();function i(a){e.value={...e.value,[a.id]:a}}function n(a){e.value[a]!==void 0&&delete e.value[a]}function s(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:r,addGrid:i,removeGrid:n,getGridId:s,removeLayer:o}});function gc(e,t,r,i){var n,s=!1,o=0;function a(){n&&clearTimeout(n)}function l(){a(),s=!0}typeof t!="boolean"&&(i=r,r=t,t=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,g=Date.now()-o;if(s)return;function w(){o=Date.now(),r.apply(y,d)}function _(){n=void 0}i&&!n&&w(),a(),i===void 0&&g>e?w():t!==!0&&(n=setTimeout(i?_:w,i===void 0?e-g:e))}return c.cancel=l,c}function Hg(e,t,r){return r===void 0?gc(e,t,!1):gc(e,r,t!==!1)}const Xa=lr("map-caption",()=>{const e=ne({text:{},logo:{}}),t=ne({}),r=ne({}),i=ne({});function n(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function s(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:r,langtoggle:i,toggleScale:n,setAttribution:s}}),Gb=(e,t)=>{const r=[...e];for(;r.length>0;){const i=r.shift();if(t(i))return i;i&&r.push(...i.sublayers)}},Zs=lr("layer",()=>{const e=ne([]),t=ne([]),r=ne([]);function i(d){return Gb(e.value,p=>p?.uid===d)}function n(d){return Gb(e.value,p=>p?.id===d)}function s(d){return Gb(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=r.value.length),r.value.splice(p,0,d.id),r.value=[...r.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=r.value.length&&(p=r.value.length-1);const y=r.value.findIndex(g=>g===d.id);y!==-1&&y!==p&&(r.value.splice(y,1),r.value.splice(p,0,d.id),r.value=[...r.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=r.value.filter(g=>g!==d.id);r.value=y}}function f(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:r,layerConfigs:t,getLayerByUid:i,getLayerById:n,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),Xi=lr("config",()=>{const e=ne({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=ne([]),r=ne(),i=ne({}),n=ne({});function s(l){if(i.value[n.value[l]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[n.value[l]]}function o(l){const c={...e.value,...l};if(e.value=c,Array.isArray(e.value.layers)){const f=Zs();f.layerConfigs=[...f.layerConfigs,e.value.layers]}}function a(l){const c=l.configLangs,f=l.config,d=l.allLangs;c!==void 0&&c.length>0&&c.forEach(p=>{i.value[p]=f,n.value[p]=p}),d!==void 0&&d.length>0&&d.forEach(p=>{n.value[p]=Object.keys(i.value)[0]})}return{config:e,startingFixtures:t,activeBasemapConfig:r,registeredConfigs:i,registeredLangs:n,getActiveConfig:s,newConfig:o,registerConfig:a}}),k8=lr("details",()=>{const e=ne([]),t=ne({}),r=ne({}),i=ne(),n=ne(0),s=ne(0),o=ne(!0),a=ne();function l(f){const d=e.value.findIndex(p=>p.uid===f.uid);d!==-1&&e.value.splice(d,1)}function c(f){t.value={...t.value,[f.id]:f}}return{payload:e,properties:t,defaultTemplates:r,currentFeatureId:i,activeGreedy:n,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Pn=lr("fixture",()=>{const e=ne({}),t=ne({});function r(o){return o.map(a=>t.value[a].getPromise())}function i(o){if(e.value={...e.value,[o.id]:xr(o)},o.id in t.value)t.value[o.id].resolveMe(xr(o));else{const a=new $r;a.resolveMe(xr(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function n(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function s(o){t.value={...t.value,[o]:new $r}}return{items:e,loadPromises:t,getLoadPromises:r,addFixture:i,removeFixture:n,addLoadPromise:s}});var Ne=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))(Ne||{}),Ww=(e=>(e.CONFIG_CHANGE_UPDATES_MAP_ATTRIBS="ramp_config_change_updates_map_attribs",e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(Ww||{});class Ore{eventName;handlerName;handlerFunc;constructor(t,r,i){this.eventName=t,this.handlerName=r,this.handlerFunc=i}}class Cre extends Pr{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new XZ.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Ne).filter(r=>typeof r=="string"&&r.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(r=>r.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(i=>{this._nameRegister.indexOf(i)===-1&&this._nameRegister.push(i)})}eventNames(){return this._nameRegister.slice()}on(t,r,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(t));const n=new Ore(t,i,r);return this._eventRegister.push(n),this._eventBus.on(t,r),i}off(t){const r=this.findHandler(t);r&&(this._eventRegister.splice(this._eventRegister.indexOf(r),1),this._eventBus.off(r.eventName,r.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(i=>this.off(i))}removeDefaultEvents(){Object.values(Ww).forEach(t=>{this.off(t)})}emit(t,...r){this._eventBus.emit(t,...r)}once(t,r,i=""){i||(i=this.handlerNamer(t));const n=(...s)=>{r(...s),this.off(i)};return this.on(t,n,i)}activeHandlers(t=""){return t===""?this._eventRegister.map(r=>r.handlerName):this._eventRegister.filter(r=>r.eventName===t).map(r=>r.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(Ww)),t.map(r=>this.defaultHandlerFactory(r))}defaultHandlerFactory(t){let r;switch(t){case"ramp_config_change_updates_map_attribs":r=i=>{const n=i.map.basemaps.find(s=>s.id===this.$iApi.geo.map.getCurrentBasemapId());this.$iApi.geo.map.caption.updateAttribution(n?.attribution)},this.$iApi.event.on("config/configchanged",r,t);break;case"ramp_layer_error_updates_legend":r=i=>{if(i.layer.layerState===dr.ERROR){const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",r,t);break;case"ramp_layer_register_binds_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(i)},this.$iApi.event.on("layer/registered",r,t);break;case"ramp_layer_reload_end_binds_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(i)},this.$iApi.event.on("layer/reloadend",r,t);break;case"ramp_layer_reload_start_updates_legend":r=i=>{if(!i.isSublayer){const n=this.$iApi.fixture.get("legend");n&&n.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",r,t);break;case"ramp_layer_remove_checks_grid":r=i=>{if(this.$iApi.fixture.get("grid")){const n=qw(this.$vApp.$pinia),s=n.getGridId(i.id);if(s===void 0)return;if(n.removeLayer(s,i.id),n.grids[s].layerIds.length===0){n.removeGrid(s);const o=n.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),n.currentId=void 0}}}},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_remove_updates_details":r=i=>{const n=k8(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&n.removeLayer(i)},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_remove_updates_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&(n.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_useradd_updates_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&n.addLayerItem(i)},this.$iApi.event.on("user/layeradded",r,t);break;case"ramp_map_basemap_checks_tile_proj":r=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.layerType===ke.TILE).forEach(s=>{s.checkProj()});const n=new CustomEvent("BasemapSchemaChange");window.dispatchEvent(n)},this.$iApi.event.on("map/basemapchanged",r,t);break;case"ramp_map_basemap_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(Xi(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",r,t);break;case"ramp_map_blur_updates_key_handler":r=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",r,t);break;case"ramp_map_click_runs_identify":r=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",r,t);break;case"ramp_map_created_initializes_fixtures":r=()=>{const i=Pn(this.$vApp.$pinia).items;Object.keys(i).forEach(n=>{i[n].initialized?.()})},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,t);break;case"ramp_map_created_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(Xi(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,t);break;case"ramp_map_extent_updates_maptip":r=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",gc(50,!0,()=>r()),t);break;case"ramp_map_graphichit_creates_maptip":r=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",r,t);break;case"ramp_map_identify_opens_identify_results":r=i=>{const n=this.$iApi.fixture.get("details");n&&n.openDetails(i.results)},this.on("map/identify",r,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",gc(50,()=>{const i=Xa(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(s=>{i.coords={formattedString:s}})}),t);break;case"ramp_map_keydown_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",r,t);break;case"ramp_map_keyup_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",r,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",gc(50,i=>{const n=Xa(this.$vApp.$pinia);n.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(o=>{n.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",gc(50,i=>r(i)),t);break;case"ramp_map_mouseleave_removes_maptip":r=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",r);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",Hg(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",Hg(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":r=i=>{const n=Wg(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!n.order.flat().find(s=>s===i.id)&&n.removeButton(i.id)},this.on("panel/closed",r,t);break;case"ramp_panel_open_updates_appbar":r=i=>{const n=Wg(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!n.order.flat().find(s=>s===i.id)&&n.addTempButton(i.id)},this.on("panel/opened",r,t);break;case"ramp_toggle_details":r=(i,n)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(i,n)},this.$iApi.event.on("details/toggle",r,t);break;case"ramp_toggle_grid":r=(i,n)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(i.id,n)},this.$iApi.event.on("grid/toggle",r,t);break;case"ramp_toggle_help":r=i=>{const n=this.$iApi.fixture.get("help");n&&n.toggleHelp(i)},this.$iApi.event.on("help/toggle",r,t);break;case"ramp_toggle_metadata":r=(i,n)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(i,n)},this.$iApi.event.on("metadata/toggle",r,t);break;case"ramp_toggle_reorder":r=i=>{const n=this.$iApi.fixture.get("layer-reorder");n&&n.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",r,t);break;case"ramp_toggle_settings":r=(i,n)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(i,n)},this.$iApi.event.on("settings/toggle",r,t);break;case"ramp_toggle_wizard":r=i=>{const n=this.$iApi.fixture.get("wizard");n&&n.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",r,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Yg=typeof window<"u",Tl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),$re=(e,t,r)=>Nre({l:e,k:t,s:r}),Nre=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),_r=e=>typeof e=="number"&&isFinite(e),Pre=e=>D8(e)==="[object Date]",pl=e=>D8(e)==="[object RegExp]",Tv=e=>We(e)&&Object.keys(e).length===0,si=Object.assign,Lre=Object.create,kt=(e=null)=>Lre(e);let JM;const qo=()=>JM||(JM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:kt());function KM(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const kre=Object.prototype.hasOwnProperty;function us(e,t){return kre.call(e,t)}const Zt=Array.isArray,Vt=e=>typeof e=="function",Se=e=>typeof e=="string",st=e=>typeof e=="boolean",_t=e=>e!==null&&typeof e=="object",Rre=e=>_t(e)&&Vt(e.then)&&Vt(e.catch),R8=Object.prototype.toString,D8=e=>R8.call(e),We=e=>{if(!_t(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Dre=e=>e==null?"":Zt(e)||We(e)&&e.toString===R8?JSON.stringify(e,null,2):String(e);function Fre(e,t=""){return e.reduce((r,i,n)=>n===0?r+i:r+t+i,"")}function Av(e){let t=e;return()=>++t}function Ure(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const x0=e=>!_t(e)||Zt(e);function Ny(e,t){if(x0(e)||x0(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:i,des:n}=r.pop();Object.keys(i).forEach(s=>{s!=="__proto__"&&(_t(i[s])&&!_t(n[s])&&(n[s]=Array.isArray(i[s])?[]:kt()),x0(n[s])||x0(i[s])?n[s]=i[s]:r.push({src:i[s],des:n[s]}))})}}/*!
  * message-compiler v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function jre(e,t,r){return{line:e,column:t,offset:r}}function Jg(e,t,r){return{start:e,end:t}}const Gre=/\{([0-9a-zA-Z]+)\}/g;function F8(e,...t){return t.length===1&&Bre(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(Gre,(r,i)=>t.hasOwnProperty(i)?t[i]:"")}const U8=Object.assign,ZM=e=>typeof e=="string",Bre=e=>e!==null&&typeof e=="object";function j8(e,t=""){return e.reduce((r,i,n)=>n===0?r+i:r+t+i,"")}const p3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Vre={[p3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function zre(e,t,...r){const i=F8(Vre[e],...r||[]),n={message:String(i),code:e};return t&&(n.location=t),n}const Ge={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},qre={[Ge.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ge.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ge.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ge.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ge.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ge.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ge.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ge.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ge.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ge.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ge.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ge.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ge.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ge.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ge.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ge.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Tf(e,t,r={}){const{domain:i,messages:n,args:s}=r,o=F8((n||qre)[e]||"",...s||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=i,a}function Wre(e){throw e}const To=" ",Hre="\r",Oi=`
`,Yre="\u2028",Jre="\u2029";function Kre(e){const t=e;let r=0,i=1,n=1,s=0;const o=L=>t[L]===Hre&&t[L+1]===Oi,a=L=>t[L]===Oi,l=L=>t[L]===Jre,c=L=>t[L]===Yre,f=L=>o(L)||a(L)||l(L)||c(L),d=()=>r,p=()=>i,y=()=>n,g=()=>s,w=L=>o(L)||l(L)||c(L)?Oi:t[L],_=()=>w(r),x=()=>w(r+s);function T(){return s=0,f(r)&&(i++,n=0),o(r)&&r++,r++,n++,t[r]}function S(){return o(r+s)&&s++,s++,t[r+s]}function v(){r=0,i=1,n=1,s=0}function M(L=0){s=L}function C(){const L=r+s;for(;L!==r;)T();s=0}return{index:d,line:p,column:y,peekOffset:g,charAt:w,currentChar:_,currentPeek:x,next:T,peek:S,reset:v,resetPeek:M,skipToPeek:C}}const ba=void 0,Zre=".",XM="'",Xre="tokenizer";function Qre(e,t={}){const r=t.location!==!1,i=Kre(e),n=()=>i.index(),s=()=>jre(i.line(),i.column(),i.index()),o=s(),a=n(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=t;function d(I,P,j,...Z){const re=c();if(P.column+=j,P.offset+=j,f){const te=r?Jg(re.startLoc,P):null,Y=Tf(I,te,{domain:Xre,args:Z});f(Y)}}function p(I,P,j){I.endLoc=s(),I.currentType=P;const Z={type:P};return r&&(Z.loc=Jg(I.startLoc,I.endLoc)),j!=null&&(Z.value=j),Z}const y=I=>p(I,14);function g(I,P){return I.currentChar()===P?(I.next(),P):(d(Ge.EXPECTED_TOKEN,s(),0,P),"")}function w(I){let P="";for(;I.currentPeek()===To||I.currentPeek()===Oi;)P+=I.currentPeek(),I.peek();return P}function _(I){const P=w(I);return I.skipToPeek(),P}function x(I){if(I===ba)return!1;const P=I.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P===95}function T(I){if(I===ba)return!1;const P=I.charCodeAt(0);return P>=48&&P<=57}function S(I,P){const{currentType:j}=P;if(j!==2)return!1;w(I);const Z=x(I.currentPeek());return I.resetPeek(),Z}function v(I,P){const{currentType:j}=P;if(j!==2)return!1;w(I);const Z=I.currentPeek()==="-"?I.peek():I.currentPeek(),re=T(Z);return I.resetPeek(),re}function M(I,P){const{currentType:j}=P;if(j!==2)return!1;w(I);const Z=I.currentPeek()===XM;return I.resetPeek(),Z}function C(I,P){const{currentType:j}=P;if(j!==8)return!1;w(I);const Z=I.currentPeek()===".";return I.resetPeek(),Z}function L(I,P){const{currentType:j}=P;if(j!==9)return!1;w(I);const Z=x(I.currentPeek());return I.resetPeek(),Z}function R(I,P){const{currentType:j}=P;if(!(j===8||j===12))return!1;w(I);const Z=I.currentPeek()===":";return I.resetPeek(),Z}function k(I,P){const{currentType:j}=P;if(j!==10)return!1;const Z=()=>{const te=I.currentPeek();return te==="{"?x(I.peek()):te==="@"||te==="%"||te==="|"||te===":"||te==="."||te===To||!te?!1:te===Oi?(I.peek(),Z()):V(I,!1)},re=Z();return I.resetPeek(),re}function G(I){w(I);const P=I.currentPeek()==="|";return I.resetPeek(),P}function W(I){const P=w(I),j=I.currentPeek()==="%"&&I.peek()==="{";return I.resetPeek(),{isModulo:j,hasSpace:P.length>0}}function V(I,P=!0){const j=(re=!1,te="",Y=!1)=>{const X=I.currentPeek();return X==="{"?te==="%"?!1:re:X==="@"||!X?te==="%"?!0:re:X==="%"?(I.peek(),j(re,"%",!0)):X==="|"?te==="%"||Y?!0:!(te===To||te===Oi):X===To?(I.peek(),j(!0,To,Y)):X===Oi?(I.peek(),j(!0,Oi,Y)):!0},Z=j();return P&&I.resetPeek(),Z}function z(I,P){const j=I.currentChar();return j===ba?ba:P(j)?(I.next(),j):null}function ee(I){const P=I.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36}function u(I){return z(I,ee)}function m(I){const P=I.charCodeAt(0);return P>=97&&P<=122||P>=65&&P<=90||P>=48&&P<=57||P===95||P===36||P===45}function E(I){return z(I,m)}function N(I){const P=I.charCodeAt(0);return P>=48&&P<=57}function q(I){return z(I,N)}function K(I){const P=I.charCodeAt(0);return P>=48&&P<=57||P>=65&&P<=70||P>=97&&P<=102}function he(I){return z(I,K)}function oe(I){let P="",j="";for(;P=q(I);)j+=P;return j}function Ae(I){_(I);const P=I.currentChar();return P!=="%"&&d(Ge.EXPECTED_TOKEN,s(),0,P),I.next(),"%"}function Fe(I){let P="";for(;;){const j=I.currentChar();if(j==="{"||j==="}"||j==="@"||j==="|"||!j)break;if(j==="%")if(V(I))P+=j,I.next();else break;else if(j===To||j===Oi)if(V(I))P+=j,I.next();else{if(G(I))break;P+=j,I.next()}else P+=j,I.next()}return P}function Ve(I){_(I);let P="",j="";for(;P=E(I);)j+=P;return I.currentChar()===ba&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),j}function Oe(I){_(I);let P="";return I.currentChar()==="-"?(I.next(),P+=`-${oe(I)}`):P+=oe(I),I.currentChar()===ba&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),P}function vt(I){return I!==XM&&I!==Oi}function rt(I){_(I),g(I,"'");let P="",j="";for(;P=z(I,vt);)P==="\\"?j+=pt(I):j+=P;const Z=I.currentChar();return Z===Oi||Z===ba?(d(Ge.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),Z===Oi&&(I.next(),g(I,"'")),j):(g(I,"'"),j)}function pt(I){const P=I.currentChar();switch(P){case"\\":case"'":return I.next(),`\\${P}`;case"u":return ht(I,P,4);case"U":return ht(I,P,6);default:return d(Ge.UNKNOWN_ESCAPE_SEQUENCE,s(),0,P),""}}function ht(I,P,j){g(I,P);let Z="";for(let re=0;re<j;re++){const te=he(I);if(!te){d(Ge.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${P}${Z}${I.currentChar()}`);break}Z+=te}return`\\${P}${Z}`}function nt(I){return I!=="{"&&I!=="}"&&I!==To&&I!==Oi}function Rt(I){_(I);let P="",j="";for(;P=z(I,nt);)j+=P;return j}function B(I){let P="",j="";for(;P=u(I);)j+=P;return j}function F(I){const P=j=>{const Z=I.currentChar();return Z==="{"||Z==="%"||Z==="@"||Z==="|"||Z==="("||Z===")"||!Z||Z===To?j:(j+=Z,I.next(),P(j))};return P("")}function J(I){_(I);const P=g(I,"|");return _(I),P}function ae(I,P){let j=null;switch(I.currentChar()){case"{":return P.braceNest>=1&&d(Ge.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),I.next(),j=p(P,2,"{"),_(I),P.braceNest++,j;case"}":return P.braceNest>0&&P.currentType===2&&d(Ge.EMPTY_PLACEHOLDER,s(),0),I.next(),j=p(P,3,"}"),P.braceNest--,P.braceNest>0&&_(I),P.inLinked&&P.braceNest===0&&(P.inLinked=!1),j;case"@":return P.braceNest>0&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),j=se(I,P)||y(P),P.braceNest=0,j;default:{let re=!0,te=!0,Y=!0;if(G(I))return P.braceNest>0&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),j=p(P,1,J(I)),P.braceNest=0,P.inLinked=!1,j;if(P.braceNest>0&&(P.currentType===5||P.currentType===6||P.currentType===7))return d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),P.braceNest=0,O(I,P);if(re=S(I,P))return j=p(P,5,Ve(I)),_(I),j;if(te=v(I,P))return j=p(P,6,Oe(I)),_(I),j;if(Y=M(I,P))return j=p(P,7,rt(I)),_(I),j;if(!re&&!te&&!Y)return j=p(P,13,Rt(I)),d(Ge.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,j.value),_(I),j;break}}return j}function se(I,P){const{currentType:j}=P;let Z=null;const re=I.currentChar();switch((j===8||j===9||j===12||j===10)&&(re===Oi||re===To)&&d(Ge.INVALID_LINKED_FORMAT,s(),0),re){case"@":return I.next(),Z=p(P,8,"@"),P.inLinked=!0,Z;case".":return _(I),I.next(),p(P,9,".");case":":return _(I),I.next(),p(P,10,":");default:return G(I)?(Z=p(P,1,J(I)),P.braceNest=0,P.inLinked=!1,Z):C(I,P)||R(I,P)?(_(I),se(I,P)):L(I,P)?(_(I),p(P,12,B(I))):k(I,P)?(_(I),re==="{"?ae(I,P)||Z:p(P,11,F(I))):(j===8&&d(Ge.INVALID_LINKED_FORMAT,s(),0),P.braceNest=0,P.inLinked=!1,O(I,P))}}function O(I,P){let j={type:14};if(P.braceNest>0)return ae(I,P)||y(P);if(P.inLinked)return se(I,P)||y(P);switch(I.currentChar()){case"{":return ae(I,P)||y(P);case"}":return d(Ge.UNBALANCED_CLOSING_BRACE,s(),0),I.next(),p(P,3,"}");case"@":return se(I,P)||y(P);default:{if(G(I))return j=p(P,1,J(I)),P.braceNest=0,P.inLinked=!1,j;const{isModulo:re,hasSpace:te}=W(I);if(re)return te?p(P,0,Fe(I)):p(P,4,Ae(I));if(V(I))return p(P,0,Fe(I));break}}return j}function U(){const{currentType:I,offset:P,startLoc:j,endLoc:Z}=l;return l.lastType=I,l.lastOffset=P,l.lastStartLoc=j,l.lastEndLoc=Z,l.offset=n(),l.startLoc=s(),i.currentChar()===ba?p(l,14):O(i,l)}return{nextToken:U,currentOffset:n,currentPosition:s,context:c}}const eie="parser",tie=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function rie(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(t||r,16);return i<=55295||i>=57344?String.fromCodePoint(i):""}}}function iie(e={}){const t=e.location!==!1,{onError:r,onWarn:i}=e;function n(S,v,M,C,...L){const R=S.currentPosition();if(R.offset+=C,R.column+=C,r){const k=t?Jg(M,R):null,G=Tf(v,k,{domain:eie,args:L});r(G)}}function s(S,v,M,C,...L){const R=S.currentPosition();if(R.offset+=C,R.column+=C,i){const k=t?Jg(M,R):null;i(zre(v,k,L))}}function o(S,v,M){const C={type:S};return t&&(C.start=v,C.end=v,C.loc={start:M,end:M}),C}function a(S,v,M,C){t&&(S.end=v,S.loc&&(S.loc.end=M))}function l(S,v){const M=S.context(),C=o(3,M.offset,M.startLoc);return C.value=v,a(C,S.currentOffset(),S.currentPosition()),C}function c(S,v){const M=S.context(),{lastOffset:C,lastStartLoc:L}=M,R=o(5,C,L);return R.index=parseInt(v,10),S.nextToken(),a(R,S.currentOffset(),S.currentPosition()),R}function f(S,v,M){const C=S.context(),{lastOffset:L,lastStartLoc:R}=C,k=o(4,L,R);return k.key=v,M===!0&&(k.modulo=!0),S.nextToken(),a(k,S.currentOffset(),S.currentPosition()),k}function d(S,v){const M=S.context(),{lastOffset:C,lastStartLoc:L}=M,R=o(9,C,L);return R.value=v.replace(tie,rie),S.nextToken(),a(R,S.currentOffset(),S.currentPosition()),R}function p(S){const v=S.nextToken(),M=S.context(),{lastOffset:C,lastStartLoc:L}=M,R=o(8,C,L);return v.type!==12?(n(S,Ge.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),R.value="",a(R,C,L),{nextConsumeToken:v,node:R}):(v.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,Xn(v)),R.value=v.value||"",a(R,S.currentOffset(),S.currentPosition()),{node:R})}function y(S,v){const M=S.context(),C=o(7,M.offset,M.startLoc);return C.value=v,a(C,S.currentOffset(),S.currentPosition()),C}function g(S){const v=S.context(),M=o(6,v.offset,v.startLoc);let C=S.nextToken();if(C.type===9){const L=p(S);M.modifier=L.node,C=L.nextConsumeToken||S.nextToken()}switch(C.type!==10&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(C)),C=S.nextToken(),C.type===2&&(C=S.nextToken()),C.type){case 11:C.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(C)),M.key=y(S,C.value||"");break;case 5:C.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(C)),M.key=f(S,C.value||"");break;case 6:C.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(C)),M.key=c(S,C.value||"");break;case 7:C.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(C)),M.key=d(S,C.value||"");break;default:{n(S,Ge.UNEXPECTED_EMPTY_LINKED_KEY,v.lastStartLoc,0);const L=S.context(),R=o(7,L.offset,L.startLoc);return R.value="",a(R,L.offset,L.startLoc),M.key=R,a(M,L.offset,L.startLoc),{nextConsumeToken:C,node:M}}}return a(M,S.currentOffset(),S.currentPosition()),{node:M}}function w(S){const v=S.context(),M=v.currentType===1?S.currentOffset():v.offset,C=v.currentType===1?v.endLoc:v.startLoc,L=o(2,M,C);L.items=[];let R=null,k=null;do{const V=R||S.nextToken();switch(R=null,V.type){case 0:V.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(V)),L.items.push(l(S,V.value||""));break;case 6:V.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(V)),L.items.push(c(S,V.value||""));break;case 4:k=!0;break;case 5:V.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(V)),L.items.push(f(S,V.value||"",!!k)),k&&(s(S,p3.USE_MODULO_SYNTAX,v.lastStartLoc,0,Xn(V)),k=null);break;case 7:V.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,Xn(V)),L.items.push(d(S,V.value||""));break;case 8:{const z=g(S);L.items.push(z.node),R=z.nextConsumeToken||null;break}}}while(v.currentType!==14&&v.currentType!==1);const G=v.currentType===1?v.lastOffset:S.currentOffset(),W=v.currentType===1?v.lastEndLoc:S.currentPosition();return a(L,G,W),L}function _(S,v,M,C){const L=S.context();let R=C.items.length===0;const k=o(1,v,M);k.cases=[],k.cases.push(C);do{const G=w(S);R||(R=G.items.length===0),k.cases.push(G)}while(L.currentType!==14);return R&&n(S,Ge.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(k,S.currentOffset(),S.currentPosition()),k}function x(S){const v=S.context(),{offset:M,startLoc:C}=v,L=w(S);return v.currentType===14?L:_(S,M,C,L)}function T(S){const v=Qre(S,U8({},e)),M=v.context(),C=o(0,M.offset,M.startLoc);return t&&C.loc&&(C.loc.source=S),C.body=x(v),e.onCacheKey&&(C.cacheKey=e.onCacheKey(S)),M.currentType!==14&&n(v,Ge.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,S[M.offset]||""),a(C,v.currentOffset(),v.currentPosition()),C}return{parse:T}}function Xn(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function nie(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function QM(e,t){for(let r=0;r<e.length;r++)m3(e[r],t)}function m3(e,t){switch(e.type){case 1:QM(e.cases,t),t.helper("plural");break;case 2:QM(e.items,t);break;case 6:{m3(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function sie(e,t={}){const r=nie(e);r.helper("normalize"),e.body&&m3(e.body,r);const i=r.context();e.helpers=Array.from(i.helpers)}function oie(e){const t=e.body;return t.type===2?eI(t):t.cases.forEach(r=>eI(r)),e}function eI(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const i=e.items[r];if(!(i.type===3||i.type===9)||i.value==null)break;t.push(i.value)}if(t.length===e.items.length){e.static=j8(t);for(let r=0;r<e.items.length;r++){const i=e.items[r];(i.type===3||i.type===9)&&delete i.value}}}}const aie="minifier";function Bu(e){switch(e.t=e.type,e.type){case 0:{const t=e;Bu(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let i=0;i<r.length;i++)Bu(r[i]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let i=0;i<r.length;i++)Bu(r[i]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Bu(t.key),t.k=t.key,delete t.key,t.modifier&&(Bu(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Tf(Ge.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:aie,args:[e.type]})}delete e.type}const lie="parser";function cie(e,t){const{sourceMap:r,filename:i,breakLineCode:n,needIndent:s}=t,o=t.location!==!1,a={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:s,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(_,x){a.code+=_}function f(_,x=!0){const T=x?n:"";c(s?T+"  ".repeat(_):T)}function d(_=!0){const x=++a.indentLevel;_&&f(x)}function p(_=!0){const x=--a.indentLevel;_&&f(x)}function y(){f(a.indentLevel)}return{context:l,push:c,indent:d,deindent:p,newline:y,helper:_=>`_${_}`,needIndent:()=>a.needIndent}}function uie(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),zh(e,t.key),t.modifier?(e.push(", "),zh(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function hie(e,t){const{helper:r,needIndent:i}=e;e.push(`${r("normalize")}([`),e.indent(i());const n=t.items.length;for(let s=0;s<n&&(zh(e,t.items[s]),s!==n-1);s++)e.push(", ");e.deindent(i()),e.push("])")}function fie(e,t){const{helper:r,needIndent:i}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(i());const n=t.cases.length;for(let s=0;s<n&&(zh(e,t.cases[s]),s!==n-1);s++)e.push(", ");e.deindent(i()),e.push("])")}}function die(e,t){t.body?zh(e,t.body):e.push("null")}function zh(e,t){const{helper:r}=e;switch(t.type){case 0:die(e,t);break;case 1:fie(e,t);break;case 2:hie(e,t);break;case 6:uie(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Tf(Ge.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:lie,args:[t.type]})}}const pie=(e,t={})=>{const r=ZM(t.mode)?t.mode:"normal",i=ZM(t.filename)?t.filename:"message.intl",n=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,o=t.needIndent?t.needIndent:r!=="arrow",a=e.helpers||[],l=cie(e,{mode:r,filename:i,sourceMap:n,breakLineCode:s,needIndent:o});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${j8(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),zh(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:f}=l.context();return{ast:e,code:c,map:f?f.toJSON():void 0}};function mie(e,t={}){const r=U8({},t),i=!!r.jit,n=!!r.minify,s=r.optimize==null?!0:r.optimize,a=iie(r).parse(e);return i?(s&&oie(a),n&&Bu(a),{ast:a,code:""}):(sie(a,r),pie(a,r))}/*!
  * core-base v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function yie(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qo().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(qo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(qo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Al=[];Al[0]={w:[0],i:[3,0],"[":[4],o:[7]};Al[1]={w:[1],".":[2],"[":[4],o:[7]};Al[2]={w:[2],i:[3,0],0:[3,0]};Al[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Al[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Al[5]={"'":[4,0],o:8,l:[5,0]};Al[6]={'"':[4,0],o:8,l:[6,0]};const gie=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function vie(e){return gie.test(e)}function bie(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function _ie(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function wie(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:vie(t)?bie(t):"*"+t}function Sie(e){const t=[];let r=-1,i=0,n=0,s,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),n++},p[3]=()=>{if(n>0)n--,i=4,p[0]();else{if(n=0,o===void 0||(o=wie(o),o===!1))return!1;p[1]()}};function y(){const g=e[r+1];if(i===5&&g==="'"||i===6&&g==='"')return r++,a="\\"+g,p[0](),!0}for(;i!==null;)if(r++,s=e[r],!(s==="\\"&&y())){if(l=_ie(s),d=Al[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=s,f()===!1))))return;if(i===7)return t}}const tI=new Map;function xie(e,t){return _t(e)?e[t]:null}function Eie(e,t){if(!_t(e))return null;let r=tI.get(t);if(r||(r=Sie(t),r&&tI.set(t,r)),!r)return null;const i=r.length;let n=e,s=0;for(;s<i;){const o=n[r[s]];if(o===void 0||Vt(n))return null;n=o,s++}return n}const Tie=e=>e,Aie=e=>"",Mie="text",Iie=e=>e.length===0?"":Fre(e),Oie=Dre;function rI(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Cie(e){const t=_r(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(_r(e.named.count)||_r(e.named.n))?_r(e.named.count)?e.named.count:_r(e.named.n)?e.named.n:t:t}function $ie(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Nie(e={}){const t=e.locale,r=Cie(e),i=_t(e.pluralRules)&&Se(t)&&Vt(e.pluralRules[t])?e.pluralRules[t]:rI,n=_t(e.pluralRules)&&Se(t)&&Vt(e.pluralRules[t])?rI:void 0,s=x=>x[i(r,x.length,n)],o=e.list||[],a=x=>o[x],l=e.named||kt();_r(e.pluralIndex)&&$ie(r,l);const c=x=>l[x];function f(x){const T=Vt(e.messages)?e.messages(x):_t(e.messages)?e.messages[x]:!1;return T||(e.parent?e.parent.message(x):Aie)}const d=x=>e.modifiers?e.modifiers[x]:Tie,p=We(e.processor)&&Vt(e.processor.normalize)?e.processor.normalize:Iie,y=We(e.processor)&&Vt(e.processor.interpolate)?e.processor.interpolate:Oie,g=We(e.processor)&&Se(e.processor.type)?e.processor.type:Mie,_={list:a,named:c,plural:s,linked:(x,...T)=>{const[S,v]=T;let M="text",C="";T.length===1?_t(S)?(C=S.modifier||C,M=S.type||M):Se(S)&&(C=S||C):T.length===2&&(Se(S)&&(C=S||C),Se(v)&&(M=v||M));const L=f(x)(_),R=M==="vnode"&&Zt(L)&&C?L[0]:L;return C?d(C)(R,M):R},message:f,type:g,interpolate:y,normalize:p,values:si(kt(),o,l)};return _}let jp=null;function Pie(e){jp=e}function Lie(e,t,r){jp&&jp.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const kie=Rie("function:translate");function Rie(e){return t=>jp&&jp.emit(e,t)}const G8=p3.__EXTEND_POINT__,Fl=Av(G8),Die={NOT_FOUND_KEY:G8,FALLBACK_TO_TRANSLATE:Fl(),CANNOT_FORMAT_NUMBER:Fl(),FALLBACK_TO_NUMBER_FORMAT:Fl(),CANNOT_FORMAT_DATE:Fl(),FALLBACK_TO_DATE_FORMAT:Fl(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Fl(),__EXTEND_POINT__:Fl()},B8=Ge.__EXTEND_POINT__,Ul=Av(B8),hs={INVALID_ARGUMENT:B8,INVALID_DATE_ARGUMENT:Ul(),INVALID_ISO_DATE_ARGUMENT:Ul(),NOT_SUPPORT_NON_STRING_MESSAGE:Ul(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ul(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ul(),NOT_SUPPORT_LOCALE_TYPE:Ul(),__EXTEND_POINT__:Ul()};function Xs(e){return Tf(e,null,void 0)}function y3(e,t){return t.locale!=null?iI(t.locale):iI(e.locale)}let Bb;function iI(e){if(Se(e))return e;if(Vt(e)){if(e.resolvedOnce&&Bb!=null)return Bb;if(e.constructor.name==="Function"){const t=e();if(Rre(t))throw Xs(hs.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Bb=t}else throw Xs(hs.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Xs(hs.NOT_SUPPORT_LOCALE_TYPE)}function Fie(e,t,r){return[...new Set([r,...Zt(t)?t:_t(t)?Object.keys(t):Se(t)?[t]:[r]])]}function V8(e,t,r){const i=Se(r)?r:qh,n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let s=n.__localeChainCache.get(i);if(!s){s=[];let o=[r];for(;Zt(o);)o=nI(s,o,t);const a=Zt(t)||!We(t)?t:t.default?t.default:null;o=Se(a)?[a]:a,Zt(o)&&nI(s,o,!1),n.__localeChainCache.set(i,s)}return s}function nI(e,t,r){let i=!0;for(let n=0;n<t.length&&st(i);n++){const s=t[n];Se(s)&&(i=Uie(e,t[n],r))}return i}function Uie(e,t,r){let i;const n=t.split("-");do{const s=n.join("-");i=jie(e,s,r),n.splice(-1,1)}while(n.length&&i===!0);return i}function jie(e,t,r){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";const n=t.replace(/!/g,"");e.push(n),(Zt(r)||We(r))&&r[n]&&(i=r[n])}return i}const Gie="9.14.2",Mv=-1,qh="en-US",sI="",oI=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Bie(){return{upper:(e,t)=>t==="text"&&Se(e)?e.toUpperCase():t==="vnode"&&_t(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Se(e)?e.toLowerCase():t==="vnode"&&_t(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Se(e)?oI(e):t==="vnode"&&_t(e)&&"__v_isVNode"in e?oI(e.children):e}}let z8;function aI(e){z8=e}let q8;function Vie(e){q8=e}let W8;function zie(e){W8=e}let H8=null;const qie=e=>{H8=e},Wie=()=>H8;let Y8=null;const lI=e=>{Y8=e},Hie=()=>Y8;let cI=0;function Yie(e={}){const t=Vt(e.onWarn)?e.onWarn:Ure,r=Se(e.version)?e.version:Gie,i=Se(e.locale)||Vt(e.locale)?e.locale:qh,n=Vt(i)?qh:i,s=Zt(e.fallbackLocale)||We(e.fallbackLocale)||Se(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,o=We(e.messages)?e.messages:Vb(n),a=We(e.datetimeFormats)?e.datetimeFormats:Vb(n),l=We(e.numberFormats)?e.numberFormats:Vb(n),c=si(kt(),e.modifiers,Bie()),f=e.pluralRules||kt(),d=Vt(e.missing)?e.missing:null,p=st(e.missingWarn)||pl(e.missingWarn)?e.missingWarn:!0,y=st(e.fallbackWarn)||pl(e.fallbackWarn)?e.fallbackWarn:!0,g=!!e.fallbackFormat,w=!!e.unresolving,_=Vt(e.postTranslation)?e.postTranslation:null,x=We(e.processor)?e.processor:null,T=st(e.warnHtmlMessage)?e.warnHtmlMessage:!0,S=!!e.escapeParameter,v=Vt(e.messageCompiler)?e.messageCompiler:z8,M=Vt(e.messageResolver)?e.messageResolver:q8||xie,C=Vt(e.localeFallbacker)?e.localeFallbacker:W8||Fie,L=_t(e.fallbackContext)?e.fallbackContext:void 0,R=e,k=_t(R.__datetimeFormatters)?R.__datetimeFormatters:new Map,G=_t(R.__numberFormatters)?R.__numberFormatters:new Map,W=_t(R.__meta)?R.__meta:{};cI++;const V={version:r,cid:cI,locale:i,fallbackLocale:s,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:g,unresolving:w,postTranslation:_,processor:x,warnHtmlMessage:T,escapeParameter:S,messageCompiler:v,messageResolver:M,localeFallbacker:C,fallbackContext:L,onWarn:t,__meta:W};return V.datetimeFormats=a,V.numberFormats=l,V.__datetimeFormatters=k,V.__numberFormatters=G,__INTLIFY_PROD_DEVTOOLS__&&Lie(V,r,W),V}const Vb=e=>({[e]:kt()});function g3(e,t,r,i,n){const{missing:s,onWarn:o}=e;if(s!==null){const a=s(e,r,t,n);return Se(a)?a:t}else return t}function Gf(e,t,r){const i=e;i.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function Jie(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Kie(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let i=r+1;i<t.length;i++)if(Jie(e,t[i]))return!0;return!1}function zb(e){return r=>Zie(r,e)}function Zie(e,t){const r=Qie(t);if(r==null)throw Gp(0);if(v3(r)===1){const s=tne(r);return e.plural(s.reduce((o,a)=>[...o,uI(e,a)],[]))}else return uI(e,r)}const Xie=["b","body"];function Qie(e){return Ml(e,Xie)}const ene=["c","cases"];function tne(e){return Ml(e,ene,[])}function uI(e,t){const r=ine(t);if(r!=null)return e.type==="text"?r:e.normalize([r]);{const i=sne(t).reduce((n,s)=>[...n,Hw(e,s)],[]);return e.normalize(i)}}const rne=["s","static"];function ine(e){return Ml(e,rne)}const nne=["i","items"];function sne(e){return Ml(e,nne,[])}function Hw(e,t){const r=v3(t);switch(r){case 3:return E0(t,r);case 9:return E0(t,r);case 4:{const i=t;if(us(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(us(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw Gp(r)}case 5:{const i=t;if(us(i,"i")&&_r(i.i))return e.interpolate(e.list(i.i));if(us(i,"index")&&_r(i.index))return e.interpolate(e.list(i.index));throw Gp(r)}case 6:{const i=t,n=cne(i),s=hne(i);return e.linked(Hw(e,s),n?Hw(e,n):void 0,e.type)}case 7:return E0(t,r);case 8:return E0(t,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const one=["t","type"];function v3(e){return Ml(e,one)}const ane=["v","value"];function E0(e,t){const r=Ml(e,ane);if(r)return r;throw Gp(t)}const lne=["m","modifier"];function cne(e){return Ml(e,lne)}const une=["k","key"];function hne(e){const t=Ml(e,une);if(t)return t;throw Gp(6)}function Ml(e,t,r){for(let i=0;i<t.length;i++){const n=t[i];if(us(e,n)&&e[n]!=null)return e[n]}return r}function Gp(e){return new Error(`unhandled node type: ${e}`)}const J8=e=>e;let rh=kt();function Wh(e){return _t(e)&&v3(e)===0&&(us(e,"b")||us(e,"body"))}function K8(e,t={}){let r=!1;const i=t.onError||Wre;return t.onError=n=>{r=!0,i(n)},{...mie(e,t),detectError:r}}const fne=(e,t)=>{if(!Se(e))throw Xs(hs.NOT_SUPPORT_NON_STRING_MESSAGE);{st(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||J8)(e),n=rh[i];if(n)return n;const{code:s,detectError:o}=K8(e,t),a=new Function(`return ${s}`)();return o?a:rh[i]=a}};function dne(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Se(e)){st(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||J8)(e),n=rh[i];if(n)return n;const{ast:s,detectError:o}=K8(e,{...t,location:!1,jit:!0}),a=zb(s);return o?a:rh[i]=a}else{const r=e.cacheKey;if(r){const i=rh[r];return i||(rh[r]=zb(e))}else return zb(e)}}const hI=()=>"",Rn=e=>Vt(e);function fI(e,...t){const{fallbackFormat:r,postTranslation:i,unresolving:n,messageCompiler:s,fallbackLocale:o,messages:a}=e,[l,c]=Yw(...t),f=st(c.missingWarn)?c.missingWarn:e.missingWarn,d=st(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=st(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,g=Se(c.default)||st(c.default)?st(c.default)?s?l:()=>l:c.default:r?s?l:()=>l:"",w=r||g!=="",_=y3(e,c);p&&pne(c);let[x,T,S]=y?[l,_,a[_]||kt()]:Z8(e,l,_,o,d,f),v=x,M=l;if(!y&&!(Se(v)||Wh(v)||Rn(v))&&w&&(v=g,M=v),!y&&(!(Se(v)||Wh(v)||Rn(v))||!Se(T)))return n?Mv:l;let C=!1;const L=()=>{C=!0},R=Rn(v)?v:X8(e,l,T,v,M,L);if(C)return v;const k=gne(e,T,S,c),G=Nie(k),W=mne(e,R,G),V=i?i(W,l):W;if(__INTLIFY_PROD_DEVTOOLS__){const z={timestamp:Date.now(),key:Se(l)?l:Rn(v)?v.key:"",locale:T||(Rn(v)?v.locale:""),format:Se(v)?v:Rn(v)?v.source:"",message:V};z.meta=si({},e.__meta,Wie()||{}),kie(z)}return V}function pne(e){Zt(e.list)?e.list=e.list.map(t=>Se(t)?KM(t):t):_t(e.named)&&Object.keys(e.named).forEach(t=>{Se(e.named[t])&&(e.named[t]=KM(e.named[t]))})}function Z8(e,t,r,i,n,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,f=c(e,i,r);let d=kt(),p,y=null;const g="translate";for(let w=0;w<f.length&&(p=f[w],d=o[p]||kt(),(y=l(d,t))===null&&(y=d[t]),!(Se(y)||Wh(y)||Rn(y)));w++)if(!Kie(p,f)){const _=g3(e,t,p,s,g);_!==t&&(y=_)}return[y,p,d]}function X8(e,t,r,i,n,s){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Rn(i)){const c=i;return c.locale=c.locale||r,c.key=c.key||t,c}if(o==null){const c=()=>i;return c.locale=r,c.key=t,c}const l=o(i,yne(e,r,n,i,a,s));return l.locale=r,l.key=t,l.source=i,l}function mne(e,t,r){return t(r)}function Yw(...e){const[t,r,i]=e,n=kt();if(!Se(t)&&!_r(t)&&!Rn(t)&&!Wh(t))throw Xs(hs.INVALID_ARGUMENT);const s=_r(t)?String(t):(Rn(t),t);return _r(r)?n.plural=r:Se(r)?n.default=r:We(r)&&!Tv(r)?n.named=r:Zt(r)&&(n.list=r),_r(i)?n.plural=i:Se(i)?n.default=i:We(i)&&si(n,i),[s,n]}function yne(e,t,r,i,n,s){return{locale:t,key:r,warnHtmlMessage:n,onError:o=>{throw s&&s(o),o},onCacheKey:o=>$re(t,r,o)}}function gne(e,t,r,i){const{modifiers:n,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=e,p={locale:t,modifiers:n,pluralRules:s,messages:y=>{let g=o(r,y);if(g==null&&f){const[,,w]=Z8(f,y,t,a,l,c);g=o(w,y)}if(Se(g)||Wh(g)){let w=!1;const x=X8(e,y,t,g,y,()=>{w=!0});return w?hI:x}else return Rn(g)?g:hI}};return e.processor&&(p.processor=e.processor),i.list&&(p.list=i.list),i.named&&(p.named=i.named),_r(i.plural)&&(p.pluralIndex=i.plural),p}function dI(e,...t){const{datetimeFormats:r,unresolving:i,fallbackLocale:n,onWarn:s,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,f,d]=Jw(...t),p=st(f.missingWarn)?f.missingWarn:e.missingWarn;st(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,g=y3(e,f),w=o(e,n,g);if(!Se(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let _={},x,T=null;const S="datetime format";for(let C=0;C<w.length&&(x=w[C],_=r[x]||{},T=_[l],!We(T));C++)g3(e,l,x,p,S);if(!We(T)||!Se(x))return i?Mv:l;let v=`${x}__${l}`;Tv(d)||(v=`${v}__${JSON.stringify(d)}`);let M=a.get(v);return M||(M=new Intl.DateTimeFormat(x,si({},T,d)),a.set(v,M)),y?M.formatToParts(c):M.format(c)}const Q8=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Jw(...e){const[t,r,i,n]=e,s=kt();let o=kt(),a;if(Se(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Xs(hs.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Xs(hs.INVALID_ISO_DATE_ARGUMENT)}}else if(Pre(t)){if(isNaN(t.getTime()))throw Xs(hs.INVALID_DATE_ARGUMENT);a=t}else if(_r(t))a=t;else throw Xs(hs.INVALID_ARGUMENT);return Se(r)?s.key=r:We(r)&&Object.keys(r).forEach(l=>{Q8.includes(l)?o[l]=r[l]:s[l]=r[l]}),Se(i)?s.locale=i:We(i)&&(o=i),We(n)&&(o=n),[s.key||"",a,s,o]}function pI(e,t,r){const i=e;for(const n in r){const s=`${t}__${n}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function mI(e,...t){const{numberFormats:r,unresolving:i,fallbackLocale:n,onWarn:s,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,f,d]=Kw(...t),p=st(f.missingWarn)?f.missingWarn:e.missingWarn;st(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,g=y3(e,f),w=o(e,n,g);if(!Se(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let _={},x,T=null;const S="number format";for(let C=0;C<w.length&&(x=w[C],_=r[x]||{},T=_[l],!We(T));C++)g3(e,l,x,p,S);if(!We(T)||!Se(x))return i?Mv:l;let v=`${x}__${l}`;Tv(d)||(v=`${v}__${JSON.stringify(d)}`);let M=a.get(v);return M||(M=new Intl.NumberFormat(x,si({},T,d)),a.set(v,M)),y?M.formatToParts(c):M.format(c)}const eR=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Kw(...e){const[t,r,i,n]=e,s=kt();let o=kt();if(!_r(t))throw Xs(hs.INVALID_ARGUMENT);const a=t;return Se(r)?s.key=r:We(r)&&Object.keys(r).forEach(l=>{eR.includes(l)?o[l]=r[l]:s[l]=r[l]}),Se(i)?s.locale=i:We(i)&&(o=i),We(n)&&(o=n),[s.key||"",a,s,o]}function yI(e,t,r){const i=e;for(const n in r){const s=`${t}__${n}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}yie();/*!
  * vue-i18n v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const vne="9.14.2";function bne(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(qo().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(qo().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(qo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(qo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(qo().__INTLIFY_PROD_DEVTOOLS__=!1)}const tR=Die.__EXTEND_POINT__,Ao=Av(tR);Ao(),Ao(),Ao(),Ao(),Ao(),Ao(),Ao(),Ao(),Ao();const rR=hs.__EXTEND_POINT__,ji=Av(rR),qr={UNEXPECTED_RETURN_TYPE:rR,INVALID_ARGUMENT:ji(),MUST_BE_CALL_SETUP_TOP:ji(),NOT_INSTALLED:ji(),NOT_AVAILABLE_IN_LEGACY_MODE:ji(),REQUIRED_VALUE:ji(),INVALID_VALUE:ji(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ji(),NOT_INSTALLED_WITH_PROVIDE:ji(),UNEXPECTED_ERROR:ji(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ji(),BRIDGE_SUPPORT_VUE_2_ONLY:ji(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ji(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ji(),__EXTEND_POINT__:ji()};function Qr(e,...t){return Tf(e,null,void 0)}const Zw=Tl("__translateVNode"),Xw=Tl("__datetimeParts"),Qw=Tl("__numberParts"),iR=Tl("__setPluralRules"),nR=Tl("__injectWithOption"),eS=Tl("__dispose");function Bp(e){if(!_t(e))return e;for(const t in e)if(us(e,t))if(!t.includes("."))_t(e[t])&&Bp(e[t]);else{const r=t.split("."),i=r.length-1;let n=e,s=!1;for(let o=0;o<i;o++){if(r[o]in n||(n[r[o]]=kt()),!_t(n[r[o]])){s=!0;break}n=n[r[o]]}s||(n[r[i]]=e[t],delete e[t]),_t(n[r[i]])&&Bp(n[r[i]])}return e}function Iv(e,t){const{messages:r,__i18n:i,messageResolver:n,flatJson:s}=t,o=We(r)?r:Zt(i)?kt():{[e]:kt()};if(Zt(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||kt(),Ny(c,o[l])):Ny(c,o)}else Se(a)&&Ny(JSON.parse(a),o)}),n==null&&s)for(const a in o)us(o,a)&&Bp(o[a]);return o}function sR(e){return e.type}function oR(e,t,r){let i=_t(t.messages)?t.messages:kt();"__i18nGlobal"in r&&(i=Iv(e.locale.value,{messages:i,__i18n:r.__i18nGlobal}));const n=Object.keys(i);n.length&&n.forEach(s=>{e.mergeLocaleMessage(s,i[s])});{if(_t(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(_t(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function gI(e){return Xe(so,null,e,0)}const vI="__INTLIFY_META__",bI=()=>[],_ne=()=>!1;let _I=0;function wI(e){return(t,r,i,n)=>e(r,i,Nr()||void 0,n)}const wne=()=>{const e=Nr();let t=null;return e&&(t=sR(e)[vI])?{[vI]:t}:null};function b3(e={},t){const{__root:r,__injectWithOption:i}=e,n=r===void 0,s=e.flatJson,o=Yg?ne:xf,a=!!e.translateExistCompatible;let l=st(e.inheritLocale)?e.inheritLocale:!0;const c=o(r&&l?r.locale.value:Se(e.locale)?e.locale:qh),f=o(r&&l?r.fallbackLocale.value:Se(e.fallbackLocale)||Zt(e.fallbackLocale)||We(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Iv(c.value,e)),p=o(We(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(We(e.numberFormats)?e.numberFormats:{[c.value]:{}});let g=r?r.missingWarn:st(e.missingWarn)||pl(e.missingWarn)?e.missingWarn:!0,w=r?r.fallbackWarn:st(e.fallbackWarn)||pl(e.fallbackWarn)?e.fallbackWarn:!0,_=r?r.fallbackRoot:st(e.fallbackRoot)?e.fallbackRoot:!0,x=!!e.fallbackFormat,T=Vt(e.missing)?e.missing:null,S=Vt(e.missing)?wI(e.missing):null,v=Vt(e.postTranslation)?e.postTranslation:null,M=r?r.warnHtmlMessage:st(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter;const L=r?r.modifiers:We(e.modifiers)?e.modifiers:{};let R=e.pluralRules||r&&r.pluralRules,k;k=(()=>{n&&lI(null);const Y={version:vne,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:L,pluralRules:R,missing:S===null?void 0:S,missingWarn:g,fallbackWarn:w,fallbackFormat:x,unresolving:!0,postTranslation:v===null?void 0:v,warnHtmlMessage:M,escapeParameter:C,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};Y.datetimeFormats=p.value,Y.numberFormats=y.value,Y.__datetimeFormatters=We(k)?k.__datetimeFormatters:void 0,Y.__numberFormatters=We(k)?k.__numberFormatters:void 0;const X=Yie(Y);return n&&lI(X),X})(),Gf(k,c.value,f.value);function W(){return[c.value,f.value,d.value,p.value,y.value]}const V=tt({get:()=>c.value,set:Y=>{c.value=Y,k.locale=c.value}}),z=tt({get:()=>f.value,set:Y=>{f.value=Y,k.fallbackLocale=f.value,Gf(k,c.value,Y)}}),ee=tt(()=>d.value),u=tt(()=>p.value),m=tt(()=>y.value);function E(){return Vt(v)?v:null}function N(Y){v=Y,k.postTranslation=Y}function q(){return T}function K(Y){Y!==null&&(S=wI(Y)),T=Y,k.missing=S}const he=(Y,X,ve,Ie,mt,Wt)=>{W();let cr;try{__INTLIFY_PROD_DEVTOOLS__,n||(k.fallbackContext=r?Hie():void 0),cr=Y(k)}finally{__INTLIFY_PROD_DEVTOOLS__,n||(k.fallbackContext=void 0)}if(ve!=="translate exists"&&_r(cr)&&cr===Mv||ve==="translate exists"&&!cr){const[Lr,ie]=X();return r&&_?Ie(r):mt(Lr)}else{if(Wt(cr))return cr;throw Qr(qr.UNEXPECTED_RETURN_TYPE)}};function oe(...Y){return he(X=>Reflect.apply(fI,null,[X,...Y]),()=>Yw(...Y),"translate",X=>Reflect.apply(X.t,X,[...Y]),X=>X,X=>Se(X))}function Ae(...Y){const[X,ve,Ie]=Y;if(Ie&&!_t(Ie))throw Qr(qr.INVALID_ARGUMENT);return oe(X,ve,si({resolvedMessage:!0},Ie||{}))}function Fe(...Y){return he(X=>Reflect.apply(dI,null,[X,...Y]),()=>Jw(...Y),"datetime format",X=>Reflect.apply(X.d,X,[...Y]),()=>sI,X=>Se(X))}function Ve(...Y){return he(X=>Reflect.apply(mI,null,[X,...Y]),()=>Kw(...Y),"number format",X=>Reflect.apply(X.n,X,[...Y]),()=>sI,X=>Se(X))}function Oe(Y){return Y.map(X=>Se(X)||_r(X)||st(X)?gI(String(X)):X)}const rt={normalize:Oe,interpolate:Y=>Y,type:"vnode"};function pt(...Y){return he(X=>{let ve;const Ie=X;try{Ie.processor=rt,ve=Reflect.apply(fI,null,[Ie,...Y])}finally{Ie.processor=null}return ve},()=>Yw(...Y),"translate",X=>X[Zw](...Y),X=>[gI(X)],X=>Zt(X))}function ht(...Y){return he(X=>Reflect.apply(mI,null,[X,...Y]),()=>Kw(...Y),"number format",X=>X[Qw](...Y),bI,X=>Se(X)||Zt(X))}function nt(...Y){return he(X=>Reflect.apply(dI,null,[X,...Y]),()=>Jw(...Y),"datetime format",X=>X[Xw](...Y),bI,X=>Se(X)||Zt(X))}function Rt(Y){R=Y,k.pluralRules=R}function B(Y,X){return he(()=>{if(!Y)return!1;const ve=Se(X)?X:c.value,Ie=ae(ve),mt=k.messageResolver(Ie,Y);return a?mt!=null:Wh(mt)||Rn(mt)||Se(mt)},()=>[Y],"translate exists",ve=>Reflect.apply(ve.te,ve,[Y,X]),_ne,ve=>st(ve))}function F(Y){let X=null;const ve=V8(k,f.value,c.value);for(let Ie=0;Ie<ve.length;Ie++){const mt=d.value[ve[Ie]]||{},Wt=k.messageResolver(mt,Y);if(Wt!=null){X=Wt;break}}return X}function J(Y){const X=F(Y);return X??(r?r.tm(Y)||{}:{})}function ae(Y){return d.value[Y]||{}}function se(Y,X){if(s){const ve={[Y]:X};for(const Ie in ve)us(ve,Ie)&&Bp(ve[Ie]);X=ve[Y]}d.value[Y]=X,k.messages=d.value}function O(Y,X){d.value[Y]=d.value[Y]||{};const ve={[Y]:X};if(s)for(const Ie in ve)us(ve,Ie)&&Bp(ve[Ie]);X=ve[Y],Ny(X,d.value[Y]),k.messages=d.value}function U(Y){return p.value[Y]||{}}function I(Y,X){p.value[Y]=X,k.datetimeFormats=p.value,pI(k,Y,X)}function P(Y,X){p.value[Y]=si(p.value[Y]||{},X),k.datetimeFormats=p.value,pI(k,Y,X)}function j(Y){return y.value[Y]||{}}function Z(Y,X){y.value[Y]=X,k.numberFormats=y.value,yI(k,Y,X)}function re(Y,X){y.value[Y]=si(y.value[Y]||{},X),k.numberFormats=y.value,yI(k,Y,X)}_I++,r&&Yg&&(Xr(r.locale,Y=>{l&&(c.value=Y,k.locale=Y,Gf(k,c.value,f.value))}),Xr(r.fallbackLocale,Y=>{l&&(f.value=Y,k.fallbackLocale=Y,Gf(k,c.value,f.value))}));const te={id:_I,locale:V,fallbackLocale:z,get inheritLocale(){return l},set inheritLocale(Y){l=Y,Y&&r&&(c.value=r.locale.value,f.value=r.fallbackLocale.value,Gf(k,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:ee,get modifiers(){return L},get pluralRules(){return R||{}},get isGlobal(){return n},get missingWarn(){return g},set missingWarn(Y){g=Y,k.missingWarn=g},get fallbackWarn(){return w},set fallbackWarn(Y){w=Y,k.fallbackWarn=w},get fallbackRoot(){return _},set fallbackRoot(Y){_=Y},get fallbackFormat(){return x},set fallbackFormat(Y){x=Y,k.fallbackFormat=x},get warnHtmlMessage(){return M},set warnHtmlMessage(Y){M=Y,k.warnHtmlMessage=Y},get escapeParameter(){return C},set escapeParameter(Y){C=Y,k.escapeParameter=Y},t:oe,getLocaleMessage:ae,setLocaleMessage:se,mergeLocaleMessage:O,getPostTranslationHandler:E,setPostTranslationHandler:N,getMissingHandler:q,setMissingHandler:K,[iR]:Rt};return te.datetimeFormats=u,te.numberFormats=m,te.rt=Ae,te.te=B,te.tm=J,te.d=Fe,te.n=Ve,te.getDateTimeFormat=U,te.setDateTimeFormat=I,te.mergeDateTimeFormat=P,te.getNumberFormat=j,te.setNumberFormat=Z,te.mergeNumberFormat=re,te[nR]=i,te[Zw]=pt,te[Xw]=nt,te[Qw]=ht,te}function Sne(e){const t=Se(e.locale)?e.locale:qh,r=Se(e.fallbackLocale)||Zt(e.fallbackLocale)||We(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,i=Vt(e.missing)?e.missing:void 0,n=st(e.silentTranslationWarn)||pl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=st(e.silentFallbackWarn)||pl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=st(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=We(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,f=Vt(e.postTranslation)?e.postTranslation:void 0,d=Se(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=st(e.sync)?e.sync:!0;let g=e.messages;if(We(e.sharedMessages)){const C=e.sharedMessages;g=Object.keys(C).reduce((R,k)=>{const G=R[k]||(R[k]={});return si(G,C[k]),R},g||{})}const{__i18n:w,__root:_,__injectWithOption:x}=e,T=e.datetimeFormats,S=e.numberFormats,v=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:r,messages:g,flatJson:v,datetimeFormats:T,numberFormats:S,missing:i,missingWarn:n,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:w,__root:_,__injectWithOption:x}}function tS(e={},t){{const r=b3(Sne(e)),{__extender:i}=e,n={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return st(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=st(s)?!s:s},get silentFallbackWarn(){return st(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=st(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,l]=s,c={};let f=null,d=null;if(!Se(o))throw Qr(qr.INVALID_ARGUMENT);const p=o;return Se(a)?c.locale=a:Zt(a)?f=a:We(a)&&(d=a),Zt(l)?f=l:We(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let f=null,d=null;if(!Se(o))throw Qr(qr.INVALID_ARGUMENT);const p=o;return Se(a)?c.locale=a:_r(a)?c.plural=a:Zt(a)?f=a:We(a)&&(d=a),Se(l)?c.locale=l:Zt(l)?f=l:We(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return n.__extender=i,n}}const _3={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function xne({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((i,n)=>[...i,...n.type===Lt?n.children:[n]],[]):t.reduce((r,i)=>{const n=e[i];return n&&(r[i]=n()),r},kt())}function aR(e){return Lt}const Ene=ot({name:"i18n-t",props:si({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>_r(e)||!isNaN(e)}},_3),setup(e,t){const{slots:r,attrs:i}=t,n=e.i18n||nr({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(d=>d!=="_"),o=kt();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=Se(e.plural)?+e.plural:e.plural);const a=xne(t,s),l=n[Zw](e.keypath,a,o),c=si(kt(),i),f=Se(e.tag)||_t(e.tag)?e.tag:aR();return Un(f,c,l)}}}),SI=Ene;function Tne(e){return Zt(e)&&!Se(e[0])}function lR(e,t,r,i){const{slots:n,attrs:s}=t;return()=>{const o={part:!0};let a=kt();e.locale&&(o.locale=e.locale),Se(e.format)?o.key=e.format:_t(e.format)&&(Se(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>r.includes(y)?si(kt(),p,{[y]:e.format[y]}):p,kt()));const l=i(e.value,o,a);let c=[o.key];Zt(l)?c=l.map((p,y)=>{const g=n[p.type],w=g?g({[p.type]:p.value,index:y,parts:l}):[p.value];return Tne(w)&&(w[0].key=`${p.type}-${y}`),w}):Se(l)&&(c=[l]);const f=si(kt(),s),d=Se(e.tag)||_t(e.tag)?e.tag:aR();return Un(d,f,c)}}const Ane=ot({name:"i18n-n",props:si({value:{type:Number,required:!0},format:{type:[String,Object]}},_3),setup(e,t){const r=e.i18n||nr({useScope:e.scope,__useComponent:!0});return lR(e,t,eR,(...i)=>r[Qw](...i))}}),xI=Ane,Mne=ot({name:"i18n-d",props:si({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},_3),setup(e,t){const r=e.i18n||nr({useScope:e.scope,__useComponent:!0});return lR(e,t,Q8,(...i)=>r[Xw](...i))}}),EI=Mne;function Ine(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const i=r.__getInstance(t);return i!=null?i.__composer:e.global.__composer}}function One(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw Qr(qr.UNEXPECTED_ERROR);const f=Ine(e,a.$),d=TI(c);return[Reflect.apply(f.t,f,[...AI(d)]),f]};return{created:(o,a)=>{const[l,c]=t(a);Yg&&e.global===c&&(o.__i18nWatcher=Xr(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Yg&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=TI(a);o.textContent=Reflect.apply(l.t,l,[...AI(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function TI(e){if(Se(e))return{path:e};if(We(e)){if(!("path"in e))throw Qr(qr.REQUIRED_VALUE,"path");return e}else throw Qr(qr.INVALID_VALUE)}function AI(e){const{path:t,locale:r,args:i,choice:n,plural:s}=e,o={},a=i||{};return Se(r)&&(o.locale=r),_r(n)&&(o.plural=n),_r(s)&&(o.plural=s),[t,a,o]}function Cne(e,t,...r){const i=We(r[0])?r[0]:{},n=!!i.useI18nComponentName;(st(i.globalInstall)?i.globalInstall:!0)&&([n?"i18n":SI.name,"I18nT"].forEach(o=>e.component(o,SI)),[xI.name,"I18nN"].forEach(o=>e.component(o,xI)),[EI.name,"I18nD"].forEach(o=>e.component(o,EI))),e.directive("t",One(t))}function $ne(e,t,r){return{beforeCreate(){const i=Nr();if(!i)throw Qr(qr.UNEXPECTED_ERROR);const n=this.$options;if(n.i18n){const s=n.i18n;if(n.__i18n&&(s.__i18n=n.__i18n),s.__root=t,this===this.$root)this.$i18n=MI(e,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=tS(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(n.__i18n)if(this===this.$root)this.$i18n=MI(e,n);else{this.$i18n=tS({__i18n:n.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;n.__i18nGlobal&&oR(t,n,n),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=Nr();if(!i)throw Qr(qr.UNEXPECTED_ERROR);const n=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__disposer&&(n.__disposer(),delete n.__disposer,delete n.__extender),r.__deleteInstance(i),delete this.$i18n}}}function MI(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[iR](t.pluralizationRules||e.pluralizationRules);const r=Iv(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(i=>e.mergeLocaleMessage(i,r[i])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i])),t.numberFormats&&Object.keys(t.numberFormats).forEach(i=>e.mergeNumberFormat(i,t.numberFormats[i])),e}const Nne=Tl("global-vue-i18n");function Pne(e={},t){const r=__VUE_I18N_LEGACY_API__&&st(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,i=st(e.globalInjection)?e.globalInjection:!0,n=__VUE_I18N_LEGACY_API__&&r?!!e.allowComposition:!0,s=new Map,[o,a]=Lne(e,r),l=Tl("");function c(p){return s.get(p)||null}function f(p,y){s.set(p,y)}function d(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return n},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),We(g[0])){const x=g[0];p.__composerExtend=x.__composerExtend,p.__vueI18nExtend=x.__vueI18nExtend}let w=null;!r&&i&&(w=Vne(y,p.global)),__VUE_I18N_FULL_INSTALL__&&Cne(y,p,...g),__VUE_I18N_LEGACY_API__&&r&&y.mixin($ne(a,a.__composer,p));const _=y.unmount;y.unmount=()=>{w&&w(),p.dispose(),_()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function nr(e={}){const t=Nr();if(t==null)throw Qr(qr.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Qr(qr.NOT_INSTALLED);const r=kne(t),i=Dne(r),n=sR(t),s=Rne(e,n);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!e.__useComponent){if(!r.allowComposition)throw Qr(qr.NOT_AVAILABLE_IN_LEGACY_MODE);return Gne(t,s,i,e)}if(s==="global")return oR(i,e,n),i;if(s==="parent"){let l=Fne(r,t,e.__useComponent);return l==null&&(l=i),l}const o=r;let a=o.__getInstance(t);if(a==null){const l=si({},e);"__i18n"in n&&(l.__i18n=n.__i18n),i&&(l.__root=i),a=b3(l),o.__composerExtend&&(a[eS]=o.__composerExtend(a)),jne(o,t,a),o.__setInstance(t,a)}return a}function Lne(e,t,r){const i=bm();{const n=__VUE_I18N_LEGACY_API__&&t?i.run(()=>tS(e)):i.run(()=>b3(e));if(n==null)throw Qr(qr.UNEXPECTED_ERROR);return[i,n]}}function kne(e){{const t=zr(e.isCE?Nne:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Qr(e.isCE?qr.NOT_INSTALLED_WITH_PROVIDE:qr.UNEXPECTED_ERROR);return t}}function Rne(e,t){return Tv(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Dne(e){return e.mode==="composition"?e.global:e.global.__composer}function Fne(e,t,r=!1){let i=null;const n=t.root;let s=Une(t,r);for(;s!=null;){const o=e;if(e.mode==="composition")i=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(i=a.__composer,r&&i&&!i[nR]&&(i=null))}if(i!=null||n===s)break;s=s.parent}return i}function Une(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function jne(e,t,r){oi(()=>{},t),fu(()=>{const i=r;e.__deleteInstance(t);const n=i[eS];n&&(n(),delete i[eS])},t)}function Gne(e,t,r,i={}){const n=t==="local",s=xf(null);if(n&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Qr(qr.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=st(i.inheritLocale)?i.inheritLocale:!Se(i.locale),a=ne(!n||o?r.locale.value:Se(i.locale)?i.locale:qh),l=ne(!n||o?r.fallbackLocale.value:Se(i.fallbackLocale)||Zt(i.fallbackLocale)||We(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=ne(Iv(a.value,i)),f=ne(We(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=ne(We(i.numberFormats)?i.numberFormats:{[a.value]:{}}),p=n?r.missingWarn:st(i.missingWarn)||pl(i.missingWarn)?i.missingWarn:!0,y=n?r.fallbackWarn:st(i.fallbackWarn)||pl(i.fallbackWarn)?i.fallbackWarn:!0,g=n?r.fallbackRoot:st(i.fallbackRoot)?i.fallbackRoot:!0,w=!!i.fallbackFormat,_=Vt(i.missing)?i.missing:null,x=Vt(i.postTranslation)?i.postTranslation:null,T=n?r.warnHtmlMessage:st(i.warnHtmlMessage)?i.warnHtmlMessage:!0,S=!!i.escapeParameter,v=n?r.modifiers:We(i.modifiers)?i.modifiers:{},M=i.pluralRules||n&&r.pluralRules;function C(){return[a.value,l.value,c.value,f.value,d.value]}const L=tt({get:()=>s.value?s.value.locale.value:a.value,set:F=>{s.value&&(s.value.locale.value=F),a.value=F}}),R=tt({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:F=>{s.value&&(s.value.fallbackLocale.value=F),l.value=F}}),k=tt(()=>s.value?s.value.messages.value:c.value),G=tt(()=>f.value),W=tt(()=>d.value);function V(){return s.value?s.value.getPostTranslationHandler():x}function z(F){s.value&&s.value.setPostTranslationHandler(F)}function ee(){return s.value?s.value.getMissingHandler():_}function u(F){s.value&&s.value.setMissingHandler(F)}function m(F){return C(),F()}function E(...F){return s.value?m(()=>Reflect.apply(s.value.t,null,[...F])):m(()=>"")}function N(...F){return s.value?Reflect.apply(s.value.rt,null,[...F]):""}function q(...F){return s.value?m(()=>Reflect.apply(s.value.d,null,[...F])):m(()=>"")}function K(...F){return s.value?m(()=>Reflect.apply(s.value.n,null,[...F])):m(()=>"")}function he(F){return s.value?s.value.tm(F):{}}function oe(F,J){return s.value?s.value.te(F,J):!1}function Ae(F){return s.value?s.value.getLocaleMessage(F):{}}function Fe(F,J){s.value&&(s.value.setLocaleMessage(F,J),c.value[F]=J)}function Ve(F,J){s.value&&s.value.mergeLocaleMessage(F,J)}function Oe(F){return s.value?s.value.getDateTimeFormat(F):{}}function vt(F,J){s.value&&(s.value.setDateTimeFormat(F,J),f.value[F]=J)}function rt(F,J){s.value&&s.value.mergeDateTimeFormat(F,J)}function pt(F){return s.value?s.value.getNumberFormat(F):{}}function ht(F,J){s.value&&(s.value.setNumberFormat(F,J),d.value[F]=J)}function nt(F,J){s.value&&s.value.mergeNumberFormat(F,J)}const Rt={get id(){return s.value?s.value.id:-1},locale:L,fallbackLocale:R,messages:k,datetimeFormats:G,numberFormats:W,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(F){s.value&&(s.value.inheritLocale=F)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:v},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(F){s.value&&(s.value.fallbackRoot=F)},get fallbackFormat(){return s.value?s.value.fallbackFormat:w},set fallbackFormat(F){s.value&&(s.value.fallbackFormat=F)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:T},set warnHtmlMessage(F){s.value&&(s.value.warnHtmlMessage=F)},get escapeParameter(){return s.value?s.value.escapeParameter:S},set escapeParameter(F){s.value&&(s.value.escapeParameter=F)},t:E,getPostTranslationHandler:V,setPostTranslationHandler:z,getMissingHandler:ee,setMissingHandler:u,rt:N,d:q,n:K,tm:he,te:oe,getLocaleMessage:Ae,setLocaleMessage:Fe,mergeLocaleMessage:Ve,getDateTimeFormat:Oe,setDateTimeFormat:vt,mergeDateTimeFormat:rt,getNumberFormat:pt,setNumberFormat:ht,mergeNumberFormat:nt};function B(F){F.locale.value=a.value,F.fallbackLocale.value=l.value,Object.keys(c.value).forEach(J=>{F.mergeLocaleMessage(J,c.value[J])}),Object.keys(f.value).forEach(J=>{F.mergeDateTimeFormat(J,f.value[J])}),Object.keys(d.value).forEach(J=>{F.mergeNumberFormat(J,d.value[J])}),F.escapeParameter=S,F.fallbackFormat=w,F.fallbackRoot=g,F.fallbackWarn=y,F.missingWarn=p,F.warnHtmlMessage=T}return xm(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Qr(qr.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const F=s.value=e.proxy.$i18n.__composer;t==="global"?(a.value=F.locale.value,l.value=F.fallbackLocale.value,c.value=F.messages.value,f.value=F.datetimeFormats.value,d.value=F.numberFormats.value):n&&B(F)}),Rt}const Bne=["locale","fallbackLocale","availableLocales"],II=["t","rt","d","n","tm","te"];function Vne(e,t){const r=Object.create(null);return Bne.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s)throw Qr(qr.UNEXPECTED_ERROR);const o=gt(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,n,o)}),e.config.globalProperties.$i18n=r,II.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s||!s.value)throw Qr(qr.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,s)}),()=>{delete e.config.globalProperties.$i18n,II.forEach(n=>{delete e.config.globalProperties[`$${n}`]})}}bne();__INTLIFY_JIT_COMPILATION__?aI(dne):aI(fne);Vie(Eie);zie(V8);if(__INTLIFY_PROD_DEVTOOLS__){const e=qo();e.__INTLIFY__=!0,Pie(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const zne={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"franais","lang-native":"Franais","ramp.about.open":"Ouvrir  propos de PCAR","ramp.about":" propos de PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous dplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un lment de la liste est slectionn, vous pouvez appuyer sur  Espace  ou  Entre  pour cliquer sur l'lment. Vous pouvez galement vous dplacer au sein de l'lment de la liste au moyen de la touche  Tab .","keyboardInstructions.map":"Lorsque la carte est slectionne, utilisez le pav curseur pour vous dplacer et appuyez sur  Entre   pour slectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer  l'chelle mtrique","map.toggleScaleToImperial":"Passer  l'chelle impriale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Franais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour dplacer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fentre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Dvelopper","notifications.controls.collapse":"Rduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entre ou sur la barre d'espacement pour accder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"pingler","panels.controls.unpin":"Dspingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Rduire","panels.controls.expand":"Dvelopper","panels.controls.collapse":"Rduire","panels.controls.moveRight":"Aller  droite","panels.controls.moveLeft":"Aller  gauche","panels.controls.items":"Utilisez les touches flches pour naviguer entre les lments","panels.alert.open":"Fentre {name} ouverte","panels.alert.close":"Fentre {name} ferme","panels.alert.minimize":"Fentre {name} rduite","layer.error":"chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prvu","layer.longdraw":"{id} prend plus de temps que prvu  extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont t dsactivs pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement dsactiv.","layer.noexportmap":"La tentative dajouter {name} comme couche dimagerie cartographique a choue car elle na pu tre activ pour ce service","caption.attributionDefaultText":"Propuls par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},OI="en",qne={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function Wne(){return Pne({legacy:!1,locale:document.documentElement.getAttribute("lang")||OI,fallbackLocale:OI,globalInjection:!0,messages:zne,numberFormats:qne})}var qb={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var CI;function Hne(){return CI||(CI=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},r=e.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),n={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var f=o[i.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=n[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=n[o];l&&t.removeEventListener(l,a,!1)},raw:i};if(!i){r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!t[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[i.fullscreenEnabled]}}}),r?e.exports=s:window.screenfull=s})()}(qb)),qb.exports}var Yne=Hne();const Ps=dm(Yne);var Sd={exports:{}};Sd.exports;var $I;function Jne(){return $I||($I=1,function(e,t){var r=200,i="__lodash_hash_undefined__",n=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",g="[object Object]",w="[object Promise]",_="[object RegExp]",x="[object Set]",T="[object String]",S="[object Symbol]",v="[object WeakMap]",M="[object ArrayBuffer]",C="[object DataView]",L="[object Float32Array]",R="[object Float64Array]",k="[object Int8Array]",G="[object Int16Array]",W="[object Int32Array]",V="[object Uint8Array]",z="[object Uint8ClampedArray]",ee="[object Uint16Array]",u="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,E=/\w*$/,N=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,K={};K[s]=K[o]=K[M]=K[C]=K[a]=K[l]=K[L]=K[R]=K[k]=K[G]=K[W]=K[p]=K[y]=K[g]=K[_]=K[x]=K[T]=K[S]=K[V]=K[z]=K[ee]=K[u]=!0,K[c]=K[f]=K[v]=!1;var he=typeof i0=="object"&&i0&&i0.Object===Object&&i0,oe=typeof self=="object"&&self&&self.Object===Object&&self,Ae=he||oe||Function("return this")(),Fe=t&&!t.nodeType&&t,Ve=Fe&&!0&&e&&!e.nodeType&&e,Oe=Ve&&Ve.exports===Fe;function vt(D,Q){return D.set(Q[0],Q[1]),D}function rt(D,Q){return D.add(Q),D}function pt(D,Q){for(var ce=-1,Pe=D?D.length:0;++ce<Pe&&Q(D[ce],ce,D)!==!1;);return D}function ht(D,Q){for(var ce=-1,Pe=Q.length,ti=D.length;++ce<Pe;)D[ti+ce]=Q[ce];return D}function nt(D,Q,ce,Pe){for(var ti=-1,Fi=D?D.length:0;++ti<Fi;)ce=Q(ce,D[ti],ti,D);return ce}function Rt(D,Q){for(var ce=-1,Pe=Array(D);++ce<D;)Pe[ce]=Q(ce);return Pe}function B(D,Q){return D?.[Q]}function F(D){var Q=!1;if(D!=null&&typeof D.toString!="function")try{Q=!!(D+"")}catch{}return Q}function J(D){var Q=-1,ce=Array(D.size);return D.forEach(function(Pe,ti){ce[++Q]=[ti,Pe]}),ce}function ae(D,Q){return function(ce){return D(Q(ce))}}function se(D){var Q=-1,ce=Array(D.size);return D.forEach(function(Pe){ce[++Q]=Pe}),ce}var O=Array.prototype,U=Function.prototype,I=Object.prototype,P=Ae["__core-js_shared__"],j=function(){var D=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),Z=U.toString,re=I.hasOwnProperty,te=I.toString,Y=RegExp("^"+Z.call(re).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=Oe?Ae.Buffer:void 0,ve=Ae.Symbol,Ie=Ae.Uint8Array,mt=ae(Object.getPrototypeOf,Object),Wt=Object.create,cr=I.propertyIsEnumerable,Lr=O.splice,ie=Object.getOwnPropertySymbols,Me=X?X.isBuffer:void 0,Ce=ae(Object.keys,Object),Ye=bu(Ae,"DataView"),Qe=bu(Ae,"Map"),kr=bu(Ae,"Promise"),ai=bu(Ae,"Set"),Os=bu(Ae,"WeakMap"),aa=bu(Object,"create"),_o=Pl(Ye),Af=Pl(Qe),mu=Pl(kr),la=Pl(ai),Gv=Pl(Os),yu=ve?ve.prototype:void 0,Cl=yu?yu.valueOf:void 0;function $l(D){var Q=-1,ce=D?D.length:0;for(this.clear();++Q<ce;){var Pe=D[Q];this.set(Pe[0],Pe[1])}}function A9(){this.__data__=aa?aa(null):{}}function M9(D){return this.has(D)&&delete this.__data__[D]}function I9(D){var Q=this.__data__;if(aa){var ce=Q[D];return ce===i?void 0:ce}return re.call(Q,D)?Q[D]:void 0}function O9(D){var Q=this.__data__;return aa?Q[D]!==void 0:re.call(Q,D)}function C9(D,Q){var ce=this.__data__;return ce[D]=aa&&Q===void 0?i:Q,this}$l.prototype.clear=A9,$l.prototype.delete=M9,$l.prototype.get=I9,$l.prototype.has=O9,$l.prototype.set=C9;function wo(D){var Q=-1,ce=D?D.length:0;for(this.clear();++Q<ce;){var Pe=D[Q];this.set(Pe[0],Pe[1])}}function $9(){this.__data__=[]}function N9(D){var Q=this.__data__,ce=Rm(Q,D);if(ce<0)return!1;var Pe=Q.length-1;return ce==Pe?Q.pop():Lr.call(Q,ce,1),!0}function P9(D){var Q=this.__data__,ce=Rm(Q,D);return ce<0?void 0:Q[ce][1]}function L9(D){return Rm(this.__data__,D)>-1}function k9(D,Q){var ce=this.__data__,Pe=Rm(ce,D);return Pe<0?ce.push([D,Q]):ce[Pe][1]=Q,this}wo.prototype.clear=$9,wo.prototype.delete=N9,wo.prototype.get=P9,wo.prototype.has=L9,wo.prototype.set=k9;function gu(D){var Q=-1,ce=D?D.length:0;for(this.clear();++Q<ce;){var Pe=D[Q];this.set(Pe[0],Pe[1])}}function R9(){this.__data__={hash:new $l,map:new(Qe||wo),string:new $l}}function D9(D){return Dm(this,D).delete(D)}function F9(D){return Dm(this,D).get(D)}function U9(D){return Dm(this,D).has(D)}function j9(D,Q){return Dm(this,D).set(D,Q),this}gu.prototype.clear=R9,gu.prototype.delete=D9,gu.prototype.get=F9,gu.prototype.has=U9,gu.prototype.set=j9;function vu(D){this.__data__=new wo(D)}function G9(){this.__data__=new wo}function B9(D){return this.__data__.delete(D)}function V9(D){return this.__data__.get(D)}function z9(D){return this.__data__.has(D)}function q9(D,Q){var ce=this.__data__;if(ce instanceof wo){var Pe=ce.__data__;if(!Qe||Pe.length<r-1)return Pe.push([D,Q]),this;ce=this.__data__=new gu(Pe)}return ce.set(D,Q),this}vu.prototype.clear=G9,vu.prototype.delete=B9,vu.prototype.get=V9,vu.prototype.has=z9,vu.prototype.set=q9;function W9(D,Q){var ce=zv(D)||y7(D)?Rt(D.length,String):[],Pe=ce.length,ti=!!Pe;for(var Fi in D)re.call(D,Fi)&&!(ti&&(Fi=="length"||f7(Fi,Pe)))&&ce.push(Fi);return ce}function lT(D,Q,ce){var Pe=D[Q];(!(re.call(D,Q)&&fT(Pe,ce))||ce===void 0&&!(Q in D))&&(D[Q]=ce)}function Rm(D,Q){for(var ce=D.length;ce--;)if(fT(D[ce][0],Q))return ce;return-1}function H9(D,Q){return D&&cT(Q,qv(Q),D)}function Bv(D,Q,ce,Pe,ti,Fi,So){var Ui;if(Pe&&(Ui=Fi?Pe(D,ti,Fi,So):Pe(D)),Ui!==void 0)return Ui;if(!Fm(D))return D;var mT=zv(D);if(mT){if(Ui=c7(D),!Q)return o7(D,Ui)}else{var _u=Nl(D),yT=_u==f||_u==d;if(v7(D))return Q9(D,Q);if(_u==g||_u==s||yT&&!Fi){if(F(D))return Fi?D:{};if(Ui=u7(yT?{}:D),!Q)return a7(D,H9(Ui,D))}else{if(!K[_u])return Fi?D:{};Ui=h7(D,_u,Bv,Q)}}So||(So=new vu);var gT=So.get(D);if(gT)return gT;if(So.set(D,Ui),!mT)var vT=ce?l7(D):qv(D);return pt(vT||D,function(Wv,Um){vT&&(Um=Wv,Wv=D[Um]),lT(Ui,Um,Bv(Wv,Q,ce,Pe,Um,D,So))}),Ui}function Y9(D){return Fm(D)?Wt(D):{}}function J9(D,Q,ce){var Pe=Q(D);return zv(D)?Pe:ht(Pe,ce(D))}function K9(D){return te.call(D)}function Z9(D){if(!Fm(D)||p7(D))return!1;var Q=pT(D)||F(D)?Y:N;return Q.test(Pl(D))}function X9(D){if(!hT(D))return Ce(D);var Q=[];for(var ce in Object(D))re.call(D,ce)&&ce!="constructor"&&Q.push(ce);return Q}function Q9(D,Q){if(Q)return D.slice();var ce=new D.constructor(D.length);return D.copy(ce),ce}function Vv(D){var Q=new D.constructor(D.byteLength);return new Ie(Q).set(new Ie(D)),Q}function e7(D,Q){var ce=Q?Vv(D.buffer):D.buffer;return new D.constructor(ce,D.byteOffset,D.byteLength)}function t7(D,Q,ce){var Pe=Q?ce(J(D),!0):J(D);return nt(Pe,vt,new D.constructor)}function r7(D){var Q=new D.constructor(D.source,E.exec(D));return Q.lastIndex=D.lastIndex,Q}function i7(D,Q,ce){var Pe=Q?ce(se(D),!0):se(D);return nt(Pe,rt,new D.constructor)}function n7(D){return Cl?Object(Cl.call(D)):{}}function s7(D,Q){var ce=Q?Vv(D.buffer):D.buffer;return new D.constructor(ce,D.byteOffset,D.length)}function o7(D,Q){var ce=-1,Pe=D.length;for(Q||(Q=Array(Pe));++ce<Pe;)Q[ce]=D[ce];return Q}function cT(D,Q,ce,Pe){ce||(ce={});for(var ti=-1,Fi=Q.length;++ti<Fi;){var So=Q[ti],Ui=void 0;lT(ce,So,Ui===void 0?D[So]:Ui)}return ce}function a7(D,Q){return cT(D,uT(D),Q)}function l7(D){return J9(D,qv,uT)}function Dm(D,Q){var ce=D.__data__;return d7(Q)?ce[typeof Q=="string"?"string":"hash"]:ce.map}function bu(D,Q){var ce=B(D,Q);return Z9(ce)?ce:void 0}var uT=ie?ae(ie,Object):w7,Nl=K9;(Ye&&Nl(new Ye(new ArrayBuffer(1)))!=C||Qe&&Nl(new Qe)!=p||kr&&Nl(kr.resolve())!=w||ai&&Nl(new ai)!=x||Os&&Nl(new Os)!=v)&&(Nl=function(D){var Q=te.call(D),ce=Q==g?D.constructor:void 0,Pe=ce?Pl(ce):void 0;if(Pe)switch(Pe){case _o:return C;case Af:return p;case mu:return w;case la:return x;case Gv:return v}return Q});function c7(D){var Q=D.length,ce=D.constructor(Q);return Q&&typeof D[0]=="string"&&re.call(D,"index")&&(ce.index=D.index,ce.input=D.input),ce}function u7(D){return typeof D.constructor=="function"&&!hT(D)?Y9(mt(D)):{}}function h7(D,Q,ce,Pe){var ti=D.constructor;switch(Q){case M:return Vv(D);case a:case l:return new ti(+D);case C:return e7(D,Pe);case L:case R:case k:case G:case W:case V:case z:case ee:case u:return s7(D,Pe);case p:return t7(D,Pe,ce);case y:case T:return new ti(D);case _:return r7(D);case x:return i7(D,Pe,ce);case S:return n7(D)}}function f7(D,Q){return Q=Q??n,!!Q&&(typeof D=="number"||q.test(D))&&D>-1&&D%1==0&&D<Q}function d7(D){var Q=typeof D;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?D!=="__proto__":D===null}function p7(D){return!!j&&j in D}function hT(D){var Q=D&&D.constructor,ce=typeof Q=="function"&&Q.prototype||I;return D===ce}function Pl(D){if(D!=null){try{return Z.call(D)}catch{}try{return D+""}catch{}}return""}function m7(D){return Bv(D,!0,!0)}function fT(D,Q){return D===Q||D!==D&&Q!==Q}function y7(D){return g7(D)&&re.call(D,"callee")&&(!cr.call(D,"callee")||te.call(D)==s)}var zv=Array.isArray;function dT(D){return D!=null&&b7(D.length)&&!pT(D)}function g7(D){return _7(D)&&dT(D)}var v7=Me||S7;function pT(D){var Q=Fm(D)?te.call(D):"";return Q==f||Q==d}function b7(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=n}function Fm(D){var Q=typeof D;return!!D&&(Q=="object"||Q=="function")}function _7(D){return!!D&&typeof D=="object"}function qv(D){return dT(D)?W9(D):X9(D)}function w7(){return[]}function S7(){return!1}e.exports=m7}(Sd,Sd.exports)),Sd.exports}var Kne=Jne();const NI=dm(Kne),Kg=lr("maptip",()=>{const e=ne(void 0),t=ne(void 0),r=ne("");function i(o){e.value=o}function n(o){t.value=o}function s(o){r.value=o}return{maptipInstance:e,maptipPoint:t,content:r,setMaptipInstance:i,setMaptipPoint:n,setMaptipContent:s}}),Zne=ot({__name:"esri-map",setup(e){const t=Kg(),r=zr("iApi"),i=tt(()=>t.maptipPoint),n=tt(()=>t.maptipInstance),s=tt(()=>t.content),o=ei([]);o.push(Xr(i,()=>{if(i.value){const l=r.geo.map.getPixelWidth()/2,c=0,f=r.geo.map.mapPointToScreenPoint(i.value),d=f.screenX-l,p=c-f.screenY;n.value.setProps({offset:[d,p]}),s.value&&s.value!==""&&n.value.show()}else n.value.hide()})),o.push(Xr(s,l=>{l&&l!==""&&i?(n.value.setContent(l),n.value.show()):n.value.hide()})),Ms(()=>{o.forEach(l=>l())});const a=()=>{r.geo.map.setMouseFocus()};return(l,c)=>{const f=$t("tippy");return Ct((pe(),Ee("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:a,onKeydown:c[0]||(c[0]=WE(Im(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[f,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var cR={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},w3={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Xne=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Zg={CSS:{},springs:{}};function Qs(e,t,r){return Math.min(Math.max(e,t),r)}function Vd(e,t){return e.indexOf(t)>-1}function Wb(e,t){return e.apply(null,t)}var De={arr:function(e){return Array.isArray(e)},obj:function(e){return Vd(Object.prototype.toString.call(e),"Object")},pth:function(e){return De.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||De.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return De.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return De.hex(e)||De.rgb(e)||De.hsl(e)},key:function(e){return!cR.hasOwnProperty(e)&&!w3.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function uR(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function hR(e,t){var r=uR(e),i=Qs(De.und(r[0])?1:r[0],.1,100),n=Qs(De.und(r[1])?100:r[1],.1,100),s=Qs(De.und(r[2])?10:r[2],.1,100),o=Qs(De.und(r[3])?0:r[3],.1,100),a=Math.sqrt(n/i),l=s/(2*Math.sqrt(n*i)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(g){var w=t?t*g/1e3:g;return l<1?w=Math.exp(-w*l*a)*(f*Math.cos(c*w)+d*Math.sin(c*w)):w=(f+d*w)*Math.exp(-w*a),g===0||g===1?g:1-w}function y(){var g=Zg.springs[e];if(g)return g;for(var w=1/6,_=0,x=0;;)if(_+=w,p(_)===1){if(x++,x>=16)break}else x=0;var T=_*w*1e3;return Zg.springs[e]=T,T}return t?p:y}function Qne(e){return e===void 0&&(e=10),function(t){return Math.ceil(Qs(t,1e-6,1)*e)*(1/e)}}var ese=function(){var e=11,t=1/(e-1);function r(f,d){return 1-3*d+3*f}function i(f,d){return 3*d-6*f}function n(f){return 3*f}function s(f,d,p){return((r(d,p)*f+i(d,p))*f+n(d))*f}function o(f,d,p){return 3*r(d,p)*f*f+2*i(d,p)*f+n(d)}function a(f,d,p,y,g){var w,_,x=0;do _=d+(p-d)/2,w=s(_,y,g)-f,w>0?p=_:d=_;while(Math.abs(w)>1e-7&&++x<10);return _}function l(f,d,p,y){for(var g=0;g<4;++g){var w=o(d,p,y);if(w===0)return d;var _=s(d,p,y)-f;d-=_/w}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var g=new Float32Array(e);if(f!==d||p!==y)for(var w=0;w<e;++w)g[w]=s(w*t,f,p);function _(x){for(var T=0,S=1,v=e-1;S!==v&&g[S]<=x;++S)T+=t;--S;var M=(x-g[S])/(g[S+1]-g[S]),C=T+M*t,L=o(C,f,p);return L>=.001?l(x,C,f,p):L===0?C:a(x,T,T+t,f,p)}return function(x){return f===d&&p===y||x===0||x===1?x:s(_(x),d,y)}}return c}(),fR=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var n,s=4;i<((n=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((n*3-2)/22-i,2)}},Elastic:function(i,n){i===void 0&&(i=1),n===void 0&&(n=.5);var s=Qs(i,1,10),o=Qs(n,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,n){t[i]=function(){return function(s){return Math.pow(s,n+2)}}}),Object.keys(t).forEach(function(i){var n=t[i];e["easeIn"+i]=n,e["easeOut"+i]=function(s,o){return function(a){return 1-n(s,o)(1-a)}},e["easeInOut"+i]=function(s,o){return function(a){return a<.5?n(s,o)(a*2)/2:1-n(s,o)(a*-2+2)/2}},e["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-n(s,o)(1-a*2))/2:(n(s,o)(a*2-1)+1)/2}}}),e}();function S3(e,t){if(De.fnc(e))return e;var r=e.split("(")[0],i=fR[r],n=uR(e);switch(r){case"spring":return hR(e,t);case"cubicBezier":return Wb(ese,n);case"steps":return Wb(Qne,n);default:return Wb(i,n)}}function dR(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Ov(e,t){for(var r=e.length,i=arguments.length>=2?arguments[1]:void 0,n=[],s=0;s<r;s++)if(s in e){var o=e[s];t.call(i,o,s,e)&&n.push(o)}return n}function Cv(e){return e.reduce(function(t,r){return t.concat(De.arr(r)?Cv(r):r)},[])}function PI(e){return De.arr(e)?e:(De.str(e)&&(e=dR(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function x3(e,t){return e.some(function(r){return r===t})}function E3(e){var t={};for(var r in e)t[r]=e[r];return t}function rS(e,t){var r=E3(e);for(var i in e)r[i]=t.hasOwnProperty(i)?t[i]:e[i];return r}function $v(e,t){var r=E3(e);for(var i in t)r[i]=De.und(e[i])?t[i]:e[i];return r}function tse(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function rse(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(a,l,c,f){return l+l+c+c+f+f}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),n=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+n+","+s+","+o+",1)"}function ise(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,n=parseInt(t[3],10)/100,s=t[4]||1;function o(p,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?p+(y-p)*6*g:g<1/2?y:g<2/3?p+(y-p)*(2/3-g)*6:p}var a,l,c;if(i==0)a=l=c=n;else{var f=n<.5?n*(1+i):n+i-n*i,d=2*n-f;a=o(d,f,r+1/3),l=o(d,f,r),c=o(d,f,r-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function nse(e){if(De.rgb(e))return tse(e);if(De.hex(e))return rse(e);if(De.hsl(e))return ise(e)}function Ko(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function sse(e){if(Vd(e,"translate")||e==="perspective")return"px";if(Vd(e,"rotate")||Vd(e,"skew"))return"deg"}function iS(e,t){return De.fnc(e)?e(t.target,t.id,t.total):e}function eo(e,t){return e.getAttribute(t)}function T3(e,t,r){var i=Ko(t);if(x3([r,"deg","rad","turn"],i))return t;var n=Zg.CSS[t+r];if(!De.und(n))return n;var s=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+r;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return Zg.CSS[t+r]=c,c}function pR(e,t,r){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return r?T3(e,n,r):n}}function A3(e,t){if(De.dom(e)&&!De.inp(e)&&(!De.nil(eo(e,t))||De.svg(e)&&e[t]))return"attribute";if(De.dom(e)&&x3(Xne,t))return"transform";if(De.dom(e)&&t!=="transform"&&pR(e,t))return"css";if(e[t]!=null)return"object"}function mR(e){if(De.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,n;n=r.exec(t);)i.set(n[1],n[2]);return i}}function ose(e,t,r,i){var n=Vd(t,"scale")?1:0+sse(t),s=mR(e).get(t)||n;return r&&(r.transforms.list.set(t,s),r.transforms.last=t),i?T3(e,s,i):s}function M3(e,t,r,i){switch(A3(e,t)){case"transform":return ose(e,t,i,r);case"css":return pR(e,t,r);case"attribute":return eo(e,t);default:return e[t]||0}}function I3(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var i=Ko(e)||0,n=parseFloat(t),s=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return n+s+i;case"-":return n-s+i;case"*":return n*s+i}}function yR(e,t){if(De.col(e))return nse(e);if(/\s/g.test(e))return e;var r=Ko(e),i=r?e.substr(0,e.length-r.length):e;return t?i+t:i}function O3(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ase(e){return Math.PI*2*eo(e,"r")}function lse(e){return eo(e,"width")*2+eo(e,"height")*2}function cse(e){return O3({x:eo(e,"x1"),y:eo(e,"y1")},{x:eo(e,"x2"),y:eo(e,"y2")})}function gR(e){for(var t=e.points,r=0,i,n=0;n<t.numberOfItems;n++){var s=t.getItem(n);n>0&&(r+=O3(i,s)),i=s}return r}function use(e){var t=e.points;return gR(e)+O3(t.getItem(t.numberOfItems-1),t.getItem(0))}function vR(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return ase(e);case"rect":return lse(e);case"line":return cse(e);case"polyline":return gR(e);case"polygon":return use(e)}}function hse(e){var t=vR(e);return e.setAttribute("stroke-dasharray",t),t}function fse(e){for(var t=e.parentNode;De.svg(t)&&De.svg(t.parentNode);)t=t.parentNode;return t}function bR(e,t){var r=t||{},i=r.el||fse(e),n=i.getBoundingClientRect(),s=eo(i,"viewBox"),o=n.width,a=n.height,l=r.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function dse(e,t){var r=De.str(e)?dR(e)[0]:e,i=t||100;return function(n){return{property:n,el:r,svg:bR(r),totalLength:vR(r)*(i/100)}}}function pse(e,t,r){function i(f){f===void 0&&(f=0);var d=t+f>=1?t+f:0;return e.el.getPointAtLength(d)}var n=bR(e.el,e.svg),s=i(),o=i(-1),a=i(1),l=r?1:n.w/n.vW,c=r?1:n.h/n.vH;switch(e.property){case"x":return(s.x-n.x)*l;case"y":return(s.y-n.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function LI(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=yR(De.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:De.str(e)||t?i.split(r):[]}}function C3(e){var t=e?Cv(De.arr(e)?e.map(PI):PI(e)):[];return Ov(t,function(r,i,n){return n.indexOf(r)===i})}function _R(e){var t=C3(e);return t.map(function(r,i){return{target:r,id:i,total:t.length,transforms:{list:mR(r)}}})}function mse(e,t){var r=E3(t);if(/^spring/.test(r.easing)&&(r.duration=hR(r.easing)),De.arr(e)){var i=e.length,n=i===2&&!De.obj(e[0]);n?e={value:e}:De.fnc(t.duration)||(r.duration=t.duration/i)}var s=De.arr(e)?e:[e];return s.map(function(o,a){var l=De.obj(o)&&!De.pth(o)?o:{value:o};return De.und(l.delay)&&(l.delay=a?0:t.delay),De.und(l.endDelay)&&(l.endDelay=a===s.length-1?t.endDelay:0),l}).map(function(o){return $v(o,r)})}function yse(e){for(var t=Ov(Cv(e.map(function(s){return Object.keys(s)})),function(s){return De.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),r={},i=function(s){var o=t[s];r[o]=e.map(function(a){var l={};for(var c in a)De.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},n=0;n<t.length;n++)i(n);return r}function gse(e,t){var r=[],i=t.keyframes;i&&(t=$v(yse(i),t));for(var n in t)De.key(n)&&r.push({name:n,tweens:mse(t[n],e)});return r}function vse(e,t){var r={};for(var i in e){var n=iS(e[i],t);De.arr(n)&&(n=n.map(function(s){return iS(s,t)}),n.length===1&&(n=n[0])),r[i]=n}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function bse(e,t){var r;return e.tweens.map(function(i){var n=vse(i,t),s=n.value,o=De.arr(s)?s[1]:s,a=Ko(o),l=M3(t.target,e.name,a,t),c=r?r.to.original:l,f=De.arr(s)?s[0]:c,d=Ko(f)||Ko(l),p=a||d;return De.und(o)&&(o=c),n.from=LI(f,p),n.to=LI(I3(o,f),p),n.start=r?r.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=S3(n.easing,n.duration),n.isPath=De.pth(s),n.isPathTargetInsideSVG=n.isPath&&De.svg(t.target),n.isColor=De.col(n.from.original),n.isColor&&(n.round=1),r=n,n})}var wR={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,i,n){if(i.list.set(t,r),t===i.last||n){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),e.style.transform=s}}};function SR(e,t){var r=_R(e);r.forEach(function(i){for(var n in t){var s=iS(t[n],i),o=i.target,a=Ko(s),l=M3(o,n,a,i),c=a||Ko(l),f=I3(yR(s,c),l),d=A3(o,n);wR[d](o,n,f,i.transforms,!0)}})}function _se(e,t){var r=A3(e.target,t.name);if(r){var i=bse(t,e),n=i[i.length-1];return{type:r,property:t.name,animatable:e,tweens:i,duration:n.end,delay:i[0].delay,endDelay:n.endDelay}}}function wse(e,t){return Ov(Cv(e.map(function(r){return t.map(function(i){return _se(r,i)})})),function(r){return!De.und(r)})}function xR(e,t){var r=e.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},n={};return n.duration=r?Math.max.apply(Math,e.map(function(s){return i(s)+s.duration})):t.duration,n.delay=r?Math.min.apply(Math,e.map(function(s){return i(s)+s.delay})):t.delay,n.endDelay=r?n.duration-Math.max.apply(Math,e.map(function(s){return i(s)+s.duration-s.endDelay})):t.endDelay,n}var kI=0;function Sse(e){var t=rS(cR,e),r=rS(w3,e),i=gse(r,e),n=_R(e.targets),s=wse(n,i),o=xR(s,r),a=kI;return kI++,$v(t,{id:a,children:[],animatables:n,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var as=[],ER=function(){var e;function t(){!e&&(!RI()||!ar.suspendWhenDocumentHidden)&&as.length>0&&(e=requestAnimationFrame(r))}function r(n){for(var s=as.length,o=0;o<s;){var a=as[o];a.paused?(as.splice(o,1),s--):(a.tick(n),o++)}e=o>0?requestAnimationFrame(r):void 0}function i(){ar.suspendWhenDocumentHidden&&(RI()?e=cancelAnimationFrame(e):(as.forEach(function(n){return n._onDocumentVisibility()}),ER()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),t}();function RI(){return!!document&&document.hidden}function ar(e){e===void 0&&(e={});var t=0,r=0,i=0,n,s=0,o=null;function a(T){var S=window.Promise&&new Promise(function(v){return o=v});return T.finished=S,S}var l=Sse(e);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,n.forEach(function(S){return S.reversed=l.reversed})}function f(T){return l.reversed?l.duration-T:T}function d(){t=0,r=f(l.currentTime)*(1/ar.speed)}function p(T,S){S&&S.seek(T-S.timelineOffset)}function y(T){if(l.reversePlayback)for(var v=s;v--;)p(T,n[v]);else for(var S=0;S<s;S++)p(T,n[S])}function g(T){for(var S=0,v=l.animations,M=v.length;S<M;){var C=v[S],L=C.animatable,R=C.tweens,k=R.length-1,G=R[k];k&&(G=Ov(R,function(Oe){return T<Oe.end})[0]||G);for(var W=Qs(T-G.start-G.delay,0,G.duration)/G.duration,V=isNaN(W)?1:G.easing(W),z=G.to.strings,ee=G.round,u=[],m=G.to.numbers.length,E=void 0,N=0;N<m;N++){var q=void 0,K=G.to.numbers[N],he=G.from.numbers[N]||0;G.isPath?q=pse(G.value,V*K,G.isPathTargetInsideSVG):q=he+V*(K-he),ee&&(G.isColor&&N>2||(q=Math.round(q*ee)/ee)),u.push(q)}var oe=z.length;if(!oe)E=u[0];else{E=z[0];for(var Ae=0;Ae<oe;Ae++){z[Ae];var Fe=z[Ae+1],Ve=u[Ae];isNaN(Ve)||(Fe?E+=Ve+Fe:E+=Ve+" ")}}wR[C.type](L.target,C.property,E,L.transforms),C.currentValue=E,S++}}function w(T){l[T]&&!l.passThrough&&l[T](l)}function _(){l.remaining&&l.remaining!==!0&&l.remaining--}function x(T){var S=l.duration,v=l.delay,M=S-l.endDelay,C=f(T);l.progress=Qs(C/S*100,0,100),l.reversePlayback=C<l.currentTime,n&&y(C),!l.began&&l.currentTime>0&&(l.began=!0,w("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,w("loopBegin")),C<=v&&l.currentTime!==0&&g(0),(C>=M&&l.currentTime!==S||!S)&&g(S),C>v&&C<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,w("changeBegin")),w("change"),g(C)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,w("changeComplete")),l.currentTime=Qs(C,0,S),l.began&&w("update"),T>=S&&(r=0,_(),l.remaining?(t=i,w("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,w("loopComplete"),w("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,n=l.children,s=n.length;for(var S=s;S--;)l.children[S].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,S){return SR(T,S),l},l.tick=function(T){i=T,t||(t=i),x((i+(r-t))*ar.speed)},l.seek=function(T){x(f(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,as.push(l),d(),ER())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var S=C3(T);TR(S,l)},l.reset(),l.autoplay&&l.play(),l}function DI(e,t){for(var r=t.length;r--;)x3(e,t[r].animatable.target)&&t.splice(r,1)}function TR(e,t){var r=t.animations,i=t.children;DI(e,r);for(var n=i.length;n--;){var s=i[n],o=s.animations;DI(e,o),!o.length&&!s.children.length&&i.splice(n,1)}!r.length&&!i.length&&t.pause()}function xse(e){for(var t=C3(e),r=as.length;r--;){var i=as[r];TR(t,i)}}function Ese(e,t){t===void 0&&(t={});var r=t.direction||"normal",i=t.easing?S3(t.easing):null,n=t.grid,s=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",f=De.arr(e),d=parseFloat(f?e[0]:e),p=f?parseFloat(e[1]):0,y=Ko(f?e[1]:e)||0,g=t.start||0+(f?d:0),w=[],_=0;return function(x,T,S){if(a&&(o=0),l&&(o=(S-1)/2),c&&(o=S-1),!w.length){for(var v=0;v<S;v++){if(!n)w.push(Math.abs(o-v));else{var M=l?(n[0]-1)/2:o%n[0],C=l?(n[1]-1)/2:Math.floor(o/n[0]),L=v%n[0],R=Math.floor(v/n[0]),k=M-L,G=C-R,W=Math.sqrt(k*k+G*G);s==="x"&&(W=-k),s==="y"&&(W=-G),w.push(W)}_=Math.max.apply(Math,w)}i&&(w=w.map(function(z){return i(z/_)*_})),r==="reverse"&&(w=w.map(function(z){return s?z<0?z*-1:-z:Math.abs(_-z)}))}var V=f?(p-d)/_:d;return g+V*(Math.round(w[T]*100)/100)+y}}function Tse(e){e===void 0&&(e={});var t=ar(e);return t.duration=0,t.add=function(r,i){var n=as.indexOf(t),s=t.children;n>-1&&as.splice(n,1);function o(p){p.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=$v(r,rS(w3,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=De.und(i)?c:I3(i,c),o(t),t.seek(l.timelineOffset);var f=ar(l);o(f),s.push(f);var d=xR(s,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}ar.version="3.2.1";ar.speed=1;ar.suspendWhenDocumentHidden=!0;ar.running=as;ar.remove=xse;ar.get=M3;ar.set=SR;ar.convertPx=T3;ar.path=dse;ar.setDashoffset=hse;ar.stagger=Ese;ar.timeline=Tse;ar.easing=S3;ar.penner=fR;ar.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};class AR{resizeObserver;constructor(t){this.resizeObserver="ResizeObserver"in self?new ResizeObserver(function(r){const i={xs:200,sm:576,md:768,lg:960};r.forEach(function(n){const s=n.target.dataset.breakpoints?JSON.parse(n.target.dataset.breakpoints):t??i;Object.keys(s).forEach(function(o){const a=s[o];n.contentRect.width>=a?n.target.classList.add(o):n.target.classList.remove(o)})})}):void 0}observe(t){this.resizeObserver?.observe(t)}}const Ase=["data-cy"],MR=ot({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=ne(null),r=e,i=ne(!1);oi(()=>{r.panel.teleport&&new AR({xs:0,sm:461,...r.panel.teleport.breakpoints}).observe(t.value)});const n=(l,c,f)=>{if(i.value)return c();ar({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{n(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=r.panel.isScreenLoaded(r.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{n(l,c,[0,1])};return(l,c)=>{const f=$t("focus-container");return pe(),Ee("div",{class:mr(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:_l(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Xe(mv,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:Tr(()=>[Ct((pe(),qt(wE(e.panel.route.screen),pv({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[f]])]),_:1})],14,Ase)}}}),Jc=lr("panel",()=>{const e=ne(void 0),t=ne(void 0),r=ne(0),i=ne(0),n=ne(!1),s=ne(!0),o=ne({}),a=ne({}),l=ne([]),c=ne([]),f=ne([]),d=ne(1),p=tt(()=>i.value);function y(z){return z==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function g(z){const ee=[];return z.forEach(u=>{u in a.value&&ee.push(a.value[u].getPromise())}),ee}function w(z){R(z),C(),t.value=void 0}function _(z){k(z),C()}function x(z,ee){G(z,ee),C()}function T(z){W(z),C()}function S(z){d.value=z}function v(z){r.value=z,C()}function M(z){n.value=z}function C(){let z=r.value;const ee=[],u=350,m=12,E=600;for(let N=l.value.length-1;N>=0;N--){const q=l.value[N];let K=q.width||u;if(n.value?K=z:K+=m,q.id==="grid"&&(K=Math.max(Math.min(K,z),E)),(z>=K&&!n.value||ee.length===0)&&(z-=K,ee.unshift(q)),q.id==="grid"&&z<E)break}if(e.value&&!ee.includes(e.value)&&!n.value){let N;for(let oe=0;oe<ee.length-1&&z<(e.value.width||u)+m;oe++)N=ee.shift(),z+=N.width||u;z>=(e.value.width||u)?ee.unshift(e.value):t.value||(N=ee.shift(),ee.unshift(e.value));const q=l.value.indexOf(e.value),K=l.value.indexOf(N),he=l.value.slice();K>-1&&(he.splice(q,1),he.splice(K,0,e.value)),l.value=he}i.value=z,f.value=ee}function L(z){if(o.value={...o.value,[z.id]:z},z.id in a.value)a.value[z.id].resolveMe(z);else{const ee=new $r;ee.resolveMe(z),a.value={...a.value,[z.id]:ee}}}function R(z){z.teleport?c.value=[...c.value,z]:(l.value=[...l.value,z],t.value=z)}function k(z){if(z.teleport){const ee=c.value.indexOf(z);ee!==-1&&(c.value=[...c.value.slice(0,ee),...c.value.slice(ee+1)])}else{const ee=l.value.indexOf(z);ee!==-1&&(l.value=[...l.value.slice(0,ee),...l.value.slice(ee+1)])}}function G(z,ee){const u=l.value.indexOf(z),m=ee==="right"?1:-1;f.value.includes(l.value[u+m])&&([l.value[u],l.value[u+m]]=[l.value[u+m],l.value[u]])}function W(z){o.value[z.id]!==void 0&&delete o.value[z.id],a.value[z.id]!==void 0&&delete a.value[z.id];const ee=f.value.indexOf(z);ee!==-1&&(f.value=[...f.value.slice(0,ee),...f.value.slice(ee+1)]),e.value&&e.value.id==z.id&&(e.value=void 0)}function V(z){a.value={...a.value,[z]:new $r}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:f,opacity:d,stackWidth:r,remWidth:i,mobileView:n,reorderable:s,teleported:c,getRemainingWidth:p,getVisible:y,getRegPromises:g,openPanel:w,closePanel:_,movePanel:x,removePanel:T,setOpacity:S,setStackWidth:v,setMobileView:M,updateVisible:C,registerPanel:L,addRegPromise:V}}),Mse=ot({__name:"panel-stack",setup(e){GE(f=>({"31ce558a":n.value}));const t=Jc(),r=zr("iApi"),i=ne(),n=tt(()=>t.opacity),s=tt(()=>t.mobileView);oi(()=>{new ResizeObserver(d=>{const p=!(r?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");s.value!==p&&(t.mobileView=p,r?.event.emit(Ne.RAMP_MOBILEVIEW_CHANGE,p)),t.setStackWidth(d[0].contentRect.width)}).observe(i.value?.$el)});const o=f=>t.getVisible(f),a=(f,d)=>{c(f,d,[[6,0],[0,1]])},l=(f,d)=>{const[p,y]=[f.children[0].getBoundingClientRect(),f.parentElement.getBoundingClientRect()];f.style.width=`${p.width}px`,f.style.height=`${p.height}px`,f.style.left=`${p.left-y.left}px`,f.style.position="absolute",c(f,d,[[0,-6],[1,0]])},c=(f,d,p)=>{ar({targets:f,duration:300,translateY:{value:p[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:p[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(f,d)=>(pe(),qt(gv,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:i,class:"panel-container"},{default:Tr(()=>[(pe(!0),Ee(Lt,null,El(o($e(r).screenSize),p=>(pe(),qt(MR,{key:`${p.id}`,panel:p},null,8,["panel"]))),128))]),_:1},512))}}),oa=(e,t)=>{const r=e.__vccOpts||e;for(const[i,n]of t)r[i]=n;return r},Ise=oa(Mse,[["__scopeId","data-v-ac19e951"]]);var rn="top",qn="bottom",Wn="right",nn="left",$3="auto",Nm=[rn,qn,Wn,nn],Hh="start",Vp="end",Ose="clippingParents",IR="viewport",Bf="popper",Cse="reference",FI=Nm.reduce(function(e,t){return e.concat([t+"-"+Hh,t+"-"+Vp])},[]),OR=[].concat(Nm,[$3]).reduce(function(e,t){return e.concat([t,t+"-"+Hh,t+"-"+Vp])},[]),$se="beforeRead",Nse="read",Pse="afterRead",Lse="beforeMain",kse="main",Rse="afterMain",Dse="beforeWrite",Fse="write",Use="afterWrite",jse=[$se,Nse,Pse,Lse,kse,Rse,Dse,Fse,Use];function yo(e){return e?(e.nodeName||"").toLowerCase():null}function _n(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Kc(e){var t=_n(e).Element;return e instanceof t||e instanceof Element}function Bn(e){var t=_n(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function N3(e){if(typeof ShadowRoot>"u")return!1;var t=_n(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Gse(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},n=t.attributes[r]||{},s=t.elements[r];!Bn(s)||!yo(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Bse(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var n=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Bn(n)||!yo(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}const Vse={name:"applyStyles",enabled:!0,phase:"write",fn:Gse,effect:Bse,requires:["computeStyles"]};function ao(e){return e.split("-")[0]}var Mc=Math.max,Xg=Math.min,Yh=Math.round;function nS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function CR(){return!/^((?!chrome|android).)*safari/i.test(nS())}function Jh(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=e.getBoundingClientRect(),n=1,s=1;t&&Bn(e)&&(n=e.offsetWidth>0&&Yh(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Yh(i.height)/e.offsetHeight||1);var o=Kc(e)?_n(e):window,a=o.visualViewport,l=!CR()&&r,c=(i.left+(l&&a?a.offsetLeft:0))/n,f=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/n,p=i.height/s;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function P3(e){var t=Jh(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function $R(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&N3(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ta(e){return _n(e).getComputedStyle(e)}function zse(e){return["table","td","th"].indexOf(yo(e))>=0}function Il(e){return((Kc(e)?e.ownerDocument:e.document)||window.document).documentElement}function Nv(e){return yo(e)==="html"?e:e.assignedSlot||e.parentNode||(N3(e)?e.host:null)||Il(e)}function UI(e){return!Bn(e)||ta(e).position==="fixed"?null:e.offsetParent}function qse(e){var t=/firefox/i.test(nS()),r=/Trident/i.test(nS());if(r&&Bn(e)){var i=ta(e);if(i.position==="fixed")return null}var n=Nv(e);for(N3(n)&&(n=n.host);Bn(n)&&["html","body"].indexOf(yo(n))<0;){var s=ta(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Pm(e){for(var t=_n(e),r=UI(e);r&&zse(r)&&ta(r).position==="static";)r=UI(r);return r&&(yo(r)==="html"||yo(r)==="body"&&ta(r).position==="static")?t:r||qse(e)||t}function L3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function zd(e,t,r){return Mc(e,Xg(t,r))}function Wse(e,t,r){var i=zd(e,t,r);return i>r?r:i}function NR(){return{top:0,right:0,bottom:0,left:0}}function PR(e){return Object.assign({},NR(),e)}function LR(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var Hse=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,PR(typeof t!="number"?t:LR(t,Nm))};function Yse(e){var t,r=e.state,i=e.name,n=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=ao(r.placement),l=L3(a),c=[nn,Wn].indexOf(a)>=0,f=c?"height":"width";if(!(!s||!o)){var d=Hse(n.padding,r),p=P3(s),y=l==="y"?rn:nn,g=l==="y"?qn:Wn,w=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],_=o[l]-r.rects.reference[l],x=Pm(s),T=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=w/2-_/2,v=d[y],M=T-p[f]-d[g],C=T/2-p[f]/2+S,L=zd(v,C,M),R=l;r.modifiersData[i]=(t={},t[R]=L,t.centerOffset=L-C,t)}}function Jse(e){var t=e.state,r=e.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||$R(t.elements.popper,n)&&(t.elements.arrow=n))}const Kse={name:"arrow",enabled:!0,phase:"main",fn:Yse,effect:Jse,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kh(e){return e.split("-")[1]}var Zse={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xse(e,t){var r=e.x,i=e.y,n=t.devicePixelRatio||1;return{x:Yh(r*n)/n||0,y:Yh(i*n)/n||0}}function jI(e){var t,r=e.popper,i=e.popperRect,n=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,g=o.y,w=g===void 0?0:g,_=typeof f=="function"?f({x:y,y:w}):{x:y,y:w};y=_.x,w=_.y;var x=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),S=nn,v=rn,M=window;if(c){var C=Pm(r),L="clientHeight",R="clientWidth";if(C===_n(r)&&(C=Il(r),ta(C).position!=="static"&&a==="absolute"&&(L="scrollHeight",R="scrollWidth")),C=C,n===rn||(n===nn||n===Wn)&&s===Vp){v=qn;var k=d&&C===M&&M.visualViewport?M.visualViewport.height:C[L];w-=k-i.height,w*=l?1:-1}if(n===nn||(n===rn||n===qn)&&s===Vp){S=Wn;var G=d&&C===M&&M.visualViewport?M.visualViewport.width:C[R];y-=G-i.width,y*=l?1:-1}}var W=Object.assign({position:a},c&&Zse),V=f===!0?Xse({x:y,y:w},_n(r)):{x:y,y:w};if(y=V.x,w=V.y,l){var z;return Object.assign({},W,(z={},z[v]=T?"0":"",z[S]=x?"0":"",z.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",z))}return Object.assign({},W,(t={},t[v]=T?w+"px":"",t[S]=x?y+"px":"",t.transform="",t))}function Qse(e){var t=e.state,r=e.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:ao(t.placement),variation:Kh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,jI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,jI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const eoe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qse,data:{}};var T0={passive:!0};function toe(e){var t=e.state,r=e.instance,i=e.options,n=i.scroll,s=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,l=_n(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(f){f.addEventListener("scroll",r.update,T0)}),a&&l.addEventListener("resize",r.update,T0),function(){s&&c.forEach(function(f){f.removeEventListener("scroll",r.update,T0)}),a&&l.removeEventListener("resize",r.update,T0)}}const roe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:toe,data:{}};var ioe={left:"right",right:"left",bottom:"top",top:"bottom"};function Py(e){return e.replace(/left|right|bottom|top/g,function(t){return ioe[t]})}var noe={start:"end",end:"start"};function GI(e){return e.replace(/start|end/g,function(t){return noe[t]})}function k3(e){var t=_n(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function R3(e){return Jh(Il(e)).left+k3(e).scrollLeft}function soe(e,t){var r=_n(e),i=Il(e),n=r.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;var c=CR();(c||!c&&t==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a+R3(e),y:l}}function ooe(e){var t,r=Il(e),i=k3(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Mc(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Mc(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+R3(e),l=-i.scrollTop;return ta(n||r).direction==="rtl"&&(a+=Mc(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function D3(e){var t=ta(e),r=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function kR(e){return["html","body","#document"].indexOf(yo(e))>=0?e.ownerDocument.body:Bn(e)&&D3(e)?e:kR(Nv(e))}function qd(e,t){var r;t===void 0&&(t=[]);var i=kR(e),n=i===((r=e.ownerDocument)==null?void 0:r.body),s=_n(i),o=n?[s].concat(s.visualViewport||[],D3(i)?i:[]):i,a=t.concat(o);return n?a:a.concat(qd(Nv(o)))}function sS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function aoe(e,t){var r=Jh(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function BI(e,t,r){return t===IR?sS(soe(e,r)):Kc(t)?aoe(t,r):sS(ooe(Il(e)))}function loe(e){var t=qd(Nv(e)),r=["absolute","fixed"].indexOf(ta(e).position)>=0,i=r&&Bn(e)?Pm(e):e;return Kc(i)?t.filter(function(n){return Kc(n)&&$R(n,i)&&yo(n)!=="body"}):[]}function coe(e,t,r,i){var n=t==="clippingParents"?loe(e):[].concat(t),s=[].concat(n,[r]),o=s[0],a=s.reduce(function(l,c){var f=BI(e,c,i);return l.top=Mc(f.top,l.top),l.right=Xg(f.right,l.right),l.bottom=Xg(f.bottom,l.bottom),l.left=Mc(f.left,l.left),l},BI(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function RR(e){var t=e.reference,r=e.element,i=e.placement,n=i?ao(i):null,s=i?Kh(i):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(n){case rn:l={x:o,y:t.y-r.height};break;case qn:l={x:o,y:t.y+t.height};break;case Wn:l={x:t.x+t.width,y:a};break;case nn:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=n?L3(n):null;if(c!=null){var f=c==="y"?"height":"width";switch(s){case Hh:l[c]=l[c]-(t[f]/2-r[f]/2);break;case Vp:l[c]=l[c]+(t[f]/2-r[f]/2);break}}return l}function Zh(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=i===void 0?e.placement:i,s=r.strategy,o=s===void 0?e.strategy:s,a=r.boundary,l=a===void 0?Ose:a,c=r.rootBoundary,f=c===void 0?IR:c,d=r.elementContext,p=d===void 0?Bf:d,y=r.altBoundary,g=y===void 0?!1:y,w=r.padding,_=w===void 0?0:w,x=PR(typeof _!="number"?_:LR(_,Nm)),T=p===Bf?Cse:Bf,S=e.rects.popper,v=e.elements[g?T:p],M=coe(Kc(v)?v:v.contextElement||Il(e.elements.popper),l,f,o),C=Jh(e.elements.reference),L=RR({reference:C,element:S,strategy:"absolute",placement:n}),R=sS(Object.assign({},S,L)),k=p===Bf?R:C,G={top:M.top-k.top+x.top,bottom:k.bottom-M.bottom+x.bottom,left:M.left-k.left+x.left,right:k.right-M.right+x.right},W=e.modifiersData.offset;if(p===Bf&&W){var V=W[n];Object.keys(G).forEach(function(z){var ee=[Wn,qn].indexOf(z)>=0?1:-1,u=[rn,qn].indexOf(z)>=0?"y":"x";G[z]+=V[u]*ee})}return G}function uoe(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?OR:l,f=Kh(i),d=f?a?FI:FI.filter(function(g){return Kh(g)===f}):Nm,p=d.filter(function(g){return c.indexOf(g)>=0});p.length===0&&(p=d);var y=p.reduce(function(g,w){return g[w]=Zh(e,{placement:w,boundary:n,rootBoundary:s,padding:o})[ao(w)],g},{});return Object.keys(y).sort(function(g,w){return y[g]-y[w]})}function hoe(e){if(ao(e)===$3)return[];var t=Py(e);return[GI(e),t,GI(t)]}function foe(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,g=y===void 0?!0:y,w=r.allowedAutoPlacements,_=t.options.placement,x=ao(_),T=x===_,S=l||(T||!g?[Py(_)]:hoe(_)),v=[_].concat(S).reduce(function(Fe,Ve){return Fe.concat(ao(Ve)===$3?uoe(t,{placement:Ve,boundary:f,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:w}):Ve)},[]),M=t.rects.reference,C=t.rects.popper,L=new Map,R=!0,k=v[0],G=0;G<v.length;G++){var W=v[G],V=ao(W),z=Kh(W)===Hh,ee=[rn,qn].indexOf(V)>=0,u=ee?"width":"height",m=Zh(t,{placement:W,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),E=ee?z?Wn:nn:z?qn:rn;M[u]>C[u]&&(E=Py(E));var N=Py(E),q=[];if(s&&q.push(m[V]<=0),a&&q.push(m[E]<=0,m[N]<=0),q.every(function(Fe){return Fe})){k=W,R=!1;break}L.set(W,q)}if(R)for(var K=g?3:1,he=function(Ve){var Oe=v.find(function(vt){var rt=L.get(vt);if(rt)return rt.slice(0,Ve).every(function(pt){return pt})});if(Oe)return k=Oe,"break"},oe=K;oe>0;oe--){var Ae=he(oe);if(Ae==="break")break}t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}}const doe={name:"flip",enabled:!0,phase:"main",fn:foe,requiresIfExists:["offset"],data:{_skip:!1}};function VI(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function zI(e){return[rn,Wn,qn,nn].some(function(t){return e[t]>=0})}function poe(e){var t=e.state,r=e.name,i=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,o=Zh(t,{elementContext:"reference"}),a=Zh(t,{altBoundary:!0}),l=VI(o,i),c=VI(a,n,s),f=zI(l),d=zI(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const moe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:poe};function yoe(e,t,r){var i=ao(e),n=[nn,rn].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[nn,Wn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function goe(e){var t=e.state,r=e.options,i=e.name,n=r.offset,s=n===void 0?[0,0]:n,o=OR.reduce(function(f,d){return f[d]=yoe(d,t.rects,s),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}const voe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:goe};function boe(e){var t=e.state,r=e.name;t.modifiersData[r]=RR({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const _oe={name:"popperOffsets",enabled:!0,phase:"read",fn:boe,data:{}};function woe(e){return e==="x"?"y":"x"}function Soe(e){var t=e.state,r=e.options,i=e.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,g=r.tetherOffset,w=g===void 0?0:g,_=Zh(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),x=ao(t.placement),T=Kh(t.placement),S=!T,v=L3(x),M=woe(v),C=t.modifiersData.popperOffsets,L=t.rects.reference,R=t.rects.popper,k=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,G=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),W=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(C){if(s){var z,ee=v==="y"?rn:nn,u=v==="y"?qn:Wn,m=v==="y"?"height":"width",E=C[v],N=E+_[ee],q=E-_[u],K=y?-R[m]/2:0,he=T===Hh?L[m]:R[m],oe=T===Hh?-R[m]:-L[m],Ae=t.elements.arrow,Fe=y&&Ae?P3(Ae):{width:0,height:0},Ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:NR(),Oe=Ve[ee],vt=Ve[u],rt=zd(0,L[m],Fe[m]),pt=S?L[m]/2-K-rt-Oe-G.mainAxis:he-rt-Oe-G.mainAxis,ht=S?-L[m]/2+K+rt+vt+G.mainAxis:oe+rt+vt+G.mainAxis,nt=t.elements.arrow&&Pm(t.elements.arrow),Rt=nt?v==="y"?nt.clientTop||0:nt.clientLeft||0:0,B=(z=W?.[v])!=null?z:0,F=E+pt-B-Rt,J=E+ht-B,ae=zd(y?Xg(N,F):N,E,y?Mc(q,J):q);C[v]=ae,V[v]=ae-E}if(a){var se,O=v==="x"?rn:nn,U=v==="x"?qn:Wn,I=C[M],P=M==="y"?"height":"width",j=I+_[O],Z=I-_[U],re=[rn,nn].indexOf(x)!==-1,te=(se=W?.[M])!=null?se:0,Y=re?j:I-L[P]-R[P]-te+G.altAxis,X=re?I+L[P]+R[P]-te-G.altAxis:Z,ve=y&&re?Wse(Y,I,X):zd(y?Y:j,I,y?X:Z);C[M]=ve,V[M]=ve-I}t.modifiersData[i]=V}}const xoe={name:"preventOverflow",enabled:!0,phase:"main",fn:Soe,requiresIfExists:["offset"]};function Eoe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Toe(e){return e===_n(e)||!Bn(e)?k3(e):Eoe(e)}function Aoe(e){var t=e.getBoundingClientRect(),r=Yh(t.width)/e.offsetWidth||1,i=Yh(t.height)/e.offsetHeight||1;return r!==1||i!==1}function Moe(e,t,r){r===void 0&&(r=!1);var i=Bn(t),n=Bn(t)&&Aoe(t),s=Il(t),o=Jh(e,n,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((yo(t)!=="body"||D3(s))&&(a=Toe(t)),Bn(t)?(l=Jh(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=R3(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Ioe(e){var t=new Map,r=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&n(l)}}),i.push(s)}return e.forEach(function(s){r.has(s.name)||n(s)}),i}function Ooe(e){var t=Ioe(e);return jse.reduce(function(r,i){return r.concat(t.filter(function(n){return n.phase===i}))},[])}function Coe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function $oe(e){var t=e.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var qI={placement:"bottom",modifiers:[],strategy:"absolute"};function WI(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Noe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,n=t.defaultOptions,s=n===void 0?qI:n;return function(a,l,c){c===void 0&&(c=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},qI,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(x){var T=typeof x=="function"?x(f.options):x;w(),f.options=Object.assign({},s,f.options,T),f.scrollParents={reference:Kc(a)?qd(a):a.contextElement?qd(a.contextElement):[],popper:qd(l)};var S=Ooe($oe([].concat(i,f.options.modifiers)));return f.orderedModifiers=S.filter(function(v){return v.enabled}),g(),y.update()},forceUpdate:function(){if(!p){var x=f.elements,T=x.reference,S=x.popper;if(WI(T,S)){f.rects={reference:Moe(T,Pm(S),f.options.strategy==="fixed"),popper:P3(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(G){return f.modifiersData[G.name]=Object.assign({},G.data)});for(var v=0;v<f.orderedModifiers.length;v++){if(f.reset===!0){f.reset=!1,v=-1;continue}var M=f.orderedModifiers[v],C=M.fn,L=M.options,R=L===void 0?{}:L,k=M.name;typeof C=="function"&&(f=C({state:f,options:R,name:k,instance:y})||f)}}}},update:Coe(function(){return new Promise(function(_){y.forceUpdate(),_(f)})}),destroy:function(){w(),p=!0}};if(!WI(a,l))return y;y.setOptions(c).then(function(_){!p&&c.onFirstUpdate&&c.onFirstUpdate(_)});function g(){f.orderedModifiers.forEach(function(_){var x=_.name,T=_.options,S=T===void 0?{}:T,v=_.effect;if(typeof v=="function"){var M=v({state:f,name:x,instance:y,options:S}),C=function(){};d.push(M||C)}})}function w(){d.forEach(function(_){return _()}),d=[]}return y}}var Poe=[roe,_oe,eoe,Vse,voe,doe,xoe,Kse,moe],Loe=Noe({defaultModifiers:Poe});const koe=["content","aria-label"],F3=ot({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=ne(!1),r=ne(null),i=ei([]),n=ne(),s=ne(),o=ne(),a=e;i.push(Xr(t,()=>{r.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return oi(()=>{window.addEventListener("click",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),As(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=Zh(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&s.value&&(r.value=Loe(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Ms(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),t.value=!1}),(d,p)=>{const y=$t("tippy");return pe(),Ee("div",{ref_key:"el",ref:n},[Ct((pe(),Ee("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[cs(d.$slots,"header")],8,koe)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,appendTo:"parent",trigger:"manual"}]]),Ct(ue("div",{onClick:p[0]||(p[0]=g=>r.value.update()),class:mr(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:s},[cs(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[yv,t.value]])],512)}}}),lo=lr("notification",()=>{const e=ne([]),t=ne({}),r=tt(()=>e.value.length>=99?99:e.value.length);function i(c){e.value=[c,...e.value]}function n(c){if(e.value.includes(c)){const f=e.value.indexOf(c);c instanceof DR&&l(c),f>-1&&e.value.splice(f,1)}}function s(c){t.value[c.id]=c}function o(c,f){t.value[c]&&(t.value[c].messageList.push(f),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const f=e.value.indexOf(c);f>-1&&e.value.splice(f,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:r,showNotification:i,removeNotification:n,registerGroup:s,addToGroup:o,clearAll:a}}),Roe={class:"h-full flex flex-col"},Doe={class:"w-full flex mb-6"},Foe=["content","aria-label"],Uoe=ot({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=lo(),{t:r}=nr(),i=tt(()=>t.notificationNumber),n=()=>t.clearAll();return(s,o)=>{const a=vr("panel-screen"),l=$t("tippy");return pe(),qt(a,{panel:e.panel},{header:Tr(()=>[oo(zt($e(r)("notifications.title")),1)]),content:Tr(()=>[ue("div",Roe,[ue("div",Doe,[Ct((pe(),Ee("button",{type:"button",onClick:n,class:mr(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(r)("notifications.controls.clearAll"),"aria-label":$e(r)("notifications.controls.clearAll")},o[0]||(o[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,Foe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Xe(FR,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var yn=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(yn||{});class joe extends Pr{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":xr(Uoe)},alertName:"notifications.title"}}),this.notificationStore=lo(this.$vApp.$pinia)}show(t,r){this.notificationStore.showNotification({type:t,message:r})}addGroup(t,r,i){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const n=new DR(this.$iApi,t,r,i);return this.notificationStore.registerGroup(n),n}getGroup(t){return this.notificationStore.groups[t]}}class DR extends Pr{notificationStore=lo(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,r,i,n){super(t),this.id=r,this.type=i,this.message=n}show(t){this.notificationStore.addToGroup(this.id,t)}}const Goe=["content"],Boe={class:"flex items-center text-left"},Voe={class:"select-text cursor-text"},zoe=["content"],qoe={key:0,class:"text-left"},Woe=ot({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=lo(),{t:r}=nr(),i=e,n=ne(!1),s=ei({[yn.WARNING]:"",[yn.INFO]:"",[yn.ERROR]:""}),o=l=>{t.removeNotification(l)},a=()=>{if(!i.notification.messageList)return!1};return(l,c)=>{const f=$t("tippy");return Ct((pe(),Ee("li",{class:mr(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:$e(r)(n.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>n.value=!n.value)},[ue("div",Boe,[ue("span",null,[oo(zt(s[e.notification.type])+" ",1),ue("span",Voe,zt(e.notification.message),1)]),c[4]||(c[4]=ue("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(pe(),Ee("div",{key:0,class:mr(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":n.value}])},c[2]||(c[2]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ue("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Yt("",!0),Ct((pe(),Ee("button",{type:"button",onClick:c[0]||(c[0]=Im(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:$e(r)("notifications.controls.dismiss")},c[3]||(c[3]=[ue("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ue("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,zoe)),[[f,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&n.value?(pe(),Ee("div",qoe,[(pe(!0),Ee(Lt,null,El(e.notification.messageList,(d,p)=>(pe(),Ee("p",{key:e.notification.id+d+p},zt(d),1))),128))])):Yt("",!0)],10,Goe)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Hoe=["content"],Yoe={key:0,class:"w-full border-b border-black"},Joe={key:1,class:"flex flex-col items-center h-full"},FR=ot({__name:"notification-list",setup(e){const t=lo(),{t:r}=nr(),i=ne(),n=()=>{i.value._tippy.hide()},s=a=>{a.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()};oi(()=>{i.value?.addEventListener("blur",n),i.value?.addEventListener("keyup",s)}),Ms(()=>{i.value?.removeEventListener("blur",n),i.value?.removeEventListener("keyup",s)});const o=tt(()=>t.notificationStack);return(a,l)=>{const c=$t("focus-item"),f=$t("focus-list"),d=$t("tippy");return pe(),Ee("div",null,[o.value.length>0?Ct((pe(),Ee("ul",{key:0,content:$e(r)("panels.controls.items"),ref_key:"el",ref:i},[(pe(!0),Ee(Lt,null,El(o.value,(p,y)=>(pe(),Ee(Lt,{key:p.message+y},[y>0?(pe(),Ee("div",Yoe)):Yt("",!0),Ct(Xe(Woe,{class:mr([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,Hoe)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(pe(),Ee("div",Joe,[l[0]||(l[0]=ue("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ue("path",{d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ue("span",null,zt($e(r)("notifications.empty")),1),l[2]||(l[2]=ue("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),Koe={class:"flex items-center hover:text-white"},Zoe=["aria-label"],Xoe={key:0,class:"number rounded-full w-18 text-white"},Qoe={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},eae={class:"pb-8 border-b border-gray-600"},tae={class:"absolute flex right-3 top-3"},rae=["content","aria-label"],iae=ot({__name:"caption-button",setup(e){const t=lo(),{t:r}=nr(),i=tt(()=>t.notificationNumber),n=()=>t.clearAll();return(s,o)=>{const a=vr("close"),l=$t("tippy");return pe(),qt(F3,{position:"top-start",tooltip:$e(r)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Tr(()=>[ue("div",Koe,[(pe(),Ee("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":$e(r)("notifications.open")},o[0]||(o[0]=[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,Zoe)),i.value&&i.value>0?(pe(),Ee("span",Xoe,zt(i.value),1)):Yt("",!0)])]),default:Tr(c=>[ue("div",Qoe,[ue("div",null,[ue("h4",eae,zt($e(r)("notifications.title")),1),ue("div",tae,[Ct((pe(),Ee("button",{type:"button",onClick:n,class:mr(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(r)("notifications.controls.clearAll"),"aria-label":$e(r)("notifications.controls.clearAll")},o[1]||(o[1]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,rae)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Xe(a,{onClick:c.close},null,8,["onClick"])])]),Xe(FR,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),nae=oa(iae,[["__scopeId","data-v-77b1750c"]]),sae={class:"flex hover:text-white"},oae=["aria-label"],aae={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},lae={class:"pb-8 border-b border-gray-600 mb-10"},cae={class:"absolute right-5 top-5"},uae={class:"select-text"},hae={class:"font-bold cursor-text"},fae={class:"text-sm cursor-text"},dae={class:"text-sm cursor-text"},pae=ot({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=nr(),r=tt(()=>`${zf.major}.${zf.minor}.${zf.patch}`),i=tt(()=>zf.hash.slice(0,9)),n=tt(()=>{const s=new Date(zf.timestamp);if(isNaN(s))return"dev mode, no date";{const o=a=>a<10?"0"+a.toString():a.toString();return`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()} ${s.getHours()}:${o(s.getMinutes())}:${o(s.getSeconds())}`}});return(s,o)=>{const a=vr("close"),l=vr("dropdown-menu"),c=$t("focus-item");return Ct((pe(),qt(l,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:$e(t)("ramp.about"),tooltipPlacement:e.position},{header:Tr(()=>[ue("div",sae,[(pe(),Ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":$e(t)("ramp.about.open")},o[0]||(o[0]=[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,oae))])]),default:Tr(f=>[ue("div",aae,[ue("div",null,[ue("h4",lae,zt($e(t)("ramp.about")),1),ue("div",cae,[Xe(a,{onClick:f.close},null,8,["onClick"])]),ue("div",uae,[ue("div",null,[ue("span",hae,zt(r.value),1),ue("span",fae," ["+zt(i.value)+"] ",1)]),ue("div",null,[ue("span",dae,zt(n.value),1)]),o[1]||(o[1]=ue("div",{class:"mt-5"},[ue("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),oo(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[c]])}}}),mae=oa(pae,[["__scopeId","data-v-5935b830"]]),yae={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},gae={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},vae=["href","aria-label"],bae=["src","alt"],_ae={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},wae={class:"flex min-w-fit justify-end"},Sae={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},xae=["aria-pressed","aria-label","content"],Eae={class:"relative top-1 text-sm sm:text-base"},Tae={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},Aae=["onClick"],Mae={key:0,class:"sr-only"},Iae=ot({__name:"map-caption",setup(e){const t=Xa(),r=Xi(),{t:i}=nr(),n=zr("iApi"),s=tt(()=>t.scale),o=tt(()=>t.attribution),a=tt(()=>t.coords),l=tt(()=>t.langtoggle),c=tt(()=>r.config.map),f=ne([]),d=ei([]);d.push(Xr(c,_=>{_&&n.geo.map.caption.createCaption(c.value?.caption)})),Ms(()=>{d.forEach(_=>_())}),Ef(()=>{As(()=>{n.$i18n.locale.value&&f.value.length==0&&(f.value=n.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=_=>{n.$i18n.locale.value!=_&&n.setLanguage(_)},g=()=>{t.toggleScale(),n.geo.map.caption.updateScale()},w=(_=!1)=>i(_?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(_,x)=>{const T=vr("dropdown-menu"),S=$t("truncate"),v=$t("tippy");return pe(),Ee("div",yae,[Xe(mae,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Xe(nae,{class:"sm:block display-none"}),p()?(pe(),Ee("span",gae,[ue("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ue("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,bae)],8,vae)])):Yt("",!0),o.value?.text.disabled?Yt("",!0):Ct((pe(),Ee("span",_ae,[oo(zt(o.value?.text.value),1)])),[[S,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),x[0]||(x[0]=ue("span",{class:"flex-grow w-15"},null,-1)),ue("div",wae,[a.value?.disabled?Yt("",!0):Ct((pe(),Ee("div",Sae,[oo(zt(a.value?.formattedString),1)])),[[S,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),s.value?.disabled?Yt("",!0):Ct((pe(),Ee("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:g,"aria-pressed":s.value?.isImperialScale,"aria-label":`
                    ${s.value?.label} - ${w(s.value?.isImperialScale)}
                `,content:w(s.value?.isImperialScale)},[ue("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:_l({width:s.value?.width})},null,4),ue("span",Eae,zt(s.value?.label),1)],8,xae)),[[v,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Yt("",!0):(pe(),qt(T,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:$e(i)("map.changeLanguage"),ariaLabel:`${$e(i)("map.language.short")} - ${$e(i)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Tr(()=>[ue("span",Tae,zt($e(i)("map.language.short")),1)]),default:Tr(()=>[(pe(!0),Ee(Lt,null,El(f.value,(M,C)=>(pe(),Ee("a",{key:`${M}-${C}`,class:mr(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":M===$e(n).$i18n.locale.value}]),href:"javascript:;",onClick:L=>y(M)},[oo(zt($e(i)("map.language."+M))+" ",1),M===$e(n).$i18n.locale.value?(pe(),Ee("span",Mae,zt($e(i)("map.language.curr")),1)):Yt("",!0)],10,Aae))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Oae=["content","aria-label"],Cae={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},$ae=ot({__name:"floating-button",setup(e){const t=lo(),r=zr("iApi"),{t:i}=nr(),n=tt(()=>t.notificationNumber);return(s,o)=>{const a=$t("tippy");return Ct((pe(),Ee("button",{type:"button",onClick:o[0]||(o[0]=l=>$e(r).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:$e(i)("notifications.title"),"aria-label":$e(i)("notifications.title")},[o[1]||(o[1]=ue("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),n.value&&n.value>0?(pe(),Ee("span",Cae,zt(n.value),1)):Yt("",!0)],8,Oae)),[[a]])}}}),Nae=oa($ae,[["__scopeId","data-v-db7ed22c"]]),Pae={class:"flex items-center mb-20"},Lae={class:"text-xl"},kae=ot({__name:"keyboard-instructions",setup(e){const t=zr("iApi"),{t:r}=nr(),i=ne(!1),n=ne(["app","lists","map"]),s=ne([]),o=ne(null),a=ne(null);oi(()=>{s.value.push(t.event.on("openKeyboardInstructions",()=>{i.value=!0,As(()=>{o.value.focus()})}))}),Ms(()=>{s.value.forEach(c=>t?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,f)=>{const d=vr("close");return i.value?(pe(),Ee("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>i.value=!1),onKeydown:l},[ue("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:f[2]||(f[2]=Im(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ue("div",Pae,[ue("h2",Lae,zt($e(r)("keyboardInstructions.title")),1),Xe(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>i.value=!1)})]),(pe(!0),Ee(Lt,null,El(n.value,p=>(pe(),Ee("p",{class:"whitespace-pre-line pb-10",key:p},zt($e(r)(`keyboardInstructions.${p}`)),1))),128)),ue("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>i.value=!1),ref_key:"lastEl",ref:a},zt($e(r)("keyboardInstructions.OK")),513)],512)],32)):Yt("",!0)}}}),Vu=lr("instance",()=>({started:ne(!1)})),Rae={class:"h-full relative"},Dae={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Fae={class:"absolute top-8 w-full flex justify-center"},Uae={key:1,class:"w-full h-full"},jae=ot({__name:"shell",setup(e){const t=zr("iApi"),r=Vu(),i=Pn(),n=Jc(),{t:s}=nr(),o=tt(()=>i.items.appbar),a=()=>{t?.event.emit("openKeyboardInstructions")},l=()=>n.teleported;return(c,f)=>(pe(),Ee("div",Rae,[ue("div",Dae,[f[0]||(f[0]=ue("div",{class:"sr-only screen-reader-alert"},null,-1)),ue("div",Fae,[ue("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},zt($e(s)("keyboardInstructions.open")),1)]),Xe(kae),Xe(Ise,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Yt("",!0):(pe(),qt(Nae,{key:0})),Xe(Iae,{class:"z-30"})]),$e(r).started?(pe(),qt(Zne,{key:0})):(pe(),Ee("div",Uae,f[1]||(f[1]=[ue("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(pe(!0),Ee(Lt,null,El(l(),d=>(pe(),qt(cE,{to:d.teleport?.target,key:d.id},[(pe(),qt(MR,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Gae=oa(jae,[["__scopeId","data-v-2c534eed"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var sn="top",Hn="bottom",Yn="right",on="left",U3="auto",Lm=[sn,Hn,Yn,on],Xh="start",zp="end",Bae="clippingParents",UR="viewport",Vf="popper",Vae="reference",HI=Lm.reduce(function(e,t){return e.concat([t+"-"+Xh,t+"-"+zp])},[]),jR=[].concat(Lm,[U3]).reduce(function(e,t){return e.concat([t,t+"-"+Xh,t+"-"+zp])},[]),zae="beforeRead",qae="read",Wae="afterRead",Hae="beforeMain",Yae="main",Jae="afterMain",Kae="beforeWrite",Zae="write",Xae="afterWrite",Qae=[zae,qae,Wae,Hae,Yae,Jae,Kae,Zae,Xae];function go(e){return e?(e.nodeName||"").toLowerCase():null}function Is(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qh(e){var t=Is(e).Element;return e instanceof t||e instanceof Element}function Vn(e){var t=Is(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function GR(e){if(typeof ShadowRoot>"u")return!1;var t=Is(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ele(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},n=t.attributes[r]||{},s=t.elements[r];!Vn(s)||!go(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function tle(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var n=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Vn(n)||!go(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}var BR={name:"applyStyles",enabled:!0,phase:"write",fn:ele,effect:tle,requires:["computeStyles"]};function co(e){return e.split("-")[0]}var Ic=Math.max,Qg=Math.min,ef=Math.round;function tf(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),i=1,n=1;if(Vn(e)&&t){var s=e.offsetHeight,o=e.offsetWidth;o>0&&(i=ef(r.width)/o||1),s>0&&(n=ef(r.height)/s||1)}return{width:r.width/i,height:r.height/n,top:r.top/n,right:r.right/i,bottom:r.bottom/n,left:r.left/i,x:r.left/i,y:r.top/n}}function j3(e){var t=tf(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function VR(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&GR(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function vo(e){return Is(e).getComputedStyle(e)}function rle(e){return["table","td","th"].indexOf(go(e))>=0}function Ol(e){return((Qh(e)?e.ownerDocument:e.document)||window.document).documentElement}function Pv(e){return go(e)==="html"?e:e.assignedSlot||e.parentNode||(GR(e)?e.host:null)||Ol(e)}function YI(e){return!Vn(e)||vo(e).position==="fixed"?null:e.offsetParent}function ile(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&Vn(e)){var i=vo(e);if(i.position==="fixed")return null}for(var n=Pv(e);Vn(n)&&["html","body"].indexOf(go(n))<0;){var s=vo(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function km(e){for(var t=Is(e),r=YI(e);r&&rle(r)&&vo(r).position==="static";)r=YI(r);return r&&(go(r)==="html"||go(r)==="body"&&vo(r).position==="static")?t:r||ile(e)||t}function G3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Wd(e,t,r){return Ic(e,Qg(t,r))}function nle(e,t,r){var i=Wd(e,t,r);return i>r?r:i}function zR(){return{top:0,right:0,bottom:0,left:0}}function qR(e){return Object.assign({},zR(),e)}function WR(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var sle=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,qR(typeof t!="number"?t:WR(t,Lm))};function ole(e){var t,r=e.state,i=e.name,n=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=co(r.placement),l=G3(a),c=[on,Yn].indexOf(a)>=0,f=c?"height":"width";if(!(!s||!o)){var d=sle(n.padding,r),p=j3(s),y=l==="y"?sn:on,g=l==="y"?Hn:Yn,w=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],_=o[l]-r.rects.reference[l],x=km(s),T=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=w/2-_/2,v=d[y],M=T-p[f]-d[g],C=T/2-p[f]/2+S,L=Wd(v,C,M),R=l;r.modifiersData[i]=(t={},t[R]=L,t.centerOffset=L-C,t)}}function ale(e){var t=e.state,r=e.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||VR(t.elements.popper,n)&&(t.elements.arrow=n))}var lle={name:"arrow",enabled:!0,phase:"main",fn:ole,effect:ale,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rf(e){return e.split("-")[1]}var cle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ule(e){var t=e.x,r=e.y,i=window,n=i.devicePixelRatio||1;return{x:ef(t*n)/n||0,y:ef(r*n)/n||0}}function JI(e){var t,r=e.popper,i=e.popperRect,n=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=f===!0?ule(o):typeof f=="function"?f(o):o,y=p.x,g=y===void 0?0:y,w=p.y,_=w===void 0?0:w,x=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),S=on,v=sn,M=window;if(c){var C=km(r),L="clientHeight",R="clientWidth";if(C===Is(r)&&(C=Ol(r),vo(C).position!=="static"&&a==="absolute"&&(L="scrollHeight",R="scrollWidth")),C=C,n===sn||(n===on||n===Yn)&&s===zp){v=Hn;var k=d&&M.visualViewport?M.visualViewport.height:C[L];_-=k-i.height,_*=l?1:-1}if(n===on||(n===sn||n===Hn)&&s===zp){S=Yn;var G=d&&M.visualViewport?M.visualViewport.width:C[R];g-=G-i.width,g*=l?1:-1}}var W=Object.assign({position:a},c&&cle);if(l){var V;return Object.assign({},W,(V={},V[v]=T?"0":"",V[S]=x?"0":"",V.transform=(M.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",V))}return Object.assign({},W,(t={},t[v]=T?_+"px":"",t[S]=x?g+"px":"",t.transform="",t))}function hle(e){var t=e.state,r=e.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:co(t.placement),variation:rf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,JI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,JI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var fle={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hle,data:{}},A0={passive:!0};function dle(e){var t=e.state,r=e.instance,i=e.options,n=i.scroll,s=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,l=Is(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(f){f.addEventListener("scroll",r.update,A0)}),a&&l.addEventListener("resize",r.update,A0),function(){s&&c.forEach(function(f){f.removeEventListener("scroll",r.update,A0)}),a&&l.removeEventListener("resize",r.update,A0)}}var ple={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dle,data:{}},mle={left:"right",right:"left",bottom:"top",top:"bottom"};function Ly(e){return e.replace(/left|right|bottom|top/g,function(t){return mle[t]})}var yle={start:"end",end:"start"};function KI(e){return e.replace(/start|end/g,function(t){return yle[t]})}function B3(e){var t=Is(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function V3(e){return tf(Ol(e)).left+B3(e).scrollLeft}function gle(e){var t=Is(e),r=Ol(e),i=t.visualViewport,n=r.clientWidth,s=r.clientHeight,o=0,a=0;return i&&(n=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:n,height:s,x:o+V3(e),y:a}}function vle(e){var t,r=Ol(e),i=B3(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Ic(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Ic(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+V3(e),l=-i.scrollTop;return vo(n||r).direction==="rtl"&&(a+=Ic(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function z3(e){var t=vo(e),r=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function HR(e){return["html","body","#document"].indexOf(go(e))>=0?e.ownerDocument.body:Vn(e)&&z3(e)?e:HR(Pv(e))}function Hd(e,t){var r;t===void 0&&(t=[]);var i=HR(e),n=i===((r=e.ownerDocument)==null?void 0:r.body),s=Is(i),o=n?[s].concat(s.visualViewport||[],z3(i)?i:[]):i,a=t.concat(o);return n?a:a.concat(Hd(Pv(o)))}function oS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ble(e){var t=tf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function ZI(e,t){return t===UR?oS(gle(e)):Qh(t)?ble(t):oS(vle(Ol(e)))}function _le(e){var t=Hd(Pv(e)),r=["absolute","fixed"].indexOf(vo(e).position)>=0,i=r&&Vn(e)?km(e):e;return Qh(i)?t.filter(function(n){return Qh(n)&&VR(n,i)&&go(n)!=="body"&&(r?vo(n).position!=="static":!0)}):[]}function wle(e,t,r){var i=t==="clippingParents"?_le(e):[].concat(t),n=[].concat(i,[r]),s=n[0],o=n.reduce(function(a,l){var c=ZI(e,l);return a.top=Ic(c.top,a.top),a.right=Qg(c.right,a.right),a.bottom=Qg(c.bottom,a.bottom),a.left=Ic(c.left,a.left),a},ZI(e,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function YR(e){var t=e.reference,r=e.element,i=e.placement,n=i?co(i):null,s=i?rf(i):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(n){case sn:l={x:o,y:t.y-r.height};break;case Hn:l={x:o,y:t.y+t.height};break;case Yn:l={x:t.x+t.width,y:a};break;case on:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=n?G3(n):null;if(c!=null){var f=c==="y"?"height":"width";switch(s){case Xh:l[c]=l[c]-(t[f]/2-r[f]/2);break;case zp:l[c]=l[c]+(t[f]/2-r[f]/2);break}}return l}function qp(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=i===void 0?e.placement:i,s=r.boundary,o=s===void 0?Bae:s,a=r.rootBoundary,l=a===void 0?UR:a,c=r.elementContext,f=c===void 0?Vf:c,d=r.altBoundary,p=d===void 0?!1:d,y=r.padding,g=y===void 0?0:y,w=qR(typeof g!="number"?g:WR(g,Lm)),_=f===Vf?Vae:Vf,x=e.rects.popper,T=e.elements[p?_:f],S=wle(Qh(T)?T:T.contextElement||Ol(e.elements.popper),o,l),v=tf(e.elements.reference),M=YR({reference:v,element:x,strategy:"absolute",placement:n}),C=oS(Object.assign({},x,M)),L=f===Vf?C:v,R={top:S.top-L.top+w.top,bottom:L.bottom-S.bottom+w.bottom,left:S.left-L.left+w.left,right:L.right-S.right+w.right},k=e.modifiersData.offset;if(f===Vf&&k){var G=k[n];Object.keys(R).forEach(function(W){var V=[Yn,Hn].indexOf(W)>=0?1:-1,z=[sn,Hn].indexOf(W)>=0?"y":"x";R[W]+=G[z]*V})}return R}function Sle(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?jR:l,f=rf(i),d=f?a?HI:HI.filter(function(g){return rf(g)===f}):Lm,p=d.filter(function(g){return c.indexOf(g)>=0});p.length===0&&(p=d);var y=p.reduce(function(g,w){return g[w]=qp(e,{placement:w,boundary:n,rootBoundary:s,padding:o})[co(w)],g},{});return Object.keys(y).sort(function(g,w){return y[g]-y[w]})}function xle(e){if(co(e)===U3)return[];var t=Ly(e);return[KI(e),t,KI(t)]}function Ele(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,g=y===void 0?!0:y,w=r.allowedAutoPlacements,_=t.options.placement,x=co(_),T=x===_,S=l||(T||!g?[Ly(_)]:xle(_)),v=[_].concat(S).reduce(function(Fe,Ve){return Fe.concat(co(Ve)===U3?Sle(t,{placement:Ve,boundary:f,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:w}):Ve)},[]),M=t.rects.reference,C=t.rects.popper,L=new Map,R=!0,k=v[0],G=0;G<v.length;G++){var W=v[G],V=co(W),z=rf(W)===Xh,ee=[sn,Hn].indexOf(V)>=0,u=ee?"width":"height",m=qp(t,{placement:W,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),E=ee?z?Yn:on:z?Hn:sn;M[u]>C[u]&&(E=Ly(E));var N=Ly(E),q=[];if(s&&q.push(m[V]<=0),a&&q.push(m[E]<=0,m[N]<=0),q.every(function(Fe){return Fe})){k=W,R=!1;break}L.set(W,q)}if(R)for(var K=g?3:1,he=function(Ve){var Oe=v.find(function(vt){var rt=L.get(vt);if(rt)return rt.slice(0,Ve).every(function(pt){return pt})});if(Oe)return k=Oe,"break"},oe=K;oe>0;oe--){var Ae=he(oe);if(Ae==="break")break}t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}}var Tle={name:"flip",enabled:!0,phase:"main",fn:Ele,requiresIfExists:["offset"],data:{_skip:!1}};function XI(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function QI(e){return[sn,Yn,Hn,on].some(function(t){return e[t]>=0})}function Ale(e){var t=e.state,r=e.name,i=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,o=qp(t,{elementContext:"reference"}),a=qp(t,{altBoundary:!0}),l=XI(o,i),c=XI(a,n,s),f=QI(l),d=QI(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var Mle={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ale};function Ile(e,t,r){var i=co(e),n=[on,sn].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[on,Yn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Ole(e){var t=e.state,r=e.options,i=e.name,n=r.offset,s=n===void 0?[0,0]:n,o=jR.reduce(function(f,d){return f[d]=Ile(d,t.rects,s),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}var Cle={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ole};function $le(e){var t=e.state,r=e.name;t.modifiersData[r]=YR({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Nle={name:"popperOffsets",enabled:!0,phase:"read",fn:$le,data:{}};function Ple(e){return e==="x"?"y":"x"}function Lle(e){var t=e.state,r=e.options,i=e.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,g=r.tetherOffset,w=g===void 0?0:g,_=qp(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),x=co(t.placement),T=rf(t.placement),S=!T,v=G3(x),M=Ple(v),C=t.modifiersData.popperOffsets,L=t.rects.reference,R=t.rects.popper,k=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,G=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),W=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(C){if(s){var z,ee=v==="y"?sn:on,u=v==="y"?Hn:Yn,m=v==="y"?"height":"width",E=C[v],N=E+_[ee],q=E-_[u],K=y?-R[m]/2:0,he=T===Xh?L[m]:R[m],oe=T===Xh?-R[m]:-L[m],Ae=t.elements.arrow,Fe=y&&Ae?j3(Ae):{width:0,height:0},Ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:zR(),Oe=Ve[ee],vt=Ve[u],rt=Wd(0,L[m],Fe[m]),pt=S?L[m]/2-K-rt-Oe-G.mainAxis:he-rt-Oe-G.mainAxis,ht=S?-L[m]/2+K+rt+vt+G.mainAxis:oe+rt+vt+G.mainAxis,nt=t.elements.arrow&&km(t.elements.arrow),Rt=nt?v==="y"?nt.clientTop||0:nt.clientLeft||0:0,B=(z=W?.[v])!=null?z:0,F=E+pt-B-Rt,J=E+ht-B,ae=Wd(y?Qg(N,F):N,E,y?Ic(q,J):q);C[v]=ae,V[v]=ae-E}if(a){var se,O=v==="x"?sn:on,U=v==="x"?Hn:Yn,I=C[M],P=M==="y"?"height":"width",j=I+_[O],Z=I-_[U],re=[sn,on].indexOf(x)!==-1,te=(se=W?.[M])!=null?se:0,Y=re?j:I-L[P]-R[P]-te+G.altAxis,X=re?I+L[P]+R[P]-te-G.altAxis:Z,ve=y&&re?nle(Y,I,X):Wd(y?Y:j,I,y?X:Z);C[M]=ve,V[M]=ve-I}t.modifiersData[i]=V}}var kle={name:"preventOverflow",enabled:!0,phase:"main",fn:Lle,requiresIfExists:["offset"]};function Rle(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Dle(e){return e===Is(e)||!Vn(e)?B3(e):Rle(e)}function Fle(e){var t=e.getBoundingClientRect(),r=ef(t.width)/e.offsetWidth||1,i=ef(t.height)/e.offsetHeight||1;return r!==1||i!==1}function Ule(e,t,r){r===void 0&&(r=!1);var i=Vn(t),n=Vn(t)&&Fle(t),s=Ol(t),o=tf(e,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((go(t)!=="body"||z3(s))&&(a=Dle(t)),Vn(t)?(l=tf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=V3(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function jle(e){var t=new Map,r=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&n(l)}}),i.push(s)}return e.forEach(function(s){r.has(s.name)||n(s)}),i}function Gle(e){var t=jle(e);return Qae.reduce(function(r,i){return r.concat(t.filter(function(n){return n.phase===i}))},[])}function Ble(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Vle(e){var t=e.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var eO={placement:"bottom",modifiers:[],strategy:"absolute"};function tO(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function zle(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,n=t.defaultOptions,s=n===void 0?eO:n;return function(a,l,c){c===void 0&&(c=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},eO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(x){var T=typeof x=="function"?x(f.options):x;w(),f.options=Object.assign({},s,f.options,T),f.scrollParents={reference:Qh(a)?Hd(a):a.contextElement?Hd(a.contextElement):[],popper:Hd(l)};var S=Gle(Vle([].concat(i,f.options.modifiers)));return f.orderedModifiers=S.filter(function(v){return v.enabled}),g(),y.update()},forceUpdate:function(){if(!p){var x=f.elements,T=x.reference,S=x.popper;if(tO(T,S)){f.rects={reference:Ule(T,km(S),f.options.strategy==="fixed"),popper:j3(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(G){return f.modifiersData[G.name]=Object.assign({},G.data)});for(var v=0;v<f.orderedModifiers.length;v++){if(f.reset===!0){f.reset=!1,v=-1;continue}var M=f.orderedModifiers[v],C=M.fn,L=M.options,R=L===void 0?{}:L,k=M.name;typeof C=="function"&&(f=C({state:f,options:R,name:k,instance:y})||f)}}}},update:Ble(function(){return new Promise(function(_){y.forceUpdate(),_(f)})}),destroy:function(){w(),p=!0}};if(!tO(a,l))return y;y.setOptions(c).then(function(_){!p&&c.onFirstUpdate&&c.onFirstUpdate(_)});function g(){f.orderedModifiers.forEach(function(_){var x=_.name,T=_.options,S=T===void 0?{}:T,v=_.effect;if(typeof v=="function"){var M=v({state:f,name:x,instance:y,options:S}),C=function(){};d.push(M||C)}})}function w(){d.forEach(function(_){return _()}),d=[]}return y}}var qle=[ple,Nle,fle,BR,Cle,Tle,kle,lle,Mle],Wle=zle({defaultModifiers:qle}),Hle="tippy-box",JR="tippy-content",KR="tippy-backdrop",ZR="tippy-arrow",XR="tippy-svg-arrow",ac={passive:!0,capture:!0},QR=function(){return document.body};function Hb(e,t,r){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(r)?r[t]:r)}return e}function q3(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function e9(e,t){return typeof e=="function"?e.apply(void 0,t):e}function rO(e,t){if(t===0)return e;var r;return function(i){clearTimeout(r),r=setTimeout(function(){e(i)},t)}}function Yle(e,t){var r=Object.assign({},e);return t.forEach(function(i){delete r[i]}),r}function Jle(e){return e.split(/\s+/).filter(Boolean)}function uc(e){return[].concat(e)}function iO(e,t){e.indexOf(t)===-1&&e.push(t)}function Kle(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function t9(e){return e.split("-")[0]}function nf(e){return[].slice.call(e)}function nO(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function Oc(){return document.createElement("div")}function Lv(e){return["Element","Fragment"].some(function(t){return q3(e,t)})}function Zle(e){return q3(e,"NodeList")}function W3(e){return q3(e,"MouseEvent")}function Xle(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Qle(e){return Lv(e)?[e]:Zle(e)?nf(e):Array.isArray(e)?e:nf(document.querySelectorAll(e))}function Yb(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function Wp(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function r9(e){var t,r=uc(e),i=r[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function ece(e,t){var r=t.clientX,i=t.clientY;return e.every(function(n){var s=n.popperRect,o=n.popperState,a=n.props,l=a.interactiveBorder,c=t9(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,g=c==="left"?f.right.x:0,w=s.top-i+d>l,_=i-s.bottom-p>l,x=s.left-r+y>l,T=r-s.right-g>l;return w||_||x||T})}function Jb(e,t,r){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){e[i](n,r)})}function sO(e,t){for(var r=t;r;){var i;if(e.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var Hs={isTouch:!1},oO=0;function tce(){Hs.isTouch||(Hs.isTouch=!0,window.performance&&document.addEventListener("mousemove",i9))}function i9(){var e=performance.now();e-oO<20&&(Hs.isTouch=!1,document.removeEventListener("mousemove",i9)),oO=e}function rce(){var e=document.activeElement;if(Xle(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function ice(){document.addEventListener("touchstart",tce,ac),window.addEventListener("blur",rce)}var nce=typeof window<"u"&&typeof document<"u",sce=nce?!!window.msCrypto:!1,oce={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ace={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},fs=Object.assign({appendTo:QR,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},oce,ace),lce=Object.keys(fs),cce=function(t){var r=Object.keys(t);r.forEach(function(i){fs[i]=t[i]})};function n9(e){var t=e.plugins||[],r=t.reduce(function(i,n){var s=n.name,o=n.defaultValue;if(s){var a;i[s]=e[s]!==void 0?e[s]:(a=fs[s])!=null?a:o}return i},{});return Object.assign({},e,r)}function uce(e,t){var r=t?Object.keys(n9(Object.assign({},fs,{plugins:t}))):lce,i=r.reduce(function(n,s){var o=(e.getAttribute("data-tippy-"+s)||"").trim();if(!o)return n;if(s==="content")n[s]=o;else try{n[s]=JSON.parse(o)}catch{n[s]=o}return n},{});return i}function aO(e,t){var r=Object.assign({},t,{content:e9(t.content,[e])},t.ignoreAttributes?{}:uce(e,t.plugins));return r.aria=Object.assign({},fs.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var hce=function(){return"innerHTML"};function aS(e,t){e[hce()]=t}function lO(e){var t=Oc();return e===!0?t.className=ZR:(t.className=XR,Lv(e)?t.appendChild(e):aS(t,e)),t}function cO(e,t){Lv(t.content)?(aS(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?aS(e,t.content):e.textContent=t.content)}function e1(e){var t=e.firstElementChild,r=nf(t.children);return{box:t,content:r.find(function(i){return i.classList.contains(JR)}),arrow:r.find(function(i){return i.classList.contains(ZR)||i.classList.contains(XR)}),backdrop:r.find(function(i){return i.classList.contains(KR)})}}function s9(e){var t=Oc(),r=Oc();r.className=Hle,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=Oc();i.className=JR,i.setAttribute("data-state","hidden"),cO(i,e.props),t.appendChild(r),r.appendChild(i),n(e.props,e.props);function n(s,o){var a=e1(t),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&cO(c,e.props),o.arrow?f?s.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(lO(o.arrow))):l.appendChild(lO(o.arrow)):f&&l.removeChild(f)}return{popper:t,onUpdate:n}}s9.$$tippy=!0;var fce=1,M0=[],Kb=[];function dce(e,t){var r=aO(e,Object.assign({},fs,n9(nO(t)))),i,n,s,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],g=rO(F,r.interactiveDebounce),w,_=fce++,x=null,T=Kle(r.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},v={id:_,reference:e,popper:Oc(),popperInstance:x,props:r,state:S,plugins:T,clearDelayTimeouts:Y,setProps:X,setContent:ve,show:Ie,hide:mt,hideWithInteractivity:Wt,enable:re,disable:te,unmount:cr,destroy:Lr};if(!r.render)return v;var M=r.render(v),C=M.popper,L=M.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+v.id,v.popper=C,e._tippy=v,C._tippy=v;var R=T.map(function(ie){return ie.fn(v)}),k=e.hasAttribute("aria-expanded");return nt(),K(),E(),N("onCreate",[v]),r.showOnCreate&&j(),C.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&ee().addEventListener("mousemove",g)}),v;function G(){var ie=v.props.touch;return Array.isArray(ie)?ie:[ie,0]}function W(){return G()[0]==="hold"}function V(){var ie;return!!((ie=v.props.render)!=null&&ie.$$tippy)}function z(){return w||e}function ee(){var ie=z().parentNode;return ie?r9(ie):document}function u(){return e1(C)}function m(ie){return v.state.isMounted&&!v.state.isVisible||Hs.isTouch||f&&f.type==="focus"?0:Hb(v.props.delay,ie?0:1,fs.delay)}function E(ie){ie===void 0&&(ie=!1),C.style.pointerEvents=v.props.interactive&&!ie?"":"none",C.style.zIndex=""+v.props.zIndex}function N(ie,Me,Ce){if(Ce===void 0&&(Ce=!0),R.forEach(function(Qe){Qe[ie]&&Qe[ie].apply(Qe,Me)}),Ce){var Ye;(Ye=v.props)[ie].apply(Ye,Me)}}function q(){var ie=v.props.aria;if(ie.content){var Me="aria-"+ie.content,Ce=C.id,Ye=uc(v.props.triggerTarget||e);Ye.forEach(function(Qe){var kr=Qe.getAttribute(Me);if(v.state.isVisible)Qe.setAttribute(Me,kr?kr+" "+Ce:Ce);else{var ai=kr&&kr.replace(Ce,"").trim();ai?Qe.setAttribute(Me,ai):Qe.removeAttribute(Me)}})}}function K(){if(!(k||!v.props.aria.expanded)){var ie=uc(v.props.triggerTarget||e);ie.forEach(function(Me){v.props.interactive?Me.setAttribute("aria-expanded",v.state.isVisible&&Me===z()?"true":"false"):Me.removeAttribute("aria-expanded")})}}function he(){ee().removeEventListener("mousemove",g),M0=M0.filter(function(ie){return ie!==g})}function oe(ie){if(!(Hs.isTouch&&(l||ie.type==="mousedown"))){var Me=ie.composedPath&&ie.composedPath()[0]||ie.target;if(!(v.props.interactive&&sO(C,Me))){if(uc(v.props.triggerTarget||e).some(function(Ce){return sO(Ce,Me)})){if(Hs.isTouch||v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[v,ie]);v.props.hideOnClick===!0&&(v.clearDelayTimeouts(),v.hide(),a=!0,setTimeout(function(){a=!1}),v.state.isMounted||Oe())}}}function Ae(){l=!0}function Fe(){l=!1}function Ve(){var ie=ee();ie.addEventListener("mousedown",oe,!0),ie.addEventListener("touchend",oe,ac),ie.addEventListener("touchstart",Fe,ac),ie.addEventListener("touchmove",Ae,ac)}function Oe(){var ie=ee();ie.removeEventListener("mousedown",oe,!0),ie.removeEventListener("touchend",oe,ac),ie.removeEventListener("touchstart",Fe,ac),ie.removeEventListener("touchmove",Ae,ac)}function vt(ie,Me){pt(ie,function(){!v.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&Me()})}function rt(ie,Me){pt(ie,Me)}function pt(ie,Me){var Ce=u().box;function Ye(Qe){Qe.target===Ce&&(Jb(Ce,"remove",Ye),Me())}if(ie===0)return Me();Jb(Ce,"remove",d),Jb(Ce,"add",Ye),d=Ye}function ht(ie,Me,Ce){Ce===void 0&&(Ce=!1);var Ye=uc(v.props.triggerTarget||e);Ye.forEach(function(Qe){Qe.addEventListener(ie,Me,Ce),y.push({node:Qe,eventType:ie,handler:Me,options:Ce})})}function nt(){W()&&(ht("touchstart",B,{passive:!0}),ht("touchend",J,{passive:!0})),Jle(v.props.trigger).forEach(function(ie){if(ie!=="manual")switch(ht(ie,B),ie){case"mouseenter":ht("mouseleave",J);break;case"focus":ht(sce?"focusout":"blur",ae);break;case"focusin":ht("focusout",ae);break}})}function Rt(){y.forEach(function(ie){var Me=ie.node,Ce=ie.eventType,Ye=ie.handler,Qe=ie.options;Me.removeEventListener(Ce,Ye,Qe)}),y=[]}function B(ie){var Me,Ce=!1;if(!(!v.state.isEnabled||se(ie)||a)){var Ye=((Me=f)==null?void 0:Me.type)==="focus";f=ie,w=ie.currentTarget,K(),!v.state.isVisible&&W3(ie)&&M0.forEach(function(Qe){return Qe(ie)}),ie.type==="click"&&(v.props.trigger.indexOf("mouseenter")<0||o)&&v.props.hideOnClick!==!1&&v.state.isVisible?Ce=!0:j(ie),ie.type==="click"&&(o=!Ce),Ce&&!Ye&&Z(ie)}}function F(ie){var Me=ie.target,Ce=z().contains(Me)||C.contains(Me);if(!(ie.type==="mousemove"&&Ce)){var Ye=P().concat(C).map(function(Qe){var kr,ai=Qe._tippy,Os=(kr=ai.popperInstance)==null?void 0:kr.state;return Os?{popperRect:Qe.getBoundingClientRect(),popperState:Os,props:r}:null}).filter(Boolean);ece(Ye,ie)&&(he(),Z(ie))}}function J(ie){var Me=se(ie)||v.props.trigger.indexOf("click")>=0&&o;if(!Me){if(v.props.interactive){v.hideWithInteractivity(ie);return}Z(ie)}}function ae(ie){v.props.trigger.indexOf("focusin")<0&&ie.target!==z()||v.props.interactive&&ie.relatedTarget&&C.contains(ie.relatedTarget)||Z(ie)}function se(ie){return Hs.isTouch?W()!==ie.type.indexOf("touch")>=0:!1}function O(){U();var ie=v.props,Me=ie.popperOptions,Ce=ie.placement,Ye=ie.offset,Qe=ie.getReferenceClientRect,kr=ie.moveTransition,ai=V()?e1(C).arrow:null,Os=Qe?{getBoundingClientRect:Qe,contextElement:Qe.contextElement||z()}:e,aa={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(mu){var la=mu.state;if(V()){var Gv=u(),yu=Gv.box;["placement","reference-hidden","escaped"].forEach(function(Cl){Cl==="placement"?yu.setAttribute("data-placement",la.placement):la.attributes.popper["data-popper-"+Cl]?yu.setAttribute("data-"+Cl,""):yu.removeAttribute("data-"+Cl)}),la.attributes.popper={}}}},_o=[{name:"offset",options:{offset:Ye}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!kr}},aa];V()&&ai&&_o.push({name:"arrow",options:{element:ai,padding:3}}),_o.push.apply(_o,Me?.modifiers||[]),v.popperInstance=Wle(Os,C,Object.assign({},Me,{placement:Ce,onFirstUpdate:p,modifiers:_o}))}function U(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function I(){var ie=v.props.appendTo,Me,Ce=z();v.props.interactive&&ie===QR||ie==="parent"?Me=Ce.parentNode:Me=e9(ie,[Ce]),Me.contains(C)||Me.appendChild(C),v.state.isMounted=!0,O()}function P(){return nf(C.querySelectorAll("[data-tippy-root]"))}function j(ie){v.clearDelayTimeouts(),ie&&N("onTrigger",[v,ie]),Ve();var Me=m(!0),Ce=G(),Ye=Ce[0],Qe=Ce[1];Hs.isTouch&&Ye==="hold"&&Qe&&(Me=Qe),Me?i=setTimeout(function(){v.show()},Me):v.show()}function Z(ie){if(v.clearDelayTimeouts(),N("onUntrigger",[v,ie]),!v.state.isVisible){Oe();return}if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ie.type)>=0&&o)){var Me=m(!1);Me?n=setTimeout(function(){v.state.isVisible&&v.hide()},Me):s=requestAnimationFrame(function(){v.hide()})}}function re(){v.state.isEnabled=!0}function te(){v.hide(),v.state.isEnabled=!1}function Y(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(s)}function X(ie){if(!v.state.isDestroyed){N("onBeforeUpdate",[v,ie]),Rt();var Me=v.props,Ce=aO(e,Object.assign({},Me,nO(ie),{ignoreAttributes:!0}));v.props=Ce,nt(),Me.interactiveDebounce!==Ce.interactiveDebounce&&(he(),g=rO(F,Ce.interactiveDebounce)),Me.triggerTarget&&!Ce.triggerTarget?uc(Me.triggerTarget).forEach(function(Ye){Ye.removeAttribute("aria-expanded")}):Ce.triggerTarget&&e.removeAttribute("aria-expanded"),K(),E(),L&&L(Me,Ce),v.popperInstance&&(O(),P().forEach(function(Ye){requestAnimationFrame(Ye._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[v,ie])}}function ve(ie){v.setProps({content:ie})}function Ie(){var ie=v.state.isVisible,Me=v.state.isDestroyed,Ce=!v.state.isEnabled,Ye=Hs.isTouch&&!v.props.touch,Qe=Hb(v.props.duration,0,fs.duration);if(!(ie||Me||Ce||Ye)&&!z().hasAttribute("disabled")&&(N("onShow",[v],!1),v.props.onShow(v)!==!1)){if(v.state.isVisible=!0,V()&&(C.style.visibility="visible"),E(),Ve(),v.state.isMounted||(C.style.transition="none"),V()){var kr=u(),ai=kr.box,Os=kr.content;Yb([ai,Os],0)}p=function(){var _o;if(!(!v.state.isVisible||c)){if(c=!0,C.offsetHeight,C.style.transition=v.props.moveTransition,V()&&v.props.animation){var Af=u(),mu=Af.box,la=Af.content;Yb([mu,la],Qe),Wp([mu,la],"visible")}q(),K(),iO(Kb,v),(_o=v.popperInstance)==null||_o.forceUpdate(),N("onMount",[v]),v.props.animation&&V()&&rt(Qe,function(){v.state.isShown=!0,N("onShown",[v])})}},I()}}function mt(){var ie=!v.state.isVisible,Me=v.state.isDestroyed,Ce=!v.state.isEnabled,Ye=Hb(v.props.duration,1,fs.duration);if(!(ie||Me||Ce)&&(N("onHide",[v],!1),v.props.onHide(v)!==!1)){if(v.state.isVisible=!1,v.state.isShown=!1,c=!1,o=!1,V()&&(C.style.visibility="hidden"),he(),Oe(),E(!0),V()){var Qe=u(),kr=Qe.box,ai=Qe.content;v.props.animation&&(Yb([kr,ai],Ye),Wp([kr,ai],"hidden"))}q(),K(),v.props.animation?V()&&vt(Ye,v.unmount):v.unmount()}}function Wt(ie){ee().addEventListener("mousemove",g),iO(M0,g),g(ie)}function cr(){v.state.isVisible&&v.hide(),v.state.isMounted&&(U(),P().forEach(function(ie){ie._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),Kb=Kb.filter(function(ie){return ie!==v}),v.state.isMounted=!1,N("onHidden",[v]))}function Lr(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),Rt(),delete e._tippy,v.state.isDestroyed=!0,N("onDestroy",[v]))}}function Le(e,t){t===void 0&&(t={});var r=fs.plugins.concat(t.plugins||[]);ice();var i=Object.assign({},t,{plugins:r}),n=Qle(e),s=n.reduce(function(o,a){var l=a&&dce(a,i);return l&&o.push(l),o},[]);return Lv(e)?s[0]:s}Le.defaultProps=fs;Le.setDefaultProps=cce;Le.currentInput=Hs;var pce=Object.assign({},BR,{effect:function(t){var r=t.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}}),mce=function(t,r){var i;r===void 0&&(r={});var n=t,s=[],o=[],a,l=r.overrides,c=[],f=!1;function d(){o=n.map(function(v){return uc(v.props.triggerTarget||v.reference)}).reduce(function(v,M){return v.concat(M)},[])}function p(){s=n.map(function(v){return v.reference})}function y(v){n.forEach(function(M){v?M.enable():M.disable()})}function g(v){return n.map(function(M){var C=M.setProps;return M.setProps=function(L){C(L),M.reference===a&&v.setProps(L)},function(){M.setProps=C}})}function w(v,M){var C=o.indexOf(M);if(M!==a){a=M;var L=(l||[]).concat("content").reduce(function(R,k){return R[k]=n[C].props[k],R},{});v.setProps(Object.assign({},L,{getReferenceClientRect:typeof L.getReferenceClientRect=="function"?L.getReferenceClientRect:function(){var R;return(R=s[C])==null?void 0:R.getBoundingClientRect()}}))}}y(!1),p(),d();var _={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function(C){C.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function(C){C.props.showOnCreate&&!f&&(f=!0,w(C,s[0]))},onTrigger:function(C,L){w(C,L.currentTarget)}}}},x=Le(Oc(),Object.assign({},Yle(r,["overrides"]),{plugins:[_].concat(r.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},r.popperOptions,{modifiers:[].concat(((i=r.popperOptions)==null?void 0:i.modifiers)||[],[pce])})})),T=x.show;x.show=function(v){if(T(),!a&&v==null)return w(x,s[0]);if(!(a&&v==null)){if(typeof v=="number")return s[v]&&w(x,s[v]);if(n.indexOf(v)>=0){var M=v.reference;return w(x,M)}if(s.indexOf(v)>=0)return w(x,v)}},x.showNext=function(){var v=s[0];if(!a)return x.show(0);var M=s.indexOf(a);x.show(s[M+1]||v)},x.showPrevious=function(){var v=s[s.length-1];if(!a)return x.show(v);var M=s.indexOf(a),C=s[M-1]||v;x.show(C)};var S=x.setProps;return x.setProps=function(v){l=v.overrides||l,S(v)},x.setInstances=function(v){y(!0),c.forEach(function(M){return M()}),n=v,y(!1),p(),d(),c=g(x),x.setProps({triggerTarget:o})},c=g(x),x},yce={name:"animateFill",defaultValue:!1,fn:function(t){var r;if(!((r=t.props.render)!=null&&r.$$tippy))return{};var i=e1(t.popper),n=i.box,s=i.content,o=t.props.animateFill?gce():null;return{onCreate:function(){o&&(n.insertBefore(o,n.firstElementChild),n.setAttribute("data-animatefill",""),n.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=n.style.transitionDuration,c=Number(l.replace("ms",""));s.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,Wp([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&Wp([o],"hidden")}}}};function gce(){var e=Oc();return e.className=KR,Wp([e],"hidden"),e}var lS={clientX:0,clientY:0},I0=[];function o9(e){var t=e.clientX,r=e.clientY;lS={clientX:t,clientY:r}}function vce(e){e.addEventListener("mousemove",o9)}function bce(e){e.removeEventListener("mousemove",o9)}var _ce={name:"followCursor",defaultValue:!1,fn:function(t){var r=t.reference,i=r9(t.props.triggerTarget||r),n=!1,s=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){i.addEventListener("mousemove",p)}function f(){i.removeEventListener("mousemove",p)}function d(){n=!0,t.setProps({getReferenceClientRect:null}),n=!1}function p(w){var _=w.target?r.contains(w.target):!0,x=t.props.followCursor,T=w.clientX,S=w.clientY,v=r.getBoundingClientRect(),M=T-v.left,C=S-v.top;(_||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var R=r.getBoundingClientRect(),k=T,G=S;x==="initial"&&(k=R.left+M,G=R.top+C);var W=x==="horizontal"?R.top:G,V=x==="vertical"?R.right:k,z=x==="horizontal"?R.bottom:G,ee=x==="vertical"?R.left:k;return{width:V-ee,height:z-W,top:W,right:V,bottom:z,left:ee}}})}function y(){t.props.followCursor&&(I0.push({instance:t,doc:i}),vce(i))}function g(){I0=I0.filter(function(w){return w.instance!==t}),I0.filter(function(w){return w.doc===i}).length===0&&bce(i)}return{onCreate:y,onDestroy:g,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(_,x){var T=x.followCursor;n||T!==void 0&&a.followCursor!==T&&(g(),T?(y(),t.state.isMounted&&!s&&!l()&&c()):(f(),d()))},onMount:function(){t.props.followCursor&&!s&&(o&&(p(lS),o=!1),l()||c())},onTrigger:function(_,x){W3(x)&&(lS={clientX:x.clientX,clientY:x.clientY}),s=x.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),f(),o=!0)}}}};function wce(e,t){var r;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((r=e.popperOptions)==null?void 0:r.modifiers)||[]).filter(function(i){var n=i.name;return n!==t.name}),[t])})}}var Sce={name:"inlinePositioning",defaultValue:!1,fn:function(t){var r=t.reference;function i(){return!!t.props.inlinePositioning}var n,s=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var g=y.state;i()&&(a.indexOf(g.placement)!==-1&&(a=[]),n!==g.placement&&a.indexOf(g.placement)===-1&&(a.push(g.placement),t.setProps({getReferenceClientRect:function(){return c(g.placement)}})),n=g.placement)}};function c(p){return xce(t9(p),r.getBoundingClientRect(),nf(r.getClientRects()),s)}function f(p){o=!0,t.setProps(p),o=!1}function d(){o||f(wce(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,g){if(W3(g)){var w=nf(t.reference.getClientRects()),_=w.find(function(T){return T.left-2<=g.clientX&&T.right+2>=g.clientX&&T.top-2<=g.clientY&&T.bottom+2>=g.clientY}),x=w.indexOf(_);s=x>-1?x:s}},onHidden:function(){s=-1}}}};function xce(e,t,r,i){if(r.length<2||e===null)return t;if(r.length===2&&i>=0&&r[0].left>r[1].right)return r[i]||t;switch(e){case"top":case"bottom":{var n=r[0],s=r[r.length-1],o=e==="top",a=n.top,l=s.bottom,c=o?n.left:s.left,f=o?n.right:s.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,r.map(function(C){return C.left})),g=Math.max.apply(Math,r.map(function(C){return C.right})),w=r.filter(function(C){return e==="left"?C.left===y:C.right===g}),_=w[0].top,x=w[w.length-1].bottom,T=y,S=g,v=S-T,M=x-_;return{top:_,bottom:x,left:T,right:S,width:v,height:M}}default:return t}}var Ece={name:"sticky",defaultValue:!1,fn:function(t){var r=t.reference,i=t.popper;function n(){return t.popperInstance?t.popperInstance.state.elements.reference:r}function s(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=s("reference")?n().getBoundingClientRect():null,f=s("popper")?i.getBoundingClientRect():null;(c&&uO(o,c)||f&&uO(a,f))&&t.popperInstance&&t.popperInstance.update(),o=c,a=f,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function uO(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Le.setDefaultProps({render:s9});Le.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function H3(e,t={},r={mount:!0,appName:"Tippy"}){r=Object.assign({mount:!0,appName:"Tippy"},r);const i=Nr(),n=ne(),s=ne({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=xf();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=L=>{let R,k=gt(L)?L.value:L;return Ss(k)?(o.value||(o.value=dl({name:r.appName,setup:()=>()=>gt(L)?L.value:L}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),R=()=>l()):typeof k=="object"?(o.value||(o.value=dl({name:r.appName,setup:()=>()=>Un(gt(L)?L.value:L)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),R=()=>l()):R=k,R},f=L=>{let R={};return gt(L)?R=L.value||{}:mn(L)?R={...L}:R={...L},R.content&&(R.content=c(R.content)),R.triggerTarget&&(R.triggerTarget=gt(R.triggerTarget)?R.triggerTarget.value:R.triggerTarget),(!R.plugins||!Array.isArray(R.plugins))&&(R.plugins=[]),R.plugins=R.plugins.filter(k=>k.name!=="vueTippyReactiveState"),R.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),R},d=()=>{n.value&&n.value.setProps(f(t))},p=()=>{!n.value||!t.content||n.value.setContent(c(t.content))},y=L=>{var R;(R=n.value)===null||R===void 0||R.setContent(c(L))},g=L=>{var R;(R=n.value)===null||R===void 0||R.setProps(f(L))},w=()=>{var L;n.value&&(n.value.destroy(),n.value=void 0),a=null,(L=o.value)===null||L===void 0||L.unmount(),o.value=void 0},_=()=>{var L;(L=n.value)===null||L===void 0||L.show()},x=()=>{var L;(L=n.value)===null||L===void 0||L.hide()},T=()=>{var L;(L=n.value)===null||L===void 0||L.disable(),s.value.isEnabled=!1},S=()=>{var L;(L=n.value)===null||L===void 0||L.enable(),s.value.isEnabled=!0},v=()=>{var L;(L=n.value)===null||L===void 0||L.unmount()},M=()=>{if(!e)return;let L=gt(e)?e.value:e;typeof L=="function"&&(L=L()),L&&(n.value=Le(L,f(t)),L.$tippy=C)},C={tippy:n,refresh:d,refreshContent:p,setContent:y,setProps:g,destroy:w,hide:x,show:_,disable:T,enable:S,unmount:v,mount:M,state:s};return r.mount&&(i?i.isMounted?M():oi(M):M()),i&&fu(()=>{w()}),gt(t)||mn(t)?Xr(t,d,{immediate:!1}):gt(t.content)&&Xr(t.content,p,{immediate:!1}),C}function Tce(e,t){const r=ne();return oi(()=>{const n=(Array.isArray(e)?e.map(s=>s.value):typeof e=="function"?e():e.value).map(s=>s instanceof Element?s._tippy:s).filter(Boolean);r.value=mce(n,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:r}}function Ace(e){return typeof e=="function"?e():$e(e)}function Mce(e){var t,r;const i=Ace(e);return(r=(t=i)===null||t===void 0?void 0:t.$el)!==null&&r!==void 0?r:i}const Ice=ot({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Le.defaultProps.appendTo},aria:{default:()=>Le.defaultProps.aria},delay:{default:()=>Le.defaultProps.delay},duration:{default:()=>Le.defaultProps.duration},getReferenceClientRect:{default:()=>Le.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Le.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Le.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Le.defaultProps.interactive},interactiveBorder:{default:()=>Le.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Le.defaultProps.interactiveDebounce},moveTransition:{default:()=>Le.defaultProps.moveTransition},offset:{default:()=>Le.defaultProps.offset},onAfterUpdate:{default:()=>Le.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Le.defaultProps.onBeforeUpdate},onCreate:{default:()=>Le.defaultProps.onCreate},onDestroy:{default:()=>Le.defaultProps.onDestroy},onHidden:{default:()=>Le.defaultProps.onHidden},onHide:{default:()=>Le.defaultProps.onHide},onMount:{default:()=>Le.defaultProps.onMount},onShow:{default:()=>Le.defaultProps.onShow},onShown:{default:()=>Le.defaultProps.onShown},onTrigger:{default:()=>Le.defaultProps.onTrigger},onUntrigger:{default:()=>Le.defaultProps.onUntrigger},onClickOutside:{default:()=>Le.defaultProps.onClickOutside},placement:{default:()=>Le.defaultProps.placement},plugins:{default:()=>Le.defaultProps.plugins},popperOptions:{default:()=>Le.defaultProps.popperOptions},render:{default:()=>Le.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Le.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Le.defaultProps.touch},trigger:{default:()=>Le.defaultProps.trigger},triggerTarget:{default:()=>Le.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Le.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Le.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Le.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Le.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Le.defaultProps.allowHTML},animation:{default:()=>Le.defaultProps.animation},arrow:{default:()=>Le.defaultProps.arrow},content:{default:()=>Le.defaultProps.content},inertia:{default:()=>Le.defaultProps.inertia},maxWidth:{default:()=>Le.defaultProps.maxWidth},role:{default:()=>Le.defaultProps.role},theme:{default:()=>Le.defaultProps.theme},zIndex:{default:()=>Le.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:r,expose:i}){const n=ne(),s=ne(),o=ne(),a=ne(!1),l=()=>{let y={...e};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>Mce(n);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=n.value;return y||(y=n.value=s.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const f=H3(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),oi(()=>{a.value=!0,As(()=>{d&&f.setContent(()=>o.value)})}),Xr(f.state,()=>{r("state",$e(f.state))},{immediate:!0,deep:!0}),Xr(()=>e,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=ei({elem:n,contentElem:o,mounted:a,...f});return i(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),g=d?Un(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const x=[];if(!n.value){const T=Un("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});x.push(T)}return g&&x.push(g),x}const w=t.default?t.default(p):[];if(!e.tag){const x=Un(w[0],{ref:n,"data-v-tippy":""});return g?[x,g]:x}const _=(typeof e.tag=="string",e.tag);return Un(_,{ref:n,"data-v-tippy":""},g?[w,g]:w)}}}),Oce=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let cS={};Object.keys(Le.defaultProps).forEach(e=>{Oce.includes(e)?cS[e]={type:Boolean,default:function(){return Le.defaultProps[e]}}:cS[e]={default:function(){return Le.defaultProps[e]}}});const Cce=ot({props:cS,setup(e){const t=ne([]),{singleton:r}=Tce(t,e);return{instances:t,singleton:r}},mounted(){var e;const r=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(r).map(i=>i._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return Un(()=>e)}}),$ce={mounted(e,t,r){const i=typeof t.value=="string"?{content:t.value}:t.value||{},n=Object.keys(t.modifiers||{}),s=n.find(a=>a!=="arrow"),o=n.findIndex(a=>a==="arrow")!==-1;s&&(i.placement=i.placement||s),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),r.props&&r.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),r.props&&r.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),r.props&&r.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),r.props&&r.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),r.props&&r.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),H3(e,i)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const r=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(r||{}):e._tippy&&e._tippy.setProps(r||{})}},Nce={install(e,t={}){Le.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",$ce),e.component(t.component||"tippy",Ice),e.component(t.componentSingleton||"tippy-singleton",Cce)}},a9=Le.setDefaultProps;a9({ignoreAttributes:!0,plugins:[Ece,Sce,_ce,yce]});const Pce=ot({name:"App",components:{Shell:Gae},setup(){const e=Nr();oi(()=>{new AR().observe(e?.proxy?.$refs["app-size"]),a9({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),Lce=["lang"],kce={class:"h-full",ref:"app-size"};function Rce(e,t,r,i,n,s){const o=vr("shell");return pe(),Ee("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ue("div",kce,[Xe(o)],512)],8,Lce)}const Dce=oa(Pce,[["render",Rce]]),Ys="focus-list",jl="focus-item",Fce="focus-icon",Uce="focus-container",Eh=`[${Ys}],[${Uce}]`,O0="truncate-text",C0="show-truncate",ih="focused",uS=`button,input,select,a,textarea,[contenteditable],[${Ys}],[${Fce}],[tabIndex]`,jce={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(Ys,!0),new Gce(e,t.value)},updated(e){l9(e)}};function l9(e){e.querySelectorAll(uS).forEach(r=>{if(r.closest(Eh)===e||r.closest(Eh)===r&&r.parentElement.closest(Eh)===e)if(r.closest(`[${Ys}],.${ih}`).classList.contains(ih))r.setAttribute("tabindex","0");else{r.setAttribute("tabindex","-1");return}})}class Gce{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,r){this.element=t,this.highlightedItem=this.element,this.isHorizontal=r==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;t.addEventListener("keydown",function(n){i.onKeydown(n)}),t.addEventListener("focus",function(){i.onFocus()}),t.addEventListener("blur",function(){i.onBlur()}),t.addEventListener("mousedown",function(){i.onMousedown()}),t.addEventListener("touchstart",function(){i.onTouchstart()}),document.addEventListener("click",function(n){t.contains(n.target)?i.onClick(n):i.defocusItem(i.highlightedItem)})}setTabIndex(t,r=this.element){r.querySelectorAll(uS).forEach(n=>{(t===-1||n.closest(Eh)===this.element||n.closest(Eh)===n&&n.parentElement.closest(Eh)===this.element||n.closest(`[${Ys}],.${ih}`).classList.contains(ih))&&n.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(ih),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(jl)===C0&&t.querySelector(`[${O0}]`)?._tippy?.hide()}focusItem(t){t.classList.add(ih),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(jl)===C0&&t.querySelector(`[${O0}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,r=!1){if(this.defocusItem(this.highlightedItem),r)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const i=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[i-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const i=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[i+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const r=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${jl}]`),n=>n.closest(`[${Ys}]`)===r.element&&!!n.offsetParent);if(i.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":this.highlightedItem!==this.element&&(this.highlightedItem.querySelectorAll(uS).length===0&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let r=t.target;if(!r.hasAttribute(Ys))for(;r.parentElement.closest(`[${Ys}]`)!==this.element;)r=r.parentElement.closest(`[${Ys}]`);this.highlightedItem=r.closest(`[${jl}]`)||r.closest(`[${Ys}]`)||this.highlightedItem,r.hasAttribute(`${jl}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(jl)===C0&&this.highlightedItem.querySelector(`[${O0}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),l9(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(jl)===C0&&this.highlightedItem.querySelector(`[${O0}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const hO="focus-item",Bce={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",Vce()),t.value?e.setAttribute(hO,t.value):e.toggleAttribute(hO,!0)}};function Vce(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const Y3="focus-container",c9="focus-list",zce="focus-icon",Zb=`[${c9}],[${Y3}]`,fO=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${c9}],[${Y3}],[${zce}],[tabIndex]`;let Xb=[];const qce={mounted(e){[...document.querySelectorAll(".inner-shell")].some(r=>r.contains(e))&&Xb.push(new Wce(e))},beforeUnmount(e){Xb=Xb.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class Wce{element;constructor(t){this.element=t,this.element.toggleAttribute(Y3,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const r=this;this.element.addEventListener("keypress",function(i){r.onKeypress(i)}),this.element.addEventListener("click",function(){r.onClick()}),this.element.addEventListener("focusout",function(i){r.onFocusOut(i)}),this.element.addEventListener("focus",function(){r.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(r){t.onKeypress(r)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(r){t.onFocusOut(r)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(fO),()=>!0).forEach(r=>{r.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(fO),r=>{(r.closest(Zb)===this.element||r.closest(Zb)===r&&r.parentElement.closest(Zb)===this.element)&&r.offsetParent&&(r.tabIndex=0,t===void 0&&(t=r))}),t}}const Hce="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mgensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",Yce="121342632165322333335356545565555243543542246363257457433_355524444661154543332344423364211133222221212112_52232222232212222223222241112222224322321222",sf=(e,t)=>{for(const r in t)e[r]=t[r];return e},hS="numeric",fS="ascii",dS="alpha",ky="asciinumeric",$0="alphanumeric",pS="domain",u9="emoji",Jce="scheme",Kce="slashscheme",dO="whitespace";function Zce(e,t){return e in t||(t[e]=[]),t[e]}function vc(e,t,r){t[hS]&&(t[ky]=!0,t[$0]=!0),t[fS]&&(t[ky]=!0,t[dS]=!0),t[ky]&&(t[$0]=!0),t[dS]&&(t[$0]=!0),t[$0]&&(t[pS]=!0),t[u9]&&(t[pS]=!0);for(const i in t){const n=Zce(i,r);n.indexOf(e)<0&&n.push(e)}}function Xce(e,t){const r={};for(const i in t)t[i].indexOf(e)>=0&&(r[i]=!0);return r}function hn(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}hn.groups={};hn.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let i=0;i<t.jr.length;i++){const n=t.jr[i][0],s=t.jr[i][1];if(s&&n.test(e))return s}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,r,i){for(let n=0;n<e.length;n++)this.tt(e[n],t,r,i)},tr(e,t,r,i){i=i||hn.groups;let n;return t&&t.j?n=t:(n=new hn(t),r&&i&&vc(t,r,i)),this.jr.push([e,n]),n},ts(e,t,r,i){let n=this;const s=e.length;if(!s)return n;for(let o=0;o<s-1;o++)n=n.tt(e[o]);return n.tt(e[s-1],t,r,i)},tt(e,t,r,i){i=i||hn.groups;const n=this;if(t&&t.j)return n.j[e]=t,t;const s=t;let o,a=n.go(e);if(a?(o=new hn,sf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new hn,s){if(i)if(o.t&&typeof o.t=="string"){const l=sf(Xce(o.t,i),r);vc(s,l,i)}else r&&vc(s,r,i);o.t=s}return n.j[e]=o,o}};const Re=(e,t,r,i,n)=>e.ta(t,r,i,n),Mn=(e,t,r,i,n)=>e.tr(t,r,i,n),pO=(e,t,r,i,n)=>e.ts(t,r,i,n),ye=(e,t,r,i,n)=>e.tt(t,r,i,n),ko="WORD",mS="UWORD",Hp="LOCALHOST",yS="TLD",gS="UTLD",Ry="SCHEME",zu="SLASH_SCHEME",t1="NUM",h9="WS",J3="NL",nh="OPENBRACE",Yd="OPENBRACKET",Jd="OPENANGLEBRACKET",Kd="OPENPAREN",hc="CLOSEBRACE",sh="CLOSEBRACKET",oh="CLOSEANGLEBRACKET",fc="CLOSEPAREN",r1="AMPERSAND",i1="APOSTROPHE",n1="ASTERISK",za="AT",s1="BACKSLASH",o1="BACKTICK",a1="CARET",Ha="COLON",K3="COMMA",l1="DOLLAR",zs="DOT",c1="EQUALS",Z3="EXCLAMATION",qs="HYPHEN",u1="PERCENT",h1="PIPE",f1="PLUS",d1="POUND",p1="QUERY",X3="QUOTE",Q3="SEMI",Fo="SLASH",Zd="TILDE",m1="UNDERSCORE",f9="EMOJI",y1="SYM";var d9=Object.freeze({__proto__:null,WORD:ko,UWORD:mS,LOCALHOST:Hp,TLD:yS,UTLD:gS,SCHEME:Ry,SLASH_SCHEME:zu,NUM:t1,WS:h9,NL:J3,OPENBRACE:nh,OPENBRACKET:Yd,OPENANGLEBRACKET:Jd,OPENPAREN:Kd,CLOSEBRACE:hc,CLOSEBRACKET:sh,CLOSEANGLEBRACKET:oh,CLOSEPAREN:fc,AMPERSAND:r1,APOSTROPHE:i1,ASTERISK:n1,AT:za,BACKSLASH:s1,BACKTICK:o1,CARET:a1,COLON:Ha,COMMA:K3,DOLLAR:l1,DOT:zs,EQUALS:c1,EXCLAMATION:Z3,HYPHEN:qs,PERCENT:u1,PIPE:h1,PLUS:f1,POUND:d1,QUERY:p1,QUOTE:X3,SEMI:Q3,SLASH:Fo,TILDE:Zd,UNDERSCORE:m1,EMOJI:f9,SYM:y1});const Ou=/[a-z]/,Qb=/\p{L}/u,e_=/\p{Emoji}/u,t_=/\d/,mO=/\s/,yO=`
`,Qce="",eue="";let N0=null,P0=null;function tue(e){e===void 0&&(e=[]);const t={};hn.groups=t;const r=new hn;N0==null&&(N0=gO(Hce)),P0==null&&(P0=gO(Yce)),ye(r,"'",i1),ye(r,"{",nh),ye(r,"[",Yd),ye(r,"<",Jd),ye(r,"(",Kd),ye(r,"}",hc),ye(r,"]",sh),ye(r,">",oh),ye(r,")",fc),ye(r,"&",r1),ye(r,"*",n1),ye(r,"@",za),ye(r,"`",o1),ye(r,"^",a1),ye(r,":",Ha),ye(r,",",K3),ye(r,"$",l1),ye(r,".",zs),ye(r,"=",c1),ye(r,"!",Z3),ye(r,"-",qs),ye(r,"%",u1),ye(r,"|",h1),ye(r,"+",f1),ye(r,"#",d1),ye(r,"?",p1),ye(r,'"',X3),ye(r,"/",Fo),ye(r,";",Q3),ye(r,"~",Zd),ye(r,"_",m1),ye(r,"\\",s1);const i=Mn(r,t_,t1,{[hS]:!0});Mn(i,t_,i);const n=Mn(r,Ou,ko,{[fS]:!0});Mn(n,Ou,n);const s=Mn(r,Qb,mS,{[dS]:!0});Mn(s,Ou),Mn(s,Qb,s);const o=Mn(r,mO,h9,{[dO]:!0});ye(r,yO,J3,{[dO]:!0}),ye(o,yO),Mn(o,mO,o);const a=Mn(r,e_,f9,{[u9]:!0});Mn(a,e_,a),ye(a,Qce,a);const l=ye(a,eue);Mn(l,e_,a);const c=[[Ou,n]],f=[[Ou,null],[Qb,s]];for(let d=0;d<N0.length;d++)_a(r,N0[d],yS,ko,c);for(let d=0;d<P0.length;d++)_a(r,P0[d],gS,mS,f);vc(yS,{tld:!0,ascii:!0},t),vc(gS,{utld:!0,alpha:!0},t),_a(r,"file",Ry,ko,c),_a(r,"mailto",Ry,ko,c),_a(r,"http",zu,ko,c),_a(r,"https",zu,ko,c),_a(r,"ftp",zu,ko,c),_a(r,"ftps",zu,ko,c),vc(Ry,{scheme:!0,ascii:!0},t),vc(zu,{slashscheme:!0,ascii:!0},t),e=e.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<e.length;d++){const p=e[d][0],g=e[d][1]?{[Jce]:!0}:{[Kce]:!0};p.indexOf("-")>=0?g[pS]=!0:Ou.test(p)?t_.test(p)?g[ky]=!0:g[fS]=!0:g[hS]=!0,pO(r,p,p,g)}return pO(r,"localhost",Hp,{ascii:!0}),r.jd=new hn(y1),{start:r,tokens:sf({groups:t},d9)}}function rue(e,t){const r=iue(t.replace(/[A-Z]/g,a=>a.toLowerCase())),i=r.length,n=[];let s=0,o=0;for(;o<i;){let a=e,l=null,c=0,f=null,d=-1,p=-1;for(;o<i&&(l=a.go(r[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=r[o].length,p++),c+=r[o].length,s+=r[o].length,o++;s-=d,o-=p,c-=d,n.push({t:f.t,v:t.slice(s-c,s),s:s-c,e:s})}return n}function iue(e){const t=[],r=e.length;let i=0;for(;i<r;){let n=e.charCodeAt(i),s,o=n<55296||n>56319||i+1===r||(s=e.charCodeAt(i+1))<56320||s>57343?e[i]:e.slice(i,i+2);t.push(o),i+=o.length}return t}function _a(e,t,r,i,n){let s;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?s=e.j[l]:(s=new hn(i),s.jr=n.slice(),e.j[l]=s),e=s}return s=new hn(r),s.jr=n.slice(),e.j[t[o-1]]=s,s}function gO(e){const t=[],r=[];let i=0,n="0123456789";for(;i<e.length;){let s=0;for(;n.indexOf(e[i+s])>=0;)s++;if(s>0){t.push(r.join(""));let o=parseInt(e.substring(i,i+s),10);for(;o>0;o--)r.pop();i+=s}else e[i]==="_"?(t.push(r.join("")),i++):(r.push(e[i]),i++)}return t}const Yp={defaultProtocol:"http",events:null,format:vO,formatHref:vO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function eT(e,t){t===void 0&&(t=null);let r=sf({},Yp);e&&(r=sf(r,e instanceof eT?e.o:e));const i=r.ignoreTags,n=[];for(let s=0;s<i.length;s++)n.push(i[s].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=n}eT.prototype={o:Yp,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const i=t!=null;let n=this.o[e];return n&&(typeof n=="object"?(n=r.t in n?n[r.t]:Yp[e],typeof n=="function"&&i&&(n=n(t,r))):typeof n=="function"&&i&&(n=n(t,r.t,r)),n)},getObj(e,t,r){let i=this.o[e];return typeof i=="function"&&t!=null&&(i=i(t,r.t,r)),i},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function vO(e){return e}function p9(e,t){this.t="token",this.v=e,this.tk=t}p9.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),i=e.get("format",t,this);return r&&i.length>r?i.substring(0,r)+"":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Yp.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toFormattedHref(e),i=e.get("tagName",r,t),n=this.toFormattedString(e),s={},o=e.get("className",r,t),a=e.get("target",r,t),l=e.get("rel",r,t),c=e.getObj("attributes",r,t),f=e.getObj("events",r,t);return s.href=r,o&&(s.class=o),a&&(s.target=a),l&&(s.rel=l),c&&sf(s,c),{tagName:i,attributes:s,content:n,eventListeners:f}}};function kv(e,t){class r extends p9{constructor(n,s){super(n,s),this.t=e}}for(const i in t)r.prototype[i]=t[i];return r.t=e,r}const bO=kv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),_O=kv("text"),nue=kv("nl"),Gl=kv("url",{isLink:!0,toHref(e){return e===void 0&&(e=Yp.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Hp&&e[1].t===Ha}}),Yr=e=>new hn(e);function sue(e){let{groups:t}=e;const r=t.domain.concat([r1,n1,za,s1,o1,a1,l1,c1,qs,t1,u1,h1,f1,d1,Fo,y1,Zd,m1]),i=[i1,oh,hc,sh,fc,Ha,K3,zs,Z3,Jd,nh,Yd,Kd,p1,X3,Q3],n=[r1,i1,n1,s1,o1,a1,hc,l1,c1,qs,t1,nh,u1,h1,f1,d1,p1,Fo,y1,Zd,m1],s=Yr(),o=ye(s,Zd);Re(o,n,o),Re(o,t.domain,o);const a=Yr(),l=Yr(),c=Yr();Re(s,t.domain,a),Re(s,t.scheme,l),Re(s,t.slashscheme,c),Re(a,n,o),Re(a,t.domain,a);const f=ye(a,za);ye(o,za,f),ye(l,za,f),ye(c,za,f);const d=ye(o,zs);Re(d,n,o),Re(d,t.domain,o);const p=Yr();Re(f,t.domain,p),Re(p,t.domain,p);const y=ye(p,zs);Re(y,t.domain,p);const g=Yr(bO);Re(y,t.tld,g),Re(y,t.utld,g),ye(f,Hp,g);const w=ye(p,qs);Re(w,t.domain,p),Re(g,t.domain,p),ye(g,zs,y),ye(g,qs,w);const _=ye(g,Ha);Re(_,t.numeric,bO);const x=ye(a,qs),T=ye(a,zs);Re(x,t.domain,a),Re(T,n,o),Re(T,t.domain,a);const S=Yr(Gl);Re(T,t.tld,S),Re(T,t.utld,S),Re(S,t.domain,a),Re(S,n,o),ye(S,zs,T),ye(S,qs,x),ye(S,za,f);const v=ye(S,Ha),M=Yr(Gl);Re(v,t.numeric,M);const C=Yr(Gl),L=Yr();Re(C,r,C),Re(C,i,L),Re(L,r,C),Re(L,i,L),ye(S,Fo,C),ye(M,Fo,C);const R=ye(l,Ha),k=ye(c,Ha),G=ye(k,Fo);ye(G,Fo,R),Re(l,t.domain,a),ye(l,zs,T),ye(l,qs,x),Re(c,t.domain,a),ye(c,zs,T),ye(c,qs,x),Re(R,t.domain,C),ye(R,Fo,C);const W=ye(C,nh),V=ye(C,Yd),z=ye(C,Jd),ee=ye(C,Kd);ye(L,nh,W),ye(L,Yd,V),ye(L,Jd,z),ye(L,Kd,ee),ye(W,hc,C),ye(V,sh,C),ye(z,oh,C),ye(ee,fc,C),ye(W,hc,C);const u=Yr(Gl),m=Yr(Gl),E=Yr(Gl),N=Yr(Gl);Re(W,r,u),Re(V,r,m),Re(z,r,E),Re(ee,r,N);const q=Yr(),K=Yr(),he=Yr(),oe=Yr();return Re(W,i),Re(V,i),Re(z,i),Re(ee,i),Re(u,r,u),Re(m,r,m),Re(E,r,E),Re(N,r,N),Re(u,i,u),Re(m,i,m),Re(E,i,E),Re(N,i,N),Re(q,r,q),Re(K,r,m),Re(he,r,E),Re(oe,r,N),Re(q,i,q),Re(K,i,K),Re(he,i,he),Re(oe,i,oe),ye(m,sh,C),ye(E,oh,C),ye(N,fc,C),ye(u,hc,C),ye(K,sh,C),ye(he,oh,C),ye(oe,fc,C),ye(q,fc,C),ye(s,Hp,S),ye(s,J3,nue),{start:s,tokens:d9}}function oue(e,t,r){let i=r.length,n=0,s=[],o=[];for(;n<i;){let a=e,l=null,c=null,f=0,d=null,p=-1;for(;n<i&&!(l=a.go(r[n].t));)o.push(r[n++]);for(;n<i&&(c=l||a.go(r[n].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,n++,f++;if(p<0)n-=f,n<i&&(o.push(r[n]),n++);else{o.length>0&&(s.push(r_(_O,t,o)),o=[]),n-=p,f-=p;const y=d.t,g=r.slice(n-f,n);s.push(r_(y,t,g))}}return o.length>0&&s.push(r_(_O,t,o)),s}function r_(e,t,r){const i=r[0].s,n=r[r.length-1].e,s=t.slice(i,n);return new e(s,r)}const Ci={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function aue(){Ci.scanner=tue(Ci.customSchemes);for(let e=0;e<Ci.tokenQueue.length;e++)Ci.tokenQueue[e][1]({scanner:Ci.scanner});Ci.parser=sue(Ci.scanner.tokens);for(let e=0;e<Ci.pluginQueue.length;e++)Ci.pluginQueue[e][1]({scanner:Ci.scanner,parser:Ci.parser});Ci.initialized=!0}function lue(e){return Ci.initialized||aue(),oue(Ci.parser.start,e,rue(Ci.scanner.start,e))}var cue={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},uue=/^#[xX]([A-Fa-f0-9]+)$/,hue=/^#([0-9]+)$/,fue=/^([A-Za-z0-9]+)$/,due=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var r=t.match(uue);if(r)return String.fromCharCode(parseInt(r[1],16));if(r=t.match(hue),r)return String.fromCharCode(parseInt(r[1],10));if(r=t.match(fue),r)return this.named[r[1]]||"&"+r[1]+";"}},e}(),pue=/[\t\n\f ]/,mue=/[A-Za-z]/,yue=/\r\n?/g;function ci(e){return pue.test(e)}function wO(e){return mue.test(e)}function gue(e){return e.replace(yue,`
`)}var vue=function(){function e(t,r,i){i===void 0&&(i="precompile"),this.delegate=t,this.entityParser=r,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var n=this.peek();if(n==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&n===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var n=this.peek(),s=this.tagNameBuffer;n==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):n==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(n))},tagOpen:function(){var n=this.consume();n==="!"?this.transitionTo("markupDeclarationOpen"):n==="/"?this.transitionTo("endTagOpen"):(n==="@"||n===":"||wO(n))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(n))},markupDeclarationOpen:function(){var n=this.consume();if(n==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=n.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var n=this.consume();ci(n)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var n=this.consume();ci(n)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase()))},doctypeName:function(){var n=this.consume();ci(n)?this.transitionTo("afterDoctypeName"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase())},afterDoctypeName:function(){var n=this.consume();if(!ci(n))if(n===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=n.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var n=this.peek();ci(n)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):n==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):n==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):n===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},doctypePublicIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},afterDoctypePublicIdentifier:function(){var n=this.consume();ci(n)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var n=this.consume();ci(n)||(n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},doctypeSystemIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},afterDoctypeSystemIdentifier:function(){var n=this.consume();ci(n)||n===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var n=this.consume();n==="-"?this.transitionTo("commentStartDash"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(n),this.transitionTo("comment"))},commentStartDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var n=this.consume();n==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(n)},commentEndDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+n),this.transitionTo("comment"))},commentEnd:function(){var n=this.consume();n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+n),this.transitionTo("comment"))},tagName:function(){var n=this.consume();ci(n)?this.transitionTo("beforeAttributeName"):n==="/"?this.transitionTo("selfClosingStartTag"):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(n)},endTagName:function(){var n=this.consume();ci(n)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):n==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(n)},beforeAttributeName:function(){var n=this.peek();if(ci(n)){this.consume();return}else n==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var n=this.peek();ci(n)?(this.transitionTo("afterAttributeName"),this.consume()):n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==='"'||n==="'"||n==="<"?(this.delegate.reportSyntaxError(n+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(n)):(this.consume(),this.delegate.appendToAttributeName(n))},afterAttributeName:function(){var n=this.peek();if(ci(n)){this.consume();return}else n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n))},beforeAttributeValue:function(){var n=this.peek();ci(n)?this.consume():n==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(n))},attributeValueDoubleQuoted:function(){var n=this.consume();n==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueSingleQuoted:function(){var n=this.consume();n==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueUnquoted:function(){var n=this.peek();ci(n)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):n===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(n))},afterAttributeValueQuoted:function(){var n=this.peek();ci(n)?(this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var n=this.peek();n===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var n=this.consume();(n==="@"||n===":"||wO(n))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(n))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=gue(t);this.index<this.input.length;){var r=this.states[this.state];if(r!==void 0)r.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var r=this.input.slice(this.index,t),i=this.entityParser.parse(r);if(i){for(var n=r.length;n;)this.consume(),n--;return this.consume(),i}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),bue=function(){function e(t,r){r===void 0&&(r={}),this.options=r,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new vue(this,t,r.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var r=0;r<arguments.length;r++)if(t.type===arguments[r])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var r=this.current("Doctype");r.publicIdentifier===void 0?r.publicIdentifier=t:r.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var r=this.current("Doctype");r.systemIdentifier===void 0?r.systemIdentifier=t:r.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function _ue(e,t){var r=new bue(new due(cue),t);return r.tokenize(e)}const m9="LinkifyResult",g1="StartTag",y9="EndTag",vS="Chars",wue="Comment",Sue="Doctype";function xue(e,t){t===void 0&&(t={});const r=_ue(e),i=[],n=[],s=new eT(t,Aue);for(let o=0;o<r.length;o++){const a=r[o];if(a.type===g1){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let f=i.length;Tue(l,r,++o,i),o+=i.length-f-1}else if(a.type!==vS)i.push(a);else{const l=Eue(a.chars,s);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case m9:n.push(a.rendered);break;case g1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Iue(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",n.push(l);break}case y9:n.push(`</${a.tagName}>`);break;case vS:n.push(bS(a.chars));break;case wue:n.push(`<!--${bS(a.chars)}-->`);break;case Sue:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",n.push(l);break}}}return n.join("")}function Eue(e,t){const r=lue(e),i=[];for(let n=0;n<r.length;n++){const s=r[n];s.t==="nl"&&t.get("nl2br")?i.push({type:g1,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!t.check(s)?i.push({type:vS,chars:s.toString()}):i.push({type:m9,rendered:t.render(s)})}return i}function Tue(e,t,r,i){let n=1;for(;r<t.length&&n>0;){let s=t[r];s.type===g1&&s.tagName.toUpperCase()===e?n++:s.type===y9&&s.tagName.toUpperCase()===e&&n--,i.push(s),r++}return i}function Aue(e){let{tagName:t,attributes:r,content:i}=e;return`<${t} ${Mue(r)}>${bS(i)}</${t}>`}function bS(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g9(e){return e.replace(/"/g,"&quot;")}function Mue(e){const t=[];for(const r in e){const i=e[r]+"";t.push(`${r}="${g9(i)}"`)}return t.join(" ")}function Iue(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r][0],n=e[r][1]+"";t.push(`${i}="${g9(n)}"`)}return t}const Oue="truncate-text",Cue="truncate-trigger",$ue={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(Oue,!0)},mounted(e,t){let r;t.value&&t.value.externalTrigger&&(r=e.closest(`[${Cue}]`)),H3(e,{content:SO(e.textContent),onShow:Nue,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:r,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(SO(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function Nue(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function SO(e){if(e===null)return"";let t=xue(e,{target:"_blank",validate:{url:r=>/^https?:\/\//.test(r)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const Pue=["content"],Lue={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},kue={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Rue={key:1},Due={key:0,class:"flex"},Fue=["innerHTML"],Uue={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},jue=ot({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:r}=nr(),i=Jc(),n=Wg(),s=zr("iApi"),o=Mg("el"),a=Mg("contentEl"),l=ne();t({el:o});const c=e,f=tt(()=>s?.fixture.get("appbar")?n.temporary:[]),d=tt(()=>i.mobileView),p=tt(()=>i.reorderable),y=x=>x.scrollHeight>x.clientHeight,g=()=>!d.value&&!c.panel.teleport,w=x=>{c.panel.move(x),x==="left"&&As(()=>{(o.value?.querySelector(".move-left")).focus()})},_=tt(()=>c.screenId?c.panel.screens[c.screenId][s?.$i18n.locale.value??"en"]:null);return oi(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",x=>{x.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Ms(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",x=>{x.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(x,T)=>{const S=vr("back"),v=vr("panel-options-menu"),M=vr("left"),C=vr("right"),L=vr("pin"),R=vr("expand"),k=vr("minimize"),G=vr("close"),W=$t("truncate"),V=$t("focus-item"),z=$t("tippy");return Ct((pe(),Ee("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${$e(r)(e.panel.alertName)+". "+$e(r)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(pe(),Ee("header",Lue,[Xe(S,{class:mr(e.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=ee=>e.panel.close())},null,8,["class"]),Ct((pe(),Ee("h2",kue,[x.$slots.header?cs(x.$slots,"header",{key:0}):(pe(),Ee("div",Rue,zt($e(r)(e.panel.alertName)),1))])),[[W]]),x.$slots.controls?(pe(),qt(v,{key:0},{default:Tr(()=>[cs(x.$slots,"controls")]),_:3})):Yt("",!0),ue("div",{class:mr(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Yt("",!0):(pe(),Ee("div",Due,[p.value?(pe(),qt(M,{key:0,onClick:T[1]||(T[1]=ee=>w("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Yt("",!0),p.value?(pe(),qt(C,{key:1,onClick:T[2]||(T[2]=ee=>w("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Yt("",!0),Xe(L,{onClick:T[3]||(T[3]=ee=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(pe(),qt(R,{key:2,onClick:T[4]||(T[4]=ee=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Yt("",!0)])),e.panel.button&&f.value?.includes(e.panel.id)?(pe(),qt(k,{key:1,onClick:T[5]||(T[5]=ee=>e.panel.minimize())})):Yt("",!0),Xe(G,{onClick:T[6]||(T[6]=ee=>e.panel.close())})],2)])):Yt("",!0),e.content?(pe(),Ee("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[x.$slots.content?cs(x.$slots,"content",{key:0}):_.value?(pe(),Ee("div",{key:1,innerHTML:_.value.innerHTML},null,8,Fue)):Yt("",!0)],512)):Yt("",!0),e.footer?Ct((pe(),Ee("div",Uue,[cs(x.$slots,"footer")])),[[V]]):Yt("",!0)],8,Pue)),[[z,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),Gue={class:"relative"},Bue=["content","aria-label"],Vue=["transform"],zue=ot({__name:"pin",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const n=$t("tippy");return pe(),Ee("div",Gue,[Ct((pe(),Ee("button",{type:"button",class:mr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:$e(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":$e(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(pe(),Ee("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},i[0]||(i[0]=[ue("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Vue))],10,Bue)),[[n,{placement:"bottom",hideOnClick:!1}]])])}}}),que={class:"relative"},Wue=["content","aria-label"],Hue=ot({__name:"close",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const n=$t("tippy");return pe(),Ee("div",que,[Ct((pe(),Ee("button",{type:"button",class:mr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:$e(t)("panels.controls.close"),"aria-label":$e(t)("panels.controls.close")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ue("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,Wue)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Yue={class:"relative"},Jue=["content","aria-label"],Kue=ot({__name:"back",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const n=$t("tippy");return pe(),Ee("div",Yue,[Ct((pe(),Ee("button",{type:"button",class:mr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:$e(t)("panels.controls.back"),"aria-label":$e(t)("panels.controls.back")},i[0]||(i[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ue("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,Jue)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Zue={class:"w-32 h-32"},Xue=["content","aria-label"],Que={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},ehe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},the=ot({__name:"expand",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const n=$t("tippy");return pe(),Ee("div",Zue,[Ct((pe(),Ee("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:$e(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":$e(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(pe(),Ee("svg",ehe,i[1]||(i[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ue("path",{d:"M4 12h16v2H4z"},null,-1)]))):(pe(),Ee("svg",Que,i[0]||(i[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,Xue)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),rhe={class:"relative"},ihe=["content","aria-label"],nhe=ot({__name:"minimize",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const n=$t("tippy");return pe(),Ee("div",rhe,[Ct((pe(),Ee("button",{type:"button",class:mr(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:$e(t)("panels.controls.minimize"),"aria-label":$e(t)("panels.controls.minimize")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ue("path",{d:"M6 19h12v2H6z"})],-1)]),10,ihe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),she={class:"relative"},ohe=["content","aria-label"],ahe=ot({__name:"right",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const n=$t("tippy");return pe(),Ee("div",she,[Ct((pe(),Ee("button",{type:"button",class:mr(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:$e(t)("panels.controls.moveRight"),"aria-label":$e(t)("panels.controls.moveRight")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,ohe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),lhe={class:"relative"},che=["content","aria-label"],uhe=ot({__name:"left",props:{active:Boolean},setup(e){const{t}=nr();return(r,i)=>{const n=$t("tippy");return pe(),Ee("div",lhe,[Ct((pe(),Ee("button",{type:"button",class:mr(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:$e(t)("panels.controls.moveLeft"),"aria-label":$e(t)("panels.controls.moveLeft")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,che)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),hhe=ot({__name:"panel-options-menu",setup(e){const{t}=nr();return(r,i)=>(pe(),qt(F3,{class:"flex",tooltip:$e(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Tr(()=>i[0]||(i[0]=[ue("div",{class:"p-6"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ue("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Tr(()=>[cs(r.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),fhe=oa(hhe,[["__scopeId","data-v-5a275ac2"]]),dhe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},phe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},mhe=ot({__name:"fullscreen-nav",setup(e){const{t}=nr(),r=zr("iApi"),i=()=>{r.toggleFullscreen()};return(n,s)=>{const o=vr("mapnav-button");return pe(),qt(o,{onClickFunction:i,tooltip:$e(t)("mapnav.fullscreen")},{default:Tr(()=>[$e(r).isFullscreen?(pe(),Ee("svg",dhe,s[0]||(s[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(pe(),Ee("svg",phe,s[1]||(s[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),yhe=ot({__name:"geolocator-nav",setup(e){const{t}=nr(),r=zr("iApi");let i=ei([]);const n=async()=>{if(i.length)s(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?r.notify.show(yn.ERROR,t("mapnav.geolocator.error.permission")):r.notify.show(yn.ERROR,t("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],s(i))}},s=a=>{const l=new Ri("geolocation",a,Be.latLongSR(),!0);r.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=vr("mapnav-button");return pe(),qt(c,{onClickFunction:n,tooltip:$e(t)("mapnav.geolocator")},{default:Tr(()=>l[0]||(l[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),ghe=ot({__name:"home-nav",setup(e){const{t}=nr(),r=zr("iApi"),i=()=>{const n=r.geo.map.getExtentSet();r.geo.map.zoomMapTo(n.fullExtent)};return(n,s)=>{const o=vr("mapnav-button");return pe(),qt(o,{onClickFunction:i,tooltip:$e(t)("mapnav.home")},{default:Tr(()=>s[0]||(s[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ue("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),vhe={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},bhe=["content","aria-label"],_he=ot({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,r)=>{const i=$t("focus-item"),n=$t("tippy");return pe(),Ee("div",vhe,[Ct((pe(),Ee("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:r[0]||(r[0]=s=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[cs(t.$slots,"default")],8,bhe)),[[i],[n,{placement:"left"}]])])}}}),whe={class:"relative",tabindex:"-1"},She=["aria-label","content"],xhe=ot({__name:"button",props:{onClickFunction:{type:Function,required:!0},id:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=zr("iApi"),r=e,i=()=>t?.event.emit(Ne.APPBAR_BUTTON_CLICK,r.id);return(n,s)=>{const o=$t("focus-item"),a=$t("tippy");return pe(),Ee("div",whe,[Ct((pe(),Ee("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{e.onClickFunction(),i()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[cs(n.$slots,"default",{},void 0,!0)],8,She)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),Ehe=oa(xhe,[["__scopeId","data-v-4e07c09f"]]),The=lr("areas-of-interest",()=>({areas:ne([])})),Ahe=lr("export",()=>{const e=ne({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=ne("");function r(i){if(e.value[i.name]!==void 0){const n=e.value[i.name];e.value[i.name]=i.selected!==void 0?i.selected:!n}}return{componentSelectedState:e,fileName:t,toggleSelected:r}}),Mhe=lr("extentguard",()=>{const e=ne(!1);function t(l){e.value=l}const r=ne(!1);function i(l){r.value=l}const n=ne(!1);function s(l){n.value=l}const o=ne([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:r,setEnforcing:i,alwaysOn:n,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),Rv=function e(t){function r(n,s,o){var a,l={};if(Array.isArray(n))return n.concat(s);for(a in n)l[o?a.toLowerCase():a]=n[a];for(a in s){var c=o?a.toLowerCase():a,f=s[a];l[c]=c in l&&typeof f=="object"?r(l[c],f,c=="headers"):f}return l}function i(n,s,o,a,l){var c=typeof n!="string"?(s=n).url:n,f={config:s},d=r(t,s),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:r(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(f[g]=y[g]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(w){f.data=w,f.data=JSON.parse(w)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return t=t||{},i.request=i,i.get=function(n,s){return i(n,s,"get")},i.delete=function(n,s){return i(n,s,"delete")},i.head=function(n,s){return i(n,s,"head")},i.options=function(n,s){return i(n,s,"options")},i.post=function(n,s,o){return i(n,o,"post",s)},i.put=function(n,s,o){return i(n,o,"put",s)},i.patch=function(n,s,o){return i(n,o,"patch",s)},i.all=Promise.all.bind(Promise),i.spread=function(n){return n.apply.bind(n,n)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=t,i.create=e,i}(),Ihe={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},i_={en:{},fr:{}};class Ohe{list={};listFetched=!1;constructor(t,r){Rv.get(r).then(i=>{i.data.definitions.forEach(n=>i_[t][n.code]=n.description),Object.keys(i_[t]).forEach(n=>{this.list[n]=i_[t][n]}),this.listFetched=!0})}fsaToProvinces(t){const r={};let i=Ihe[t.substring(0,1).toUpperCase()];return typeof i=="number"&&(i=[i]),i.forEach(n=>{r[n]=this.list[n]}),r}}function Che(e,t){return new Ohe(e,t)}const L0={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Rgion De Tri D'Acheminement",NTS:"Systme National De Rfrence Cartographique",COORD:"Latitude/Longitude",SCALE:"chelle"}};class $he{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,r){Rv.get(r).then(i=>{i.data.definitions.forEach(n=>{L0[t][n.code]=n.term.split(`${n.code}-`)[1]}),Object.keys(L0[t]).forEach(n=>{this.allTypes[n]=L0[t][n],this.validTypes[n]=L0[t][n]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const r of t)delete this.validTypes[r];return this.filterComplete=!0,this.validTypes}}function Nhe(e,t){return new $he(e,t)}function Phe(e,t){const r=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,i=/^\d{2,3}[A-P]/,n=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(r.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")){const s=t.slice(0,-1);return new Lhe(e,s)}else return n.test(t)&&!e.disabledSearchTypes.includes("FSA")?new khe(e,t):i.test(t)&&!e.disabledSearchTypes.includes("NTS")?new Rhe(e,t.substring(0,6).toUpperCase()):new Dhe(e,t)}class Dv{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(t,r){this.query=r,this.config=t}search(){return this.jsonRequest(this.getUrl()).then(t=>this.normalizeNameItems(t.items)).catch(()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}getUrl(t,r,i,n){let s="";return t?s=this.config.geoLocateUrl+"?q="+this.query:(i&&n?s=`${this.config.geoNameUrl}?lat=${i}&lon=${n}&num=${this.config.maxResults}`:s=`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(s+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(s+="&category=O")),s}normalizeNameItems(t){return t.filter(r=>this.config.types.validTypes[r.concise.code]).map(r=>({name:r.name,location:r.location,province:this.config.provinces.list[r.province.code],type:this.config.types.allTypes[r.concise.code],LatLon:{lat:r.latitude,lon:r.longitude},bbox:r.bbox,order:this.config.sortOrder.indexOf(r.concise.code)>=0?this.config.sortOrder.indexOf(r.concise.code):this.config.sortOrder.length}))}jsonRequest(t){return new Promise((r,i)=>{const n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="json",n.onload=()=>{if(n.status===200){const s=typeof n.response=="string"?JSON.parse(n.response):n.response;r(s)}else i("Could not load results from remote service.")},n.send()})}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(t,r,i){return this.jsonRequest(this.getUrl(!1,i,t,r)).then(n=>this.normalizeNameItems(n.items)).catch(()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}}class Lhe extends Dv{constructor(t,r){super(t,r),this.resultType="latlong";const n=r.split(/[\s|,|;|]/).filter(a=>!isNaN(a)&&a!=="").map(a=>parseFloat(a)),s=.015,o=[n[1]-s,n[0]-s,n[1]+s,n[0]+s];this.latLongResult={name:`${n[0]},${n[1]}`,location:{latitude:n[0],longitude:n[1]},type:"Latitude/Longitude",position:[n[1],n[0]],bbox:o},this.onComplete=new Promise((a,l)=>{this.nameByLatLon(n[0],n[1]).then(c=>{c?(this.results=c,a(this)):l("Given lat lon coordinates cannot be found")})})}}class khe extends Dv{constructor(t,r){r=r.substring(0,3).toUpperCase(),super(t,r),this.resultType="fsa",this.onComplete=new Promise(i=>{this.formatLocationResult().then(n=>{n?(this.featureResults.push(n),this.nameByLatLon(n.LatLon.lat,n.LatLon.lon,Object.keys(n._provinces).map(s=>parseInt(s))).then(s=>{this.results=s,i(this)})):(console.log("FSA code given cannot be found."),i(this))})})}formatLocationResult(){return this.locateByQuery().then(t=>{if(t.length===1&&this.query){const r=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(r).map(i=>r[i]).join(","),_provinces:r,LatLon:{lat:t[0].geometry.coordinates[1],lon:t[0].geometry.coordinates[0]}}}}).catch(()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")})}}class Rhe extends Dv{unitName;unit;mapSheets=[];constructor(t,r){super(t,r),this.resultType="nts",r=isNaN(parseInt(r[2]))?"0"+r:r,this.unitName=r,this.onComplete=new Promise(i=>{this.locateByQuery().then(n=>{if(n.length>0&&this.query){const s=this.locateToResult(n);this.unit=s[0],this.mapSheets=s,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then(o=>{this.results=o,i(this)})}else console.log("Given NTS code not found"),i(this)}).catch(()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),i(this)})})}locateToResult(t){return t.map(i=>{const n=i.title.split(" ");return{nts:n.shift()||"",location:n.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:i.geometry.coordinates[1],lon:i.geometry.coordinates[0]},bbox:i.bbox}})}equals(t){return this.unitName===t.unitName}}class Dhe extends Dv{constructor(t,r){r=encodeURIComponent(r.trim()),super(t,r),this.resultType="address",this.onComplete=new Promise(i=>{this.locateByQuery().then(n=>{this.featureResults=this.locateToResult(n),this.search().then(s=>{this.results=s,i(this)})}).catch(()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then(n=>{this.results=n,i(this)})})})}locateToResult(t){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:t.filter(i=>i.type?.includes("Street")).map(i=>{const[n,s,o]=i.title.split(", ");return{name:n,city:s.split(" Of ").pop(),province:o,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:i.geometry.coordinates[1],lon:i.geometry.coordinates[0]}}})}}const xO="https://geogratis.gc.ca/services/geolocation/@{language}/locate",EO="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",TO="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",AO="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",Fhe={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class MO{config;constructor(t,r){let i,n,s,o;const a=r?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:xO,n=a.geoNames?a.geoNames:EO,s=a.geoProvince?a.geoProvince:TO,o=a.geoTypes?a.geoTypes:AO):(i=xO,n=EO,s=TO,o=AO),i=i.replace("@{language}",t),n=n.replace("@{language}",t),s=s.replace("@{language}",t),o=o.replace("@{language}",t);const l=r?.settings;let c,f,d,p,y;l?(c=l.categories?l.categories:[],f=l.sortOrder?l.sortOrder:[],d=l.disabledSearchTypes?l.disabledSearchTypes:[],p=l.maxResults>0?l.maxResults:100,y=!!l.officialOnly):(c=[],f=[],d=[],p=100,y=!1),this.config={language:t,geoNameUrl:n,geoLocateUrl:i,types:Nhe(t,o),provinces:Che(t,s),categories:c,sortOrder:f,disabledSearchTypes:d,maxResults:p,officialOnly:y},this.config.types.filterValidTypes(r?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=r?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(t){this._provinceList=t}set typeList(t){this._typeList=t}levenshteinDistance(t,r){r=r.toLowerCase().trim();const i=decodeURI(t.query.toLowerCase().replace("*","")),n=[];for(let s=0;s<=r.length;s++){n[s]=[s];for(let o=1;o<=i.length;o++)n[s][o]=s===0?o:Math.min(n[s][o-1]+1,n[s-1][o]+.2,n[s-1][o-1]+(i[o-1]===r[s-1]?0:1))}return n[r.length][i.length]}findProvinceObj(t){return this.provinceList.find(r=>r.name===t)}query(t){return Phe(this.config,t.toUpperCase()).onComplete.then(r=>{let i=[];r.featureResults.length>0?r.resultType==="fsa"?i=r.featureResults.map(s=>({name:s.fsa,bbox:[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:-1})):r.resultType==="nts"?i=r.featureResults.map(s=>({name:s.nts,bbox:s.bbox??[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon},order:-1})):r.resultType==="address"&&(i=r.featureResults.map(s=>({name:s.name,bbox:[s.LatLon.lon+.002,s.LatLon.lat-.002,s.LatLon.lon-.002,s.LatLon.lat+.002],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.city,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length})),this.config.sortOrder.length>0&&(i=i.sort((s,o)=>this.levenshteinDistance(r,s.name)>this.levenshteinDistance(r,o.name)?1:-1))):r.resultType==="latlong"&&(i=[r.latLongResult],i[0].order=-1);const n=r.results.map(s=>({name:s.name,bbox:s.bbox,type:s.type,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:s.order}));return{results:i.concat(n).slice(0,this.config.maxResults).sort((s,o)=>this.config.sortOrder.length>0?s.order>o.order?1:-1:this.levenshteinDistance(r,s.name)>this.levenshteinDistance(r,o.name)?1:-1),failedServs:r.failedServs}})}fetchProvinces(){return new Promise(t=>{const r=setInterval(()=>{if(this.config.provinces.listFetched){clearInterval(r);const i=[],n={code:-1,abbr:"...",name:"..."};i.push(n);const s=this.config.provinces.list;for(const o in s)i.push({code:o,abbr:Fhe[o],name:s[o]});this.provinceList=i,t(this.provinceList)}})})}fetchTypes(){return new Promise(t=>{const r=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(r);const i=[],n={code:-1,name:"..."};i.push(n);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||i.push({code:o,name:s[o]});this.typeList=i,t(this.typeList)}},250)})}}function IO(e,t,r){return e&&t.extent&&(r=r.filter(i=>i.bbox[0]<=t.extent.xmax&&i.bbox[1]<=t.extent.ymax&&i.bbox[2]>=t.extent.xmin&&i.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(r=r.filter(i=>i.location.province?.name&&i.location.province.name===t.province)),t.type&&t.type!=="..."&&(r=r.filter(i=>i.type===t.type)),r}const Uhe=lr("geosearch",()=>{const e=ne(new MO("en",void 0)),t=ne({type:"",province:"",extent:void 0}),r=ne(!1),i=ne(""),n=ne(""),s=ne(""),o=ne([]),a=ne([]),l=ne(!1),c=ne([]),f=tt(()=>new Promise(S=>{e.value.fetchProvinces().then(v=>{v.sort((M,C)=>M.name>C.name?1:-1),S(v)})})),d=tt(()=>new Promise(S=>{e.value.fetchTypes().then(v=>{v.sort((M,C)=>M.name>C.name?1:-1),S(v)})}));function p(S,v){e.value=new MO(S,v)}function y(S){l.value=!0;const v=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!v)o.value=[],a.value=[],l.value=!1;else if(v&&v!==s.value||S){const M=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(M),e.value.query(`${v}*`).then(C=>{c.value=C.failedServs,s.value=v,a.value=C.results;const L=IO(r.value,t.value,a.value);o.value=L||[],l.value=!1}))},250)}else{const M=IO(r.value,t.value,a.value);o.value=M||[],l.value=!1}}function g(S){t.value.province=typeof S.province>"u"?"":S.province,y(S.forceReRun)}function w(S){t.value.type=typeof S.type>"u"?"":S.type,y(S.forceReRun)}function _(S){s.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=S,y()}function x(S){const v={a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:""};S=S.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),n.value=Array.from(S).map(M=>Object.keys(v).includes(M)?"["+M+v[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(S){if(S.visible!==void 0&&(r.value=S.visible),S.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=S.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:r,searchVal:i,searchRegex:n,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:g,setType:w,setSearchTerm:_,setSearchRegex:x,setMapExtent:T}}),jhe=lr("help",()=>({location:ne("./help/")}));var v9=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(v9||{}),_S=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(_S||{});class b9 extends Pr{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,r,i){super(t),this._uid=Th.sharedUtils.generateUUID(),this._name=r.name,this._type=r.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new $r,this._hidden=r.hidden??!1,this._expanded=r.expanded??!0,this._visibility=!0,this._exclusive=r.exclusive??!1,this._controls=r.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=r.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,r){r&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(i=>i!==t),this._controls?.push(t)):!r&&this._controls?.includes(t)&&(this._controls=this._controls.filter(i=>i!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,r=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Pa)||this._lastVisible.layerControlAvailable(yr.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(n=>!(n instanceof Pa)||n.layerControlAvailable(yr.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&r&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(r=>r.visibility&&r!==this&&r.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof Pa&&!this.layerControlAvailable(yr.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(r=>{r.uid!==t.uid&&r.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof Pa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Pa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(r=>r.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(r=>r.visibility),this instanceof Pa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Pa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},r=[];return this.children.forEach(i=>{r.push(i.getConfig())}),this.exclusive?t.exclusiveVisibility=r:t.children=r,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new $r}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Pa extends b9{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,r,i){super(t,r,i),this._type=_S.Placeholder,this._layerId=r.layerId,this._layerIdx=r.sublayerIndex,this._isSublayer=r.sublayerIndex!==void 0,this._layerControls=r.layerControls??[],this._origLayerControls=r.layerControls,this._layerDisabledControls=r.disabledLayerControls??[],this._origLayerDisabledControls=r.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=r.symbologyExpanded||!1,r.coverIcon&&(this._coverIcon=r.coverIcon),r.description&&(this._description=r.description),this._symbologyRenderStyle=r.symbologyRenderStyle??"icons",this._customSymbology=!!r.symbologyStack,this._symbologyStack=r.symbologyStack?.map(n=>({uid:this.$iApi.geo.shared.generateUUID(),label:n.text,definitionClause:n.sqlQuery,imgUrl:n.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=r.maxLines&&[1,2,3,4,5,6].includes(r.maxLines)?r.maxLines:void 0}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,r=!0,i=!1){if(!(!this.layerControlAvailable(yr.Visibility)&&!i)&&(super.toggleVisibility(t,r),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const n=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{n||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,r){this._symbologyStack.some(i=>((t===void 0||i.uid===t)&&(i.visibility=r,i.lastVisbility=r),t!==void 0&&i.uid===t))}load(t){const r=t instanceof iT?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);r&&(this.layer=r,this._layerRedrawing=r.mapLayer&&r.drawState!==Ji.UP_TO_DATE,r.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:r.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),r.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Ne.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===_S.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Ne.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===Ji.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===Ji.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?r.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Ne.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var Ghe=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(Ghe||{});class OO extends b9{_infoType;_content;constructor(t,r,i){super(t,r,i),this._infoType=r.infoType??"title",this._content=r.content??"",r.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(r.infoType||r.content)&&(this._controls=r.controls?.slice()??[v9.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const Bhe=lr("legend",()=>{const e=ne(),t=ne([]),r=ne([]),i=ne(!0),n=ne(3);function s(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof OO)&&!(l.item instanceof Pa)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof OO&&!d.children.length&&d.content==="")),f);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,f=c.indexOf(l.oldItem);f>-1&&(t.value[f]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:i,maxLines:n,children:t,headerControls:r,addItem:s,removeItem:o,replaceItem:a}}),Vhe=lr("mapnav",()=>{const e=ne({}),t=ne([]);function r(i){i in e.value&&delete e.value[i];const n=t.value.indexOf(i);n!==-1&&t.value.splice(n,1)}return{items:e,order:t,removeItem:r}}),zhe=lr("metadata",()=>{const e=ne(""),t=ne({type:"LineString",coordinates:[]});return{status:e,response:t}}),qhe=lr("northarrow",()=>{const e=ne(""),t=ne("");return{arrowIcon:e,poleIcon:t}}),Whe=lr("overviewmap",()=>{const e=ne({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=ne({}),r=ne(!0),i=ne(1.5),n=ne("#FF0000"),s=ne(1),o=ne("#000000"),a=ne(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:r,expandFactor:i,borderColour:n,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),Hhe=lr("scrollguard",()=>{const e=ne(!1);function t(r){e.value=r}return{enabled:e,setEnabled:t}});var hi=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(hi||{});const Yhe=lr("wizard",()=>{const e={id:"Placeholder",layerType:ke.UNKNOWN,url:""},t=ne(),r=ne(""),i=ne(""),n=ne(!0),s=ne(null),o=ne({config:e,configOptions:[]}),a=ne(hi.UPLOAD);function l(c){switch(a.value){case hi.UPLOAD:c===hi.UPLOAD?r.value="":c===hi.FORMAT&&(a.value=hi.FORMAT);break;case hi.FORMAT:c===hi.UPLOAD?(s.value&&(r.value="",s.value=null),i.value="",a.value=hi.UPLOAD):c===hi.CONFIGURE&&(a.value=hi.CONFIGURE);break;case hi.CONFIGURE:c===hi.UPLOAD?(r.value="",i.value="",s.value=null,n.value=!0,o.value={config:e,configOptions:[]},a.value=hi.UPLOAD):c===hi.FORMAT&&(o.value={config:e,configOptions:[]},n.value=!0,a.value=hi.FORMAT);break}}return{layerSource:t,url:r,typeSelection:i,nested:n,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class Jhe{fixture;panel;event;geo;notify;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,r,i){this.event=new Cre(this);const n=Khe(t,this);this.$vApp=n.app,this.$element=n.element,this.$i18n=n.i18n,this.$rootEl=n.app.$root?.$el,this.fixture=new ude(this),this.panel=new hde(this),this.geo=new lde(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new joe(this),this._isFullscreen=Ps.isEnabled&&!!this.$vApp.$root&&Ps.isFullscreen&&Ps.element===this.$vApp.$root.$el,Ps.isEnabled&&Ps.onchange(()=>{this._isFullscreen=Ps.isEnabled&&!!this.$vApp.$root&&Ps.isFullscreen&&Ps.element===this.$vApp.$root.$el}),this.initialize(!0,r,i)}initialize(t,r,i){const n=Xi(this.$vApp.$pinia),s=Jc(this.$vApp.$pinia),o=Kg(this.$vApp.$pinia);if(r?.configs!==void 0){const l=r.configs,c=l[this.$i18n.locale.value]??l[Object.keys(l)[0]];n.newConfig(c),n.registerConfig({config:c,configLangs:Object.keys(l),allLangs:Object.keys(this.$i18n.messages.value)});for(const g in l)n.registerConfig({config:l[g],configLangs:[g]});n.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const f=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(f),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let w=0;c.layers.forEach(_=>{const x=this.geo.layer.createLayer(_);this.geo.map.addLayer(x,w).catch(()=>{}),x.mapLayer&&w++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(w=>w.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(w=>{this.panel.open({id:w.id,screen:w.screen}),w.pin&&this.panel.pin(w.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const w={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,_=>w[_])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}i||(i={});const a=Vu(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Ne.MAP_START)),t&&(i.loadDefaultFixtures!==!1||r?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(r?.startingFixtures):t||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reload(t,r){const i=Vu(this.$vApp.$pinia),n=lo(this.$vApp.$pinia),s=Xi(this.$vApp.$pinia),o=Pn(this.$vApp.$pinia),a=Zs(this.$vApp.$pinia),l=qw(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),r?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),t===void 0&&(t=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),n.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,r)}component(t,r){if(r){const i=this.$element.component(t,r);return this.event.emit(Ne.COMPONENT,t),i}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=Xi(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return Wg(this.$vApp.$pinia);case"areas-of-interest":return The(this.$vApp.$pinia);case"details":return k8(this.$vApp.$pinia);case"export":return Ahe(this.$vApp.$pinia);case"extentguard":return Mhe(this.$vApp.$pinia);case"geosearch":return Uhe(this.$vApp.$pinia);case"grid":return qw(this.$vApp.$pinia);case"help":return jhe(this.$vApp.$pinia);case"legend":return Bhe(this.$vApp.$pinia);case"mapnav":return Vhe(this.$vApp.$pinia);case"metadata":return zhe(this.$vApp.$pinia);case"northarrow":return qhe(this.$vApp.$pinia);case"overviewmap":return Whe(this.$vApp.$pinia);case"scrollguard":return Hhe(this.$vApp.$pinia);case"wizard":return Yhe(this.$vApp.$pinia);case"config":return Xi(this.$vApp.$pinia);case"fixture":return Pn(this.$vApp.$pinia);case"instance":return Vu(this.$vApp.$pinia);case"layer":return Zs(this.$vApp.$pinia);case"map-caption":return Xa(this.$vApp.$pinia);case"maptip":return Kg(this.$vApp.$pinia);case"notification":return lo(this.$vApp.$pinia);case"panel":return Jc(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const r=Xi(this.$vApp.$pinia),i=lo(this.$vApp.$pinia),n=r.registeredLangs;Object.keys(r.registeredConfigs).length===1&&i.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();n[s]!==n[t]&&(this.event.emit(Ne.CONFIG_CHANGE,o),this.reload()),this.event.emit(Ne.LANG_CHANGE,{oldLang:s,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){Ps.isEnabled&&Ps.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Vu(this.$vApp.$pinia).started}updateAlert(t){const r=this.$vApp.$el.querySelector(".screen-reader-alert");r.childNodes.length>0&&(r.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const n=document.createTextNode(t);i.appendChild(n),r.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=Vu(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit(Ne.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function Khe(e,t){const r=xre();r.use(({store:o})=>{const a=NI(o.$state);o.$reset=()=>o.$patch(NI(a))});const i=Wne(),n=dl(Dce).use(i).use(Nce,{directive:"tippy",component:"tippy"}).use(r);n.directive("focus-container",qce),n.directive("focus-list",jce),n.directive("focus-item",Bce),n.directive("truncate",$ue),n.component("panel-screen",jue),n.component("pin",zue),n.component("close",Hue),n.component("back",Kue),n.component("expand",the),n.component("panel-options-menu",fhe),n.component("dropdown-menu",F3),n.component("minimize",nhe),n.component("right",ahe),n.component("left",uhe),n.component("fullscreen-nav-button",mhe),n.component("geolocator-nav-button",yhe),n.component("home-nav-button",ghe),n.component("mapnav-button",_he),n.component("appbar-button",Ehe),n.component("transition",mv),n.component("transition-group",gv),n.config.globalProperties.$iApi=t,n.config.globalProperties.$pinia=r,n.provide("iApi",t);const s=n.mount(e);return{element:n,app:s,i18n:i.global}}class tT{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const r=new tT(t),i=t.layers.map(o=>{if(o.layerType===ke.TILE)return Gt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===ke.MAPIMAGE)return Gt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===ke.OSM)return Gt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),s=(await Promise.allSettled(i)).filter(o=>o.status==="rejected"?(console.error(o.reason),r.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return r.esriBasemap=await Gt.Basemap({baseLayers:s,title:t.name||"",id:t.id}),r}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class Zhe extends Pr{esriMap;_basemapStore;created=!1;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new $r,this.handlers=[],this.pointZoomScale=5e4}noMapErr(){console.error("Attempted to manipulate the map before calling createMap()")}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,r){const i=l=>{this.$iApi.notify.show(yn.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},n=t.basemaps.map(l=>tT.create(l)),o=(await Promise.all(n)).filter(l=>(l.createErr&&i(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{c.watch("loadStatus",()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(i(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=xr(await Gt.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=r,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,r){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,r)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new $r,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const r=this._basemapStore.find(i=>i.id===t);if(r)return r;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const r=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=qe(r.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap.id;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,r,i=!0,n=200,s="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ze.POINT&&(a.scale=r||this.pointZoomScale);const l={animate:i,duration:n,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?tr.fromESRI(this.esriView.extent):(this.noMapErr(),tr.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),_p.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Be.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class Xhe extends Pr{maptipStore;constructor(t){super(t),this.maptipStore=Kg(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const r=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!r){this.clear();return}const i=this.$iApi.geo.layer.getLayer(r.layerId);if(i?.geomType!=Ze.POLYGON&&this.#e&&this.#e.layerId===r.layerId&&this.#e.oid===r.oid&&this.#e.layerIdx===r.layerIdx)return;if(this.clear(),this.#e=r,!i){console.error(`graphic hit test returned non-existent layer id: ${r.layerId}`);return}if(!i.hovertips)return;const n=await i.getIcon(r.oid),s=await i.getGraphic(r.oid,{getAttribs:!0});this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit(Ne.MAP_GRAPHICHIT,{layer:i,graphicHit:r,attributes:s.attributes,icon:n,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.attributes[t.layer.config.tooltipField||t.layer.nameField]}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class Qhe extends Pr{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const r=Xa(this.$vApp.$pinia);if(r.coords.disabled=!1,r.scale.disabled=!1,r.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)r.coords.disabled=!0;else{const i=t.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(t.scaleBar)if(t.scaleBar.disabled)r.scale.disabled=!0;else{const i=t.scaleBar.imperialScale;i!==void 0&&(r.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}r.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const r={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},n={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?n.logo.disabled=!0:(n.logo.altText=t.logo.altText||i.altText,n.logo.link=t.logo.link||i.link,n.logo.value=t.logo.value||i.value):(n.logo.altText=i.altText,n.logo.link=i.link,n.logo.value=i.value),t.text?t.text.disabled?n.text.disabled=!0:n.text.value=t.text.value||r.value:n.text.value=r.value,Xa(this.$vApp.$pinia).setAttribution(n)):(n.logo.altText=i.altText,n.logo.link=i.link,n.logo.value=i.value,n.text.value=r.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap.baseLayers.map(c=>new Promise(f=>{let d=0;const p=o/a,y=setInterval(function(){c.loaded&&!c.loadError?(clearInterval(y),f(c)):d>p&&(clearInterval(y),f(null)),d++},a)})).toArray();Promise.all(l).then(c=>{s=c.filter(d=>d?.copyright).map(d=>d.copyright).join(" | "),n.text.value=s||n.text.value||r.value,Xa(this.$vApp.$pinia).setAttribution(n)})}}updateScale(){const t=Xa(this.$vApp.$pinia),r=t.scale;if(r?.disabled)return;const i=r?.isImperialScale||!1,n=this.scaleHelper().find(s=>s.isImperialScale===i)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${n.pixels}px`,label:`${this.$iApi.$i18n.n(n.distance,"number")}${n.units}`,isImperialScale:i}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,r=this.$iApi.geo.map.getResolution(),i=[],n=r*t,s=1609.34,o=3.28084,a=n>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),n>1e3){const f=r*t/(c?s:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);i[l].distance=Math.ceil(f/p)*p,i[l].pixels=i[l].distance*(c?s:1e3)/r}else i[l].distance=Math.ceil(c?n*o:n),i[l].pixels=n/r}return i}wrapValue(t,r,i){return((t-r)%(i-r)+(i-r))%(i-r)+r}async formatLatLongDMS(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(n))*(n<0?-1:1),f=Math.floor(Math.abs((n-c)*60)),d=Math.floor((Math.abs(n)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatLatLongDDM(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s="",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(n))*(n<0?-1:1),c=Math.abs((n-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatLatLongDD(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s="",o=Math.abs(i),a=Math.abs(n);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatMercator(t){const r=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(r.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(r.y),"number")} m`}async formatLambert(t){const r=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(r.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>r.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(r.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(r.y>0?"north":"south"))}`}async formatUTM(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s=Math.ceil((n+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),t);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const r=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(r.x,"number")} | ${this.$iApi.$i18n.n(r.y,"number")}`}}class efe extends Zhe{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(t){super(t),this.maptip=new Xhe(t),this.caption=new Qhe(t),this.mapMouseThrottle=0}async createMap(t,r){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,r),this.viewPromise.then(()=>{this.$iApi.event.emit(Ne.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit(Ne.MAP_DESTROYED)}async createMapView(t){const i=Xi(this.$vApp.$pinia).config.map;if(!i)throw new Error("Attempted to create map view without a map config");const n=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(i.initialBasemapId),s=i.tileSchemas.find(l=>l.id===n.tileSchemaId);if(!s)throw new Error(`Could not find tile schema for the given basemap id: ${n.id}`);const o=i.extentSets.find(l=>l.id===s.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${s.extentSetId}`);this._rampExtentSet=_p.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=i.lodSets.find(l=>l.id===s.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${s.lodSetId}`);this.esriView=xr(await Gt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:n.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:this.esriView.watch("extent",l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit(Ne.MAP_EXTENTCHANGE,c),this.$iApi.event.emit(Ne.FILTER_CHANGE,{extent:c,filterKey:Pi.EXTENT})}})}),this.handlers.push({type:"scale",handler:this.esriView.watch("scale",l=>{this.$iApi.event.emit(Ne.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit(Ne.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit(Ne.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit(Ne.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",Hg(100,!0,l=>{this.$iApi.event.emit(Ne.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",Hg(100,l=>{this.$iApi.event.emit(Ne.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit(Ne.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit(Ne.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit(Ne.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit(Ne.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit(Ne.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit(Ne.MAP_BLUR,l.native)})}),this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}),this.esriView.watch("fatalError",()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(n),s.recoveryBasemap?.basemapId){const l=s.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(s.id)},l)}})}destroyMapView(){this.esriView?.container.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const r=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=qe(r.esriBasemap);const i=Xi(this.$vApp.$pinia);i.activeBasemapConfig=r.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const r=Xi(this.$vApp.$pinia),i=await this.findBasemap(t),s=r.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(s){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new $r,this.created=!1,this.$iApi.event.emit(Ne.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Ne.MAP_REFRESH_END),this.$iApi.event.emit(Ne.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:s});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(i);const o=await Gt.ColorBackground({color:new Qo(i.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit(Ne.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:s})}return s}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const i=Xi(this.$vApp.$pinia).config.map;if(i){const n=i.tileSchemas.find(s=>s.id===t);if(n?.recoveryBasemap?.basemapId){const s=await this.findBasemap(n.recoveryBasemap.basemapId);await this.applyBasemap(s)}}}addLayer(t,r=void 0){return new Promise((i,n)=>{if(this.esriMap||(this.noMapErr(),n()),t.initiationState!==er.INITIATING&&t.initiationState!==er.INITIATED&&t.layerState!==dr.ERROR&&t.initiate(),t.mapLayer&&r===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)r=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(g=>g.id===c[p]);y&&!y.isCosmetic&&(r=p+1,d=!1)}d&&(r=0)}}Zs(this.$vApp.$pinia).addLayer(t,r),this.$iApi.event.emit(Ne.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===dr.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),n()):t.initiationState===er.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),i())},250)})}insertToEsriMap(t){let r=0;const i=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(i>0){const n=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=n[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){r=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(t.esriLayer,r)}reorder(t,r,i=!1){if(r<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const n=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(i){if(t.isCosmetic)return;if(r>0){const l=s.filter(c=>{const f=n.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});r>=l.length&&(console.error("non-cosmetic reorder index was too high"),r=l.length-1),r=s.indexOf(l[r])}}else r>=s.length&&(console.error("reorder index was too high"),r=s.length-1);const o=s.indexOf(t.id);if(o===r)return;if(Zs(this.$vApp.$pinia).reorderLayer(t,r),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(r>0){s=this.$iApi.geo.layer.layerOrderIds();for(let c=r-1;c>-1;c--){const f=s[c],d=n.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=r<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit(Ne.MAP_REORDER,{layer:t,newIndex:r})}removeSublayer(t){let r,i;if(typeof t=="string")r=t,i=this.$iApi.geo.layer.getLayer(r);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);r=t.uid,i=t}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Ne.LAYER_REMOVE,t),i.parentLayer?.sublayers.every(n=>n.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let r;if(t instanceof iT?r=t:r=this.$iApi.geo.layer.getLayer(t),!r)throw new Error("Layer could not be found for removal.");if(r.isSublayer){this.removeSublayer(r);return}r.supportsSublayers&&r.sublayers.forEach(n=>{n.isRemoved||this.removeSublayer(n)});const i=Zs(this.$vApp.$pinia);i.removeLayer(r),i.removeLayerConfig(r.id),r.removeEsriLayer(),r.initiationState===er.INITIATED&&r.terminate(),r.isRemoved=!0,this.$iApi.event.emit(Ne.LAYER_REMOVE,r)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const r=this.handlers.findIndex(i=>i.type==="pointer-move");if(r!==-1){const i=this.handlers[r];this.handlers.splice(r,1),i.handler.remove()}return r!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return gc(this.mapMouseThrottle,t=>{this.$iApi.event.emit(Ne.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const r=t.isOffScale(this.getScale());if(!r.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(r.zoomIn,t.minScale));const n=r.zoomIn?i:[...i].reverse(),s=n.find(o=>r.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||n[n.length-1];return this.zoomToLevel(s.level)}findClosestScale(t){const r=this.esriView?.constraints.lods;if(!r)return t;const i=r.map(s=>Math.abs(s.scale-t)),n=i.indexOf(Math.min(...i));return r[n].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?Ri.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new Ri("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const r=this.esriView.toScreen(t.toESRI());return{screenX:r.x,screenY:r.y}}else return this.noMapErr(),{screenX:1,screenY:1}}runIdentify(t){const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let i;if(t instanceof Ri){const c=this.mapPointToScreenPoint(t);i={mapPoint:t,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=t;if(r===void 0)return{click:i,results:[]};let n=Promise.resolve([]);r.some(c=>c.identifyMode===Fr.HYBRID||c.identifyMode===Fr.SYMBOLIC)&&(n=this.esriView.hitTest({x:i.screenX,y:i.screenY}).then(c=>c.results.map(f=>({layerId:f.layer.id,layerIdx:0,oid:f.graphic.getObjectId()}))));const s={geometry:i.mapPoint,hitTest:n},o=r.filter(c=>c.supportsIdentify).map(c=>(s.tolerance=i.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(s))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:i};return this.$iApi.event.emit(Ne.MAP_IDENTIFY,l),l}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===ke.GRAPHIC);if(r.length===0)return;const i=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(i.results.length===0)return;const n=i.results;let s,o;const a=new Set;if(n.some(l=>{if(a.has(l.layer.id))return!1;const c=r.find(f=>f.id===l.layer.id);return c?(!c.isCosmetic&&c.layerType!==ke.GRAPHIC&&(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const r=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(n=>r.includes(n))||this.keyPan()):r.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const r=["=","-"];this._activeKeys.includes(t.key)&&!r.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(i=>r.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),r=this.mapPointToScreenPoint(t),i=this.screenPointToMapPoint({screenX:r.screenX+5,screenY:r.screenY+5}),n=Math.abs(i.x-t.x),s=Math.abs(i.y-t.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=n;break;case"ArrowRight":o+=n;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const tfe={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},rfe={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},ife={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},nfe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},sfe={circlePoint:tfe,solidLine:rfe,outlinedPoly:ife,boundingBoxPoly:nfe};var Dy={exports:{}},ofe=Dy.exports,CO;function afe(){return CO||(CO=1,function(e,t){(function(r,i){if(e.exports=i(VN()),typeof r.navigator=="object"){if(!r.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");r.Terraformer.ArcGIS=i(r.Terraformer)}})(ofe,function(r){var i={};function n(_){var x=0,T=0,S=[],v,M,C,L;C=_.match(/((\+|\-)[^\+\-]+)/g),L=parseInt(C[0],32);for(var R=1;R<C.length;R+=2)v=parseInt(C[R],32)+x,x=v,M=parseInt(C[R+1],32)+T,T=M,S.push([v/L,M/L]);return S}function s(_){return o(_[0],_[_.length-1])||_.push(_[0]),_}function o(_,x){for(var T=0;T<_.length;T++)if(_[T]!==x[T])return!1;return!0}function a(_){var x={};for(var T in _)_.hasOwnProperty(T)&&(x[T]=_[T]);return x}function l(_){var x=0,T=0,S=_.length,v=_[T],M;for(T;T<S-1;T++)M=_[T+1],x+=(M[0]-v[0])*(M[1]+v[1]),v=M;return x>=0}function c(_){var x=[],T=_.slice(0),S=s(T.shift().slice(0));if(S.length>=4){l(S)||S.reverse(),x.push(S);for(var v=0;v<T.length;v++){var M=s(T[v].slice(0));M.length>=4&&(l(M)&&M.reverse(),x.push(M))}}return x}function f(_){for(var x=[],T=0;T<_.length;T++)for(var S=c(_[T]),v=S.length-1;v>=0;v--){var M=S[v].slice(0);x.push(M)}return x}function d(_,x){var T=r.Tools.arraysIntersectArrays(_,x),S=r.Tools.coordinatesContainPoint(_,x[0]);return!!(!T&&S)}function p(_){for(var x=[],T=[],S,v,M,C=0;C<_.length;C++){var L=s(_[C].slice(0));if(!(L.length<4))if(l(L)){var R=[L.slice().reverse()];x.push(R)}else T.push(L.slice().reverse())}for(var k=[];T.length;){M=T.pop();var G=!1;for(S=x.length-1;S>=0;S--)if(v=x[S][0],d(v,M)){x[S].push(M),G=!0;break}G||k.push(M)}for(;k.length;){M=k.pop();var W=!1;for(S=x.length-1;S>=0;S--)if(v=x[S][0],r.Tools.arraysIntersectArrays(v,M)){x[S].push(M),W=!0;break}W||x.push([M.reverse()])}return x.length===1?{type:"Polygon",coordinates:x[0]}:{type:"MultiPolygon",coordinates:x}}function y(_,x){var T={};return x=x||{},x.idAttribute=x.idAttribute||void 0,_.spatialReference&&(_.spatialReference.wkid===3857||_.spatialReference.wkid===102100)&&(T.crs=r.MercatorCRS),typeof _.x=="number"&&typeof _.y=="number"&&(T.type="Point",T.coordinates=[_.x,_.y],(_.z||_.m)&&T.coordinates.push(_.z),_.m&&T.coordinates.push(_.m)),_.points&&(T.type="MultiPoint",T.coordinates=_.points.slice(0)),_.paths&&(_.paths.length===1?(T.type="LineString",T.coordinates=_.paths[0].slice(0)):(T.type="MultiLineString",T.coordinates=_.paths.slice(0))),_.rings&&(T=p(_.rings.slice(0))),typeof _.xmin=="number"&&typeof _.ymin=="number"&&typeof _.xmax=="number"&&typeof _.ymax=="number"&&(T.type="Polygon",T.coordinates=[[[_.xmax,_.ymax],[_.xmin,_.ymax],[_.xmin,_.ymin],[_.xmax,_.ymin],[_.xmax,_.ymax]]]),(_.compressedGeometry||_.geometry||_.attributes)&&(T.type="Feature",_.compressedGeometry&&(_.geometry={paths:[n(_.compressedGeometry)]}),T.geometry=_.geometry?y(_.geometry):null,T.properties=_.attributes?a(_.attributes):null,_.attributes&&(T.id=_.attributes[x.idAttribute]||_.attributes.OBJECTID||_.attributes.FID)),new r.Primitive(T)}function g(_,x){var T;x=x||{};var S=x.idAttribute||"OBJECTID";x.sr?T={wkid:x.sr}:_&&_.crs&&_.crs.properties.name!="urn:ogc:def:crs:OGC:1.3:CRS84"?T=null:T={wkid:4326};var v={},M;switch(_.type){case"Point":v.x=_.coordinates[0],v.y=_.coordinates[1],_.coordinates[2]&&(v.z=_.coordinates[2]),_.coordinates[3]&&(v.m=_.coordinates[3]),v.spatialReference=T;break;case"MultiPoint":v.points=_.coordinates.slice(0),v.spatialReference=T;break;case"LineString":v.paths=[_.coordinates.slice(0)],v.spatialReference=T;break;case"MultiLineString":v.paths=_.coordinates.slice(0),v.spatialReference=T;break;case"Polygon":v.rings=c(_.coordinates.slice(0)),v.spatialReference=T;break;case"MultiPolygon":v.rings=f(_.coordinates.slice(0)),v.spatialReference=T;break;case"Feature":_.geometry&&(v.geometry=g(_.geometry,x)),v.attributes=_.properties?a(_.properties):{},_.id&&(v.attributes[S]=_.id);break;case"FeatureCollection":for(v=[],M=0;M<_.features.length;M++)v.push(g(_.features[M],x));break;case"GeometryCollection":for(v=[],M=0;M<_.geometries.length;M++)v.push(g(_.geometries[M],x));break}return v}function w(_){return new r.LineString(n(_))}return i.parse=y,i.convert=g,i.toGeoJSON=y,i.fromGeoJSON=g,i.parseCompressedGeometry=w,i})}(Dy)),Dy.exports}var lfe=afe();const cfe=dm(lfe);function _9(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+"]"}).join(",")+"}")}function ufe(e,t){var r=_9(e);return function(i,n){return t(r(i),n,e)}}function hfe(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var n in i)n in t||r.push(t[n]=n)}),r}function rT(e){var t=new RegExp('["'+e+`
]`),r=e.charCodeAt(0);function i(c,f){var d,p,y=n(c,function(g,w){if(d)return d(g,w-1);p=g,d=f?ufe(g,f):_9(g)});return y.columns=p,y}function n(c,f){var d={},p={},y=[],g=c.length,w=0,_=0,x,T;function S(){if(w>=g)return p;if(T)return T=!1,d;var M=w,C;if(c.charCodeAt(M)===34){for(var L=M;L++<g;)if(c.charCodeAt(L)===34){if(c.charCodeAt(L+1)!==34)break;++L}return w=L+2,C=c.charCodeAt(L+1),C===13?(T=!0,c.charCodeAt(L+2)===10&&++w):C===10&&(T=!0),c.slice(M+1,L).replace(/""/g,'"')}for(;w<g;){var R=1;if(C=c.charCodeAt(w++),C===10)T=!0;else if(C===13)T=!0,c.charCodeAt(w)===10&&(++w,++R);else if(C!==r)continue;return c.slice(M,w-R)}return c.slice(M)}for(;(x=S())!==p;){for(var v=[];x!==d&&x!==p;)v.push(x),x=S();f&&(v=f(v,_++))==null||y.push(v)}return y}function s(c,f){return f==null&&(f=hfe(c)),[f.map(l).join(e)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:n,format:s,formatRows:o}}var Fv=rT(","),ffe=Fv.parse,dfe=Fv.parseRows,pfe=Fv.format,mfe=Fv.formatRows,Uv=rT("	"),yfe=Uv.parse,gfe=Uv.parseRows,vfe=Uv.format,bfe=Uv.formatRows;const _fe=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:pfe,csvFormatRows:mfe,csvParse:ffe,csvParseRows:dfe,dsvFormat:rT,tsvFormat:vfe,tsvFormatRows:bfe,tsvParse:yfe,tsvParseRows:gfe},Symbol.toStringTag,{value:"Module"})),wfe=JW(_fe);var Bl={exports:{}},$O;function Sfe(){if($O)return Bl.exports;$O=1,Bl.exports=e,Bl.exports.pair=s,Bl.exports.format=r,Bl.exports.formatPair=t,Bl.exports.coordToDMS=i;function e(a,l){var c=n(a,l);return c===null?null:c.val}function t(a){return r(a.lat,"lat")+" "+r(a.lon,"lon")}function r(a,l){var c=i(a,l);return c.whole+" "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,g=y*60,w=Math.floor(g),_=Math.floor((g-w)*60);return{whole:p,minutes:w,seconds:_,dir:f}}function n(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,g=f[3]?parseFloat(f[3])/60:0,w=f[4]?parseFloat(f[4])/3600:0,_=y<0?-1:1;return(p==="S"||p==="W")&&(_*=-1),{val:(Math.abs(y)+g+w)*_,dim:p,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=n(a,l);if(!c)return null;a=c.remain.trim();var f=n(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Bl.exports}var n_,NO;function xfe(){if(NO)return n_;NO=1;var e=wfe,t=Sfe(),r=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function n(_,x){var T,S,v;for(var M in _)S=M.match(x),S&&(!T||S[0].length/M.length>v)&&(v=S[0].length/M.length,T=M);return T}function s(_){return n(_,r)}function o(_){return n(_,i)}function a(_){return!!_.match(r)}function l(_){return!!_.match(i)}function c(_){return typeof _=="object"?Object.keys(_).length:0}function f(_){var x=[",",";","	","|"],T=[];return x.forEach(function(S){var v=e.dsvFormat(S).parse(_);if(v.length>=1){for(var M=c(v[0]),C=0;C<v.length;C++)if(c(v[C])!==M)return;T.push({delimiter:S,arity:Object.keys(v[0]).length})}}),T.length?T.sort(function(S,v){return v.arity-S.arity})[0].delimiter:null}function d(_){return delete _.columns,_}function p(_){var x=f(_);return x?d(e.dsvFormat(x).parse(_)):null}function y(_,x,T){T||(T=x,x={}),x.delimiter=x.delimiter||",";var S=x.latfield||"",v=x.lonfield||"",M=x.crs||"",C=[],L={type:"FeatureCollection",features:C};if(M!==""&&(L.crs={type:"name",properties:{name:M}}),x.delimiter==="auto"&&typeof _=="string"&&(x.delimiter=f(_),!x.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var R=x.numericFields?x.numericFields.split(","):null,k=typeof _=="string"?e.dsvFormat(x.delimiter).parse(_,function(N){if(R)for(var q in N)R.includes(q)&&(N[q]=+N[q]);return N}):_;if(!k.length){T(null,L);return}var G=[],W;S||(S=s(k[0])),v||(v=o(k[0]));var V=!S||!v;if(V){for(W=0;W<k.length;W++)C.push({type:"Feature",properties:k[W],geometry:null});T(G.length?G:null,L);return}for(W=0;W<k.length;W++)if(k[W][v]!==void 0&&k[W][S]!==void 0){var z=k[W][v],ee=k[W][S],u,m,E;E=t(z,"EW"),E&&(z=E),E=t(ee,"NS"),E&&(ee=E),u=parseFloat(z),m=parseFloat(ee),isNaN(u)||isNaN(m)?G.push({message:"A row contained an invalid value for latitude or longitude",row:k[W],index:W}):(x.includeLatLon||(delete k[W][v],delete k[W][S]),C.push({type:"Feature",properties:k[W],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}T(G.length?G:null,L)}function g(_){for(var x=_.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},S=0;S<x.length;S++)T.geometry.coordinates.push(x[S].geometry.coordinates);return T.properties=x.reduce(function(v,M){for(var C in M.properties)v[C]||(v[C]=[]),v[C].push(M.properties[C]);return v},{}),{type:"FeatureCollection",features:[T]}}function w(_){for(var x=_.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},S=0;S<x.length;S++)T.geometry.coordinates[0].push(x[S].geometry.coordinates);return T.properties=x.reduce(function(v,M){for(var C in M.properties)v[C]||(v[C]=[]),v[C].push(M.properties[C]);return v},{}),{type:"FeatureCollection",features:[T]}}return n_={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:g,toPolygon:w},n_}var s_=xfe();const Efe={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function Tfe(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,r=!0;for(let i=0;i<e.features.length;i++){const n=e.features[i];Object.assign(n.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in n&&typeof n.id<"u"&&(n.properties.ID_FILE=n.id,t=!1),"OBJECTID"in n.properties&&(n.properties.OBJECTID_FILE=n.properties.OBJECTID,delete n.properties.OBJECTID,r=!1),n.id=i+1}if(t)for(let i=0;i<e.features.length;i++)delete e.features[i].properties.ID_FILE;if(r)for(let i=0;i<e.features.length;i++)delete e.features[i].properties.OBJECTID_FILE}function Afe(e,t){const r=i=>i.indexOf(" ")>-1;t.fields?.forEach(i=>{if(i.name&&r(i.name)){const n=i.name;let s,o="_",a;do s=n.replace(/ /g,o),a=t.fields?.find(l=>l.name===s),a&&(o+="_");while(a);i.alias=n,i.name=s;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[s]=c.properties[n],delete c.properties[n]}}})}function Mfe(e,t){const r=e.features[t].geometry.geometries;if(r.length===1)e.features[t].geometry={type:r[0].type,coordinates:r[0].coordinates};else{const i=r.map(n=>n.coordinates);e.features[t].geometry={type:`Multi${r[0].type}`,coordinates:i}}}function Ife(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class Ofe extends Pr{async fetchFileData(t,r){const i=await Rv.get(t,{responseType:"arrayBuffer"});switch(r){case ke.GEOJSON:case ke.DATAJSON:return JSON.parse(this.arbToStr(i.data));case ke.SHAPEFILE:case ke.GEOJSONZIPPED:case ke.FLATGEOBUF:case ke.FLATGEOBUFZIPPED:return i.data;case ke.CSV:case ke.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${r}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let r="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");Mfe(t,o)}const c=Ife(a.geometry.type);if(r==="")r=c;else if(r!==c)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let n=0;const s=Object.keys(t.features[0].properties);for(;n<t.features.length;){const o=t.features[n];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(f=>f.name===a);i[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;n++}return i}extractCsvFields(t,r=","){return s_.dsv.dsvFormat(r).parseRows(t)[0].map(n=>({name:n,type:Uo.STRING}))}filterCsvLatLonFields(t,r=","){const i=s_.dsv.dsvFormat(r).parseRows(t),n=i[0],s={lat:JSON.parse(JSON.stringify(n)),lon:JSON.parse(JSON.stringify(n))};for(let o=0;o<n.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=s.lat.indexOf(n[o]),f=s.lon.indexOf(n[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&s.lon.splice(f,1),c===-1&&f===-1)break}return s}async geoJsonToEsriJson(t,r){let i,n="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Uo.OID}]};Tfe(t);const a=t.features[0].geometry.type,l=Efe[a],c=JSON.parse(JSON.stringify(sfe[l]));if(r){if(r.sourceProjection&&(n=this.$iApi.geo.proj.normalizeProj(r.sourceProjection)),r.targetSR)i=r.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");r.layerId?s=r.layerId:s=this.$iApi.geo.shared.generateUUID(),r.colour&&(c.renderer.symbol.color=new Qo(r.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");n||(n=Be.parseGeoJsonCrs(t.crs)),o.renderer=await Gt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(r.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(w=>r.fieldMetadata?.fieldInfo?.find(_=>_.name===w.name)):this.extractGeoJsonFields(t)),r.fieldMetadata?.enforceOrder&&r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,r.fieldMetadata?.fieldInfo)),Afe(t,o);const f=this.$iApi.geo.proj.normalizeProj(i);if(r){if(r.latField){const w=o.fields.find(_=>_.name===r.latField||_.alias===r.latField);w&&(w.type=Uo.DOUBLE)}if(r.lonField){const w=o.fields.find(_=>_.name===r.lonField||_.alias===r.lonField);w&&(w.type=Uo.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([n,i]);const d=Be.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,n,f);const p=cfe.convert(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(w=>w.name);for(let w=0;w<p.length;w++){const _=p[w];_.geometry.spatialReference=d,_.geometry.type=o.geometryType,Object.keys(_.attributes).forEach(x=>{y.includes(x)?(Array.isArray(_.attributes[x])||typeof _.attributes[x]=="object")&&_.attributes[x]!=null&&(_.attributes[x]=JSON.stringify(_.attributes[x])):delete _.attributes[x]})}return(r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0?r.fieldMetadata.fieldInfo.filter(w=>w.trim&&y.includes(w.name)).map(w=>w.name):[]).forEach(w=>{for(let _=0;_<p.length;_++){const x=p[_].attributes;typeof x[w]=="string"&&(x[w]=x[w].trim())}}),o.source=p,o.spatialReference=d,o.id=s,o}async csvToGeoJson(t,r){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return r&&(r.latfield&&(i.latfield=r.latfield),r.lonfield&&(i.lonfield=r.lonfield),r.delimiter&&(i.delimiter=r.delimiter)),new Promise((n,s)=>{s_.csv2geojson(t,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),n(a))})})}async shapefileToGeoJson(t){return(await we(()=>import("./shp.min-Csyc3qLL.js").then(i=>i.s),__vite__mapDeps([190,191]),import.meta.url)).default(t)}fgbToGeoJson(t,r){return we(async()=>{const{geojson:n}=await import("./flatgeobuf-Xmj1HQyn.js");return{geojson:n}},[],import.meta.url).then(({geojson:n})=>new Promise(s=>{let o=!1,a=null;const l=n.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Be(a.code):a.wkt?d=new Be(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),s(l)}else c+=60,c>r&&(clearInterval(f),s({}))},60)}))}inferType(t){return typeof t=="number"?Uo.DOUBLE:Uo.STRING}rawDataJsonParser(t,r=!1){let i;return typeof t=="string"?i=JSON.parse(t):r?i=structuredClone(t):i=t,i}async unzipSingleFile(t){const r=await we(()=>import("./jszip.min-elaiu8ST.js").then(o=>o.j),__vite__mapDeps([192,191]),import.meta.url),n=await new r.default().loadAsync(t),s=Object.keys(n.files)[0];if(s&&n.file(s))return await n.file(s).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const Cfe=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function Zc(e,t){return e.then(function(r){return[null,r]}).catch(function(r){return[r,void 0]})}class $fe extends Pr{async loadWfsData(t,r=-1,i=0,n=1e3,s={type:"FeatureCollection",features:[]},o=!1){let a={offset:i.toString(),limit:n.toString()};r===-1&&(a={resulttype:"hits"});const c=new mg(t).updateQuery(a),[f,d]=await Zc(Rv.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,f),Promise.reject(f);const p=d.data;if(r===-1)return r=d.data.numberMatched,this.loadWfsData(t,r,i,n,s,o);if(s.features=s.features.concat(p.features),p.features.length<r-i){const y=Math.min(n,r-i-p.features.length);return this.loadWfsData(c,r,p.features.length+i,y,s,o)}else return o&&s.features.length>0&&s.features[0].geometry.type===hr.POINT&&s.features.forEach(y=>{const g=y.geometry.coordinates;y.properties.rvInternalCoordX=g[0],y.properties.rvInternalCoordY=g[1]}),s}reversedAxisWKIDs(){return Cfe}parseCapabilities(t){const r=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new mg(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return wr(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{r().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(r())})}),n=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{const w=g.Name;if(p.push(w),g.LegendURL){const x=g.LegendURL.OnlineResource["@_xlink:href"];y[w]=x.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:n(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return we(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:n(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class Jp{static makeRawItem(t,r){const i=Promise.resolve();return ei({format:t,data:r,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(t,r){const i=new $r,n={format:ah.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const s=await r.getGraphic(t,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return ei(n)}}class Nfe extends Pr{files;ogc;constructor(t){super(t),this.files=new Ofe(t),this.ogc=new $fe(t)}createLayer(t){let r;switch(t.layerType){case ke.FEATURE:r=Gfe;break;case ke.MAPIMAGE:r=Bfe;break;case ke.GRAPHIC:r=Lfe;break;case ke.TILE:r=Wfe;break;case ke.WFS:r=Yfe;break;case ke.DATATABLE:r=Kfe;break;case ke.WMS:r=Hfe;break;case ke.GEOJSON:r=kfe;break;case ke.GEOJSONZIPPED:r=Ffe;break;case ke.FLATGEOBUFZIPPED:r=jfe;break;case ke.CSV:r=Dfe;break;case ke.DATAJSON:r=Jfe;break;case ke.IMAGERY:r=qfe;break;case ke.SHAPEFILE:r=Rfe;break;case ke.FLATGEOBUF:r=Ufe;break;case ke.OSM:r=zfe;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new r(t,this.$iApi)}getLayer(t){return Zs(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,r){const i=Zs(this.$vApp.$pinia).getLayerById(t);if(i&&i.supportsSublayers&&r<i.sublayers.length)return i.sublayers[r]}getLayerPosition(t){const r=this.getLayer(t);if(r&&r.mapLayer){const i=r.isSublayer?r.parentLayer.id:r.id,n=this.layerOrderIds().findIndex(s=>s===i);return n===-1?void 0:n}else return}layerOrderIds(){return Zs(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return Zs(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==dr.ERROR&&t.initiationState===er.INITIATED)}allLayersOnMap(t=!0){const r=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===er.INITIATED);if(t){const i=this.layerOrderIds(),n=new Map(i.map((s,o)=>[s,o]));r.sort((s,o)=>n.get(s.id)-n.get(o.id))}return r}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===er.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===dr.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===er.INITIATING)}getLayerControls(t){const r=this.getLayer(t);if(!r)return;const i=r.config.controls?.slice()??[yr.BoundaryZoom,yr.Datatable,yr.Identify,yr.Metadata,yr.Opacity,yr.Refresh,yr.Reload,yr.Remove,yr.Settings,yr.Symbology,yr.Visibility],n=[];return r.supportsFeatures||n.push(yr.Datatable),r.extent===void 0&&n.push(yr.BoundaryZoom),(r.config?.metadata||(r.isSublayer?r.parentLayer?.config?.metadata:{})||{}).url||n.push(yr.Metadata),!r.mapLayer&&!r.config.controls?.includes(yr.Settings)&&n.push(yr.Settings),n.forEach(o=>{const a=i?.indexOf(o)??-1;a!==-1&&i?.splice(a,1)}),{controls:i,disabledControls:r.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[r,i]=await Zc(wr(t,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${t}`,r),new Error(`Service metadata load error: ${t}`);if(!i.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const n=i.data,s={geometryType:Ze.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:ni.UNKNOWN,mapLayer:!0};if(s.name=n.name||"",s.currentVersion=n.currentVersion||-1,s.minScale=n.effectiveMinScale||n.minScale||0,s.maxScale=n.effectiveMaxScale||n.maxScale||0,s.extent=n.extent?tr.fromArcServer(n.extent,"layer_extent"):void 0,s.defaultVisibility=n.defaultVisibility??!0,s.canModifyLayer=n.canModifyLayer??!0,n.type==="Feature Layer"||n.type==="Table"){if(s.dataFormat=ni.ESRI_FEATURE,s.displayField=n.displayField||"",Array.isArray(n.fields)){const o=await Promise.all(n.fields.map(l=>Gt.FieldFromJson(l)));s.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(s.objectIdField=l.name,!1):!0)&&(s.objectIdField=n.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),n.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(n.geometryType),n.drawingInfo?.renderer&&(s.renderer=await Gt.RendererFromJson(n.drawingInfo.renderer)),n.sourceSpatialReference&&(s.sourceSR=Be.fromConfig(n.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=ni.ESRI_RASTER;return s}async loadFeatureCount(t,r=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:r||"1=1",returnCountOnly:!0,returnGeometry:!1}},[n,s]=await Zc(wr(`${t}/query`,i));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,n),0)}}class iT extends Pr{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,r){super(r),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=dr.NEW,this.drawState=Ji.NOT_LOADED,this.initiationState=er.NEW,this.layerIdx=-1,this.layerFormat=wn.UNKNOWN,this.layerType=ke.UNKNOWN,this.dataFormat=ni.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Fr.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ze.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new pg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Be.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new jN}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,r){return Promise.resolve(new vs(new gl))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,r){}applySqlFilter(t=[]){}getFilterOIDs(t=[],r=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(tr.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,r=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const r=this._sublayers.findIndex(i=>i?.uid===t);if(r===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return r}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let r;if(typeof t=="string"?r=this.uidToIdx(t):r=t,this._sublayers[r]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[r]}controlAvailable(t){const r=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,r)}}class w9 extends iT{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;constructor(t,r){super(t,r),this.name=t.name||"",this.geomType=Ze.NONE,this.dataFormat=ni.UNKNOWN,this.layerType=ke.UNKNOWN,this.layerFormat=wn.UNKNOWN;const i=r.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??i.draw,this.expectedTime.load=t.expectedLoadTime??i.load,this.expectedTime.fail=t.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Fr.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=dr.NEW,this.initiationState=er.NEW,this.drawState=Ji.NOT_LOADED,this.loadDefProm=new $r,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.layerTree=new pg(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit(Ne.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,r=!1){this.layerState=t,this.$iApi.event.emit(Ne.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:r})}updateDrawState(t){this.drawState=t,t===Ji.REFRESH?this.startTimer("draw"):t===Ji.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Ne.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(er.INITIATING),this.startTimer("load");const t=s=>{this.layerState!==dr.ERROR&&(console.error(s),this.onError())},r=Date.now(),i=setTimeout(()=>{r>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[n]=await Zc(this.onInitiate());clearTimeout(i),r>this.lastCancel&&(this.drawState!==Ji.UP_TO_DATE&&this.startTimer("draw"),n?t(`Init error on layer id: ${this.id} . ${n.message}`):this.updateInitiationState(er.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===er.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(er.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new $r,this.loadPromDone=!1,this.updateLayerState(dr.NEW),this.updateDrawState(Ji.NOT_LOADED),this.updateInitiationState(er.TERMINATED)}onLoad(){const t=Date.now();let r=!1;const i=setTimeout(()=>{r=!0,this.onError()},this.expectedTime.fail);try{const n=this.onLoadActions();Promise.all(n).then(()=>{clearTimeout(i),r?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new $r),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(dr.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(n){console.error("Encountered error on layer load: ",n),clearTimeout(i),this.onError()}}onError(t=!0){this.layerState!==dr.ERROR&&(this.initiationState===er.INITIATING&&this.updateInitiationState(er.NEW),this.loadPromDone&&(this.loadDefProm=new $r),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(r=>r.onError(t)),t&&this.$iApi.notify.show(yn.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(dr.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===er.NEW||this.initiationState===er.TERMINATING||this.initiationState===er.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===dr.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,r){return this.stubError(),Promise.resolve(new vs(new gl))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,r){this.stubError()}getFilterOIDs(t=[],r=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(tr.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,r,i=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(yn.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}}class du extends w9{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,r){super(t,r),this._scaleSet=new jN,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?tr.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new $r,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(this.esriLayer.watch("visible",t=>{this.$iApi.event.emit(Ne.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(this.esriLayer.watch("opacity",t=>{this.$iApi.event.emit(Ne.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(this.esriLayer.watch("loadStatus",t=>{const r={"not-loaded":dr.LOADING,loading:dr.LOADING,loaded:dr.LOADED,failed:dr.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(r[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=t.layerView,this.esriWatches.push(t.layerView.watch("updating",r=>{this.updateDrawState(r?Ji.REFRESH:Ji.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new $r,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit(Ne.LAYER_RELOAD_START,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ne.LAYER_RELOAD_START,r)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Ne.LAYER_RELOAD_END,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ne.LAYER_RELOAD_END,r))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(r=>r.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const r=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return t.push(r),t}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let r;if(typeof t>"u")if(this.mapCheck())r=this.$iApi.geo.map.getScale();else return!1;else r=t;return this.scaleSet.isOffScale(r).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===er.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Be.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Be.latLongSR())}}class nT extends du{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.geomType=Ze.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new GN(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new x9}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const r=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(r<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new T9(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===ni.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===ke.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const n=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(n,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Pi.PERMANENT)};this.attribs.attLoader=new E9(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,r){let i={},n=new gl;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(r.getAttribs||r.getStyle){const f=this.attribs.quickCache.getAttribs(t);if(f)i=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[t]]}else o=!0}if(r.getGeom){l=s.getScale();const f=this.attribs.quickCache.getGeom(t,l);f?n=f:a=!0}if(o||a){const f={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),n=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(i=d.attributes))}const c=new vs(n,"",r.getAttribs?i:void 0);if(r.getStyle){const f=qe(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const r=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(r.attributes||{},this.renderer)}setSqlFilter(t,r){const i=this.filter.getSql(t);if(r===i)return;this.filter.setSql(t,r),this.$iApi.event.emit(Ne.FILTER_CHANGE,{uid:this.uid,filterKey:t});const n=`${this.uid}-${t}-${r}`;this._lastFilterUpdate=n,setTimeout(()=>{this._lastFilterUpdate===n&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],r=void 0){const i=this.filter.getCombinedSql(t),n=!!r;if(!(i||n))return;r&&this.filter.setExtent(r);const s=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(s,n);if(!o){const a={filterGeometry:r,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,n)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const r={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(t){const r=await this.queryOIDs(t),i={getGeom:!!t.includeGeometry,getAttribs:!0};return r.map(n=>({oid:n,graphic:this.getGraphic(n,i)}))}async queryFeatures(t){const r=await this.queryFeaturesDiscrete(t);return Promise.all(r.map(i=>i.graphic))}configDrawOrder(t,r){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(r.orderBy=t.drawOrder.map(i=>{const n=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:n}:{valueExpression:i.arcade,order:n}}),this._drawOrder=t.drawOrder.slice())}}class Pfe extends du{constructor(t,r){super(t,r),this.dataFormat=ni.ESRI_FEATURE,this.layerFormat=wn.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(r=>r.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(r=>r.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let r;t instanceof Array?r=t:r=[t];const i=r.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),n=this.$iApi.geo.map.getSR(),s=i.map(l=>this.$iApi.geo.proj.projectGeometry(n,l.geometry)),o=await Promise.all(s),a=i.map((l,c)=>{const f=new vs(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let r;Array.isArray(t)?r=t:r=[t],r.map(n=>typeof n=="string"?n:n.id).forEach(n=>{const s=this.esriLayer.graphics.findIndex(a=>a.id===n);s>-1&&this.esriLayer.graphics.removeAt(s);const o=this._graphics.findIndex(a=>a.id===n);o>-1&&this._graphics.splice(o,1)})}}class Lfe extends Pfe{constructor(t,r){super(t,r),this.layerType=ke.GRAPHIC}async onInitiate(){this.esriLayer=xr(await Gt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(Ji.UP_TO_DATE),t}}class pu extends nT{esriJson;sourceGeoJson;tooltipField;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=ni.ESRI_FEATURE,this.layerFormat=wn.FEATURE,this.tooltipField="",this.layerIdx=0,t.identifyMode&&t.identifyMode!==Fr.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Fr.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=xr(await Gt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(s=>{r[s]=this.esriJson[s]}),this.origRampConfig.nameField?r.displayField=this.$iApi.geo.attributes.fieldValidator(r.fields,this.origRampConfig.nameField)||i:r.displayField=i,r.outFields=["*"],delete r.url,this.configDrawOrder(t,r),r}onLoadActions(){const t=super.onLoadActions(),r=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Gt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.origRampConfig.tooltipField?this.tooltipField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField)||this.nameField:this.tooltipField=this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.featureCount=this.esriLayer?.source.length||0};return t.push(r()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const r=new $r,i=ei({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let n=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===Fr.HYBRID||this.identifyMode===Fr.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Fr.HYBRID||this.identifyMode===Fr.SYMBOLIC)&&(n=s.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([n,s]).then(()=>{o.forEach(l=>{i.items.push(Jp.makeRawItem(ah.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(Jp.makeOidItem(l,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??tr.fromESRI(t.fullExtent,this.id+"_extent");const r=xr(t.fields.slice());this.fields=r.map(n=>({name:n.name,alias:n.alias,type:n.type,length:n.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new Xfe(this.$iApi,i)}async getGraphic(t,r){let i;if(!r.getGeom&&this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=new vs(new gl,"",n.features[n.oidIndex[t]])}else{const n={filterOIDs:[t],includeGeometry:!!r.getGeom},s=await this.queryFeatures(n);if(s.length===0)throw new Error(`Could not find object id ${t}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=s[0]}if(r.getStyle){const n=qe(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(n)}return i}async queryFeatures(t){const r={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(r)}async queryOIDs(t){const r={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(r)).map(n=>n.attributes?n.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const r=this.filter.getCombinedSql(t);Gt.FeatureFilter({where:r}).then(i=>{qe(this.esriView).filter=i})}}class kfe extends pu{constructor(t,r){super(t,r),this.layerType=ke.GEOJSON}async onInitiate(){let t;const r=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");r>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class Rfe extends pu{constructor(t,r){super(t,r),this.layerType=ke.SHAPEFILE}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(r);t>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class Dfe extends pu{constructor(t,r){super(t,r),this.layerType=ke.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const r=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(r>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});r>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class Ffe extends pu{constructor(t,r){super(t,r),this.layerType=ke.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class Ufe extends pu{constructor(t,r){super(t,r),this.layerType=ke.FLATGEOBUF}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class jfe extends pu{constructor(t,r){super(t,r),this.layerType=ke.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);if(t>this.lastCancel){const n=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}}}class Gfe extends nT{tooltipField;constructor(t,r){super(t,r),this.dataFormat=ni.ESRI_FEATURE,this.tooltipField="",this.supportsIdentify=!0,this.layerType=ke.FEATURE,this.layerFormat=wn.FEATURE,t.identifyMode&&t.identifyMode!==Fr.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Fr.HYBRID}async onInitiate(){xr(this.esriLayer=await Gt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(r.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,r),r}onLoadActions(){const t=Date.now(),r=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,s=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=s,this.serviceUrl=i;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await Gt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.nameField=this.origRampConfig.nameField||this.nameField||"",this.tooltipField=this.origRampConfig.tooltipField||this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Pi.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=s,r.push(a,o()),r}runIdentify(t){if(!this.canIdentify())return[];const r=new $r,i=ei({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let n=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===Fr.HYBRID||this.identifyMode===Fr.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Fr.HYBRID||this.identifyMode===Fr.SYMBOLIC)&&(n=s.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([n,s]).then(()=>{o.forEach(a=>{i.items.push(Jp.makeOidItem(a,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}applySqlFilter(t=[]){if(this.layerExists){const r=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=r}else this.noLayerErr()}getGraphicExtent(t){return new Promise((r,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const n=this.attribs.quickCache.getExtent(t);n?r(n):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=tr.fromESRI(s.extent);this.attribs.quickCache.setExtent(t,o),r(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),i()})}})}}class Bfe extends du{isDynamic;origState;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=ke.MAPIMAGE,this.layerFormat=wn.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Fr.GEOMETRIC}async onInitiate(){this.esriLayer=xr(await Gt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t);return this.origState={visibility:r.visible,opacity:r.opacity},r.visible=!1,t.imageFormat&&(r.imageFormat=t.imageFormat),r}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const r=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(yn.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??tr.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},n={};this.origRampConfig.sublayers.forEach(l=>{n[l.index||0]=l});const s=[],o=(l,c)=>{const f=l.id,d=n[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new pg(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[f]||(this._sublayers[f]=new Vfe({id:`${this.id}-${f}`,index:f,layerType:ke.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",s.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new pg(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(l.watch("visible",()=>{this.$iApi.event.emit(Ne.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),l.watch("opacity",y=>{this.$iApi.event.emit(Ne.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=i(l.layerIdx),f=n[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),r<this.lastCancel)return;const d=l.esriSubLayer&&f?.customRenderer?.type;if(d&&(l.esriSubLayer.renderer=await Gt.RendererFromJson(f.customRenderer)),await l.loadLayerMetadata(d?{customRenderer:l.esriSubLayer?.renderer}:{}),r<this.lastCancel)return;const p=n[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,l.nameField=p.nameField||l.nameField||"",this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(yn.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim();const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Pi.PERMANENT));r>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,r=!1){super.updateLayerState(t,r),this.sublayers.forEach(i=>i.updateLayerState(t,r))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(r=>r.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(n=>typeof n=="number"?this.layerTree?.findChildByIdx(n)?.uid:n));const r=t.sublayerIds?this._sublayers.filter(n=>t.sublayerIds?.includes(n.uid)):this._sublayers.filter(n=>n.canIdentify());if(r.length===0)return[];let i;return t.geometry.type===Ze.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),r.map(n=>{const s=new $r,o={},a=ei({items:[],loading:s.getPromise(),loaded:!1,errored:!1,uid:n.uid,layerId:n.id,requestTime:Date.now()});return n.geomType!==Ze.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=t.geometry,o.filterSql=n.getCombinedSqlFilter(),o.sourceSR=n.sourceSR,n.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(Jp.makeOidItem(c,n))}),a.loaded=!0,s.resolveMe()}).catch(()=>{a.errored=!0,s.resolveMe()}),a})}}class Vfe extends nT{tooltipField;constructor(t,r,i){if(super(t,r),this.layerType=ke.SUBLAYER,this.layerFormat=wn.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=i,this.dataFormat=ni.ESRI_FEATURE,this.supportsFeatures=!0,this.tooltipField="",this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=xr(t.esriLayer.allSublayers.find(r=>r.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=er.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===er.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const r=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=r}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?Be.fromESRI(t):Be.latLongSR()}else return this.noLayerErr(),Be.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class zfe extends du{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=ke.OSM,this.layerFormat=wn.OSM,this.dataFormat=ni.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=xr(await Gt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:r.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),t}}class qfe extends du{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=ke.IMAGERY,this.layerFormat=wn.IMAGERY,this.dataFormat=ni.ESRI_RASTER}async onInitiate(){this.esriLayer=xr(await Gt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(n=>{r>this.lastCancel&&(this.legend=n)});return t.push(i),t}}class Wfe extends du{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=ke.TILE,this.layerFormat=wn.TILE,this.dataFormat=ni.ESRI_TILE}async onInitiate(){this.esriLayer=xr(await Gt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),r=Date.now();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(n=>{r>this.lastCancel&&(this.legend=n)});return t.push(i),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),i=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===dr.LOADED&&!i)this.$iApi.notify.show(yn.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===dr.ERROR&&i)this.reload();else if(this.layerState!==dr.ERROR&&!i)return this.$iApi.notify.show(yn.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class Hfe extends du{sublayerNames;mimeType;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.layerType=ke.WMS,this.layerFormat=wn.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=ni.OGC_RASTER,this.identifyMode=Fr.GEOMETRIC}async onInitiate(){this.esriLayer=xr(await Gt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t),i=t.sublayers;this.sublayerNames=i.map(s=>s.id||"error_no_wms_id");const n=i.map(s=>s.currentStyle).join();return r.customParameters={styles:n},t.url.indexOf("/geomet")!==-1&&(r.customParameters.layers=i[0].id),r}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=i=>{let n=!1;return i.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&r(s.sublayers)?n=!0:s.visible=!1}),n};return this.layerExists?r(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ze.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const r=new $r,i=ei({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(n=>{if(n){let s=!0,o;typeof n!="string"?o=ah.JSON:n.indexOf("Search returned no results")===-1&&n!==""?o=ah.TEXT:(s=!1,o=ah.UNKNOWN),s&&i.items.push(Jp.makeRawItem(o,n))}i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}setCustomParameter(t,r,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=r,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,r,i){const n=this.$iApi.geo.map,s=this.esriLayer;if(!n.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=n.getExtent(),c=s.spatialReferences,f=t.join(","),d=n.esriView.toScreen(r.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),w={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",_=n.getSR();_.wkid?o=_.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(_.latestWkid&&c.indexOf(_.latestWkid)>-1?o=_.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const x={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:n.getPixelWidth(),HEIGHT:n.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:i},T=s.customLayerParameters;return T&&Object.keys(T).forEach(S=>{S.toLowerCase()!=="styles"&&(x[S]=T[S])}),Object.keys(x).forEach(S=>a[S]=x[S]),wr(s.url.split("?")[0],{query:a,responseType:w})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const r=new Map;this.esriLayer.allSublayers.forEach(n=>{n.visible&&(n.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===n.name){const o=new mg(n.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(n.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),r.set(n.name,n.legendUrl))});const i=t.map(n=>n.styleLegends&&n.currentStyle?n.styleLegends.find(s=>s.name===n.currentStyle).url:void 0);return i.forEach((n,s)=>{n||(i[s]=r.get(t[s].id))}),i}getWMSLayerTitle(t){if(!this.esriLayer)return"";let r;return this.esriLayer.allSublayers.some(i=>{if(i.name===t)return r=i.title,!0}),r||""}loadSymbology(){const t=Date.now(),r=this.config.sublayers,i=this.getLegendUrls(r.map(n=>({id:n.id,styleLegends:n.styleLegends,currentStyle:n.currentStyle}))).map((n,s)=>{const o=r[s].name||this.getWMSLayerTitle(r[s].id)||r[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(n).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class Yfe extends pu{constructor(t,r){super(t,r),this.layerType=ke.WFS}async onInitiate(){const t=Date.now(),r=new mg(this.config.url),{offset:i,limit:n}=r.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(n)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class S9 extends w9{sourceJson;attribs;_visibility;constructor(t,r){super(t,r),this.dataFormat=ni.ESRI_FEATURE,this.layerFormat=wn.NOLAYER,this.drawState=Ji.NOT_VISUAL,this.attribs=new x9,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const r=t.fields.slice(),i=t.data[0].slice(),n=/ /gi;this.fields=r.map((o,a)=>{let l="",c=o;o.indexOf(" ")>-1&&(l=o,c=o.trim().replace(n,"-"),t.fields[a]=c);const f=this.$iApi.geo.layer.files.inferType(i[a]);return{name:c,alias:l,type:f,length:f===Uo.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Uo.OID}),t.fields.push(this.oidField),t.data.forEach((o,a)=>o.push(a+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Qfe(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length,this.origRampConfig.nameField?this.nameField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.nameField)||this.oidField:this.nameField=this.oidField,this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Ne.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==dr.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Ne.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(r=>{this.legend[0].svgcode=r})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,r){let i={};if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=n.features[n.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new vs(new gl,"",i)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],r=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit(Ne.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class Jfe extends S9{constructor(t,r){super(t,r),this.layerType=ke.DATAJSON}async onInitiate(){const t=Date.now();let r;if(this.origRampConfig.rawData)r=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)r=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=r,await super.onInitiate())}}class Kfe extends S9{filter;serviceUrl;constructor(t,r){super(t,r),this.layerType=ke.DATATABLE,this.serviceUrl=t.url,this.filter=new GN(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),r=Date.now(),n=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,s=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(r<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.nameField=this.origRampConfig.nameField||a.displayField||this.oidField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Pi.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new E9(this.$iApi,l),this.attribs.quickCache=new T9(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Pi.PERMANENT)).then(a=>{r>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=n,t.push(s,o),t}async getGraphic(t){let r={};const i=this.attribs.quickCache.getAttribs(t);if(i)r=i;else if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=s.features[s.oidIndex[t]]}else{const s={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(s);this.attribs.quickCache.setAttribs(t,o.attributes),r=o.attributes}return new vs(new gl,"",r)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,r){const i=this.filter.getSql(t);r!==i&&(this.filter.setSql(t,r),this.$iApi.event.emit(Ne.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const r=this.filter.getCombinedSql(t);if(!r)return;const i=this.filter.sqlActiveFilters(t);let n=this.filter.getCache(i,!1);if(!n){const s={filterSql:r,includeGeometry:!1};n=this.queryOIDs(s),this.filter.setCache(n,i,!1)}return n}queryOIDs(t){const r={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(i=>({oid:i,graphic:this.getGraphic(i)}))}async queryFeatures(t){const r=await this.queryFeaturesDiscrete(t);return Promise.all(r.map(i=>i.graphic))}}class Zfe extends Pr{oidIndexer(t,r){t.features.forEach((i,n)=>{t.oidIndex[i[r]]=n})}async arcGisBatchLoad(t,r){if(r.loadAbortFlag)return[];const i=t.permanentFilter?` AND ${t.permanentFilter}`:"",n={query:{where:`${t.oidField}>${t.maxId}${i}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[s,o]=await Zc(wr(t.serviceUrl+"/query",n));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){r.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const f=await this.arcGisBatchLoad(t,r);return r.loadAbortFlag?[]:a.concat(f)}else return r.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,r){t.maxId=-1,t.batchSize=-1;const n={features:(await this.arcGisBatchLoad(t,r)).map(s=>s.attributes),oidIndex:{}};return this.oidIndexer(n,t.oidField),r.loadIsDone=!0,n}async loadGraphicsAttributes(t,r){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const n={features:t.sourceGraphics.map(s=>qe(s).attributes).toArray(),oidIndex:{}};return this.oidIndexer(n,t.oidField),r.loadIsDone=!0,r.loadedCount=n.features.length,n}async loadCompactJsonAttributes(t,r){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=t.sourceDataJson.fields,n=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[i[f]]=typeof c=="string"&&n.includes(i[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),r.loadIsDone=!0,r.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const r={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(r.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(r.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(r.query.geometryPrecision=t.geometryPrecision);const[i,n]=await Zc(wr(t.serviceUrl+"/query",r));if(!n)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!n.data||!n.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const s=n.data.features;if(s.length>0){let o;const a=this.trimFeatureSetAttributes([s[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=n.data.spatialReference;const l=rx(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new gl;return new vs(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,r){return r.forEach(i=>{t.forEach(n=>{typeof n.attributes[i]=="string"&&(n.attributes[i]=n.attributes[i].trim())})}),t}orderFields(t,r){const i=(s,o)=>s.findIndex(a=>a.name===o),n=(s,o)=>{const a=i(r,s.name),l=i(r,o.name);return a===-1&&l===-1?i(t,s.name)-i(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(n)}applyFieldMetadata(t,r=void 0){if(!r||!r.fieldInfo){t.fieldList="*";return}const i=r.fieldInfo.filter(n=>n.trim).map(n=>n.name);if(t.fields.forEach(n=>{i.includes(n.name)&&(n.trim=!0)}),r?.enforceOrder&&r?.fieldInfo&&r?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,r.fieldInfo),t.fieldList=r.fieldInfo.map(n=>n.name).join(",")),r.exclusiveFields){r.fieldInfo.find(s=>s.name===t.oidField)||r.fieldInfo.push({name:t.oidField}),t.fieldList=r.fieldInfo.map(s=>s.name).join(",");const n=r.fieldInfo;t.fields=t.fields.filter(s=>n.find(o=>o.name===s.name))}else t.fieldList="*";r.fieldInfo.forEach(n=>{if(n.alias){const s=t.fields.find(o=>o.name===n.name);s&&(s.alias=n.alias)}})}fieldValidator(t,r){if(t.findIndex(i=>i.name===r)===-1){const i=t.find(n=>n.alias===r);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${r}`),"")}else return r}async generateTabularAttributes(t,r){return r.attLoader.tabularAttributesCache||(r.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,r)),r.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,r){if(t.dataFormat===ni.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await r.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const n=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],qe(o).name)).map(o=>({data:qe(o).name,title:qe(o).alias||qe(o).name})),s=i.features.map(o=>{const a=BN({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return n.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:n,rows:s,fields:t.fields,oidField:t.oidField}}}class x9{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class PO{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class sT extends Pr{aac;loadPromise;details;tabularAttributesCache;constructor(t,r){super(t),this.aac=new PO,this.details=r}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new PO,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class E9 extends sT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class Xfe extends sT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class Qfe extends sT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class T9{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ze.POINT||t===Ze.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,r){this.attribs[t]=r}getGeom(t,r=void 0){return this.getGeomStore(r)[t]}setGeom(t,r,i=void 0){const n=this.getGeomStore(i);n[t]=r}getExtent(t){return this.extents[t]}setExtent(t,r){this.extents[t]=r}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class oT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,r,i=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=i,this.type=v1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const r=this.makeSearchParams(t),i=this.symbolUnits.find(s=>s.match(r));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${r}`);const n=new jv(this);return n.svgCode="",n}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,r){let i="'";if(!r||r.length===0)return i;const n=r.find(s=>s.name===t);return n&&n.type&&n.type!=="string"&&(i=""),i}cleanFieldName(t,r){if(!t)return t;let i=r.find(n=>n.name===t);if(i)return t;{const n=t.toLowerCase();return i=r.find(s=>s.name.toLowerCase()===n),i?i.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(r=>r.definitionClause).join(" OR ")}))`}}class jv{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new fo}match(t){return!!t}}class ede extends oT{constructor(t,r){super(t,r),this.type=v1.Simple;const i=new jv(this);i.label=t.label||"",i.symbol=t.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class tde extends oT{delim;keyFields;constructor(t,r,i=!1){super(t,r,i),this.type=v1.Unique,this.delim=t.fieldDelimiter||", ";const n=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,r));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,r));if(t.uniqueValueInfos.forEach(o=>{const a=new LO(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${s[d]}${n(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new LO(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(r=>{let i=t[r]===null?"":t[r];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class LO extends jv{matchValue;constructor(t,r){super(t),typeof r=="number"?this.matchValue=r.toString():this.matchValue=r}match(t){return this.matchValue===t}}class rde extends oT{valField;constructor(t,r,i=!1){if(super(t,r,i),this.valField=this.cleanFieldName(t.field,r),t.classBreakInfos.forEach((n,s)=>{const o=s===0,a=new kO(this,n.minValue,n.maxValue,o);a.label=n.label||"",a.symbol=n.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${n.minValue} AND ${this.valField} <= ${n.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const n=new kO(this,0,0,!1);n.isDefault=!0,n.label=t.defaultLabel||"",n.symbol=t.defaultSymbol,n.definitionClause=this.makeElseClause(),this.defaultUnit=n}}makeSearchParams(t){return parseFloat(t[this.valField])}}class kO extends jv{minValue;maxValue;firstBreak;constructor(t,r,i,n){super(t),this.minValue=r,this.maxValue=i,this.firstBreak=n}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var Fy={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var ide=Fy.exports,RO;function nde(){return RO||(RO=1,function(e,t){(function(r,i){e.exports=r.document?i(r,r.document):function(n){return i(n,n.document)}})(typeof window<"u"?window:ide,function(r,i){var n=typeof this<"u"?this:r,s=n.SVG=function(u){if(s.supported)return u=new s.Doc(u),s.parser.draw||s.prepare(),u};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!i.createElementNS&&!!i.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(u){return"Svgjs"+_(u)+s.did++},s.create=function(u){var m=i.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},s.extend=function(){var u,m,E,N;for(u=[].slice.call(arguments),m=u.pop(),N=u.length-1;N>=0;N--)if(u[N])for(E in m)u[N].prototype[E]=m[E];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,s.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&s.extend(m,u.extend),u.construct&&s.extend(u.parent||s.Container,u.construct),m},s.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof r.SVGElement?new s.Nested:new s.Doc:u.nodeName=="linearGradient"?m=new s.Gradient("linear"):u.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[_(u.nodeName)]?m=new s[_(u.nodeName)]:m=new s.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var u=i.getElementsByTagName("body")[0],m=(u?new s.Doc(u):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:u||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(u,m){var E,N=u.length,q=[];for(E=0;E<N;E++)q.push(m(u[E]));return q},filter:function(u,m){var E,N=u.length,q=[];for(E=0;E<N;E++)m(u[E])&&q.push(u[E]);return q},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof r.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?s.regex.isRgb.test(u)?(m=s.regex.rgb.exec(u.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(u)&&(m=s.regex.hex.exec(x(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new s.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new s.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),s.Color.test=function(u){return u+="",s.regex.isHex.test(u)||s.regex.isRgb.test(u)},s.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},s.Color.isColor=function(u){return s.Color.isRgb(u)||s.Color.test(u)},s.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},s.extend(s.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],E=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(E);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,E=[];u<m;u++)E.indexOf(this.value[u])==-1&&E.push(this.value[u]);return this.value=E},at:function(u){if(!this.destination)return this;for(var m=0,E=this.value.length,N=[];m<E;m++)N.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new s.Array(N)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=p(this.value),u}}),s.PointArray=function(u,m){s.Array.call(this,u,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var u=0,m=this.value.length,E=[];u<m;u++)E.push(this.value[u].join(","));return E.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,E=this.value.length,N=[];m<E;m++)N.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new s.PointArray(N)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(q){return q.slice()});if(u[0].x!=null)return u.map(function(q){return[q.x,q.y]})}else u=u.trim().split(s.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var E=0,N=u.length;E<N;E=E+2)m.push([u[E],u[E+1]]);return m},move:function(u,m){var E=this.bbox();if(u-=E.x,m-=E.y,!isNaN(u)&&!isNaN(m))for(var N=this.value.length-1;N>=0;N--)this.value[N]=[this.value[N][0]+u,this.value[N][1]+m];return this},size:function(u,m){var E,N=this.bbox();for(E=this.value.length-1;E>=0;E--)N.width&&(this.value[E][0]=(this.value[E][0]-N.x)*u/N.width+N.x),N.height&&(this.value[E][1]=(this.value[E][1]-N.y)*m/N.height+N.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(u,m,E){return m.x=E.x=u[0],m.y=E.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,E){return m.x=E.x,m.y=E.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,E,N){if(u=="H")m[0]=m[0]+E.x;else if(u=="V")m[0]=m[0]+E.y;else if(u=="A")m[5]=m[5]+E.x,m[6]=m[6]+E.y;else for(var q=0,K=m.length;q<K;++q)m[q]=m[q]+(q%2?E.y:E.x);return o[u](m,E,N)}}(a[l].toUpperCase());s.PathArray=function(u,m){s.Array.call(this,u,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return R(this.value)},move:function(u,m){var E=this.bbox();if(u-=E.x,m-=E.y,!isNaN(u)&&!isNaN(m))for(var N,q=this.value.length-1;q>=0;q--)N=this.value[q][0],N=="M"||N=="L"||N=="T"?(this.value[q][1]+=u,this.value[q][2]+=m):N=="H"?this.value[q][1]+=u:N=="V"?this.value[q][1]+=m:N=="C"||N=="S"||N=="Q"?(this.value[q][1]+=u,this.value[q][2]+=m,this.value[q][3]+=u,this.value[q][4]+=m,N=="C"&&(this.value[q][5]+=u,this.value[q][6]+=m)):N=="A"&&(this.value[q][6]+=u,this.value[q][7]+=m);return this},size:function(u,m){var E,N,q=this.bbox();for(E=this.value.length-1;E>=0;E--)N=this.value[E][0],N=="M"||N=="L"||N=="T"?(this.value[E][1]=(this.value[E][1]-q.x)*u/q.width+q.x,this.value[E][2]=(this.value[E][2]-q.y)*m/q.height+q.y):N=="H"?this.value[E][1]=(this.value[E][1]-q.x)*u/q.width+q.x:N=="V"?this.value[E][1]=(this.value[E][1]-q.y)*m/q.height+q.y:N=="C"||N=="S"||N=="Q"?(this.value[E][1]=(this.value[E][1]-q.x)*u/q.width+q.x,this.value[E][2]=(this.value[E][2]-q.y)*m/q.height+q.y,this.value[E][3]=(this.value[E][3]-q.x)*u/q.width+q.x,this.value[E][4]=(this.value[E][4]-q.y)*m/q.height+q.y,N=="C"&&(this.value[E][5]=(this.value[E][5]-q.x)*u/q.width+q.x,this.value[E][6]=(this.value[E][6]-q.y)*m/q.height+q.y)):N=="A"&&(this.value[E][1]=this.value[E][1]*u/q.width,this.value[E][2]=this.value[E][2]*m/q.height,this.value[E][6]=(this.value[E][6]-q.x)*u/q.width+q.x,this.value[E][7]=(this.value[E][7]-q.y)*m/q.height+q.y);return this},equalCommands:function(u){var m,E,N;for(u=new s.PathArray(u),N=this.value.length===u.value.length,m=0,E=this.value.length;N&&m<E;m++)N=this.value[m][0]===u.value[m][0];return N},morph:function(u){return u=new s.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,E=this.destination.value,N=[],q=new s.PathArray,K,he,oe,Ae;for(K=0,he=m.length;K<he;K++){for(N[K]=[m[K][0]],oe=1,Ae=m[K].length;oe<Ae;oe++)N[K][oe]=m[K][oe]+(E[K][oe]-m[K][oe])*u;N[K][0]==="A"&&(N[K][4]=+(N[K][4]!=0),N[K][5]=+(N[K][5]!=0))}return q.value=N,q},parse:function(u){if(u instanceof s.PathArray)return u.valueOf();var m,N,E={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):u=u.reduce(function(Ae,Fe){return[].concat.call(Ae,Fe)},[]);var N=[],q=new s.Point,K=new s.Point,he=0,oe=u.length;do s.regex.isPathLetter.test(u[he])?(m=u[he],++he):m=="M"?m="L":m=="m"&&(m="l"),N.push(o[m].call(null,u.slice(he,he=he+E[m.toUpperCase()]).map(parseFloat),q,K));while(oe>he);return N},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof s.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new s.Number(u),new s.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new s.Number(u),new s.Number(this-u,this.unit||u.unit)},times:function(u){return u=new s.Number(u),new s.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new s.Number(u),new s.Number(this/u,this.unit||u.unit)},to:function(u){var m=new s.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new s.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new s.Number(this.destination).minus(this).times(u).plus(this):this}}}),s.Element=s.invent({create:function(u){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var E=S(this,u,m);return this.width(new s.Number(E.width)).height(new s.Number(E.height))},clone:function(u){this.writeDataToDom();var m=k(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var E=this.bbox();return u>E.x&&m>E.y&&u<E.x+E.width&&m<E.y+E.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(s.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return s.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof r.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(u){var m=[],E=this;do{if(E=E.parent(u),!E||!E.node)break;m.push(E)}while(E.parent);return m},matches:function(u){return g(this.node,u)},native:function(){return this.node},svg:function(u){var m=i.createElement("svg");if(u&&this instanceof s.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var E=0,N=m.firstChild.childNodes.length;E<N;E++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=i.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),s.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},s.morph=function(u){return function(m,E){return new s.MorphObj(m,E).at(u)}},s.Situation=s.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(u.duration).valueOf(),this.delay=new s.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,E){typeof u=="object"&&(m=u.ease,E=u.delay,u=u.duration);var N=new s.Situation({duration:u||1e3,delay:E||0,ease:s.easing[m||"-"]||m});return this.queue(N),this},delay:function(u){var m=new s.Situation({duration:u,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof s.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=r.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){r.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof s.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,E,N=this.situation;if(N.init)return this;for(u in N.animations)for(E=this.target()[u](),Array.isArray(E)||(E=[E]),Array.isArray(N.animations[u])||(N.animations[u]=[N.animations[u]]),m=E.length;m--;)N.animations[u][m]instanceof s.Number&&(E[m]=new s.Number(E[m])),N.animations[u][m]=E[m].morph(N.animations[u][m]);for(u in N.attrs)N.attrs[u]=new s.MorphObj(this.target().attr(u),N.attrs[u]);for(u in N.styles)N.styles[u]=new s.MorphObj(this.target().style(u),N.styles[u]);return N.initialTransformation=this.target().matrixify(),N.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var E=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!E&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var E=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*E,this.situation.finish=this.situation.start+E,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var E=this.last();return E.loops=u??!0,E.loop=0,m&&(E.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),E=function N(q){q.detail.situation==m&&(u.call(this,m),this.off("finished.fx",N))};return this.target().on("finished.fx",E),this._callStart()},during:function(u){var m=this.last(),E=function(N){N.detail.situation==m&&u.call(this,N.detail.pos,s.morph(N.detail.pos),N.detail.eased,m)};return this.target().off("during.fx",E).on("during.fx",E),this.after(function(){this.off("during.fx",E)}),this._callStart()},afterAll:function(u){var m=function E(N){u.call(this),this.off("allfinished.fx",E)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(E){u.call(this,E.detail.pos,s.morph(E.detail.pos),E.detail.eased,E.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,E){return this.last()[E||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,E,N;m=Math.max(this.absPos,0),E=Math.floor(m),this.situation.loops===!0||E<this.situation.loops?(this.pos=m-E,N=this.situation.loop,this.situation.loop=E):(this.absPos=this.situation.loops,this.pos=1,N=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-N)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var q=this.situation.ease(this.pos);for(var K in this.situation.once)K>this.lastPos&&K<=q&&(this.situation.once[K].call(this.target(),this.pos,q),delete this.situation.once[K]);return this.active&&this.target().fire("during",{pos:this.pos,eased:q,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=q,this):this},eachAt:function(){var u,m,E,N=this,q=this.target(),K=this.situation;for(u in K.animations)E=[].concat(K.animations[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(K.ease(N.pos),N.pos):oe}),q[u].apply(q,E);for(u in K.attrs)E=[u].concat(K.attrs[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(K.ease(N.pos),N.pos):oe}),q.attr.apply(q,E);for(u in K.styles)E=[u].concat(K.styles[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(K.ease(N.pos),N.pos):oe}),q.style.apply(q,E);if(K.transforms.length){for(E=K.initialTransformation,u=0,m=K.transforms.length;u<m;u++){var he=K.transforms[u];if(he instanceof s.Matrix){he.relative?E=E.multiply(new s.Matrix().morph(he).at(K.ease(this.pos))):E=E.morph(he).at(K.ease(this.pos));continue}he.relative||he.undo(E.extract()),E=E.multiply(he.at(K.ease(this.pos)))}q.matrix(E)}return this},once:function(u,m,E){var N=this.last();return E||(u=N.ease(u)),N.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(u,m,E){return(this.fx||(this.fx=new s.FX(this))).animate(u,m,E)},delay:function(u){return(this.fx||(this.fx=new s.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),s.MorphObj=s.invent({create:function(u,m){if(s.Color.isColor(m))return new s.Color(u).morph(m);if(s.regex.delimiter.test(u))return s.regex.pathLetters.test(u)?new s.PathArray(u).morph(m):new s.Array(u).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(u,m,E){if(typeof u=="object")for(var N in u)this.attr(N,u[N]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var E in u)this.style(E,u[E]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof s.G)return this.transform({x:u},m),this;var E=new s.Number(u);return E.relative=m,this.add("x",E)},y:function(u,m){if(this.target()instanceof s.G)return this.transform({y:u},m),this;var E=new s.Number(u);return E.relative=m,this.add("y",E)},cx:function(u){return this.add("cx",new s.Number(u))},cy:function(u){return this.add("cy",new s.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof s.Text)this.attr("font-size",u);else{var E;(!u||!m)&&(E=this.target().bbox()),u||(u=E.width/E.height*m),m||(m=E.height/E.width*u),this.add("width",new s.Number(u)).add("height",new s.Number(m))}return this},width:function(u){return this.add("width",new s.Number(u))},height:function(u){return this.add("height",new s.Number(u))},plot:function(u,m,E,N){return arguments.length==4?this.plot([u,m,E,N]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new s.Number(u)):this},viewbox:function(u,m,E,N){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(u,m,E,N)),this},update:function(u){if(this.target()instanceof s.Stop){if(typeof u=="number"||u instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),s.Box=s.invent({create:function(u,m,E,N){if(typeof u=="object"&&!(u instanceof s.Element))return s.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=E,this.height=N),G(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,G(m)},transform:function(u){var m=1/0,E=-1/0,N=1/0,q=-1/0,K,he=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return he.forEach(function(oe){oe=oe.transform(u),m=Math.min(m,oe.x),E=Math.max(E,oe.x),N=Math.min(N,oe.y),q=Math.max(q,oe.y)}),K=new this.constructor,K.x=m,K.width=E-m,K.y=N,K.height=q-N,G(K),K}}}),s.BBox=s.invent({create:function(u){if(s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var E=u.node;E.parentNode;)E=E.parentNode;if(E!=i)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof s.Shape){var N=u.clone(s.parser.draw.instance).show();m=N.node.getBBox(),N.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(u){s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element&&s.Box.call(this,u.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=r.pageXOffset,this.y+=r.pageYOffset,this}},construct:{rbox:function(u){return u?new s.RBox(this).transform(u.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(u){var m,E=M([1,0,0,1,0,0]);for(u=u instanceof s.Element?u.matrixify():typeof u=="string"?M(u.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(u)?M(u):typeof u=="object"?u:E,m=z.length-1;m>=0;--m)this[z[m]]=u[z[m]]!=null?u[z[m]]:E[z[m]]},extend:{extract:function(){var u=v(this,0,1),m=v(this,1,0),E=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(E*Math.PI/180)+this.f*Math.sin(E*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(E*Math.PI/180)+this.e*Math.sin(-E*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-E,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:E,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(u){return this.destination=new s.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new s.Matrix(this.native().multiply(C(u).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(u,m){return new s.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,E,N){return arguments.length==1?m=u:arguments.length==3&&(N=E,E=m,m=u),this.around(E,N,new s.Matrix(u,0,0,m,0,0))},rotate:function(u,m,E){return u=s.utils.radians(u),this.around(m,E,new s.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,E,N){return arguments.length==1?m=u:arguments.length==3&&(N=E,E=m,m=u),u=s.utils.radians(u),m=s.utils.radians(m),this.around(E,N,new s.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,E){return this.skew(u,0,m,E)},skewY:function(u,m,E){return this.skew(0,u,m,E)},around:function(u,m,E){return this.multiply(new s.Matrix(1,0,0,1,u||0,m||0)).multiply(E).multiply(new s.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=s.parser.native.createSVGMatrix(),m=z.length-1;m>=0;m--)u[z[m]]=this[z[m]];return u},toString:function(){return"matrix("+V(this.a)+","+V(this.b)+","+V(this.c)+","+V(this.d)+","+V(this.e)+","+V(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(u,m){var E,N={x:0,y:0};E=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:N,this.x=E.x,this.y=E.y},extend:{clone:function(){return new s.Point(this)},morph:function(u,m){return this.destination=new s.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=s.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new s.Point(this.native().matrixTransform(u.native()))}}}),s.extend(s.Element,{point:function(u,m){return new s.Point(u,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(u,m,E){if(u==null){for(u={},m=this.node.attributes,E=m.length-1;E>=0;E--)u[m[E].nodeName]=s.regex.isNumber.test(m[E].nodeValue)?parseFloat(m[E].nodeValue):m[E].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?s.defaults.attrs[u]:s.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof E=="string"?this.node.setAttributeNS(E,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),s.extend(s.Element,{transform:function(u,m){var E=this,N,q;if(typeof u!="object")return N=new s.Matrix(E).extract(),typeof u=="string"?N[u]:N;if(N=new s.Matrix(E),m=!!m||!!u.relative,u.a!=null)N=m?N.multiply(new s.Matrix(u)):new s.Matrix(u);else if(u.rotation!=null)L(u,E),N=m?N.rotate(u.rotation,u.cx,u.cy):N.rotate(u.rotation-N.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(L(u,E),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var K=N.extract();u.scaleX=u.scaleX*1/K.scaleX,u.scaleY=u.scaleY*1/K.scaleY}N=N.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(L(u,E),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var K=N.extract();N=N.multiply(new s.Matrix().skew(K.skewX,K.skewY,u.cx,u.cy).inverse())}N=N.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?E.bbox()["c"+u.flip]:u.offset:u.offset==null?(q=E.bbox(),u.flip=q.cx,u.offset=q.cy):u.flip=u.offset,N=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?N=N.translate(u.x,u.y):(u.x!=null&&(N.e=u.x),u.y!=null&&(N.f=u.y)));return this.attr("transform",N)}}),s.extend(s.FX,{transform:function(u,m){var E=this.target(),N,q;return typeof u!="object"?(N=new s.Matrix(E).extract(),typeof u=="string"?N[u]:N):(m=!!m||!!u.relative,u.a!=null?N=new s.Matrix(u):u.rotation!=null?(L(u,E),N=new s.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(L(u,E),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,N=new s.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(L(u,E),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,N=new s.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?E.bbox()["c"+u.flip]:u.offset:u.offset==null?(q=E.bbox(),u.flip=q.cx,u.offset=q.cy):u.flip=u.offset,N=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(N=new s.Translate(u.x,u.y)),N?(N.relative=m,this.last().transforms.push(N),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var E=m.trim().split("(");return[E[0],E[1].split(s.regex.delimiter).map(function(N){return parseFloat(N)})]}).reduce(function(m,E){return E[0]=="matrix"?m.multiply(M(E[1])):m[E[0]].apply(m,E[1])},new s.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),E=u.screenCTM().inverse();return this.addTo(u).untransform().transform(E.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var E=0,N=this.arguments.length;E<N;++E)this[this.arguments[E]]=u[E];else if(typeof u=="object")for(var E=0,N=this.arguments.length;E<N;++E)this[this.arguments[E]]=u[this.arguments[E]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],E=0,N=this.arguments.length;E<N;++E)m.push(this[this.arguments[E]]);var q=this._undo||new s.Matrix;return q=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(q,m)).at(u),this.inversed?q.inverse():q},undo:function(u){for(var m=0,E=this.arguments.length;m<E;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new s[_(this.method)](u,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(s.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(E){return!!E}).map(function(E){return E.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[w(u)];else this.node.style[w(u)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(u){return s.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return s.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var E,N,q=this.children();for(E=0,N=q.length;E<N;E++)q[E]instanceof s.Element&&u.apply(q[E],[E,q]),m&&q[E]instanceof s.Container&&q[E].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(u,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(u=u||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),s.Container=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(u){var m=[0,0,0,0],E,N,q,K,he,oe,Ae,Fe=1,Ve=1,Oe=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof s.Element){for(oe=u,Ae=u,he=(u.attr("viewBox")||"").match(Oe),u.bbox,q=new s.Number(u.width()),K=new s.Number(u.height());q.unit=="%";)Fe*=q.value,q=new s.Number(oe instanceof s.Doc?oe.parent().offsetWidth:oe.parent().width()),oe=oe.parent();for(;K.unit=="%";)Ve*=K.value,K=new s.Number(Ae instanceof s.Doc?Ae.parent().offsetHeight:Ae.parent().height()),Ae=Ae.parent();this.x=0,this.y=0,this.width=q*Fe,this.height=K*Ve,this.zoom=1,he&&(E=parseFloat(he[0]),N=parseFloat(he[1]),q=parseFloat(he[2]),K=parseFloat(he[3]),this.zoom=this.width/this.height>q/K?this.height/K:this.width/q,this.x=E,this.y=N,this.width=q,this.height=K)}else u=typeof u=="string"?u.match(Oe).map(function(vt){return parseFloat(vt)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,E,N){return this.destination=new s.ViewBox(u,m,E,N),this},at:function(u){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:s.Container,construct:{viewbox:function(u,m,E,N){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(u,m,E,N))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){s.Element.prototype[u]=function(m){return m==null?s.off(this,u):s.on(this,u,m),this}}),s.listenerId=0,s.on=function(u,m,E,N,q){var K=E.bind(N||u),he=u instanceof s.Element?u.node:u;he.instance=he.instance||{_events:{}};var oe=he.instance._events;E._svgjsListenerId||(E._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(Ae){var Fe=Ae.split(".")[0],Ve=Ae.split(".")[1]||"*";oe[Fe]=oe[Fe]||{},oe[Fe][Ve]=oe[Fe][Ve]||{},oe[Fe][Ve][E._svgjsListenerId]=K,he.addEventListener(Fe,K,q||!1)})},s.off=function(u,m,E,N){var q=u instanceof s.Element?u.node:u;if(q.instance&&!(typeof E=="function"&&(E=E._svgjsListenerId,!E))){var K=q.instance._events;(m||"").split(s.regex.delimiter).forEach(function(he){var oe=he&&he.split(".")[0],Ae=he&&he.split(".")[1],Fe,Ve;if(E)K[oe]&&K[oe][Ae||"*"]&&(q.removeEventListener(oe,K[oe][Ae||"*"][E],N||!1),delete K[oe][Ae||"*"][E]);else if(oe&&Ae){if(K[oe]&&K[oe][Ae]){for(Ve in K[oe][Ae])s.off(q,[oe,Ae].join("."),Ve);delete K[oe][Ae]}}else if(Ae)for(he in K)for(Fe in K[he])Ae===Fe&&s.off(q,[he,Ae].join("."));else if(oe){if(K[oe]){for(Fe in K[oe])s.off(q,[oe,Fe].join("."));delete K[oe]}}else{for(he in K)s.off(q,he);q.instance._events={}}})}},s.extend(s.Element,{on:function(u,m,E,N){return s.on(this,u,m,E,N),this},off:function(u,m){return s.off(this.node,u,m),this},fire:function(u,m){return u instanceof r.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new s.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(u){u&&(u=typeof u=="string"?i.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,s.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(u):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,E=k(m.cloneNode(!0));return u?(u.node||u).appendChild(E.node):m.parentNode.insertBefore(E.node,m.nextSibling),E}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof s.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(u){return this.masker=u instanceof s.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(u){return this.clipper=u instanceof s.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(u){this.constructor.call(this,s.create(u+"Gradient")),this.type=u},inherit:s.Container,extend:{at:function(u,m,E){return this.put(new s.Stop).update(u,m,E)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,E){return u=="transform"&&(u="gradientTransform"),s.Container.prototype.attr.call(this,u,m,E)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),s.extend(s.Gradient,s.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(u),fy:new s.Number(m)}):this.attr({x1:new s.Number(u),y1:new s.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(u),cy:new s.Number(m)}):this.attr({x2:new s.Number(u),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(u,m){return this.put(new s.Gradient(u)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof s.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new s.Number(u.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,E){return u=="transform"&&(u="patternTransform"),s.Container.prototype.attr.call(this,u,m,E)}},construct:{pattern:function(u,m,E){return this.defs().pattern(u,m,E)}}}),s.extend(s.Defs,{pattern:function(u,m,E){return this.put(new s.Pattern).update(E).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element}),s.Bare=s.invent({create:function(u,m){if(this.constructor.call(this,s.create(u)),m)for(var E in m.prototype)typeof m.prototype[E]=="function"&&(this[E]=m.prototype[E])},inherit:s.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(u)),this}}}),s.extend(s.Parent,{element:function(u,m){return this.put(new s.Bare(u,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,s.xlink)}},construct:{use:function(u,m){return this.put(new s.Use).element(u,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(u,m){return this.put(new s.Rect).size(u,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(u){return this.put(new s.Circle).rx(new s.Number(u).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(u,m){return this.put(new s.Ellipse).size(u,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),s.extend(s.Circle,s.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new s.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new s.Number(u).divide(2))},size:function(u,m){var E=S(this,u,m);return this.rx(new s.Number(E.width).divide(2)).ry(new s.Number(E.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,E,N){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:E,y2:N}:u=new s.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var E=S(this,u,m);return this.attr(this.array().size(E.width,E.height).toLine())}},construct:{line:function(u,m,E,N){return s.Line.prototype.plot.apply(this.put(new s.Line),u!=null?[u,m,E,N]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(u){return this.put(new s.Polyline).plot(u||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(u){return this.put(new s.Polygon).plot(u||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new s.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var E=S(this,u,m);return this.attr("points",this.array().size(E.width,E.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new s.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var E=S(this,u,m);return this.attr("d",this.array().size(E.width,E.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new s.Path).plot(u||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(u){if(!u)return this;var m=this,E=new r.Image;return s.on(E,"load",function(){s.off(E);var N=m.parent(s.Pattern);N!==null&&(m.width()==0&&m.height()==0&&m.size(E.width,E.height),N&&N.width()==0&&N.height()==0&&N.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:E.width,height:E.height,ratio:E.width/E.height,url:u}))}),s.on(E,"error",function(N){s.off(E),typeof m._error=="function"&&m._error.call(m,N)}),this.attr("href",E.src=this.src=u,s.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,E){return this.put(new s.Image).load(u).size(m||0,E||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),E=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-E:m:this.attr("y",typeof u.valueOf()=="number"?u+E:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,E=0,N=m.length;E<N;++E)E!=0&&m[E].nodeType!=3&&s.adopt(m[E]).dom.newLined==!0&&(u+=`
`),u+=m[E].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var E=0,q=u.length;E<q;E++)this.tspan(u[E]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new s.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(u.childNodes),function(E){return s.adopt(E)});return new s.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,E=0,N=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?E+=N:(this.attr("dy",N+E),E=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new s.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new s.Text).text(u)},plain:function(u){return this.put(new s.Text).plain(u)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(s.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,E=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(E.node),E.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(u){for(var m=new s.TextPath,E=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+E,s.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),E=null;return m&&(E=m.plot(u)),u==null?E:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(u){return this.attr("href",u,s.xlink)},show:function(u){return this.attr("show",u,s.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new s.A).to(u)}}}),s.extend(s.Element,{linkTo:function(u){var m=new s.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,E){return this.defs().marker(u,m,E)}}}),s.extend(s.Defs,{marker:function(u,m,E){return this.put(new s.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(E)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(u,m,E,N){var q=["marker"];return u!="all"&&q.push(u),q=q.join("-"),u=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,E,N),this.attr(q,u)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,E={};E[u]=function(N){if(typeof N>"u")return this;if(typeof N=="string"||s.Color.isRgb(N)||N&&typeof N.fill=="function")this.attr(u,N);else for(m=f[u].length-1;m>=0;m--)N[f[u][m]]!=null&&this.attr(f.prefix(u,f[u][m]),N[f[u][m]]);return this},s.extend(s.Element,s.FX,E)}),s.extend(s.Element,s.FX,{rotate:function(u,m,E){return this.transform({rotation:u,cx:m,cy:E})},skew:function(u,m,E,N){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:E}):this.transform({skewX:u,skewY:m,cx:E,cy:N})},scale:function(u,m,E,N){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:E}):this.transform({scaleX:u,scaleY:m,cx:E,cy:N})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new s.Number(u).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(u){return this.y(new s.Number(u).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(u,m){var E=(this._target||this).type;return E=="radial"||E=="circle"?this.attr("r",new s.Number(u)):this.rx(u).ry(m??u)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),s.Set=s.invent({create:function(u){u instanceof s.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,E=[].slice.call(arguments);for(u=0,m=E.length;u<m;u++)this.members.push(E[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,E=this.members.length;m<E;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new s.Set(u)}}}),s.FX.Set=s.invent({create:function(u){this.set=u}}),s.Set.inherit=function(){var u,m=[];for(var u in s.Shape.prototype)typeof s.Shape.prototype[u]=="function"&&typeof s.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(E){s.Set.prototype[E]=function(){for(var N=0,q=this.members.length;N<q;N++)this.members[N]&&typeof this.members[N][E]=="function"&&this.members[N][E].apply(this.members[N],arguments);return E=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var u in s.FX.prototype)typeof s.FX.prototype[u]=="function"&&typeof s.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(E){s.FX.Set.prototype[E]=function(){for(var N=0,q=this.set.members.length;N<q;N++)this.set.members[N].fx[E].apply(this.set.members[N].fx,arguments);return this}})},s.extend(s.Element,{data:function(u,m,E){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:E===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(u){var m=i.getElementById(W(u)||u);return s.adopt(m)},s.select=function(u,m){return new s.Set(s.utils.map((m||i).querySelectorAll(u),function(E){return s.adopt(E)}))},s.extend(s.Parent,{select:function(u){return s.select(u,this.node)}});function d(u,m,E,N){return E+N.replace(s.regex.dots," .")}function p(u){for(var m=u.slice(0),E=m.length;E--;)Array.isArray(m[E])&&(m[E]=p(m[E]));return m}function y(u,m){return u instanceof m}function g(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function w(u){return u.toLowerCase().replace(/-(.)/g,function(m,E){return E.toUpperCase()})}function _(u){return u.charAt(0).toUpperCase()+u.slice(1)}function x(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function T(u){var m=u.toString(16);return m.length==1?"0"+m:m}function S(u,m,E){if(m==null||E==null){var N=u.bbox();m==null?m=N.width/N.height*E:E==null&&(E=N.height/N.width*m)}return{width:m,height:E}}function v(u,m,E){return{x:m*u.a+E*u.c+0,y:m*u.b+E*u.d+0}}function M(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function C(u){return u instanceof s.Matrix||(u=new s.Matrix(u)),u}function L(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function R(u){for(var m=0,E=u.length,N="";m<E;m++)N+=u[m][0],u[m][1]!=null&&(N+=u[m][1],u[m][2]!=null&&(N+=" ",N+=u[m][2],u[m][3]!=null&&(N+=" ",N+=u[m][3],N+=" ",N+=u[m][4],u[m][5]!=null&&(N+=" ",N+=u[m][5],N+=" ",N+=u[m][6],u[m][7]!=null&&(N+=" ",N+=u[m][7])))));return N+" "}function k(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof r.SVGElement&&k(u.childNodes[m]);return s.adopt(u).id(s.eid(u.nodeName))}function G(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function W(u){var m=(u||"").toString().match(s.regex.reference);if(m)return m[1]}function V(u){return Math.abs(u)>1e-37?u:0}var z="abcdef".split("");if(typeof r.CustomEvent!="function"){var ee=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var E=i.createEvent("CustomEvent");return E.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),E};ee.prototype=r.Event.prototype,s.CustomEvent=ee}else s.CustomEvent=r.CustomEvent;return function(u){for(var m=0,E=["moz","webkit"],N=0;N<E.length&&!r.requestAnimationFrame;++N)u.requestAnimationFrame=u[E[N]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[E[N]+"CancelAnimationFrame"]||u[E[N]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(q){var K=new Date().getTime(),he=Math.max(0,16-(K-m)),oe=u.setTimeout(function(){q(K+he)},he);return m=K+he,oe},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(r),s})}(Fy)),Fy.exports}var sde=nde();const Cu=dm(sde);class ode extends Pr{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,r){return r.getGraphicIcon(t)}getGraphicSymbol(t,r){return r.getGraphicSymbol(t)}makeRenderer(t,r,i=!1){switch(t.type){case this.SIMPLE:return new ede(t,r);case this.CLASS_BREAKS:return new rde(t,r,i);case this.UNIQUE_VALUE:return new tde(t,r,i);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const r=Cu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(t){const n=await this.renderSymbologyImage(t);if(n){i.svgcode=n;const s=document.createElement("span");s.innerHTML=n;const o=s.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=r.svg()}else i.svgcode=r.svg();return i}listToSymbology(t,r){return r.map(({text:n,image:s})=>{const o={name:n,image:s,svgcode:""};return t(s).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,r=null){r===null&&(r=Cu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(i===t)return"";const{loader:n}=await this.svgDrawImage(r,i);return r.viewbox(0,0,n.width,n.height),r.svg()}async renderSymbologyIcon(t,r=null){if(r===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),r=Cu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:n}=await this.svgDrawImage(r,i);return n.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(n,this.CONTENT_IMAGE_SIZE),r.svg()}generatePlaceholderSymbology(t,r="#000"){const i=Cu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(r),i.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:i.svg()}}async generateBlankSymbology(){return Cu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const r=this,i=1.33333,n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n);const s=Cu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:w}){return s.path(w).size(g*i)},circle({size:g}){return s.circle(g*i)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*i)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*i)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*i)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*i)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*i)}},a={[zi.SOLID]:"none",[zi.NONE]:"none",[zi.DASH]:"5.333,4",[zi.DOT]:"1.333,4",[zi.DASHDOT]:"5.333,4,1.333,4",[zi.LONGDASH]:"10.666,4",[zi.LONGDASHDOT]:"10.666,4,1.333,4",[zi.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[zi.SHORTDOT]:"1.333,1.333",[zi.SHORTDASH]:"5.333,1.333",[zi.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[zi.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,w)=>s.pattern(5,5,x=>x.line(0,5/2,5,5/2)).stroke(w),vertical:(g,w)=>s.pattern(5,5,x=>x.line(5/2,0,5/2,5)).stroke(w),"forward-diagonal":(g,w)=>s.pattern(5,5,x=>{x.line(0,0,5,5).stroke(w),x.line(0,0,5,5).move(0,5).stroke(w),x.line(0,0,5,5).move(5,0).stroke(w)}),"backward-diagonal":(g,w)=>s.pattern(5,5,x=>{x.line(5,0,0,5).stroke(w),x.line(5,0,0,5).move(5/2,5/2).stroke(w),x.line(5,0,0,5).move(-5/2,-5/2).stroke(w)}),cross:(g,w)=>s.pattern(5,5,x=>{x.line(5/2,0,5/2,5).stroke(w),x.line(0,5/2,5,5/2).stroke(w)}),"diagonal-cross":(g,w)=>s.pattern(7,7,x=>{x.line(0,0,7,7).stroke(w),x.line(7,0,0,7).stroke(w)})},d={"simple-marker"(){const g=y(t.color);t.outline=t.outline||c;const w=y(t.outline.color),_=p({color:w.colour,opacity:w.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),x=o[t.style](t).fill({color:g.colour,opacity:g.opacity}).stroke(_).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(t.angle||0);r.fitInto(x,r.CONTENT_SIZE)},"simple-line"(){const g=y(t.color),w=p({color:g.colour,opacity:g.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),_=r.CONTENT_PADDING,x=r.CONTAINER_SIZE-r.CONTENT_PADDING;s.line(_,_,x,x).stroke(w)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(t.color),w=p({color:g.colour,opacity:g.opacity}),_=f[t.style](g,w);t.outline=t.outline||c;const x=y(t.outline.color),T=p({color:x.colour,opacity:x.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});s.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(_).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,w=t.width*t.xscale,_=t.height*t.yscale;t.outline=t.outline||c;const x=y(t.outline.color),T=p({color:x.colour,opacity:x.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return r.$iApi.geo.shared.convertImagetoDataURL(g).then(v=>{const M=s.pattern(w,_,C=>C.image(v,w,_));s.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(M).stroke(T)})},"picture-marker"(){const g=t.source,w=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:t.url;return r.$iApi.geo.shared.convertImagetoDataURL(w).then(x=>r.svgDrawImage(s,x)).then(({image:x})=>{x.center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(t.angle||0),r.fitInto(x,r.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(n),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function p(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,r,i=0,n=0,s=!0){return new Promise((o,a)=>{const l=t.image(r,i,n,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,r){const i=t.node.getBoundingClientRect(),n=r/Math.max(i.width,i.height);n<1&&t.scale(n)}rendererToLegend(t){let r;const i=t.symbolUnits.slice(0);if(t.defaultUnit&&i.push(t.defaultUnit),t.falseRenderer)r=i.map(n=>[n]);else{const n=new Map;i.forEach(s=>{const o=n.get(s.label);o?o.push(s):n.set(s.label,[s])}),r=[],n.forEach(s=>r.push(s))}return r.map(n=>{const s=n[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:n.length===1?s.definitionClause:`(${n.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,n.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const r={query:{f:"json"}},i={layers:[]},[n,s]=await Zc(wr(`${t}/legend`,r));return s?s.data?s.data:(console.error(`Error loading legend data for ${t}`),i):(console.error(`Error loading legend for ${t}`,n),i)}async mapServerLegendToRenderer(t,r){const i=t.layers.find(s=>s.layerId===r);let n;if(typeof i<"u"){n={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await Gt.RendererFromJson(n);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const r=t.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...r)},n=await Gt.RendererFromJson(i);return this.makeRenderer(n,[],!0)}async mapServerToLocalLegend(t,r=void 0){const i=await this.getMapServerLegend(t);let n,s;return typeof r>"u"?(s=0,n=await this.mapServerLegendToRendererAll(i)):(s=parseInt(r),n=await this.mapServerLegendToRenderer(i,s)),this.rendererToLegend(n)}}class ade extends Pr{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const r=await Gt.Query();r.returnGeometry=!1,t.filterSql&&(r.where=t.filterSql),t.filterGeometry&&(r.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),r.spatialRelationship="intersects");const i=await Gt.QueryByIds(t.url,r);return Array.isArray(i)?i:[]}async geoJsonQuery(t){const r=await Gt.Query();if(r.returnGeometry=!!t.includeGeometry,r.outFields=["*"],t.filterGeometry&&(r.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),r.spatialRelationship="intersects"),t.filterSql&&(r.where=t.filterSql),t.filterOIDs&&(r.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(r)).features.map((n,s)=>{let o;return r.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(n.geometry,`queryResult${s}`):o=new gl,new vs(o,"",n.attributes)})}async queryGeometryHelper(t,r,i,n){return!r&&t.type===Ze.EXTENT&&n&&!n.isEqual(t.sr)&&!(i&&i>2e7&&t.sr.wkid===3978&&n.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(n,t)).toESRI():t.toESRI()}makeClickBuffer(t,r=5){const i=this.$iApi.geo.map,n=i.getExtent(),s=r*(n.xmax-n.xmin)/i.getPixelWidth();return new tr("ze_buffer",[t.x-s,t.y-s],[t.x+s,t.y+s],t.sr)}}class lde extends Pr{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=Th.geom,this.proj=Th.proj,this.shared=Th.sharedUtils,this.map=new efe(t),this.layer=new Nfe(t),this.attributes=new Zfe(t),this.query=new ade(t),this.symbology=new ode(t),Array.isArray(Pt.request.interceptors)||(Pt.request.interceptors=[]),Pt.request.interceptors.push({before:r=>{r.url.includes("?blankTile=false")&&(r.url=r.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){Pt.request.proxyUrl=t}get proxy(){return Pt.request.proxyUrl||""}}const cde=Object.assign({"../fixtures/appbar/index.ts":()=>we(()=>import("./index-BY9fiDmf.js"),__vite__mapDeps([193,1,194]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>we(()=>import("./index-2i2awyIX.js"),__vite__mapDeps([195,196,197,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>we(()=>import("./index-Q3paRp7j.js"),__vite__mapDeps([198,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>we(()=>import("./index-eL9L9sAf.js"),__vite__mapDeps([199,1,200]),import.meta.url),"../fixtures/details/index.ts":()=>we(()=>import("./index-DLsXHvHW.js"),__vite__mapDeps([201,1,202]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>we(()=>import("./index-DIE0ISMy.js"),__vite__mapDeps([203,204,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>we(()=>import("./index-DVaigdGI.js"),__vite__mapDeps([205,204,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>we(()=>import("./index-CrOkUrE6.js"),__vite__mapDeps([206,204,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>we(()=>import("./index-C_lSuvZA.js"),__vite__mapDeps([207,204,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>we(()=>import("./index-C1dzdsF_.js"),__vite__mapDeps([208,204,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>we(()=>import("./index-DLVqd0I3.js"),__vite__mapDeps([209,204,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>we(()=>import("./index-DmGviBAM.js"),__vite__mapDeps([210,204,1]),import.meta.url),"../fixtures/export/index.ts":()=>we(()=>import("./index-DV1QVtKL.js"),__vite__mapDeps([211,1,212]),import.meta.url),"../fixtures/extentguard/index.ts":()=>we(()=>import("./index-BNOX-5iT.js"),__vite__mapDeps([213,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>we(()=>import("./index-BT3166gB.js"),__vite__mapDeps([214,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>we(()=>import("./index-CT7oF54Y.js"),__vite__mapDeps([215,1]),import.meta.url),"../fixtures/grid/index.ts":()=>we(()=>import("./index-RCeY23kX.js"),__vite__mapDeps([216,1,217]),import.meta.url),"../fixtures/help/index.ts":()=>we(()=>import("./index-DmEJZkku.js"),__vite__mapDeps([218,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>we(()=>import("./index-CvJOUTMa.js"),__vite__mapDeps([219,202,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>we(()=>import("./index-D3JjGrAr.js"),__vite__mapDeps([220,1]),import.meta.url),"../fixtures/legend/index.ts":()=>we(()=>import("./index-BQ5LdZM1.js"),__vite__mapDeps([221,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>we(()=>import("./index-DfBQGUHv.js"),__vite__mapDeps([222,1,223]),import.meta.url),"../fixtures/metadata/index.ts":()=>we(()=>import("./index-BdL8xl4z.js"),__vite__mapDeps([224,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>we(()=>import("./index-BC_Kq5GW.js"),__vite__mapDeps([225,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>we(()=>import("./index-B49TqOJy.js"),__vite__mapDeps([226,1,227]),import.meta.url),"../fixtures/panguard/index.ts":()=>we(()=>import("./index-CpACb_fY.js"),__vite__mapDeps([228,1,229]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>we(()=>import("./index-BlTrGFVy.js"),__vite__mapDeps([230,1,231]),import.meta.url),"../fixtures/settings/index.ts":()=>we(()=>import("./index-CMTawZvD.js"),__vite__mapDeps([232,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>we(()=>import("./index-CIj3Nh7k.js"),__vite__mapDeps([233,1]),import.meta.url),"../fixtures/swipe/index.ts":()=>we(()=>import("./index-CCSN2t4y.js"),__vite__mapDeps([234,1,235]),import.meta.url),"../fixtures/wizard/index.ts":()=>we(()=>import("./index-H48bzH9o.js"),__vite__mapDeps([236,1]),import.meta.url)});class ude extends Pr{constructor(t){super(t)}exists(t){return t in Pn(this.$vApp.$pinia).items}async add(t,r){let i;if(t in Pn(this.$vApp.$pinia).items)return this.get(t);if(r){if(typeof r!="function")throw new Error("malformed fixture constructor");i=aT.updateBaseToInstance(new r,t,this.$iApi)}else{const n=(await cde[`../fixtures/${t}/index.ts`]()).default;i=new n(t,this.$iApi)}return Pn(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Ne.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(t){const r=this.get(t);if(!r)throw new Error(`Could not find fixture ${t} for removal`);return Pn(this.$vApp.$pinia).removeFixture(r),this.$iApi.event.emit(Ne.FIXTURE_REMOVED,r),r}flush(){const t=Pn(this.$vApp.$pinia);Object.keys(t.items).forEach(i=>{const n=this.get(i);n?.persist&&typeof n?.removed=="function"?n.removed():n&&this.remove(i)})}restore(){const t=Pn(this.$vApp.$pinia);Object.keys(t.items).forEach(i=>{const n=t.items[i];typeof n.added=="function"&&n.added(),this.$iApi.geo.map.created&&typeof n.initialized=="function"&&n.initialized()})}get(t){const r=[];typeof t=="string"?r.push(t):Array.isArray(t)?r.push(...t):r.push(t.id);const i=r.map(n=>{const s=Pn(this.$vApp.$pinia).items[n];if(s)return s});return i.length===1?i[0]:i}isLoaded(t){const r=Pn(this.$vApp.$pinia),i=Array.isArray(t)?t:[t];i.forEach(s=>{r.loadPromises[s]===void 0&&r.addLoadPromise(s)});const n=r.getLoadPromises(i);return Array.isArray(t)?Promise.all(n):n[0]}addDefaultFixtures(t){(!Array.isArray(t)||t.length===0)&&(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const r=Xi(this.$vApp.$pinia);return r.startingFixtures=t,Promise.all(t.map(i=>this.add(i)))}}class aT extends Pr{static updateBaseToInstance(t,r,i){const n=new aT(r,i);return Object.defineProperties(t,{id:{value:r},$iApi:{value:i},persist:{value:t.persist??!0},$vApp:{get(){return n.$vApp}},remove:{value:n.remove},extend:{value:n.extend},config:{get(){return n.config}},mount:{value:n.mount}}),t}id;persist;constructor(t,r){super(r),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,r={}){const i=ot({extends:t,iApi:this.$iApi,data(){return{...r}}}),n=dl(i),{el:s}=this.mount(i,{props:{...r.propsData},app:n});return s}mount(t,{props:r,children:i,element:n,app:s}={}){let o=n,a=Un(t,r,i);return s&&s._context&&(a.appContext=s._context),o||(o=document.createElement("div")),xh(a,o),{vNode:a,destroy:()=>{o&&xh(null,o),o=null,a=null},el:o}}get config(){return Xi(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},r=(i,n=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let s=i.id;n!==void 0&&(s=`${n.id}-${i.index}`),t[s]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(s=>r(s,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>r(i.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const r={};if(typeof this.config.panelWidth=="number")t.forEach(i=>{r[i]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(i=>{r[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(r[i]=this.config.panelWidth[i])}for(const i in r){const n=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(n,{"flex-basis":`${r[i]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const r=Jc(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;t.forEach(n=>{r.items[n].teleport=i?this.config.panelTeleport:this.config.panelTeleport[n],r.items[n].style.width="100%"})}}}class hde extends Pr{panelStore=Jc(this.$vApp.$pinia);updateHTML(t,r,i){const n=this.get(t),s=i?n.screens[i]:Object.values(n.screens)[0];if(hP(s))for(const o in r)s[o].innerHTML=r[o]instanceof HTMLElement?r[o].outerHTML:r[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const i in t.content)if(typeof t.content[i]=="string"){const n=document.createElement("div");n.innerHTML=t.content[i],t.content[i]=n}const r={};return r[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},r[t.id].screens[t.id]=t.content,r}registerHTML(t){const r=this.get(t.id);if(r)return console.error("panel already exist"),r;const i=this.registerHTMLConfig(t);return this.register(i,t.options)}register(t,r){const i=fde(t)?{[t.id]:t.config}:t;if(r){const s=r.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const n=Object.entries(i).reduce((s,[o,a])=>(s.push(new k0(this.$iApi,o,a)),s),[]);return n.forEach(s=>this.panelStore.registerPanel(s)),n.length===1?n[0]:n.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(t){const r=Array.isArray(t)?t:[t];r.forEach(n=>{this.panelStore.regPromises[n]===void 0&&this.panelStore.addRegPromise(n)});const i=this.panelStore.getRegPromises(r);return Array.isArray(t)?Promise.all(i):i[0]}remove(t){const r=this.get(t);r&&(r.isOpen&&this.close(r),this.panelStore.removePanel(r))}get(t){const r=typeof t=="string"?t:t.id;return this.panelStore.items[r]}open(t){let r,i,n;if(typeof t=="string"||t instanceof k0?r=this.get(t):(r=this.get(t.id),{screen:i,props:n}=t),!r)return r;if(r.isOpen&&!r.isVisible)r.minimize();else if(r.isOpen)return r;return i||(r.route&&!n?{screen:i,props:n}=r.route:i=Object.keys(r.screens).pop()),this.show(r,{screen:i,props:n})?(this.panelStore.openPanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ne.PANEL_OPENED,r)):console.error(`Failed to open ${r.id} panel.`),r}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const r=this.get(t);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ne.PANEL_CLOSED,r),r)}minimize(t){const r=this.get(t);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ne.PANEL_MINIMIZED,r),r)}move(t,r){const i=this.get(t);return i&&(this.panelStore.movePanel(i,r),i)}toggle(t,r){let i;return typeof t=="string"||t instanceof k0?i=this.get(t):i=this.get(t.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(t):this.close(i):i)}toggleMinimize(t,r){let i;return typeof t=="string"||t instanceof k0?i=this.get(t):i=this.get(t.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible?r?this.open(i):this.minimize(i):i)}pin(t,r){const i=this.get(t);return!i||(r=typeof r<"u"?r:!i.isPinned,!i.isPinned&&!r)||(this.panelStore.pinned=r?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(t,r){const i=this.get(t);if(!i)return i;if(i.screens[r.screen]){if(i.screens[r.screen]?.props){const n=Object.keys(i.screens[r.screen]?.props).filter(o=>o!=="panel"),s=r.props?Object.keys(r.props):[];for(let o=0;o<n.length;o++)if(!s.includes(n[o])&&i.screens[r.screen].props[n[o]].required)return}return r.screen in this.$element._context.components||i.registerScreen(r.screen),i.teleport&&(r.props={header:!!i.teleport?.showHeader,...r.props}),this.panelStore.items[i.id].route=r,i}}setStyle(t,r,i=!1){const n=this.get(t);return n&&(this.panelStore.items[n.id].style=i?r:{...n.style,...r},n)}expand(t,r){const i=this.get(t);return i&&(this.panelStore.items[i.id].expanded=r!==void 0?r:!i.expanded,i)}}function fde(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const dde={};function pde(e,t){const r=vr("panel-screen");return pe(),qt(r,{header:!1,class:"screen-spinner"},{content:Tr(()=>t[0]||(t[0]=[ue("div",{class:"loader"},null,-1)])),_:1})}const mde=oa(dde,[["render",pde],["__scopeId","data-v-d6b3771a"]]),yde=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>we(()=>import("./screen-DTfA3rSk.js"),__vite__mapDeps([237,196,197,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>we(()=>import("./screen-Di-1OKjp.js"),__vite__mapDeps([238,1,239]),import.meta.url),"../fixtures/export/screen.vue":()=>we(()=>import("./screen-H_pAyzbR.js"),__vite__mapDeps([240,212,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>we(()=>import("./screen-fjXoUbCt.js"),__vite__mapDeps([241,1,242]),import.meta.url),"../fixtures/grid/screen.vue":()=>we(()=>import("./screen-DH1Uv4lT.js"),__vite__mapDeps([243,217,1,244]),import.meta.url),"../fixtures/help/screen.vue":()=>we(()=>import("./screen-BKOOZEcN.js"),__vite__mapDeps([245,246,1,247]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>we(()=>import("./screen-CQrCgh2Y.js"),__vite__mapDeps([248,249,1,250]),import.meta.url),"../fixtures/legend/screen.vue":()=>we(()=>import("./screen-C6VgJQcD.js"),__vite__mapDeps([251,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>we(()=>import("./screen-Dx1ZXHzb.js"),__vite__mapDeps([252,246,1,253]),import.meta.url),"../fixtures/settings/screen.vue":()=>we(()=>import("./screen-B5zq0wPe.js"),__vite__mapDeps([254,249,255,256,1,257]),import.meta.url),"../fixtures/wizard/screen.vue":()=>we(()=>import("./screen-C5NYwFrU.js"),__vite__mapDeps([258,249,1,259]),import.meta.url)});class k0 extends Pr{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const r=this.screens[t];let i;if(JZ(r)||YZ(r))i=r,this.loadedScreens.push(t);else if(hP(r))i={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let n;typeof r=="string"?n=yde[`../fixtures/${r}`]():n=r();const s=new Promise((o,a)=>{n.then(l=>{this.loadedScreens.push(t),o(KZ(l)?l.default:l)}),n.catch(l=>a(l))});i=fE({loader:()=>s,loadingComponent:mde,delay:200})}this.$iApi.$element.component(t,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,r,i){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:r,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const r=typeof t=="string"?{screen:t}:t;return this.route=r,this.$iApi.panel.show(this,r),this}setStyles(t,r=!1){return this.$iApi.panel.setStyle(this,t,r),this}expand(t){return this.$iApi.panel.expand(this,t),this}}function gde(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=vde(o);t[o.language]=a});const i=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let n=!1;const s=i.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return n=n||!c,c}));return n&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),s.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:s,configs:t}}function vde(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return wde(e.services,t),bde(e.map,t),Sde(e.ui,t),e.plugins&&xde(e.plugins,t),t}function bde(e,t){if(e.layers&&e.layers.forEach(r=>{t.layers.unshift(_de(r))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const r={};e.components.northArrow.arrowIcon&&(r.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(r.poleIcon=e.components.northArrow.poleIcon),r&&(t.fixtures.northarrow=r,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(r=>{const i={id:r.id,default:{xmin:r.default.xmin,xmax:r.default.xmax,ymin:r.default.ymin,ymax:r.default.ymax,spatialReference:r.spatialReference}};r.full&&(i.full={xmin:r.full.xmin,xmax:r.full.xmax,ymin:r.full.ymin,ymax:r.full.ymax,spatialReference:r.spatialReference}),r.maximum&&(i.maximum={xmin:r.maximum.xmin,xmax:r.maximum.xmax,ymin:r.maximum.ymin,ymax:r.maximum.ymax,spatialReference:r.spatialReference}),t.map.extentSets.push(i)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(r=>{const i={id:r.id,name:r.name,extentSetId:r.extentSetId,lodSetId:r.lodSetId,thumbnailTileUrls:[],hasNorthPole:r.hasNorthPole||!1};r.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[r.id]={id:r.overviewUrl.id||`overviewmap-basemap-${r.id}`,tileSchemaId:r.id,layers:[{id:r.overviewUrl.id||`overviewmap-basemap-${r.id}-0`,layerType:r.overviewUrl.layerType==="esriDynamic"?ke.MAPIMAGE:ke.TILE,url:r.overviewUrl.url,opacity:r.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(i)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(r=>{const i={id:r.id,tileSchemaId:r.tileSchemaId,name:r.name,description:r.description,altText:r.altText,thumbnailUrl:r.thumbnailUrl,layers:[]};r.attribution&&(i.attribution={text:{},logo:{}},r.attribution.text&&(i.attribution.text.disabled=!r.attribution.text.enabled,i.attribution.text.value=r.attribution.text.value),r.attribution.logo&&(i.attribution.logo.disabled=!r.attribution.logo.enabled,i.attribution.logo.altText=r.attribution.logo.altText,i.attribution.logo.value=r.attribution.logo.value,i.attribution.logo.link=r.attribution.logo.link)),r.layers.forEach((n,s)=>{const o={id:n.id||`${r.id}-${s}`,layerType:n.layerType==="esriDynamic"?ke.MAPIMAGE:ke.TILE,url:n.url,opacity:n.opacity??1};i.layers.push(o)}),t.map.basemaps.push(i)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(r=>{if(r.type==="esri-map-image"||r.type==="ogc-wms"){const i={name:r.name??`${r.id} Group`,children:[]};r.sublayers.forEach(n=>{const s={layerId:r.id};n.name&&(s.name=n.name),n.controls&&(s.controls=n.controls),n.disabledControls&&(s.disabledControls=n.disabledControls),r.type==="esri-map-image"?s.sublayerIndex=n.index:(s.sublayerId=n.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),i.children.push(s)}),t.fixtures.legend.root.children.push(i)}else{const i={layerId:r.id};r.controls&&(i.controls=r.controls),r.disabledControls&&(i.disabledControls=r.disabledControls),t.fixtures.legend.root.children.push(i)}})):t.fixtures.legend={root:wS(e.legend.root)})}function wS(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const r=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=of(e.controls,r),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=of(e.disabledControls,r),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(i=>{if(i.layerId)t.children.push(DO(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const n={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(s=>{s.layerId?n.children.push(DO(s)):n.children.push(wS(s))}),t.children.push(n)}else t.children.push(wS(i))}),t}function DO(e){const t=e,r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=of(e.controls,r),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=of(e.disabledControls,r)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function _de(e){const t=o_(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(r=>{const i=o_(r);i.index=r.index,t.sublayers.push(i)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(r=>{const i=o_(r);i.id=r.id,r.currentStyle&&(i.currentStyle=r.currentStyle,console.warn(`currentStyle property provided in layer entry ${r.id} of layer ${e.id} is currently not supported.`)),r.allStyles&&console.warn(`allStyles property provided in layer entry ${r.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(i)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function o_(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=of(e.controls,r),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=of(e.disabledControls,r)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),Ede(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(i=>{const n={field:i.data};i.title&&(n.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(n.visible=i.visible),i.width&&(n.width=i.width),i.sort&&(n.sort=i.sort),typeof i.searchable<"u"&&(n.searchable=i.searchable),i.filter&&(n.filter=i.filter),t.fixtures.grid.columns.push(n)})))),t}function of(e,t){const r=[];return e.forEach(i=>{t.includes("identify")&&i==="query"?r.push("identify"):t.includes("datatable")&&i==="data"?r.push("datatable"):t.includes(i)?r.push(i):console.warn(`Ignored invalid control: ${i}`)}),r}function wde(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(i=>i!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(i=>{typeof e[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function Sde(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const n=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(s=>{const o=s.toLowerCase();n.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${s}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const n=["groupToggle","visibilityToggle"];e.legend.reorderable&&n.push("layerReorder"),e.legend.allowImport&&n.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=n:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:n,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const r=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(n=>{n.forEach(s=>{s==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):s!=="layers"&&r.includes(s)&&!t.fixtures.appbar.items.includes(s.toLowerCase())&&(t.fixtures.appbar.items.push(s.toLowerCase()),(s.toLowerCase()==="help"||s.toLowerCase()==="export"&&!t.fixturesEnabled.includes(s.toLowerCase()))&&t.fixturesEnabled.push(s.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(n=>{typeof e[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)})}function xde(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(r=>({title:`${r["title-en-CA"]} / ${r["title-fr-CA"]}`,thumbnail:r.thumbnailUrl,altText:r.altText??"",description:r.description??"",extent:{xmin:r.xmin,xmax:r.xmax,ymin:r.ymin,ymax:r.ymax,spatialReference:{wkid:r.wkid}}}))}))}function Ede(e,t){const r=e.outfields&&e.outfields!=="*";if(!r&&!e.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(i.fieldInfo=e.fieldMetadata.map(n=>{const s={name:n.data};return n.alias&&(s.alias=n.alias),s}),r&&(e.outfields.split(",").map(s=>s.trim()).forEach(s=>{i.fieldInfo.findIndex(o=>o.name===s)===-1&&i.fieldInfo.push({name:s})}),i.exclusiveFields=!0)):r&&(i.fieldInfo=e.outfields.split(",").map(n=>({name:n.trim()})),i.exclusiveFields=!0),t.fieldMetadata=i}var qu={major:"4",minor:"11",patch:"0-beta",timestamp:"Mon Feb 3 17:07:41 2025 -0500",hash:"44d428ddc2b979e7e89ea9b2bde4a086526fcfa1"};console.info(`RAMP v${qu.major}.${qu.minor}.${qu.patch} [${qu.hash.slice(0,9)}] (Built on ${new Date(qu.timestamp.toString()).toLocaleString()})`);const zf=qu;function l1e(e){return gde(e)}const c1e=(e,t,r)=>new Jhe(e,t,r),Th=new HZ;export{yj as $,it as A,Qd as B,le as C,Vr as D,B0 as E,aT as F,rp as G,Qp as H,Xc as I,WC as J,Pt as K,Kge as L,Kt as M,Qa as N,vN as O,Ri as P,fU as Q,vme as R,jpe as S,_me as T,wr as U,Ut as V,pme as W,ds as X,mj as Y,Sme as Z,Oge as _,Ux as a,iye as a$,gp as a0,WS as a1,Jm as a2,Qc as a3,qme as a4,_s as a5,JW as a6,a1e as a7,Xo as a8,sm as a9,tme as aA,OW as aB,_x as aC,Xp as aD,wt as aE,Zr as aF,AW as aG,m4 as aH,MW as aI,Er as aJ,YC as aK,lf as aL,Pc as aM,lF as aN,Ah as aO,gn as aP,HC as aQ,b1 as aR,IG as aS,Je as aT,D7 as aU,nm as aV,op as aW,QF as aX,C0e as aY,$0e as aZ,af as a_,u5 as aa,f5 as ab,h5 as ac,c5 as ad,c4 as ae,hge as af,p0e as ag,BD as ah,vye as ai,Dz as aj,Sye as ak,xye as al,mye as am,up as an,fx as ao,bi as ap,q7 as aq,wye as ar,T_ as as,tye as at,GV as au,Ue as av,zn as aw,ro as ax,tpe as ay,Zo as az,Y1 as b,l_ as b$,ra as b0,fe as b1,mx as b2,PW as b3,d5 as b4,rx as b5,uq as b6,D6 as b7,fye as b8,Iye as b9,rm as bA,l1e as bB,xme as bC,bme as bD,Hge as bE,Gc as bF,L1 as bG,ej as bH,Td as bI,A6 as bJ,bye as bK,_ye as bL,B0e as bM,z0e as bN,H0e as bO,W0e as bP,q0e as bQ,um as bR,AG as bS,N7 as bT,uge as bU,im as bV,DW as bW,FW as bX,UW as bY,E0e as bZ,BC as b_,Kz as ba,dp as bb,fp as bc,oye as bd,dye as be,uo as bf,Gye as bg,al as bh,Wme as bi,kc as bj,Hde as bk,C7 as bl,ut as bm,FC as bn,dt as bo,Ome as bp,G0e as bq,Gr as br,N1 as bs,Rme as bt,Yv as bu,F0e as bv,Lpe as bw,Cr as bx,sp as by,em as bz,$d as c,_1 as c$,zO as c0,Ide as c1,eC as c2,tC as c3,rj as c4,O$ as c5,C$ as c6,Pme as c7,C1 as c8,$1 as c9,yU as cA,Mh as cB,JS as cC,vpe as cD,N0e as cE,Pde as cF,ag as cG,R7 as cH,_pe as cI,X7 as cJ,eu as cK,ib as cL,l5 as cM,KS as cN,Rc as cO,A0e as cP,Zj as cQ,Ode as cR,Gpe as cS,hye as cT,Pge as cU,k2 as cV,I0e as cW,rge as cX,fge as cY,rW as cZ,iW as c_,tp as ca,M$ as cb,yye as cc,$ge as cd,sg as ce,Uz as cf,Aye as cg,Fz as ch,Tye as ci,A$ as cj,Rde as ck,cC as cl,KO as cm,XO as cn,QO as co,Vde as cp,Qv as cq,D$ as cr,mf as cs,$_ as ct,Jt as cu,C_ as cv,P_ as cw,ng as cx,wx as cy,gpe as cz,c1e as d,zt as d$,Bde as d0,Jge as d1,Xge as d2,Zge as d3,Eye as d4,oge as d5,pge as d6,dme as d7,Ame as d8,Jme as d9,y0e as dA,dA as dB,upe as dC,Upe as dD,fpe as dE,hpe as dF,Js as dG,OS as dH,ame as dI,ome as dJ,JV as dK,cm as dL,ot as dM,nr as dN,Jc as dO,Ahe as dP,tt as dQ,vr as dR,$t as dS,Ct as dT,pe as dU,qt as dV,Tr as dW,ue as dX,Ee as dY,El as dZ,mr as d_,Dpe as da,DS as db,a$ as dc,q6 as dd,Ei as de,Ts as df,vf as dg,fo as dh,au as di,Nde as dj,wC as dk,T1 as dl,Ix as dm,W1 as dn,vp as dp,ps as dq,Zq as dr,HS as ds,Xq as dt,yme as du,yge as dv,v_ as dw,bf as dx,v0e as dy,T0e as dz,Ige as e,Tq as e$,$e as e0,Lt as e1,zr as e2,ne as e3,Mg as e4,Hg as e5,xm as e6,Xr as e7,oi as e8,Ms as e9,W0 as eA,O0e as eB,tm as eC,Dde as eD,r0e as eE,$me as eF,XU as eG,QU as eH,kde as eI,Hme as eJ,ZU as eK,$de as eL,o0e as eM,_$ as eN,Jde as eO,Ppe as eP,CS as eQ,RC as eR,MU as eS,VS as eT,m0e as eU,kS as eV,zC as eW,pq as eX,Eme as eY,$7 as eZ,cF as e_,oo as ea,Yt as eb,Mhe as ec,Ne as ed,tr as ee,Xe as ef,fE as eg,MG as eh,bs as ei,kpe as ej,LG as ek,gye as el,IC as em,jge as en,Cge as eo,Q0e as ep,lpe as eq,kge as er,fn as es,Mge as et,Eq as eu,uh as ev,wU as ew,ml as ex,Wu as ey,P1 as ez,uW as f,FN as f$,Aq as f0,Mq as f1,wq as f2,rye as f3,Lge as f4,Nge as f5,rpe as f6,P0e as f7,The as f8,xr as f9,zhe as fA,ir as fB,Gge as fC,Vge as fD,s1e as fE,g4 as fF,Qge as fG,IS as fH,i0 as fI,dm as fJ,V0 as fK,xq as fL,sj as fM,_q as fN,Bhe as fO,yv as fP,oa as fQ,j_ as fR,Ume as fS,jme as fT,Gme as fU,Bme as fV,Vme as fW,zme as fX,cpe as fY,npe as fZ,l$ as f_,Wg as fa,Vhe as fb,d$ as fc,pN as fd,uf as fe,epe as ff,Z0e as fg,U0e as fh,rC as fi,Tpe as fj,UF as fk,zF as fl,HF as fm,$c as fn,Kde as fo,yF as fp,Nc as fq,Bc as fr,Spe as fs,I1 as ft,np as fu,Lde as fv,oj as fw,Nme as fx,Oh as fy,qw as fz,Th as g,mme as g$,DN as g0,RN as g1,x1 as g2,mA as g3,wpe as g4,k8 as g5,Jp as g6,Im as g7,WE as g8,Uhe as g9,GO as gA,Mde as gB,x7 as gC,Ade as gD,E7 as gE,w0e as gF,x0e as gG,jC as gH,G$ as gI,Gj as gJ,xx as gK,ige as gL,tge as gM,Bpe as gN,Vpe as gO,kme as gP,YU as gQ,Ime as gR,WU as gS,mv as gT,gt as gU,GC as gV,HT as gW,ES as gX,TS as gY,$ as gZ,Lme as g_,jhe as ga,OO as gb,Pa as gc,b9 as gd,iT as ge,ke as gf,qhe as gg,Xi as gh,ei as gi,Mo as gj,vs as gk,Za as gl,_l as gm,Pp as gn,Gt as go,Pr as gp,Rv as gq,mg as gr,Yhe as gs,sE as gt,cs as gu,pv as gv,GP as gw,oW as gx,Dx as gy,mq as gz,ge as h,Fde as h$,XF as h0,O1 as h1,Tme as h2,Pfe as h3,Wfe as h4,Lfe as h5,Hhe as h6,q$ as h7,D0 as h8,lr as h9,cge as hA,gc as hB,wE as hC,o5 as hD,h0e as hE,M1 as hF,lN as hG,ZC as hH,Zpe as hI,Kpe as hJ,SF as hK,wF as hL,Yde as hM,k7 as hN,b0e as hO,iq as hP,nye as hQ,Rpe as hR,Cc as hS,V0e as hT,spe as hU,ZO as hV,fme as hW,I$ as hX,ZT as hY,dN as hZ,Mme as h_,Fj as ha,qj as hb,j$ as hc,i0e as hd,rG as he,tG as hf,l0e as hg,S0e as hh,r1e as hi,i1e as hj,t1e as hk,hp as hl,Xde as hm,Qde as hn,Zde as ho,pU as hp,Zhe as hq,Whe as hr,bp as hs,tT as ht,mi as hu,Be as hv,yq as hw,Uge as hx,Un as hy,P7 as hz,rw as i,zge as i$,Pi as i0,yr as i1,qe as i2,Zs as i3,_S as i4,v9 as i5,nk as i6,Ghe as i7,Zc as i8,er as i9,Ze as iA,Xye as iB,Zye as iC,Dq as iD,ege as iE,Qye as iF,jq as iG,jD as iH,TE as iI,bE as iJ,hi as iK,Rge as iL,Dge as iM,Fge as iN,Vye as iO,T7 as iP,Ype as iQ,US as iR,ll as iS,RS as iT,j0e as iU,uz as iV,n0e as iW,n1e as iX,Bge as iY,G7 as iZ,ou as i_,Cde as ia,Rye as ib,gme as ic,qC as id,dr as ie,_F as ig,La as ih,eye as ii,ru as ij,Y7 as ik,G1 as il,IU as im,QT as io,J6 as ip,ype as iq,Cme as ir,Zh as is,As as it,Loe as iu,lo as iv,Ef as iw,Nr as ix,mae as iy,xue as iz,dx as j,cG as j$,_f as j0,B_ as j1,pye as j2,aye as j3,cye as j4,lye as j5,uye as j6,Mye as j7,xT as j8,sye as j9,sq as jA,oq as jB,Yj as jC,a0e as jD,M0e as jE,fG as jF,f0e as jG,Kj as jH,d0e as jI,mge as jJ,q1 as jK,g0e as jL,$U as jM,age as jN,lge as jO,tF as jP,ime as jQ,nme as jR,Fpe as jS,qge as jT,Wge as jU,Xpe as jV,sF as jW,B2 as jX,Oj as jY,s0e as jZ,Lj as j_,xh as ja,zE as jb,ah as jc,k0 as jd,Uo as je,yn as jf,$r as jg,V6 as jh,Jpe as ji,YT as jj,Hz as jk,Xme as jl,Qme as jm,e0e as jn,K7 as jo,Hpe as jp,wme as jq,_T as jr,Y0e as js,Gde as jt,Zz as ju,Jz as jv,pp as jw,yp as jx,ipe as jy,vx as jz,Es as k,uG as k0,UT as k1,R_ as k2,K0e as k3,R$ as k4,gj as k5,c0e as k6,Qj as k7,Yme as k8,Zme as k9,pj as ka,Dme as kb,Fme as kc,gF as kd,Bye as ke,F$ as kf,Kme as kg,u0e as kh,e1e as ki,qye as kj,Wde as kk,zye as kl,jde as km,I7 as kn,Ude as ko,sge as kp,nge as kq,_0e as kr,dge as ks,J0e as l,BN as m,jt as n,qde as o,hm as p,b as q,lC as r,lt as s,MS as t,A as u,or as v,Yge as w,y4 as x,OD as y,Kr as z};
