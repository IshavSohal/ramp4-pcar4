import{dy as b,dz as x,dQ as w,dR as C,dW as F,dX as O,dC as W,dD as j,dE as o,dH as p,dI as i,dG as s,dY as q,dN as A,dO as n,d_ as D,dF as G,dK as c,dP as H,dL as N,d$ as m}from"./main-BfV_Ya13.js";const T=["content"],z=b({__name:"screen",props:{panel:{type:Object,required:!0}},setup(v){const g=m(()=>import("./header-DpUyjd4J.js")),y=m(()=>import("./item-BMrHe3vd.js")),{t:d}=x(),f=w("iApi"),e=C(),l=()=>{e.value._tippy.hide()},r=t=>{t.key==="Tab"&&e.value?.matches(":focus")&&e.value._tippy.show()},h=t=>{const a=new CustomEvent("refocusLegendItem",{detail:{focusItem:t}});e.value?.dispatchEvent(a)};F(()=>{e.value?.addEventListener("blur",l),e.value?.addEventListener("keyup",r)}),O(()=>{e.value?.removeEventListener("blur",l),e.value?.removeEventListener("keyup",r)});const E=W(()=>{const t=f.fixture.get("legend");return t?[...t.getLegend()]:[]});return(t,a)=>{const _=j("panel-screen"),I=o("focus-list"),L=o("tippy");return s(),p(_,{panel:v.panel},{header:i(()=>[q(A(n(d)("legend.title")),1)]),content:i(()=>[D(n(g)),G((s(),c("div",{content:n(d)("panels.controls.items"),ref_key:"el",ref:e},[(s(!0),c(H,null,N(E.value,u=>(s(),p(n(y),{legendItem:u,key:u.uid,onFocusItem:a[0]||(a[0]=(k,B)=>h(k))},null,8,["legendItem"]))),128))],8,T)),[[I],[L,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{z as default};
