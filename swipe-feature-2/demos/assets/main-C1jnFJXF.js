const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-xrx6-A6m.js","./preload-helper-ExcqyqRp.js","./IdentityManager-bsmJhaNX.js","./intl-BZ4rVvqH.js","./themeUtils-BrF-JySq.js","./uuid-Cl5lrJ4c.js","./substitute-jxPb3u9b.js","./QueueProcessor-CpmXMNb4.js","./Queue-CmNWFva0.js","./ReactiveMap-BIi0AGbF.js","./signal-BCySYmLx.js","./pe-wasm-CRA-qgEz.js","./_commonjsHelpers-DCkdB7M8.js","./WhereClauseCache-Iwe8eau-.js","./LRUCache-CDr563-s.js","./MemCache-BYPidgkh.js","./WhereClause-BW-E7lLT.js","./TimeOnly-C9PYxWjL.js","./arcadeUtils-DiAEjcKx.js","./arcade-CWLeeYFc.js","./unitConversion-q6_TojpV.js","./ImmutableArray-BPVd6ESQ.js","./shared-Bd-P1oYO.js","./Field-LsRjlaGK.js","./fieldType-Db7hPrGE.js","./number-DLimZFJa.js","./featureConversionUtils-DgTpzIiC.js","./OptimizedFeatureSet-DElmmwrI.js","./memoryEstimations-D28a58Kd.js","./FieldsIndex-Be_Wfpai.js","./timeZoneUtils-BAL51Sog.js","./PortalItem-Wo6yUEbz.js","./Basemap-C3OxGW7w.js","./loadAll-5aYWBoho.js","./ElevationLayer-DONHXN_Z.js","./PortalLayer-Dr6RRCM3.js","./layerContainerType-C5CzMsLd.js","./ElevationInfo-Bj1HhVNU.js","./lengthUtils-DRVCuQO6.js","./TimeExtent-DKSNJ8Bm.js","./portalItemUtils-39i3EFy2.js","./projection-Vy0ZlKbO.js","./HeightModelInfo-K3LMoSM2.js","./Layer-yBJ5xxGH.js","./ArcGISCachedService-C2joOcGr.js","./TileInfo-DjeRd3ie.js","./TileKey-DZd6gJy7.js","./ByteSizeUnit-BsxeN7wM.js","./ArcGISService-3OymuQeD.js","./WorkerHandle-BzNXLfVL.js","./workers-Cn0Q7zC8.js","./webStyleSymbolUtils-xZIttNRt.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-T6QEfNTf.js","./webStyleAcceptedFormats-CG7ZQ6BV.js","./Map-J3tYLbTp.js","./CollectionFlattener-ibiTG2xT.js","./mat4f32-DcsiF_Rp.js","./mat4-BvBT-TXm.js","./common-DQOJ18NT.js","./MapView-a8i943Nc.js","./UpdatingHandles-wq5HmkiG.js","./GraphicsCollection-D07OzAOS.js","./Query-Ckfmrrtp.js","./HighlightDefaults-BFAi_kk0.js","./ViewingMode-HRfKv6NR.js","./vec2-maR1OrZI.js","./vec2f64-DohEyf3f.js","./Tile-Du2tCxeG.js","./quickselect-QQC62dOK.js","./normalizeUtils-C3lgASKe.js","./utils-BMNpR1Gg.js","./utils-DFsgVUQE.js","./mat3-CruJiiUv.js","./vec2f32-BbH2jxlN.js","./Scheduler-DIvnu_5f.js","./vec32-Hh3I5M3g.js","./unitBezier-B1N-tmtC.js","./definitions-CPtb4TQS.js","./enums-Dk3osxpS.js","./Texture-DC1tjEGm.js","./getDataTypeBytes-DflDeYgv.js","./imageUtils-DEOjCFU4.js","./Version-HFbi4Hao.js","./ColorBackground-CM_3PwB5.js","./FeatureLayer-CWDLTd8X.js","./queryZScale-BEvn4DAN.js","./FeatureSet-DtKA3fDK.js","./FeatureType-DHSoTEPW.js","./labelingInfo-B-vg02Cj.js","./SimpleRenderer-CtNe7IFc.js","./commonProperties-B4q36lF7.js","./colorRamps-B9kEMOSc.js","./ColorStop-B-_19FAt.js","./visualVariableUtils-D3sN8mQX.js","./UniqueValueRenderer-zmGSldef.js","./defaultCIMValues-CnsXYo_x.js","./enums-BJSSbDkD.js","./RendererLegendOptions-CisM7IbO.js","./RelationshipQuery-CJWPaQPa.js","./NormalizationBinParametersMixin-DkuTYjRb.js","./labelUtils-DAzlzjXq.js","./ScaleRangeLayer-BqqV6BhL.js","./jsonUtils-2dYJ4H-1.js","./parser-DfWy3AVI.js","./popupUtils-e-VnZqU5.js","./scaleUtils-DG9gQKwQ.js","./displayFilterUtils-DK4Lq-BQ.js","./EditBusLayer-SFumNTAy.js","./FeatureEffect-CIb-BrOJ.js","./FeatureFilter-hhIga31u.js","./jsonUtils-Bb0on44Q.js","./typeUtils-C2BveTLc.js","./ClassBreaksRenderer-bcpr25Bi.js","./utils-Bo5cZB6_.js","./heatmapUtils-HQObO0Ak.js","./vec42-CKs01hkn.js","./vec4f64-o2zAXfmz.js","./MD5-C9MwAd2G.js","./RefreshableLayer-B_t3_P6g.js","./TemporalLayer-CK4g5EFN.js","./versionUtils-EyJo6CKr.js","./styleUtils-BL8quQ5y.js","./interfaces-CL2NbQte.js","./GraphicsLayer-BAFRl99x.js","./ImageryLayer-ekR-joSa.js","./multidimensionalUtils-DsEGh-nJ.js","./RasterSymbolizer-3_AtqV9P.js","./dataUtils-DDldp-s7.js","./colorUtils-DZc_maoS.js","./imageBitmapUtils-6A_srLei.js","./utils-DMfmxwYz.js","./cimSymbolUtils-DtFQKqoQ.js","./ClassBreaksDefinition-uW99KtWX.js","./executeForIds-BCkeFh2i.js","./query-B1lW0deU.js","./pbfQueryUtils-6cSNbOS6.js","./pbf-DJxxhVEY.js","./executeQueryJSON-DAl51aHc.js","./MapImageLayer-DtHvU1zH.js","./SublayersOwner-u0l2NIFR.js","./QueryTask-BN24UENC.js","./executeQueryPBF-CWdzA21N.js","./sublayerUtils-v09Ov5V3.js","./ExportImageParameters-BjsvBTUZ.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-DR2Hs4pn.js","./TileLayer-cgAaJhzc.js","./WMSLayer-C3v_G0V5.js","./ExportWMSImageParameters-Cpndokm2.js","./arcade-BHbn7Z2y.js","./query-C6BvEBVx.js","./executeQuery-DGeNz5-o.js","./AttachmentInfo-D9qQZ49j.js","./executeAttributeBinsQuery-VeAGFLor.js","./AttributeBinsFeatureSet-UMzh7wO9.js","./AttributeBinsQuery-B0mSyQbe.js","./queryUtils-DayB3KdG.js","./json-Wa8cmqdu.js","./FixedIntervalBinParameters-BjyN89oQ.js","./executeRelationshipQuery-9sQ14Fd1.js","./executeTopFeaturesQuery-JczX0Aog.js","./queryTopFeatures-DlA2AjhR.js","./TopFeaturesQuery-ufOysYU8.js","./executeForTopIds-tfcIvhbh.js","./executeForTopExtents-niIrf0de.js","./executeForTopCount-BEDsGHdJ.js","./shp.min-CMqZNijN.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-DklpaGsS.js","./index-BW4aSaNQ.js","./index-C0BV8b1p.css","./index-ThcV9m7B.js","./screen.vue_vue_type_script_setup_true_lang-XNp-Y_6z.js","./screen-Cea9pofX.css","./index-CKvT8qGi.js","./index-DVxxOc14.js","./index-1X12IJY7.css","./index-CfeIgpBs.js","./hilight-defs-CqXQYtIh.js","./index-CsxDzTyp.js","./fabric-DTjpQWkB.js","./index-BV-yg2Rg.js","./index-BsdV2qhX.js","./index-BvEfa7Dz.js","./index-DFaam5n8.js","./index-B-RD8a3o.js","./index-B-Xa7qn9.js","./index-JFYfxrEz.js","./screen.vue_vue_type_script_setup_true_lang-BGhsoGRe.js","./index-AwucS0t2.js","./index-B-b4YHI0.js","./index-B6rK4Nn6.js","./index-Cq4g2Tsz.js","./table-state-manager-BeyhKYxv.js","./index-DzhboU0K.js","./index-CYbnDmKd.js","./index-CbXh-FmF.js","./index-LrcMri9P.js","./index-mdDYR684.js","./index-CTZ1kO0r.css","./index-BQny1WNG.js","./index-BunTcK7q.js","./index-CuTAQ9I0.js","./index-C1UMDyxT.css","./index-Davd0JzA.js","./index-D-3-S-HY.css","./index-BgvxDdMt.js","./index-Dti23dwS.css","./index-DrzbugSz.js","./index-B1cxRRgN.js","./index-C_QxS3EC.js","./index-CvnKAIeF.css","./index-D9xDNd4B.js","./screen-9aDF4PoB.js","./screen-QC-VZt__.js","./screen-B_KOI8ka.css","./screen-CpmFa-Ly.js","./screen-BhAMhNKQ.js","./screen-CwbtZ41W.css","./screen-DHpb4rAQ.js","./screen-Cs7bH5d9.css","./screen-CRiA_U05.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-ClTY5JbL.js","./vue.esm-bundler-uQpfRIA6.js","./screen-DH2W8SRu.css","./screen-SAGdOwgV.js","./screen-Cf0c7dKF.js","./screen-CkXxljnt.css","./screen-Dl_vW2Xx.js","./toggle-switch-control-CZ8WE-_q.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-CHyyKAFT.js","./screen-D63VVkFy.css"])))=>i.map(i=>d[i]);
import{_ as ve}from"./preload-helper-ExcqyqRp.js";var Xo=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Xo||{}),jo=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(jo||{}),Zr=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(Zr||{}),fI=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(fI||{}),dI=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(dI||{}),pI=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(pI||{}),Ze=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ze||{}),p1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(p1||{}),Pe=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(Pe||{}),Ts=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(Ts||{}),lr=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(lr||{}),ui=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(ui||{}),Vi=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Vi||{}),Qt=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(Qt||{}),fi=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(fi||{}),ts=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(ts||{}),$h=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))($h||{}),Dr=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Dr||{}),vi=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(vi||{});class Tn{attributes;geometry;style;id;constructor(t,i,r){this.geometry=t,i?this.id=i:this.id=Wh.sharedUtils.generateUUID(),r?this.attributes=r:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const Cg={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function FF(e){return!!Cg[e]||!!Cg[e.toLowerCase()]}function mI(e){return Cg[e]??Cg[e.toLowerCase()]}function Yye(e){return[...mI(e)]}function Kb(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function UF(e,t,i,r=1){const s=(e%360+360)%360/360,n=i<=.5?i*(t+1):i+t-i*t,o=2*i-n;return[Math.round(255*Kb(o,n,s+1/3)),Math.round(255*Kb(o,n,s)),Math.round(255*Kb(o,n,s-1/3)),r]}function Jye(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,s=t?1:17,n=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return n&&(l=o&r,o>>=i,a[3]=s*l/255),l=o&r,o>>=i,a[2]=s*l,l=o&r,o>>=i,a[1]=s*l,l=o&r,o>>=i,a[0]=s*l,a}const Zye=2.2,UT=new Float32Array(1);function Kye(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function m1(e,t,i){return Math.min(Math.max(e,t),i)}function Xye(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function jF(e,t,i){return e+(t-e)*i}function Qye(e,t,i,r,s){return jF(r,s,(e-t)/(i-t))}function ege(e){return e*Math.PI/180}function tge(e){return 180*e/Math.PI}function ige(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function rge(e){return Math.acos(m1(e,-1,1))}function sge(e){return Math.asin(m1(e,-1,1))}function Oh(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function nge(e,t,i=1e-6){return!Oh(e,t,i)&&e>t}function oge(e,t,i=1e-6){return!Oh(e,t,i)&&e<t}function age(e,t,i=1e-6){return Oh(e,t,i)||e>t}const Ig=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function w2(e){return Ig.setFloat64(0,e),Ig.getBigInt64(0)}function BF(e){return Ig.setBigInt64(0,e),Ig.getFloat64(0)}const $y=BigInt("1000000"),VF=yI(1);function yI(e){const t=w2(e=Math.abs(e)),i=BF(t<=$y?$y:t-$y);return Math.abs(e-i)}function lge(e,t,i=VF){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&yI(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=w2(e),s=w2(t);return r<0!=s<0?!1:!((r<s?s-r:r-s)>$y)}function cge(e){return gI(Math.max(-jT,Math.min(e,jT)))}function gI(e){return UT[0]=e,UT[0]}function uge(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(Oh(t,1)&&Oh(i,1)&&Oh(r,1))}const jT=gI(34028234663852886e22);function hge(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let ll;function re(e){return typeof ll[e]=="function"?ll[e]=ll[e](globalThis):ll[e]}ll=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},re.add=(e,t,i,r)=>{(r||ll[e]===void 0)&&(ll[e]=t),i&&re(e)},re.cache=ll,re.add("big-integer-warning-enabled",!0),re.add("esri-deprecation-warnings",!0),re.add("esri-tests-disable-screenshots",!1),re.add("esri-tests-use-full-window",!1),re.add("esri-tests-post-to-influx",!0),re.add("esri-cim-animations-enable-status","enabled"),re.add("esri-cim-animations-spotlight",!1),re.add("esri-cim-animations-freeze-time",!1),re.add("enable-feature:multiple-highlights",!0),(()=>{re.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(re.add("host-browser",e),re.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),re.add("dom",e),re("host-browser")){const t=navigator,i=t.userAgent,r=t.appVersion,s=parseFloat(r);if(re.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),re.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),re.add("khtml",r.includes("Konqueror")?s:void 0),re.add("edge",parseFloat(i.split("Edge/")[1])||void 0),re.add("opr",parseFloat(i.split("OPR/")[1])||void 0),re.add("webkit",!re("wp")&&!re("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),re.add("chrome",!re("edge")&&!re("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),re.add("android",!re("wp")&&parseFloat(i.split("Android ")[1])||void 0),re.add("safari",!r.includes("Safari")||re("wp")||re("chrome")||re("android")||re("edge")||re("opr")?void 0:parseFloat(r.split("Version/")[1])),re.add("mac",r.includes("Macintosh")),!re("wp")&&/(iPhone|iPod|iPad)/.test(i)){const n=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));re.add(n,a),re.add("ios",a)}re("webkit")||(!i.includes("Gecko")||re("wp")||re("khtml")||re("edge")||re.add("mozilla",s),re("mozilla")&&re.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&re.add("esri-mobile",t),i&&re.add("esri-iPhone",i),re.add("esri-geolocation",!!navigator.geolocation)}re.add("esri-wasm","WebAssembly"in globalThis),re.add("esri-performance-mode-frames-between-render",20),re.add("esri-force-performance-mode",!1),re.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),re.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),re.add("esri-atomics","Atomics"in globalThis),re.add("esri-workers","Worker"in globalThis),re.add("web-feat:cache","caches"in globalThis),re.add("esri-workers-arraybuffer-transfer",!re("safari")||Number(re("safari"))>=12),re.add("workers-pool-size",8),re.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),re.add("featurelayer-simplify-payload-size-factors",[1,1,4]),re.add("featurelayer-fast-triangulation-enabled",!0),re.add("featurelayer-animation-enabled",!0),re.add("featurelayer-snapshot-enabled",!0),re.add("featurelayer-snapshot-point-min-threshold",8e4),re.add("featurelayer-snapshot-point-max-threshold",4e5),re.add("featurelayer-snapshot-point-coverage",.1),re.add("featurelayer-query-max-depth",4),re.add("featurelayer-query-pausing-enabled",!1),re.add("featurelayer-advanced-symbols",!1),re.add("featurelayer-pbf",!0),re.add("featurelayer-pbf-statistics",!1),re.add("feature-layers-workers",!0),re.add("feature-polyline-generalization-factor",1),re.add("mapview-transitions-duration",200),re.add("mapview-essential-goto-duration",200),re.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),re.add("mapserver-pbf-version-support",10.81),re.add("mapservice-popup-identify-max-tolerance",20),re.add("request-queue-concurrency-hosted",16),re.add("request-queue-concurrency-non-hosted",4),re.add("curve-densification-coarse-segments",128),re.add("curve-densification-max-segments",2e3),re.add("curve-densification-min-segments",3),re.add("curve-densification-pixels-per-segment",16),re.add("view-readyState-waiting-delay",1e3),re.add("gradient-depth-bias",.01),re.add("gradient-depth-epsilon",1e-8),re("host-webworker")||re("host-browser")&&(re.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),re.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{re.add("esri-image-decode",!0,!0,!0)}).catch(()=>{re.add("esri-image-decode",!1,!0,!0)})}return!1}),re.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function fge(e){}function dge(e){return()=>e}function pge(e){return e}let Oy=class oc{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*oc._m}getInt(){return this._seed=(oc._a*this._seed+oc._c)%oc._m,this._seed}getFloat(){return this.getInt()/(oc._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/oc._m*r}};Oy._m=2147483647,Oy._a=48271,Oy._c=0;const GF=1.5,mge=1/GF,yge=.5;function gge(e,t){return t?e.filter((i,r,s)=>s.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function y1(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function vge(e,t,i){let r,s;return i?(r=t.filter(n=>!e.some(o=>i(o,n))),s=e.filter(n=>!t.some(o=>i(o,n)))):(r=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:r,removed:s}}function bge(e){return e&&typeof e.length=="number"}let vI=class{constructor(){this.last=0}};const bI=new vI;function x2(e,t,i,r){r=r||bI;const s=Math.max(0,r.last-10);for(let o=s;o<i;++o)if(e[o]===t)return r.last=o,o;const n=Math.min(s,i);for(let o=0;o<n;++o)if(e[o]===t)return r.last=o,o;return-1}function wge(e,t,i,r){const s=e.length,n=x2(e,t,s,r);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const en=new Set;function zF(e,t,i=e.length,r=t.length,s,n){if(r===0||i===0)return i;en.clear();for(let a=0;a<r;++a)en.add(t[a]);s=s||bI;const o=Math.max(0,s.last-10);for(let a=o;a<i;++a)if(en.has(e[a])&&(n?.push(e[a]),en.delete(e[a]),e[a]=e[i-1],--i,--a,en.size===0||i===0))return en.clear(),i;for(let a=0;a<o;++a)if(en.has(e[a])&&(n?.push(e[a]),en.delete(e[a]),e[a]=e[i-1],--i,--a,en.size===0||i===0))return en.clear(),i;return en.clear(),i}function xge(e,t,i){const r=e.length;if(t>=r)return e.slice();const s=_I(i),n=new Set,o=[];for(;o.length<t;){const a=Math.floor(s()*r);n.has(a)||(n.add(a),o.push(e[a]))}return o}function _I(e){return e?(BT.seed=e,()=>BT.getFloat()):Math.random}const BT=new Oy;function Sge(e,t){const i=_I(t);for(let r=e.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=e[r];e[r]=e[s],e[s]=n}return e}function qF(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function HF(e,t){return e!=null}const Ege=[];function Age(e){return e instanceof ArrayBuffer}function GS(e){return e?.constructor?.name==="Int8Array"}function wI(e){return e?.constructor?.name==="Uint8Array"}function xI(e){return e?.constructor?.name==="Uint8ClampedArray"}function zS(e){return e?.constructor?.name==="Int16Array"}function SI(e){return e?.constructor?.name==="Uint16Array"}function qS(e){return e?.constructor?.name==="Int32Array"}function EI(e){return e?.constructor?.name==="Uint32Array"}function g1(e){return e?.constructor?.name==="Float32Array"}function v1(e){return e?.constructor?.name==="Float64Array"}function WF(e){return"buffer"in e}const AI=1024;function Tge(e){return v1(e)||g1(e)||qS(e)||zS(e)||GS(e)}function Mge(e){return v1(e)||g1(e)}function $ge(e){return v1(e)?179769e303:g1(e)?3402823e32:EI(e)?4294967295:SI(e)?65535:wI(e)||xI(e)?255:qS(e)?2147483647:zS(e)?32767:GS(e)?127:256}function Oge(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=OI(e);if(t!=null)return t;if(TI(e))return e.clone();if(MI(e))return e.map(ge);if($I(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=ge(e[r]);return i}function S2(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=OI(e);if(t!=null)return t;if(MI(e)){let r=!0;const s=e.map(n=>{const o=S2(n);return n!=null&&o==null&&(r=!1),o});return r?s:null}if(TI(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if($I(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const s=e[r],n=S2(s);if(s!=null&&n==null)return null;i[r]=n}return i}function TI(e){return typeof e.clone=="function"}function MI(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function $I(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function VT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function OI(e){if(GS(e)||wI(e)||xI(e)||zS(e)||SI(e)||qS(e)||EI(e)||g1(e)||v1(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,ge(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ge(i));return t}return null}function HS(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function YF(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&y1(e,t):e instanceof Set?t instanceof Set&&ZF(e,t):e instanceof Map?t instanceof Map&&KF(e,t):!!VT(e)&&VT(t)&&JF(e,t))}function JF(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function ZF(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function KF(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const s=t.get(i);if(s!==r||s===void 0&&!t.has(i))return!1}return!0}function XF(e,t,i=!1){return II(e,t,i)}function WS(e,t){if(t!=null)return t[e]||CI(e.split("."),!1,t)}function kf(e,t,i){const r=e.split("."),s=r.pop(),n=CI(r,!0,i);n&&s&&(n[s]=t)}function GT(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(GT(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(GT(e[i],t[i]))return!0;return!1}return e!==t}function CI(e,t,i){let r=i;for(const s of e){if(r==null)return;if(!(s in r)){if(!t)return;r[s]={}}r=r[s]}return r}function II(e,t,i){return t?Object.keys(t).reduce((r,s)=>{let n=r[s],o=t[s];return n===o?r:n===void 0?(r[s]=ge(o),r):(Array.isArray(o)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{n.includes(a)||n.push(a)}):r[s]=o.slice())):o&&typeof o=="object"?r[s]=II(n,o,i):r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[s]=o),r)},e||{}):e}const Ct={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(XF(Ct,globalThis.esriConfig,!0),delete Ct.has),!Ct.assetsPath){{const e="4.32";Ct.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Ct.defaultAssetsPath=Ct.assetsPath}const QF=/\{([^}]+)\}/g;function zT(e){return e??""}function YS(e,t){return t?e.replaceAll(QF,typeof t=="object"?(i,r)=>zT(WS(r,t)):(i,r)=>zT(t(r))):e}function Cge(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t?.includes(i)?i:`\\${i}`)}function PI(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let qT;function Ige(e){return qT??=new DOMParser,qT.parseFromString(e||"","text/html").body.innerText||""}function Pge(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function Lge(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const HT={info:0,warn:1,error:2,none:3};let kt=class ps{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,ps._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=ps.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,ps._loggers.get(t)||new ps({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!ps._throttlingDisabled){const s=tU(r),n=this._loggedMessages[t].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=ps._tickCounter)return;this._loggedMessages[t].set(s,ps._tickCounter),ps._scheduleTickCounterIncrement()}for(const s of Ct.log.interceptors)if(s(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const s=r[t];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",eU)}_matchLevel(t){const i=Ct.log.level||"warn";return HT[this._parentWithMember("level",i)]<=HT[t]}static _scheduleTickCounterIncrement(){ps._tickCounterScheduled||(ps._tickCounterScheduled=!0,Promise.resolve().then(()=>{ps._tickCounter++,ps._tickCounterScheduled=!1}))}};function eU(e,t,...i){console[e](`[${t}]`,...i)}function tU(...e){return PI(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}kt._loggers=new Map,kt._tickCounter=0,kt._tickCounterScheduled=!1,kt._throttlingDisabled=!1;function Nge(e,t){for(const i of e.values())if(t(i))return!0;return!1}function kge(e,t){for(const i of e.values())if(t(i))return i;return null}function LI(e,t,i){const r=e.get(t);if(r!==void 0)return r;const s=i();return e.set(t,s),s}function Rge(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const Ch=()=>kt.getLogger("esri.core.accessorSupport.ensureTypes");function iU(e){return e==null?e:new Date(e)}function rU(e){return e==null?e:!!e}function sU(e){return e==null?e:e.toString()}function b1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function JS(e){return e==null?e:Math.round(parseFloat(e))}function nU(e){return null}function oU(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function NI(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function Pg(e,t){return t!=null&&e&&!(t instanceof e)}function kI(e){return e&&"isCollection"in e}function WT(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function aU(e,t){if(!t?.constructor||!kI(t.constructor))return E2(e,t)?t:new e(t);const i=WT(e.prototype.itemType),r=WT(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(E2(e,t),t):new e(t):t}function E2(e,t){return!!NI(t)&&(Ch().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+_1(e)+"'"),!0)}function lU(e,t){return t==null?t:kI(e)?aU(e,t):Pg(e,t)?E2(e,t)?t:new e(t):t}function _1(e){return e?.prototype?.declaredClass||"unknown"}const cU=new WeakMap;function uU(e){switch(e){case Number:return t=>b1(t);case Li:return JS;case Boolean:return rU;case String:return sU;case Date:return iU;case ZS:return nU;default:return LI(cU,e,()=>lU.bind(null,e))}}function Mn(e,t){const i=uU(e);return arguments.length===1?i:i(t)}function Fp(e,t,i){return arguments.length===1?Fp.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function hU(e,t){return arguments.length===1?Fp(i=>Mn(e,i)):Fp(i=>Mn(e,i),t)}function RI(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>RI(e,t-1,r)):e(i)}function Lg(e,t,i){if(arguments.length===2)return n=>Lg(e,t,n);if(!i)return i;i=RI(e,t,i);let r=t,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function fU(e,t,i){return arguments.length===2?Lg(r=>Mn(e,r),t):Lg(r=>Mn(e,r),t,i)}function DI(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function A2(e,t){if(arguments.length===2)return A2(e).call(null,t);const i=new Set,r=e.filter(a=>typeof a!="function"),s=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||i.add(a);let n=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(i.has(a)||s.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&s.some(d=>!Pg(a,d))?a:(f&&r.length?(n||(n=r.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),Ch().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof a=="object"&&s.length?(o||(o=s.map(d=>_1(d)).join(", ")),Ch().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Ch().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Yh(e,t){if(arguments.length===2)return Yh(e).call(null,t);const i={},r=[],s=[];for(const l in e.typeMap){const c=e.typeMap[l];i[l]=Mn(c),r.push(_1(c)),s.push(l)}const n=()=>`'${r.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Pg(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,f=i[c];if(!f)return Ch().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Pg(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!NI(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return f(d)}return f(l)}}let Li=class{},ZS=class{};const Uge={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function dU(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function FI(e){switch(e.type){case"native":return Mn(e.value);case"array":return Fp(FI(e.value));case"one-of":return pU(e);default:return null}}function pU(e){let t=null;return(i,r)=>M2(i,e)?i:(t==null&&(t=T2(e)),Ch().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function T2(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Li:return"integer";case Date:return"date";case ZS:return"null";default:return _1(e.value)}case"array":return`array of ${T2(e.value)}`;case"one-of":{const t=e.values.map(i=>T2(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function M2(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case Li:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case ZS:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!M2(i,t.value));case"one-of":return t.values.some(i=>M2(e,i))}}function O0(e){return m1(JS(e),0,255)}function C0(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function I0(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let dt=class Ui{static blendColors(t,i,r,s=new Ui){return s.r=Math.round(t.r+(i.r-t.r)*r),s.g=Math.round(t.g+(i.g-t.g)*r),s.b=Math.round(t.b+(i.b-t.b)*r),s.a=t.a+(i.a-t.a)*r,s._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const s=r[2].split(/\s*,\s*/),n=r[1];if(n==="rgb"&&s.length===3||n==="rgba"&&s.length===4){const o=s[0];if(o.charAt(o.length-1)==="%"){const a=s.map(l=>2.56*parseFloat(l));return s.length===4&&(a[3]=parseFloat(s[3])),Ui.fromArray(a,i)}return Ui.fromArray(s.map(a=>parseFloat(a)),i)}if(n==="hsl"&&s.length===3||n==="hsla"&&s.length===4)return Ui.fromArray(UF(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new Ui){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Ui.fromArray([r+16*r,s+16*s,n+16*n,(o+16*o)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Ui.fromArray([r,s,n,o/255],i)}default:return null}}static fromArray(t,i=new Ui){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=FF(t)?mI(t):null;return r&&Ui.fromArray(r,i)||Ui.fromRgb(t,i)||Ui.fromHex(t,i)}static fromJSON(t){return t!=null?new Ui([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Ui.fromString(t,this):Array.isArray(t)?Ui.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ui||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=t?.capitalize??!1,r=t?.digits??6,s=r===3||r===4,n=r===4||r===8,o=`#${I0(this.r,s)}${I0(this.g,s)}${I0(this.b,s)}${n?I0(Math.round(255*this.a),s):""}`;return i?o.toUpperCase():o}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Ui.AlphaMode.ALWAYS){const i=O0(this.r),r=O0(this.g),s=O0(this.b);return t===Ui.AlphaMode.ALWAYS||this.a!==1?[i,r,s,O0(255*this.a)]:[i,r,s]}clone(){return new Ui(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(C0(this.r,0,255)),this.g=Math.round(C0(this.g,0,255)),this.b=Math.round(C0(this.b,0,255)),this.a=C0(this.a,0,1),this}_set(t,i,r,s){this.r=t,this.g=i,this.b=r,this.a=s}};dt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(dt);function g(e,t,i,r){var s,n=arguments.length,o=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}function jge(e,t){return function(i,r){t(i,r,e)}}function Bge(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function l(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?n(f.value):s(f.value).then(a,l)}c((r=r.apply(e,[])).next())})}function Vge(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:r,async:i})}return t}var mU=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Gge(e){function t(n){e.error=e.hasError?new mU(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var i,r=0;function s(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}const YT=new WeakMap;function yU(e,t,i=!1){const r=`ðŸ›‘ DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=YT.get(e);s||(s=new Set,YT.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}function gU(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;Up(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function zge(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;Up(e,`Property: ${(r?r+"::":"")+t}`,i)}}function vU(e,t,i={}){re("esri-deprecation-warnings")&&Up(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function Up(e,t,i={}){if(re("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:o}=i;let a=t;if(r&&(a+=`
	ðŸ› ï¸ Replacement: ${r}`),s&&(a+=`
	âš™ï¸ Version: ${s}`),n)if(Array.isArray(n)){a+=`
	ðŸ”— See for more details:`;for(const l of n)a+=`
		${l}`}else a+=`
	ðŸ”— See ${n} for more details.`;yU(e,a,o)}}function qge(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function Hge(e,t){for(const i of e)if(i!=null&&t(i))return i}function JT(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let KS=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(JT(t)){const r=this._getOrCreateGroup(i);for(const s of t)KT(s)&&r.push(s)}else KT(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(P0(t))}remove(t){if(typeof t!="string"&&JT(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(ZT(this._getGroup(t)),this._groups.delete(P0(t)),this):this}removeAll(){return this._groups.forEach(ZT),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(P0(t),i),i}_getGroup(t){return this._groups.get(P0(t))}};function P0(e){return e||"_default_"}function ZT(e){for(const t of e)t instanceof KS?t.removeAll():t.remove()}function KT(e){return e!=null&&(!!e.remove||e instanceof KS)}function bU(e,t){if(e==null)throw new Error(t??"value is None")}function Cy(e){return e?.destroy(),null}function Yge(e){return e?.dispose(),null}function Rf(e){return e?.remove(),null}function UI(e){return e?.abort(),null}function Jge(e){return e?.release(),null}function Zge(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function _U(e,t){let i;return e.some((r,s)=>(i=t(r,s),i!=null)),i??void 0}const jI=Symbol("Accessor-beforeDestroy"),wU={remove:()=>{}};function Ti(e){return e?{remove(){e&&(e(),e=void 0)}}:wU}function BI(e){e.forEach(t=>t?.remove())}function Kge(e){BI(e),e.length=0}function XS(e){return Ti(()=>BI(e))}function Xge(e){return Ti(()=>e()?.remove())}function Qge(e){return Ti(()=>e?.abort())}function xU(e){return Ti(e!=null?()=>e.destroy():void 0)}function wl(e){return e.__accessor__??null}function SU(e,t){return e?.metadata?.[t]!=null}function Iy(e,t,i){return i?Ng(e,t,{policy:i,path:""}):Ng(e,t,null)}function Ng(e,t,i){return t?Object.keys(t).reduce((r,s)=>{const n=s;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${s}`:s,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[n]))return r[n]=t[n],r;if(r[n]===void 0)return r[n]=ge(t[n]),r;let l=r[n],c=t[n];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[n]=l.slice():r[n]=[l]:r[n]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(i){const f=i.path;i.path=o,r[n]=Ng(l,c,i),i.path=f}else r[n]=Ng(l,c,null);else r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[n]=c);return r},e||{}):e}function VI(e){return Array.isArray(e)?e:e.split(".")}function XT(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function EU(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...XT(i));return t}return XT(e)}function GI(e,t,i,r){const s=EU(t);if(s.length!==1){const n=s.map(o=>r(e,o,i));return XS(n)}return r(e,s[0],i)}function zI(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=wl(t);return SU(r,i)?r.get(i):t[i]}function qI(e,t,i){if(e==null)return e;const r=zI(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:qI(r,t,i+1)}function Fm(e,t,i=0){return typeof t!="string"||t.includes(".")?qI(e,VI(t),i):zI(t,e)}function Jh(e,t){return Fm(e,t)}function QT(e,t){return Fm(t,e)!==void 0}var Qr;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Qr||(Qr={}));function Um(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=ge(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function w1(e,t){const i=Um(e);let r=i[t];return r||(r=i[t]={}),r}function AU(e,t){return Iy(e,t,MU)}const TU=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function MU(e){return TU.test(e)?"replace":"merge"}function $U(e){return e?.release&&typeof e.release=="function"}function OU(e){return e?.acquire&&typeof e.acquire=="function"}let jm=class $2{constructor(t,i,r,s=1,n=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if($2.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):OU(i)&&i.acquire(...t),i}release(t){t&&!$2.test.disabled&&(this._releaseFunction?this._releaseFunction(t):$U(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};jm.test={disabled:!1};let CU=class{constructor(t,i){this._observers=t,this._observer=i}remove(){qF(this._observers,this._observer)}},HI=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return IU;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let o=0;o<n;++o){const a=i[o];if(a.destroyed)s=!0;else if(a===t){r=!0;break}}return r||(i.push(t),s&&this._removeDestroyedObservers()),new CU(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&t[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;t[s]=t[s+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const IU=Ti();var ct;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(ct||(ct={}));const ive=ct.USER+1;function WI(e){switch(e){case"defaults":return ct.DEFAULTS;case"service":return ct.SERVICE;case"portal-item":return ct.PORTAL_ITEM;case"web-scene":return ct.WEB_SCENE;case"web-map":return ct.WEB_MAP;case"link-chart":return ct.LINK_CHART;case"user":return ct.USER;default:return null}}function O2(e){switch(e){case ct.DEFAULTS:return"defaults";case ct.SERVICE:return"service";case ct.PORTAL_ITEM:return"portal-item";case ct.WEB_SCENE:return"web-scene";case ct.WEB_MAP:return"web-map";case ct.LINK_CHART:return"link-chart";case ct.USER:return"user"}}function PU(e){return O2(e)}var vt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(vt||(vt={}));let x1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const kg=new x1,xd=[];let np=kg;function Ye(e){np.onAccessed(e)}let Py=!1,Ly=!1;function xl(e,t,i){if(Py)return QS(e,t,i);let r=null;return YI(e),r=t.call(i),JI(),r}function LU(e,t){return xl(kg,e,t)}function QS(e,t,i){const r=Py;Py=!0,YI(e);let s=null;try{s=t.call(i)}catch(n){Ly&&kt.getLogger("esri.core.accessorSupport.tracking").error(n)}return JI(),Py=r,s}function YI(e){np=e,xd.push(e)}function JI(){const e=xd.length;if(e>1){const t=xd.pop();np=xd[e-2],t.onTrackingEnd()}else if(e===1){const t=xd.pop();np=kg,t.onTrackingEnd()}else np=kg}function ZI(e,t){if(t.flags&vt.DepTrackingInitialized)return;t.flags|=vt.DepTrackingInitialized;const i=Ly;Ly=!1,t.flags&vt.AutoTracked?QS(t.trackingTarget,t.metadata.get,e):KI(e,t),Ly=i}const NU=[];function KI(e,t){t.flags&vt.ExplicitlyTracking||(t.flags|=vt.ExplicitlyTracking,QS(t.trackingTarget,()=>{const i=t.metadata.dependsOn||NU;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=VI(r);for(let n=0,o=e;n<s.length&&o!=null&&typeof o=="object";++n)o=e4(o,s[n],n!==s.length-1)}else e4(e,r,!1)}),t.flags&=~vt.ExplicitlyTracking)}function e4(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=wl(e);if(s){const n=s.propertiesByName.get(r);n&&(Ye(n),ZI(e,n))}return i?e[r]:void 0}let t4=class extends HI{constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new x1(this),this.flags=0,this.flags=vt.Dirty|(i.nonNullable?vt.NonNullable:0)|(i.hasOwnProperty("value")?vt.HasDefaultValue:0)|(i.get===void 0?vt.DepTrackingInitialized:0)|(i.dependsOn===void 0?vt.AutoTracked:0)}destroy(){this.flags&vt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ye(this);const i=t.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&vt.Computing||~s&vt.Dirty&&i.has(r))return n;this.flags|=vt.Computing;const o=t.host;let a;s&vt.AutoTracked?a=xl(this.trackingTarget,this.metadata.get,o):(KI(o,this),a=this.metadata.get.call(o)),this.flags|=vt.DepTrackingInitialized,i.set(r,a,ct.COMPUTED);const l=i.get(r);return l===n?this.flags&=~vt.Dirty:LU(this.commit,this),this.flags&=~vt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~vt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&vt.Overridden&&(this.flags|=vt.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},kU=class XI{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new XI;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r))}),i}get(t){return this._values.get(t)}originOf(){return ct.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function L0(e,t,i){return e!==void 0}function i4(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&vt.NonNullable)||(r.lifecycle,Qr.INITIALIZING,!1))}let RU=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Qr.INITIALIZING,this.store=new kU,this.mutable=!0,this._origin=ct.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new t4(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=Qr.CONSTRUCTING}constructed(){this.lifecycle=Qr.CONSTRUCTED}destroy(){this.lifecycle=Qr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Qr.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Ye(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&vt.HasDefaultValue)return"defaults"}return O2(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(L0(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);L0(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const s=this.propertiesByName.get(i);if(!L0(s))return"";const n=new x1,o=xl(n,()=>s.metadata.get?.call(t));let a=`${r}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;const l=n.accessed??new Set;if(l.size===0)return a;r+="  ";for(const c of l)c instanceof t4&&(a+=`${r}${c.propertyName}: undefined
`);return a}setAtOrigin(t,i,r){const s=this.propertiesByName.get(t);if(L0(s))return this._setAtOrigin(s,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&vt.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&vt.Overridden&&(i.flags&=~vt.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!i4(r,t,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:o,value:a}=n;if(Xb.release(n),!o)return;i=a}r.flags|=vt.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!i4(r,t,i,this))return;const s=r.metadata.cast;if(s){const o=this._cast(s,i),{valid:a,value:l}=o;if(Xb.release(o),!a)return;i=l}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=WI(t)}getDefaultOrigin(){return O2(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==Qr.INITIALIZING?this._origin:ct.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const s=this.store,n=t.propertyName;s.has(n,r)&&HS(i,s.get(n))&&~t.flags&vt.Overridden&&r===s.originOf(n)||(t.invalidate(),s.set(n,i,r),t.commit(),ZI(this.host,t))}_cast(t,i){const r=Xb.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},DU=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Xb=new jm(DU);function FU(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(WS(r,t)??"").toString())}let QI=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&FU(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},ft=class e5 extends QI{constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ge(i)}catch{return"[object]"}}))}}catch(t){throw kt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new e5(t.name,t.message,t.details)}};ft.prototype.type="error";function Rg(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))Rg(e,r,t[r]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void Rg(Jh(e,s),n,i)}const r=e.__accessor__;r!=null&&UU(t,r),e[t]=i}}function UU(e,t){if(re("esri-unknown-property-errors")&&!jU(e,t))throw new ft("set:unknown-property",BU(e,t))}function jU(e,t){return t.metadata[e]!=null}function BU(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let VU;function GU(){return VU}var r4;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(r4||(r4={}));function zU(e){e.length=0}let Wa=class{constructor(t=50,i=50){this._pool=new jm(Array,void 0,zU,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return Qb.acquire()}static release(t){return Qb.release(t)}static prune(){Qb.prune()}};const Qb=new Wa(100);let qU=class extends jm{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const N0=[];function t5(e){N0.push(e),N0.length===1&&queueMicrotask(()=>{const t=N0.slice();N0.length=0;for(const i of t)i()})}let i5=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var C2;(function(e){const t=(n,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=n[c-1];for(;f<=d;){f=c<<1,f<a&&l(n[f-1],n[f])<0&&++f;const y=n[f-1];if(l(y,p)<=0)break;n[c-1]=y,c=f}n[c-1]=p},i=(n,o)=>n<o?-1:n>o?1:0;function r(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l)}}function*s(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l),yield}}e.sort=r,e.iterableSort=s})(C2||(C2={}));const s4=C2,HU=1.5,WU=1.1;let r5=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new vI,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>n4(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,n4(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=x2(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(x2(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=zF(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){s4.sort(this.data,0,this.length,t)}iterableSort(t){return s4.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(t.call(i,r[n]))return r[n]}filterInPlace(t,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)t.call(i,r[n],n,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=t.call(i,this.data[s],s,this.data);return r}reduce(t,i){let r=i;for(let s=0;s<this.length;++s)r=t(r,this.data[s],s,this.data);return r}has(t){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function n4(e){e.data.length>HU*e.length&&(e.data.length=Math.floor(e.length*WU))}function YU(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return Ti(()=>e.clearTimeout(r))}}}const JU=YU(globalThis);function eE(e){return ZU(e)||s5(e)}function ZU(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function s5(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function n5(e,t,i){if(!eE(e))throw new TypeError("target is not a Evented or EventTarget object");return s5(e)?KU(e,t,i):e.on(t,i)}function KU(e,t,i,r){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,i,r);return Ti(()=>{for(const n of s)e.removeEventListener(n,i,r)})}return e.addEventListener(t,i,r),Ti(()=>e.removeEventListener(t,i,r))}function o5(e,t,i){if(!eE(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=n5(e,t,s=>{r.remove(),i.call(e,s)});return r}function Vr(e="Aborted"){return new ft("AbortError",e)}function jp(e,t="Aborted"){if(ha(e))throw Vr(t)}function S1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function ha(e){const t=S1(e);return t!=null&&t.aborted}function a5(e){if(Bm(e))throw e}function fve(e){if(!Bm(e))throw e}function Wc(e,t){const i=S1(e);if(i!=null){if(!i.aborted)return o5(i,"abort",()=>t());t()}}function XU(e,t){const i=S1(e);if(i!=null)return jp(i),o5(i,"abort",()=>t(Vr()))}function dve(e,t){return S1(t)==null?e:new Promise((i,r)=>{let s=Wc(t,()=>r(Vr()));const n=()=>{s=Rf(s)};e.then(n,n),e.then(i,r)})}function Bm(e){return e?.name==="AbortError"}async function o4(e){try{return await e}catch(t){if(!Bm(t))throw t;return}}async function tE(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(o=>e[o]),s=await tE(r),n={};return i.map((o,a)=>n[o]=s[a]),n}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function pve(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function mve(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function QU(e,t=void 0,i){const r=new AbortController;return Wc(i,()=>r.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(t)},e);Wc(r,()=>{o&&(clearTimeout(o),n(Vr()))})})}function yve(e,t,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s?.abort()},t);const o=()=>r||new ft("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(n===0)throw o();return clearTimeout(n),a},a=>{throw clearTimeout(n),n===0?o():a})}function gve(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return Wc(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function l5(e){return e&&typeof e.then=="function"}function a4(e){return l5(e)?e:Promise.resolve(e)}function vve(e,t=-1){let i,r,s,n,o=null;const a=(...l)=>{if(i){r=l,n&&n.reject(Vr()),n=Bp();const p=n.promise;if(o){const y=o;o=null,y.abort()}return p}if(s=n||Bp(),n=null,t>0){const p=new AbortController;i=a4(e(...l,p.signal));const y=i;QU(t).then(()=>{i===y&&(n?p.abort():o=p)})}else i=1,i=a4(e(...l));const c=()=>{const p=r;r=s=i=o=null,p!=null&&a(...p)},f=i,d=s;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function Bp(){let e,t;const i=new Promise((s,n)=>{e=s,t=n}),r=s=>{e(s)};return r.resolve=s=>e(s),r.reject=s=>t(s),r.timeout=(s,n)=>JU.setTimeout(()=>r.reject(n),s),r.promise=i,r}async function bve(e){await Promise.resolve(),jp(e)}function _ve(e){return e}function wve(e){return 1e3*e}function xve(e){return e}function Sve(e){return .001*e}let ej=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},tj=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},I2=0;const id={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},P2=["prepare","preRender","render","postRender","update","finish"],L2=[],Yc=new r5;let ij=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,c5()}};function rj(){Dc!=null&&(cancelAnimationFrame(Dc),Dc=requestAnimationFrame(iE))}function c5(){Dc==null&&(I2=performance.now(),Dc=requestAnimationFrame(iE))}const Dg={frameTasks:Yc,willDispatch:!1,clearFrameTasks:sj,dispatch:f5,executeFrameTasks:nj,reschedule:rj};function u5(e){const t=new tj(e);return L2.push(t),Dg.willDispatch||(Dg.willDispatch=!0,t5(f5)),t}function Mve(e){const t=new ej(e);return Yc.push(t),c5(),new ij(t)}let Dc=null;function sj(e=!1){Yc.forAll(t=>{t.removed=!0}),e&&h5()}function iE(){const e=performance.now();Dc=null,Dc=Yc.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(iE):null,Dg.executeFrameTasks(e)}function nj(e){const t=e-I2;I2=e;const i=1e3/60,r=Math.max(0,t-i);id.time=e,id.frameDuration=i-r;for(let s=0;s<P2.length;s++){const n=performance.now(),o=P2[s];Yc.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&(id.elapsedFrameTime=performance.now()-e,id.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,id)))}),lj[s].push(performance.now()-n)}h5(),cj.push(performance.now()-e)}const k0=new r5;function h5(){Yc.forAll(e=>{e.removed&&k0.push(e)}),Yc.removeUnorderedMany(k0.data,k0.length),k0.clear()}function f5(){for(;L2.length;){const e=L2.shift();e.isActive&&e.callback()}Dg.willDispatch=!1}function oj(e=1,t){const i=Bp(),r=()=>{ha(t)?i.reject(Vr()):e===0?i():(--e,t5(()=>r()))};return r(),i.promise}function aj(e){return oj(1,e)}async function $ve(e){await aj(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const lj=P2.map(e=>new i5(e)),cj=new i5("total");function uj(e,t){for(const i of e.values())if(t(i))return!0;return!1}function l4(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function Ove(e,t){return t!=null&&e.add(t),e}function rE(e,t){const i=new Set;return l4(i,e),l4(i,t),i}function hj(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function Cve(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function Ive(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function fj(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function Pve(e,t){return fj(rE(e,t),hj(e,t))}let dj=0;function Ny(){return++dj}let sE=class extends x1{constructor(t){super(new pj(t)),this._observer&&c4.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&c4.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},pj=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=mj}};const c4=new FinalizationRegistry(e=>{e.deref()?.destroy()});function mj(){}let Ih=!1;const Fg=[];function d5(e,t){let i=new sE(n),r=null,s=!1;function n(){if(!i||s)return;if(Ih)return void m5(n);const a=r;i.clear(),Ih=!0,s=!0,r=xl(i,e),s=!1,Ih=!1,t(r,a),y5()}function o(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=xl(i,e),s=!1,Ti(o)}function p5(e,t){let i=new sE(s),r=null;function s(){t(r,o)}function n(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=xl(i,e),r):null}return o(),Ti(n)}function yj(e,t){let i=!1,r=!1;const s=!!t?.sync;let n=new sE(()=>{i||r||(r=!0,s?o():queueMicrotask(o))});function o(){r=!1,n&&!i&&(Ih?m5(o):(n.clear(),Ih=!0,i=!0,xl(n,e),i=!1,Ih=!1,y5()))}function a(){n&&(n.destroy(),n=null)}return i=!0,xl(n,e),i=!1,Ti(a)}function m5(e){Fg.includes(e)||Fg.unshift(e)}function y5(){for(;Fg.length;)Fg.pop()()}var op;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(op||(op={}));let Vp=class{constructor(){this.uid=Ny(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,s,n){return this.pool.acquire(op.Untracked,t,i,r,s,n,HS)}static acquireTracked(t,i,r,s){return this.pool.acquire(op.Tracked,t,i,r,null,null,s)}notify(t,i){this.type===op.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,s,n,o,a){this.uid=Ny(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Ny(),this.removed=!0}};Vp.pool=new qU(Vp);const ky=new Wa,aa=new Set;let Ug;function jg(e){aa.delete(e),aa.add(e),Ug||(Ug=u5(bj))}function gj(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function vj(e){for(const t of aa.values())t.target===e&&(t.removed=!0)}function bj(){let e=10;for(;Ug&&e--;){Ug=null;const t=_j(),i=ky.acquire();for(const r of t){const s=r.uid;gj(r),s===r.uid&&r.removed&&i.push(r)}for(const r of aa)r.removed&&(i.push(r),aa.delete(r));for(const r of i)Vp.pool.release(r);ky.release(i),ky.release(t),N2.forEach(r=>r())}}function _j(){const e=ky.acquire();e.length=aa.size;let t=0;for(const i of aa)e[t]=i,++t;return aa.clear(),e}const N2=new Set;function Rve(e){return N2.add(e),Ti(()=>N2.delete(e))}function wj(e,t,i){let r=GI(e,t,i,(s,n,o)=>{let a,l,c=p5(()=>Fm(s,n),(f,d)=>{s.__accessor__?.lifecycle===Qr.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=Vp.acquireUntracked(f,o,d,s,n),l=a.uid),jg(a))});return Ti(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,jg(a)),a=null),r=c=null})});return r}function xj(e,t,i){const r=GI(e,t,i,(s,n,o)=>{let a=!1;return d5(()=>Fm(s,n),(l,c)=>{s.__accessor__.lifecycle!==Qr.DESTROYED?a||(a=!0,HS(c,l)||o.call(s,l,c,n,s),a=!1):r.remove()})});return r}function Sj(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Qr.DESTROYED?r?xj(e,t,i):wj(e,t,i):Ti()}function Ej(e,t,i){let r,s,n=p5(e,(o,a)=>{r&&r.uid!==s?n.remove():(r||(r=Vp.acquireTracked(o,t,a,i),s=r.uid),jg(r))});return Ti(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,jg(r)),r=null),n=null})}function Aj(e,t,i){let r=!1;return d5(e,(s,n)=>{r||(r=!0,i(n,s)||t(s,n),r=!1)})}function Tj(e,t,i=!1,r=YF){return i?Aj(e,t,r):Ej(e,t,r)}function Dve(e){return uj(aa,t=>t.oldValue===e)}function A(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),s=w1(t,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in e&&kt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=r.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const l=typeof n=="string"?n:n.source,c=typeof n=="string"?null:n.overridable===!0;let f;s.dependsOn=[l],s.get=function(){let d=Jh(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=Jh(this,f);p&&(d=d.bind(p))}return d},s.readOnly||(s.set=c?function(d){this._override(i,d)}:function(d){Rg(this,l,d)})}const o=e.type,a=e.types;if(!s.cast){let l;o?l=Mj(o):a&&(l=Array.isArray(a)?Fp(Yh(a[0])):Yh(a)),e.cast=$j(e.cast,l)}AU(s,e),e.range&&(s.cast=oU(s.cast,e.range))}}function g5(e,t,i){const r=w1(e,i);r.json||(r.json={});let s=r.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function Mj(e){let t=0,i=e;if(dU(e))return FI(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(DI(r))return t===0?A2(r):Lg(A2(r),t);if(t===1)return hU(r);if(t>1)return fU(r,t);const s=e;return s.from?s.from:Mn(s)}function $j(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}function Oj(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const s=t[r];i[r].forEach(n=>{t[n]=s}),delete t[r]}}}let Gp=class extends QI{constructor(t,i,r){super(t,i,r)}};Gp.prototype.type="warning";function v5(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const k2=()=>kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function u4(e,t,i){e&&(!i&&!t.read||t.read?.reader||t.read?.enabled===!1||Pj(e)&&kf("read.reader",b5(e),t))}function b5(e){const t=e.ndimArray??0;if(t>1)return Ij(e);if(t===1)return h4(e);if("type"in e&&w5(e.type)){const i=e.type.prototype?.itemType?.Type,r=h4(typeof i=="function"?{type:i}:{types:i});return(s,n,o)=>{const a=r(s,n,o);return a&&new e.type(a)}}return nE(e)}function nE(e){return"type"in e?Cj(e.type):Lj(e.types)}function Cj(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void k2().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,r),n}:e.fromJSON}function _5(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(s=>_5(e,s,i,r-1)):e(t,void 0,i)}function Ij(e){const t=nE(e),i=_5.bind(null,t),r=e.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=i(s,o,r);let a=r,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function h4(e){const t=nE(e);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=t(a,void 0,s);l!==void 0&&o.push(l)}return o}const n=t(i,void 0,s);return n!==void 0?[n]:void 0}}function w5(e){if(!v5(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?oE(t.Type):x5(t.Type))}function Pj(e){return"types"in e?x5(e.types):oE(e.type)}function oE(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||w5(e))}function x5(e){for(const t in e.typeMap)if(!oE(e.typeMap[t]))return!1;return!0}function Lj(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(s,n,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void k2().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=Nj(e));const l=e.key;if(typeof l!="string")return;const c=s[l],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new Gp(`${i}:unsupported`,p,{definition:s,context:o})),void k2().error(p)}const d=new f;return d.read(s,o),r?r(d):d}}function Nj(e){const t={};for(const i in e.typeMap){const r=e.typeMap[i],s=Um(r.prototype);if(typeof e.key=="function")continue;const n=s[e.key];if(!n)continue;if(n.json?.type&&Array.isArray(n.json.type)&&n.json.type.length===1&&typeof n.json.type[0]=="string"){t[n.json.type[0]]=r;continue}const o=n.json?.write;if(!o?.writer){t[i]=r;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(i,c,l),c[l]&&(t[c[l]]=r)}return t}function kj(e){if(e.json||(e.json={}),d4(e.json),p4(e.json),f4(e.json),e.json.origins)for(const t in e.json.origins)d4(e.json.origins[t]),p4(e.json.origins[t]),f4(e.json.origins[t]);return!0}function f4(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function d4(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function p4(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function m4(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=e?.ndimArray??0;e&&(i===1||"type"in e&&v5(e.type))?t.write.writer=Uj:i>1?t.write.writer=jj(i):t.types?Array.isArray(t.types)?t.write.writer=Dj(t.types[0]):t.write.writer=Rj(t.types):t.write.writer=zp}function Rj(e){return(t,i,r,s)=>t?S5(t,e,s)?zp(t,i,r,s):void 0:zp(t,i,r,s)}function S5(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i?.messages){const r=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new ft(`${r}:unsupported`,s,{definition:e,context:i})),kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Dj(e){return(t,i,r,s)=>!t||!Array.isArray(t)?zp(t,i,r,s):zp(t.filter(n=>S5(n,e,s)),i,r,s)}function zp(e,t,i,r){kf(i,Bg(e,r),t)}function Bg(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?Fj(e):e}function Fj(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Uj(e,t,i,r){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>Bg(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[Bg(e,r)],kf(i,s,t)}function E5(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>E5(r,t,i-1)):Bg(e,t)}function jj(e){return(t,i,r,s)=>{let n;if(t===null)n=null;else{n=E5(t,s,e);let o=e,a=n;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)n=[n]}kf(r,n,i)}}function Bj(e,t){return aE(e,"any",t?.origin)}function R2(e,t){return aE(e,"read",t?.origin)}function A5(e,t){return aE(e,"write",t?.origin)}function aE(e,t,i){let r=e?.json;if(r?.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(t==="any"||t in s)&&(r=s)}return r}function Vj(e){const t=Gj(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],s=r.types?zj(r):t;u4(s,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),m4(s,r)}u4(t,e.json,!0),m4(t,e.json)}function Gj(e){return e.json.types?D2(e.json):e.type?T5(e):D2(e)}function zj(e){return e.type?T5(e):D2(e)}function T5(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!DI(i);)i=i[0],t++;return{type:i,ndimArray:t}}function D2(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function qj(e){kj(e)&&(Oj(e),Vj(e))}const e_=new Set,t_=new Set;function ie(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,Wj(t);const i=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!e_.has(s.initialize)&&(e_.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!t_.has(s.destroy)&&(t_.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);e_.clear(),t_.clear();const n=class extends t{constructor(...a){if(super(...a),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const c=this[jI];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let f=0;f<r.length;f++)r[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=Um(t.prototype),n.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function Hj(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&Ye(r);const s=i.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function Wj(e){const t=e.prototype,i=Um(t),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];qj(n),r[s]={enumerable:!0,configurable:!0,get:Hj(s,n),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&n.readOnly?y4("read-only",s):a.lifecycle===Qr.CONSTRUCTED&&n.constructOnly?y4("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,r)}const y4=(e,t)=>{kt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var M5,$5;function Yj(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Pa=Symbol("Accessor-Handles"),F2=Symbol("Accessor-Initialized");let Hi=class Ry{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class o extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}Um(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(n.prototype[a])return n.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:t[a]}for(const a in i){const l=Yj(i[a]);A(l)(o.prototype,a)}return ie(r)(o)}static freeze(t){return t instanceof Ry?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof Ry?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[M5]=null,this[$5]=!1,this.constructor===Ry)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new RU(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[F2]=!0}initialize(){}[jI](){this[Pa]=Cy(this[Pa])}destroy(){this.destroyed||(vj(this),this.__accessor__.destroy(),GU()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[F2]}get destroyed(){return this.__accessor__?.lifecycle===Qr.DESTROYED||!1}commitProperty(t){Jh(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return Rg(this,t,i),this}watch(t,i,r){return gU(kt.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),Sj(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const s of r)s.remove();return}(this[Pa]??=new KS).add(t,i)}removeHandles(t){this[Pa]?.remove(t)}removeAllHandles(){this[Pa]?.removeAll()}removeHandlesReference(t){this[Pa]?.removeReference(t)}hasHandles(t){return this[Pa]?.has(t)===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};M5=Pa,$5=F2;function Uve(e,t,i){return tE(e.map((r,s)=>t.apply(i,[r,s])))}async function jve(e,t,i){return(await tE(e.map((r,s)=>t.apply(i,[r,s])))).map(r=>r.value)}function lE(e){return{ok:!0,value:e}}function cE(e){return{ok:!1,error:e}}function Jj(e){return e!=null&&e.ok===!0?e.value:null}function Zj(e){return e!=null&&e.ok===!1?e.error:null}async function Bve(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return lE(await e)}catch(t){return cE(t)}}async function Vve(e){try{return lE(await e)}catch(t){return a5(t),cE(t)}}function Kj(e,t){return new La(e,t)}let La=class extends Hi{get value(){return Jj(this._result)}get error(){return Zj(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=UI(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(s=>{this._result=lE(s),this._cleanup()},s=>{this._result=cE(s),this._cleanup()}),this._abortHandle=Wc(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Rf(this._abortHandle),this._abortController=null}};g([A()],La.prototype,"value",null),g([A()],La.prototype,"error",null),g([A()],La.prototype,"finished",null),g([A()],La.prototype,"promise",void 0),g([A()],La.prototype,"_result",void 0),La=g([ie("esri.core.asyncUtils.ReactiveTask")],La);let U2=class O5{constructor(){this._emitter=new O5.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){let o=this._listenersMap?.get(s);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,n):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const a=s.map(l=>this.on(l,n));return XS(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),Ti(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(n)??-1;l>=0&&a.splice(l,1)})}once(s,n){const o=this.on(s,a=>{o.remove(),("deref"in n?n.deref():n)?.call(null,a)});return o}hasEventListener(s){const n=this._listenersMap?.get(s);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,o){return this._emitter.emit(n,o)}on(n,o){return this._emitter.on(n,o)}once(n,o){return this._emitter.once(n,o)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=g([ie("esri.core.Evented")],s),s};let i=class extends Hi{constructor(){super(...arguments),this._emitter=new U2.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=g([ie("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(U2);var pt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(pt||(pt={}));function Xj(e){return(t,i)=>{t[i]=e}}let Qj=class extends HI{notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var Qo;let eB=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},tB=class{constructor(t,i,r,s,n){this.target=t,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const Os=new jm(eB,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function g4(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function i_(e){return e?e instanceof Jo?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function r_(e){if(e?.length)return e[0]}function iB(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let n=0;for(;n<s&&e[i+n]===t[r+n];)n++;return n}function C5(e,t,i,r){t&&t.forEach((s,n,o)=>{e.push(s),C5(e,i.call(r,s,n,o),i,r)})}const wa=new Set,xa=new Set,Sa=new Set,s_=new Map;let rB=0,Jo=Qo=class extends U2.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Qo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Qj,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:rB++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Qo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ye(this._observable),this._items}set items(e){this._emitBeforeChanges(pt.ADD)||(this._splice(0,this.length,i_(e)),this._emitAfterChanges(pt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Ti();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Ti(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,s=>{i()?.call(null,s),r.remove()});return r}add(e,t){if(Ye(this._observable),this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(pt.ADD),this}addMany(e,t=this._items.length){if(Ye(this._observable),!e?.length)return this;if(this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,i_(e)),this._emitAfterChanges(pt.ADD),this}at(e){if(Ye(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(pt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ye(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Ye(this._observable);const t=e.map(i_);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(pt.REMOVE)}destroyAll(){this.drain(g4)}destroyMany(e){const t=this.removeMany(e);return t.forEach(g4),t}every(e,t){return Ye(this._observable),this._items.every(e,t)}filter(e,t){Ye(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return Ye(this._observable),this._items.find(e,t)}findIndex(e,t){return Ye(this._observable),this._items.findIndex(e,t)}flatten(e,t){Ye(this._observable);const i=[];return C5(i,this,e,t),new Qo(i)}forEach(e,t){return Ye(this._observable),this._items.forEach(e,t)}getItemAt(e){return Ye(this._observable),this._items[e]}getNextIndex(e){Ye(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Ye(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Ye(this._observable),this._items.indexOf(e,t)}join(e=","){return Ye(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Ye(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Ye(this._observable);const i=this._items.map(e,t);return new Qo({items:i})}reorder(e,t=this.length-1){Ye(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(pt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(pt.MOVE)}return e}}pop(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=r_(this._splice(this.length-1,1));return this._emitAfterChanges(pt.REMOVE),e}push(...e){return Ye(this._observable),this._emitBeforeChanges(pt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(pt.ADD)),this.length}reduce(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Ye(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ye(this._observable),e<0||e>=this.length||this._emitBeforeChanges(pt.REMOVE))return;const t=r_(this._splice(e,1));return this._emitAfterChanges(pt.REMOVE),t}removeMany(e){if(Ye(this._observable),!e?.length||this._emitBeforeChanges(pt.REMOVE))return[];const t=e instanceof Qo?e.toArray():e,i=this._items,r=[],s=t.length;for(let n=0;n<s;n++){const o=t[n],a=i.indexOf(o);if(a>-1){const l=1+iB(t,i,n+1,a+1),c=this._splice(a,l);c&&c.length>0&&r.push.apply(r,c),n+=l-1}}return this._emitAfterChanges(pt.REMOVE),r}reverse(){if(Ye(this._observable),this._emitBeforeChanges(pt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(pt.MOVE),this}shift(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=r_(this._splice(0,1));return this._emitAfterChanges(pt.REMOVE),e}slice(e=0,t=this.length){return Ye(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Ye(this._observable),this._items.some(e,t)}sort(e){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(pt.MOVE),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){Ye(this._observable);const r=(t?pt.REMOVE:0)|(i.length?pt.ADD:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(r),s}toArray(){return Ye(this._observable),this._items.slice()}toJSON(){return Ye(this._observable),this.toArray()}toLocaleString(){return Ye(this._observable),this._items.toLocaleString()}toString(){return Ye(this._observable),this._items.toString()}unshift(...e){return Ye(this._observable),!e.length||this._emitBeforeChanges(pt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(pt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=u5(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const a=Os.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)n=o[l],a.reset(n),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(e,0,n),e+=1,l-=1,c-=1);Os.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Os.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Os.release(a)}}if(i?.length){if(s){const f=[];for(const d of i){const p=s.ensureType(d);p==null&&d!=null||f.push(p)}i=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const f=Os.acquire();f.target=this,f.cancellable=!0;const d=Os.acquire();d.target=this,d.cancellable=!1;for(const p of i)a?(f.reset(p),this.emit("before-add",f),f.defaultPrevented||(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),d.reset(p),this.emit("after-add",d));Os.release(d),Os.release(f)}else{if(c)for(const f of i)r.push(f);else r.splice(e,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new tB(this,i,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Os.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Os.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Os.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Os.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;wa.clear(),xa.clear(),Sa.clear();for(const{added:l,removed:c}of i){if(l)if(Sa.size===0&&xa.size===0)for(const f of l)wa.add(f);else for(const f of l)xa.has(f)?(Sa.add(f),xa.delete(f)):Sa.has(f)||wa.add(f);if(c)if(Sa.size===0&&wa.size===0)for(const f of c)xa.add(f);else for(const f of c)wa.has(f)?wa.delete(f):(Sa.delete(f),xa.add(f))}const r=Wa.acquire();wa.forEach(l=>{r.push(l)});const s=Wa.acquire();xa.forEach(l=>{s.push(l)});const n=this._items,o=t.items,a=Wa.acquire();if(Sa.forEach(l=>{o.indexOf(l)!==n.indexOf(l)&&a.push(l)}),t.listeners&&(r.length||s.length||a.length)){const l={target:this,added:r,removed:s,moved:a},c=t.listeners.length;for(let f=0;f<c;f++){const d=t.listeners[f];d.removed||d.callback.call(this,l)}}Wa.release(r),Wa.release(s),Wa.release(a)}wa.clear(),xa.clear(),Sa.clear()}};Jo.ofType=e=>{if(!e)return Qo;if(s_.has(e))return s_.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends Qo{};return g([Xj({Type:e,ensureType:typeof e=="function"?Mn(e):Yh(e)})],i.prototype,"itemType",void 0),i=g([ie(`esri.core.Collection<${t}>`)],i),s_.set(e,i),i},g([A()],Jo.prototype,"_updating",void 0),g([A()],Jo.prototype,"length",void 0),g([A()],Jo.prototype,"items",null),g([A({readOnly:!0})],Jo.prototype,"updating",null),Jo=Qo=g([ie("esri.core.Collection")],Jo);const mt=Jo;function ar(e,t,i={}){return uE(e,t,i,P5)}function j2(e,t,i={}){return uE(e,t,i,L5)}function uE(e,t,i={},r){let s=null;const n=i.once?(o,a)=>{r(o)&&(Rf(s),t(o,a))}:(o,a)=>{r(o)&&t(o,a)};if(s=Tj(e,n,i.sync,i.equals),i.initial){const o=e();n(o,o)}return s}function hE(e,t,i,r={}){let s=null,n=null,o=null;function a(){s&&n&&(n.remove(),r.onListenerRemove?.(s),s=null,n=null)}function l(f){r.once&&r.once&&Rf(o),i(f)}const c=ar(e,(f,d)=>{a(),eE(f)&&(s=f,n=n5(f,t,l),r.onListenerAdd?.(f))},{sync:r.sync,initial:!0});return o=Ti(()=>{c.remove(),a()}),o}function sB(e,t){return I5(e,null,t)}function nB(e,t){return I5(e,L5,t)}function I5(e,t,i){if(ha(i))return Promise.reject(Vr());const r=e();if(t?.(r))return Promise.resolve(r);let s=null;function n(){s=Rf(s)}return new Promise((o,a)=>{s=XS([Wc(i,()=>{n(),a(Vr())}),uE(e,l=>{n(),o(l)},{sync:!1,once:!0},t??P5)])})}function P5(e){return!0}function L5(e){return!!e}function oB(e,t,i={}){let r=!1;const s=ar(e,(n,o)=>{r||t(n,o)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function N5(e,t){const i=new mt,r=hE(e,"after-splice",({added:s,start:n,deleteCount:o})=>{const a=i.splice(n,o);for(const l of a)l.remove();if(s?.length){const l=s.map(t);i.addMany(l,n)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(r),i}function aB(e,t){const i=new mt,r=N5(e,a=>Kj(async l=>{const c=await t(a,l);if(ha(l))throw c.remove(),Vr();return c})),s=()=>null,n=async a=>{const l=await a.promise,c=r.indexOf(a);c<0||i.splice(c,1,l)};i.addMany(r.items.map(s));for(const a of r)o4(n(a));const o=r.on("after-splice",({added:a,start:l,deleteCount:c})=>{const f=i.splice(l,c);for(const d of f)d?.remove();if(a?.length){i.addMany(a.map(s),l);for(const d of a)o4(n(d))}});return i.addHandles([xU(r),o]),i}const k5={sync:!0},Dy={initial:!0},lB={sync:!0,initial:!0},cB=Object.freeze(Object.defineProperty({__proto__:null,autorun:yj,initial:Dy,mapCollection:N5,mapCollectionAsync:aB,on:hE,once:sB,pausable:oB,sync:k5,syncAndInitial:lB,watch:ar,when:j2,whenOnce:nB},Symbol.toStringTag,{value:"Module"}));let uB=class R5{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new R5;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||r?.origin===i?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??ct.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>this._values.get(r)?.origin===t)}set(t,i,r){if((r=this._normalizeOrigin(r))===ct.DEFAULTS){const s=this._values.get(t);if(s?.origin!=null&&s.origin>r)return}this._values.set(t,new hB(i,r))}delete(t,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(t)?.origin!==i||this._values.delete(t)}has(t,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(t)?.origin===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===ct.DEFAULTS?t:ct.USER}},hB=class{constructor(t,i){this.value=t,this.origin=i}};function fB(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),ct.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),ct.DEFAULTS)})}function dB(e,t,i){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&QT(r,i))return!0}else for(const s of r)if(s===t||s.includes(".")&&s.indexOf(t)===0&&QT(s,i))return!0;return!1}function pB(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function mB(e,t,i,r,s){let n=R2(t[i],s);pB(n)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))n=R2(t[o],s),dB(n,i,r)&&(e[o]=!0)}function yB(e,t,i,r){const s=i.metadata,n=Bj(s[t],r),o=n?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,r):o;a!==void 0&&i.set(t,a)}const D5={origin:"service"};function gB(e,t,i=D5){if(!t||typeof t!="object")return;const r=wl(e),s=r.metadata,n={};for(const o of Object.getOwnPropertyNames(t))mB(n,s,o,t,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(n)){const a=R2(s[o],i).read,l=a?.source;let c;c=l&&typeof l=="string"?Fm(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,i)),c!==void 0&&r.set(o,c)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||yB(e,o,r,i)}r.setDefaultOrigin("user")}function Yve(e,t,i,r=D5){const s={...r,messages:[]};i(s),s.messages?.forEach(n=>{n.type!=="warning"||e.loaded?r?.messages&&r.messages.push(n):e.loadWarnings.push(n)})}function vB(e,t,i,r,s){const n={};return t.write?.writer?.call(e,r,n,i,s),n}function F5(e,t,i,r,s,n){if(!r?.write)return!1;const o=Jh(e,i);if(!s&&r.write.overridePolicy){const a=r.write.overridePolicy.call(e,o,i,n??void 0);a!==void 0&&(s=a)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&n?.layerContainerType&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new ft("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return a&&n?.messages?n.messages.push(a):a&&!n&&kt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===ct.DEFAULTS)&&bB(e,i,n,r,o)||!s.ignoreOrigin&&n?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<WI(n.origin))}function bB(e,t,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(e,t,i??void 0);return y1(o,s)}return!1}return n===s}function Jve(e,t,i,r){const s=wl(e),n=s.metadata,o=A5(n[t],r);return!!o&&F5(e,s,t,o,i,r)}function _B(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Iy(t,e.toJSON(i));const r=wl(e),s=r.metadata;for(const n in s){const o=A5(s[n],i);if(!F5(e,r,n,o,void 0,i))continue;const a=Jh(e,n),l=vB(e,o,o.write&&typeof o.write.target=="string"?o.write.target:n,a,i);Object.keys(l).length>0&&(t=Iy(t,l),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>Iy(t,l,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:e,propName:n,oldOrigin:PU(r.store.originOf(n)),newOrigin:i.origin}))}return t}const U5=e=>{let t=class extends e{constructor(...i){super(...i);const r=wl(this),s=r.store,n=new uB;r.store=n,fB(r,s,n)}read(i,r){gB(this,i,r)}write(i,r){return _B(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return wB.call(this,i,r)}};return t=g([ie("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function wB(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let Sd=class extends U5(Hi){};Sd=g([ie("esri.core.JSONSupport")],Sd),function(e){function t(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}e.JSONSupportMixin=U5,e.isSerializable=t}(Sd||(Sd={}));const Xe=Sd;function tr(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;r.forEach(l=>{const c=g5(n,l,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],i&&(c.read.source=(c.read.source||[]).concat(i))})}}let _o=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=xB(t),this.apiValues=v4(this._apiToJSON),this.jsonValues=v4(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const o=this.toJSON(r);o!==void 0&&kf(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function xB(e){const t={};for(const i in e)t[e[i]]=i;return t}function v4(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Nn(){return function(e,t){return new _o(e,{ignoreUnknown:!0,...t})}}let fE=class{constructor(t,i,r,s,n,o){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const $n=new fE(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),qp=new fE(3396190,1/169.8944472236118,23e4,6e4,.111),E1=new fE(1737400,0,0,0,0),SB=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,EB={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function b4(e){const t=e?.match(SB);if(!t)return null;const[,i,r,s]=t;if(!i)return null;let n=null,o=null,a=null;const{devext:l,qaext:c,www:f}=EB;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:n}}function AB(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function j5(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function TB(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function MB(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const $B=()=>kt.getLogger("esri.core.urlUtils"),Df=Ct.request,_4="esri/config: esriConfig.request.proxyUrl is not set.",B5=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,V5=/^\s*http:/i,OB=/^\s*https:/i,CB=/^\s*file:/i,IB=/:\d+$/,PB=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,LB=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),NB=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Ph=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(LB);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(NB),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const R0={},kB=new Ph(Ct.applicationUrl);let Sr=kB;const RB=DB();let dE=RB;const pE=()=>Sr,e1e=()=>dE;function DB(){const e=Sr.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${Sr.scheme}://${Sr.host}${Sr.port!=null?`:${Sr.port}`:""}`}${t}`}function Oo(e){if(!e)return null;const t={path:null,query:null},i=new Ph(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=mE(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function mE(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const s=r.indexOf("=");let n,o;s<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,s)),o=decodeURIComponent(r.slice(s+1)));let a=i[n];typeof a=="string"&&(a=i[n]=[a]),Array.isArray(a)?a.push(o):i[n]=o}return i}function Hp(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",n=t?.[i];return n?s+encodeURIComponent(n(r)):Array.isArray(r)?r.map(o=>Xe.isSerializable(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):Xe.isSerializable(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function G5(e=!1){let t,i=Df.proxyUrl;if(typeof e=="string"){t=GB(e);const r=A1(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw $B().warn(_4),new ft("urlUtils:proxy-not-set",_4);return t&&B2()&&(i=_E(i)),Oo(i)}function t1e(e,t=!1){const i=A1(e);let r,s;if(i){const n=yE(i.proxyUrl);r=n.path,s=n.query?mE(n.query):null}else if(t){const n=G5(e);r=n.path,s=n.query}if(r){const n=Oo(e);e=r+"?"+n.path;const o=Hp({...s,...n.query});o&&(e=`${e}?${o}`)}return e}const rd={path:"",query:""};function yE(e){const t=e.indexOf("?");return t!==-1?(rd.path=e.slice(0,t),rd.query=e.slice(t+1)):(rd.path=e,rd.query=null),rd}function z5(e){return e=(e=Gg(e=YB(e=yE(e).path),!0)).toLowerCase()}function FB(e){const t={proxyUrl:e.proxyUrl,urlPrefix:z5(e.urlPrefix)},i=Df.proxyRules,r=t.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const o=i[n].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;s=n;break}o.indexOf(r)===0&&(s=n+1)}return i.splice(s,0,t),s}function A1(e){const t=Df.proxyRules,i=z5(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function i1e(e,t){if(!e||!t)return!1;e=Vg(e),t=Vg(t);const i=b4(e),r=b4(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&Zh(e,t,!0)}function UB(e,t){return e=Vg(e),t=Vg(t),Gg(e)===Gg(t)}function Vg(e){const t=(e=dl(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function w4(e,t=Df.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function Zh(e,t,i=!1){if(!e||!t)return!1;const r=G2(e),s=G2(t);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function gE(e){if(typeof e=="string"){if(!wn(e))return!0;e=G2(e)}if(Zh(e,Sr))return!0;const t=Df.trustedServers||[];for(let i=0;i<t.length;i++){const r=jB(t[i]);for(let s=0;s<r.length;s++)if(Zh(e,r[s]))return!0}return!1}function jB(e){return R0[e]||(bE(e)||Cl(e)?R0[e]=[new Ph(Vm(e))]:R0[e]=[new Ph(`http://${e}`),new Ph(`https://${e}`)]),R0[e]}function Vm(e,t=dE,i){return Cl(e)?i?.preserveProtocolRelative?e:Sr.scheme==="http"&&Sr.authority===_s(e).slice(2)?`http:${e}`:`https:${e}`:bE(e)?e:T1(e[0]==="/"?WB(t):t,e)}function q5(e,t=dE,i){if(e==null||!wn(e))return e;const r=dl(e),s=r.toLowerCase(),n=dl(t).toLowerCase().replace(/\/+$/,""),o=i?dl(i).toLowerCase().replace(/\/+$/,""):null;if(o&&n.indexOf(o)!==0)return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(c===-1||o&&c<o.length)return e;e=r.slice(c);const f=n.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)e=`../${e}`;else e=`./${e}`;return e}function dl(e){return e=KB(e=ZB(e=JB(e=Vm(e=e.trim()))))}function T1(...e){const t=e.filter(HF);if(!t?.length)return;const i=[];if(wn(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),qB(t[0])&&(i[0]+="/"),t[0]=s.slice(n+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function _s(e,t=!1){if(e==null||vE(e)||Ff(e))return null;let i=e.indexOf("://");if(i===-1&&Cl(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=Gg(e,!0)),e}function wn(e){return Cl(e)||bE(e)}function vE(e){return e!=null&&e.slice(0,5)==="blob:"}function Ff(e){return e!=null&&e.slice(0,5)==="data:"}function BB(e){const t=Wp(e);return t?.isBase64?TB(t.data):null}function r1e(e){return MB(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const VB=/^data:(.*?)(;base64)?,(.*)$/;function Wp(e){const t=e.match(VB);if(!t)return null;const[,i,r,s]=t;return{mediaType:i,isBase64:!!r,data:s}}function H5(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function s1e(e){return(await fetch(e)).blob()}function n1e(e){const t=BB(e);if(!t)return null;const i=Wp(e);return new Blob([t],{type:i.mediaType})}function Cl(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function bE(e){return e!=null&&B5.test(e)}function GB(e){return e!=null&&OB.test(e)||Sr.scheme==="https"&&Cl(e)}function zB(e){return e!=null&&V5.test(e)||Sr.scheme==="http"&&Cl(e)}function qB(e){return e!=null&&CB.test(e)}function _E(e){return Cl(e)?`https:${e}`:e.replace(V5,"https:")}function HB(){return Sr.scheme==="http"}function B2(){return Sr.scheme==="https"}function Gg(e,t=!1){return Cl(e)?e.slice(2):(e=e.replace(B5,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function WB(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function o1e(e){let t=0;if(wn(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function a1e(e,t){if(!e)return"";const i=Oo(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!t?.length)return r;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(s,"")}function YB(e){return e.endsWith("/")?e:`${e}/`}function W5(e){return e.replace(/\/+$/,"")}function JB(e){if(/^https?:\/\//i.test(e)){const t=yE(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function ZB(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function KB(e){const t=Df.httpsDomains;if(!zB(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),IB.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return HB()&&r===Sr.authority&&!PB.test(e)||(B2()&&r===Sr.authority||t&&t.some(s=>r===s||r.endsWith(`.${s}`))||B2()&&!A1(e))&&(e=_E(e)),e}function V2(e,t,i){if(!(t&&i&&e&&wn(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),n=e.indexOf(":",r+2),o=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(o)}`}function G2(e){return typeof e=="string"?new Ph(Vm(e)):(e.scheme||(e.scheme=Sr.scheme),e)}function l1e(e){return QB.test(e)}function Y5(e,t){const i=Oo(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function XB(e,t,i){const r=Oo(e),s=r.query||{};return s[t]=String(i),`${r.path}?${Hp(s)}`}function n_(e,t){if(!t)return e;const i=Oo(e),r=i.query||{};for(const[n,o]of Object.entries(t))o!=null&&(r[n]=o);const s=Hp(r);return s?`${i.path}?${s}`:i.path}function c1e(e){if(e==null)return null;const t=e.match(J5);return t?t[2]:null}function x4(e){if(e==null)return null;const t=e.match(J5);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function u1e(e){return typeof e=="string"?Wp(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(Wp(r.result)),r.onerror=s=>i(s)})}const J5=/([^.]*)\.([^/]*)$/,QB=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const eV="4.32";let Yt,tV=eV;tV="4.32.10";function h1e(e){Yt=e}function f1e(e){const t=Yt?.findCredential(e);return t?.token?XB(e,"token",t.token):e}re("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),re("host-webworker");function Gm(e,t){const i=t?.url?.path;if(e&&i&&(e=Vm(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=q5(e,t.portalItem.itemUrl);r!=null&&iV.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=z2(e,t?.portal))&&$1.test(e)?K5(e):e}function M1(e,t,i=Yp.YES){if((e=e&&$1.test(e)?X5(e):e)==null)return e;!wn(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=Vm(e);if(t){const s=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(s){const n=z2(s,t.portal),o=z2(r,t.portal);r=q5(o,n,n),r!=null&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=Z5(r,t?.portal),wn(r)&&(r=dl(r)),t?.resources&&t?.portalItem&&!wn(r)&&!Ff(r)&&i===Yp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function wE(e,t,i){return Gm(e,i)}function Kh(e,t,i,r){const s=M1(e,r);s!==void 0&&(t[i]=s)}const $1=/\/items\/([^/]+)\/resources\/(.*)/,iV=/^\.\/resources\//;function rV(e){return(e?.match($1)??null)?.[1]??null}function sV(e){const t=e?.match($1)??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=x4(i);return{prefix:null,filename:o,extension:a}}const{path:s,extension:n}=x4(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function Z5(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?V2(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function z2(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=pE();return Zh(r,`${r.scheme}://${i}`)?V2(e,t.portalHostname,i):V2(e,i,t.portalHostname)}function K5(e){if(!e)return e||null;let t=e;return t&&Yt&&!Yt.findCredential(t)&&(t=j5(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function X5(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Yt&&!Yt.findCredential(t)&&(t=j5(t)),t}var Yp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Yp||(Yp={}));const d1e=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Yp},ensureMainOnlineDomain:Z5,fromCDNUrl:X5,fromJSON:Gm,itemIdFromResourceUrl:rV,prefixAndFilenameFromResourceUrl:sV,read:wE,toCDNUrl:K5,toJSON:M1,write:Kh},Symbol.toStringTag,{value:"Module"})),Q5={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},eP=Object.values(Q5),tP=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${eP.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),nV=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${eP.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),oV=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function p1e(e){return tP.test(e)}function iP(e){if(e==null)return null;const t=Oo(e),i=t?.path.match(tP)||t?.path.match(nV);if(!i)return null;const[,r,s,n,o]=i,a=s.indexOf("/");return{title:rP(a!==-1?s.slice(a+1):s),serverType:Q5[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function aV(e){const t=Oo(e).path.match(oV);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function rP(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function m1e(e,t){const i=[];if(e){const r=iP(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=rP(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function S4(e){let t=_s(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function y1e(e,t){return e&&W5(Y5(e,t))}function g1e(e){let{url:t}=e;if(!t)return{url:t};t=Y5(t,e.logger);const i=Oo(t),r=iP(i.path);let s;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(s=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const n=aV(i.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:W5(t),layerId:s}}function v1e(e,t,i,r,s){Kh(t,r,"url",s),r.url&&e.layerId!=null&&(r.url=T1(r.url,i,e.layerId.toString()))}function b1e(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return i&&(r||s||n)}const lV=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function cV(e){const t=_s(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!lV.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function sP(e,t){return!(!Ct.apiKey||!cV(e))}function uV(e,t,i=!1,r){return new Promise((s,n)=>{if(ha(r))return void n(E4());let o=()=>{c(),n(new Error(`Unable to load ${t}`))},a=()=>{const f=e;c(),s(f)},l=()=>{if(!e)return;const f=e;c(),f.src="",n(E4())};const c=()=>{re("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,r?.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};r?.addEventListener("abort",l),re("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function E4(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const nP="Timeout exceeded";function hV(){return new Error(nP)}function _1e(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===nP}function fV(e){Ct.request.crossOriginNoCorsDomains||(Ct.request.crossOriginNoCorsDomains={});const t=Ct.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[_s(i)??""]=0:(t[_s("http://"+i)??""]=0,t[_s("https://"+i)??""]=0)}function dV(e){const t=Ct.request.crossOriginNoCorsDomains;if(t){let i=_s(e);if(i)return i=i.toLowerCase(),!Zh(i,pE())&&t[i]<Date.now()-36e5}return!1}async function pV(e){const t=Oo(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=Ct.request.crossOriginNoCorsDomains,r=_s(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function Ni(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=mE(t.query.toString().replaceAll("+"," ")));const i=Ff(e),r=vE(e);r||i||(e=dl(e));const s={url:e,requestOptions:{...t}},n=y=>({data:y,getAllHeaders:Xh,getHeader:Xh,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=w4(e,Us.internalInterceptors);if(o){const y=await T4(o,s);if(y!=null)return n(y)}let a=w4(e);if(a){const y=await T4(a,s);if(y!=null)return n(y);a.after||a.error||(a=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(re("host-webworker")||re("host-node")))throw xn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw xn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw xn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await bV(),zg)return zg.execute(e,t);const l=new AbortController,c=Wc(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:Us.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=t.useRequestQueue?EV(f):H2(f),p=await d.finally(()=>c?.remove());return a?.after?.(p),p}let zg;const Us=Ct.request,oP="FormData"in globalThis,mV=new Set([499,498,403,401]),yV=new Set(["COM_0056","COM_0057","SB_0008"]),gV=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Xh=()=>null,qg=Symbol();function vV(e){const t=_s(e);t&&!Ni._corsServers.includes(t)&&Ni._corsServers.push(t)}function A4(e){const t=_s(e);return!t||t.endsWith(".arcgis.com")||Ni._corsServers.includes(t)||gE(t)}function xn(e,t,i,r){let s="Error";const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Xh,getHeader:Xh,ssl:!1};if(t instanceof ft)return t.details?(t.details=ge(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=n,t;if(t){const o=r&&(()=>Array.from(r.headers)),a=r&&(f=>r.headers.get(f)),l=r?.status,c=t.message;c&&(s=c),o&&a&&(n.getAllHeaders=o,n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=qg in t?t[qg]:t}return Bm(t)?Vr():new ft(e,s,n)}async function bV(){re("host-webworker")&&!zg&&(zg=await ve(()=>import("./request-xrx6-A6m.js"),__vite__mapDeps([0,1]),import.meta.url))}async function q2(){Yt||await ve(()=>import("./IdentityManager-bsmJhaNX.js"),__vite__mapDeps([2,1,3,4,5,6]),import.meta.url)}async function _V(e){const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let n=null,o=null;if(oP&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Us.priority,redirect:"follow",signal:r},(n||o)&&(e.fetchOptions.body=n||o),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query?.token||n?.get("token")),!e.hasToken&&sP(t)&&(i.query||(i.query={}),i.query.token=Ct.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!aP(t)&&!ha(r)){let a;i.authMode==="immediate"?(await q2(),a=await Yt.getCredential(t,{signal:r}),e.credential=a):i.authMode==="no-prompt"?(await q2(),a=await Yt.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=a):Yt&&(a=Yt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function aP(e){return gV.some(t=>t.test(e))}async function wV(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},s=vE(t)||Ff(t),n=i.responseType||"json",o=s?0:i.timeout!=null?i.timeout:Us.timeout;let a=!1;if(!s){e.useSSL&&(t=_E(t));let p={...i.query};e.credentialToken&&(p.token=e.credentialToken);let y=Hp(p);re("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const v=t.length+1+y.length;let b;a=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||v>Us.maxUrlLength;const E=i.useProxy||!!A1(t);if(E){const S=G5(t);b=S.path,!a&&b.length+1+v>Us.maxUrlLength&&(a=!0),S.query&&(p={...S.query,...p})}if(r.method==="HEAD"&&(a||E)){if(a)throw v>Us.maxUrlLength?xn("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):xn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(E)throw xn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=n_(t,p):(r.body=Hp(p),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=n_(t,p),E&&(e.useProxy=!0,t=`${b}?${t}`),p.token&&oP&&r.body instanceof FormData&&!AB(t)&&r.body.set("token",p.token),i.hasOwnProperty("withCredentials")?e.withCredentials=i.withCredentials:Zh(t,pE())||(gE(t)||Yt&&Yt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(r.credentials="include",dV(t)&&await pV(a?n_(t,p):t))}let l,c,f=0,d=!1;o>0&&(f=setTimeout(()=>{d=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")c=r,c.url=t,i.signal?c.signal=i.signal:delete c.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||a||xV(i.headers)||!s&&!e.useProxy&&Us.proxyUrl&&!A4(t)){if(Ni._beforeFetch&&await Ni._beforeFetch(t,r),l=await fetch(t,r),Ni._afterFetch&&await Ni._afterFetch(l),e.useProxy||vV(t),i.responseType==="native")c=l;else if(r.method!=="HEAD")if(l.ok){switch(n){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(f&&(clearTimeout(f),f=0),n==="json"||n==="xml"||n==="document")if(c)switch(n){case"json":c=JSON.parse(c);break;case"xml":c=M4(c,"application/xml");break;case"document":c=M4(c,"text/html")}else c=null;if(c){if(n==="array-buffer"||n==="blob"){const p=l.headers.get("Content-Type");if(p&&/application\/json|text\/plain/i.test(p)&&c[n==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}n==="image"&&c instanceof Blob&&(c=await $4(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await $4(t,e)}catch(p){if(p.name==="AbortError")throw d?hV():Vr("Request canceled");if(!(!l&&p instanceof TypeError&&Us.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||A4(t))throw p;e.redoRequest=!0,FB({proxyUrl:Us.proxyUrl,urlPrefix:_s(t)??""})}finally{f&&clearTimeout(f)}return[l,c]}async function T4(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(s){i=xn("request:interceptor",s,t)}if((r instanceof Error||r instanceof ft)&&(i=xn("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function xV(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function M4(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Ni._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Ni._beforeFetch=void 0,Ni._afterFetch=void 0;const SV=new Map;async function EV(e){const t=TV(e.params.url);if(!t)return H2(e);const{QueueProcessor:i}=await ve(()=>import("./QueueProcessor-CpmXMNb4.js"),__vite__mapDeps([7,8,9,10,1]),import.meta.url);return LI(SV,t.origin,()=>{const s=t.isHosted?re("request-queue-concurrency-hosted"):re("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(ha(n.params.requestOptions))throw xn("",Vr("Request canceled"),n.params);return H2(n)}})}).push(e)}async function H2(e){let t,i;await _V(e);try{do[t,i]=await wV(e);while(!await AV(e,t,i))}catch(n){const o=xn("request:server",n,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&i.user?.username&&!gE(r)){const n=_s(r,!0);n&&Us.trustedServers.push(n)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&fV(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Yt){let o=Yt.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Yt.findCredential(o,s.userId);a&&Yt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Xh,getHeader:t?n=>t.headers.get(n):Xh,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function AV(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[qg]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[qg]=i,s;let o,a=null;s&&(n=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=r.authMode;if(n===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&mV.has(n)&&!aP(e.params.url)&&(n!==403||(!o||!yV.has(o))&&(a==null||a===2&&e.credentialToken))){await q2();try{const c=await Yt.getCredential(e.params.url,{error:xn("request:server",s,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=c}}if(s)throw s;return!0}function $4(e,t,i=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Us.priority,s.src=e,uV(s,e,i,r)}function TV(e){let t,i;return typeof e=="string"?(t=_s(e,!0),i=S4(e)):(t=e.origin,i=S4(e.toString())),t==null?null:{origin:t,isHosted:i}}function MV(e){if(!Ct.assetsPath)throw kt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ft("assets:path-not-set","config.assetsPath is not set");return T1(Ct.assetsPath,e)}let o_,q=null;function $V(){return!!q}function OV(){return!!re("esri-wasm")}function CV(){return o_||(o_=ve(()=>import("./pe-wasm-CRA-qgEz.js"),__vite__mapDeps([11,12]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>MV(`esri/geometry/support/${t}`)})).then(e=>{uP(e)}),o_)}var W2,Wt;(function(e){function t(n,o,a){q.ensureCache.prepare();const l=Ac(a),c=a===l,f=q.ensureFloat64(l),d=q._pe_geog_to_proj(q.getPointer(n),o,f);return d&&rl(a,o,f,c),d}function i(n,o,a,l){switch(l){case Wt.PE_TRANSFORM_P_TO_G:return r(n,o,a);case Wt.PE_TRANSFORM_G_TO_P:return t(n,o,a)}return 0}function r(n,o,a){return s(n,o,a,0)}function s(n,o,a,l){q.ensureCache.prepare();const c=Ac(a),f=a===c,d=q.ensureFloat64(c),p=q._pe_proj_to_geog_center(q.getPointer(n),o,d,l);return p&&rl(a,o,d,f),p}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=s})(W2||(W2={})),function(e){function t(){e.PE_BUFFER_MAX=q.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=q.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=q.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=q.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=q.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=q.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=q.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=q.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=q.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=q.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=q.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=q.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=q.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=q.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=q.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=q.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=q.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=q.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=q.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=q.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=q.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=q.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=q.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=q.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=q.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=q.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=q.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=q.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=q.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=q.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=q.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=q.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Wt||(Wt={}));let lP=null;var Y2;(function(e){const t={},i={},r=y=>{const v=y.getType();switch(v){case Wt.PE_TYPE_GEOGCS:y=q.castObject(y,q.PeGeogcs);break;case Wt.PE_TYPE_PROJCS:y=q.castObject(y,q.PeProjcs);break;case Wt.PE_TYPE_GEOGTRAN:y=q.castObject(y,q.PeGeogtran);break;default:v&Wt.PE_TYPE_UNIT&&(y=q.castObject(y,q.PeUnit))}return y};function s(){q.PeFactory.prototype.initialize(null)}function n(y){return o(Wt.PE_TYPE_COORDSYS,y)}function o(y,v){let b=null,E=t[y];if(E||(E={},t[y]=E),E.hasOwnProperty(String(v))&&(b=E[v],q.compare(b,q.NULL)&&(b=null)),!b){const S=q.PeFactory.prototype.factoryByType(y,v);q.compare(S,q.NULL)||(b=r(S),E[v]=b)}return b}function a(y,v){let b=null,E=i[y];if(E||(E={},i[y]=E),E.hasOwnProperty(v)&&(b=E[v],q.compare(b,q.NULL)&&(b=null)),!b){const S=q.PeFactory.prototype.fromString(y,v);q.compare(S,q.NULL)||(b=r(S),E[v]=b)}return b}function l(y){return o(Wt.PE_TYPE_GEOGCS,y)}function c(y){return o(Wt.PE_TYPE_GEOGTRAN,y)}function f(y){return q.PeFactory.prototype.getCode(y)}function d(y){return o(Wt.PE_TYPE_PROJCS,y)}function p(y){return o(Wt.PE_TYPE_UNIT,y)}e.initialize=s,e.coordsys=n,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=f,e.projcs=d,e.unit=p})(Y2||(Y2={}));let cP=null;var Hg,J2,Z2,K2,X2,Q2,Wg,ew,Yg,Jg,tw;function uP(e){function t(n,o,a){n[o]=a(n[o])}q=e,Wt.init(),Hg.init(),Wg.init(),Yg.init(),Jg.init(),lP=class extends q.PeDouble{constructor(n=NaN){super(n)}destroy(){q.destroy(this)}[Symbol.dispose](){this.destroy()}},cP=class extends q.PeGCSExtent{destroy(){q.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[q.PeAngunit,q.PeDatum,q.PeGeogcs,q.PeGeogtran,q.PeObject,q.PeParameter,q.PePrimem,q.PeProjcs,q.PeSpheroid,q.PeUnit];for(const n of i)t(n.prototype,"getName",o=>function(){return o.call(this,new Array(Wt.PE_NAME_MAX))});for(const n of[q.PeGeogtran,q.PeProjcs])t(n.prototype,"getParameters",o=>function(){const a=new Array(Wt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=q.getValue(l,"*");a[c]=f?q.wrapPointer(f,q.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(q.PeHorizon.prototype,"getCoord",n=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return rl(l,a,n.call(this),o),l}),t(q.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=q._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=n.call(this);if(!q.compare(l,q.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=q.getPointer(l);for(let d=1;d<c;d++)a.push(q.wrapPointer(f+o*d,q.PeGTlistExtendedGTs))}}return a}});const r=q._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let a=null;const l=n.call(this);if(!q.compare(l,q.NULL)){a=[l];const c=l.getNump();if(c>1){const f=q.getPointer(l);for(let d=1;d<c;d++)a.push(q.wrapPointer(f+r*d,q.PeHorizon))}}return o.set(n,a),a};t(q.PeProjcs.prototype,"horizonGcsGenerate",s),t(q.PeProjcs.prototype,"horizonPcsGenerate",s),q.PeObject.prototype.toString=function(n=Wt.PE_STR_OPTS_NONE){q.ensureCache.prepare();const o=q.getPointer(this),a=q.ensureInt8(new Array(Wt.PE_BUFFER_MAX));return q.UTF8ToString(q._pe_object_to_string_ext(o,n,a))},q.PeGeogcs.prototype.destroy=function(){this.Delete(),fn(this),this.ptr=0},q.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},q.PeProjcs.prototype.destroy=function(){this.Delete(),fn(this),this.ptr=0},q.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function fn(e){if(!e)return;const t=q.getClass(e);if(!t)return;const i=q.getCache(t);if(!i)return;const r=q.getPointer(e);r&&delete i[r]}function D0(e,t){const i=[],r=new Array(t);for(let s=0;s<e;s++)i.push(q.ensureInt8(r));return i}function Ac(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function rl(e,t,i,r=!1){if(r)for(let s=0;s<2*t;s++)e[s]=q.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=q.getValue(i,"double"),e[n][1]=q.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=q.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=q._pe_getPeGTlistExtendedEntrySize()}function r(s,n,o,a,l,c){let f=null;const d=new q.PeInteger(c);try{const p=q.PeGTlistExtended.prototype.getGTlist(s,n,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=q.getPointer(p);for(let v=1;v<c;v++)f.push(q.wrapPointer(y+t*v,q.PeGTlistExtendedEntry))}}finally{q.destroy(d)}return f}e.init=i,e.getGTlist=r})(Hg||(Hg={})),function(e){function t(i){if(i?.length){for(const r of i)fn(r),r.getEntries().forEach(s=>{fn(s);const n=s.getGeogtran();fn(n),n.getParameters().forEach(fn),[n.getGeogcs1(),n.getGeogcs2()].forEach(o=>{fn(o);const a=o.getDatum();fn(a),fn(a.getSpheroid()),fn(o.getPrimem()),fn(o.getUnit())})});q.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(J2||(J2={})),function(e){function t(i,r,s,n,o){q.ensureCache.prepare();const a=Ac(s),l=s===a,c=q.ensureFloat64(a);let f=0;n&&(f=q.ensureFloat64(n));const d=q._pe_geog_to_geog(q.getPointer(i),r,c,f,o);return d&&rl(s,r,c,l),d}e.geogToGeog=t}(Z2||(Z2={})),function(e){function t(n,o,a,l,c,f,d,p){q.PeLineType.prototype.geodesic_coordinate(n,o,a,l,c,f,d,p)}function i(n,o,a,l,c,f,d,p,y){q.PeLineType.prototype.geodetic_coordinate(n,o,a,l,c,f,d,p,y)}function r(n,o,a,l,c,f,d,p,y,v){q.PeLineType.prototype.geodetic_distance(n,o,a,l,c,f,d,p,y,v)}function s(n,o,a,l,c,f,d,p,y){q.PeLineType.prototype.great_elliptic_distance(n,o,a,l,c,f,d,p,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=s}(K2||(K2={})),function(e){function t(o,a){return q.PeMath.prototype.phi_to_eta(o,a)}function i(o,a){return q.PeMath.prototype.eta_to_phi(o,a)}function r(o,a){return q.PeMath.prototype.phi_to_phig(o,a)}function s(o,a,l){return q.PeMath.prototype.q(o,a,l)}function n(o,a){return q.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=s,e.q90=n}(X2||(X2={})),function(e){const t=(c,f,d,p,y,v)=>{let b,E;switch(q.ensureCache.prepare(),c){case"dd":b=q._pe_geog_to_dd,E=Wt.PE_DD_MAX;break;case"ddm":b=q._pe_geog_to_ddm,E=Wt.PE_DDM_MAX;break;case"dms":b=q._pe_geog_to_dms,E=Wt.PE_DMS_MAX}let S=0;f&&(S=q.getPointer(f));const T=Ac(p),w=q.ensureFloat64(T),_=D0(d,E),M=b(S,d,w,y,q.ensureInt32(_));if(M)for(let $=0;$<d;$++)v[$]=q.UTF8ToString(_[$]);return M},i=(c,f,d,p,y)=>{let v;switch(q.ensureCache.prepare(),c){case"dd":v=q._pe_dd_to_geog;break;case"ddm":v=q._pe_ddm_to_geog;break;case"dms":v=q._pe_dms_to_geog}let b=0;f&&(b=q.getPointer(f));const E=p.map(_=>q.ensureString(_)),S=q.ensureInt32(E),T=q.ensureFloat64(new Array(2*d)),w=v(b,d,S,T);return w&&rl(y,d,T),w};function r(c,f,d,p,y){return t("dms",c,f,d,p,y)}function s(c,f,d,p){return i("dms",c,f,d,p)}function n(c,f,d,p,y){return t("ddm",c,f,d,p,y)}function o(c,f,d,p){return i("ddm",c,f,d,p)}function a(c,f,d,p,y){return t("dd",c,f,d,p,y)}function l(c,f,d,p){return i("dd",c,f,d,p)}e.geogToDms=r,e.dmsToGeog=s,e.geogToDdm=n,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(Q2||(Q2={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=q.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=q.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=q.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=q.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=q.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,n,o,a,l,c,f){q.ensureCache.prepare();let d=0;s&&(d=q.getPointer(s));const p=Ac(o),y=q.ensureFloat64(p),v=D0(n,Wt.PE_MGRS_MAX),b=q.ensureInt32(v),E=q._pe_geog_to_mgrs_extended(d,n,y,a,l,c,b);if(E)for(let S=0;S<n;S++)f[S]=q.UTF8ToString(v[S]);return E}function r(s,n,o,a,l){q.ensureCache.prepare();let c=0;s&&(c=q.getPointer(s));const f=o.map(v=>q.ensureString(v)),d=q.ensureInt32(f),p=q.ensureFloat64(new Array(2*n)),y=q._pe_mgrs_to_geog_extended(c,n,d,a,p);return y&&rl(l,n,p),y}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(Wg||(Wg={})),function(e){function t(r,s,n,o,a,l,c){q.ensureCache.prepare();let f=0;r&&(f=q.getPointer(r));const d=Ac(n),p=q.ensureFloat64(d),y=D0(s,Wt.PE_MGRS_MAX),v=q.ensureInt32(y),b=q._pe_geog_to_usng(f,s,p,o,a,l,v);if(b)for(let E=0;E<s;E++)c[E]=q.UTF8ToString(y[E]);return b}function i(r,s,n,o){q.ensureCache.prepare();let a=0;r&&(a=q.getPointer(r));const l=n.map(p=>q.ensureString(p)),c=q.ensureInt32(l),f=q.ensureFloat64(new Array(2*s)),d=q._pe_usng_to_geog(a,s,c,f);return d&&rl(o,s,f),d}e.geogToUsng=t,e.usngToGeog=i}(ew||(ew={})),function(e){function t(){e.PE_UTM_OPTS_NONE=q.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=q.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=q.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,n,o,a,l){q.ensureCache.prepare();let c=0;s&&(c=q.getPointer(s));const f=Ac(o),d=q.ensureFloat64(f),p=D0(n,Wt.PE_UTM_MAX),y=q.ensureInt32(p),v=q._pe_geog_to_utm(c,n,d,a,y);if(v)for(let b=0;b<n;b++)l[b]=q.UTF8ToString(p[b]);return v}function r(s,n,o,a,l){q.ensureCache.prepare();let c=0;s&&(c=q.getPointer(s));const f=o.map(v=>q.ensureString(v)),d=q.ensureInt32(f),p=q.ensureFloat64(new Array(2*n)),y=q._pe_utm_to_geog(c,n,d,a,p);return y&&rl(l,n,p),y}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(Yg||(Yg={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=q.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=q.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=q.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=q.PePCSInfo.prototype.PE_POLE_POINT}function r(s,n=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(s)&&(a=t.get(s),a[n]&&(o=a[n])),o||(o=q.PePCSInfo.prototype.generate(s,n),a||(a=[],t.set(s,a)),a[n]=o),o}e.init=i,e.generate=r}(Jg||(Jg={})),function(e){function t(){return q.PeVersion.prototype.version_string()}e.versionString=t}(tw||(tw={}));const w1e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return W2},get PeDefs(){return Wt},get PeDouble(){return lP},get PeFactory(){return Y2},get PeGCSExtent(){return cP},get PeGTTransformations(){return Z2},get PeGTlistExtended(){return Hg},get PeGTlistExtendedEntry(){return J2},get PeLineType(){return K2},get PeMath(){return X2},get PeNotationDms(){return Q2},get PeNotationMgrs(){return Wg},get PeNotationUsng(){return ew},get PeNotationUtm(){return Yg},get PePCSInfo(){return Jg},get PeVersion(){return tw},_init:uP,get _pe(){return q},isLoaded:$V,isSupported:OV,load:CV},Symbol.toStringTag,{value:"Module"}));var Qh;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Qh||(Qh={}));let h;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)O[h]=0;for(h=2056;h<=2065;h++)O[h]=0;for(h=2067;h<=2135;h++)O[h]=0;for(h=2137;h<=2154;h++)O[h]=0;for(h=2161;h<=2170;h++)O[h]=0;for(h=2172;h<=2193;h++)O[h]=0;for(h=2195;h<=2198;h++)O[h]=0;for(h=2200;h<=2203;h++)O[h]=0;for(h=2205;h<=2217;h++)O[h]=0;for(h=2222;h<=2224;h++)O[h]=1;for(h=2225;h<=2250;h++)O[h]=2;for(h=2251;h<=2253;h++)O[h]=1;for(h=2257;h<=2264;h++)O[h]=2;for(h=2274;h<=2279;h++)O[h]=2;for(h=2280;h<=2282;h++)O[h]=1;for(h=2283;h<=2289;h++)O[h]=2;for(h=2290;h<=2292;h++)O[h]=0;for(h=2308;h<=2313;h++)O[h]=0;for(h=2315;h<=2491;h++)O[h]=0;for(h=2494;h<=2866;h++)O[h]=0;for(h=2867;h<=2869;h++)O[h]=1;for(h=2870;h<=2888;h++)O[h]=2;for(h=2891;h<=2895;h++)O[h]=2;for(h=2896;h<=2898;h++)O[h]=1;for(h=2902;h<=2908;h++)O[h]=2;for(h=2915;h<=2920;h++)O[h]=2;for(h=2921;h<=2923;h++)O[h]=1;for(h=2924;h<=2930;h++)O[h]=2;for(h=2931;h<=2962;h++)O[h]=0;for(h=2964;h<=2968;h++)O[h]=2;for(h=2969;h<=2973;h++)O[h]=0;for(h=2975;h<=2991;h++)O[h]=0;for(h=2995;h<=3051;h++)O[h]=0;for(h=3054;h<=3079;h++)O[h]=0;for(h=3081;h<=3088;h++)O[h]=0;for(h=3092;h<=3101;h++)O[h]=0;for(h=3106;h<=3138;h++)O[h]=0;for(h=3146;h<=3151;h++)O[h]=0;for(h=3153;h<=3166;h++)O[h]=0;for(h=3168;h<=3172;h++)O[h]=0;for(h=3174;h<=3203;h++)O[h]=0;for(h=3294;h<=3358;h++)O[h]=0;for(h=3367;h<=3403;h++)O[h]=0;for(h=3408;h<=3416;h++)O[h]=0;for(h=3417;h<=3438;h++)O[h]=2;for(h=3441;h<=3446;h++)O[h]=2;for(h=3447;h<=3450;h++)O[h]=0;for(h=3451;h<=3459;h++)O[h]=2;for(h=3460;h<=3478;h++)O[h]=0;for(h=3554;h<=3559;h++)O[h]=0;for(h=3560;h<=3570;h++)O[h]=2;for(h=3571;h<=3581;h++)O[h]=0;for(h=3594;h<=3597;h++)O[h]=0;for(h=3601;h<=3604;h++)O[h]=0;for(h=3637;h<=3639;h++)O[h]=0;for(h=3665;h<=3667;h++)O[h]=0;for(h=3693;h<=3695;h++)O[h]=0;for(h=3701;h<=3727;h++)O[h]=0;for(h=3728;h<=3739;h++)O[h]=2;for(h=3740;h<=3751;h++)O[h]=0;for(h=3753;h<=3760;h++)O[h]=2;for(h=3761;h<=3773;h++)O[h]=0;for(h=3775;h<=3777;h++)O[h]=0;for(h=3779;h<=3781;h++)O[h]=0;for(h=3783;h<=3785;h++)O[h]=0;for(h=3788;h<=3791;h++)O[h]=0;for(h=3797;h<=3802;h++)O[h]=0;for(h=3814;h<=3816;h++)O[h]=0;for(h=3825;h<=3829;h++)O[h]=0;for(h=3832;h<=3841;h++)O[h]=0;for(h=3844;h<=3852;h++)O[h]=0;for(h=3873;h<=3885;h++)O[h]=0;for(h=3890;h<=3893;h++)O[h]=0;for(h=3907;h<=3912;h++)O[h]=0;for(h=3942;h<=3950;h++)O[h]=0;for(h=3968;h<=3970;h++)O[h]=0;for(h=3973;h<=3976;h++)O[h]=0;for(h=3986;h<=3989;h++)O[h]=0;for(h=3994;h<=3997;h++)O[h]=0;for(h=4048;h<=4051;h++)O[h]=0;for(h=4056;h<=4063;h++)O[h]=0;for(h=4093;h<=4096;h++)O[h]=0;for(h=4390;h<=4398;h++)O[h]=0;for(h=4399;h<=4413;h++)O[h]=2;for(h=4418;h<=4433;h++)O[h]=2;for(h=4455;h<=4457;h++)O[h]=2;for(h=4484;h<=4489;h++)O[h]=0;for(h=4491;h<=4554;h++)O[h]=0;for(h=4568;h<=4589;h++)O[h]=0;for(h=4652;h<=4656;h++)O[h]=0;for(h=4766;h<=4800;h++)O[h]=0;for(h=5014;h<=5016;h++)O[h]=0;for(h=5069;h<=5072;h++)O[h]=0;for(h=5105;h<=5130;h++)O[h]=0;for(h=5167;h<=5188;h++)O[h]=0;for(h=5253;h<=5259;h++)O[h]=0;for(h=5269;h<=5275;h++)O[h]=0;for(h=5292;h<=5311;h++)O[h]=0;for(h=5329;h<=5331;h++)O[h]=0;for(h=5343;h<=5349;h++)O[h]=0;for(h=5355;h<=5357;h++)O[h]=0;for(h=5387;h<=5389;h++)O[h]=0;for(h=5459;h<=5463;h++)O[h]=0;for(h=5479;h<=5482;h++)O[h]=0;for(h=5518;h<=5520;h++)O[h]=0;for(h=5530;h<=5539;h++)O[h]=0;for(h=5550;h<=5552;h++)O[h]=0;for(h=5562;h<=5583;h++)O[h]=0;for(h=5623;h<=5625;h++)O[h]=2;for(h=5631;h<=5639;h++)O[h]=0;for(h=5649;h<=5653;h++)O[h]=0;for(h=5663;h<=5680;h++)O[h]=0;for(h=5682;h<=5685;h++)O[h]=0;for(h=5875;h<=5877;h++)O[h]=0;for(h=5896;h<=5899;h++)O[h]=0;for(h=5921;h<=5940;h++)O[h]=0;for(h=6050;h<=6125;h++)O[h]=0;for(h=6244;h<=6275;h++)O[h]=0;for(h=6328;h<=6348;h++)O[h]=0;for(h=6350;h<=6356;h++)O[h]=0;for(h=6366;h<=6372;h++)O[h]=0;for(h=6381;h<=6387;h++)O[h]=0;for(h=6393;h<=6404;h++)O[h]=0;for(h=6480;h<=6483;h++)O[h]=0;for(h=6511;h<=6514;h++)O[h]=0;for(h=6579;h<=6581;h++)O[h]=0;for(h=6619;h<=6624;h++)O[h]=0;for(h=6625;h<=6627;h++)O[h]=2;for(h=6628;h<=6632;h++)O[h]=0;for(h=6634;h<=6637;h++)O[h]=0;for(h=6669;h<=6692;h++)O[h]=0;for(h=6707;h<=6709;h++)O[h]=0;for(h=6720;h<=6723;h++)O[h]=0;for(h=6732;h<=6738;h++)O[h]=0;for(h=6931;h<=6933;h++)O[h]=0;for(h=6956;h<=6959;h++)O[h]=0;for(h=7005;h<=7007;h++)O[h]=0;for(h=7057;h<=7070;h++)O[h]=2;for(h=7074;h<=7082;h++)O[h]=0;for(h=7109;h<=7118;h++)O[h]=0;for(h=7119;h<=7127;h++)O[h]=1;for(h=7374;h<=7376;h++)O[h]=0;for(h=7528;h<=7586;h++)O[h]=0;for(h=7587;h<=7645;h++)O[h]=2;for(h=7692;h<=7696;h++)O[h]=0;for(h=7755;h<=7787;h++)O[h]=0;for(h=7791;h<=7795;h++)O[h]=0;for(h=7799;h<=7801;h++)O[h]=0;for(h=7803;h<=7805;h++)O[h]=0;for(h=7825;h<=7831;h++)O[h]=0;for(h=7845;h<=7859;h++)O[h]=0;for(h=8013;h<=8032;h++)O[h]=0;for(h=8065;h<=8068;h++)O[h]=1;for(h=8518;h<=8529;h++)O[h]=2;for(h=8533;h<=8536;h++)O[h]=2;for(h=8538;h<=8540;h++)O[h]=2;for(h=8677;h<=8679;h++)O[h]=0;for(h=8836;h<=8840;h++)O[h]=0;for(h=8857;h<=8859;h++)O[h]=0;for(h=8908;h<=8910;h++)O[h]=0;for(h=9154;h<=9159;h++)O[h]=0;for(h=9205;h<=9218;h++)O[h]=0;for(h=9271;h<=9273;h++)O[h]=0;for(h=9295;h<=9297;h++)O[h]=0;for(h=9356;h<=9360;h++)O[h]=0;for(h=9404;h<=9407;h++)O[h]=0;for(h=9476;h<=9482;h++)O[h]=0;for(h=9487;h<=9494;h++)O[h]=0;for(h=9697;h<=9699;h++)O[h]=0;for(h=9821;h<=9865;h++)O[h]=0;for(h=10285;h<=10291;h++)O[h]=0;for(h=10314;h<=10317;h++)O[h]=0;for(h=10448;h<=10465;h++)O[h]=0;for(h=10731;h<=10733;h++)O[h]=0;for(h=11114;h<=11118;h++)O[h]=0;for(h=20004;h<=20032;h++)O[h]=0;for(h=20047;h<=20049;h++)O[h]=0;for(h=20062;h<=20092;h++)O[h]=0;for(h=20135;h<=20138;h++)O[h]=0;for(h=20248;h<=20258;h++)O[h]=0;for(h=20348;h<=20358;h++)O[h]=0;for(h=20436;h<=20440;h++)O[h]=0;for(h=20822;h<=20824;h++)O[h]=0;for(h=20904;h<=20932;h++)O[h]=0;for(h=20934;h<=20936;h++)O[h]=0;for(h=21004;h<=21032;h++)O[h]=0;for(h=21035;h<=21037;h++)O[h]=0;for(h=21095;h<=21097;h++)O[h]=0;for(h=21148;h<=21150;h++)O[h]=0;for(h=21207;h<=21264;h++)O[h]=0;for(h=21307;h<=21364;h++)O[h]=0;for(h=21413;h<=21423;h++)O[h]=0;for(h=21453;h<=21463;h++)O[h]=0;for(h=21473;h<=21483;h++)O[h]=0;for(h=21780;h<=21782;h++)O[h]=0;for(h=21891;h<=21894;h++)O[h]=0;for(h=21896;h<=21899;h++)O[h]=0;for(h=22171;h<=22177;h++)O[h]=0;for(h=22181;h<=22187;h++)O[h]=0;for(h=22191;h<=22197;h++)O[h]=0;for(h=22207;h<=22222;h++)O[h]=0;for(h=22229;h<=22232;h++)O[h]=0;for(h=22234;h<=22236;h++)O[h]=0;for(h=22243;h<=22250;h++)O[h]=0;for(h=22262;h<=22265;h++)O[h]=0;for(h=22307;h<=22322;h++)O[h]=0;for(h=22348;h<=22357;h++)O[h]=0;for(h=22407;h<=22422;h++)O[h]=0;for(h=22462;h<=22465;h++)O[h]=0;for(h=22521;h<=22525;h++)O[h]=0;for(h=22607;h<=22622;h++)O[h]=0;for(h=22641;h<=22646;h++)O[h]=0;for(h=22648;h<=22657;h++)O[h]=0;for(h=22707;h<=22722;h++)O[h]=0;for(h=22762;h<=22765;h++)O[h]=0;for(h=22807;h<=22822;h++)O[h]=0;for(h=22991;h<=22994;h++)O[h]=0;for(h=23028;h<=23038;h++)O[h]=0;for(h=23301;h<=23333;h++)O[h]=2;for(h=23830;h<=23853;h++)O[h]=0;for(h=23866;h<=23872;h++)O[h]=0;for(h=23877;h<=23884;h++)O[h]=0;for(h=23886;h<=23894;h++)O[h]=0;for(h=23946;h<=23948;h++)O[h]=0;for(h=24311;h<=24313;h++)O[h]=0;for(h=24342;h<=24347;h++)O[h]=0;for(h=24370;h<=24374;h++)O[h]=10;for(h=24375;h<=24381;h++)O[h]=0;for(h=24718;h<=24721;h++)O[h]=0;for(h=24817;h<=24821;h++)O[h]=0;for(h=24877;h<=24882;h++)O[h]=0;for(h=24891;h<=24893;h++)O[h]=0;for(h=25391;h<=25395;h++)O[h]=0;for(h=25828;h<=25838;h++)O[h]=0;for(h=26191;h<=26195;h++)O[h]=0;for(h=26391;h<=26393;h++)O[h]=0;for(h=26701;h<=26722;h++)O[h]=0;for(h=26729;h<=26799;h++)O[h]=2;for(h=26801;h<=26803;h++)O[h]=2;for(h=26811;h<=26813;h++)O[h]=2;for(h=26847;h<=26870;h++)O[h]=2;for(h=26891;h<=26899;h++)O[h]=0;for(h=26901;h<=26923;h++)O[h]=0;for(h=26929;h<=26946;h++)O[h]=0;for(h=26948;h<=26998;h++)O[h]=0;for(h=27037;h<=27040;h++)O[h]=0;for(h=27205;h<=27232;h++)O[h]=0;for(h=27258;h<=27260;h++)O[h]=0;for(h=27391;h<=27398;h++)O[h]=0;for(h=27561;h<=27564;h++)O[h]=0;for(h=27571;h<=27574;h++)O[h]=0;for(h=27581;h<=27584;h++)O[h]=0;for(h=27591;h<=27594;h++)O[h]=0;for(h=27700;h<=27707;h++)O[h]=0;for(h=28191;h<=28193;h++)O[h]=0;for(h=28348;h<=28358;h++)O[h]=0;for(h=28402;h<=28432;h++)O[h]=0;for(h=28462;h<=28492;h++)O[h]=0;for(h=29118;h<=29122;h++)O[h]=0;for(h=29168;h<=29172;h++)O[h]=0;for(h=29177;h<=29185;h++)O[h]=0;for(h=29187;h<=29195;h++)O[h]=0;for(h=29900;h<=29903;h++)O[h]=0;for(h=30161;h<=30179;h++)O[h]=0;for(h=30491;h<=30494;h++)O[h]=0;for(h=30729;h<=30732;h++)O[h]=0;for(h=31251;h<=31259;h++)O[h]=0;for(h=31265;h<=31268;h++)O[h]=0;for(h=31275;h<=31279;h++)O[h]=0;for(h=31281;h<=31297;h++)O[h]=0;for(h=31461;h<=31469;h++)O[h]=0;for(h=31491;h<=31495;h++)O[h]=0;for(h=31917;h<=31922;h++)O[h]=0;for(h=31965;h<=32e3;h++)O[h]=0;for(h=32001;h<=32003;h++)O[h]=2;for(h=32005;h<=32031;h++)O[h]=2;for(h=32033;h<=32060;h++)O[h]=2;for(h=32064;h<=32067;h++)O[h]=2;for(h=32074;h<=32077;h++)O[h]=2;for(h=32081;h<=32086;h++)O[h]=0;for(h=32107;h<=32130;h++)O[h]=0;for(h=32133;h<=32159;h++)O[h]=0;for(h=32164;h<=32167;h++)O[h]=2;for(h=32180;h<=32199;h++)O[h]=0;for(h=32201;h<=32260;h++)O[h]=0;for(h=32301;h<=32360;h++)O[h]=0;for(h=32401;h<=32460;h++)O[h]=0;for(h=32501;h<=32560;h++)O[h]=0;for(h=32601;h<=32662;h++)O[h]=0;for(h=32664;h<=32667;h++)O[h]=2;for(h=32701;h<=32761;h++)O[h]=0;for(h=53001;h<=53004;h++)O[h]=0;for(h=53008;h<=53019;h++)O[h]=0;for(h=53021;h<=53032;h++)O[h]=0;for(h=53034;h<=53037;h++)O[h]=0;for(h=53042;h<=53046;h++)O[h]=0;for(h=53074;h<=53080;h++)O[h]=0;for(h=54001;h<=54004;h++)O[h]=0;for(h=54008;h<=54019;h++)O[h]=0;for(h=54021;h<=54032;h++)O[h]=0;for(h=54034;h<=54037;h++)O[h]=0;for(h=54042;h<=54046;h++)O[h]=0;for(h=54048;h<=54053;h++)O[h]=0;for(h=54074;h<=54080;h++)O[h]=0;for(h=54098;h<=54101;h++)O[h]=0;for(h=102001;h<=102040;h++)O[h]=0;for(h=102042;h<=102063;h++)O[h]=0;for(h=102065;h<=102067;h++)O[h]=0;for(h=102070;h<=102117;h++)O[h]=0;for(h=102122;h<=102216;h++)O[h]=0;for(h=102221;h<=102377;h++)O[h]=0;for(h=102382;h<=102388;h++)O[h]=0;for(h=102389;h<=102398;h++)O[h]=2;for(h=102399;h<=102444;h++)O[h]=0;for(h=102445;h<=102447;h++)O[h]=2;for(h=102448;h<=102458;h++)O[h]=0;for(h=102459;h<=102468;h++)O[h]=2;for(h=102469;h<=102499;h++)O[h]=0;for(h=102500;h<=102519;h++)O[h]=1;for(h=102520;h<=102524;h++)O[h]=0;for(h=102525;h<=102529;h++)O[h]=2;for(h=102530;h<=102588;h++)O[h]=0;for(h=102590;h<=102598;h++)O[h]=0;for(h=102601;h<=102603;h++)O[h]=0;for(h=102605;h<=102628;h++)O[h]=0;for(h=102629;h<=102646;h++)O[h]=2;for(h=102648;h<=102700;h++)O[h]=2;for(h=102701;h<=102703;h++)O[h]=0;for(h=102707;h<=102730;h++)O[h]=2;for(h=102733;h<=102758;h++)O[h]=2;for(h=102767;h<=102900;h++)O[h]=0;for(h=102901;h<=102933;h++)O[h]=2;for(h=102934;h<=102950;h++)O[h]=13;for(h=102951;h<=102963;h++)O[h]=0;for(h=102965;h<=102969;h++)O[h]=0;for(h=102971;h<=102973;h++)O[h]=0;for(h=102975;h<=102989;h++)O[h]=0;for(h=102990;h<=102992;h++)O[h]=1;for(h=102997;h<=103002;h++)O[h]=0;for(h=103003;h<=103008;h++)O[h]=2;for(h=103009;h<=103011;h++)O[h]=0;for(h=103012;h<=103014;h++)O[h]=2;for(h=103019;h<=103021;h++)O[h]=0;for(h=103022;h<=103024;h++)O[h]=2;for(h=103029;h<=103031;h++)O[h]=0;for(h=103032;h<=103034;h++)O[h]=2;for(h=103065;h<=103068;h++)O[h]=0;for(h=103074;h<=103076;h++)O[h]=0;for(h=103077;h<=103079;h++)O[h]=1;for(h=103080;h<=103082;h++)O[h]=0;for(h=103083;h<=103085;h++)O[h]=2;for(h=103090;h<=103093;h++)O[h]=0;for(h=103097;h<=103099;h++)O[h]=0;for(h=103100;h<=103102;h++)O[h]=2;for(h=103107;h<=103109;h++)O[h]=0;for(h=103110;h<=103112;h++)O[h]=2;for(h=103113;h<=103116;h++)O[h]=0;for(h=103117;h<=103120;h++)O[h]=2;for(h=103153;h<=103157;h++)O[h]=0;for(h=103158;h<=103162;h++)O[h]=2;for(h=103163;h<=103165;h++)O[h]=0;for(h=103166;h<=103168;h++)O[h]=1;for(h=103169;h<=103171;h++)O[h]=2;for(h=103186;h<=103188;h++)O[h]=0;for(h=103189;h<=103191;h++)O[h]=2;for(h=103192;h<=103195;h++)O[h]=0;for(h=103196;h<=103199;h++)O[h]=2;for(h=103200;h<=103224;h++)O[h]=0;for(h=103225;h<=103227;h++)O[h]=1;for(h=103232;h<=103237;h++)O[h]=0;for(h=103238;h<=103243;h++)O[h]=2;for(h=103244;h<=103246;h++)O[h]=0;for(h=103247;h<=103249;h++)O[h]=2;for(h=103254;h<=103256;h++)O[h]=0;for(h=103257;h<=103259;h++)O[h]=2;for(h=103264;h<=103266;h++)O[h]=0;for(h=103267;h<=103269;h++)O[h]=2;for(h=103300;h<=103375;h++)O[h]=0;for(h=103381;h<=103383;h++)O[h]=0;for(h=103384;h<=103386;h++)O[h]=1;for(h=103387;h<=103389;h++)O[h]=0;for(h=103390;h<=103392;h++)O[h]=2;for(h=103397;h<=103399;h++)O[h]=0;for(h=103400;h<=103471;h++)O[h]=2;for(h=103476;h<=103478;h++)O[h]=0;for(h=103479;h<=103481;h++)O[h]=2;for(h=103486;h<=103488;h++)O[h]=0;for(h=103489;h<=103491;h++)O[h]=2;for(h=103492;h<=103495;h++)O[h]=0;for(h=103496;h<=103499;h++)O[h]=2;for(h=103528;h<=103543;h++)O[h]=0;for(h=103544;h<=103548;h++)O[h]=2;for(h=103549;h<=103551;h++)O[h]=0;for(h=103552;h<=103554;h++)O[h]=1;for(h=103555;h<=103557;h++)O[h]=2;for(h=103558;h<=103560;h++)O[h]=0;for(h=103571;h<=103573;h++)O[h]=0;for(h=103574;h<=103576;h++)O[h]=2;for(h=103577;h<=103580;h++)O[h]=0;for(h=103581;h<=103583;h++)O[h]=2;for(h=103595;h<=103694;h++)O[h]=0;for(h=103696;h<=103699;h++)O[h]=0;for(h=103700;h<=103793;h++)O[h]=2;for(h=103794;h<=103890;h++)O[h]=0;for(h=103891;h<=103896;h++)O[h]=2;for(h=103900;h<=103971;h++)O[h]=2;for(h=103972;h<=103977;h++)O[h]=0;for(h=112e3;h<=112101;h++)O[h]=0;const hP=[102100,102113,3857,3785,900913],IV=[104905,104971],PV=[4326,...hP,...IV],Jp=[-20037508342788905e-9,20037508342788905e-9],iw=[-20037508342787e-6,20037508342787e-6],a_={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Jp,origin:iw,dx:1e-5},fP={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Jp,origin:iw,dx:1e-5},102100:a_,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Jp,origin:iw,dx:1e-5},3857:a_,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:a_};function Jc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Zc(e)&&Zc(t))return!0;const o=e.latestWkid;if(o!=null&&r===o)return!0;const a=t.latestWkid;return a!=null&&i===a}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function ap(e){const t=e?.wkid;return t!=null&&t>=2e3&&fP[t]||null}function x1e(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function zm(e){if(!dP(e))return!1;const{wkid:t}=e;if(t)return O[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function LV(e){return!(NV(e)||kV(e))}function Zg(e){return e?.wkid===4326}function S1e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function E1e(e){return e?.wkid===Qh.CGCS2000}function Zc(e){const t=e?.wkid;return t!=null&&t>=2e3&&hP.includes(t)}function A1e(e){return e?.wkid===32662}function O1(e){return e===Qh.GCSMARS2000||e===Qh.GCSMARS2000_SPHERE}function NV(e){return O1(e?.wkid)}function C1(e){return e===Qh.GCSMOON2000}function kV(e){return C1(e?.wkid)}function RV(e){const t=e?.wkid;return t!=null&&t>=2e3&&PV.includes(t)}function dP(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const pP={wkid:4326,wkt:YS(fP[4326].wkTemplate,{Central_Meridian:"0.0"})},mP={wkid:102100,latestWkid:3857},DV={wkid:32662};function xE(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const FV=xE($n),yP=xE(qp),gP=xE(E1),T1e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${$n.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},UV=yP.wkt.toUpperCase(),jV=gP.wkt.toUpperCase();function BV(e){if(e!=null&&dP(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(O1(t))return qp;const r=i?.toUpperCase();if(i&&r===UV)return qp;if(C1(t)||r&&r===jV)return E1}return $n}function M1e(e){return O1(e)?qp:C1(e)?E1:$n}function VV(e){return Jc(e,FV)}function $1e(e){return VV(e)||Jc(e,yP)||Jc(e,gP)}const O1e=39.37,GV=$n.radius*Math.PI/200,vP=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,ef=O,bP=/UNIT\[([^\]]+)]/i,zV=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),qV=Nn()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),tn=e=>e*e,Ea=e=>e*e*e,Zp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:tn(.001)},"square-centimeters":{inBaseUnits:tn(.01)},"square-decimeters":{inBaseUnits:tn(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:tn(1e3)},"square-inches":{inBaseUnits:tn(.0254)},"square-feet":{inBaseUnits:tn(.3048)},"square-yards":{inBaseUnits:tn(.9144)},"square-miles":{inBaseUnits:tn(1609.344)},"square-nautical-miles":{inBaseUnits:tn(1852)},"square-us-feet":{inBaseUnits:tn(1200/3937)},acres:{inBaseUnits:.0015625*tn(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ea(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ea(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ea(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ea(1e3)},"cubic-inches":{inBaseUnits:1e3*Ea(.0254)},"cubic-feet":{inBaseUnits:1e3*Ea(.3048)},"cubic-yards":{inBaseUnits:1e3*Ea(.9144)},"cubic-miles":{inBaseUnits:1e3*Ea(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},HV=(()=>{const e={};for(const t in Zp)for(const i in Zp[t].units)e[i]=t;return e})();function WV(e,t,i){return e*Zp[i].units[t].inBaseUnits}function YV(e,t,i){return e/Zp[i].units[t].inBaseUnits}const _P=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],JV=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function rw(e){const t=HV[e];if(!t)throw new Error("unknown type");return t}function O4(e,t=null){return t=t||rw(e),Zp[t].baseUnit===e}function On(e,t,i){if(t===i)return e;const r=rw(t);if(r!==rw(i))throw new Error("incompatible units");const s=O4(t,r)?e:WV(e,t,r);return O4(i,r)?s:YV(s,i,r)}function C1e(e,t,i,r=!1){if(!r&&zm(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=mu(t);return s!==i&&(e=s?On(e,s,i):On(e*=Uf(t),"meters",i)),e}function I1e(e,t,i,r=!1){if(!r&&zm(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=mu(i);return t!==s&&(e=s?On(e,t,s):On(e,t,"meters")/Uf(i)),e}function ZV(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function P1e(e){return ZV(e)}function L1e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function N1e(e,t){const i=On(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function k1e(e,t){const i=On(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function R1e(e,t){const i=On(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function D1e(e,t){const i=On(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function F1e(e,t){const i=On(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function U1e(e,t){const i=On(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function j1e(e,t,i){return On(e,t,"meters")/(i*Math.PI/180)}function wP(e){return qV.fromJSON(e.toLowerCase())||null}function B1e(e){if(e!=null&&!LV(e))return 1;const t=Uf(e);return t>1e5?1:t}function KV(e){return Uf(e)>=BV(e).metersPerDegree?"meters":mu(e)}function Uf(e,t=$n.metersPerDegree){return XV(e,!0)??t}function XV(e,t=!1){const i=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let s=null;if(i){if(O1(i))return qp.metersPerDegree;if(C1(i))return E1.metersPerDegree;s=ef.values[ef[i]],!s&&t&&zV.has(i)&&(s=GV)}else r&&(EP(r)?s=C4(vP.exec(r),s):SP(r)&&(s=C4(bP.exec(r),s)));return s}function V1e(e){return zm(e)?1:Uf(e)}function C4(e,t){return e?.[1]?xP(e[1]):t}function xP(e){return parseFloat(e.split(",")[1])}function mu(e){const t=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(t)r=ef.units[ef[t]];else if(i){const s=EP(i)?vP:SP(i)?bP:null;if(s){const n=s.exec(i);n?.[1]&&(r=eG(n[1]))}}return r!=null?wP(r):null}function G1e(e){const t=mu(e);return t!=null&&_P.includes(t)?t:null}function z1e(e){const t=KV(e);return t!=null&&_P.includes(t)?t:null}function q1e(e){const t=mu(e);return t==null?null:JV.get(t)}function SP(e){return/^GEOCCS/i.test(e)}function EP(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const QV=1e-7;function eG(e){let i=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!i||!wP(i)){const r=xP(e);i=null;const s=ef.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<QV){i=ef.units[n];break}}return i}function H1e(e){const t=mu(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const tG={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},iG={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},rG={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},W1e=Nn()(tG),Y1e=Nn()(iG),J1e=Nn()(rG);function Jt(e,t,i){let r,s;return t===void 0?(s=e,r=[void 0]):typeof t!="string"?(s=e,r=[void 0],i=t):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;for(const l of r){const c=g5(n,l,s);c.write&&typeof c.write=="object"||(c.write={}),i&&(c.write.target=i),c.write.writer=a[o]}}}var zn;let wt=zn=class extends Xe{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return zn.WebMercator;if(e?.wkid===4326)return zn.WGS84;const t=new zn;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Zg(this)}get isWebMercator(){return Zc(this)}get isGeographic(){return zm(this)}get isWrappable(){return RV(this)}get metersPerUnit(){return Uf(this)}get unit(){return mu(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===zn.WGS84)return new zn(pP);if(this===zn.WebMercator)return new zn(mP);const e=new zn;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||r?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return Jc(this,e)}toJSON(e){return this.write(void 0,e)}};wt.GCS_NAD_1927=null,wt.WGS84=null,wt.WebMercator=null,wt.PlateCarree=null,g([A({readOnly:!0})],wt.prototype,"isWGS84",null),g([A({readOnly:!0})],wt.prototype,"isWebMercator",null),g([A({readOnly:!0})],wt.prototype,"isGeographic",null),g([A({readOnly:!0})],wt.prototype,"isWrappable",null),g([A({type:Li,json:{write:!0}})],wt.prototype,"latestWkid",void 0),g([A({readOnly:!0})],wt.prototype,"metersPerUnit",null),g([A({readOnly:!0})],wt.prototype,"unit",null),g([A({type:Li,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],wt.prototype,"wkid",void 0),g([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],wt.prototype,"wkt",void 0),g([Jt("wkt"),Jt("web-scene","wkt")],wt.prototype,"writeWkt",null),g([A({type:String,json:{write:!1}})],wt.prototype,"wkt2",void 0),g([A({type:Li,json:{write:!0}})],wt.prototype,"vcsWkid",void 0),g([A({type:Li,json:{write:!0}})],wt.prototype,"latestVcsWkid",void 0),g([A()],wt.prototype,"imageCoordinateSystem",void 0),wt=zn=g([ie("esri.geometry.SpatialReference")],wt),wt.prototype.toJSON.isDefaultToJSON=!0,wt.GCS_NAD_1927=Hi.freeze(new wt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),wt.WGS84=Hi.freeze(new wt(pP)),wt.WebMercator=Hi.freeze(new wt(mP)),wt.PlateCarree=Hi.freeze(new wt(DV));const Yi=wt;let qn=class extends Xe{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Yi.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof Yi)return t;if(t!=null){const r=new Yi;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};g([A()],qn.prototype,"type",void 0),g([A({readOnly:!0})],qn.prototype,"cache",null),g([A({readOnly:!0})],qn.prototype,"extent",null),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],qn.prototype,"hasM",void 0),g([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],qn.prototype,"hasZ",void 0),g([A({type:Yi,json:{write:!0},value:Yi.WGS84})],qn.prototype,"spatialReference",void 0),g([tr("spatialReference")],qn.prototype,"readSpatialReference",null),qn=g([ie("esri.geometry.Geometry")],qn);const yu=qn,sG=Object.prototype.toString;function nG(e){const t="__accessorMetadata__"in e?Mn(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return oG.apply(this,i)}}function oG(e,t,i,r){w1(e,t).cast=r}function aG(e){return(t,i)=>{w1(t,e).cast=t[i]}}function qm(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&sG.call(e[0])==="[object Function]"?nG(e[0]):e.length===1&&typeof e[0]=="string"?aG(e[0]):void 0}function Kp(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new ft("Mesh geometries are not supported for this operation")}function K1e(e){e.forEach(Kp)}const lG=57.29577951308232,cG=.017453292519943;function I4(e){return e*lG}function P4(e){return e*cG}function X1e(e){return Math.PI/2-2*Math.atan(Math.exp(-e/$n.radius))}function sw(e){return e.wkid!=null||e.wkt!=null}const l_=[0,0];function Kg(e,t,i,r,s){const n=e,o=s;if(o.spatialReference=i,"x"in n&&"x"in o)[o.x,o.y]=t(n.x,n.y,l_,r);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=t(n.xmin,n.ymin,l_,r),[o.xmax,o.ymax]=t(n.xmax,n.ymax,l_,r);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const a="paths"in n?n.paths:n.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],r)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in n&&"points"in o){const a=n.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],r),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return s}function Fy(e,t){const i=e&&(sw(e)?e:e.spatialReference),r=t&&(sw(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Jc(r,i)||Zc(r)&&Zg(i)||Zc(i)&&Zg(r))}function AP(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(sw(t)?t:t.spatialReference);return Fy(i,r)?Jc(i,r)?ge(e):Zc(r)?Kg(e,fh,Yi.WebMercator,!1,ge(e)):Zg(r)?Kg(e,I1,Yi.WGS84,!1,ge(e)):null:null}function fh(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=P4(t);return i[0]=P4(e)*$n.radius,i[1]=$n.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function I1(e,t,i=[0,0],r=!1){if(e===Jp[0])i[0]=-180;else if(e===Jp[1])i[0]=180;else{const s=I4(e/$n.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=I4(Math.PI/2-2*Math.atan(Math.exp(-t/$n.radius))),i}function c_(e,t=!1,i=ge(e)){return Kp(e),Kp(i),Kg(e,fh,Yi.WebMercator,t,i)}function F0(e,t=!1,i=ge(e)){return Kp(e),Kp(i),Kg(e,I1,Yi.WGS84,t,i)}function uG(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}function hG(e){return TP(e,MP)?.[0]??null}function fG(e){return TP(e,MP)?.[1]??null}function TP({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(Zc(i))return I1(e,t,r);if(zm(i))return r[0]=e,r[1]=t,r}return null}const MP=[0,0];var Uy;const u_=[0,0];function L4(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Or=Uy=class extends yu{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Hi.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],i=n[2],r=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Yi(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)kt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)kt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s?.isWebMercator){const a=fh(n.longitude,n.latitude,u_);e=a[0],t=a[1]}}}else L4(i)?(s=i,i=null):L4(r)&&(s=r,r=null);const o={x:e,y:t};return o.x==null&&o.y!=null?kt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&kt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return fG(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",fh(i,e,u_)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return hG(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",fh(e,t,u_)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new Uy;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Uy.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:n}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:f}=e;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[l,c]=fh(l,c),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[l,c]=I1(l,c),f=n}return t===l&&i===c&&r===o&&s===a&&n.wkid===f.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=ap(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let n;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s),this._set("x",t),this}distance(e){return uG(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Or.prototype,"cache",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Or.prototype,"hasM",null),g([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Or.prototype,"hasZ",null),g([A({type:Number})],Or.prototype,"latitude",null),g([A({type:Number})],Or.prototype,"longitude",null),g([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),qm(e=>isNaN(e)?e:b1(e))],Or.prototype,"x",void 0),g([Jt("x")],Or.prototype,"writeX",null),g([tr("x")],Or.prototype,"readX",null),g([A({type:Number,json:{write:!0}})],Or.prototype,"y",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Or.prototype,"z",void 0),g([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Or.prototype,"m",void 0),Or=Uy=g([ie("esri.geometry.Point")],Or),Or.prototype.toJSON.isDefaultToJSON=!0;const Pi=Or,h_=[0,0];function $P(e,t){return t!=null&&Pr(e,t.x,t.y,t.z)}function Q1e(e,t){if(!t.points?.length)return!1;for(const i of t.points)if(!tf(e,i))return!1;return!0}function dG(e,t){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Pr(e,i,r,s)&&Pr(e,i,o,s)&&Pr(e,n,o,s)&&Pr(e,n,r,s)&&Pr(e,i,r,a)&&Pr(e,i,o,a)&&Pr(e,n,o,a)&&Pr(e,n,r,a):Pr(e,i,r)&&Pr(e,i,o)&&Pr(e,n,o)&&Pr(e,n,r)}function tf(e,t){return Pr(e,t[0],t[1])}function pG(e,t){return Pr(e,t[0],t[1],t[2])}function Pr(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function mG(e,t){return h_[1]=t.y,h_[0]=t.x,yG(e,h_)}function yG(e,t){return OP(e.rings,t)}function OP(e,t){if(!e)return!1;if(gG(e))return N4(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=N4(i,e[r],t);return i}function gG(e){return!Array.isArray(e[0][0])}function N4(e,t,i){const[r,s]=i;let n=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=t[a],[d,p]=t[o];(f<s&&p>=s||p<s&&f>=s)&&c+(s-f)/(p-f)*(d-c)<r&&(n=!n)}return n}function vG(e,t){return $P(e,t)}function bG(e,t){const i=e.hasZ&&t.hasZ;let r,s,n;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function _G(e,t){const{points:i,hasZ:r}=t,s=r?pG:tf;for(const n of i)if(s(e,n))return!0;return!1}const Kc=[0,0],Xc=[0,0],Qc=[0,0],eu=[0,0],wG=[Kc,Xc,Qc,eu],CP=[[Qc,Kc],[Kc,Xc],[Xc,eu],[eu,Qc]];function xG(e,t){return SG(e,t.rings)}function SG(e,t){Kc[0]=e.xmin,Kc[1]=e.ymax,Xc[0]=e.xmax,Xc[1]=e.ymax,Qc[0]=e.xmin,Qc[1]=e.ymin,eu[0]=e.xmax,eu[1]=e.ymin;for(const i of wG)if(OP(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(tf(e,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(tf(e,n)||IP(r,n,CP))return!0;r=n}}return!1}function EG(e,t){Kc[0]=e.xmin,Kc[1]=e.ymax,Xc[0]=e.xmax,Xc[1]=e.ymax,Qc[0]=e.xmin,Qc[1]=e.ymin,eu[0]=e.xmax,eu[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(tf(e,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(tf(e,o)||IP(s,o,CP))return!0;s=o}}return!1}const Qi=[0,0];function AG(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const n=i[s],o=i[s+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],f=e[a][l+1];if(nw(n,o,c,f,Qi)&&!(Qi[0]===n[0]&&Qi[1]===n[1]||Qi[0]===c[0]&&Qi[1]===c[1]||Qi[0]===o[0]&&Qi[1]===o[1]||Qi[0]===f[0]&&Qi[1]===f[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const o=i[s],a=i[s+1];for(let l=s+2;l<n;l++){const c=i[l],f=i[l+1];if(nw(o,a,c,f,Qi)&&!(Qi[0]===o[0]&&Qi[1]===o[1]||Qi[0]===c[0]&&Qi[1]===c[1]||Qi[0]===a[0]&&Qi[1]===a[1]||Qi[0]===f[0]&&Qi[1]===f[1]))return!0}}}return!1}function IP(e,t,i){for(let r=0;r<i.length;r++)if(nw(e,t,i[r][0],i[r][1]))return!0;return!1}function nw(e,t,i,r,s){const[n,o]=e,[a,l]=t,[c,f]=i,[d,p]=r,y=d-c,v=n-c,b=a-n,E=p-f,S=o-f,T=l-o,w=E*b-y*T;if(w===0)return!1;const _=(y*S-E*v)/w,M=(b*S-T*v)/w;return _>=0&&_<=1&&M>=0&&M<=1&&(s&&(s[0]=n+_*(a-n),s[1]=o+_*(l-o)),!0)}function TG(e){switch(e){case"esriGeometryEnvelope":case"extent":return bG;case"esriGeometryMultipoint":case"multipoint":return _G;case"esriGeometryPoint":case"point":return vG;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return xG;case"esriGeometryPolyline":case"polyline":return EG}}var on;function MG(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function Aa(e,t,i){return t==null?i:i==null?t:e(t,i)}let ji=on=class extends yu{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return MG(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?Yi.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??Yi.WGS84}}static fromPoint(e){return new on({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Pi({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new on;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Fy(t,i)&&(e=t.isWebMercator?c_(e):F0(e,!0)),e.type==="point"?$P(this,e):e.type==="extent"&&dG(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&Fy(t,i)&&(e=t.isWebMercator?c_(e):F0(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Jc(t,i)&&Fy(t,i)&&(e=t.isWebMercator?c_(e):F0(e,!0)),TG(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Aa(Math.min,this.zmin,e.zmin),this.zmax=Aa(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Aa(Math.min,this.mmin,e.mmin),this.mmax=Aa(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Aa(Math.max,this.zmin,e.zmin),this.zmax=Aa(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Aa(Math.max,this.mmin,e.mmin),this.mmax=Aa(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=ap(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?F0(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=f_(r.x,e).x),this.spatialReference=new Yi(YS((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??ap(r);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let o=!0,a=!0;return n.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:n.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;e=e||ap(o);const[d,p]=e.valid;f=f_(this.xmin,e);const y=f.x,v=f.frameId;f=f_(this.xmax,e);const b=f.x,E=f.frameId,S=y===b&&a>0;if(a>2*p){const T=new on(l<c?y:b,s,p,n,o),w=new on(d,s,l<c?b:y,n,o),_=new on(0,s,p,n,o),M=new on(d,s,0,n,o),$=[],I=[];T.contains(_)&&$.push(v),T.contains(M)&&I.push(v),w.contains(_)&&$.push(E),w.contains(M)&&I.push(E);for(let L=v+1;L<E;L++)$.push(L),I.push(L);t.push({extent:T,frameIds:[v]},{extent:w,frameIds:[E]},{extent:_,frameIds:$},{extent:M,frameIds:I})}else y>b||S?t.push({extent:new on(y,s,p,n,o),frameIds:[v]},{extent:new on(d,s,b,n,o),frameIds:[E]}):t.push({extent:new on(y,s,b,n,o),frameIds:[v]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function f_(e,t){const[i,r]=t.valid,s=2*r;let n,o=0;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s,o=n):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s,o=-n),{x:e,frameId:o}}g([A({readOnly:!0})],ji.prototype,"cache",null),g([A({readOnly:!0})],ji.prototype,"center",null),g([A({readOnly:!0})],ji.prototype,"extent",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ji.prototype,"hasM",null),g([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ji.prototype,"hasZ",null),g([A({readOnly:!0})],ji.prototype,"height",null),g([A({readOnly:!0})],ji.prototype,"width",null),g([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ji.prototype,"xmin",void 0),g([A({type:Number,json:{write:!0}})],ji.prototype,"ymin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ji.prototype,"mmin",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ji.prototype,"zmin",void 0),g([A({type:Number,json:{write:!0}})],ji.prototype,"xmax",void 0),g([A({type:Number,json:{write:!0}})],ji.prototype,"ymax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],ji.prototype,"mmax",void 0),g([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ji.prototype,"zmax",void 0),ji=on=g([ie("esri.geometry.Extent")],ji),ji.prototype.toJSON.isDefaultToJSON=!0;const Js=ji;function rf(e,t,i=!1){let{hasM:r,hasZ:s}=e;Array.isArray(t)?t.length!==4||r||s?t.length===3&&i&&!r?(s=!0,r=!1):t.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=r}var ow;function k4(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function $G(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Na=ow=class extends yu{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):$G(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=i.points?.[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Js,i=this.hasZ,r=this.hasM,s=i?3:2,n=e[0],o=k4(Math.min),a=k4(Math.max);let l,c,f,d,[p,y]=n,[v,b]=n;for(let E=0,S=e.length;E<S;E++){const T=e[E],[w,_]=T;if(p=o(p,w),y=o(y,_),v=a(v,w),b=a(b,_),i&&T.length>2){const M=T[2];l=o(l,M),f=a(f,M)}if(r&&T.length>s){const M=T[s];c=o(c,M),d=a(d,M)}}return t.xmin=p,t.ymin=y,t.xmax=v,t.ymax=b,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=c,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ge(this.points)}addPoint(e){return rf(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new ow(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Pi(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Pi(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(rf(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};g([A({readOnly:!0})],Na.prototype,"cache",null),g([A()],Na.prototype,"extent",null),g([A({type:[[Number]],json:{write:{isRequired:!0}}})],Na.prototype,"points",void 0),g([Jt("points")],Na.prototype,"writePoints",null),Na=ow=g([ie("esri.geometry.Multipoint")],Na),Na.prototype.toJSON.isDefaultToJSON=!0;const P1=Na;function ebe(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function OG(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var Xg;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(Xg||(Xg={}));function tbe(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),r.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function L1(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function PP(e,t,i){const r=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,s,e[2]+i*(t[2]-e[2])]:[r,s]}function ibe(e,t,i,r){return CG(e,t,i[r],i[r+1])}function CG(e,t,i,r){const[s,n]=t,[o,a]=i,[l,c]=r,f=l-o,d=c-a,p=f*f+d*d,y=(s-o)*f+(n-a)*d,v=Math.min(1,Math.max(0,y/p));return e[0]=o+f*v,e[1]=a+d*v,e}function rbe(e,t,i,r,s,n){let o=i,a=r,l=s-o,c=n-a;if(l!==0||c!==0){const f=((e-o)*l+(t-a)*c)/(l*l+c*c);f>1?(o=s,a=n):f>0&&(o+=l*f,a+=c*f)}return l=e-o,c=t-a,l*l+c*c}function LP(e,t){return PP(e,t,.5)}function sbe(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=L1(e[r],e[r+1]);return i}function nbe(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let s=0;s<i-1;++s){const n=L1(e[s],e[s+1]);if(t-r<n){const o=(t-r)/n;return PP(e[s],e[s+1],o)}r+=n}return e[i-1]}function NP(e,t=Xg.X,i=Xg.Y){let r=0;const s=e.length;let n=e[0];for(let o=1;o<s;o++){const a=e[o];r+=(a[t]-n[t])*(a[i]+n[i]),n=a}if(!kP(e)){const o=e[0];r+=(o[t]-n[t])*(o[i]+n[i])}return r>=0}function kP(e){const t=e.length;return t<3||y1(e[0],e[t-1])}function obe(e){"rings"in e&&(IG(e),PG(e))}function IG(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)kP(i)||(i.push(i[0].slice()),t=!0);return t}function PG(e){if(!("rings"in e)||e.rings.length===0||NP(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function abe(e){return e.type!=="polygon"&&e.type!=="polyline"||LG(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function LG(e,t){const i=ap(t);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const o of e){let a=1/0,l=-1/0;for(const f of o){const d=NG(f[0],r,s);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;n-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=n)})}}function NG(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function lbe(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function cbe(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function kG(e){return e?RG(e.rings,e.hasZ??!1):null}function RG(e,t){if(!e?.length)return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=e.length;n<o;n++){const a=RP(e[n],t,s);a&&r.push(a)}if(r.sort((n,o)=>{let a=n[2]-o[2];return a===0&&t&&(a=n[4]-o[4]),a}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=e[0]&&e[0].length?DG(e[0],t):null;if(!n)return null;i[0]=n[0],i[1]=n[1],t&&n.length>2&&(i[2]=n[2])}return i}function RP(e,t,i){let r=0,s=0,n=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],v=e[(p+1)%e.length],[b,E,S]=y,T=b-l,w=E-c,[_,M,$]=v,I=_-l,L=M-c,P=T*L-I*w;if(o+=P,r+=(T+I)*P,s+=(w+L)*P,t&&y.length>2&&v.length>2){const F=S-f,z=$-f,U=T*z-I*F;n+=(F+z)*U,a+=U}b<i[0]&&(i[0]=b),b>i[1]&&(i[1]=b),E<i[2]&&(i[2]=E),E>i[3]&&(i[3]=E),t&&(S<i[4]&&(i[4]=S),S>i[5]&&(i[5]=S))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[r/(6*o)+l,s/(6*o)+c,o];return t&&(i[4]===i[5]||a===0?(d[3]=(i[4]+i[5])/2,d[4]=0):(d[3]=n/(6*a)+f,d[4]=a)),d}function ube(e,t){let i=0,r=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[f,d]=l,p=f-n,y=d-o,[v,b]=c,E=v-n,S=b-o,T=p*S-E*y;s+=T,i+=(p+E)*T,r+=(y+S)*T,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+o,s]):null}function DG(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const f=e[l],d=e[l+1];if(f&&d){i[0]=f[0],i[1]=f[1],r[0]=d[0],r[1]=d[1],t&&f.length>2&&d.length>2&&(i[2]=f[2],r[2]=d[2]);const p=L1(i,r);if(p){s+=p;const y=LP(f,d);n+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.length?e[0]:null}function FG(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=RP(OG(e),e.hasZ,n);o&&s.push(o)}if(s.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const o=e.pathSize?UG(e):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function UG(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,f=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;i[0]=l,i[1]=c,r[0]=d,r[1]=p,t&&(i[2]=f,r[2]=y);const v=L1(i,r);if(v){s+=v;const b=LP(i,r);n+=v*b[0],o+=v*b[1],t&&b.length>2&&(a+=v*b[2])}l=d,c=p,f=y}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const jG=1e-6;function hbe(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<jG){const s=FG(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)VG(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const BG=1/3;function VG(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,o=i.x-r,a=i.y-s,l=0,c=0;for(;i.nextPoint();)l=i.x-r,c=i.y-s,n=.5*BG*(l*a-c*o),e[0]+=n*(o+l),e[1]+=n*(a+c),o=l,a=c;const f=i.getCurrentRingArea(),d=[r,s];return d[0]-=t[0],d[1]-=t[1],d[0]*=f,d[1]*=f,e[0]+=d[0],e[1]+=d[1],e}function jf(e=zG){return[e[0],e[1],e[2],e[3]]}function DP(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function fbe(e,t,i,r,s=jf()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function dbe(e,t=jf()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function pbe(e,t,i=new Js){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function mbe(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function ybe(e,t,i){if(t!=null)if("length"in t)aw(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else DP(i,e)}function gbe(e,t,i=e){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3];for(let l=0;l<r;l++){const c=t[l];s=Math.min(s,c[0]),n=Math.min(n,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return i[0]=s,i[1]=n,i[2]=o,i[3]=a,i}function vbe(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function FP(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function UP(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function bbe(e){return FP(e)*UP(e)}function _be(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function wbe(e){const t=FP(e),i=UP(e);return Math.sqrt(t*t+i*i)}function xbe(e,t){return GG(e,t.x,t.y)}function GG(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function Sbe(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Ebe(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function Abe(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Tbe(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function Mbe(e){return e?DP(e,R4):jf(R4)}function aw(e){return e!=null&&e.length===4}function $be(e,t){return aw(e)&&aw(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const R4=[1/0,1/0,-1/0,-1/0],zG=[0,0,0,0];function jP(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function BP(e){return e.points!==void 0}function VP(e){return e.x!==void 0&&e.y!==void 0}function GP(e){return e.paths!==void 0}function zP(e){return e.rings!==void 0}function qP(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const cl=qP(Math.min),ul=qP(Math.max);function Obe(e,t){return GP(t)?sf(e,t.paths,!1,!1):zP(t)?sf(e,t.rings,!1,!1):BP(t)?SE(e,t.points,!1,!1,!1,!1):jP(t)?HP(e,t):(VP(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Cbe(e){let t,i,r,s;for(e.reset(),t=r=1/0,i=s=-1/0;e.nextPath();){const n=qG(e);t=Math.min(n[0],t),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return jf([t,r,i,s])}function qG(e){let t,i,r,s;for(t=r=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),s=Math.max(e.y,s);return jf([t,r,i,s])}function Ibe(e,t){return GP(t)?sf(e,t.paths,!0,!1):zP(t)?sf(e,t.rings,!0,!1):BP(t)?SE(e,t.points,!0,!1,!0,!1):jP(t)?HP(e,t,!0,!1,!0,!1):(VP(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function sf(e,t,i,r){const s=i?3:2;if(!t.length||!t[0].length)return null;let n,o,a,l,[c,f]=t[0][0],[d,p]=t[0][0];for(let y=0;y<t.length;y++){const v=t[y];for(let b=0;b<v.length;b++){const E=v[b],[S,T]=E;if(c=cl(c,S),f=cl(f,T),d=ul(d,S),p=ul(p,T),i&&E.length>2){const w=E[2];n=cl(n,w),o=ul(o,w)}if(r&&E.length>s){const w=E[s];a=cl(n,w),l=ul(o,w)}}}return i?r?(e[0]=c,e[1]=f,e[2]=n,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=f,e[2]=n,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):r?(e[0]=c,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function HP(e,t,i,r,s,n){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let f=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return s?(f=f||0,d=d||0,n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=d,e)):n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function SE(e,t,i,r,s,n){const o=i?3:2,a=r&&n,l=i&&s;if(!t.length||!t[0].length)return null;let c,f,d,p,[y,v]=t[0],[b,E]=t[0];for(let S=0;S<t.length;S++){const T=t[S],[w,_]=T;if(y=cl(y,w),v=cl(v,_),b=ul(b,w),E=ul(E,_),l&&T.length>2){const M=T[2];c=cl(c,M),f=ul(f,M)}if(a&&T.length>o){const M=T[o];d=cl(c,M),p=ul(f,M)}}return s?(c=c||0,f=f||0,n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=c,e[3]=d,e[4]=b,e[5]=E,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=v,e[2]=c,e[3]=b,e[4]=E,e[5]=f,e)):n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=d,e[3]=b,e[4]=E,e[5]=p,e):(e[0]=y,e[1]=v,e[2]=b,e[3]=E,e)}function HG(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function WG(e){return e.points!==void 0}function YG(e){return e.x!==void 0&&e.y!==void 0}function JG(e){return e.paths!==void 0}function ZG(e){return e.rings!==void 0}const EE=[];function WP(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function YP(e,t,i,r,s,n){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:s,zmax:n}}function JP(e,t,i,r,s,n){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:s,mmax:n}}function ZP(e,t,i,r,s,n,o,a){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:s,ymax:n,zmax:o,mmax:a}}function AE(e,t=!1,i=!1){return t?i?ZP(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):YP(e[0],e[1],e[2],e[3],e[4],e[5]):i?JP(e[0],e[1],e[2],e[3],e[4],e[5]):WP(e[0],e[1],e[2],e[3])}function Pbe(e){return e?HG(e)?e:YG(e)?XG(e):ZG(e)?KP(e):JG(e)?XP(e):WG(e)?KG(e):null:null}function KG(e){const{hasZ:t,hasM:i,points:r}=e;return AE(SE(EE,r,t??!1,i??!1),t,i)}function XG(e){const{x:t,y:i,z:r,m:s}=e,n=s!=null;return r!=null?n?ZP(t,i,r,s,t,i,r,s):YP(t,i,r,t,i,r):n?JP(t,i,s,t,i,s):WP(t,i,t,i)}function KP(e){const{hasZ:t,hasM:i,rings:r}=e,s=sf(EE,r,t??!1,i??!1);return s?AE(s,t,i):null}function XP(e){const{hasZ:t,hasM:i,paths:r}=e,s=sf(EE,r,t??!1,i??!1);return s?AE(s,t,i):null}var jy;function D4(e){return!Array.isArray(e[0])}function QG(e){return typeof e[0]?.[0]=="number"}function ez(e){if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],QG(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=Yi.WGS84,{...e,hasM:i,hasZ:r,rings:t,spatialReference:s}}let Rs=jy=class extends yu{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,s=!1;for(const o of t)o.hasZ&&(r=!0),o.hasM&&(s=!0);const n={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new jy(n)}constructor(e){super(ez(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=kG(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Pi;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=ge(e)}get extent(){const e=KP(this),{spatialReference:t}=this;return e?new Js({...e,spatialReference:t}):null}get isSelfIntersecting(){return AG(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(D4(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new jy;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.curveRings=ge(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([s,n,o,a],[l,c,f,d])=>s===l&&n===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=e.rings[s];if(!y1(n,o,r))return!1}return!0}contains(e){if(!e)return!1;const t=AP(e,this.spatialReference);return mG(this,t??e)}isClockwise(e){const t=D4(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return NP(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Pi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Pi(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Pi(i[0],i[1],i[2],i[3],this.spatialReference):new Pi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(rf(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Pi(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Pi(s,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(rf(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Rs.prototype,"cache",null),g([A({readOnly:!0})],Rs.prototype,"centroid",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Rs.prototype,"curveRings",void 0),g([Jt("curveRings")],Rs.prototype,"writeCurveRings",null),g([A({readOnly:!0})],Rs.prototype,"extent",null),g([A({readOnly:!0})],Rs.prototype,"isSelfIntersecting",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Rs.prototype,"rings",void 0),g([Jt("rings")],Rs.prototype,"writeRings",null),Rs=jy=g([ie("esri.geometry.Polygon")],Rs);const tu=Rs;Rs.prototype.toJSON.isDefaultToJSON=!0;var lw;function tz(e){return!Array.isArray(e[0])}function iz(e){return typeof e[0]?.[0]=="number"}function rz(e){if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],iz(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=Yi.WGS84,{...e,hasM:i,hasZ:r,paths:t,spatialReference:s}}let Xn=lw=class extends yu{constructor(e){super(rz(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=ge(e)}get extent(){const e=XP(this),{spatialReference:t}=this;return e?new Js({...e,spatialReference:t}):null}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(tz(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new lw;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.curvePaths=ge(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Pi(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Pi(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Pi(i[0],i[1],i[2],i[3],this.spatialReference):new Pi(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(rf(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Pi(s,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Pi(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(rf(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([A({readOnly:!0})],Xn.prototype,"cache",null),g([A({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Xn.prototype,"curvePaths",void 0),g([Jt("curvePaths")],Xn.prototype,"writeCurvePaths",null),g([A({readOnly:!0})],Xn.prototype,"extent",null),g([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Xn.prototype,"paths",void 0),g([Jt("paths")],Xn.prototype,"writePaths",null),Xn=lw=g([ie("esri.geometry.Polyline")],Xn);const Hm=Xn;Xn.prototype.toJSON.isDefaultToJSON=!0;function QP(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function eL(e){return e.points!==void 0}function tL(e){return e.x!==void 0&&e.y!==void 0}function iL(e){return e.paths!==void 0||e.curvePaths!==void 0}function rL(e){return e.rings!==void 0||e.curveRings!==void 0}function TE(e){return e==null?null:e instanceof yu?e:tL(e)?Pi.fromJSON(e):iL(e)?Hm.fromJSON(e):rL(e)?tu.fromJSON(e):eL(e)?P1.fromJSON(e):QP(e)?Js.fromJSON(e):null}function Lbe(e){return e?tL(e)?"esriGeometryPoint":iL(e)?"esriGeometryPolyline":rL(e)?"esriGeometryPolygon":QP(e)?"esriGeometryEnvelope":eL(e)?"esriGeometryMultipoint":null:null}const sz={esriGeometryPoint:Pi,esriGeometryPolyline:Hm,esriGeometryPolygon:tu,esriGeometryEnvelope:Js,esriGeometryMultipoint:P1,esriGeometryMultiPatch:tu};function Nbe(e){return e&&sz[e]||null}const sL=e=>{let t=class extends e{clone(){const i=wl(this);bU(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,n={},o=new Map;for(const l in r){const c=r[l],f=s?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==ct.USER&&f!==ct.DEFAULTS&&f!==ct.WEB_MAP&&f!==ct.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:S2(p),p!=null&&y==null||(f===ct.DEFAULTS?o.set(l,y):n[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(n);if(o.size){const l=wl(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,ct.DEFAULTS)}return a}};return t=g([ie("esri.core.Clonable")],t),t};let Ed=class extends sL(Hi){};Ed=g([ie("esri.core.Clonable")],Ed),function(e){e.ClonableMixin=sL}(Ed||(Ed={}));const Co=Ed;let d_;async function nz(){return d_==null&&(d_=ve(()=>import("./WhereClauseCache-Iwe8eau-.js"),__vite__mapDeps([13,14,15,16,17,1]),import.meta.url).then(e=>new e.WhereClauseCache(500,500))),d_}async function oz(e,t){const i=await nz(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function Rbe(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function Dbe(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function Fbe(e,t){return t.length===0?null:`${e} IN (${az(t)})`}function az(e){return e.map(t=>typeof t=="string"?lz(t):t).join(",")}function lz(e){return`'${e.replaceAll("'","''")}'`}function Ube(e){return typeof e=="number"}function jbe(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function Bbe(e){return typeof e=="boolean"}function Wm(e){return typeof e=="string"||e instanceof String}function cz(e){return e==null||Wm(e)}function Vbe(e){return Array.isArray(e)}function Gbe(e){return e?.declaredClass==="esri.Graphic"}function zbe(e){return e instanceof Date}class gu extends Error{}class uz extends gu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class hz extends gu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class fz extends gu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class dh extends gu{}class nL extends gu{constructor(t){super(`Invalid unit ${t}`)}}class vr extends gu{}class Ta extends gu{constructor(){super("Zone is an abstract class")}}const be="numeric",Cn="short",ws="long",Qg={year:be,month:be,day:be},oL={year:be,month:Cn,day:be},dz={year:be,month:Cn,day:be,weekday:Cn},aL={year:be,month:ws,day:be},lL={year:be,month:ws,day:be,weekday:ws},cL={hour:be,minute:be},uL={hour:be,minute:be,second:be},hL={hour:be,minute:be,second:be,timeZoneName:Cn},fL={hour:be,minute:be,second:be,timeZoneName:ws},dL={hour:be,minute:be,hourCycle:"h23"},pL={hour:be,minute:be,second:be,hourCycle:"h23"},mL={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Cn},yL={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:ws},gL={year:be,month:be,day:be,hour:be,minute:be},vL={year:be,month:be,day:be,hour:be,minute:be,second:be},bL={year:be,month:Cn,day:be,hour:be,minute:be},_L={year:be,month:Cn,day:be,hour:be,minute:be,second:be},pz={year:be,month:Cn,day:be,weekday:Cn,hour:be,minute:be},wL={year:be,month:ws,day:be,hour:be,minute:be,timeZoneName:Cn},xL={year:be,month:ws,day:be,hour:be,minute:be,second:be,timeZoneName:Cn},SL={year:be,month:ws,day:be,weekday:ws,hour:be,minute:be,timeZoneName:ws},EL={year:be,month:ws,day:be,weekday:ws,hour:be,minute:be,second:be,timeZoneName:ws};class vu{get type(){throw new Ta}get name(){throw new Ta}get ianaName(){return this.name}get isUniversal(){throw new Ta}offsetName(t,i){throw new Ta}formatOffset(t,i){throw new Ta}offset(t){throw new Ta}equals(t){throw new Ta}get isValid(){throw new Ta}}let p_=null;class N1 extends vu{static get instance(){return p_===null&&(p_=new N1),p_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return LL(t,i,r)}formatOffset(t,i){return lp(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let By={};function mz(e){return By[e]||(By[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),By[e]}const yz={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function gz(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,o,a,l,c,f]=r;return[o,s,n,a,l,c,f]}function vz(e,t){const i=e.formatToParts(t),r=[];for(let s=0;s<i.length;s++){const{type:n,value:o}=i[s],a=yz[n];n==="era"?r[a]=o:Ve(a)||(r[a]=parseInt(o,10))}return r}let U0={};class In extends vu{static create(t){return U0[t]||(U0[t]=new In(t)),U0[t]}static resetCache(){U0={},By={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=In.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return LL(t,i,r,this.name)}formatOffset(t,i){return lp(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=mz(this.name);let[s,n,o,a,l,c,f]=r.formatToParts?vz(r,i):gz(r,i);a==="BC"&&(s=-Math.abs(s)+1);const p=R1({year:s,month:n,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+i;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let F4={};function bz(e,t={}){const i=JSON.stringify([e,t]);let r=F4[i];return r||(r=new Intl.ListFormat(e,t),F4[i]=r),r}let cw={};function uw(e,t={}){const i=JSON.stringify([e,t]);let r=cw[i];return r||(r=new Intl.DateTimeFormat(e,t),cw[i]=r),r}let hw={};function _z(e,t={}){const i=JSON.stringify([e,t]);let r=hw[i];return r||(r=new Intl.NumberFormat(e,t),hw[i]=r),r}let fw={};function wz(e,t={}){const{base:i,...r}=t,s=JSON.stringify([e,r]);let n=fw[s];return n||(n=new Intl.RelativeTimeFormat(e,t),fw[s]=n),n}let Ad=null;function xz(){return Ad||(Ad=new Intl.DateTimeFormat().resolvedOptions().locale,Ad)}let U4={};function Sz(e){let t=U4[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,U4[e]=t}return t}function Ez(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,s;try{r=uw(e).resolvedOptions(),s=e}catch{const l=e.substring(0,i);r=uw(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:o}=r;return[s,n,o]}}function Az(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Tz(e){const t=[];for(let i=1;i<=12;i++){const r=Ie.utc(2009,i,1);t.push(e(r))}return t}function Mz(e){const t=[];for(let i=1;i<=7;i++){const r=Ie.utc(2016,11,13+i);t.push(e(r))}return t}function j0(e,t,i,r){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):r(t)}function $z(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class Oz{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...o}=r;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=_z(t,a)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):IE(t,3);return Ii(i,this.padTo)}}}class Cz{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&In.create(a).valid?(s=a,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=uw(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class Iz{constructor(t,i,r){this.opts={style:"long",...r},!i&&IL()&&(this.rtf=wz(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):eq(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const Pz={firstDay:1,minimalDays:4,weekend:[6,7]};class Et{static fromOpts(t){return Et.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,s,n=!1){const o=t||hi.defaultLocale,a=o||(n?"en-US":xz()),l=i||hi.defaultNumberingSystem,c=r||hi.defaultOutputCalendar,f=dw(s)||hi.defaultWeekSettings;return new Et(a,l,c,f,o)}static resetCache(){Ad=null,cw={},hw={},fw={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return Et.create(t,i,r,s)}constructor(t,i,r,s,n){const[o,a,l]=Ez(t);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=r||l||null,this.weekSettings=s,this.intl=Az(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=$z(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Et.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,dw(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return j0(this,t,RL,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=Tz(n=>this.extract(n,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return j0(this,t,UL,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=Mz(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return j0(this,void 0,()=>jL,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ie.utc(2016,11,13,9),Ie.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return j0(this,t,BL,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ie.utc(-40,1,1),Ie.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const s=this.dtFormatter(t,i),n=s.formatToParts(),o=n.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(t={}){return new Oz(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new Cz(t,this.intl,i)}relFormatter(t={}){return new Iz(this.intl,this.isEnglish(),t)}listFormatter(t={}){return bz(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:PL()?Sz(this.locale):Pz}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let m_=null;class Ar extends vu{static get utcInstance(){return m_===null&&(m_=new Ar(0)),m_}static instance(t){return t===0?Ar.utcInstance:new Ar(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Ar(D1(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${lp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${lp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return lp(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Lz extends vu{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function sl(e,t){if(Ve(e)||e===null)return t;if(e instanceof vu)return e;if(Uz(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?N1.instance:i==="utc"||i==="gmt"?Ar.utcInstance:Ar.parseSpecifier(i)||In.create(e)}else return pl(e)?Ar.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new Lz(e)}const ME={arab:"[Ù -Ù©]",arabext:"[Û°-Û¹]",bali:"[á­-á­™]",beng:"[à§¦-à§¯]",deva:"[à¥¦-à¥¯]",fullwide:"[ï¼-ï¼™]",gujr:"[à«¦-à«¯]",hanidec:"[ã€‡|ä¸€|äºŒ|ä¸‰|å››|äº”|å…­|ä¸ƒ|å…«|ä¹]",khmr:"[áŸ -áŸ©]",knda:"[à³¦-à³¯]",laoo:"[à»-à»™]",limb:"[á¥†-á¥]",mlym:"[àµ¦-àµ¯]",mong:"[á -á ™]",mymr:"[á€-á‰]",orya:"[à­¦-à­¯]",tamldec:"[à¯¦-à¯¯]",telu:"[à±¦-à±¯]",thai:"[à¹-à¹™]",tibt:"[à¼ -à¼©]",latn:"\\d"},j4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Nz=ME.hanidec.replace(/[\[|\]]/g,"").split("");function kz(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(ME.hanidec)!==-1)t+=Nz.indexOf(e[i]);else for(const s in j4){const[n,o]=j4[s];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}else return t}let Zu={};function Rz(){Zu={}}function rn({numberingSystem:e},t=""){const i=e||"latn";return Zu[i]||(Zu[i]={}),Zu[i][t]||(Zu[i][t]=new RegExp(`${ME[i]}${t}`)),Zu[i][t]}let B4=()=>Date.now(),V4="system",G4=null,z4=null,q4=null,H4=60,W4,Y4=null;class hi{static get now(){return B4}static set now(t){B4=t}static set defaultZone(t){V4=t}static get defaultZone(){return sl(V4,N1.instance)}static get defaultLocale(){return G4}static set defaultLocale(t){G4=t}static get defaultNumberingSystem(){return z4}static set defaultNumberingSystem(t){z4=t}static get defaultOutputCalendar(){return q4}static set defaultOutputCalendar(t){q4=t}static get defaultWeekSettings(){return Y4}static set defaultWeekSettings(t){Y4=dw(t)}static get twoDigitCutoffYear(){return H4}static set twoDigitCutoffYear(t){H4=t%100}static get throwOnInvalid(){return W4}static set throwOnInvalid(t){W4=t}static resetCaches(){Et.resetCache(),In.resetCache(),Ie.resetCache(),Rz()}}class yn{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const AL=[0,31,59,90,120,151,181,212,243,273,304,334],TL=[0,31,60,91,121,152,182,213,244,274,305,335];function Vs(e,t){return new yn("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function $E(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function ML(e,t,i){return i+(Ym(e)?TL:AL)[t-1]}function $L(e,t){const i=Ym(e)?TL:AL,r=i.findIndex(n=>n<t),s=t-i[r];return{month:r+1,day:s}}function OE(e,t){return(e-t+7)%7+1}function ev(e,t=4,i=1){const{year:r,month:s,day:n}=e,o=ML(r,s,n),a=OE($E(r,s,n),i);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=r-1,l=Xp(c,t,i)):l>Xp(r,t,i)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...F1(e)}}function J4(e,t=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=e,o=OE($E(r,1,t),i),a=Lh(r);let l=s*7+n-o-7+t,c;l<1?(c=r-1,l+=Lh(c)):l>a?(c=r+1,l-=Lh(r)):c=r;const{month:f,day:d}=$L(c,l);return{year:c,month:f,day:d,...F1(e)}}function y_(e){const{year:t,month:i,day:r}=e,s=ML(t,i,r);return{year:t,ordinal:s,...F1(e)}}function Z4(e){const{year:t,ordinal:i}=e,{month:r,day:s}=$L(t,i);return{year:t,month:r,day:s,...F1(e)}}function K4(e,t){if(!Ve(e.localWeekday)||!Ve(e.localWeekNumber)||!Ve(e.localWeekYear)){if(!Ve(e.weekday)||!Ve(e.weekNumber)||!Ve(e.weekYear))throw new dh("Cannot mix locale-based week fields with ISO-based week fields");return Ve(e.localWeekday)||(e.weekday=e.localWeekday),Ve(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ve(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Dz(e,t=4,i=1){const r=k1(e.weekYear),s=Gs(e.weekNumber,1,Xp(e.weekYear,t,i)),n=Gs(e.weekday,1,7);return r?s?n?!1:Vs("weekday",e.weekday):Vs("week",e.weekNumber):Vs("weekYear",e.weekYear)}function Fz(e){const t=k1(e.year),i=Gs(e.ordinal,1,Lh(e.year));return t?i?!1:Vs("ordinal",e.ordinal):Vs("year",e.year)}function OL(e){const t=k1(e.year),i=Gs(e.month,1,12),r=Gs(e.day,1,tv(e.year,e.month));return t?i?r?!1:Vs("day",e.day):Vs("month",e.month):Vs("year",e.year)}function CL(e){const{hour:t,minute:i,second:r,millisecond:s}=e,n=Gs(t,0,23)||t===24&&i===0&&r===0&&s===0,o=Gs(i,0,59),a=Gs(r,0,59),l=Gs(s,0,999);return n?o?a?l?!1:Vs("millisecond",s):Vs("second",r):Vs("minute",i):Vs("hour",t)}function Ve(e){return typeof e>"u"}function pl(e){return typeof e=="number"}function k1(e){return typeof e=="number"&&e%1===0}function Uz(e){return typeof e=="string"}function jz(e){return Object.prototype.toString.call(e)==="[object Date]"}function IL(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function PL(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Bz(e){return Array.isArray(e)?e:[e]}function X4(e,t,i){if(e.length!==0)return e.reduce((r,s)=>{const n=[t(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function Vz(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function nf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function dw(e){if(e==null)return null;if(typeof e!="object")throw new vr("Week settings must be an object");if(!Gs(e.firstDay,1,7)||!Gs(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Gs(t,1,7)))throw new vr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Gs(e,t,i){return k1(e)&&e>=t&&e<=i}function Gz(e,t){return e-t*Math.floor(e/t)}function Ii(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Ya(e){if(!(Ve(e)||e===null||e===""))return parseInt(e,10)}function Jl(e){if(!(Ve(e)||e===null||e===""))return parseFloat(e)}function CE(e){if(!(Ve(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function IE(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function Ym(e){return e%4===0&&(e%100!==0||e%400===0)}function Lh(e){return Ym(e)?366:365}function tv(e,t){const i=Gz(t-1,12)+1,r=e+(t-i)/12;return i===2?Ym(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function R1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Q4(e,t,i){return-OE($E(e,1,t),i)+t-1}function Xp(e,t=4,i=1){const r=Q4(e,t,i),s=Q4(e+1,t,i);return(Lh(e)-r+s)/7}function pw(e){return e>99?e:e>hi.twoDigitCutoffYear?1900+e:2e3+e}function LL(e,t,i,r=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const o={timeZoneName:t,...n},a=new Intl.DateTimeFormat(i,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function D1(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function NL(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new vr(`Invalid unit value ${e}`);return t}function iv(e,t){const i={};for(const r in e)if(nf(e,r)){const s=e[r];if(s==null)continue;i[t(r)]=NL(s)}return i}function lp(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Ii(i,2)}:${Ii(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Ii(i,2)}${Ii(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function F1(e){return Vz(e,["hour","minute","second","millisecond"])}const zz=["January","February","March","April","May","June","July","August","September","October","November","December"],kL=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],qz=["J","F","M","A","M","J","J","A","S","O","N","D"];function RL(e){switch(e){case"narrow":return[...qz];case"short":return[...kL];case"long":return[...zz];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const DL=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],FL=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hz=["M","T","W","T","F","S","S"];function UL(e){switch(e){case"narrow":return[...Hz];case"short":return[...FL];case"long":return[...DL];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const jL=["AM","PM"],Wz=["Before Christ","Anno Domini"],Yz=["BC","AD"],Jz=["B","A"];function BL(e){switch(e){case"narrow":return[...Jz];case"short":return[...Yz];case"long":return[...Wz];default:return null}}function Zz(e){return jL[e.hour<12?0:1]}function Kz(e,t){return UL(t)[e.weekday-1]}function Xz(e,t){return RL(t)[e.month-1]}function Qz(e,t){return BL(t)[e.year<0?0:1]}function eq(e,t,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&n){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${s[e][0]}`;case-1:return d?"yesterday":`last ${s[e][0]}`;case 0:return d?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=s[e],f=r?l?c[1]:c[2]||c[1]:l?s[e][0]:e;return o?`${a} ${f} ago`:`in ${a} ${f}`}function eM(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const tq={D:Qg,DD:oL,DDD:aL,DDDD:lL,t:cL,tt:uL,ttt:hL,tttt:fL,T:dL,TT:pL,TTT:mL,TTTT:yL,f:gL,ff:bL,fff:wL,ffff:SL,F:vL,FF:_L,FFF:xL,FFFF:EL};class Er{static create(t,i={}){return new Er(t,i)}static parseFormat(t){let i=null,r="",s=!1;const n=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||a===i?r+=a:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=a,i=a)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(t){return tq[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Ii(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,v)=>this.loc.extract(t,y,v),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>r?Zz(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>r?Xz(t,y):n(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>r?Kz(t,y):n(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const v=Er.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(t,v):y},d=y=>r?Qz(t,y):n({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return eM(Er.parseFormat(i),p)}formatDurationFromString(t,i){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{const f=r(c);return f?this.num(l.get(f),c.length):c},n=Er.parseFormat(i),o=n.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=t.shiftTo(...o.map(r).filter(l=>l));return eM(n,s(a))}}const VL=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Bf(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function Vf(...e){return t=>e.reduce(([i,r,s],n)=>{const[o,a,l]=n(t,s);return[{...i,...o},a||r,l]},[{},null,1]).slice(0,2)}function Gf(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const s=i.exec(e);if(s)return r(s)}return[null,null]}function GL(...e){return(t,i)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=Ya(t[i+s]);return[r,null,i+s]}}const zL=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,iq=`(?:${zL.source}?(?:\\[(${VL.source})\\])?)?`,PE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,qL=RegExp(`${PE.source}${iq}`),LE=RegExp(`(?:T${qL.source})?`),rq=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,sq=/(\d{4})-?W(\d\d)(?:-?(\d))?/,nq=/(\d{4})-?(\d{3})/,oq=GL("weekYear","weekNumber","weekDay"),aq=GL("year","ordinal"),lq=/(\d{4})-(\d\d)-(\d\d)/,HL=RegExp(`${PE.source} ?(?:${zL.source}|(${VL.source}))?`),cq=RegExp(`(?: ${HL.source})?`);function Nh(e,t,i){const r=e[t];return Ve(r)?i:Ya(r)}function uq(e,t){return[{year:Nh(e,t),month:Nh(e,t+1,1),day:Nh(e,t+2,1)},null,t+3]}function zf(e,t){return[{hours:Nh(e,t,0),minutes:Nh(e,t+1,0),seconds:Nh(e,t+2,0),milliseconds:CE(e[t+3])},null,t+4]}function Jm(e,t){const i=!e[t]&&!e[t+1],r=D1(e[t+1],e[t+2]),s=i?null:Ar.instance(r);return[{},s,t+3]}function Zm(e,t){const i=e[t]?In.create(e[t]):null;return[{},i,t+1]}const hq=RegExp(`^T?${PE.source}$`),fq=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function dq(e){const[t,i,r,s,n,o,a,l,c]=e,f=t[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&f)?-y:y;return[{years:p(Jl(i)),months:p(Jl(r)),weeks:p(Jl(s)),days:p(Jl(n)),hours:p(Jl(o)),minutes:p(Jl(a)),seconds:p(Jl(l),l==="-0"),milliseconds:p(CE(c),d)}]}const pq={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function NE(e,t,i,r,s,n,o){const a={year:t.length===2?pw(Ya(t)):Ya(t),month:kL.indexOf(i)+1,day:Ya(r),hour:Ya(s),minute:Ya(n)};return o&&(a.second=Ya(o)),e&&(a.weekday=e.length>3?DL.indexOf(e)+1:FL.indexOf(e)+1),a}const mq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function yq(e){const[,t,i,r,s,n,o,a,l,c,f,d]=e,p=NE(t,s,r,i,n,o,a);let y;return l?y=pq[l]:c?y=0:y=D1(f,d),[p,new Ar(y)]}function gq(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const vq=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,bq=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_q=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function tM(e){const[,t,i,r,s,n,o,a]=e;return[NE(t,s,r,i,n,o,a),Ar.utcInstance]}function wq(e){const[,t,i,r,s,n,o,a]=e;return[NE(t,a,i,r,s,n,o),Ar.utcInstance]}const xq=Bf(rq,LE),Sq=Bf(sq,LE),Eq=Bf(nq,LE),Aq=Bf(qL),WL=Vf(uq,zf,Jm,Zm),Tq=Vf(oq,zf,Jm,Zm),Mq=Vf(aq,zf,Jm,Zm),$q=Vf(zf,Jm,Zm);function Oq(e){return Gf(e,[xq,WL],[Sq,Tq],[Eq,Mq],[Aq,$q])}function Cq(e){return Gf(gq(e),[mq,yq])}function Iq(e){return Gf(e,[vq,tM],[bq,tM],[_q,wq])}function Pq(e){return Gf(e,[fq,dq])}const Lq=Vf(zf);function Nq(e){return Gf(e,[hq,Lq])}const kq=Bf(lq,cq),Rq=Bf(HL),Dq=Vf(zf,Jm,Zm);function Fq(e){return Gf(e,[kq,WL],[Rq,Dq])}const iM="Invalid Duration",YL={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Uq={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...YL},Cs=146097/400,Du=146097/4800,jq={years:{quarters:4,months:12,weeks:Cs/7,days:Cs,hours:Cs*24,minutes:Cs*24*60,seconds:Cs*24*60*60,milliseconds:Cs*24*60*60*1e3},quarters:{months:3,weeks:Cs/28,days:Cs/4,hours:Cs*24/4,minutes:Cs*24*60/4,seconds:Cs*24*60*60/4,milliseconds:Cs*24*60*60*1e3/4},months:{weeks:Du/7,days:Du,hours:Du*24,minutes:Du*24*60,seconds:Du*24*60*60,milliseconds:Du*24*60*60*1e3},...YL},Ic=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Bq=Ic.slice(0).reverse();function Ma(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new ut(r)}function JL(e,t){let i=t.milliseconds??0;for(const r of Bq.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function rM(e,t){const i=JL(e,t)<0?-1:1;Ic.reduceRight((r,s)=>{if(Ve(t[s]))return r;if(r){const n=t[r]*i,o=e[s][r],a=Math.floor(n/o);t[s]+=a*i,t[r]-=a*o*i}return s},null),Ic.reduce((r,s)=>{if(Ve(t[s]))return r;if(r){const n=t[r]%1;t[r]-=n,t[s]+=n*e[r][s]}return s},null)}function Vq(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class ut{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?jq:Uq;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||Et.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return ut.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new vr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new ut({values:iv(t,ut.normalizeUnit),loc:Et.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(pl(t))return ut.fromMillis(t);if(ut.isDuration(t))return t;if(typeof t=="object")return ut.fromObject(t);throw new vr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=Pq(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=Nq(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new vr("need to specify a reason the Duration is invalid");const r=t instanceof yn?t:new yn(t,i);if(hi.throwOnInvalid)throw new fz(r);return new ut({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new nL(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Er.create(this.loc,r).formatDurationFromString(this,t):iM}toHuman(t={}){if(!this.isValid)return iM;const i=Ic.map(r=>{const s=this.values[r];return Ve(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=IE(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ie.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?JL(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t),r={};for(const s of Ic)(nf(i.values,s)||nf(this.values,s))&&(r[s]=i.get(s)+this.get(s));return Ma(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=NL(t(this.values[r],r));return Ma(this,{values:i},!0)}get(t){return this[ut.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...iv(t,ut.normalizeUnit)};return Ma(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:r};return Ma(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return rM(this.matrix,t),Ma(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=Vq(this.normalize().shiftToAll().toObject());return Ma(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>ut.normalizeUnit(o));const i={},r={},s=this.toObject();let n;for(const o of Ic)if(t.indexOf(o)>=0){n=o;let a=0;for(const c in r)a+=this.matrix[c][o]*r[c],r[c]=0;pl(s[o])&&(a+=s[o]);const l=Math.trunc(a);i[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else pl(s[o])&&(r[o]=s[o]);for(const o in r)r[o]!==0&&(i[n]+=o===n?r[o]:r[o]/this.matrix[n][o]);return rM(this.matrix,i),Ma(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Ma(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of Ic)if(!i(this.values[r],t.values[r]))return!1;return!0}}const Fu="Invalid Interval";function Gq(e,t){return!e||!e.isValid?ci.invalid("missing or invalid start"):!t||!t.isValid?ci.invalid("missing or invalid end"):t<e?ci.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class ci{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new vr("need to specify a reason the Interval is invalid");const r=t instanceof yn?t:new yn(t,i);if(hi.throwOnInvalid)throw new hz(r);return new ci({invalid:r})}static fromDateTimes(t,i){const r=sd(t),s=sd(i),n=Gq(r,s);return n??new ci({start:r,end:s})}static after(t,i){const r=ut.fromDurationLike(i),s=sd(t);return ci.fromDateTimes(s,s.plus(r))}static before(t,i){const r=ut.fromDurationLike(i),s=sd(t);return ci.fromDateTimes(s.minus(r),s)}static fromISO(t,i){const[r,s]=(t||"").split("/",2);if(r&&s){let n,o;try{n=Ie.fromISO(r,i),o=n.isValid}catch{o=!1}let a,l;try{a=Ie.fromISO(s,i),l=a.isValid}catch{l=!1}if(o&&l)return ci.fromDateTimes(n,a);if(o){const c=ut.fromISO(s,i);if(c.isValid)return ci.after(n,c)}else if(l){const c=ut.fromISO(r,i);if(c.isValid)return ci.before(a,c)}}return ci.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let s;return i?.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?ci.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(sd).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const o=i[n]||this.e,a=+o>+this.e?this.e:o;r.push(ci.fromDateTimes(s,a)),s=a,n+=1}return r}splitBy(t){const i=ut.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const o=[];for(;r<this.e;){const a=this.start.plus(i.mapUnits(l=>l*s));n=+a>+this.e?this.e:a,o.push(ci.fromDateTimes(r,n)),r=n,s+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:ci.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return ci.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const s=[],n=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...n),a=o.sort((l,c)=>l.time-c.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&s.push(ci.fromDateTimes(i,l.time)),i=null);return ci.merge(s)}difference(...t){return ci.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} â€“ ${this.e.toISO()})`:Fu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Qg,i={}){return this.isValid?Er.create(this.s.loc.clone(i),t).formatInterval(this):Fu}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Fu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fu}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Fu}toFormat(t,{separator:i=" â€“ "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Fu}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):ut.invalid(this.invalidReason)}mapEndpoints(t){return ci.fromDateTimes(t(this.s),t(this.e))}}class B0{static hasDST(t=hi.defaultZone){const i=Ie.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return In.isValidZone(t)}static normalizeZone(t){return sl(t,hi.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||Et.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||Et.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||Et.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Et.create(i,r,n)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||Et.create(i,r,n)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Et.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||Et.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Et.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return Et.create(i,null,"gregory").eras(t)}static features(){return{relative:IL(),localeWeek:PL()}}}function sM(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(ut.fromMillis(r).as("days"))}function zq(e,t,i){const r=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=sM(l,c);return(f-f%7)/7}],["days",sM]],s={},n=e;let o,a;for(const[l,c]of r)i.indexOf(l)>=0&&(o=l,s[l]=c(e,t),a=n.plus(s),a>t?(s[l]--,e=n.plus(s),e>t&&(a=e,s[l]--,e=n.plus(s))):e=a);return[e,s,a,o]}function qq(e,t,i,r){let[s,n,o,a]=zq(e,t,i);const l=t-s,c=i.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(n[a]=(n[a]||0)+l/(o-s)));const f=ut.fromObject(n,r);return c.length>0?ut.fromMillis(l,r).shiftTo(...c).plus(f):f}const Hq="missing Intl.DateTimeFormat.formatToParts support";function gt(e,t=i=>i){return{regex:e,deser:([i])=>t(kz(i))}}const Wq="Â ",ZL=`[ ${Wq}]`,KL=new RegExp(ZL,"g");function Yq(e){return e.replace(/\./g,"\\.?").replace(KL,ZL)}function nM(e){return e.replace(/\./g,"").replace(KL," ").toLowerCase()}function sn(e,t){return e===null?null:{regex:RegExp(e.map(Yq).join("|")),deser:([i])=>e.findIndex(r=>nM(i)===nM(r))+t}}function oM(e,t){return{regex:e,deser:([,i,r])=>D1(i,r),groups:t}}function V0(e){return{regex:e,deser:([t])=>t}}function Jq(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Zq(e,t){const i=rn(t),r=rn(t,"{2}"),s=rn(t,"{3}"),n=rn(t,"{4}"),o=rn(t,"{6}"),a=rn(t,"{1,2}"),l=rn(t,"{1,3}"),c=rn(t,"{1,6}"),f=rn(t,"{1,9}"),d=rn(t,"{2,4}"),p=rn(t,"{4,6}"),y=E=>({regex:RegExp(Jq(E.val)),deser:([S])=>S,literal:!0}),b=(E=>{if(e.literal)return y(E);switch(E.val){case"G":return sn(t.eras("short"),0);case"GG":return sn(t.eras("long"),0);case"y":return gt(c);case"yy":return gt(d,pw);case"yyyy":return gt(n);case"yyyyy":return gt(p);case"yyyyyy":return gt(o);case"M":return gt(a);case"MM":return gt(r);case"MMM":return sn(t.months("short",!0),1);case"MMMM":return sn(t.months("long",!0),1);case"L":return gt(a);case"LL":return gt(r);case"LLL":return sn(t.months("short",!1),1);case"LLLL":return sn(t.months("long",!1),1);case"d":return gt(a);case"dd":return gt(r);case"o":return gt(l);case"ooo":return gt(s);case"HH":return gt(r);case"H":return gt(a);case"hh":return gt(r);case"h":return gt(a);case"mm":return gt(r);case"m":return gt(a);case"q":return gt(a);case"qq":return gt(r);case"s":return gt(a);case"ss":return gt(r);case"S":return gt(l);case"SSS":return gt(s);case"u":return V0(f);case"uu":return V0(a);case"uuu":return gt(i);case"a":return sn(t.meridiems(),0);case"kkkk":return gt(n);case"kk":return gt(d,pw);case"W":return gt(a);case"WW":return gt(r);case"E":case"c":return gt(i);case"EEE":return sn(t.weekdays("short",!1),1);case"EEEE":return sn(t.weekdays("long",!1),1);case"ccc":return sn(t.weekdays("short",!0),1);case"cccc":return sn(t.weekdays("long",!0),1);case"Z":case"ZZ":return oM(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return oM(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return V0(/[a-z_+-/]{1,256}?/i);case" ":return V0(/[^\S\n\r]/);default:return y(E)}})(e)||{invalidReason:Hq};return b.token=e,b}const Kq={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Xq(e,t,i){const{type:r,value:s}=e;if(r==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=t[r];let o=r;r==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=Kq[o];if(typeof a=="object"&&(a=a[n]),a)return{literal:!1,val:a}}function Qq(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function eH(e,t,i){const r=e.match(t);if(r){const s={};let n=1;for(const o in i)if(nf(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(r.slice(n,n+l))),n+=l}return[r,s]}else return[r,{}]}function tH(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Ve(e.z)||(i=In.create(e.z)),Ve(e.Z)||(i||(i=new Ar(e.Z)),r=e.Z),Ve(e.q)||(e.M=(e.q-1)*3+1),Ve(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Ve(e.u)||(e.S=CE(e.u)),[Object.keys(e).reduce((n,o)=>{const a=t(o);return a&&(n[a]=e[o]),n},{}),i,r]}let g_=null;function iH(){return g_||(g_=Ie.fromMillis(1555555555555)),g_}function rH(e,t){if(e.literal)return e;const i=Er.macroTokenToFormatOpts(e.val),r=t6(i,t);return r==null||r.includes(void 0)?e:r}function XL(e,t){return Array.prototype.concat(...e.map(i=>rH(i,t)))}class QL{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=XL(Er.parseFormat(i),t),this.units=this.tokens.map(r=>Zq(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=Qq(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[i,r]=eH(t,this.regex,this.handlers),[s,n,o]=r?tH(r):[null,null,void 0];if(nf(r,"a")&&nf(r,"H"))throw new dh("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function e6(e,t,i){return new QL(e,i).explainFromTokens(t)}function sH(e,t,i){const{result:r,zone:s,specificOffset:n,invalidReason:o}=e6(e,t,i);return[r,s,n,o]}function t6(e,t){if(!e)return null;const r=Er.create(t,e).dtFormatter(iH()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(o=>Xq(o,e,n))}const v_="Invalid DateTime",aM=864e13;function Td(e){return new yn("unsupported zone",`the zone "${e.name}" is not supported`)}function b_(e){return e.weekData===null&&(e.weekData=ev(e.c)),e.weekData}function __(e){return e.localWeekData===null&&(e.localWeekData=ev(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Zl(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ie({...i,...t,old:i})}function i6(e,t,i){let r=e-t*60*1e3;const s=i.offset(r);if(t===s)return[r,t];r-=(s-t)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function G0(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Vy(e,t,i){return i6(R1(e),t,i)}function lM(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:r,month:s,day:Math.min(e.c.day,tv(r,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=ut.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=R1(n);let[l,c]=i6(a,i,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function Uu(e,t,i,r,s,n){const{setZone:o,zone:a}=i;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Ie.fromObject(e,{...i,zone:l,specificOffset:n});return o?c:c.setZone(a)}else return Ie.invalid(new yn("unparsable",`the input "${s}" can't be parsed as ${r}`))}function z0(e,t,i=!0){return e.isValid?Er.create(Et.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function w_(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=Ii(e.c.year,i?6:4),t?(r+="-",r+=Ii(e.c.month),r+="-",r+=Ii(e.c.day)):(r+=Ii(e.c.month),r+=Ii(e.c.day)),r}function cM(e,t,i,r,s,n){let o=Ii(e.c.hour);return t?(o+=":",o+=Ii(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=":")):o+=Ii(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=Ii(e.c.second),(e.c.millisecond!==0||!r)&&(o+=".",o+=Ii(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!n?o+="Z":e.o<0?(o+="-",o+=Ii(Math.trunc(-e.o/60)),o+=":",o+=Ii(Math.trunc(-e.o%60))):(o+="+",o+=Ii(Math.trunc(e.o/60)),o+=":",o+=Ii(Math.trunc(e.o%60)))),n&&(o+="["+e.zone.ianaName+"]"),o}const r6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},nH={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},oH={ordinal:1,hour:0,minute:0,second:0,millisecond:0},s6=["year","month","day","hour","minute","second","millisecond"],aH=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],lH=["year","ordinal","hour","minute","second","millisecond"];function cH(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new nL(e);return t}function uM(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return cH(e)}}function uH(e){return zy[e]||(Gy===void 0&&(Gy=hi.now()),zy[e]=e.offset(Gy)),zy[e]}function hM(e,t){const i=sl(t.zone,hi.defaultZone);if(!i.isValid)return Ie.invalid(Td(i));const r=Et.fromObject(t);let s,n;if(Ve(e.year))s=hi.now();else{for(const l of s6)Ve(e[l])&&(e[l]=r6[l]);const o=OL(e)||CL(e);if(o)return Ie.invalid(o);const a=uH(i);[s,n]=Vy(e,a,i)}return new Ie({ts:s,zone:i,loc:r,o:n})}function fM(e,t,i){const r=Ve(i.round)?!0:i.round,s=(o,a)=>(o=IE(o,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,a)),n=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return s(n(i.unit),i.unit);for(const o of i.units){const a=n(o);if(Math.abs(a)>=1)return s(a,o)}return s(e>t?-0:0,i.units[i.units.length-1])}function dM(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let Gy,zy={};class Ie{constructor(t){const i=t.zone||hi.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new yn("invalid input"):null)||(i.isValid?null:Td(i));this.ts=Ve(t.ts)?hi.now():t.ts;let s=null,n=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,n]=[t.old.c,t.old.o];else{const a=pl(t.o)&&!t.old?t.o:i.offset(this.ts);s=G0(this.ts,a),r=Number.isNaN(s.year)?new yn("invalid input"):null,s=r?null:s,n=r?null:a}this._zone=i,this.loc=t.loc||Et.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Ie({})}static local(){const[t,i]=dM(arguments),[r,s,n,o,a,l,c]=i;return hM({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,i]=dM(arguments),[r,s,n,o,a,l,c]=i;return t.zone=Ar.utcInstance,hM({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,i={}){const r=jz(t)?t.valueOf():NaN;if(Number.isNaN(r))return Ie.invalid("invalid input");const s=sl(i.zone,hi.defaultZone);return s.isValid?new Ie({ts:r,zone:s,loc:Et.fromObject(i)}):Ie.invalid(Td(s))}static fromMillis(t,i={}){if(pl(t))return t<-aM||t>aM?Ie.invalid("Timestamp out of range"):new Ie({ts:t,zone:sl(i.zone,hi.defaultZone),loc:Et.fromObject(i)});throw new vr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(pl(t))return new Ie({ts:t*1e3,zone:sl(i.zone,hi.defaultZone),loc:Et.fromObject(i)});throw new vr("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=sl(i.zone,hi.defaultZone);if(!r.isValid)return Ie.invalid(Td(r));const s=Et.fromObject(i),n=iv(t,uM),{minDaysInFirstWeek:o,startOfWeek:a}=K4(n,s),l=hi.now(),c=Ve(i.specificOffset)?r.offset(l):i.specificOffset,f=!Ve(n.ordinal),d=!Ve(n.year),p=!Ve(n.month)||!Ve(n.day),y=d||p,v=n.weekYear||n.weekNumber;if((y||f)&&v)throw new dh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new dh("Can't mix ordinal dates with month/day");const b=v||n.weekday&&!y;let E,S,T=G0(l,c);b?(E=aH,S=nH,T=ev(T,o,a)):f?(E=lH,S=oH,T=y_(T)):(E=s6,S=r6);let w=!1;for(const F of E){const z=n[F];Ve(z)?w?n[F]=S[F]:n[F]=T[F]:w=!0}const _=b?Dz(n,o,a):f?Fz(n):OL(n),M=_||CL(n);if(M)return Ie.invalid(M);const $=b?J4(n,o,a):f?Z4(n):n,[I,L]=Vy($,c,r),P=new Ie({ts:I,zone:r,o:L,loc:s});return n.weekday&&y&&t.weekday!==P.weekday?Ie.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${P.toISO()}`):P.isValid?P:Ie.invalid(P.invalid)}static fromISO(t,i={}){const[r,s]=Oq(t);return Uu(r,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,s]=Cq(t);return Uu(r,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,s]=Iq(t);return Uu(r,s,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Ve(t)||Ve(i))throw new vr("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,o=Et.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[a,l,c,f]=sH(o,t,i);return f?Ie.invalid(f):Uu(a,l,r,`format ${i}`,t,c)}static fromString(t,i,r={}){return Ie.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,s]=Fq(t);return Uu(r,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new vr("need to specify a reason the DateTime is invalid");const r=t instanceof yn?t:new yn(t,i);if(hi.throwOnInvalid)throw new uz(r);return new Ie({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=t6(t,Et.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return XL(Er.parseFormat(t),Et.fromObject(i)).map(s=>s.val).join("")}static resetCache(){Gy=void 0,zy={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?b_(this).weekYear:NaN}get weekNumber(){return this.isValid?b_(this).weekNumber:NaN}get weekday(){return this.isValid?b_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?__(this).weekday:NaN}get localWeekNumber(){return this.isValid?__(this).weekNumber:NaN}get localWeekYear(){return this.isValid?__(this).weekYear:NaN}get ordinal(){return this.isValid?y_(this.c).ordinal:NaN}get monthShort(){return this.isValid?B0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?B0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?B0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?B0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=R1(this.c),s=this.zone.offset(r-t),n=this.zone.offset(r+t),o=this.zone.offset(r-s*i),a=this.zone.offset(r-n*i);if(o===a)return[this];const l=r-o*i,c=r-a*i,f=G0(l,o),d=G0(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[Zl(this,{ts:l}),Zl(this,{ts:c})]:[this]}get isInLeapYear(){return Ym(this.year)}get daysInMonth(){return tv(this.year,this.month)}get daysInYear(){return this.isValid?Lh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Xp(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Xp(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:s}=Er.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(Ar.instance(t),i)}toLocal(){return this.setZone(hi.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=sl(t,hi.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||r){const n=t.offset(this.ts),o=this.toObject();[s]=Vy(o,n,t)}return Zl(this,{ts:s,zone:t})}else return Ie.invalid(Td(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return Zl(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=iv(t,uM),{minDaysInFirstWeek:r,startOfWeek:s}=K4(i,this.loc),n=!Ve(i.weekYear)||!Ve(i.weekNumber)||!Ve(i.weekday),o=!Ve(i.ordinal),a=!Ve(i.year),l=!Ve(i.month)||!Ve(i.day),c=a||l,f=i.weekYear||i.weekNumber;if((c||o)&&f)throw new dh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new dh("Can't mix ordinal dates with month/day");let d;n?d=J4({...ev(this.c,r,s),...i},r,s):Ve(i.ordinal)?(d={...this.toObject(),...i},Ve(i.day)&&(d.day=Math.min(tv(d.year,d.month),d.day))):d=Z4({...y_(this.c),...i});const[p,y]=Vy(d,this.o,this.zone);return Zl(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return Zl(this,lM(this,i))}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t).negate();return Zl(this,lM(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=ut.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Er.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):v_}toLocaleString(t=Qg,i={}){return this.isValid?Er.create(this.loc.clone(i),t).formatDateTime(this):v_}toLocaleParts(t={}){return this.isValid?Er.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=w_(this,o);return a+="T",a+=cM(this,o,i,r,s,n),a}toISODate({format:t="extended"}={}){return this.isValid?w_(this,t==="extended"):null}toISOWeekDate(){return z0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+cM(this,o==="extended",i,t,r,n):null}toRFC2822(){return z0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return z0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?w_(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(r&&(s+=" "),i?s+="z":t&&(s+="ZZ")),z0(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():v_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return ut.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=Bz(i).map(ut.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=qq(a,l,n,s);return o?c.negate():c}diffNow(t="milliseconds",i={}){return this.diff(Ie.now(),t,i)}until(t){return this.isValid?ci.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Ie.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),fM(i,this.plus(r),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?fM(t.base||Ie.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ie.isDateTime))throw new vr("min requires all arguments be DateTimes");return X4(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Ie.isDateTime))throw new vr("max requires all arguments be DateTimes");return X4(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,o=Et.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return e6(o,t,i)}static fromStringExplain(t,i,r={}){return Ie.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=Et.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new QL(n,t)}static fromFormatParser(t,i,r={}){if(Ve(t)||Ve(i))throw new vr("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,o=Et.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(i.locale))throw new vr(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=i.explainFromTokens(t);return f?Ie.invalid(f):Uu(a,l,r,`format ${i.format}`,t,c)}static get DATE_SHORT(){return Qg}static get DATE_MED(){return oL}static get DATE_MED_WITH_WEEKDAY(){return dz}static get DATE_FULL(){return aL}static get DATE_HUGE(){return lL}static get TIME_SIMPLE(){return cL}static get TIME_WITH_SECONDS(){return uL}static get TIME_WITH_SHORT_OFFSET(){return hL}static get TIME_WITH_LONG_OFFSET(){return fL}static get TIME_24_SIMPLE(){return dL}static get TIME_24_WITH_SECONDS(){return pL}static get TIME_24_WITH_SHORT_OFFSET(){return mL}static get TIME_24_WITH_LONG_OFFSET(){return yL}static get DATETIME_SHORT(){return gL}static get DATETIME_SHORT_WITH_SECONDS(){return vL}static get DATETIME_MED(){return bL}static get DATETIME_MED_WITH_SECONDS(){return _L}static get DATETIME_MED_WITH_WEEKDAY(){return pz}static get DATETIME_FULL(){return wL}static get DATETIME_FULL_WITH_SECONDS(){return xL}static get DATETIME_HUGE(){return SL}static get DATETIME_HUGE_WITH_SECONDS(){return EL}}function sd(e){if(Ie.isDateTime(e))return e;if(e&&e.valueOf&&pl(e.valueOf()))return Ie.fromJSDate(e);if(e&&typeof e=="object")return Ie.fromObject(e);throw new vr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const hH="HH:mm",fH="HH:mm:ss",dH="HH:mm:ss.SSS",pH=[dH,fH,hH,"TT"],mH="yyyy-MM-dd";function pM(e){if(!e||!Wm(e))return null;const t=Ie.fromFormat(e,mH);return t.isValid?t:null}function mM(e){return e&&Wm(e)?_U(pH,t=>{const i=Ie.fromFormat(e,t);return i.isValid?i:null})??null:null}function yM(e){if(!e||!Wm(e))return null;const t=Ie.fromISO(e);return t.isValid?t:null}var rv;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(rv||(rv={}));const n6=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function yH(e){return e!=null&&n6.has(e.type)}function o6(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function a6(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function l6(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const gH=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);rE(n6,gH);function qbe(e,t){const i=e?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=yH(e);return o6(e)||l6(e)||a6(e)?{...vH(e,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function vH(e,t,i){return o6(e)?{min:pM(i)?.toMillis(),max:pM(t)?.toMillis(),rawMin:i,rawMax:t}:l6(e)?{min:mM(i)?.toMillis(),max:mM(t)?.toMillis(),rawMin:i,rawMax:t}:a6(e)?{min:yM(i)?.toMillis(),max:yM(t)?.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function bH(e){if(!e)return;const t=e.match(_H);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const _H=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function Hbe(e){return e.match(wH)?.[1]?.replace(/\\'/g,"'")??null}const wH=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let ro=class{};function xH(e){return e instanceof vu?e===ro.instance:e?.toString().toLowerCase()==="unknown"}function Ybe(e){return xH(e)?ro.instance:e}ro.instance=new In("Etc/UTC");var sv;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(sv||(sv={}));const SH={[sv.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let EH=class c6 extends Error{constructor(t,i){super(YS(SH[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,c6)}};function ju(e,t,i){return e<t?e-t:e>i?e-i:0}function Bu(e,t,i){return e<t?t:e>i?i:e}let q0=class gi{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,s=0,n=0,o=0,a=0,l){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o)||isNaN(a))return null;const c=Ie.local(t,i).daysInMonth;let f=Ie.fromObject({day:Bu(r,1,c),year:t,month:Bu(i,1,12),hour:Bu(s,0,23),minute:Bu(n,0,59),second:Bu(o,0,59),millisecond:Bu(a,0,999)},{zone:Kl(l)});return f=f.plus({months:ju(i,1,12),days:ju(r,1,c),hours:ju(s,0,23),minutes:ju(n,0,59),seconds:ju(o,0,59),milliseconds:ju(a,0,999)}),new gi(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=Kl(i);return t.isUnknownTimeZone||r===ro.instance?gi.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new gi(t._date.setZone(r))}static dateJSToArcadeDate(t){return new gi(Ie.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=Kl(i);return new gi(Ie.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new gi(Ie.fromMillis(t,{zone:ro.instance}))}static unknownDateJSToArcadeDate(t){return new gi(Ie.fromMillis(t.getTime(),{zone:ro.instance}))}static epochToArcadeDate(t,i="system"){const r=Kl(i);return new gi(Ie.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new gi(t)}clone(){return new gi(this._date)}changeTimeZone(t){const i=Kl(t);return gi.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=Kl(i);return t.zone===ro.instance||r===ro.instance?gi.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new gi(t.setZone(r))}static nowToArcadeDate(t){const i=Kl(t);return new gi(Ie.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new gi(Ie.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===gi.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===ro.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new gi(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new gi(this._date.toUTC())}toLocal(){return new gi(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=Ie.fromISO(t,{setZone:!0});return new gi(i)}};function Kl(e,t=!0){if(e instanceof vu)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return ro.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=Ar.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=In.create(e);if(!i.isValid){if(t)throw new EH(sv.TimeZoneNotRecognized);return null}return i}const AH=()=>kt.getLogger("esri.support.arcadeOnDemand"),TH=["geometry","scale","timeProperties"];function Jbe(e,t){if(t!=null)for(const i of TH)t.hasArcadeDependency(i)&&e.add(i);return e}let x_;function u6(){return x_||(x_=(async()=>{const e=await ve(()=>import("./arcadeUtils-DiAEjcKx.js"),__vite__mapDeps([18,19,1,20,21,22,17,23,24,25,26,27,28,29,30,16,5]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),x_}const Zbe=(e,t,i)=>h6.create(e,t,i,null,["$feature","$view"],[]),Kbe=(e,t,i,r)=>h6.create(e,t,i,r,["$feature","$view"],[]);let h6=class f6{constructor(t,i,r,s,n,o,a){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=n,this._spatialReference=a,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,i,r,s,n,o){const{arcade:a,Feature:l,Dictionary:c}=await u6(),f=i instanceof Yi?i:Yi.fromJSON(i);let d;try{d=a.parseScript(t,o)}catch(L){return AH().error(new ft("arcade-bad-expression","Failed to parse arcade script",{script:t,error:L})),null}const p=n.reduce((L,P)=>({...L,[P]:null}),{});let y=null;s!=null&&(y=new c(s),y.immutable=!0,p.$config=null);const v=a.scriptUsesGeometryEngine(d),b=v&&a.enableGeometrySupport(),E=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),S=a.scriptIsAsync(d),T=S&&a.enableAsyncSupport(),w={vars:p,spatialReference:f,useAsync:!!T};await Promise.all([b,E,T]);const _=new Set;await a.loadDependentModules(_,d,null,S,v);const M=new c;M.immutable=!1,M.setField("scale",0);const $=a.compileScript(d,w),I=(L,P)=>{const F=L.$view?.timeZone;if("$view"in L&&L.$view){let z;if(M.setField("scale",typeof L.$view=="object"&&"scale"in L.$view?L.$view.scale:void 0),typeof L.$view=="object"&&"timeProperties"in L.$view&&L.$view.timeProperties!=null){const{currentStart:U,currentEnd:B}=L.$view.timeProperties;z=new c({currentStart:U!=null?F!=null?q0.epochToArcadeDate(U,F):q0.unknownEpochToArcadeDate(U):void 0,currentEnd:B!=null?F!=null?q0.epochToArcadeDate(B,F):q0.unknownEpochToArcadeDate(B):void 0,startIncluded:!0,endIncluded:!0})}M.setField("timeProperties",z),L.$view=M}return y&&(L.$config=y),$({vars:L,spatialReference:f,services:P,timeZone:F})};return new f6(t,a,d,I,new l,r,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const MH=/^([0-9_])/,$H=/[^a-z0-9_\u0080-\uffff]+/gi;function Xbe(e){return e==null?null:e.trim().replaceAll($H,"_").replace(MH,"F$1")||null}const OH=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],CH=["field","normalizationField"];function Qbe(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(gM(OH,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)gM(CH,r,t)}}function gM(e,t,i){if(e)for(const r of e){const s=WS(r,t),n=s&&typeof s!="function"&&i.get(s);n&&kf(r,n.name,t)}}function e_e(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i?.name??null,e.endField=r?.name??null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i?.name??null,e.endTimeField=r?.name??null}}const S_=new Set;function kE(e,t){return e&&t?(S_.clear(),Qp(S_,e,t),Array.from(S_).sort()):[]}function Qp(e,t,i){if(i)if(t?.fields?.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)U1(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)r!=null&&e.add(r)}}function U1(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function t_e(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function i_e(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=kE(e,t);return r.length/e.fields.length>=i?["*"]:r}async function iu(e,t,i){if(!i)return;let r;const s=bH(i);if(s)r=[s];else{const{arcadeUtils:n}=await u6();r=n.extractFieldNames(i,t?.fields?.map(o=>o.name))}for(const n of r)U1(e,t,n)}async function RE(e,t,i){if(i&&i!=="1=1"){const r=await oz(i,t);if(!r.isStandardized)throw new ft("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Qp(e,t,r.fieldNames)}}function r_e({displayField:e,fields:t}){return e||(t?.length?E_(t,"name-or-title")||E_(t,"unique-identifier")||E_(t,"type-or-category")||IH(t):null)}function IH(e){for(const t of e){if(!t?.name)continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function E_(e,t){for(const i of e)if(i?.valueType&&i.valueType===t)return i.name;return null}async function s_e(e,t){if(!t)return;const i=t.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function PH(e,t,i){i.onStatisticExpression?iu(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function n_e(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(d6(e,t,s)),i.fields&&r.push(...i.fields.map(async n=>PH(e,t.fieldsIndex,n))),await Promise.all(r)}async function o_e(e,t){const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const s=[r.latestObservations.renderer?.collectRequiredFields(e,i),r.previousObservations.renderer?.collectRequiredFields(e,i),r.trackLines.renderer?.collectRequiredFields(e,i)];r.popupTemplate&&s.push(d6(e,t,r.popupTemplate));for(const n of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(n)for(const o of n)s.push(y6(e,i,o));await Promise.all(s)}async function d6(e,t,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(n=>iu(e,t.fieldsIndex,n.expression)));const s=i?.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(iu(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function a_e(e,t,i){t&&(t.timeInfo&&i?.timeExtent&&Qp(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Qp(e,t.fieldsIndex,[t.floorInfo.floorField]),i?.where!=null&&await RE(e,t.fieldsIndex,i.where))}async function l_e(e,t,i){t&&i&&await Promise.all(i.map(r=>LH(e,t,r)))}async function LH(e,t,i){t&&i&&(i.valueExpression?await iu(e,t.fieldsIndex,i.valueExpression):i.field&&U1(e,t.fieldsIndex,i.field))}function c_e(e){return e?kE(e.fieldsIndex,p6(e)):[]}function NH(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?kE(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function u_e(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(s=>RE(e,r,s.where)))}const kH=new Set(["oid","global-id","guid"]),RH=new Set(["oid","global-id"]),DH=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function FH(e){const t=new Set;m6(e).forEach(r=>t.add(r)),NH(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function p6(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=t;return[i,r,s,n].filter(Boolean)}function m6(e){return p6(e).map(t=>t.toLowerCase())}function h_e(e,t){return e.editable&&!kH.has(e.type)&&!m6(t).includes(e.name?.toLowerCase()??"")}function f_e(e,t){const i=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&i===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&i===t.globalIdField.toLowerCase()||FH(t).includes(i)||RH.has(e.type)||DH.some(r=>r.test(i)))}async function d_e(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i?.length&&await Promise.all(i.map(s=>y6(e,r,s)))}async function y6(e,t,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await iu(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{U1(e,t,o.slice(1,-1))})}await RE(e,t,s)}function p_e(e){const t=e.defaultValue;return t!==void 0&&v6(e,t)?t:e.nullable?null:void 0}function m_e(e){const t=typeof e=="string"?{type:e}:e;return JH(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function g6(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function UH(e){return e===null||g6(e)}function jH(e){return e===null||Number.isInteger(e)}function BH(){return!0}function v6(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?jH:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?UH:g6;break;case"string":case"esriFieldTypeString":i=e.nullable?cz:Wm;break;default:i=BH}return arguments.length===1?i:i(t)}const VH=["integer","small-integer","big-integer"],GH=["single","double"],zH=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],qH=["esriFieldTypeSingle","esriFieldTypeDouble"],b6=new Set([...VH,...zH]),HH=new Set([...GH,...qH]),WH=rE(b6,HH);function y_e(e){return e!=null&&b6.has(e.type)}function YH(e){return e!=null&&WH.has(e.type)}function JH(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function g_e(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function v_e(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function b_e(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function __e(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function w_e(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function x_e(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function S_e(e,t){return ZH(e,t)===null}var nv,ov;function E_e(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function ZH(e,t){return e==null||e.nullable&&t===null?null:v6(e,t)?YH(e)&&!KH(e.type,Number(t))?nv.OUT_OF_RANGE:null:ov.INVALID_TYPE}function KH(e,t){const i=typeof e=="string"?_6(e):e;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=s:t>=r&&t<=s}function _6(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return XH;case"esriFieldTypeInteger":case"integer":return QH;case"esriFieldTypeBigInteger":case"big-integer":return eW;case"esriFieldTypeSingle":case"single":return tW;case"esriFieldTypeDouble":case"double":return iW}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(nv||(nv={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(ov||(ov={}));const XH={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},QH={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},eW={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},tW={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},iW={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function A_e(e,t,i){switch(e){case rv.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case rv.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ov.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case nv.OUT_OF_RANGE:{const{min:r,max:s}=_6(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${s}`}}}function T_e(e,t){return!rW(e,t,null)}function rW(e,t,i){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function M_e(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function sW(e){const t=e?.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let qy=class extends Xe{constructor(t){super(t),this.type=null}};g([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],qy.prototype,"type",void 0),qy=g([ie("esri.popup.content.Content")],qy);const ma=qy,H0=new _o({asc:"ascending",desc:"descending"});let Md=class extends Co.ClonableMixin(Xe){constructor(t){super(t),this.field=null,this.order="ascending"}};g([A({type:String,json:{write:!0}})],Md.prototype,"field",void 0),g([A({type:H0.apiValues,json:{type:H0.jsonValues,read:H0.read,write:H0.write}})],Md.prototype,"order",void 0),Md=g([ie("esri.popup.support.AttachmentsOrderByInfo")],Md);const nW=Md;let ka=class extends Co.ClonableMixin(ma){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};g([A({type:String,json:{write:!0}})],ka.prototype,"description",void 0),g([A({type:["auto","preview","list"],json:{write:!0}})],ka.prototype,"displayType",void 0),g([A({type:[nW],json:{write:!0}})],ka.prototype,"orderByFields",void 0),g([A({type:String,json:{write:!0}})],ka.prototype,"title",void 0),g([A({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ka.prototype,"type",void 0),ka=g([ie("esri.popup.content.AttachmentsContent")],ka);const em=ka;var mw;let ac=mw=class extends ma{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new mw({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([A()],ac.prototype,"creator",void 0),g([A()],ac.prototype,"destroyer",void 0),g([A()],ac.prototype,"outFields",void 0),g([A({type:["custom"],readOnly:!0})],ac.prototype,"type",void 0),ac=mw=g([ie("esri.popup.content.CustomContent")],ac);const oW=ac;var yw;let Ku=yw=class extends Xe{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new yw({title:this.title,expression:this.expression})}};g([A({type:String,json:{write:!0}})],Ku.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Ku.prototype,"expression",void 0),g([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Ku.prototype,"returnType",void 0),Ku=yw=g([ie("esri.popup.ElementExpressionInfo")],Ku);const aW=Ku;var gw;let $d=gw=class extends ma{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new gw({expressionInfo:this.expressionInfo?.clone()})}};g([A({type:aW,json:{write:!0}})],$d.prototype,"expressionInfo",void 0),g([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],$d.prototype,"type",void 0),$d=gw=g([ie("esri.popup.content.ExpressionContent")],$d);const j1=$d;function ot(e,t={}){const i=e instanceof _o?e:new _o(e,t),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return A({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:o,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let cp;const lW=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,vw=globalThis.document?.documentElement;function w6(){const e=vw?.getAttribute("lang"),t=globalThis.navigator?.language;return lW??e??t??"en"}function kh(){return cp===void 0&&(cp=w6()),cp}function I_e(e=kh()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const Hy=[];function P_e(e){return Hy.push(e),Ti(()=>Hy.splice(Hy.indexOf(e),1))}const Wy=[];function cW(e){return Wy.push(e),Ti(()=>Wy.splice(Wy.indexOf(e),1))}function vM(){const e=w6();cp!==e&&([...Wy].forEach(t=>t(e)),cp=e,[...Hy].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",vM),vw&&new MutationObserver(()=>{vM()}).observe(vw,{attributeFilter:["lang"]});const x6="system",uW="unknown",DE="UTC",hW=Intl.DateTimeFormat().resolvedOptions().timeZone,fW={year:void 0,month:void 0,day:void 0,weekday:void 0},dW={hour:void 0,minute:void 0,second:void 0},S6={timeZone:DE},jn={year:"numeric",month:"numeric",day:"numeric"},nd={year:"numeric",month:"long",day:"numeric"},od={year:"numeric",month:"short",day:"numeric"},ad={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ja={hour:"numeric",minute:"numeric"},lc={...Ja,second:"numeric"},E6={hourCycle:"h23"},ld={...Ja,...E6},cd={...lc,...E6},A6={"short-date":jn,"short-date-short-time":{...jn,...Ja},"short-date-short-time-24":{...jn,...ld},"short-date-long-time":{...jn,...lc},"short-date-long-time-24":{...jn,...cd},"short-date-le":jn,"short-date-le-short-time":{...jn,...Ja},"short-date-le-short-time-24":{...jn,...ld},"short-date-le-long-time":{...jn,...lc},"short-date-le-long-time-24":{...jn,...cd},"long-month-day-year":nd,"long-month-day-year-short-time":{...nd,...Ja},"long-month-day-year-short-time-24":{...nd,...ld},"long-month-day-year-long-time":{...nd,...lc},"long-month-day-year-long-time-24":{...nd,...cd},"day-short-month-year":od,"day-short-month-year-short-time":{...od,...Ja},"day-short-month-year-short-time-24":{...od,...ld},"day-short-month-year-long-time":{...od,...lc},"day-short-month-year-long-time-24":{...od,...cd},"long-date":ad,"long-date-short-time":{...ad,...Ja},"long-date-short-time-24":{...ad,...ld},"long-date-long-time":{...ad,...lc},"long-date-long-time-24":{...ad,...cd},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ja,"long-time":lc},pW=Nn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),T6={ar:"ar-u-nu-latn-ca-gregory"};let bw=new WeakMap;const B1=A6["short-date-short-time"];function mW(e){let t=bw.get(e);if(!t){const i=kh(),r=T6[i]||i,s=yW(e.timeZone??x6),n={...e,timeZone:s};t=new Intl.DateTimeFormat(r,n),bw.set(e,t)}return t}function L_e(e){return A6[e]}function FE(e,t=B1){return mW(t).format(e)}function N_e(e,t=B1){return FE(new Date(e),{...t,...S6,...dW})}function k_e(e,t=B1){return FE(new Date(`1970-01-01T${e}Z`),{...t,...S6,...fW})}function R_e(e,t=B1){if(t.timeZone)return FE(new Date(e),t);const i=Ie.fromISO(e,{setZone:!0}),r=kh(),s=T6[r]??r,n=i.offset===0?DE:t.timeZone,o={...t,timeZone:n};return i.toLocaleString(o,{locale:s})}function yW(e){switch(e){case x6:return hW;case uW:return DE;default:return e}}cW(()=>{bw=new WeakMap});let Xu=class extends Co.ClonableMixin(Xe){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([ot(pW)],Xu.prototype,"dateFormat",void 0),g([A({type:Boolean,json:{write:!0}})],Xu.prototype,"digitSeparator",void 0),g([A({type:Li,json:{write:!0}})],Xu.prototype,"places",void 0),Xu=g([ie("esri.popup.support.FieldInfoFormat")],Xu);const gW=Xu;var _w;let an=_w=class extends Xe{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new _w({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([A({type:String,json:{write:!0}})],an.prototype,"fieldName",void 0),g([A({type:gW,json:{write:!0}})],an.prototype,"format",void 0),g([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],an.prototype,"isEditable",void 0),g([A({type:String,json:{write:!0}})],an.prototype,"label",void 0),g([ot(new _o({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],an.prototype,"stringFieldOption",void 0),g([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],an.prototype,"statisticType",void 0),g([A({type:String,json:{write:!0}})],an.prototype,"tooltip",void 0),g([A({type:Boolean,json:{write:!0}})],an.prototype,"visible",void 0),an=_w=g([ie("esri.popup.FieldInfo")],an);const M6=an;var ww;let Bo=ww=class extends ma{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new ww(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([A({type:Object,json:{write:!0}})],Bo.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],Bo.prototype,"description",void 0),g([A({type:[M6]})],Bo.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Bo.prototype,"writeFieldInfos",null),g([A({type:String,json:{write:!0}})],Bo.prototype,"title",void 0),g([A({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Bo.prototype,"type",void 0),Bo=ww=g([ie("esri.popup.content.FieldsContent")],Bo);const tm=Bo;let cc=class extends Xe{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};g([A({type:String,json:{write:!0}})],cc.prototype,"altText",void 0),g([A({type:String,json:{write:!0}})],cc.prototype,"caption",void 0),g([A({type:String,json:{write:!0}})],cc.prototype,"title",void 0),g([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],cc.prototype,"type",void 0),cc=g([ie("esri.popup.content.mixins.MediaInfo")],cc);const UE=cc;var xw;let uc=xw=class extends Hi{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new xw({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([A()],uc.prototype,"color",void 0),g([A()],uc.prototype,"fieldName",void 0),g([A()],uc.prototype,"tooltip",void 0),g([A()],uc.prototype,"value",void 0),uc=xw=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],uc);const vW=uc;var Sw;let Ra=Sw=class extends Xe{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Sw({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([A({type:[dt],json:{type:[[Li]],write:!0}})],Ra.prototype,"colors",void 0),g([A({type:[String],json:{write:{isRequired:!0}}})],Ra.prototype,"fields",void 0),g([A({type:String,json:{write:!0}})],Ra.prototype,"normalizeField",void 0),g([A({type:[vW],json:{read:!1}})],Ra.prototype,"series",void 0),g([A({type:String,json:{write:!0}})],Ra.prototype,"tooltipField",void 0),Ra=Sw=g([ie("esri.popup.content.support.ChartMediaInfoValue")],Ra);const bW=Ra;let Od=class extends UE{constructor(t){super(t),this.type=null,this.value=void 0}};g([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Od.prototype,"type",void 0),g([A({type:bW,json:{write:{isRequired:!0}}})],Od.prototype,"value",void 0),Od=g([ie("esri.popup.content.mixins.ChartMediaInfo")],Od);const V1=Od,G1=Nn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Ew;let Yy=Ew=class extends V1{constructor(e){super(e),this.type="bar-chart"}clone(){return new Ew({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:G1.write,isRequired:!0}}})],Yy.prototype,"type",void 0),Yy=Ew=g([ie("esri.popup.content.BarChartMediaInfo")],Yy);const $6=Yy;var Aw;let Jy=Aw=class extends V1{constructor(e){super(e),this.type="column-chart"}clone(){return new Aw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:G1.write,isRequired:!0}}})],Jy.prototype,"type",void 0),Jy=Aw=g([ie("esri.popup.content.ColumnChartMediaInfo")],Jy);const O6=Jy;var Tw;let Cd=Tw=class extends Xe{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new Tw({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([A({type:String,json:{write:!0}})],Cd.prototype,"linkURL",void 0),g([A({type:String,json:{write:{isRequired:!0}}})],Cd.prototype,"sourceURL",void 0),Cd=Tw=g([ie("esri.popup.content.support.ImageMediaInfoValue")],Cd);const _W=Cd;var Mw;let Qu=Mw=class extends UE{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new Mw({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([A({type:Number,json:{write:!0}})],Qu.prototype,"refreshInterval",void 0),g([A({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Qu.prototype,"type",void 0),g([A({type:_W,json:{write:{isRequired:!0}}})],Qu.prototype,"value",void 0),Qu=Mw=g([ie("esri.popup.content.ImageMediaInfo")],Qu);const C6=Qu;var $w;let Zy=$w=class extends V1{constructor(e){super(e),this.type="line-chart"}clone(){return new $w({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:G1.write,isRequired:!0}}})],Zy.prototype,"type",void 0),Zy=$w=g([ie("esri.popup.content.LineChartMediaInfo")],Zy);const I6=Zy;var Ow;let Ky=Ow=class extends V1{constructor(e){super(e),this.type="pie-chart"}clone(){return new Ow({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:G1.write,isRequired:!0}}})],Ky.prototype,"type",void 0),Ky=Ow=g([ie("esri.popup.content.PieChartMediaInfo")],Ky);const P6=Ky,Cw={base:UE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":$6,"column-chart":O6,"line-chart":I6,"pie-chart":P6,image:C6}};var Iw;let ln=Iw=class extends ma{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?C6.fromJSON(t):t.type==="barchart"?$6.fromJSON(t):t.type==="columnchart"?O6.fromJSON(t):t.type==="linechart"?I6.fromJSON(t):t.type==="piechart"?P6.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new Iw(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([A()],ln.prototype,"activeMediaInfoIndex",void 0),g([A({type:Object,json:{write:!0}})],ln.prototype,"attributes",void 0),g([A({type:String,json:{write:!0}})],ln.prototype,"description",void 0),g([A({types:[Cw]})],ln.prototype,"mediaInfos",void 0),g([tr("mediaInfos")],ln.prototype,"readMediaInfos",null),g([Jt("mediaInfos")],ln.prototype,"writeMediaInfos",null),g([A({type:String,json:{write:!0}})],ln.prototype,"title",void 0),g([A({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ln.prototype,"type",void 0),ln=Iw=g([ie("esri.popup.content.MediaContent")],ln);const im=ln;var Pw;let Id=Pw=class extends Xe{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Pw({field:this.field,order:this.order})}};g([A({type:String,json:{write:!0}})],Id.prototype,"field",void 0),g([A({type:["asc","desc"],json:{write:!0}})],Id.prototype,"order",void 0),Id=Pw=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],Id);const L6=Id;let Hn=class extends Co.ClonableMixin(ma){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([A({type:String,json:{write:!0}})],Hn.prototype,"description",void 0),g([A({type:Number,json:{type:Li,write:!0}})],Hn.prototype,"displayCount",void 0),g([A({type:["list"],json:{write:{isRequired:!0}}})],Hn.prototype,"displayType",void 0),g([A({type:[L6],json:{write:!0}})],Hn.prototype,"orderByFields",void 0),g([A({type:Number,json:{type:Li,write:{isRequired:!0}}})],Hn.prototype,"relationshipId",void 0),g([A({type:String,json:{write:!0}})],Hn.prototype,"title",void 0),g([A({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Hn.prototype,"type",void 0),Hn=g([ie("esri.popup.content.RelationshipContent")],Hn);const rm=Hn;var Lw;let Pd=Lw=class extends ma{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Lw({text:this.text})}};g([A({type:String,json:{write:!0}})],Pd.prototype,"text",void 0),g([A({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Pd.prototype,"type",void 0),Pd=Lw=g([ie("esri.popup.content.TextContent")],Pd);const sm=Pd;let Vo=class extends Co.ClonableMixin(Xe){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([A({type:String,json:{write:!0}})],Vo.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],Vo.prototype,"description",void 0),g([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Vo.prototype,"type",void 0),g([A({type:Number,json:{type:Li,write:!0}})],Vo.prototype,"associatedNetworkSourceId",void 0),g([A({type:Number,json:{type:Li,write:!0}})],Vo.prototype,"associatedAssetGroup",void 0),g([A({type:Number,json:{type:Li,write:!0}})],Vo.prototype,"associatedAssetType",void 0),Vo=g([ie("esri.popup.support.UtilityNetworkAssociationType")],Vo);const wW=Vo;let Da=class extends Co.ClonableMixin(ma){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([A({type:String,json:{write:!0}})],Da.prototype,"description",void 0),g([A({type:Number,json:{type:Li,write:!0}})],Da.prototype,"displayCount",void 0),g([A({type:String,json:{write:!0}})],Da.prototype,"title",void 0),g([A({type:[wW],json:{write:!0}})],Da.prototype,"associationTypes",void 0),g([ot({utilityNetworkAssociations:"utility-network-associations"})],Da.prototype,"type",void 0),Da=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],Da);const jE=Da,xW={base:null,key:"type",typeMap:{attachment:em,media:im,text:sm,expression:j1,field:tm,relationship:rm,utilityNetworkAssociations:jE}},SW={base:null,key:"type",typeMap:{attachment:em,media:im,text:sm,expression:j1,field:tm,relationship:rm}};var Nw;let hc=Nw=class extends Xe{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Nw({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([A({type:String,json:{write:!0}})],hc.prototype,"name",void 0),g([A({type:String,json:{write:!0}})],hc.prototype,"title",void 0),g([A({type:String,json:{write:!0}})],hc.prototype,"expression",void 0),g([A({type:["string","number"],json:{write:!0}})],hc.prototype,"returnType",void 0),hc=Nw=g([ie("esri.popup.ExpressionInfo")],hc);const EW=hc;var kw;let Ld=kw=class extends Xe{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new kw({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([A({type:Boolean,json:{write:!0}})],Ld.prototype,"returnTopmostRaster",void 0),g([A({type:Boolean,json:{write:!0}})],Ld.prototype,"showNoDataRecords",void 0),Ld=kw=g([ie("esri.popup.LayerOptions")],Ld);const AW=Ld;var Rw;let Nd=Rw=class extends Xe{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Rw({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([A({type:Boolean,json:{write:!0}})],Nd.prototype,"showRelatedRecords",void 0),g([A({type:[L6],json:{write:!0}})],Nd.prototype,"orderByFields",void 0),Nd=Rw=g([ie("esri.popup.RelatedRecordsInfo")],Nd);const bM=Nd;let N6=0;const k6=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+N6++})}};return t=g([ie("esri.core.Identifiable")],t),t},TW=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:N6++})}};return t=g([ie("esri.core.Identifiable.NumericIdentifiable")],t),t};let kd=class extends k6(class{}){};kd=g([ie("esri.core.Identifiable")],kd),function(e){e.IdentifiableMixin=k6,e.NumericIdentifiableMixin=TW}(kd||(kd={}));const MW=kd;var Dw;let Ls=Dw=class extends MW.IdentifiableMixin(Hi){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Dw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([A()],Ls.prototype,"active",void 0),g([A()],Ls.prototype,"className",void 0),g([A()],Ls.prototype,"disabled",void 0),g([A()],Ls.prototype,"icon",void 0),g([A()],Ls.prototype,"id",void 0),g([A()],Ls.prototype,"indicator",void 0),g([A()],Ls.prototype,"title",void 0),g([A()],Ls.prototype,"type",void 0),g([A()],Ls.prototype,"visible",void 0),Ls=Dw=g([ie("esri.support.actions.ActionBase")],Ls);const BE=Ls;var Fw;let Xy=Fw=class extends BE{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new Fw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([A()],Xy.prototype,"image",void 0),Xy=Fw=g([ie("esri.support.actions.ActionButton")],Xy);const $W=Xy;var Uw;let Rd=Uw=class extends BE{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new Uw({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([A()],Rd.prototype,"image",void 0),g([A()],Rd.prototype,"value",void 0),Rd=Uw=g([ie("esri.support.actions.ActionToggle")],Rd);const OW=Rd,ud="relationships/",_M="expression/",CW=mt.ofType({key:"type",defaultKeyValue:"button",base:BE,typeMap:{button:$W,toggle:OW}}),IW={base:ma,key:"type",typeMap:{media:im,custom:oW,text:sm,attachments:em,fields:tm,expression:j1,relationship:rm,utilityNetworkAssociations:jE}},R6=new Set(["attachments","fields","media","text","expression","relationship"]),PW=new Set([...R6,"utility-network-associations"]);let Oi=class extends Co.ClonableMixin(Xe){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Yh(IW,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||l5(t)?t:(kt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeWebMapContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeFieldInfos(t,i,r,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);i.fieldInfos=t.filter(Boolean).map(c=>{const f=c.toJSON(s);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,i)}writeLayerOptions(t,i,r,s){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),Qp(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>r?.origin==="web-scene"?R6.has(s.type):PW.has(s.type)).map(s=>s?.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=ge(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const n=i.fieldInfos.find(o=>o.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());n?n.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){const r=t.orderByFields?.map(n=>this._toFieldOrderJSON(n,t.relationshipId))||[],s=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=ge(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),im.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),sm.fromJSON(n)):n.type==="attachments"?em.fromJSON(n):n.type==="fields"?tm.fromJSON(n):n.type==="expression"?j1.fromJSON(n):n.type==="relationship"?rm.fromJSON(n):n.type==="utilityNetworkAssociations"?jE.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!i?.startsWith(ud))return null;const s=i.replace(ud,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?rm.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:s}=t;return{field:`${ud}${i}/${s}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new sm({text:t})):n.push(new tm),Array.isArray(i)&&i.length&&n.push(im.fromJSON({mediaInfos:i})),r&&n.push(em.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&n.push(c)}),n.length?n:t}_getContentElementFields(t){const i=t?.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:s}=t,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=n,d=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(s=>iu(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(ud)||i.startsWith(_M))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return sW(t).filter(i=>!(i.indexOf(ud)===0||i.indexOf(_M)===0))}};g([A({type:CW})],Oi.prototype,"actions",void 0),g([A()],Oi.prototype,"content",void 0),g([qm("content")],Oi.prototype,"castContent",null),g([tr("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Oi.prototype,"readContent",null),g([Jt("web-scene","content",{popupElements:{type:mt.ofType(SW)},showAttachments:{type:Boolean},mediaInfos:{type:mt.ofType(Cw)},description:{type:String},relatedRecordsInfo:{type:bM}})],Oi.prototype,"writeWebSceneContent",null),g([Jt("content",{popupElements:{type:mt.ofType(xW)},showAttachments:{type:Boolean},mediaInfos:{type:mt.ofType(Cw)},description:{type:String},relatedRecordsInfo:{type:bM}})],Oi.prototype,"writeWebMapContent",null),g([A({type:[EW],json:{write:!0}})],Oi.prototype,"expressionInfos",void 0),g([A({type:[M6]})],Oi.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Oi.prototype,"writeFieldInfos",null),g([A({type:AW})],Oi.prototype,"layerOptions",void 0),g([Jt("layerOptions")],Oi.prototype,"writeLayerOptions",null),g([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Oi.prototype,"lastEditInfoEnabled",void 0),g([A()],Oi.prototype,"outFields",void 0),g([A()],Oi.prototype,"overwriteActions",void 0),g([A()],Oi.prototype,"returnGeometry",void 0),g([A({json:{type:String}})],Oi.prototype,"title",void 0),g([Jt("title")],Oi.prototype,"writeTitle",null),Oi=g([ie("esri.PopupTemplate")],Oi);const LW=Oi,q_e=Nn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),H_e=Nn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),NW={base:yu,key:"type",typeMap:{extent:Js,multipoint:P1,point:Pi,polyline:Hm,polygon:tu}},wM=new _o({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let kW=0,eh=class extends Xe{constructor(t){super(t),this.id="sym"+kW++,this.type=null,this.color=new dt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([A({type:wM.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:wM.write,isRequired:!0}}})],eh.prototype,"type",void 0),g([A({type:dt,json:{write:{allowNull:!0}}})],eh.prototype,"color",void 0),g([tr("color")],eh.prototype,"readColor",null),eh=g([ie("esri.symbols.Symbol")],eh);const $r=eh;var jw;let Fa=jw=class extends $r{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(s=>{const n=s.valueExpressionInfo;return n?iu(e,t,n.expression):null});await Promise.all(r)}}}clone(){return new jw({data:ge(this.data)})}hash(){return PI(JSON.stringify(this.data)).toString()}};g([A({json:{write:!1}})],Fa.prototype,"color",void 0),g([A({json:{write:!0}})],Fa.prototype,"data",void 0),g([tr("data",["symbol"])],Fa.prototype,"readData",null),g([Jt("data",{})],Fa.prototype,"writeData",null),g([ot({CIMSymbolReference:"cim"},{readOnly:!0})],Fa.prototype,"type",void 0),Fa=jw=g([ie("esri.symbols.CIMSymbol")],Fa);const bu=Fa;function RW(e,t,i=mt){return t||(t=new i),t===e||(t.removeAll(),FW(e)?t.addMany(e):e&&t.add(e)),t}function DW(e){return e}function FW(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Za;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Za||(Za={}));let UW=class{constructor(){this._resolver=Bp(),this._status=Za.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Za.RESOLVED,this._cleanUp()},()=>{this._status=Za.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Za.RESOLVED}isRejected(){return this._status===Za.REJECTED}isFulfilled(){return this._status!==Za.PENDING}abort(){this._resolver.reject(Vr())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Bp(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||Bm(s)||this._resolver.reject(s)}),t.resolve()}};const D6=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new UW,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=g([ie("esri.core.Promise")],t),t};let Dd=class extends D6(Hi){};Dd=g([ie("esri.core.Promise")],Dd),function(e){e.EsriPromiseMixin=D6}(Dd||(Dd={}));const jW=Dd,BW="not-loaded",VW="loading",GW="failed",xM="loaded",F6=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=n=>{const o=new Promise((a,l)=>{const c=XU(n,l);this.destroyed&&l(new ft("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===BW){this._set("loadStatus",VW);const a=this._loadController=new AbortController;s({signal:a.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",xM),this._loadController=null},r=>{this._set("loadStatus",GW),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=UI(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===xM}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ft("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([A({readOnly:!0})],t.prototype,"loaded",null),g([A({readOnly:!0})],t.prototype,"loadError",void 0),g([A({clonable:!1})],t.prototype,"loadStatus",void 0),g([A({type:[Gp],readOnly:!0})],t.prototype,"loadWarnings",null),t=g([ie("esri.core.Loadable")],t),t};let Fd=class extends F6(jW){};Fd=g([ie("esri.core.Loadable")],Fd),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=F6,e.isLoadable=t}(Fd||(Fd={}));const zW=Fd;let W0;function qW(e){return W0&&!W0.destroyed||(W0=e()),W0}var Bw;const HW=new _o({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Ns=Bw=class extends Hi{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new Bw({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=AP(this.extent,Yi.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>HW.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};g([A()],Ns.prototype,"categories",void 0),g([A()],Ns.prototype,"disableExtraQuery",void 0),g([A({type:Js})],Ns.prototype,"extent",void 0),g([A()],Ns.prototype,"filter",void 0),g([A()],Ns.prototype,"num",void 0),g([A()],Ns.prototype,"query",void 0),g([A()],Ns.prototype,"sortField",void 0),g([A()],Ns.prototype,"sortOrder",null),g([A()],Ns.prototype,"start",void 0),Ns=Bw=g([ie("esri.portal.PortalQueryParams")],Ns);const oo=Ns;var Vw;let Ci=Vw=class extends Xe{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ft("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Vw({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=Mn(oo,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new oo,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new oo,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new oo({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new oo({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const n=s?.categorySchema;return n?.length?n:[]}):[])}};g([A()],Ci.prototype,"access",void 0),g([A({type:Date})],Ci.prototype,"created",void 0),g([A()],Ci.prototype,"description",void 0),g([A()],Ci.prototype,"id",void 0),g([A()],Ci.prototype,"isInvitationOnly",void 0),g([A({type:Date})],Ci.prototype,"modified",void 0),g([A()],Ci.prototype,"owner",void 0),g([A()],Ci.prototype,"portal",void 0),g([A()],Ci.prototype,"snippet",void 0),g([A()],Ci.prototype,"sortField",void 0),g([A()],Ci.prototype,"sortOrder",void 0),g([A()],Ci.prototype,"sourceJSON",void 0),g([A()],Ci.prototype,"tags",void 0),g([A()],Ci.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Ci.prototype,"thumbnailUrl",null),g([A()],Ci.prototype,"title",void 0),g([A({readOnly:!0})],Ci.prototype,"url",null),Ci=Vw=g([ie("esri.portal.PortalGroup")],Ci);const Gw=Ci;let fc=class extends Hi{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([A()],fc.prototype,"nextQueryParams",void 0),g([A()],fc.prototype,"queryParams",void 0),g([A()],fc.prototype,"results",void 0),g([A()],fc.prototype,"total",void 0),fc=g([ie("esri.portal.PortalQueryResult")],fc);const WW=fc;let Go=class extends Xe{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ft("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([A({type:Date})],Go.prototype,"created",void 0),g([A()],Go.prototype,"id",void 0),g([A()],Go.prototype,"portal",void 0),g([A()],Go.prototype,"title",void 0),g([A({readOnly:!0})],Go.prototype,"url",null),g([A()],Go.prototype,"username",void 0),Go=g([ie("esri.portal.PortalFolder")],Go);const YW=Go;var zw;let Lt=zw=class extends Xe{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e?.data,r=e?.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},o=await this.portal.request(i,n);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new ft("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:c,error:f})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const s=YW.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=Gw.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await ve(()=>import("./PortalItem-Wo6yUEbz.js"),__vite__mapDeps([31,1]),import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:r});let n;return s?.items?(n=s.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new Gw({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ft("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new ft("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new zw({sourceJSON:e});return t.read(e),t}};g([A()],Lt.prototype,"access",void 0),g([A({type:Date})],Lt.prototype,"created",void 0),g([A()],Lt.prototype,"culture",void 0),g([A()],Lt.prototype,"description",void 0),g([A()],Lt.prototype,"email",void 0),g([A()],Lt.prototype,"favGroupId",void 0),g([A()],Lt.prototype,"fullName",void 0),g([A({type:Date})],Lt.prototype,"modified",void 0),g([A()],Lt.prototype,"orgId",void 0),g([A()],Lt.prototype,"portal",void 0),g([A()],Lt.prototype,"preferredView",void 0),g([A()],Lt.prototype,"privileges",void 0),g([A()],Lt.prototype,"region",void 0),g([A()],Lt.prototype,"role",void 0),g([A()],Lt.prototype,"roleId",void 0),g([A()],Lt.prototype,"sourceJSON",void 0),g([A()],Lt.prototype,"thumbnail",void 0),g([A({readOnly:!0})],Lt.prototype,"thumbnailUrl",null),g([A()],Lt.prototype,"units",void 0),g([A({readOnly:!0})],Lt.prototype,"userContentUrl",null),g([A({readOnly:!0})],Lt.prototype,"url",null),g([A()],Lt.prototype,"username",void 0),g([A()],Lt.prototype,"userLicenseTypeId",void 0),g([A()],Lt.prototype,"userType",void 0),Lt=zw=g([ie("esri.portal.PortalUser")],Lt);const U6=Lt;var ms;let hd;const SM={PortalGroup:()=>Promise.resolve({default:Gw}),PortalItem:()=>ve(()=>import("./PortalItem-Wo6yUEbz.js"),__vite__mapDeps([31,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:U6})};let pe=ms=class extends Xe.JSONSupportMixin(zW){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ct.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){EM.unregister(this),this.defaultBasemap=Cy(this.defaultBasemap),this.defaultDevBasemap=Cy(this.defaultDevBasemap),this.defaultVectorBasemap=Cy(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Rf(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Ct.request.trustedServers.includes(t)||Ct.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return sP(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=U6.fromJSON(e),t.portal=this),t}load(e){const t=ve(()=>import("./Basemap-C3OxGW7w.js").then(i=>i.B),__vite__mapDeps([32,1,33,31,3]),import.meta.url).then(({default:i})=>{jp(e),hd=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(!this.hasAPIKey&&Yt){const r=Yt;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==ms.AUTH_MODE_AUTO&&this.authMode!==ms.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",JW(new WeakRef(this))),EM.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await ve(async()=>{const{default:i}=await import("./ElevationLayer-DONHXN_Z.js");return{default:i}},__vite__mapDeps([34,1,35,36,37,38,39,31,40,41,42,43,44,45,46,47,14,15,28,48,49,50,8,3]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new oo;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new hd({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):ha(e)?Promise.reject(Vr()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new oo({num:100,sortField:"title"});if(t?.length){const r=[];for(const s of t)r.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return ha(e)?Promise.reject(Vr()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||kh();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||kh();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return qW(()=>new ms)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",s={authMode:e,query:{culture:kh().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(r,s)}queryPortal(e,t,i,r){const s=Mn(oo,t),n=o=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...r}).then(a=>{const l=s.clone();return l.start=a.nextStart,new WW({nextQueryParams:l,queryParams:s,total:a.total,results:ms._resultsToTypedArray(o,{portal:this},a,r)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(a5(l),a)));return i&&SM[i]?SM[i]().then(({default:o})=>(jp(r),n(o))):n()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ft("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===ms.AUTH_MODE_ANONYMOUS||this.authMode===ms.AUTH_MODE_NO_PROMPT&&!Yt)return Promise.reject(new ft("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Yt?Yt.getCredential(this.restUrl,{prompt:this.authMode!==ms.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const s=ms._resultsToTypedArray(i,{portal:this},r);return Promise.all(s.map(n=>typeof n.when=="function"?n.when():r)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===ms.AUTH_MODE_ANONYMOUS||this.authMode===ms.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:n=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:r,body:s,cacheBust:n,method:o,query:i,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),Ni(this._normalizeSSL(e),c).then(f=>f.data)}toJSON(){throw new ft("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new ms({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ft("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new oo;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const n=await s.queryItems(i,t);return n.total?n.results.filter(o=>o.type==="Web Map").map(o=>new hd({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const r=new oo({query:i,disableExtraQuery:!0}),s=await this.queryGroups(r,t);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new hd({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=hd.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let s;if(i){const n=r!=null?r.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(n),a}))}else s=[];return s}};pe.AUTH_MODE_ANONYMOUS="anonymous",pe.AUTH_MODE_AUTO="auto",pe.AUTH_MODE_IMMEDIATE="immediate",pe.AUTH_MODE_NO_PROMPT="no-prompt",g([A()],pe.prototype,"access",void 0),g([A()],pe.prototype,"allSSL",void 0),g([A()],pe.prototype,"authMode",void 0),g([A()],pe.prototype,"authorizedCrossOriginDomains",void 0),g([tr("authorizedCrossOriginDomains")],pe.prototype,"readAuthorizedCrossOriginDomains",null),g([A()],pe.prototype,"basemapGalleryGroupQuery",void 0),g([A({json:{name:"3DBasemapGalleryGroupQuery"}})],pe.prototype,"basemapGalleryGroupQuery3D",void 0),g([A()],pe.prototype,"bingKey",void 0),g([A()],pe.prototype,"canListApps",void 0),g([A()],pe.prototype,"canListData",void 0),g([A()],pe.prototype,"canListPreProvisionedItems",void 0),g([A()],pe.prototype,"canProvisionDirectPurchase",void 0),g([A()],pe.prototype,"canSearchPublic",void 0),g([A()],pe.prototype,"canShareBingPublic",void 0),g([A()],pe.prototype,"canSharePublic",void 0),g([A()],pe.prototype,"canSignInArcGIS",void 0),g([A()],pe.prototype,"canSignInIDP",void 0),g([A()],pe.prototype,"colorSetsGroupQuery",void 0),g([A()],pe.prototype,"commentsEnabled",void 0),g([A({type:Date})],pe.prototype,"created",void 0),g([A()],pe.prototype,"credential",void 0),g([A()],pe.prototype,"culture",void 0),g([A()],pe.prototype,"currentVersion",void 0),g([A()],pe.prototype,"customBaseUrl",void 0),g([A()],pe.prototype,"default3DBasemapQuery",void 0),g([A()],pe.prototype,"defaultBasemap",void 0),g([tr("defaultBasemap")],pe.prototype,"readDefaultBasemap",null),g([A()],pe.prototype,"defaultDevBasemap",void 0),g([tr("defaultDevBasemap")],pe.prototype,"readDefaultDevBasemap",null),g([A({type:Js})],pe.prototype,"defaultExtent",void 0),g([A()],pe.prototype,"defaultVectorBasemap",void 0),g([tr("defaultVectorBasemap")],pe.prototype,"readDefaultVectorBasemap",null),g([A()],pe.prototype,"description",void 0),g([A()],pe.prototype,"devBasemapGalleryGroupQuery",void 0),g([A()],pe.prototype,"eueiEnabled",void 0),g([A({readOnly:!0})],pe.prototype,"extraQuery",null),g([A()],pe.prototype,"featuredGroups",void 0),g([A()],pe.prototype,"featuredItemsGroupQuery",void 0),g([A()],pe.prototype,"galleryTemplatesGroupQuery",void 0),g([A()],pe.prototype,"layoutGroupQuery",void 0),g([A()],pe.prototype,"livingAtlasGroupQuery",void 0),g([A({readOnly:!0})],pe.prototype,"hasAPIKey",null),g([A()],pe.prototype,"hasCategorySchema",void 0),g([A()],pe.prototype,"hasClassificationSchema",void 0),g([A()],pe.prototype,"helpBase",void 0),g([A()],pe.prototype,"helperServices",void 0),g([A()],pe.prototype,"helpMap",void 0),g([A()],pe.prototype,"homePageFeaturedContent",void 0),g([A()],pe.prototype,"homePageFeaturedContentCount",void 0),g([A()],pe.prototype,"httpPort",void 0),g([A()],pe.prototype,"httpsPort",void 0),g([A()],pe.prototype,"id",void 0),g([A()],pe.prototype,"ipCntryCode",void 0),g([A({readOnly:!0})],pe.prototype,"isOrganization",null),g([A()],pe.prototype,"isPortal",void 0),g([A()],pe.prototype,"isReadOnly",void 0),g([A({readOnly:!0})],pe.prototype,"itemPageUrl",null),g([A()],pe.prototype,"layerTemplatesGroupQuery",void 0),g([A()],pe.prototype,"maxTokenExpirationMinutes",void 0),g([A({type:Date})],pe.prototype,"modified",void 0),g([A()],pe.prototype,"name",void 0),g([A()],pe.prototype,"portalHostname",void 0),g([A()],pe.prototype,"portalMode",void 0),g([A()],pe.prototype,"portalProperties",void 0),g([A()],pe.prototype,"region",void 0),g([A()],pe.prototype,"recycleBinEnabled",void 0),g([A({readOnly:!0})],pe.prototype,"restUrl",null),g([A()],pe.prototype,"rotatorPanels",void 0),g([A()],pe.prototype,"showHomePageDescription",void 0),g([A()],pe.prototype,"sourceJSON",void 0),g([A()],pe.prototype,"staticImagesUrl",void 0),g([A({json:{name:"2DStylesGroupQuery"}})],pe.prototype,"stylesGroupQuery2d",void 0),g([A({json:{name:"stylesGroupQuery"}})],pe.prototype,"stylesGroupQuery3d",void 0),g([A()],pe.prototype,"supportsHostedServices",void 0),g([A()],pe.prototype,"symbolSetsGroupQuery",void 0),g([A()],pe.prototype,"templatesGroupQuery",void 0),g([A()],pe.prototype,"thumbnail",void 0),g([A({readOnly:!0})],pe.prototype,"thumbnailUrl",null),g([A()],pe.prototype,"units",void 0),g([A()],pe.prototype,"url",void 0),g([A()],pe.prototype,"urlKey",void 0),g([tr("urlKey")],pe.prototype,"readUrlKey",null),g([A()],pe.prototype,"user",void 0),g([tr("user")],pe.prototype,"readUser",null),g([A()],pe.prototype,"use3dBasemaps",void 0),g([A()],pe.prototype,"useDefault3dBasemap",void 0),g([A()],pe.prototype,"useStandardizedQuery",void 0),g([A()],pe.prototype,"useVectorBasemaps",void 0),g([A()],pe.prototype,"vectorBasemapGalleryGroupQuery",void 0),pe=ms=g([ie("esri.portal.Portal")],pe);const z1=pe,EM=new FinalizationRegistry(e=>{e.remove()});function JW(e){const t=Yt;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let th=class extends Xe{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};g([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],th.prototype,"enabled",void 0),g([Jt("enabled")],th.prototype,"writeEnabled",null),g([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],th.prototype,"type",void 0),th=g([ie("esri.symbols.Symbol3DLayer")],th);const Io=th,ZW=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,KW="screenUtils.toPt: input not recognized!",j6=96;function e2e(e){return e?e/72*j6:0}function wo(e){return e?72*e/j6:0}function ii(e){if(typeof e=="string"){const t=e.match(ZW);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",n=r==="px"?wo(i):i;return s?-n:n}return console.warn(KW),null}return e}function XW(e=0,t=0){return{x:e,y:t}}function t2e(e){return e?XW(e.x,e.y):null}function i2e(e=0,t=0){return[e,t]}function r2e(e=0,t=0,i=0){return[e,t,i]}function s2e(e){return e}function n2e(e){return e}function o2e(e){return e}function a2e(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function QW(e){const t=JS(100*(1-e));return Math.max(0,Math.min(t,100))}function eY(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function tY(e,t){const i=t.transparency!=null?eY(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new dt([r[0]||0,r[1]||0,r[2]||0,i]):null}function iY(e,t){t.color=e.toJSON().slice(0,3);const i=QW(e.a);i!==0&&(t.transparency=i)}function Il(e){return{type:dt,nonNullable:e?.nonNullable,json:{type:[Li],default:null,read:{source:["color","transparency"],reader:tY},write:{target:{color:{type:[Li],isRequired:e?.colorRequiredOnWrite},transparency:{type:Li}},writer:iY}}}}const xo={type:Number,cast:ii,json:{write:!0}};let dc=class extends Xe{constructor(t){super(t),this.color=new dt([0,0,0,1]),this.extensionLength=0,this.size=wo(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],dc.prototype,"type",void 0),g([A(Il({colorRequiredOnWrite:!0}))],dc.prototype,"color",void 0),g([A({...xo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],dc.prototype,"extensionLength",void 0),g([A(xo)],dc.prototype,"size",void 0),dc=g([ie("esri.symbols.edges.Edges3D")],dc);const VE=dc;var qw;let Qy=qw=class extends VE{constructor(e){super(e),this.type="sketch"}clone(){return new qw(this.cloneProperties())}};g([ot({sketch:"sketch"},{readOnly:!0})],Qy.prototype,"type",void 0),Qy=qw=g([ie("esri.symbols.edges.SketchEdges3D")],Qy);const rY=Qy;var Hw;let eg=Hw=class extends VE{constructor(e){super(e),this.type="solid"}clone(){return new Hw(this.cloneProperties())}};g([ot({solid:"solid"},{readOnly:!0})],eg.prototype,"type",void 0),eg=Hw=g([ie("esri.symbols.edges.SolidEdges3D")],eg);const B6=eg,V6={types:{key:"type",base:VE,typeMap:{solid:B6,sketch:rY}},json:{write:!0}};function GE(){return[0,0,0]}function zE(e){return[e[0],e[1],e[2]]}function qf(e,t,i){return[e,t,i]}function sY(e,t,i){return[e,t,i]}function nY(e,t=GE()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function oY(e,t){return new Float64Array(e,t,3)}function G6(){return GE()}function z6(){return qf(1,1,1)}function q6(){return qf(1,0,0)}function H6(){return qf(0,1,0)}function W6(){return qf(0,0,1)}const aY=G6(),lY=z6(),cY=q6(),uY=H6(),hY=W6();Object.freeze(Object.defineProperty({__proto__:null,ONES:lY,UNIT_X:cY,UNIT_Y:uY,UNIT_Z:hY,ZEROS:aY,clone:zE,create:GE,createView:oY,freeze:sY,fromArray:nY,fromValues:qf,ones:z6,unitX:q6,unitY:H6,unitZ:W6,zeros:G6},Symbol.toStringTag,{value:"Module"}));var Ww;let vs=Ww=class extends Xe{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?zE(this.emissiveFactor):null};return new Ww(e)}};g([A(Il())],vs.prototype,"color",void 0),g([A({type:[Number],json:{write:!1}})],vs.prototype,"emissiveFactor",void 0),vs=Ww=g([ie("esri.symbols.support.Symbol3DMaterial")],vs);var Yw;let Ua=Yw=class extends Io{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Yw({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([ot({Extrude:"extrude"},{readOnly:!0})],Ua.prototype,"type",void 0),g([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Ua.prototype,"size",void 0),g([A({type:vs,json:{write:!0}})],Ua.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ua.prototype,"castShadows",void 0),g([A(V6)],Ua.prototype,"edges",void 0),Ua=Yw=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],Ua);const Y6=Ua;let tg=class extends Xe{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],tg.prototype,"type",void 0),tg=g([ie("esri.symbols.patterns.LinePattern3D")],tg);const J6=tg,fY=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Jw;const dY=Nn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Ud=Jw=class extends J6{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Jw(e)}};g([A({type:["style"],json:{write:{isRequired:!0}}})],Ud.prototype,"type",void 0),g([ot(dY),A({type:fY,json:{write:{isRequired:!0}}})],Ud.prototype,"style",void 0),Ud=Jw=g([ie("esri.symbols.patterns.LineStylePattern3D")],Ud);const qE=Ud;let ig=class extends Xe{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],ig.prototype,"type",void 0),ig=g([ie("esri.symbols.patterns.Pattern3D")],ig);const Z6=ig,pY=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Zw;let jd=Zw=class extends Z6{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new Zw({style:this.style})}};g([A({type:["style"],json:{write:{isRequired:!0}}})],jd.prototype,"type",void 0),g([A({type:pY,json:{read:!0,write:{isRequired:!0}}})],jd.prototype,"style",void 0),jd=Zw=g([ie("esri.symbols.patterns.StylePattern3D")],jd);const K6=jd,mY={types:{key:"type",base:Z6,typeMap:{style:K6}},json:{write:!0}},X6={types:{key:"type",base:J6,typeMap:{style:qE}},json:{write:!0}},up=new dt("white"),yY=new dt([255,255,255,0]);function gY(e){return e.r===0&&e.g===0&&e.b===0}var Kw;let hp=Kw=class extends vs{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?zE(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new Kw(e)}};g([ot({multiply:"multiply",replace:"replace",tint:"tint"})],hp.prototype,"colorMixMode",void 0),hp=Kw=g([ie("esri.symbols.support.Symbol3DFillMaterial")],hp);function vY(e,t=!1){return e<=AI?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function h2e(e){return(WF(e)?e.byteLength/8:e.length)<=AI?Array.from(e):new Float64Array(e)}function f2e(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function Km(e=xY){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function HE(e,t,i,r,s,n,o=Km()){return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function d2e(e,t=Km()){return bY(e,0,e.length/3,t)}function bY(e,t,i,r=Km()){return Q6(r,Xw),_Y(r,e,t,i),r}function p2e(e,t=vY(24)){const[i,r,s,n,o,a]=e;return t[0]=i,t[1]=r,t[2]=s,t[3]=i,t[4]=r,t[5]=a,t[6]=i,t[7]=o,t[8]=s,t[9]=i,t[10]=o,t[11]=a,t[12]=n,t[13]=r,t[14]=s,t[15]=n,t[16]=r,t[17]=a,t[18]=n,t[19]=o,t[20]=s,t[21]=n,t[22]=o,t[23]=a,t}function m2e(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Js(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function y2e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function g2e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function v2e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function _Y(e,t,i=0,r=t.length/3){let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let f=0;f<r;f++)s=Math.min(s,t[i+3*f]),n=Math.min(n,t[i+3*f+1]),o=Math.min(o,t[i+3*f+2]),a=Math.max(a,t[i+3*f]),l=Math.max(l,t[i+3*f+1]),c=Math.max(c,t[i+3*f+2]);e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function b2e(e,t,i){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(i)for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function _2e(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function Xm(e){return e[0]>=e[3]?0:e[3]-e[0]}function Qm(e){return e[1]>=e[4]?0:e[4]-e[1]}function e0(e){return e[2]>=e[5]?0:e[5]-e[2]}function w2e(e){const t=Xm(e),i=e0(e),r=Qm(e);return Math.sqrt(t*t+i*i+r*r)}function x2e(e,t=[0,0,0]){return t[0]=e[0]+Xm(e)/2,t[1]=e[1]+Qm(e)/2,t[2]=e[2]+e0(e)/2,t}function S2e(e,t=[0,0,0]){return t[0]=Xm(e),t[1]=Qm(e),t[2]=e0(e),t}function E2e(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function wY(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function A2e(e,t){return t==null||wY(e,t)}function T2e(e,t,i,r,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+r,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+r,s}function M2e(e,t,i=e){const r=e[0]+Xm(e)/2,s=e[1]+Qm(e)/2,n=e[2]+e0(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=s+(e[1]-s)*t,i[2]=n+(e[2]-n)*t,i[3]=r+(e[3]-r)*t,i[4]=s+(e[4]-s)*t,i[5]=n+(e[5]-n)*t,i}function $2e(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function O2e(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function C2e(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function Q6(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function I2e(e){return e?Q6(e,Xw):Km(Xw)}function P2e(e,t){return t||(t=jf()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function L2e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function N2e(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function AM(e){return e.length===6}function k2e(e){return Xm(e)===0&&Qm(e)===0&&e0(e)===0}function R2e(e,t,i){if(e==null||t==null)return e===t;if(!AM(e)||!AM(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const Xw=[1/0,1/0,1/0,-1/0,-1/0,-1/0],xY=[0,0,0,0,0,0];Km();function D2e(e,{isPrimitive:t,width:i,depth:r,height:s}){const n=t?10:1;if(i==null&&s==null&&r==null)return[n*e[0],n*e[1],n*e[2]];const o=qf(i,r,s);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const SY=HE(-.5,-.5,-.5,.5,.5,.5),EY=HE(-.5,-.5,0,.5,.5,1),AY=HE(-.5,-.5,0,.5,.5,.5);function F2e(e){switch(e){case"sphere":case"cube":case"diamond":return SY;case"cylinder":case"cone":case"inverted-cone":return EY;case"tetrahedron":return AY;default:return}}const WE=["butt","square","round"],TY=[...WE,"none"],eN=["miter","bevel","round"];var Qw;let pc=Qw=class extends Xe{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=wo(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Qw(e)}};g([A(Il({colorRequiredOnWrite:!0}))],pc.prototype,"color",void 0),g([A({...xo,json:{write:{isRequired:!0}}})],pc.prototype,"size",void 0),g([A(X6)],pc.prototype,"pattern",void 0),g([A({type:WE,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],pc.prototype,"patternCap",void 0),pc=Qw=g([ie("esri.symbols.support.Symbol3DOutline")],pc);var rg;let zo=rg=class extends Io{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new rg(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new qE({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??up).clone(),pattern:t};return t&&e.outline?.cap&&(i.patternCap=e.outline.cap),new rg({material:new hp({color:(e.color??yY).clone()}),pattern:e.style&&e.style!=="solid"?new K6({style:e.style}):null,outline:i})}};g([ot({Fill:"fill"},{readOnly:!0})],zo.prototype,"type",void 0),g([A({type:hp,json:{write:!0}})],zo.prototype,"material",void 0),g([A(mY)],zo.prototype,"pattern",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],zo.prototype,"castShadows",void 0),g([A({type:pc,json:{write:!0}})],zo.prototype,"outline",void 0),g([A(V6)],zo.prototype,"edges",void 0),zo=rg=g([ie("esri.symbols.FillSymbol3DLayer")],zo);const _u=zo;var ex;const MY=Nn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let mc=ex=class extends Xe{constructor(e){super(e)}readHref(e,t,i){return e?Gm(e,i):t.dataURI}writeHref(e,t,i,r){e&&(Ff(e)?t.dataURI=e:(t.href=M1(e,r),wn(t.href)&&(t.href=dl(t.href))))}clone(){return new ex({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],mc.prototype,"href",void 0),g([tr("href")],mc.prototype,"readHref",null),g([Jt("href",{href:{type:String},dataURI:{type:String}})],mc.prototype,"writeHref",null),g([ot(MY)],mc.prototype,"primitive",void 0),mc=ex=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],mc);const U2e="circle";var tx;let ph=tx=class extends Hi{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new tx({x:this.x,y:this.y})}};g([A({type:Number})],ph.prototype,"x",void 0),g([A({type:Number})],ph.prototype,"y",void 0),ph=tx=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],ph);var ix;let Bd=ix=class extends Xe{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=wo(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new ix(e)}};g([A(Il({colorRequiredOnWrite:!0}))],Bd.prototype,"color",void 0),g([A({...xo,json:{write:{isRequired:!0}}})],Bd.prototype,"size",void 0),Bd=ix=g([ie("esri.symbols.support.Symbol3DIconOutline")],Bd);var ih;const tN="esri.symbols.IconSymbol3DLayer";let cn=ih=class extends Io{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new ih({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||up,i=TM(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||up).clone()}:null;return new ih({size:e.size,angle:e.angle,resource:{primitive:OY(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||gY(e.color)?up:e.color,i=TM(e);return new ih({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new ih({resource:{href:H5({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};g([A({type:vs,json:{write:!0}})],cn.prototype,"material",void 0),g([A({type:mc,json:{write:!0}})],cn.prototype,"resource",void 0),g([ot({Icon:"icon"},{readOnly:!0})],cn.prototype,"type",void 0),g([A({...xo,json:{write:{isRequired:!0}}})],cn.prototype,"size",void 0),g([ot({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],cn.prototype,"anchor",void 0),g([A({type:ph,json:{type:[Number],read:{reader:e=>new ph({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],cn.prototype,"anchorPosition",void 0),g([A({type:Bd,json:{write:!0}})],cn.prototype,"outline",void 0),g([A({type:Number,json:{write:!0,default:0}})],cn.prototype,"angle",void 0),cn=ih=g([ie(tN)],cn);const Pc=cn;function TM(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=MM(e.xoffset),s=MM(e.yoffset);return(r||s)&&t&&i?{x:-r/t,y:s/i}:null}function MM(e){return isFinite(e)?e:0}const $Y={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function OY(e){return $Y[e]||(kt.getLogger(tN).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const CY=["begin","end","begin-end"],iN=["arrow","circle","square","diamond","cross","x"];let yc=class extends Co.ClonableMixin(Xe){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};g([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],yc.prototype,"type",void 0),g([A({type:CY,json:{default:"begin-end",write:!0}})],yc.prototype,"placement",void 0),g([A({type:iN,json:{default:"arrow",write:!0}})],yc.prototype,"style",void 0),g([A({type:dt,json:{type:[Li],default:null,write:!0}})],yc.prototype,"color",void 0),yc=g([ie("esri.symbols.LineStyleMarker3D")],yc);const rx=yc;var sg;let Wn=sg=class extends Io{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=wo(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new sg(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??wo(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new qE({style:e.style}):null,material:new vs({color:(e.color||up).clone()}),marker:e.marker?new rx({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new sg(t)}};g([A({type:vs,json:{write:!0}})],Wn.prototype,"material",void 0),g([ot({Line:"line"},{readOnly:!0})],Wn.prototype,"type",void 0),g([A({type:eN,json:{write:!0,default:"miter"}})],Wn.prototype,"join",void 0),g([A({type:WE,json:{write:!0,default:"butt"}})],Wn.prototype,"cap",void 0),g([A({...xo,json:{write:{isRequired:!0}}})],Wn.prototype,"size",void 0),g([A(X6)],Wn.prototype,"pattern",void 0),g([A({types:{key:"type",base:rx,typeMap:{style:rx}},json:{write:!0}})],Wn.prototype,"marker",void 0),Wn=sg=g([ie("esri.symbols.LineSymbol3DLayer")],Wn);const Hf=Wn;var sx;const IY=Nn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Vd=sx=class extends Xe{clone(){return new sx({href:this.href,primitive:this.primitive})}};g([A({type:String,json:{read:wE,write:Kh}})],Vd.prototype,"href",void 0),g([ot(IY)],Vd.prototype,"primitive",void 0),Vd=sx=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],Vd);const B2e="sphere";var nx;let Tc=nx=class extends Hi{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new nx({x:this.x,y:this.y,z:this.z})}};g([A({type:Number})],Tc.prototype,"x",void 0),g([A({type:Number})],Tc.prototype,"y",void 0),g([A({type:Number})],Tc.prototype,"z",void 0),Tc=nx=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],Tc);var ox;let mr=ox=class extends Io{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ox({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([A({type:vs,json:{write:!0}})],mr.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],mr.prototype,"castShadows",void 0),g([A({type:Vd,json:{write:!0}})],mr.prototype,"resource",void 0),g([ot({Object:"object"},{readOnly:!0})],mr.prototype,"type",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"width",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"height",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"depth",void 0),g([ot({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],mr.prototype,"anchor",void 0),g([A({type:Tc,json:{type:[Number],read:{reader:e=>new Tc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],mr.prototype,"anchorPosition",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"heading",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"tilt",void 0),g([A({type:Number,json:{write:!0}})],mr.prototype,"roll",void 0),g([A({readOnly:!0})],mr.prototype,"isPrimitive",null),mr=ox=g([ie("esri.symbols.ObjectSymbol3DLayer")],mr);const YE=mr;var ax;let Cr=ax=class extends Io{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new ax({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([A({type:vs,json:{write:!0}})],Cr.prototype,"material",void 0),g([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Cr.prototype,"castShadows",void 0),g([ot({Path:"path"},{readOnly:!0})],Cr.prototype,"type",void 0),g([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],Cr.prototype,"profile",void 0),g([A({type:eN,json:{write:!0,default:"miter"}})],Cr.prototype,"join",void 0),g([A({type:TY,json:{write:!0,default:"butt"}})],Cr.prototype,"cap",void 0),g([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Cr.prototype,"width",void 0),g([tr("width",["width","size","height"])],Cr.prototype,"readWidth",null),g([A({type:Number,json:{write:!0}})],Cr.prototype,"height",void 0),g([tr("height",["height","size","width"])],Cr.prototype,"readHeight",null),g([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Cr.prototype,"anchor",void 0),g([A({type:["heading","all"],json:{write:!0,default:"all"}})],Cr.prototype,"profileRotation",void 0),Cr=ax=g([ie("esri.symbols.PathSymbol3DLayer")],Cr);const JE=Cr,PY=["none","underline","line-through"],LY=["normal","italic","oblique"],NY=["normal","lighter","bold","bolder"],rN={type:Number,cast:e=>{const t=b1(e);return t===0?1:m1(t,.1,4)},nonNullable:!0},kY=["left","right","center"],RY=["baseline","top","middle","bottom"],sN={type:kY,nonNullable:!0},nN={type:RY,nonNullable:!0},V2e=8;var lx;let qo=lx=class extends Xe{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ii(e)}clone(){return new lx({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([A({type:PY,json:{default:"none",write:!0}})],qo.prototype,"decoration",void 0),g([A({type:String,json:{write:!0}})],qo.prototype,"family",void 0),g([A({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],qo.prototype,"size",void 0),g([qm("size")],qo.prototype,"castSize",null),g([A({type:LY,json:{default:"normal",write:!0}})],qo.prototype,"style",void 0),g([A({type:NY,json:{default:"normal",write:!0}})],qo.prototype,"weight",void 0),qo=lx=g([ie("esri.symbols.Font")],qo);const q1=qo;var cx;let mh=cx=class extends Xe{constructor(){super(...arguments),this.color=new dt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new cx(e)}};g([A(Il())],mh.prototype,"color",void 0),g([A(xo)],mh.prototype,"size",void 0),mh=cx=g([ie("esri.symbols.support.Symbol3DHalo")],mh);let fp=class extends Co.ClonableMixin(Xe){constructor(t){super(t),this.color=null}};g([A(Il())],fp.prototype,"color",void 0),fp=g([ie("esri.symbols.support.Symbol3DTextBackground")],fp);var ng;let Hr=ng=class extends Io{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const s={...r,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new ng({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new ng({font:e.font!=null?e.font.clone():new q1,halo:DY(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new vs({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new fp({color:e.backgroundColor.clone()}):null})}};function DY(e,t){return e&&t!=null&&t>0?new mh({color:ge(e),size:t}):null}g([A({type:q1,json:{write:!0}})],Hr.prototype,"font",null),g([Jt("font")],Hr.prototype,"writeFont",null),g([A({type:mh,json:{write:!0}})],Hr.prototype,"halo",void 0),g([A({...sN,json:{default:"center",write:!0}})],Hr.prototype,"horizontalAlignment",void 0),g([A({...rN,json:{default:1,write:!0}})],Hr.prototype,"lineHeight",void 0),g([A({type:vs,json:{write:!0}})],Hr.prototype,"material",void 0),g([A({type:fp,json:{write:!0}})],Hr.prototype,"background",void 0),g([A(xo)],Hr.prototype,"size",null),g([A({type:String,json:{write:!0}})],Hr.prototype,"text",void 0),g([ot({Text:"text"},{readOnly:!0})],Hr.prototype,"type",void 0),g([A({...nN,json:{default:"baseline",write:!0}})],Hr.prototype,"verticalAlignment",void 0),Hr=ng=g([ie("esri.symbols.TextSymbol3DLayer")],Hr);const Wf=Hr;var ux;let ja=ux=class extends Io{constructor(e){super(e),this.color=hx.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new ux({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([A({type:dt,nonNullable:!0,json:{type:[Li],write:(e,t,i)=>t[i]=e.toArray(dt.AlphaMode.UNLESS_OPAQUE),default:()=>hx.clone(),defaultEquals:e=>e.toCss(!0)===hx.toCss(!0)}})],ja.prototype,"color",void 0),g([ot({Water:"water"},{readOnly:!0})],ja.prototype,"type",void 0),g([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ja.prototype,"waterbodySize",void 0),g([A({type:Number,json:{write:!0,default:null}})],ja.prototype,"waveDirection",void 0),g([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ja.prototype,"waveStrength",void 0),ja=ux=g([ie("esri.symbols.WaterSymbol3DLayer")],ja);const oN=ja,hx=new dt([0,119,190]);var fx;let gc=fx=class extends Hi{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new fx({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([A({type:String})],gc.prototype,"name",void 0),g([A({type:String})],gc.prototype,"styleUrl",void 0),g([A({type:String})],gc.prototype,"styleName",void 0),g([A({type:z1})],gc.prototype,"portal",void 0),gc=fx=g([ie("esri.symbols.support.StyleOrigin")],gc);const dx=gc;var px;let dp=px=class extends Hi{constructor(){super(...arguments),this.url=""}clone(){return new px({url:this.url})}};g([A({type:String})],dp.prototype,"url",void 0),dp=px=g([ie("esri.symbols.support.Thumbnail")],dp);const aN={icon:Pc,object:YE,line:Hf,path:JE,fill:_u,extrude:Y6,text:Wf,water:oN},FY=mt.ofType({base:Io,key:"type",typeMap:aN,errorContext:"symbol-layer"});let Yn=class extends $r{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,s=r||mt;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&kt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){RW(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const s=Gm(t.styleUrl,r);return new dx({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new dx({portal:r?.portal||z1.getDefault(),styleName:t.styleName,name:t.name});r?.messages&&r.messages.push(new Gp("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,s){if(t.styleUrl&&t.name){let n=M1(t.styleUrl,s);wn(n)&&(n=dl(n)),i.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!UB(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new Gp("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Io||t&&aN[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};g([A({json:{read:!1,write:!1}})],Yn.prototype,"color",null),g([A({type:FY,nonNullable:!0,json:{write:!0}}),qm(DW)],Yn.prototype,"symbolLayers",null),g([A({type:dx})],Yn.prototype,"styleOrigin",void 0),g([tr("styleOrigin")],Yn.prototype,"readStyleOrigin",null),g([Jt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Yn.prototype,"writeStyleOrigin",null),g([A({type:dp,json:{read:!1}})],Yn.prototype,"thumbnail",void 0),g([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Yn.prototype,"type",void 0),Yn=g([ie("esri.symbols.Symbol3D")],Yn);const t0=Yn;let Gd=class extends Xe{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Gd.prototype,"type",void 0),g([A({readOnly:!0})],Gd.prototype,"visible",void 0),Gd=g([ie("esri.symbols.callouts.Callout3D")],Gd);const lN=Gd;var mx;let og=mx=class extends Xe{constructor(e){super(e),this.color=new dt("white")}clone(){return new mx({color:ge(this.color)})}};g([A(Il({colorRequiredOnWrite:!0}))],og.prototype,"color",void 0),og=mx=g([ie("esri.symbols.callouts.LineCallout3DBorder")],og);const UY=og;var yx;let Ba=yx=class extends lN{constructor(e){super(e),this.type="line",this.color=new dt([0,0,0,1]),this.size=wo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new yx({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([ot({line:"line"})],Ba.prototype,"type",void 0),g([A(Il({colorRequiredOnWrite:!0}))],Ba.prototype,"color",void 0),g([A({...xo,json:{write:{isRequired:!0}}})],Ba.prototype,"size",void 0),g([A({type:UY,json:{write:!0}})],Ba.prototype,"border",void 0),g([A({readOnly:!0})],Ba.prototype,"visible",null),Ba=yx=g([ie("esri.symbols.callouts.LineCallout3D")],Ba);const cN=Ba;function ZE(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function uN(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!ZE(e)}function H2e(e){return e.type==="point-3d"||e.type==="label-3d"}function W2e(e){return e.horizontalAlignment==="center"}const hN={types:{key:"type",base:lN,typeMap:{line:cN}},json:{write:!0}};var gx;let rh=gx=class extends Xe{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new gx({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([A({...xo,json:{write:{isRequired:!0}}})],rh.prototype,"screenLength",void 0),g([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],rh.prototype,"minWorldLength",void 0),g([A({type:Number,json:{write:!0}})],rh.prototype,"maxWorldLength",void 0),rh=gx=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],rh);const KE=rh;var ag;const fN=mt.ofType({base:null,key:"type",typeMap:{text:Wf}});let Va=ag=class extends t0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new fN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return uN(this)}hasVisibleVerticalOffset(){return ZE(this)}clone(){return new ag({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new ag({symbolLayers:new mt([Wf.fromTextSymbol(e)])})}};g([A({type:KE,json:{write:!0}})],Va.prototype,"verticalOffset",void 0),g([A(hN)],Va.prototype,"callout",void 0),g([A({json:{read:!1,write:!1}})],Va.prototype,"styleOrigin",void 0),g([A({type:fN})],Va.prototype,"symbolLayers",void 0),g([ot({LabelSymbol3D:"label-3d"},{readOnly:!0})],Va.prototype,"type",void 0),Va=ag=g([ie("esri.symbols.LabelSymbol3D")],Va);const H1=Va;var lg;const dN=mt.ofType({base:null,key:"type",typeMap:{line:Hf,path:JE}}),jY=mt.ofType({base:null,key:"type",typeMap:{line:Hf,path:JE}});let zd=lg=class extends t0{constructor(e){super(e),this.symbolLayers=new dN,this.type="line-3d"}clone(){return new lg({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new lg({symbolLayers:new mt([Hf.fromSimpleLineSymbol(e)])})}};g([A({type:dN,json:{type:jY}})],zd.prototype,"symbolLayers",void 0),g([ot({LineSymbol3D:"line-3d"},{readOnly:!0})],zd.prototype,"type",void 0),zd=lg=g([ie("esri.symbols.LineSymbol3D")],zd);const wu=zd;var cg;const pN=mt.ofType({base:null,key:"type",typeMap:{fill:_u}});let qd=cg=class extends t0{constructor(e){super(e),this.symbolLayers=new pN,this.type="mesh-3d"}clone(){return new cg({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new cg({symbolLayers:new mt([_u.fromSimpleFillSymbol(e)])})}};g([A({type:pN})],qd.prototype,"symbolLayers",void 0),g([ot({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],qd.prototype,"type",void 0),qd=cg=g([ie("esri.symbols.MeshSymbol3D")],qd);const i0=qd;let Hd=class extends $r{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],Hd.prototype,"type",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],Hd.prototype,"width",void 0),Hd=g([ie("esri.symbols.LineSymbol")],Hd);const BY=Hd;var vx;let Jn=vx=class extends Xe{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=r?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){r?.origin==="web-map"||(t[i]=e)}clone(){return new vx({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([A({type:["begin","end","begin-end"],json:{write:!0}})],Jn.prototype,"placement",void 0),g([ot({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],Jn.prototype,"type",void 0),g([A({type:iN})],Jn.prototype,"style",void 0),g([Jt("style")],Jn.prototype,"writeStyle",null),g([A({type:dt,value:null,json:{write:{allowNull:!0}}})],Jn.prototype,"color",null),g([tr("color")],Jn.prototype,"readColor",null),g([Jt("color")],Jn.prototype,"writeColor",null),Jn=vx=g([ie("esri.symbols.LineSymbolMarker")],Jn);const VY=Jn;var bx;const A_=new _o({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Ho=bx=class extends BY{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,s,n){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=ii(i)),r!=null&&(o.cap=r),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ii(n)),o}clone(){return new bx({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],Ho.prototype,"type",void 0),g([A({type:A_.apiValues,json:{read:A_.read,write:A_.write}})],Ho.prototype,"style",void 0),g([A({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Ho.prototype,"cap",void 0),g([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Ho.prototype,"join",void 0),g([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":VY}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Ho.prototype,"marker",void 0),g([A({type:Number,json:{read:!1,write:!1}})],Ho.prototype,"miterLimit",void 0),Ho=bx=g([ie("esri.symbols.SimpleLineSymbol")],Ho);const kn=Ho;let Wd=class extends $r{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":kn}},json:{default:null,write:!0}})],Wd.prototype,"outline",void 0),g([A({type:["simple-fill","picture-fill"],readOnly:!0})],Wd.prototype,"type",void 0),Wd=g([ie("esri.symbols.FillSymbol")],Wd);const mN=Wd;function GY(e,t,i){return t.imageData?H5({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):yN(t.url,i)}function yN(e,t){if(!wn(e)){const i=qY(t);if(i)return T1(i,"images",e)}return Gm(e,t)}function zY(e,t,i,r){if(Ff(e)){const s=Wp(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&Kh(i.url,t,"url",r)}else Kh(e,t,"url",r)}const gN={json:{read:{source:["imageData","url"],reader:GY},write:{writer(e,t,i,r){zY(e,t,this.source,r)}}}},vN={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=yN(t.url,i)),r}}}};function qY(e){if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var _x;let ks=_x=class extends mN{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=ii(i)),r!=null&&(s.height=ii(r)),s}clone(){const e=new _x({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([ot({esriPFS:"picture-fill"},{readOnly:!0})],ks.prototype,"type",void 0),g([A(gN)],ks.prototype,"url",void 0),g([A({type:Number,json:{write:!0}})],ks.prototype,"xscale",void 0),g([A({type:Number,json:{write:!0}})],ks.prototype,"yscale",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"width",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"height",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"xoffset",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],ks.prototype,"yoffset",void 0),g([A(vN)],ks.prototype,"source",void 0),ks=_x=g([ie("esri.symbols.PictureFillSymbol")],ks);const XE=ks;let Ga=class extends $r{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Ga.prototype,"angle",void 0),g([A({type:["simple-marker","picture-marker"],readOnly:!0})],Ga.prototype,"type",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],Ga.prototype,"xoffset",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],Ga.prototype,"yoffset",void 0),g([A({cast:e=>e==="auto"?e:b1(ii(e)),json:{write:!0}})],Ga.prototype,"size",void 0),Ga=g([ie("esri.symbols.MarkerSymbol")],Ga);const bN=Ga;var wx;let un=wx=class extends bN{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=ii(t)),i!=null&&(r.height=ii(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new wx({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([A({json:{write:!1}})],un.prototype,"color",void 0),g([ot({esriPMS:"picture-marker"},{readOnly:!0})],un.prototype,"type",void 0),g([A(gN)],un.prototype,"url",void 0),g([A(vN)],un.prototype,"source",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],un.prototype,"height",void 0),g([tr("height",["height","size"])],un.prototype,"readHeight",null),g([A({type:Number,cast:ii,json:{write:!0}})],un.prototype,"width",void 0),g([A({json:{write:!1}})],un.prototype,"size",void 0),un=wx=g([ie("esri.symbols.PictureMarkerSymbol")],un);const Yf=un;var vc;const _N=mt.ofType({base:null,key:"type",typeMap:{icon:Pc,object:YE,text:Wf}});let bc=vc=class extends t0{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new _N,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return uN(this)}hasVisibleVerticalOffset(){return ZE(this)}clone(){return new vc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new vc({symbolLayers:new mt([Pc.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new vc({symbolLayers:new mt([Pc.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const i=e.data.symbol;return new vc(i?.callout?{symbolLayers:new mt([Pc.fromCIMSymbol(e)]),callout:new cN({size:.5,color:new dt([0,0,0])}),verticalOffset:new KE({screenLength:40})}:{symbolLayers:new mt([Pc.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new vc({symbolLayers:new mt([Wf.fromTextSymbol(e)])})}};g([A({type:KE,json:{write:!0}})],bc.prototype,"verticalOffset",void 0),g([A(hN)],bc.prototype,"callout",void 0),g([A({type:_N,json:{origins:{"web-scene":{write:!0}}}})],bc.prototype,"symbolLayers",void 0),g([ot({PointSymbol3D:"point-3d"},{readOnly:!0})],bc.prototype,"type",void 0),bc=vc=g([ie("esri.symbols.PointSymbol3D")],bc);const oa=bc;var Yd;const wN=mt.ofType({base:null,key:"type",typeMap:{extrude:Y6,fill:_u,icon:Pc,line:Hf,object:YE,text:Wf,water:oN}});let Jd=Yd=class extends t0{constructor(e){super(e),this.symbolLayers=new wN,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&Up(kt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&Up(kt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(hE(()=>this.symbolLayers,"after-add",({item:t})=>e(t),k5))}clone(){return new Yd({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new Yd;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Yd({symbolLayers:new mt([_u.fromSimpleFillSymbol(e)])})}};g([A({type:wN,json:{write:!0}})],Jd.prototype,"symbolLayers",void 0),g([ot({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Jd.prototype,"type",void 0),Jd=Yd=g([ie("esri.symbols.PolygonSymbol3D")],Jd);const xu=Jd;var xx;const T_=new _o({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let _c=xx=class extends mN{constructor(...e){super(...e),this.color=new dt([0,0,0,.25]),this.outline=new kn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new xx({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([A()],_c.prototype,"color",void 0),g([A()],_c.prototype,"outline",void 0),g([ot({esriSFS:"simple-fill"},{readOnly:!0})],_c.prototype,"type",void 0),g([A({type:T_.apiValues,json:{read:T_.read,write:T_.write}})],_c.prototype,"style",void 0),_c=xx=g([ie("esri.symbols.SimpleFillSymbol")],_c);const Su=_c;var Sx;const M_=new _o({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Zn=Sx=class extends bN{constructor(...e){super(...e),this.color=new dt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new kn}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=ii(t)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Sx({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([A()],Zn.prototype,"color",void 0),g([Jt("color")],Zn.prototype,"writeColor",null),g([ot({esriSMS:"simple-marker"},{readOnly:!0})],Zn.prototype,"type",void 0),g([A()],Zn.prototype,"size",void 0),g([A({type:M_.apiValues,json:{read:M_.read,write:M_.write}})],Zn.prototype,"style",void 0),g([A({type:String,json:{write:!0}})],Zn.prototype,"path",null),g([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":kn}},json:{default:null,write:!0}})],Zn.prototype,"outline",void 0),Zn=Sx=g([ie("esri.symbols.SimpleMarkerSymbol")],Zn);const So=Zn;var Ex;let qt=Ex=class extends $r{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new q1,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return ii(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new Ex({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([A({type:dt,json:{write:!0}})],qt.prototype,"backgroundColor",void 0),g([A({type:dt,json:{write:!0}})],qt.prototype,"borderLineColor",void 0),g([A({type:Number,json:{write:!0},cast:ii})],qt.prototype,"borderLineSize",void 0),g([A({type:q1,json:{write:!0}})],qt.prototype,"font",void 0),g([A({...sN,json:{write:!0}})],qt.prototype,"horizontalAlignment",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"kerning",void 0),g([A({type:dt,json:{write:!0}})],qt.prototype,"haloColor",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qt.prototype,"haloSize",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"rightToLeft",void 0),g([A({type:Boolean,json:{write:!0}})],qt.prototype,"rotated",void 0),g([A({type:String,json:{write:!0}})],qt.prototype,"text",void 0),g([ot({esriTS:"text"},{readOnly:!0})],qt.prototype,"type",void 0),g([A({...nN,json:{write:!0}})],qt.prototype,"verticalAlignment",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qt.prototype,"xoffset",void 0),g([A({type:Number,cast:ii,json:{write:!0}})],qt.prototype,"yoffset",void 0),g([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],qt.prototype,"angle",void 0),g([A({type:Number,json:{write:!0}})],qt.prototype,"width",void 0),g([A({type:Number})],qt.prototype,"lineWidth",void 0),g([Jt("lineWidth")],qt.prototype,"writeLineWidth",null),g([qm("lineWidth")],qt.prototype,"castLineWidth",null),g([A(rN)],qt.prototype,"lineHeight",void 0),g([Jt("lineHeight")],qt.prototype,"writeLineHeight",null),qt=Ex=g([ie("esri.symbols.TextSymbol")],qt);const Jf=qt;var Ax;let hn=Ax=class extends $r{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:z1.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new Ax({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new ft("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const o=i&&t.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await ve(()=>import("./webStyleSymbolUtils-xZIttNRt.js"),__vite__mapDeps([51,52,53,54,1]),import.meta.url);jp(e);const s=r(this,{portal:this.portal},e);s.catch(o=>{kt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return t?.set(i,n.clone()),n}};g([A({json:{write:!1}})],hn.prototype,"color",void 0),g([A({type:String,json:{write:!0}})],hn.prototype,"styleName",void 0),g([A({type:z1,json:{write:!1}})],hn.prototype,"portal",void 0),g([A({type:String,json:{read:wE,write:Kh}})],hn.prototype,"styleUrl",void 0),g([A({type:dp,json:{read:!1}})],hn.prototype,"thumbnail",void 0),g([A({type:String,json:{write:!0}})],hn.prototype,"name",void 0),g([ot({styleSymbolReference:"web-style"},{readOnly:!0})],hn.prototype,"type",void 0),g([A()],hn.prototype,"_fetchCacheKey",null),hn=Ax=g([ie("esri.symbols.WebStyleSymbol")],hn);const ru=hn;function K2e(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function xN(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const QE={base:$r,key:"type",typeMap:{"simple-fill":Su,"picture-fill":XE,"picture-marker":Yf,"simple-line":kn,"simple-marker":So,text:Jf,"label-3d":H1,"line-3d":wu,"mesh-3d":i0,"point-3d":oa,"polygon-3d":xu,"web-style":ru,cim:bu},errorContext:"symbol"},X2e={base:$r,key:"type",typeMap:{"picture-marker":Yf,"simple-marker":So,"point-3d":oa,cim:bu},errorContext:"symbol"},Q2e={base:$r,key:"type",typeMap:{"simple-line":kn,"line-3d":wu,cim:bu},errorContext:"symbol"},ewe={base:$r,key:"type",typeMap:{"simple-fill":Su,"picture-fill":XE,"polygon-3d":xu,cim:bu},errorContext:"symbol"},twe={base:$r,key:"type",typeMap:{"picture-marker":Yf,"simple-marker":So,text:Jf,"web-style":ru,cim:bu},errorContext:"symbol"},HY=b5({types:QE}),iwe={base:$r,key:"type",typeMap:{"simple-fill":Su,"picture-fill":XE,"picture-marker":Yf,"simple-line":kn,"simple-marker":So,text:Jf,"line-3d":wu,"mesh-3d":i0,"point-3d":oa,"polygon-3d":xu,"web-style":ru,cim:bu},errorContext:"symbol"},rwe={base:$r,key:"type",typeMap:{text:Jf,"label-3d":H1},errorContext:"symbol"},swe={base:$r,key:"type",typeMap:{"line-3d":wu,"mesh-3d":i0,"point-3d":oa,"polygon-3d":xu,"web-style":ru,cim:bu},errorContext:"symbol"},nwe={base:$r,key:"type",typeMap:{"label-3d":H1},errorContext:"symbol"},owe=Yh(QE);var Tx;function WY(e){if(!e)return null;const t={};for(const i in e){const r=TE(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function YY(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let Wr=Tx=class extends Co.ClonableMixin(Xe){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Ny(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&vU(kt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Tx({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:YY(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Xe.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=r),e==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([j2(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),j2(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};g([A({value:null,json:{read:WY}})],Wr.prototype,"aggregateGeometries",null),g([A({value:null})],Wr.prototype,"attributes",null),g([A({value:null,types:NW,json:{read:TE}})],Wr.prototype,"geometry",null),g([A({type:Boolean})],Wr.prototype,"isAggregate",void 0),g([A({clonable:"reference"})],Wr.prototype,"layer",void 0),g([A({clonable:"reference"})],Wr.prototype,"origin",void 0),g([A({type:LW})],Wr.prototype,"popupTemplate",void 0),g([A({clonable:"reference"})],Wr.prototype,"sourceLayer",void 0),g([A({value:null,types:QE})],Wr.prototype,"symbol",null),g([A({clonable:!1,json:{read:!1,write:!1}})],Wr.prototype,"_version",void 0),g([A({type:Boolean,value:!0})],Wr.prototype,"visible",null),Wr=Tx=g([ie("esri.Graphic")],Wr);const JY=Wr;function awe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function lwe(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function cwe(e){return e?.type==="subtype-sublayer"}const uwe={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function $M(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function hwe(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function fwe(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function dwe(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function pwe(e,t){const i=Yt?.findServerInfo(e);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${e.slice(0,r)}/rest/info`,n=t!=null?t.signal:null,{data:o}=await Ni(s,{query:{f:"json"},responseType:"json",signal:n});return o?.owningSystemUrl||null}function ZY(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function mwe(e){return ZY(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function KY(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function ywe(e){return!!KY(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const e3=[252,146,31,255],XY=[153,153,153,255],QY={type:"esriSMS",style:"esriSMSCircle",size:6,color:e3,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},eJ={type:"esriSLS",style:"esriSLSSolid",width:.75,color:e3},tJ={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},iJ={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},rJ={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},sJ={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},nJ={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},SN=So.fromJSON(QY),EN=kn.fromJSON(eJ),AN=Su.fromJSON(tJ),gwe=Jf.fromJSON(iJ);function vwe(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return SN;case"polyline":return EN;case"polygon":case"extent":return AN}return null}const bwe=So.fromJSON(rJ),_we=kn.fromJSON(sJ),wwe=Su.fromJSON(nJ),oJ=oa.fromSimpleMarkerSymbol(SN),aJ=wu.fromSimpleLineSymbol(EN),lJ=xu.fromSimpleFillSymbol(AN),cJ=new i0({symbolLayers:new mt([new _u({material:{color:e3},edges:new B6({size:wo(1),color:new dt(XY)})})])}),uJ=new wu({symbolLayers:new mt([new Hf({material:{color:new dt([0,0,0])},size:wo(1)})])}),hJ=new xu({symbolLayers:new mt([new _u({outline:{color:new dt([0,0,0]),size:wo(1)}})])});function xwe(e){if(e==null)return null;switch(e.type){case"mesh":return cJ;case"point":case"multipoint":return oJ;case"polyline":return aJ;case"polygon":case"extent":return lJ}return null}const OM="#useCIMFallbackSymbology()",Vu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function fJ(e,t=Vu){if(!e)return{symbol:null};const{retainId:i=Vu.retainId,ignoreDrivers:r=Vu.ignoreDrivers,hasLabelingContext:s=Vu.hasLabelingContext,retainCIM:n=Vu.retainCIM,cimFallbackEnabled:o=Vu.cimFallbackEnabled}=t;let a=null;if(xN(e)||e instanceof ru)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=n?e.clone():oa.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=uJ.clone(),t?.logWarning?.(OM,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=hJ.clone(),t?.logWarning?.(OM,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ft("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof kn)a=wu.fromSimpleLineSymbol(e);else if(e instanceof So)a=oa.fromSimpleMarkerSymbol(e);else if(e instanceof Yf)a=oa.fromPictureMarkerSymbol(e);else if(e instanceof Su)a=t.geometryType&&t.geometryType==="mesh"?i0.fromSimpleFillSymbol(e):xu.fromSimpleFillSymbol(e);else{if(!(e instanceof Jf))return{error:new ft("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=s?H1.fromTextSymbol(e):oa.fromTextSymbol(e)}return i&&a&&a.type!=="cim"&&(a.id=e.id),!r||a.type==="cim"||a instanceof ru||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function Swe(e,t,i,r){const s=TN(e,{},{context:r,isLabelSymbol:!1});s!=null&&(t[i]=s)}function Ewe(e,t,i,r){const s=TN(e,{},{context:r,isLabelSymbol:!0});s!=null&&(t[i]=s)}function CM(e){return xN(e)||e instanceof ru}function dJ(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function TN(e,t,i){if(e==null)return null;const{context:r,isLabelSymbol:s}=i,n=r?.origin,o=r?.messages;if(n==="web-scene"&&!CM(e)){const a=fJ(e,{retainCIM:!0,hasLabelingContext:s});return a.symbol!=null?a.symbol.write(t,r):(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:a.error})),null)}return $M(r?.layer)&&dJ(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):(n==="web-map"||n==="portal-item"&&!$M(r?.layer))&&CM(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function t3(e,t){return HY(e,null,t)}var pJ=":";function $_(...e){const t=[];for(let r=0;r<e.length;r++){const s=e[r];if(typeof s=="string")t.push(s);else if(Array.isArray(s))t.push.apply(t,s);else if(typeof s=="object")for(const n in s)s[n]&&t.push(n)}const i=t.join(" ");return t.length=0,i}var su=class{resolve(e){}reject(e){}constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};function mJ(e,t){let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1}function yJ(e,t,i){const{subscribe:r}=gJ(t);return r(s=>{s.some(o=>mJ(e,o.target))&&i()})}var O_={};function gJ(e){const t=e.join(","),i=O_[t];if(i!==void 0)return i;const r=new Set,s=new MutationObserver(o=>r.forEach(a=>a(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const n={subscribe(o){return r.add(o),()=>{r.delete(o),r.size===0&&(s.disconnect(),O_[t]=void 0)}}};return O_[t]=n,n}function vJ(e,t){let i=e;for(;i;){const r=i.closest?.(t);if(r)return r;const s=i.getRootNode?.();if(s===globalThis.document)return null;i=s.host}return null}function bJ(e,t,i){return vJ(e,`[${t}]`)?.getAttribute(t)??i}function Xt(e,t,...i){try{return e?.call(t,...i)}catch(r){console.error(r,e)}}async function Mx(e,t,...i){try{const r=e?.call(t,...i);return r instanceof Promise?await r:r}catch(r){console.error(r,e)}}var _J=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],wJ=new Set(_J),av="en",xJ={pt:"pt-PT",nb:"no",zh:"zh-CN"};async function SJ(e,t,i=""){const r=`${t}/${i}`,s=`${r}${e}.json`;return C_[s]??(C_[s]=MN(e,r)),await C_[s]}var C_={};async function MN(e,t){const i=`${t}${e}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return e===av?{}:await MN(av,t)}function $N(e){const t=bJ(e,"lang",globalThis.navigator?.language||av);return{lang:t,t9nLocale:ON(t)}}function ON(e){const[t,i]=e.split("-"),r=t.toLowerCase();let s=r;return i&&(s=`${r}-${i.toUpperCase()}`),s=xJ[s]??s,wJ.has(s)?s:i?ON(r):av}function EJ(e,t,i,r){let s;const n=()=>void AJ(e,t(),r).then(o=>{(s?.lang!==o.lang||s.t9nLocale!==o.t9nLocale||s.t9nStrings!==o.t9nStrings)&&i(o),s=o}).catch(console.error);return queueMicrotask(n),yJ(e,["lang"],n)}async function AJ(e,t,i=e.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:r,t9nLocale:s}=$N(e),n=`${t}/${i}/t9n`,a=i===null?{}:await SJ(s,n,"messages.");return{lang:r,t9nLocale:s,t9nStrings:a}}var i3=e=>e.replace(TJ,(t,i)=>`${i===0?"":"-"}${t.toLowerCase()}`),TJ=/[A-Z]+(?![a-z])|[A-Z]/gu;function MJ(e,t){const i=t/$J;let r=0;const s=setInterval(()=>{r+=i,r>=t&&(clearInterval(s),e())},i);return s}var $J=4;function CN(e){return e!==void 0}function IN(e){let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const i=t;return i.manager?.loadedCalled||i._offspring.push(e),i._postLoad.promise}return!1}var ug=Object.defineProperty;function OJ(e){const t=e.split(pJ);return t.length===1?[t[0],i3(t[0])]:t}var CJ=globalThis.HTMLElement??OJ;(class extends CJ{constructor(){super(),this._store={},this._pendingAttributes=[],this._postLoad=new su,this._postLoaded=new su,this._offspring=[],this._saveInstanceProperties();const e=this.constructor;e._LitConstructor?this._initializeComponent({a:e._LitConstructor}):e._loadPromise.then(this._initializeComponent.bind(this)).catch(t=>{this._postLoaded.reject(t),setTimeout(()=>{throw t})})}static{this.lumina=!0}static _initializePrototype(){this._properties?.forEach(this._bindProp,this),this._asyncMethods?.forEach(this._bindAsync,this),this._syncMethods?.forEach(this._bindSync,this)}static _bindProp(e){ug(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this._store[e]},set(t){this._store[e]=t}})}static _bindAsync(e){ug(this.prototype,e,{async value(...t){return this._litElement||await this._postLoaded.promise,await this._litElement[e](...t)},configurable:!0})}static _bindSync(e){ug(this.prototype,e,{value(...t){return this._litElement[e](...t)},configurable:!0})}get manager(){return this._litElement?.manager}_saveInstanceProperties(){const e=this.constructor,t=this;e._properties?.forEach(i=>{Object.hasOwn(this,i)&&(this._store[i]=t[i],delete t[i])})}attributeChangedCallback(e,t,i){this._litElement?.attributeChangedCallback(e,t,i),this._litElement||this._pendingAttributes.push(e)}connectedCallback(){this._litElement?this._litElement.connectedCallback?.():queueMicrotask(()=>{this._ancestorLoad=IN(this)})}disconnectedCallback(){this._litElement?.disconnectedCallback?.()}async componentOnReady(){return await this._postLoaded.promise,this}_initializeComponent(e){const t=this.constructor,i=t._name,r=this._store,s=Object.values(e).find(f=>f.tagName===i),n=`${i}--lazy`;let o=s;for(;o&&!Object.hasOwn(o,"lumina");)o=Object.getPrototypeOf(o);PJ(o),!t._LitConstructor&&(t._LitConstructor=s,customElements.define(n,s)),s.lazy=this;const l=document.createElement(n);s.lazy=void 0,this._litElement=l,this._store=l,this._pendingAttributes.forEach(f=>{const d=this.getAttribute(f);l.attributeChangedCallback(f,null,d)}),Object.entries(r).forEach(IJ,l);const c=this.isConnected;(c||this._ancestorLoad)&&(l.connectedCallback?.(),c||l.disconnectedCallback())}addController(){}requestUpdate(){this._litElement?.requestUpdate()}});function IJ([e,t]){this[e]=t}function PJ(e){const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(s,n){i.setAttribute.call(this.el,s,n)},t.removeAttribute=function(s){i.removeAttribute.call(this.el,s)},ug(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))}var $x={};function LJ(e,t){if(t){const i=e.constructor.elementProperties;e.manager.internals.members=Object.fromEntries(Array.from(i,([r,s])=>s.noAccessor?void 0:[r,[(s.readOnly?2048:0)|(s.state?32:16)]]).filter(CN))}else{const i=e.constructor,r=i.__registerControllers?.(e)??void 0;if(i.__registerControllers=void 0,typeof r!="object")throw new Error("Failed to retrieve component meta");e.manager.internals.members=Object.fromEntries(Object.entries(r).filter(([s,[n]])=>(n&63)!==0))}}function NJ(e,t=8){return e==null||typeof e=="object"||typeof e=="function"?e:t&4?e==="false"?!1:e===""||!!e:t&2?Number.parseFloat(e):t&1?String(e):e}var kJ=(e,t)=>e.manager.internals.members?.[t]?.[0],r3=Symbol.for("controller"),RJ=e=>typeof e=="object"&&e!==null&&(r3 in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e),Zd;function yh(e){Zd!==e&&(Zd=e,queueMicrotask(()=>{Zd===e&&(Zd=void 0)}))}function r0(e){return Zd}var wc=[];function PN(e){if(e===void 0){wc=[];return}const t=wc.indexOf(e);wc=t===-1?[...wc,e]:wc.slice(0,t+1),queueMicrotask(()=>{wc=[]})}function LN(){return wc}var gh;function DJ(e){gh!==e&&(gh=e,queueMicrotask(()=>{gh===e&&(gh=void 0)}))}function FJ(){const e=gh;return gh=void 0,e}var UJ=async(e,t)=>{const i=s3(e);if(i===void 0)return e;if(await i.ready,typeof t=="function"){const r=i.watchExports(s=>t(s,r))}return i.exports},jJ=async e=>{const t=s3(e);return await t.ready,t},s3=e=>{const i=r0().manager.internals.resolveExports(e);if(i!==void 0)return i;if(RJ(e))return e;const r=FJ();if(r!==void 0)return r},la={setter:!1,getter:!1,readOnly:!1},lv=new WeakMap,NN;NN=r3;var n3=class{constructor(e){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new su,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[NN]=!0,this.ready=this._ready.promise,this._exports=PM(this),this._exportWatchers=new Set;const t=e??r0();this.component=t,this.component.addController(this),this.component.manager===void 0||(PN(this),queueMicrotask(()=>this.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=this.component;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e._loadCalled&&this.triggerLoad().then(()=>{e.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(e){const t=this._exports;t!==e&&(this._exports=e,this._exportWatchers.forEach(Xt),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,t)),this._ready.resolve(e)}setProvisionalExports(e,t=!0){this._exports=t?PM(e):e,this._exportWatchers.forEach(Xt)}watchExports(e){const t=()=>e(this._exports);return this._exportWatchers.add(t),()=>void this._exportWatchers.delete(t)}get use(){return yh(this.component),UJ}get useRef(){return yh(this.component),jJ}get useRefSync(){return yh(this.component),s3}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this._callbacks.hostConnected.push(e)}onDisconnected(e){this._callbacks.hostDisconnected.push(e)}onLoad(e){this._callbacks.hostLoad.push(e)}onLoaded(e){this._callbacks.hostLoaded.push(e)}onUpdate(e){this._callbacks.hostUpdate.push(e)}onUpdated(e){this._callbacks.hostUpdated.push(e)}onDestroy(e){this._callbacks.hostDestroy.push(e)}onLifecycle(e){this._callbacks.hostLifecycle.push(e),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(e)}triggerConnected(){const e=this;e.hostConnected&&Xt(e.hostConnected,e),this._callbacks.hostConnected.forEach(Xt),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Xt(e.hostDisconnected,e),this._callbacks.hostDisconnected.forEach(Xt),this._lifecycleCleanups.forEach(Xt),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const e=this;e.hostLoad&&await Mx(e.hostLoad,e),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(Mx)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const e=this;e.hostLoaded&&Xt(e.hostLoaded,e),this._callbacks.hostLoaded.forEach(Xt),this.loadedCalled=!0}triggerUpdate(e){const t=this;t.hostUpdate&&Xt(t.hostUpdate,t,e),this._callbacks.hostUpdate.forEach(IM,e)}triggerUpdated(e){const t=this;t.hostUpdated&&Xt(t.hostUpdated,t,e),this._callbacks.hostUpdated.forEach(IM,e)}triggerDestroy(){const e=this;e.hostDestroy&&Xt(e.hostDestroy,e),this._callbacks.hostDestroy.forEach(Xt)}triggerLifecycle(){const e=this;e.hostLifecycle&&this._callLifecycle(()=>e.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(e){yh(this.component);const t=Xt(e);(Array.isArray(t)?t:[t]).forEach(r=>{typeof r=="function"?this._lifecycleCleanups.push(r):typeof r=="object"&&typeof r.remove=="function"&&this._lifecycleCleanups.push(r.remove)})}};function IM(e){Xt(e,void 0,this)}var kN=n3;function PM(e){if(typeof e!="object"&&typeof e!="function"||e===null)return e;const t=new Proxy(e,{get(i,r,s){if(!(BJ.has(r)&&r in i&&i[r]===t)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,s)},set:(i,r,s,n)=>Reflect.set(i,r,s,n)});return t}var BJ=new Set(["exports","_exports"]);function VJ(e,t,i){const r=Object.keys(e),s=r.length;Mc===void 0&&queueMicrotask(o3),Mc??(Mc=new Map);let n=Mc.get(e);return n===void 0&&(n={callbacks:[],keyCount:s},Mc.set(e,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(r)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const a=c=>Xt(t,null,c),l=o[s];l===void 0?a(void 0):e[l]===i?a(l):a(void 0)}),i}var Mc=void 0;function o3(){Array.from(Mc?.entries()??[]).forEach(([e,{callbacks:t}])=>{const i=Object.keys(e);t.forEach(r=>r(i))}),Mc=void 0}function of(e,t,i){var r;const s=t,n=e.manager.internals;(r=n.allWatchers)[s]??(r[s]=[]);const o=n.allWatchers[s],a=i,l=(c,f,d)=>Xt(a,null,c,f,d);return o.push(l),()=>{const c=o.indexOf(l);c!==-1&&o.splice(c,1)}}var GJ=class{constructor(e){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const t=this.component.manager.internals;Object.entries(t.members).forEach(([i,[r]])=>{var s;r&2048&&((s=t.setters)[i]??(s[i]=[]),t.setters[i].push(t.readonlySetter))})},this.trackedValue=Ox,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this._exports=new WeakMap,this.readonlySetter=(t,i,r)=>{if(la.readOnly)return t;throw new Error(`Cannot assign to read-only property "${r}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(t)}"`)},this.component=e}firePropTrackers(e,t){const i=this.keyTrackers;this.trackedValue=Ox,this.keyTrackers=[],i.forEach(r=>r(e,t))}getSetProxy(e){const t=this.component,i=t.constructor.prototype;if(this._getSetProxy(i,e,"class"),t.manager.isLit)return;const r=t.el.constructor.prototype;i!==r&&this._getSetProxy(r,e,"html")}_getSetProxy(e,t,i){const r=this.component,s=kJ(r,t);let n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));if(!n)return;const o=n.get,a=n.set,l=Y0 in o,c=Y0 in a;if(l&&c)return;const f=!l,d=!c,p=f?function(){let b=o.call(this);const E=lv.get(this);if(la.getter||E===void 0)return b;const S=E.manager.internals;b=S.accessorGetter[t](b,t);const T=S.getters[t]??I_;for(let w=0;w<T.length;w++)b=T[w](b,t);return b}:o,y=d?function(b){const E=o.call(this),S=lv.get(this);if(S===void 0){a.call(this,b);return}let T=S.manager.isLit?b??void 0:NJ(b,s);const w=S.manager.internals;if(T===E)a.call(this,T);else{const _=la.setter?I_:w.setters[t]??I_;for(let M=0;M<_.length&&(T=_[M](T,E,t),T!==E);M++);T=w.accessorSetter[t](T,E,t),a.call(this,T),T!==E&&w.enabledWatchers[t]?.forEach(M=>M(T,E,t))}w.keyTrackers.length>0&&w?.firePropTrackers(t,b)}:a;f&&(p[Y0]=!0),d&&(y[Y0]=!0),Object.defineProperty(e,t,{...n,get:p,set:y})}markExports(e,t){(typeof t=="object"&&t!==null||typeof t=="function")&&this._exports.set(t,e)}resolveExports(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this._exports.get(e)}},I_=[],Y0=Symbol(),Ox=Symbol();function RN(e,t,i){const r=e.manager.internals;return r.trackedValue!==Ox&&r.trackedValue!==i&&r.firePropTrackers(void 0,void 0),r.keyTrackers.length===0&&queueMicrotask(()=>r.firePropTrackers(void 0,void 0)),r.trackedValue=i,r.keyTrackers.push((s,n)=>Xt(t,void 0,i===n?s:void 0)),i}function a3(e=[r0(),...LN()],t,i){const r=Array.isArray(e)?e:[e];let s=r.length+1;const n=a=>{s-=1,a!==void 0&&(s=Math.min(s,0)),s===0&&t(a)};r.forEach(a=>VJ(a,l=>n(l===void 0?void 0:{key:l,host:a,isReactive:!1}),i));const o=r.find(a=>"manager"in a&&typeof a.manager=="object"&&a.manager.component===a);return o&&RN(o,a=>n(a===void 0?void 0:{key:a,host:o,isReactive:!0}),i),i}function zJ(e){la.setter=!0;try{return e()}finally{la.setter=!1}}function qJ(e){la.getter=!0;try{return e()}finally{la.getter=!1}}function HJ(e){la.readOnly=!0;try{return e()}finally{la.readOnly=!1}}var DN=e=>(...t)=>{const i=LN(),r=new e(...t),s=r.exports;PN(i.at(-1));const n=r.component.manager.internals;n.markExports(r,s),r.watchExports(a=>n.markExports(r,a)),DJ(r);const o=[r.component,...i].reverse();return a3(o,a=>a===void 0?void 0:WJ(r,a,s),s)};function WJ(e,{host:t,key:i,isReactive:r},s){const n=t,o=n[i]!==e.exports,a=n[i]!==s,l=s!==e.exports;if(o&&!a&&l&&(n[i]=e.exports),t===e.component){if(r){const f=e.component.manager.internals;a&&f.markExports(e,n[i]),of(e.component,i,d=>{d!==e.exports&&f.markExports(e,d)})}e.assignedProperty=r?void 0:i}e.watchExports(()=>{if(n[i]===e.exports)return;const f=e.component.manager;f.internals.setters[i]?.includes(f.internals.readonlySetter)?HJ(()=>{n[i]=e.exports}):n[i]=e.exports})}var YJ=(e,t)=>new JJ(e,t),JJ=class extends kN{constructor(e,t){const i="addController"in e,r=new Set;function s(l){r.add(l),!(r3 in l)&&e.renderRoot&&e.el.isConnected&&l.hostConnected?.()}function n(l){r.delete(l),l.controllerRemoved?.()}const o=e;if(o.addController=s,o.removeController=n,!i){const l=t??e.constructor.__forceUpdate;o.requestUpdate=()=>l(e)}super(e),this.internals=new GJ(this.component),this.destroyed=!1,this._updatePromise=new su,this._originalLifecycles={},this.isLit=i,this.component.manager=this,LJ(e,i),this._controllers=r,this.exports=void 0,this.hasDestroy=P_ in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const a=this.internals;Object.keys(a.members).forEach(l=>{a.accessorGetter[l]=LM,a.accessorSetter[l]=LM,a.getSetProxy(l)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(e,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(a.enableReadonly),yh(e),lv.set(e.el,e),lv.set(e,e)}_bindLifecycleMethods(){const e=this.component,t=this.isLit,i=e.el===e;this._originalLifecycles={_connectedCallback:t||i?void 0:e.connectedCallback,_disconnectedCallback:t||i?void 0:e.disconnectedCallback,_load:t?e.load:e.componentWillLoad,_loaded:t?e.loaded:e.componentDidLoad,_willUpdate:t?void 0:e.componentWillUpdate,_updated:t?void 0:e.componentDidUpdate,_destroy:e.destroy};const r=this._connectedCallback.bind(this),s=this._disconnectedCallback.bind(this),n=this._update.bind(this),o=this._updated.bind(this);t?e.constructor.prototype.addController.call(e,{hostConnected:r,hostDisconnected:s,hostUpdate:n,hostUpdated:o}):(e.connectedCallback=r,e.disconnectedCallback=s,e.componentWillLoad=this._load.bind(this),e.componentDidLoad=this._loaded.bind(this),e.componentWillUpdate=n,e.componentDidUpdate=o),this.hasDestroy&&(e.destroy=this.destroy.bind(this))}_connectedCallback(){if(this.destroyed){const t=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${P_} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const e=this.internals;e.enabledWatchers=e.allWatchers,o3(),e.enableReadonly?.(),this._controllers.forEach(KJ),this._originalLifecycles._connectedCallback?.call(this.component)}_disconnectedCallback(){this.destroyed||(this._controllers.forEach(XJ),this._originalLifecycles._disconnectedCallback?.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){await Promise.allSettled(Array.from(this._controllers,QJ)),await this._originalLifecycles._load?.call(this.component),this.hasDestroy&&of(this.component,P_,()=>this._setAutoDestroyTimeout())}_loaded(){this._controllers.forEach(eZ),this._originalLifecycles._loaded?.call(this.component)}_update(){const e=this.component;return this._controllers.forEach(tZ,e.$changes),this._originalLifecycles._willUpdate?.call(this.component)}_updated(){const e=this.component;if(this._controllers.forEach(iZ,e.$changes),this._originalLifecycles._updated?.call(this.component),this.isLit)e.$changes=new Map;else{const t=this._updatePromise;this._updatePromise=new su,t.resolve(!0)}}async destroy(){if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(rZ),this._controllers.clear(),await this._originalLifecycles._destroy?.call(this.component)}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const e=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=MJ(e,ZJ)}}},P_="autoDestroyDisabled",ZJ=1e3,LM=e=>e;function KJ(e){"triggerConnected"in e?e.triggerConnected():Xt(e.hostConnected,e)}function XJ(e){"triggerDisconnected"in e?e.triggerDisconnected():Xt(e.hostDisconnected,e)}async function QJ(e){"triggerLoad"in e?await e.triggerLoad():await Mx(e.hostLoad,e)}function eZ(e){"triggerLoaded"in e?e.triggerLoaded():Xt(e.hostLoaded,e)}function tZ(e){"triggerUpdate"in e?e.triggerUpdate(this):Xt(e.hostUpdate,e,this)}function iZ(e){"triggerUpdated"in e?e.triggerUpdated(this):Xt(e.hostUpdated,e,this)}function rZ(e){"triggerDestroy"in e?e.triggerDestroy():Xt(e.hostDestroy,e)}var sZ=e=>FN(void 0,e),Awe=e=>t=>FN(t,e),nZ=class extends n3{constructor(e,t){super(e);const i=this.exports;try{yh(this.component);const r=t(this.component,this),s=this.exports!==i;if(r instanceof Promise){s||this.setProvisionalExports(r);const n=r.then(o=>{this.exports=o,super.catchUpLifecycle()}).catch(o=>{this._ready.reject(o),console.error(o)});this.onLoad(async()=>await n)}else(!s||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this._ready.reject(r),console.error(r)}}catchUpLifecycle(){}},FN=DN(nZ),Twe=(e,t)=>new oZ(e,t),oZ=class extends n3{constructor(e,t){super(),this._attributes=e,this._callback=t,this._observer=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&t.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this._attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this._callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this._observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this._attributes})}hostDisconnected(){this._observer.disconnect()}},aZ=e=>(t={})=>sZ((i,r)=>{const s=$N(i.el),n={_lang:s.lang,_t9nLocale:s.t9nLocale,_loading:!0},o=i;r.onLifecycle(()=>EJ(i.el,()=>e("./assets"),({t9nLocale:l,t9nStrings:c,lang:f})=>{const d={...c,_lang:f,_t9nLocale:l,_loading:!1};r.exports=d;const p=c.componentLabel;typeof p=="string"&&"label"in i&&i.label==null&&(i.label??(i.label=p)),a(o.messageOverrides)},t.name));function a(l){const c=r.exports,f=c._original??c,d=UN(f,l);l&&(d._original=f),r.exports=d}return"messageOverrides"in o&&r.onLifecycle(()=>of(o,"messageOverrides",a)),t.blocking?(r.setProvisionalExports(n,!1),r.ready):n});function UN(e,t){if(!t)return e;const i={...e};return Object.entries(t).forEach(([r,s])=>{typeof s=="object"?i[r]=UN(e[r],s):i[r]=s??e[r]}),i}var lZ=e=>cZ,NM="arcgisPropertyChange";function cZ(...e){const t=r0();let r=t[NM];return t.manager.isLit&&(r=t.constructor.$createEvent(NM,void 0,t)),t.manager.onLoad(()=>t.manager.onLifecycle(()=>e.map(s=>of(t,s,()=>r.emit({name:s}))))),r}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const hg=globalThis,l3=hg.ShadowRoot&&(hg.ShadyCSS===void 0||hg.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c3=Symbol(),kM=new WeakMap;let jN=class{constructor(t,i,r){if(this._$cssResult$=!0,r!==c3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=i}get styleSheet(){let t=this.o;const i=this.t;if(l3&&t===void 0){const r=i!==void 0&&i.length===1;r&&(t=kM.get(i)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&kM.set(i,t))}return t}toString(){return this.cssText}};const uZ=e=>new jN(typeof e=="string"?e:e+"",void 0,c3),hZ=(e,...t)=>{const i=e.length===1?e[0]:t.reduce((r,s,n)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[n+1],e[0]);return new jN(i,e,c3)},fZ=(e,t)=>{if(l3)e.adoptedStyleSheets=t.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of t){const r=document.createElement("style"),s=hg.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,e.appendChild(r)}},RM=l3?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let i="";for(const r of t.cssRules)i+=r.cssText;return uZ(i)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:dZ,defineProperty:pZ,getOwnPropertyDescriptor:mZ,getOwnPropertyNames:yZ,getOwnPropertySymbols:gZ,getPrototypeOf:vZ}=Object,W1=globalThis,DM=W1.trustedTypes,bZ=DM?DM.emptyScript:"",_Z=W1.reactiveElementPolyfillSupport,pp=(e,t)=>e,Cx={toAttribute(e,t){switch(t){case Boolean:e=e?bZ:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=e!==null;break;case Number:i=e===null?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},BN=(e,t)=>!dZ(e,t),FM={attribute:!0,type:String,converter:Cx,reflect:!1,hasChanged:BN};Symbol.metadata??=Symbol("metadata"),W1.litPropertyMetadata??=new WeakMap;let sh=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,i=FM){if(i.state&&(i.attribute=!1),this._$Ei(),this.elementProperties.set(t,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,i);s!==void 0&&pZ(this.prototype,t,s)}}static getPropertyDescriptor(t,i,r){const{get:s,set:n}=mZ(this.prototype,t)??{get(){return this[i]},set(o){this[i]=o}};return{get(){return s?.call(this)},set(o){const a=s?.call(this);n.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??FM}static _$Ei(){if(this.hasOwnProperty(pp("elementProperties")))return;const t=vZ(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(pp("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(pp("properties"))){const i=this.properties,r=[...yZ(i),...gZ(i)];for(const s of r)this.createProperty(s,i[s])}const t=this[Symbol.metadata];if(t!==null){const i=litPropertyMetadata.get(t);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const i=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)i.unshift(RM(s))}else t!==void 0&&i.push(RM(t));return i}static _$Eu(t,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return fZ(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,i,r){this._$AK(t,r)}_$EC(t,i){const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const n=(r.converter?.toAttribute!==void 0?r.converter:Cx).toAttribute(i,r.type);this._$Em=t,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(t,i){const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const n=r.getPropertyOptions(s),o=typeof n.converter=="function"?{fromAttribute:n.converter}:n.converter?.fromAttribute!==void 0?n.converter:Cx;this._$Em=s,this[s]=o.fromAttribute(i,n.type),this._$Em=null}}requestUpdate(t,i,r){if(t!==void 0){if(r??=this.constructor.getPropertyOptions(t),!(r.hasChanged??BN)(this[t],i))return;this.P(t,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,i,r){this._$AL.has(t)||this._$AL.set(t,i),r.reflect===!0&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,n]of this._$Ep)this[s]=n;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,n]of r)n.wrapped!==!0||this._$AL.has(s)||this[s]===void 0||this.P(s,this[s],n)}let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(i)):this._$EU()}catch(r){throw t=!1,this._$EU(),r}t&&this._$AE(i)}willUpdate(t){}_$AE(t){this._$EO?.forEach(i=>i.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(i=>this._$EC(i,this[i])),this._$EU()}updated(t){}firstUpdated(t){}};sh.elementStyles=[],sh.shadowRootOptions={mode:"open"},sh[pp("elementProperties")]=new Map,sh[pp("finalized")]=new Map,_Z?.({ReactiveElement:sh}),(W1.reactiveElementVersions??=[]).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const u3=globalThis,cv=u3.trustedTypes,UM=cv?cv.createPolicy("lit-html",{createHTML:e=>e}):void 0,VN="$lit$",nl=`lit$${Math.random().toFixed(9).slice(2)}$`,GN="?"+nl,wZ=`<${GN}>`,nu=document,nm=()=>nu.createComment(""),om=e=>e===null||typeof e!="object"&&typeof e!="function",h3=Array.isArray,xZ=e=>h3(e)||typeof e?.[Symbol.iterator]=="function",L_=`[ 	
\f\r]`,fd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,jM=/-->/g,BM=/>/g,Xl=RegExp(`>|${L_}(?:([^\\s"'>=/]+)(${L_}*=${L_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),VM=/'/g,GM=/"/g,zN=/^(?:script|style|textarea|title)$/i,qN=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),dd=qN(1),Owe=qN(2),Sl=Symbol.for("lit-noChange"),Gi=Symbol.for("lit-nothing"),zM=new WeakMap,Lc=nu.createTreeWalker(nu,129);function HN(e,t){if(!h3(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return UM!==void 0?UM.createHTML(t):t}const SZ=(e,t)=>{const i=e.length-1,r=[];let s,n=t===2?"<svg>":t===3?"<math>":"",o=fd;for(let a=0;a<i;a++){const l=e[a];let c,f,d=-1,p=0;for(;p<l.length&&(o.lastIndex=p,f=o.exec(l),f!==null);)p=o.lastIndex,o===fd?f[1]==="!--"?o=jM:f[1]!==void 0?o=BM:f[2]!==void 0?(zN.test(f[2])&&(s=RegExp("</"+f[2],"g")),o=Xl):f[3]!==void 0&&(o=Xl):o===Xl?f[0]===">"?(o=s??fd,d=-1):f[1]===void 0?d=-2:(d=o.lastIndex-f[2].length,c=f[1],o=f[3]===void 0?Xl:f[3]==='"'?GM:VM):o===GM||o===VM?o=Xl:o===jM||o===BM?o=fd:(o=Xl,s=void 0);const y=o===Xl&&e[a+1].startsWith("/>")?" ":"";n+=o===fd?l+wZ:d>=0?(r.push(c),l.slice(0,d)+VN+l.slice(d)+nl+y):l+nl+(d===-2?a:y)}return[HN(e,n+(e[i]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class am{constructor({strings:t,_$litType$:i},r){let s;this.parts=[];let n=0,o=0;const a=t.length-1,l=this.parts,[c,f]=SZ(t,i);if(this.el=am.createElement(c,r),Lc.currentNode=this.el.content,i===2||i===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Lc.nextNode())!==null&&l.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(VN)){const p=f[o++],y=s.getAttribute(d).split(nl),v=/([.?@])?(.*)/.exec(p);l.push({type:1,index:n,name:v[2],strings:y,ctor:v[1]==="."?AZ:v[1]==="?"?TZ:v[1]==="@"?MZ:Y1}),s.removeAttribute(d)}else d.startsWith(nl)&&(l.push({type:6,index:n}),s.removeAttribute(d));if(zN.test(s.tagName)){const d=s.textContent.split(nl),p=d.length-1;if(p>0){s.textContent=cv?cv.emptyScript:"";for(let y=0;y<p;y++)s.append(d[y],nm()),Lc.nextNode(),l.push({type:2,index:++n});s.append(d[p],nm())}}}else if(s.nodeType===8)if(s.data===GN)l.push({type:2,index:n});else{let d=-1;for(;(d=s.data.indexOf(nl,d+1))!==-1;)l.push({type:7,index:n}),d+=nl.length-1}n++}}static createElement(t,i){const r=nu.createElement("template");return r.innerHTML=t,r}}function af(e,t,i=e,r){if(t===Sl)return t;let s=r!==void 0?i._$Co?.[r]:i._$Cl;const n=om(t)?void 0:t._$litDirective$;return s?.constructor!==n&&(s?._$AO?.(!1),n===void 0?s=void 0:(s=new n(e),s._$AT(e,i,r)),r!==void 0?(i._$Co??=[])[r]=s:i._$Cl=s),s!==void 0&&(t=af(e,s._$AS(e,t.values),s,r)),t}let EZ=class{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:r}=this._$AD,s=(t?.creationScope??nu).importNode(i,!0);Lc.currentNode=s;let n=Lc.nextNode(),o=0,a=0,l=r[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new s0(n,n.nextSibling,this,t):l.type===1?c=new l.ctor(n,l.name,l.strings,this,t):l.type===6&&(c=new $Z(n,this,t)),this._$AV.push(c),l=r[++a]}o!==l?.index&&(n=Lc.nextNode(),o++)}return Lc.currentNode=nu,s}p(t){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,i),i+=r.strings.length-2):r._$AI(t[i])),i++}};class s0{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,r,s){this.type=2,this._$AH=Gi,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&t?.nodeType===11&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=af(this,t,i),om(t)?t===Gi||t==null||t===""?(this._$AH!==Gi&&this._$AR(),this._$AH=Gi):t!==this._$AH&&t!==Sl&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):xZ(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Gi&&om(this._$AH)?this._$AA.nextSibling.data=t:this.T(nu.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=am.createElement(HN(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(i);else{const n=new EZ(s,this),o=n.u(this.options);n.p(i),this.T(o),this._$AH=n}}_$AC(t){let i=zM.get(t.strings);return i===void 0&&zM.set(t.strings,i=new am(t)),i}k(t){h3(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of t)s===i.length?i.push(r=new s0(this.O(nm()),this.O(nm()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class Y1{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,r,s,n){this.type=1,this._$AH=Gi,this._$AN=void 0,this.element=t,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Gi}_$AI(t,i=this,r,s){const n=this.strings;let o=!1;if(n===void 0)t=af(this,t,i,0),o=!om(t)||t!==this._$AH&&t!==Sl,o&&(this._$AH=t);else{const a=t;let l,c;for(t=n[0],l=0;l<n.length-1;l++)c=af(this,a[r+l],i,l),c===Sl&&(c=this._$AH[l]),o||=!om(c)||c!==this._$AH[l],c===Gi?t=Gi:t!==Gi&&(t+=(c??"")+n[l+1]),this._$AH[l]=c}o&&!s&&this.j(t)}j(t){t===Gi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let AZ=class extends Y1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Gi?void 0:t}},TZ=class extends Y1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Gi)}};class MZ extends Y1{constructor(t,i,r,s,n){super(t,i,r,s,n),this.type=5}_$AI(t,i=this){if((t=af(this,t,i,0)??Gi)===Sl)return;const r=this._$AH,s=t===Gi&&r!==Gi||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,n=t!==Gi&&(r===Gi||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class $Z{constructor(t,i,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){af(this,t)}}const OZ=u3.litHtmlPolyfillSupport;OZ?.(am,s0),(u3.litHtmlVersions??=[]).push("3.2.1");const CZ=(e,t,i)=>{const r=i?.renderBefore??t;let s=r._$litPart$;if(s===void 0){const n=i?.renderBefore??null;r._$litPart$=s=new s0(t.insertBefore(nm(),n),n,void 0,i??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Rh extends sh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=CZ(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Sl}}Rh._$litElement$=!0,Rh.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:Rh});const IZ=globalThis.litElementPolyfillSupport;IZ?.({LitElement:Rh});(globalThis.litElementVersions??=[]).push("4.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const WN={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},YN=e=>(...t)=>({_$litDirective$:e,values:t});let JN=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,i,r){this._$Ct=t,this._$AM=i,this._$Ci=r}_$AS(t,i){return this.update(t,i)}update(t,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const PZ=YN(class extends JN{constructor(e){if(super(e),e.type!==WN.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}const i=e.element.classList;for(const r of this.st)r in t||(i.remove(r),this.st.delete(r));for(const r in t){const s=!!t[r];s===this.st.has(r)||this.nt?.has(r)||(s?(i.add(r),this.st.add(r)):(i.remove(r),this.st.delete(r)))}return Sl}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ZN="important",LZ=" !"+ZN,NZ=YN(class extends JN{constructor(e){if(super(e),e.type!==WN.ATTRIBUTE||e.name!=="style"||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,i)=>{const r=e[i];return r==null?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(e,[t]){const{style:i}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)t[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in t){const s=t[r];if(s!=null){this.ft.add(r);const n=typeof s=="string"&&s.endsWith(LZ);r.includes("-")||n?i.setProperty(r,n?s.slice(0,-11):s,n?ZN:""):i[r]=s}}return Sl}});var KN=(e="",t={},i=r0())=>{const r={emit:s=>{e===""&&o3();const n=new CustomEvent(e,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...t});return i.el.dispatchEvent(n),n}};return e===""&&a3(void 0,s=>{e=s.key},r),r},kZ=KN.bind(null,""),RZ=()=>{},XN=class QN extends Rh{constructor(){super(),this.el=this.constructor.lazy??this,this.manager=YJ(this),this._postLoad=this.constructor.lazy?._postLoad??new su,this._offspring=this.constructor.lazy?._offspring??[],this._postLoaded=this.constructor.lazy?._postLoaded??new su,this._enableUpdating=this.enableUpdating,this.enableUpdating=RZ;const t=QN.prototype.shouldUpdate;this.shouldUpdate!==t&&(this._originalShouldUpdate=this.shouldUpdate,this.shouldUpdate=t)}static finalizeStyles(t){const i=super.finalizeStyles(t),r=this.shadowRootOptions===$x;return this.runtime?.commonStyles===void 0||r?i:[this.runtime.commonStyles,...i]}static createProperty(t,i){const r=typeof i=="number"?i:Array.isArray(i)?i[0]:0,s=Array.isArray(i)?i[1]:void 0;super.createProperty(t,{attribute:r&1&&typeof t=="string"?i3(t):!1,reflect:!!(r&2),type:r&4?Boolean:r&8?Number:void 0,state:!!(r&16),readOnly:!!(r&32),noAccessor:!!(r&64),...s})}static{this.lumina=!0}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const t=!this.manager.connectedCalled;super.connectedCallback(),t&&queueMicrotask(()=>this._load().catch(i=>{this._postLoaded.reject(i),setTimeout(()=>{throw i})}))}createRenderRoot(){const t=this.el.shadowRoot,i=this.constructor,r=i.shadowRootOptions,n=t??(r===$x?this.el:this.el.attachShadow(r));if(Object.defineProperty(this,"shadowRoot",{value:n}),t)return Rh.prototype.createRenderRoot.call(this),t;if(this.isConnected){const o=n.getRootNode();o.adoptedStyleSheets=[...o.adoptedStyleSheets,...i.elementStyles.map(a=>"styleSheet"in a?a.styleSheet:a)]}return n}async _load(){const t=this.el._ancestorLoad??IN(this.el);t&&await t,await this.manager._load(),this._enableUpdating(!0),this.performUpdate(),this._postLoad.resolve(),await Promise.resolve();const i=this._offspring.filter(r=>!r.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this._offspring.length=0,this.el.setAttribute(this.constructor.runtime.hydratedAttribute,""),this.manager._loaded(),this._postLoaded.resolve()}shouldUpdate(t){return this.$changes=t,this._originalShouldUpdate?.(t)??!0}listen(t,i,r){const s=i?.bind(this)??i;this.manager.onLifecycle(()=>(this.el.addEventListener(t,s,r),()=>this.el.removeEventListener(t,s,r)))}listenOn(t,i,r,s){const n=r?.bind(this)??r;this.manager.onLifecycle(()=>(t.addEventListener(i,n,s),()=>t.removeEventListener(i,n,s)))}async componentOnReady(){return await this._postLoaded.promise,this}};XN.$createEvent=KN;function DZ(e){let t;const i=s=>{t=new URL(s,globalThis.location?.href||void 0).href},r={...e,getAssetPath(s){const n=new URL(s,t);return n.origin!==globalThis.location?.origin?n.href:n.pathname},setAssetPath:i,customElement(s,n){n.runtime=r,n.tagName=s,customElements.get(s)||customElements.define(s,n)}};return i(e.defaultAssetPath),r}var Gu=e=>typeof e=="object"&&e!=null?PZ(e):e,qM=e=>typeof e=="object"&&e!=null?NZ(e):e,FZ=Gi;function Nwe(e,t,i){i==null?e.removeAttribute(t):e.setAttribute(t,i)}var kwe={toAttribute:e=>e===!0?"":e===!1?null:e};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const UZ=DZ({defaultAssetPath:"https://js.arcgis.com/map-components/4.32/",hydratedAttribute:"hydrated"}),{customElement:jZ,getAssetPath:BZ,setAssetPath:Rwe}=UZ;let fg=class extends Xe{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};g([A({readOnly:!0})],fg.prototype,"version",null),fg=g([ie("esri.views.layers.support.ClipArea")],fg);const VZ=fg;var Ix;let xc=Ix=class extends VZ{constructor(e){super(e),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new Ix({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};g([A({type:[Number,String],json:{write:!0}})],xc.prototype,"left",void 0),g([A({type:[Number,String],json:{write:!0}})],xc.prototype,"right",void 0),g([A({type:[Number,String],json:{write:!0}})],xc.prototype,"top",void 0),g([A({type:[Number,String],json:{write:!0}})],xc.prototype,"bottom",void 0),xc=Ix=g([ie("esri.views.layers.support.ClipRect")],xc);const J0=xc;function GZ(e,t){const i=10**t;return Math.round(e*i)/i}const Z0={left:0,right:0,top:0,bottom:0};let Yr=class extends Hi{constructor(t){super(t),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new mt,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new mt,this.view=null}initialize(){this.addHandles([ar(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),Dy),ar(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),Dy),ar(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),Dy)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(t){const{precision:i,min:r,max:s}=this;this._set("position",GZ(Math.max(Math.min(t,s),r),i))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:t}=this;t.forEach(i=>this._clipLayer({layer:i,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:t}=this;t.forEach(i=>this._clipLayer({layer:i,type:"trailing"}))}async _getLayerView(t){const{view:i}=this;if(!t||!i)return null;const r=await i.whenLayerView(t);return"clips"in r?r:null}_getVerticalClipRect(t){const{position:i}=this;return t==="leading"?new J0({...Z0,bottom:100-i+"%"}):t==="trailing"?new J0({...Z0,top:`${i}%`}):null}_getHorizontalClipRect(t){const{position:i}=this;return t==="leading"?new J0({...Z0,right:100-i+"%"}):t==="trailing"?new J0({...Z0,left:`${i}%`}):null}_getClipRect(t){const{direction:i}=this;return i==="vertical"?this._getVerticalClipRect(t):i==="horizontal"?this._getHorizontalClipRect(t):null}async _clipLayer(t){const{_leadingClips:i,_trailingClips:r}=this,{layer:s,type:n}=t,o=n==="trailing"?r:n==="leading"?i:null,a=await this._getLayerView(s);if(!(a&&"clips"in a&&o&&a.hasOwnProperty("clips")))return;const l=o.get(a);l&&a.clips.remove(l);const c=this._getClipRect(n);c&&(o.set(a,c),a.clips.add(c))}_removeClips(t){const{_leadingClips:i,_trailingClips:r}=this,s=t==="trailing"?r:t==="leading"?i:null;s&&(s.forEach((n,o)=>{o&&o.hasOwnProperty("clips")&&o.clips.remove(n)}),s.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};g([A()],Yr.prototype,"direction",void 0),g([A({type:mt,nonNullable:!0})],Yr.prototype,"leadingLayers",void 0),g([A({readOnly:!0})],Yr.prototype,"max",void 0),g([A({readOnly:!0})],Yr.prototype,"min",void 0),g([A()],Yr.prototype,"position",null),g([A()],Yr.prototype,"precision",void 0),g([A({readOnly:!0})],Yr.prototype,"state",null),g([A()],Yr.prototype,"step",void 0),g([A()],Yr.prototype,"stepMultiplier",void 0),g([A({type:mt,nonNullable:!0})],Yr.prototype,"trailingLayers",void 0),g([A()],Yr.prototype,"view",void 0),Yr=g([ie("esri.widgets.Swipe.SwipeViewModel")],Yr);const zZ=Yr;/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const qZ=aZ(BZ);var HZ=typeof window<"u"&&"$arcgis"in window&&typeof window.$arcgis=="object"&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function WZ(e){return e.default!==void 0}async function YZ(){if(HZ)return await window.$arcgis.import("esri/core/reactiveUtils");const e=await ve(()=>Promise.resolve().then(()=>cB),void 0,import.meta.url);return WZ(e)?e.default:e}var N_;async function JZ(){return N_??(N_=YZ()),await N_}var ZZ=class extends kN{constructor(e,t,i){super(e),this._loadAccessor=t,this._options=i,this._watchedProperties=new Map,this._isBinding={value:!0},this.setProvisionalExports(k_.makeGetterProxy(e,this._watchedProperties,this._isBinding,this.constructor.allowedPropNameMismatches)),RN(e,r=>{r&&(this._instancePropName=r)},this.exports)}hostConnected(){this._isBinding.value=!1}async hostLoad(){this.reactiveUtils=await JZ();const e=this.component,t=this._gatherParameters(),i=this._options?.editConstructorProperties?.call(e,t)??t,r=i instanceof Promise?await i:i,s=e,n=typeof this._instancePropName=="string"?s[this._instancePropName]:void 0;n!=null&&n!==this.exports?(this._instance=n,n.set(r)):this._instance=await this._createInstance(r),!e.manager.destroyed&&(k_.watchComponentUpdates(this,this._instance,this._watchedProperties),k_.watchAccessorUpdates(this,this._instance,this._watchedProperties),this.exports=this._instance)}_gatherParameters(){return Object.fromEntries(Array.from(this._watchedProperties,([i,r])=>[r,this.component[i]]).filter(([,i])=>i!==void 0))}async _createInstance(e){return this._isAccessorConstructor(this._loadAccessor)?new this._loadAccessor(e):await this._loadAccessor(e)}_isAccessorConstructor(e){return"prototype"in e&&"declaredClass"in e.prototype}hostDestroy(){this._instance&&this._instance.destroy()}async reCreate(){this.hostDestroy(),await this.hostLoad()}},k_={makeGetterProxy:(e,t,i,r)=>new Proxy({},{has:(s,n)=>typeof n=="string"||n in s,get:(s,n)=>{const o=Reflect.get(s,n);if(typeof n=="symbol"||n in Promise.prototype)return o;const a=n in s,l=i?.value??!0;if(a||!l)return o;if(!t.has(n))return a3(e,c=>{c!==void 0&&t.set(c.key,n)},o)}}),watchComponentUpdates(e,t,i){function r(a,l){const c=i.get(l),f=t[c];return typeof f=="boolean"&&c!==l&&l.toLowerCase().includes("disable")?!f:f}const s=(a,l,c)=>{const f=i.get(c),d=t[f],p=typeof d=="boolean"&&f!==c&&c.toLowerCase().includes("disable");if((p?!d:n.manager.isLit?d??void 0:d)===a)return a;t[f]=p?!a:a;const v=t[f];return p?!v:v},n=e.component,o=n.manager.internals;i.forEach((a,l)=>{o.accessorGetter[l]=r,o.accessorSetter[l]=s})},watchAccessorUpdates(e,t,i){const{component:r}=e,s=r,n=t,o=KZ(t);qJ(()=>i.forEach((a,l)=>{if(o.has(a))return;const c=s[l];let f=n[a];r.manager.isLit&&(f??(f=void 0));const p=typeof c=="boolean"&&a!==l&&l.toLowerCase().includes("disable")?!c:c;p!=null&&f!==p&&(n[a]=p)})),e.onLifecycle(()=>{if(!t.destroyed)return Array.from(i,([a,l])=>e.reactiveUtils.watch(()=>n[l],()=>{const c=n[l],d=typeof c=="boolean"&&l!==a&&a.toLowerCase().includes("disable")?!c:c;zJ(()=>{s[a]=d})},{initial:!0}))})},reEmitAccessorEvents(e,t,i,r){if(!("on"in t&&typeof t.on=="function"))return;const n=Object.entries(e.component).map(([l,c])=>{const f=c;if(!l.startsWith(r)||l===r||typeof f!="object"||f===null||!("emit"in f)||typeof f.emit!="function")return;const d=f.emit,p=l.slice(r.length);return[i3(p).toLowerCase(),d]}).filter(CN);if(n.length===0)return;const o=t,a=()=>o;e.onLifecycle(()=>{if(!t.destroyed)return n.map(([l,c])=>i.on(a,l,c))})},async reCreate(e,t){const i=t.manager.useRefSync(e);i!==void 0&&await i.reCreate()}};function KZ(e){const i=Object.entries(e.__accessor__?.metadata??{});return new Set(i.filter(([r,s])=>s?.readOnly===!0).map(([r])=>r))}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */function K0(e){e.el.childElem&&(e.el.childElem.ownedBy=e.el);const t=XZ(e);if(!t){const i=rK(e.referenceElement);if(!i){ek(e);return}return WM(i,e,!0),i}return QZ(t,e.el.parent)||(e.el.parent=t,t.tagName.toLowerCase()==="arcgis-expand"?eK(t,e):t.tagName.toLowerCase()==="arcgis-placement"?tK(t,e):WM(t,e,!1)),t}function XZ({el:e}){for(let t=e.parentElement;t;t=t?.parentElement??null){if(HM.has(t.tagName.toLowerCase()))return t;if("ownedBy"in t&&t.ownedBy instanceof HTMLElement&&HM.has(t.ownedBy.tagName.toLowerCase()))return t.ownedBy}}const HM=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function QZ(e,t){if(e!==t)return!1;const i=e.tagName.toLowerCase();return i==="arcgis-expand"||i==="arcgis-placement"}function J1(e,t,i="arcgisReady"){const r=e;if(typeof r.view?.ready=="boolean")t(r.view);else{let s=function(n){n.target===e&&(J1(e,t,i),e.removeEventListener(i,s))};e.addEventListener(i,s)}}const eK=(e,t)=>J1(e,i=>{t.el.childElem&&e.content!=null&&e.content.append(t.el.childElem),e.expandIcon=t.icon||t.widget?.icon||e.expandIcon,t.position=e.position,t.el.view=i}),tK=(e,t)=>J1(e,i=>{t.el.childElem&&t.el.append(t.el.childElem),t.position=e.position,t.el.view=i}),WM=(e,t,i)=>J1(e,r=>{i?ek(t):t.el.childElem&&iK(e,t),t.el.view=r},"arcgisViewReadyChange");function iK(e,t){const i=t.el.childElem??t.el,r=[...e.children],s={};for(const a of r){const l=a.getAttribute("position")??"manual";s[l]??=[],s[l].push({child:a,position:l,index:r.indexOf(a)})}const n=s[t.position??"manual"]?.findIndex(({child:a})=>a===t.el),o=e.view.ui;o.remove(i),o.add(i,{position:t.position,index:n})}function ek(e){e.el.childElem&&(e.el.shadowRoot??e.el).append(e.el.childElem)}function rK(e){return typeof e!="string"?e??void 0:(e.includes("#")||e.includes(".")||e.includes("[")?void 0:document.querySelector(`#${e}`))??document.querySelector(e)??void 0}/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const sK=(e,t)=>(i,r)=>oK(i,e,r);let nK=class extends ZZ{hostConnected(){this.component.manager.loadedCalled&&K0(this.component)}async hostLoad(){await super.hostLoad(),!this.component.manager.destroyed&&this._watchMetaProperties()}hostLoaded(){const{el:t}=this.component,i=t.shadowRoot?.firstElementChild??t.firstElementChild??void 0;t.childElem=i??t.childElem;let r=!1;const s=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:n=>{const o=this.component.el.view,a=n;this._instance.view=a,this._instance.map=a?.map,this._watchViewDestroy(),this.component.requestUpdate("view",o),n&&!r&&(r=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),s&&(this._instance.view=s),this.component.el.isConnected&&(K0(this.component),this._watchViewDestroy())}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.el.view?.ui?.remove(this.component.el.childElem)}hostDestroy(){super.hostDestroy(),this._watchViewDestroyHandle?.remove()}_watchMetaProperties(){of(this.component,"position",t=>{this.component.el.childElem!=null&&typeof t=="string"&&K0(this.component)}),of(this.component,"referenceElement",()=>K0(this.component))}_watchViewDestroy(){this._watchViewDestroyHandle?.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>this.component.el.view?.destroyed===!0,()=>void this.component.destroy().catch(console.error),{sync:!0})}};const oK=DN(nK);/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const YM={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",ui:"esri-component",widget:"esri-widget esri-component",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const JM={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"};/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.32/esri/copyright.txt for details.
v4.32.14 */const aK=hZ`@layer{arcgis-swipe,.arcgis-swipe{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--calcite-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--calcite-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-border-input)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}}`,ko="arcgis-swipe",Bn={base:ko,baseDisabled:`${ko}--disabled`,vertical:`${ko}--vertical`,horizontal:`${ko}--horizontal`,container:`${ko}__container`,divider:`${ko}__divider`,handle:`${ko}__handle`,handleHidden:`${ko}__handle--hidden`,handleIcon:`${ko}__handle-icon`},lK=sK(zZ);let cK=class extends XN{constructor(){super(...arguments),this._container=null,this._swiping=!1,this.messages=qZ({}),this._pointerOffset=0,this.viewModel=lK(this),this._onContainerPointerDown=t=>{t.preventDefault();const{_container:i}=this;i&&document.activeElement!==this.el&&i.focus(),this._swiping=!0,this._calculatePointerOffset(t)},this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.position="manual",this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=lZ()("state"),this.arcgisReady=kZ()}static{this.properties={autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:3,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.shadowRootOptions=$x}static{this.styles=aK}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(t){const{direction:i}=this,r=t.target,s=(i==="vertical"?r.clientHeight:r.clientWidth)/2,n=r.getBoundingClientRect(),o=t.clientX-n.left,a=t.clientY-n.top;this._pointerOffset=i==="vertical"?a-s:o-s}_onContainerPointerUp(t){this._swiping&&(t.preventDefault(),this._swiping=!1)}_onContainerPointerMove(t){if(!this._swiping)return;t.preventDefault();const{_pointerOffset:i,el:r,direction:s}=this,{clientX:n,clientY:o}=t,{top:a,left:l,width:c,height:f}=r.getBoundingClientRect(),d=s==="vertical"?f:c,p=(s==="vertical"?o-a-i:n-l-i)/d*100;this.swipePosition=p}_getKeyPosition(t){const{key:i}=t,{swipePosition:r}=this,{max:s,min:n,step:o,stepMultiplier:a,direction:l}=this.viewModel,c=o*a;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(i)&&(t.preventDefault(),t.stopPropagation()),l==="vertical"?i==="ArrowDown"||i==="ArrowRight":i==="ArrowUp"||i==="ArrowRight"){const f=t.shiftKey?c:o;return r+f}if(l==="vertical"?i==="ArrowUp"||i==="ArrowLeft":i==="ArrowDown"||i==="ArrowLeft"){const f=t.shiftKey?c:o;return r-f}return i==="Home"?n:i==="End"?s:(l==="vertical"?i==="PageDown":i==="PageUp")?r+c:(l==="vertical"?i==="PageUp":i==="PageDown")?r-c:null}_onContainerKeyDown(t){const i=this._getKeyPosition(t);typeof i=="number"&&(this.swipePosition=i)}render(){const{state:t,direction:i}=this.viewModel,r=t==="disabled"||this.disabled,s={[YM.disabled]:r,[Bn.baseDisabled]:r,[Bn.vertical]:i==="vertical",[Bn.horizontal]:i==="horizontal"};return dd`<div class=${Gu($_(Bn.base,YM.widget,s))}>${t==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:t}=this.viewModel,{hideHandle:i}=this,r={[JM.dragHorizontal]:t==="vertical",[JM.dragVertical]:t==="horizontal"},s=$_(Bn.handle,!!i&&Bn.handleHidden);return dd`<div class=${Gu(s)} role=presentation><span aria-hidden=true class=${Gu($_(Bn.handleIcon,r))}></span></div>`}_renderDivider(){return this.hideDivider?null:dd`<div class=${Gu(Bn.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:t,viewModel:i}=this,{max:r,min:s,direction:n,position:o}=i,a=this.label??this.messages.dragLabel??"",l=`${o}%`,c={top:n==="vertical"?l:void 0,left:n==="vertical"?void 0:l},f=this._renderContent();return t?dd`<div class=${Gu(Bn.container)} role=presentation style=${qM(c)}>${f}</div>`:dd`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${a} .ariaOrientation=${n} .ariaValueMax=${`${r}`} .ariaValueMin=${`${s}`} .ariaValueNow=${`${o}`} .ariaValueText=${l} class=${Gu(Bn.container)} @keydown=${this._onContainerKeyDown} role=slider style=${qM(c)} tabindex=0 title=${a??FZ} touch-action=none>${f}</div>`}};jZ("arcgis-swipe",cK);class $t{static async Basemap(t){const i=await ve(()=>import("./Basemap-C3OxGW7w.js").then(r=>r.B),__vite__mapDeps([32,1,33,31,3]),import.meta.url);return Reflect.construct(i.default,[t])}static async Map(t){const i=await ve(()=>import("./Map-J3tYLbTp.js").then(r=>r.M),__vite__mapDeps([55,32,1,33,31,3,56,57,58,59,43,39]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapView(t){const i=await ve(()=>import("./MapView-a8i943Nc.js").then(r=>r.a9),__vite__mapDeps([60,1,56,50,8,3,41,45,46,4,5,61,10,55,32,33,31,57,58,59,43,39,62,42,30,9,63,23,24,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureLayer(t){const i=await ve(()=>import("./FeatureLayer-CWDLTd8X.js").then(r=>r.F),__vite__mapDeps([85,1,35,36,37,38,39,31,40,41,23,24,43,50,8,3,86,87,88,89,5,63,90,91,92,93,94,95,96,97,98,53,99,100,101,48,102,103,104,57,58,59,105,106,107,108,109,110,42,30,111,112,113,14,15,83,29,114,115,116,117,118,119,120,121,122,123]),import.meta.url);return Reflect.construct(i.default,[t])}static async GraphicsLayer(t){const i=await ve(()=>import("./GraphicsLayer-BAFRl99x.js"),__vite__mapDeps([124,62,43,1,39,102,36,103,104,57,58,59,37,38]),import.meta.url);return Reflect.construct(i.default,[t])}static async ImageryLayer(t){const i=await ve(()=>import("./ImageryLayer-ekR-joSa.js").then(r=>r.I),__vite__mapDeps([125,1,35,36,37,38,39,31,40,41,43,126,23,24,127,128,12,129,116,59,117,91,92,93,94,29,30,130,50,8,3,113,98,95,96,97,53,70,71,72,131,104,57,58,132,114,14,15,133,63,87,134,135,136,137,28,27,86,138,48,102,103,105,119,120,121,123]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapImageLayer(t){const i=await ve(()=>import("./MapImageLayer-DtHvU1zH.js"),__vite__mapDeps([139,33,35,36,37,38,39,1,31,40,41,106,43,88,89,5,23,24,63,90,91,92,93,94,95,96,97,98,53,99,100,101,140,83,56,141,71,134,135,70,72,136,137,28,27,86,142,26,87,138,29,30,112,113,14,15,114,115,116,59,117,105,143,48,102,103,104,57,58,119,120,144,145,130,121]),import.meta.url);return Reflect.construct(i.default,[t])}static async OpenStreetMapLayer(t){const i=await ve(()=>import("./OpenStreetMapLayer-DR2Hs4pn.js").then(r=>r.O),__vite__mapDeps([146,35,36,37,38,39,1,31,40,41,43,102,103,104,57,58,59,119,130,45,46]),import.meta.url);return Reflect.construct(i.default,[t])}static async TileLayer(t){const i=await ve(()=>import("./TileLayer-cgAaJhzc.js"),__vite__mapDeps([147,33,35,36,37,38,39,1,31,40,41,43,88,89,5,23,24,63,90,91,92,93,94,95,96,97,98,53,99,100,101,44,45,46,47,14,15,28,140,83,56,141,71,134,135,70,72,136,137,27,86,142,26,87,138,29,30,112,113,114,115,116,59,117,105,143,48,102,103,104,57,58,119,130]),import.meta.url);return Reflect.construct(i.default,[t])}static async WMSLayer(t){const i=await ve(()=>import("./WMSLayer-C3v_G0V5.js").then(r=>r.W),__vite__mapDeps([148,56,35,36,37,38,39,1,31,40,41,106,43,102,103,104,57,58,59,119,120,30,149,130]),import.meta.url);return Reflect.construct(i.default,[t])}static async ArcadeExecutor(t,i){const{createArcadeExecutor:r}=await ve(async()=>{const{createArcadeExecutor:s}=await import("./arcade-BHbn7Z2y.js");return{createArcadeExecutor:s}},__vite__mapDeps([150,21,17,85,1,35,36,37,38,39,31,40,41,23,24,43,50,8,3,86,87,88,89,5,63,90,91,92,93,94,95,96,97,98,53,99,100,101,48,102,103,104,57,58,59,105,106,107,108,109,110,42,30,111,112,113,14,15,83,29,114,115,116,117,118,119,120,121,122,123]),import.meta.url);return await r(t,i)}static async ColorBackground(t){const i=await ve(()=>import("./ColorBackground-CM_3PwB5.js"),__vite__mapDeps([84,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureFilter(t){const i=await ve(()=>import("./FeatureFilter-hhIga31u.js"),__vite__mapDeps([110,63,23,24,39,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FieldFromJson(t){return(await ve(()=>import("./Field-LsRjlaGK.js").then(r=>r.F),__vite__mapDeps([23,24]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await ve(()=>import("./Query-Ckfmrrtp.js").then(i=>i.Q),__vite__mapDeps([63,23,24,39]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,i,r){const{executeForIds:s}=await ve(async()=>{const{executeForIds:n}=await import("./query-C6BvEBVx.js");return{executeForIds:n}},__vite__mapDeps([151,152,63,23,24,39,138,71,135,70,72,136,137,28,27,86,41,1,87,153,99,154,155,156,157,158,159,100,30,134,142,26,160,161,162,163,164,165,166]),import.meta.url);return s(t,i,r)}static async RendererFromJson(t){const{fromJSON:i}=await ve(async()=>{const{fromJSON:r}=await import("./jsonUtils-Bb0on44Q.js");return{fromJSON:r}},__vite__mapDeps([111,112,113,91,92,93,94,38,98,1,14,15,83,29,30,114,96,97,115,116,59,117,90,95,53]),import.meta.url);return i(t)}}class Be{wkid;latestWkid;wkt;constructor(t,i){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=i)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Be("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Be(4326)}static fromConfig(t){if(t.wkt)return new Be(t.wkt);if(t.wkid)return new Be(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Be?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Be(parseInt(t.substring(5).trim())):new Be(t):Be.latLongSR()}static fromESRI(t){if(t.wkt)return new Be(t.wkt);{const i=t.toJSON().latestWkid,r=new Be(t.wkid);return i&&(r.latestWkid=i),r}}toESRI(){return new Yi(this.lean())}static fromGeoJSON(t){const i=Be.parseGeoJsonCrs(t);return i.substring(0,5)==="EPSG:"?new Be(parseInt(i.slice(5))):new Be(i)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=t.properties.name,s=r.match(i);if(s)return"EPSG:"+s[1];if(r.substring(0,7)!=="urn:ogc")return r}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class Eu{sr;id;constructor(t,i){this.id=t?t.toString():"",this.sr=Be.parseSR(i)}get type(){return Ze.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ze.NONE||this.type===Ze.UNKNOWN}geoJsonFactory(t,i){const r={type:t,coordinates:i};return this.sr&&(r.crs=this.sr.toGeoJSON()),r}}class Pl extends Eu{constructor(){super("no_geometry")}get type(){return Ze.NONE}}let jr=class Kd extends Eu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=i.slice():this.rawArray=Kd.parseXY(i)}get type(){return Ze.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let i;if(Array.isArray(t)&&t.length===2)i=t;else{if(t instanceof Kd)return t.toArray();i=[t.x,t.y]}if(isNaN(i[0])||isNaN(i[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(i[0]),parseFloat(i[1])]}static fromESRI(t,i){return new Kd(i,[t.x,t.y],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Pi({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Kd(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.POINT,this.toArray())}};class ns extends Eu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=ns.arrayDeepCopy(i):i instanceof ns?this.rawArray=i.toArray():this.rawArray=ns.parsePointSet(i)}get pointArray(){return this.rawArray.map((t,i)=>new jr(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new jr(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=jr.parseXY(t)}get length(){return this.rawArray.length}toArray(){return ns.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(i=>jr.parseXY(i))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(i=>i.slice())}}class Dh extends ns{constructor(t,i,r,s){super(t,i,r,s)}get type(){return Ze.MULTIPOINT}static fromESRI(t,i){return new Dh(i,t.points,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new P1({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Dh(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.MULTIPOINT,this.toArray())}}class ml extends ns{constructor(t,i,r,s){if(super(t,i,r,s),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ze.LINESTRING}static fromESRI(t,i){return new ml(i,t.paths[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Hm({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new ml(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.LINESTRING,this.toArray())}}class dn extends Eu{rawArray;constructor(t,i,r,s){if(super(t,i.sr||r),s)this.rawArray=dn.arrayDeepCopy(i);else if(i instanceof dn)this.rawArray=i.toArray();else if(i instanceof ns)this.rawArray=[i.toArray()];else if(Array.isArray(i)){if(i.length===0)throw new Error("no lines provided");this.rawArray=i.map(n=>ns.parsePointSet(n))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,i)=>new ml(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new ml(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=ns.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ze.MULTILINESTRING}toArray(){return dn.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new dn(i,t.paths,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Hm({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new dn(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.MULTILINESTRING,this.toArray())}}class Fc extends ns{constructor(t,i,r,s){if(super(t,i,r,s),Fc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ze.LINEARRING}updateAt(t,i){const r=this.length-1;i===0?super.updateAt(t,r):i===r&&super.updateAt(t,0),super.updateAt(t,i)}static closeRing(t){const i=t[0],r=t[t.length-1];(i[0]!==r[0]||i[1]!==r[1])&&t.push(i.slice())}static fromESRI(t,i){return new Fc(i,t.rings[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new tu({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Fc(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.POLYGON,[this.toArray()])}}class _r extends Eu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=_r.arrayDeepCopy(i):this.rawArray=_r.parsePolygon(i)}addLinearRings(t){t.forEach(i=>this.rawArray.push(i.toArray()))}get ringArray(){return this.rawArray.map((t,i)=>new Fc(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.POLYGON}toArray(){return _r.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let i=[];if(t instanceof _r)return t.toArray();if(t instanceof dn)i=t.toArray();else if(t instanceof ns)i=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");i=t.map(r=>ns.parsePointSet(r))}else throw new Error("invalid input format for parsePolygon");return i.forEach(r=>Fc.closeRing(r)),i}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new _r(i,t.rings,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new tu({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new _r(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.POLYGON,this.toArray())}}class ea extends Eu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=ea.arrayDeepCopy(i):this.rawArray=ea.parseMultiPolygon(i)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,i)=>new _r(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.MULTIPOLYGON}toArray(){return ea.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof ea)return t.toArray();if(t instanceof _r)return[t.toArray()];if(t instanceof dn||t instanceof ns)return[_r.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(i=>_r.parsePolygon(i))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.map(s=>s.slice())))}static fromESRI(t,i){return new ea(i,[t.rings],Be.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(i=>{i.forEach(r=>t.push(r))}),new tu({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new ea(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ui.MULTIPOLYGON,this.toArray())}}class ei extends Eu{rawMin;rawMax;constructor(t,i,r,s){super(t,i.sr||s),this.rawMin=jr.parseXY(i),this.rawMax=jr.parseXY(r)}get type(){return Ze.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new jr(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return ei.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new ei(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new _r(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,i,r,s,n,o){return new ei(t,[i,r],[s,n],o)}static fromConfig(t,i){return new ei(t,[i.xmin,i.ymin],[i.xmax,i.ymax],Be.fromConfig(i.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,i){return ei.fromParams(i,t.xmin,t.ymin,t.xmax,t.ymax,Be.fromESRI(t.spatialReference))}toESRI(){return new Js({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,i){return ei.fromESRI(Js.fromJSON(t),i)}static fromGeoJSON(t,i){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const r=t.coordinates[0].slice(),s=r.slice();return[1,2,3].forEach(n=>{[0,1].forEach(o=>{const a=t.coordinates[n];r[o]>a[o]&&(r[o]=a[o]),s[o]<a[o]&&(s[o]=a[o])})}),new ei(i,r,s,Be.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(ui.POLYGON,this.toPolygonArray())}}class fa{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const i=t.length;if(i<3||i>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((r,s)=>s===3?r:parseInt(r)),i===3&&this.c.push(1)}else if(typeof t=="string"){const i=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(r=>{const s=i.substring(r,r+2);return fa.hexToInt(s)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((i,r)=>{i<0&&(console.error("Negative value passed to colour"),this.c[r]=0),i>255&&(console.error("Rotund value passed to colour"),this.c[r]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(i=>fa.intToHex(i)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new dt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const i=t.toString(16);return i.length===1?`0${i}`:i}}class ta{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let i;const r=t.length;if(r===0)return;const s=t.substring(r-2);return s==="px"?i=parseFloat(t.substring(0,r-2))*1.333333:s==="pt"?i=parseFloat(t.substring(0,r-2)):i=parseFloat(t),i}else return t}}class hl extends ta{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:jo.CIRCLE},super(),this._style=t.style||jo.CIRCLE,t.style===jo.ICON){const i=t;this._icon=i.icon||"",this._height=ta.convToPoints(i.height)||16.5,this._width=ta.convToPoints(i.width)||16.5,this._size=0,this._colour=new fa,this._outline=new fo,this._path=""}else{const i=t;this._size=ta.convToPoints(i.size)||12,this._colour=new fa(i.colour??"#ffffff40"),this._outline=new fo(i.outline),this._path=this._style===jo.PATH&&i.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=ta.convToPoints(t.xOffset)||0,this._yOffset=ta.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===jo.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===jo.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===jo.ICON?hl.isImageUrl(this.icon)?(t=new Yf,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new So,t.color=new dt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new So,t.color=new dt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const i={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const r=i;r.style=t.style,r.colour=t.color.toRgba(),r.size=t.size,r.path=t.path,r.outline=fo.fromESRI(t.outline).toOptions()}else{const r=i;r.style=jo.ICON,r.width=t.width,r.height=t.height,r.icon=t.url}return new hl(i)}static fromArcServer(t){return hl.fromESRI(t3(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class fo extends ta{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||Zr.SOLID;const i=ta.convToPoints(t.width);this._width=typeof i>"u"||i<0?.75:i,this._colour=new fa(t.colour),this._miter=t.miter??2,this._cap=t.cap||dI.ROUND,this._join=t.join||fI.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new kn;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const i={width:t.width,colour:t.color.toRgba(),style:t.style};return new fo(i)}static fromArcServer(t){return fo.fromESRI(t3(t))}}class lm extends ta{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new fa(t.fill.colour),this._fillStyle=t.fill.style||pI.SOLID,this._outlineStyle=new fo(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),i=new dt(this.fillColour.rgba),r=new Su;return r.style=this.fillStyleType,r.color=i,r.outline=t,r}static fromESRI(t){const i={fill:{colour:t.color.toRgba(),style:t.style},outline:fo.fromESRI(t.outline).toOptions()};return new lm(i)}static fromArcServer(t){return lm.fromESRI(t3(t))}}class uK{Extent=ei;Graphic=Tn;LineString=ml;LineStyle=fo;LinearRing=Fc;MultiLineString=dn;MultiPoint=Dh;MultiPolygon=ea;Point=jr;PointStyle=hl;Polygon=_r;PolygonStyle=lm;SpatialReference=Be;esriMapClickToRamp(t,i){return{mapPoint:jr.fromESRI(t.mapPoint,i),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,i){switch(t.type){case"point":return jr.fromESRI(t,i);case"polyline":{const r=t;return r.paths.length===1?ml.fromESRI(r,i):dn.fromESRI(r,i)}case"polygon":return _r.fromESRI(t,i);case"extent":return ei.fromESRI(t,i);case"multipoint":return Dh.fromESRI(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,i){switch(t.type){case ui.POINT:return jr.fromGeoJSON(t,i);case ui.LINESTRING:return ml.fromGeoJSON(t,i);case ui.POLYGON:return _r.fromGeoJSON(t,i);case ui.MULTIPOINT:return Dh.fromGeoJSON(t,i);case ui.MULTILINESTRING:return dn.fromGeoJSON(t,i);case ui.MULTIPOLYGON:return ea.fromGeoJSON(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const i={},r={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:i};return Object.keys(t.attributes).forEach(s=>r.properties[s]=t.attributes[s]),r}graphicGeoJsonToRamp(t,i){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const r=this.geomGeoJsonToRamp(t.geometry,i),s={};return Object.keys(t.properties.forEach(o=>s[o]=t.properties[o])),new Tn(r,"",s)}graphicRampToEsri(t){const i={attributes:{},id:t.id};return i.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(r=>i.attributes[r]=t.attributes[r]),t.style&&(i.symbol=this.styleRampToEsri(t.style)),new JY(i)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return hl.fromESRI(t);case"simple-line":return fo.fromESRI(t);case"simple-fill":return lm.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new hl}}serverGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"esriGeometryPolygon":return Ze.POLYGON;case"esriGeometryPolyline":return Ze.LINESTRING;case"esriGeometryPoint":return Ze.POINT;case"esriGeometryMultipoint":return Ze.MULTIPOINT;case"esriGeometryEnvelope":return Ze.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ze.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"polygon":return Ze.POLYGON;case"polyline":return Ze.LINESTRING;case"point":return Ze.POINT;case"multipoint":return Ze.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ze.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case ui.POINT:return"point";case ui.LINESTRING:case ui.MULTILINESTRING:return"polyline";case ui.POLYGON:case ui.MULTIPOLYGON:return"polygon";case ui.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return hl.isImageUrl(t)}}class uv{layerIdx;name;children;uid;isRoot;constructor(t,i,r="",s=!0){this.layerIdx=t,this.name=r,this.isRoot=s,this.children=[],this.uid=i}findChildByUid(t){if(this.uid===t)return this;{let i;return this.children.some(r=>i=r.findChildByUid(t)),i}}findChildByIdx(t){if(this.layerIdx===t)return this;{let i;return this.children.some(r=>i=r.findChildByIdx(t)),i}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class tk{minScale;maxScale;constructor(t=0,i=0){this.minScale=t,this.maxScale=i}isOffScale(t){const i={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(i.offScale=!0,i.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(i.offScale=!0,i.zoomIn=!0),i}}class ik{sql;cache;extent;constructor(t="",i=""){this.sql={[Dr.PERMANENT]:t,[Dr.INITIAL]:i},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const i=this.sql,r=Object.keys(i).filter(s=>i[s]);return t.length===0?r:r.filter(s=>t.indexOf(s)===-1)}isActive(){return this.sqlActiveFilters([Dr.PERMANENT]).length>0}getCombinedSql(t=[]){const i=this.sqlActiveFilters(t),r=i.length;return r===0?"":r===1?this.sql[i[0]]:i.map(s=>`(${this.sql[s]})`).join(" AND ")}setSql(t,i){t===Dr.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=i,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Dr.EXTENT))}getCacheKey(t,i){return`_cache$${t.sort().join("$")}${i?"$"+Dr.EXTENT:""}$`}getCache(t,i){const r=this.getCacheKey(t,i);return this.cache[r]}setCache(t,i,r){const s=this.getCacheKey(i,r);this.cache[s]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(i=>t[i])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(i=>{i.indexOf(`$${t}$`)>-1&&delete this.cache[i]})}clearAll(){this.sql={[Dr.PERMANENT]:this.sql[Dr.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class cm{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,i,r=void 0,s=void 0){this.id=t,this.sr=i.sr.clone(),this._defaultExtent=i.clone(),this._fullExtent=r?.clone(),this._maximumExtent=s?.clone(),r&&!r.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${r.sr}`),s&&!s.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${s.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new cm(t.id,ei.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?ei.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?ei.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new cm(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Ei{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,i)=>{this.resolveMe=r=>{t(r)},this.rejectMe=i})}}var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hK(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),i}var R_,ZM;function fK(){if(ZM)return R_;ZM=1;var e=function(T){return t(T)&&!i(T)};function t(S){return!!S&&typeof S=="object"}function i(S){var T=Object.prototype.toString.call(S);return T==="[object RegExp]"||T==="[object Date]"||n(S)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function n(S){return S.$$typeof===s}function o(S){return Array.isArray(S)?[]:{}}function a(S,T){return T.clone!==!1&&T.isMergeableObject(S)?b(o(S),S,T):S}function l(S,T,w){return S.concat(T).map(function(_){return a(_,w)})}function c(S,T){if(!T.customMerge)return b;var w=T.customMerge(S);return typeof w=="function"?w:b}function f(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(T){return Object.propertyIsEnumerable.call(S,T)}):[]}function d(S){return Object.keys(S).concat(f(S))}function p(S,T){try{return T in S}catch{return!1}}function y(S,T){return p(S,T)&&!(Object.hasOwnProperty.call(S,T)&&Object.propertyIsEnumerable.call(S,T))}function v(S,T,w){var _={};return w.isMergeableObject(S)&&d(S).forEach(function(M){_[M]=a(S[M],w)}),d(T).forEach(function(M){y(S,M)||(p(S,M)&&w.isMergeableObject(T[M])?_[M]=c(M,w)(S[M],T[M],w):_[M]=a(T[M],w))}),_}function b(S,T,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(T),M=Array.isArray(S),$=_===M;return $?_?w.arrayMerge(S,T,w):v(S,T,w):a(T,w)}b.all=function(T,w){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(_,M){return b(_,M,w)},{})};var E=b;return R_=E,R_}var dK=fK();const rk=Z1(dK);class pK{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i==="x"?r:r&3|8).toString(16)})}convertImageToCanvas(t,i,r=!0){const s=i??document.createElement("canvas"),n=document.createElement("img");r&&(n.crossOrigin="anonymous");const o=new Promise((a,l)=>{n.addEventListener("load",()=>{s.width=n.width,s.height=n.height,s.getContext("2d")?.drawImage(n,0,0),a(s)}),n.addEventListener("error",c=>l(c))});return n.src=t,o}async convertImagetoDataURL(t,i="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(r=>r.toDataURL(i)).catch(r=>(console.error("Failed to load crossorigin image",t,r),t))}parseUrlIndex(t){const i={rootUrl:t,index:0},r=/\/(\d+)\/?$/,s=t.match(r);if(s){const n=s[1];i.index=isNaN(parseInt(n))?void 0:parseInt(n),i.rootUrl=t.substr(0,t.length-s[0].length)}else console.warn("Cannot extract layer index from url "+t);return i}controlAvailable(t,i){return i?.disabledControls?.includes(t)?!1:i?.controls?i?.controls?.includes(t):!0}}class hv{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((i,r)=>{const[s,n]=r.split("=");return i[s]=n,i},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const i=rk.all([{},this.queryMap,t]);return`${this.base}${Object.entries(i).filter(([,s])=>s!==void 0).map(([s,n],o)=>`${o===0?"?":""}${s}=${n}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var mp=6378137,mK=57.29577951308232,yK=.017453292519943,gK={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},D_=function(t){return t*mK},F_=function(t){return t*yK},vK=function(t){var i=t[0],r=t[1];return[D_(i/mp)-Math.floor((D_(i/mp)+180)/360)*360,D_(Math.PI/2-2*Math.atan(Math.exp(-1*r/mp)))]},bK=function(t){var i=t[0],r=Math.max(Math.min(t[1],89.99999),-89.99999);return[F_(i)*mp,mp/2*Math.log((1+Math.sin(F_(r)))/(1-Math.sin(F_(r))))]};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}var _K=function e(t,i){for(var r=0;r<t.length;r++)typeof t[r][0]=="number"&&(t[r]=i(t[r])),Px(t[r])==="object"&&(t[r]=e(t[r],i));return t},wK=function e(t,i,r){if(t.type==="Point")t.coordinates=i(t.coordinates);else if(t.type==="Feature")t.geometry=e(t.geometry,i,!0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length;s++)t.features[s]=e(t.features[s],i,!0);else if(t.type==="GeometryCollection")for(var n=0;n<t.geometries.length;n++)t.geometries[n]=e(t.geometries[n],i,!0);else t.coordinates=_K(t.coordinates,i);return r||i===bK&&(t.crs=gK),i===vK&&delete t.crs,t};function xK(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var ou=1,au=2,Fh=3,SK=4,Lx=5,KM=6378137,EK=6356752314e-3,XM=.0066943799901413165,yp=484813681109536e-20,he=Math.PI/2,AK=.16666666666666666,TK=.04722222222222222,MK=.022156084656084655,_e=1e-10,or=.017453292519943295,ao=57.29577951308232,xt=Math.PI/4,um=Math.PI*2,_i=3.14159265359,ds={};ds.greenwich=0;ds.lisbon=-9.131906111111;ds.paris=2.337229166667;ds.bogota=-74.080916666667;ds.madrid=-3.687938888889;ds.rome=12.452333333333;ds.bern=7.439583333333;ds.jakarta=106.807719444444;ds.ferro=-17.666666666667;ds.brussels=4.367975;ds.stockholm=18.058277777778;ds.athens=23.7163375;ds.oslo=10.722916666667;const $K={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var QM=/[\s_\-\/\(\)]/g;function El(e,t){if(e[t])return e[t];for(var i=Object.keys(e),r=t.toLowerCase().replace(QM,""),s=-1,n,o;++s<i.length;)if(n=i[s],o=n.toLowerCase().replace(QM,""),o===r)return e[n]}function Nx(e){var t={},i=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,s,n,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*or},lat_1:function(a){t.lat1=a*or},lat_2:function(a){t.lat2=a*or},lat_ts:function(a){t.lat_ts=a*or},lon_0:function(a){t.long0=a*or},lon_1:function(a){t.long1=a*or},lon_2:function(a){t.long2=a*or},alpha:function(a){t.alpha=parseFloat(a)*or},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*or},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=El($K,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*or},pm:function(a){var l=El(ds,a);t.from_greenwich=(l||parseFloat(a))*or},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(r in i)s=i[r],r in o?(n=o[r],typeof n=="function"?n(s):t[n]=s):t[r]=s;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var hm=1,sk=2,nk=3,fv=4,ok=5,f3=-1,OK=/\s/,CK=/[A-Za-z]/,IK=/[A-Za-z84_]/,K1=/[,\]]/,ak=/[\d\.E\-\+]/;function ya(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=hm}ya.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==fv)for(;OK.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case hm:return this.neutral(e);case sk:return this.keyword(e);case fv:return this.quoted(e);case ok:return this.afterquote(e);case nk:return this.number(e);case f3:return}};ya.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=fv;return}if(K1.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};ya.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=hm;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=hm,this.currentObject=this.stack.pop(),this.currentObject||(this.state=f3);return}};ya.prototype.number=function(e){if(ak.test(e)){this.word+=e;return}if(K1.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};ya.prototype.quoted=function(e){if(e==='"'){this.state=ok;return}this.word+=e};ya.prototype.keyword=function(e){if(IK.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=hm;return}if(K1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};ya.prototype.neutral=function(e){if(CK.test(e)){this.word=e,this.state=sk;return}if(e==='"'){this.word="",this.state=fv;return}if(ak.test(e)){this.word=e,this.state=nk;return}if(K1.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};ya.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===f3)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function PK(e){var t=new ya(e);return t.output()}function e$(e,t,i){Array.isArray(t)&&(i.unshift(t),t=null);var r=t?{}:e,s=i.reduce(function(n,o){return vh(o,n),n},r);t&&(e[t]=s)}function vh(e,t){if(!Array.isArray(e)){t[e]=!0;return}var i=e.shift();if(i==="PARAMETER"&&(i=e.shift()),e.length===1){if(Array.isArray(e[0])){t[i]={},vh(e[0],t[i]);return}t[i]=e[0];return}if(!e.length){t[i]=!0;return}if(i==="TOWGS84"){t[i]=e;return}if(i==="AXIS"){i in t||(t[i]=[]),t[i].push(e);return}Array.isArray(i)||(t[i]={});var r;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[i]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&vh(e[2],t[i]);return;case"SPHEROID":case"ELLIPSOID":t[i]={name:e[0],a:e[1],rf:e[2]},e.length===4&&vh(e[3],t[i]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],e$(t,i,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return vh(e,t[i]);return e$(t,i,e)}}var LK=.017453292519943295;function NK(e,t){var i=t[0],r=t[1];!(i in e)&&r in e&&(e[i]=e[r],t.length===3&&(e[i]=t[2](e[i])))}function Vn(e){return e*LK}function kK(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",i=0,r=e.AXIS.length;i<r;++i){var s=[e.AXIS[i][0].toLowerCase(),e.AXIS[i][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?t+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?t+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?t+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var n=e.GEOGCS;e.type==="GEOGCS"&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(e.datum_params=n.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var f=e.to_meter||1;return c*f}var a=function(c){return NK(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Vn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Vn],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Vn],["lat0","latitude_of_origin",Vn],["lat0","standard_parallel_1",Vn],["lat1","standard_parallel_1",Vn],["lat2","standard_parallel_2",Vn],["azimuth","Azimuth"],["alpha","azimuth",Vn],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Vn(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Vn(e.lat0>0?90:-90))}function lk(e){var t=PK(e),i=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",i]);var s={};return vh(t,s),kK(s),s}function kr(e){var t=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?kr[e]=Nx(arguments[1]):kr[e]=lk(arguments[1]):kr[e]=i}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?kr.apply(t,r):kr(r)});if(typeof e=="string"){if(e in kr)return kr[e]}else"EPSG"in e?kr["EPSG:"+e.EPSG]=e:"ESRI"in e?kr["ESRI:"+e.ESRI]=e:"IAU2000"in e?kr["IAU2000:"+e.IAU2000]=e:console.log(e);return}}xK(kr);function RK(e){return typeof e=="string"}function DK(e){return e in kr}var FK=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function UK(e){return FK.some(function(t){return e.indexOf(t)>-1})}var jK=["3857","900913","3785","102113"];function BK(e){var t=El(e,"authority");if(t){var i=El(t,"epsg");return i&&jK.indexOf(i)>-1}}function VK(e){var t=El(e,"extension");if(t)return El(t,"proj4")}function GK(e){return e[0]==="+"}function zK(e){if(RK(e)){if(DK(e))return kr[e];if(UK(e)){var t=lk(e);if(BK(t))return kr["EPSG:3857"];var i=VK(t);return i?Nx(i):t}if(GK(e))return Nx(e)}else return e}function t$(e,t){e=e||{};var i,r;if(!t)return e;for(r in t)i=t[r],i!==void 0&&(e[r]=i);return e}function Eo(e,t,i){var r=e*t;return i/Math.sqrt(1-r*r)}function n0(e){return e<0?-1:1}function Se(e){return Math.abs(e)<=_i?e:e-n0(e)*um}function Sn(e,t,i){var r=e*i,s=.5*e;return r=Math.pow((1-r)/(1+r),s),Math.tan(.5*(he-t))/r}function fm(e,t){for(var i=.5*e,r,s,n=he-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(n),s=he-2*Math.atan(t*Math.pow((1-r)/(1+r),i))-n,n+=s,Math.abs(s)<=1e-10)return n;return-9999}function qK(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Eo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function HK(e){var t=e.x,i=e.y;if(i*ao>90&&i*ao<-90&&t*ao>180&&t*ao<-180)return null;var r,s;if(Math.abs(Math.abs(i)-he)<=_e)return null;if(this.sphere)r=this.x0+this.a*this.k0*Se(t-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(xt+.5*i));else{var n=Math.sin(i),o=Sn(this.e,i,n);r=this.x0+this.a*this.k0*Se(t-this.long0),s=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=s,e}function WK(e){var t=e.x-this.x0,i=e.y-this.y0,r,s;if(this.sphere)s=he-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var n=Math.exp(-i/(this.a*this.k0));if(s=fm(this.e,n),s===-9999)return null}return r=Se(this.long0+t/(this.a*this.k0)),e.x=r,e.y=s,e}var YK=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const JK={init:qK,forward:HK,inverse:WK,names:YK};function ZK(){}function i$(e){return e}var KK=["longlat","identity"];const XK={init:ZK,forward:i$,inverse:i$,names:KK};var QK=[JK,XK],dg={},dv=[];function ck(e,t){var i=dv.length;return e.names?(dv[i]=e,e.names.forEach(function(r){dg[r.toLowerCase()]=i}),this):(console.log(t),!0)}function eX(e){if(!e)return!1;var t=e.toLowerCase();if(typeof dg[t]<"u"&&dv[dg[t]])return dv[dg[t]]}function tX(){QK.forEach(ck)}const iX={start:tX,add:ck,get:eX};var He={};He.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};He.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};He.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};He.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};He.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};He.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};He.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};He.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};He.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};He.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};He.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};He.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};He.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};He.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};He.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};He.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};He.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};He.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};He.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};He.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};He.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};He.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};He.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};He.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};He.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};He.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};He.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};He.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};He.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};He.hough={a:6378270,rf:297,ellipseName:"Hough"};He.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};He.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};He.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};He.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};He.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};He.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};He.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};He.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};He.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};He.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};He.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};He.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var rX=He.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};He.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function sX(e,t,i,r){var s=e*e,n=t*t,o=(s-n)/s,a=0;r?(e*=1-o*(AK+o*(TK+o*MK)),s=e*e,o=0):a=Math.sqrt(o);var l=(s-n)/n;return{es:o,e:a,ep2:l}}function nX(e,t,i,r,s){if(!e){var n=El(He,r);n||(n=rX),e=n.a,t=n.b,i=n.rf}return i&&!t&&(t=(1-1/i)*e),(i===0||Math.abs(e-t)<_e)&&(s=!0,t=e),{a:e,b:t,rf:i,sphere:s}}var Ki={};Ki.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Ki.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Ki.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Ki.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Ki.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Ki.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Ki.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Ki.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Ki.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Ki.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Ki.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Ki.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Ki.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Ki.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Ki.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Ki.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Ki.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Ki.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function oX(e,t,i,r,s,n,o){var a={};return e===void 0||e==="none"?a.datum_type=Lx:a.datum_type=SK,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=ou),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=au,a.datum_params[3]*=yp,a.datum_params[4]*=yp,a.datum_params[5]*=yp,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=Fh,a.grids=o),a.a=i,a.b=r,a.es=s,a.ep2=n,a}var uk={};function aX(e,t){var i=new DataView(t),r=uX(i),s=hX(i,r),n=fX(i,s,r),o={header:s,subgrids:n};return uk[e]=o,o}function lX(e){if(e===void 0)return null;var t=e.split(",");return t.map(cX)}function cX(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:uk[e]||null,isNull:!1}}function bh(e){return e/3600*Math.PI/180}function uX(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function hX(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:kx(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function kx(e,t,i){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,i)))}function fX(e,t,i){for(var r=176,s=[],n=0;n<t.nSubgrids;n++){var o=pX(e,r,i),a=mX(e,r,o,i),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[bh(o.lowerLongitude),bh(o.lowerLatitude)],del:[bh(o.longitudeInterval),bh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:dX(a)}),r+=176+o.gridNodeCount*16}return s}function dX(e){return e.map(function(t){return[bh(t.longitudeShift),bh(t.latitudeShift)]})}function pX(e,t,i){return{name:kx(e,t+8,t+16).trim(),parent:kx(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,i),upperLatitude:e.getFloat64(t+88,i),lowerLongitude:e.getFloat64(t+104,i),upperLongitude:e.getFloat64(t+120,i),latitudeInterval:e.getFloat64(t+136,i),longitudeInterval:e.getFloat64(t+152,i),gridNodeCount:e.getInt32(t+168,i)}}function mX(e,t,i,r){for(var s=t+176,n=16,o=[],a=0;a<i.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(s+a*n,r),longitudeShift:e.getFloat32(s+a*n+4,r),latitudeAccuracy:e.getFloat32(s+a*n+8,r),longitudeAccuracy:e.getFloat32(s+a*n+12,r)};o.push(l)}return o}function po(e,t){if(!(this instanceof po))return new po(e);t=t||function(c){if(c)throw c};var i=zK(e);if(typeof i!="object"){t("Could not parse to valid json: "+e);return}var r=po.projections.get(i.projName);if(!r){t("Could not get projection name from: "+e);return}if(i.datumCode&&i.datumCode!=="none"){var s=El(Ki,i.datumCode);s&&(i.datum_params=i.datum_params||(s.towgs84?s.towgs84.split(","):null),i.ellps=s.ellipse,i.datumName=s.datumName?s.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var n=nX(i.a,i.b,i.rf,i.ellps,i.sphere),o=sX(n.a,n.b,n.rf,i.R_A),a=lX(i.nadgrids),l=i.datum||oX(i.datumCode,i.datum_params,n.a,n.b,o.es,o.ep2,a);t$(this,i),t$(this,r),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}po.projections=iX;po.projections.start();function yX(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===ou?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===au?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function hk(e,t,i){var r=e.x,s=e.y,n=e.z?e.z:0,o,a,l,c;if(s<-he&&s>-1.001*he)s=-he;else if(s>he&&s<1.001*he)s=he;else{if(s<-he)return{x:-1/0,y:-1/0,z:e.z};if(s>he)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(s),c=Math.cos(s),l=a*a,o=i/Math.sqrt(1-t*l),{x:(o+n)*c*Math.cos(r),y:(o+n)*c*Math.sin(r),z:(o*(1-t)+n)*a}}function fk(e,t,i,r){var s=1e-12,n=s*s,o=30,a,l,c,f,d,p,y,v,b,E,S,T,w,_=e.x,M=e.y,$=e.z?e.z:0,I,L,P;if(a=Math.sqrt(_*_+M*M),l=Math.sqrt(_*_+M*M+$*$),a/i<s){if(I=0,l/i<s)return L=he,P=-r,{x:e.x,y:e.y,z:e.z}}else I=Math.atan2(M,_);c=$/l,f=a/l,d=1/Math.sqrt(1-t*(2-t)*f*f),v=f*(1-t)*d,b=c*d,w=0;do w++,y=i/Math.sqrt(1-t*b*b),P=a*v+$*b-y*(1-t*b*b),p=t*y/(y+P),d=1/Math.sqrt(1-p*(2-p)*f*f),E=f*(1-p)*d,S=c*d,T=S*v-E*b,v=E,b=S;while(T*T>n&&w<o);return L=Math.atan(S/Math.abs(E)),{x:I,y:L,z:P}}function gX(e,t,i){if(t===ou)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(t===au){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-o*e.z)+s,z:c*(-a*e.x+o*e.y+e.z)+n}}}function vX(e,t,i){if(t===ou)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(t===au){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6],f=(e.x-r)/c,d=(e.y-s)/c,p=(e.z-n)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function Q0(e){return e===ou||e===au}function bX(e,t,i){if(yX(e,t)||e.datum_type===Lx||t.datum_type===Lx)return i;var r=e.a,s=e.es;if(e.datum_type===Fh){var n=r$(e,!1,i);if(n!==0)return;r=KM,s=XM}var o=t.a,a=t.b,l=t.es;if(t.datum_type===Fh&&(o=KM,a=EK,l=XM),s===l&&r===o&&!Q0(e.datum_type)&&!Q0(t.datum_type))return i;if(i=hk(i,s,r),Q0(e.datum_type)&&(i=gX(i,e.datum_type,e.datum_params)),Q0(t.datum_type)&&(i=vX(i,t.datum_type,t.datum_params)),i=fk(i,l,o,a),t.datum_type===Fh){var c=r$(t,!0,i);if(c!==0)return}return i}function r$(e,t,i){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-i.x,y:i.y},s={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(n.push(a.name),a.isNull){s=r;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,E=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>r.y||y>r.x||E<r.y||b<r.x)&&(s=_X(r,t,d),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*ao+" "+r.y*ao+" tried: '"+n+"'"),-1):(i.x=-s.x,i.y=s.y,0)}function _X(e,t,i){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var s={x:e.x,y:e.y};s.x-=i.ll[0],s.y-=i.ll[1],s.x=Se(s.x-Math.PI)+Math.PI;var n=s$(s,i);if(t){if(isNaN(n.x))return r;n.x=s.x-n.x,n.y=s.y-n.y;var o=9,a=1e-12,l,c;do{if(c=s$(n,i),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+n.x),y:s.y-(c.y+n.y)},n.x+=l.x,n.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=Se(n.x+i.ll[0]),r.y=n.y+i.ll[1]}else isNaN(n.x)||(r.x=e.x+n.x,r.y=e.y+n.y);return r}function s$(e,t){var i={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},s={x:i.x-1*r.x,y:i.y-1*r.y},n={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return n;o=r.y*t.lim[0]+r.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var f={x:t.cvs[o][0],y:t.cvs[o][1]},d=s.x*s.y,p=s.x*(1-s.y),y=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return n.x=y*a.x+p*l.x+v*f.x+d*c.x,n.y=y*a.y+p*l.y+v*f.y+d*c.y,n}function n$(e,t,i){var r=i.x,s=i.y,n=i.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&i.z===void 0))switch(l===0?(o=r,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=s,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=n,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":i[a]!==void 0&&(c.z=o);break;case"d":i[a]!==void 0&&(c.z=-o);break;default:return null}return c}function dk(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function wX(e){o$(e.x),o$(e.y)}function o$(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function xX(e,t){return(e.datum.datum_type===ou||e.datum.datum_type===au||e.datum.datum_type===Fh)&&t.datumCode!=="WGS84"||(t.datum.datum_type===ou||t.datum.datum_type===au||t.datum.datum_type===Fh)&&e.datumCode!=="WGS84"}function pv(e,t,i,r){var s;Array.isArray(i)?i=dk(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var n=i.z!==void 0;if(wX(i),e.datum&&t.datum&&xX(e,t)&&(s=new po("WGS84"),i=pv(e,s,i,r),e=s),r&&e.axis!=="enu"&&(i=n$(e,!1,i)),e.projName==="longlat")i={x:i.x*or,y:i.y*or,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),i=e.inverse(i),!i)return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=bX(e.datum,t.datum,i),!!i)return t.from_greenwich&&(i={x:i.x-t.from_greenwich,y:i.y,z:i.z||0}),t.projName==="longlat"?i={x:i.x*ao,y:i.y*ao,z:i.z||0}:(i=t.forward(i),t.to_meter&&(i={x:i.x/t.to_meter,y:i.y/t.to_meter,z:i.z||0})),r&&t.axis!=="enu"?n$(t,!0,i):(i&&!n&&delete i.z,i)}var a$=po("WGS84");function U_(e,t,i,r){var s,n,o;return Array.isArray(i)?(s=pv(e,t,i,r)||{x:NaN,y:NaN},i.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(i.slice(3)):[s.x,s.y,i[2]].concat(i.slice(3)):[s.x,s.y].concat(i.slice(2)):[s.x,s.y]):(n=pv(e,t,i,r),o=Object.keys(i),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;n[a]=i[a]}),n)}function l$(e){return e instanceof po?e:e.oProj?e.oProj:po(e)}function Nt(e,t,i){e=l$(e);var r=!1,s;return typeof t>"u"?(t=e,e=a$,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(i=t,t=e,e=a$,r=!0),t=l$(t),i?U_(e,t,i):(s={forward:function(n,o){return U_(e,t,n,o)},inverse:function(n,o){return U_(t,e,n,o)}},r&&(s.oProj=t),s)}var c$=6,pk="AJSAJS",mk="AFAFAF",_h=65,Kr=73,Ds=79,Xd=86,Qd=90;const SX={forward:yk,inverse:EX,toPoint:gk};function yk(e,t){return t=t||5,MX(AX({lat:e[1],lon:e[0]}),t)}function EX(e){var t=d3(bk(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function gk(e){var t=d3(bk(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function j_(e){return e*(Math.PI/180)}function u$(e){return 180*(e/Math.PI)}function AX(e){var t=e.lat,i=e.lon,r=6378137,s=.00669438,n=.9996,o,a,l,c,f,d,p,y=j_(t),v=j_(i),b,E;E=Math.floor((i+180)/6)+1,i===180&&(E=60),t>=56&&t<64&&i>=3&&i<12&&(E=32),t>=72&&t<84&&(i>=0&&i<9?E=31:i>=9&&i<21?E=33:i>=21&&i<33?E=35:i>=33&&i<42&&(E=37)),o=(E-1)*6-180+3,b=j_(o),a=s/(1-s),l=r/Math.sqrt(1-s*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-b),p=r*((1-s/4-3*s*s/64-5*s*s*s/256)*y-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*y)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*y)-35*s*s*s/3072*Math.sin(6*y));var S=n*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,T=n*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return t<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(S),zoneNumber:E,zoneLetter:TX(t)}}function d3(e){var t=e.northing,i=e.easting,r=e.zoneLetter,s=e.zoneNumber;if(s<0||s>60)return null;var n=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,v,b,E,S,T,w=i-5e5,_=t;r<"N"&&(_-=1e7),E=(s-1)*6-180+3,l=a/(1-a),b=_/n,S=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=S+(3*c/2-27*c*c*c/32)*Math.sin(2*S)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*S)+151*c*c*c/96*Math.sin(6*S),f=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),v=w/(f*n);var M=T-f*Math.tan(T)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);M=u$(M);var $=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(T);$=E+u$($);var I;if(e.accuracy){var L=d3({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});I={top:L.lat,right:L.lon,bottom:M,left:$}}else I={lat:M,lon:$};return I}function TX(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function MX(e,t){var i="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+$X(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,t)+r.substr(r.length-5,t)}function $X(e,t,i){var r=vk(i),s=Math.floor(e/1e5),n=Math.floor(t/1e5)%20;return OX(s,n,r)}function vk(e){var t=e%c$;return t===0&&(t=c$),t}function OX(e,t,i){var r=i-1,s=pk.charCodeAt(r),n=mk.charCodeAt(r),o=s+e-1,a=n+t,l=!1;o>Qd&&(o=o-Qd+_h-1,l=!0),(o===Kr||s<Kr&&o>Kr||(o>Kr||s<Kr)&&l)&&o++,(o===Ds||s<Ds&&o>Ds||(o>Ds||s<Ds)&&l)&&(o++,o===Kr&&o++),o>Qd&&(o=o-Qd+_h-1),a>Xd?(a=a-Xd+_h-1,l=!0):l=!1,(a===Kr||n<Kr&&a>Kr||(a>Kr||n<Kr)&&l)&&a++,(a===Ds||n<Ds&&a>Ds||(a>Ds||n<Ds)&&l)&&(a++,a===Kr&&a++),a>Xd&&(a=a-Xd+_h-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function bk(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,i=null,r="",s,n=0;!/[A-Z]/.test(s=e.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+e;r+=s,n++}var o=parseInt(r,10);if(n===0||n+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(n++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;i=e.substring(n,n+=2);for(var l=vk(o),c=CX(i.charAt(0),l),f=IX(i.charAt(1),l);f<PX(a);)f+=2e6;var d=t-n;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,v=0,b,E,S,T,w;return p>0&&(b=1e5/Math.pow(10,p),E=e.substring(n,n+p),y=parseFloat(E)*b,S=e.substring(n+p),v=parseFloat(S)*b),T=y+c,w=v+f,{easting:T,northing:w,zoneLetter:a,zoneNumber:o,accuracy:b}}function CX(e,t){for(var i=pk.charCodeAt(t-1),r=1e5,s=!1;i!==e.charCodeAt(0);){if(i++,i===Kr&&i++,i===Ds&&i++,i>Qd){if(s)throw"Bad character: "+e;i=_h,s=!0}r+=1e5}return r}function IX(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=mk.charCodeAt(t-1),r=0,s=!1;i!==e.charCodeAt(0);){if(i++,i===Kr&&i++,i===Ds&&i++,i>Xd){if(s)throw"Bad character: "+e;i=_h,s=!0}r+=1e5}return r}function PX(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function lf(e,t,i){if(!(this instanceof lf))return new lf(e,t,i);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}lf.fromMGRS=function(e){return new lf(gk(e))};lf.prototype.toMGRS=function(e){return yk([this.x,this.y],e)};var LX=1,NX=.25,h$=.046875,f$=.01953125,d$=.01068115234375,kX=.75,RX=.46875,DX=.013020833333333334,FX=.007120768229166667,UX=.3645833333333333,jX=.005696614583333333,BX=.3076171875;function p3(e){var t=[];t[0]=LX-e*(NX+e*(h$+e*(f$+e*d$))),t[1]=e*(kX-e*(h$+e*(f$+e*d$)));var i=e*e;return t[2]=i*(RX-e*(DX+e*FX)),i*=e,t[3]=i*(UX-e*jX),t[4]=i*e*BX,t}function Zf(e,t,i,r){return i*=t,t*=t,r[0]*e-i*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var VX=20;function m3(e,t,i){for(var r=1/(1-t),s=e,n=VX;n;--n){var o=Math.sin(s),a=1-t*o*o;if(a=(Zf(s,o,Math.cos(s),i)-e)*(a*Math.sqrt(a))*r,s-=a,Math.abs(a)<_e)return s}return s}function GX(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=p3(this.es),this.ml0=Zf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function zX(e){var t=e.x,i=e.y,r=Se(t-this.long0),s,n,o,a=Math.sin(i),l=Math.cos(i);if(this.es){var f=l*r,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>_e?Math.tan(i):0,b=Math.pow(v,2),E=Math.pow(b,2);s=1-this.es*Math.pow(a,2),f=f/Math.sqrt(s);var S=Zf(i,a,l,this.en);n=this.a*(this.k0*f*(1+d/6*(1-b+p+d/20*(5-18*b+E+14*p-58*b*p+d/42*(61+179*E-E*b-479*b)))))+this.x0,o=this.a*(this.k0*(S-this.ml0+a*r*f/2*(1+d/12*(5-b+9*p+4*y+d/30*(61+E-58*b+270*p-330*b*p+d/56*(1385+543*E-E*b-3111*b))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<_e)return 93;if(n=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>_e)return 93;o=0}else o=Math.acos(o);i<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=n,e.y=o,e}function qX(e){var t,i,r,s,n=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,i=m3(t,this.es,this.en),Math.abs(i)<he){var d=Math.sin(i),p=Math.cos(i),y=Math.abs(p)>_e?Math.tan(i):0,v=this.ep2*Math.pow(p,2),b=Math.pow(v,2),E=Math.pow(y,2),S=Math.pow(E,2);t=1-this.es*Math.pow(d,2);var T=n*Math.sqrt(t)/this.k0,w=Math.pow(T,2);t=t*y,r=i-t*w/(1-this.es)*.5*(1-w/12*(5+3*E-9*v*E+v-4*b-w/30*(61+90*E-252*v*E+45*S+46*v-w/56*(1385+3633*E+4095*S+1574*S*E)))),s=Se(this.long0+T*(1-w/6*(1+2*E+v-w/20*(5+28*E+24*S+8*v*E+6*v-w/42*(61+662*E+1320*S+720*S*E))))/p)}else r=he*n0(o),s=0;else{var a=Math.exp(n/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);t=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(t),o<0&&(r=-r),l===0&&f===0?s=0:s=Se(Math.atan2(l,f)+this.long0)}return e.x=s,e.y=r,e}var HX=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const pg={init:GX,forward:zX,inverse:qX,names:HX};function _k(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function is(e,t){e=Math.abs(e),t=Math.abs(t);var i=Math.max(e,t),r=Math.min(e,t)/(i||1);return i*Math.sqrt(1+Math.pow(r,2))}function WX(e){var t=1+e,i=t-1;return i===0?e:e*Math.log(t)/i}function YX(e){var t=Math.abs(e);return t=WX(t*(1+t/(is(1,t)+1))),e<0?-t:t}function y3(e,t){for(var i=2*Math.cos(2*t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return t+o*Math.sin(2*t)}function JX(e,t){for(var i=2*Math.cos(t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return Math.sin(t)*o}function ZX(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function wk(e,t,i){for(var r=Math.sin(t),s=Math.cos(t),n=_k(i),o=ZX(i),a=2*s*o,l=-2*r*n,c=e.length-1,f=e[c],d=0,p=0,y=0,v,b;--c>=0;)v=p,b=d,p=f,d=y,f=-v+a*p-l*d+e[c],y=-b+l*p+a*d;return a=r*o,l=s*n,[a*f-l*y,a*y+l*f]}function KX(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(pg.init.apply(this),this.forward=pg.forward,this.inverse=pg.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),i=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),i=i*t,this.cgb[1]=i*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=i*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),i=i*t,this.cgb[2]=i*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=i*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),i=i*t,this.cgb[3]=i*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=i*(1237/630+t*(-12/5+t*(-24832/14175))),i=i*t,this.cgb[4]=i*(4174/315+t*(-144838/6237)),this.cbg[4]=i*(-734/315+t*(109598/31185)),i=i*t,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=i*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=i*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),i=i*t,this.utg[2]=i*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=i*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),i=i*t,this.utg[3]=i*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=i*(49561/161280+t*(-179/168+t*(6601661/7257600))),i=i*t,this.utg[4]=i*(-4583/161280+t*(108847/3991680)),this.gtu[4]=i*(34729/80640+t*(-3418889/1995840)),i=i*t,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var r=y3(this.cbg,this.lat0);this.Zb=-this.Qn*(r+JX(this.gtu,2*r))}function XX(e){var t=Se(e.x-this.long0),i=e.y;i=y3(this.cbg,i);var r=Math.sin(i),s=Math.cos(i),n=Math.sin(t),o=Math.cos(t);i=Math.atan2(r,o*s),t=Math.atan2(n*s,is(r,s*o)),t=YX(Math.tan(t));var a=wk(this.gtu,2*i,2*t);i=i+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*i+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function QX(e){var t=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,t=t/this.Qn;var r,s;if(Math.abs(t)<=2.623395162778){var n=wk(this.utg,2*i,2*t);i=i+n[0],t=t+n[1],t=Math.atan(_k(t));var o=Math.sin(i),a=Math.cos(i),l=Math.sin(t),c=Math.cos(t);i=Math.atan2(o*c,is(l,c*a)),t=Math.atan2(l,c*a),r=Se(t+this.long0),s=y3(this.cgb,i)}else r=1/0,s=1/0;return e.x=r,e.y=s,e}var eQ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const mg={init:KX,forward:XX,inverse:QX,names:eQ};function tQ(e,t){if(e===void 0){if(e=Math.floor((Se(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var iQ="etmerc";function rQ(){var e=tQ(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*or,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,mg.init.apply(this),this.forward=mg.forward,this.inverse=mg.inverse}var sQ=["Universal Transverse Mercator System","utm"];const nQ={init:rQ,names:sQ,dependsOn:iQ};function g3(e,t){return Math.pow((1-e)/(1+e),t)}var oQ=20;function aQ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+xt)/(Math.pow(Math.tan(.5*this.lat0+xt),this.C)*g3(this.e*e,this.ratexp))}function lQ(e){var t=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+xt),this.C)*g3(this.e*Math.sin(i),this.ratexp))-he,e.x=this.C*t,e}function cQ(e){for(var t=1e-14,i=e.x/this.C,r=e.y,s=Math.pow(Math.tan(.5*r+xt)/this.K,1/this.C),n=oQ;n>0&&(r=2*Math.atan(s*g3(this.e*Math.sin(e.y),-.5*this.e))-he,!(Math.abs(r-e.y)<t));--n)e.y=r;return n?(e.x=i,e.y=r,e):null}var uQ=["gauss"];const v3={init:aQ,forward:lQ,inverse:cQ,names:uQ};function hQ(){v3.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function fQ(e){var t,i,r,s;return e.x=Se(e.x-this.long0),v3.forward.apply(this,[e]),t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*i*r),e.x=s*i*Math.sin(e.x),e.y=s*(this.cosc0*t-this.sinc0*i*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function dQ(e){var t,i,r,s,n;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,n=is(e.x,e.y)){var o=2*Math.atan2(n,this.R2);t=Math.sin(o),i=Math.cos(o),s=Math.asin(i*this.sinc0+e.y*t*this.cosc0/n),r=Math.atan2(e.x*t,n*this.cosc0*i-e.y*this.sinc0*t)}else s=this.phic0,r=0;return e.x=r,e.y=s,v3.inverse.apply(this,[e]),e.x=Se(e.x+this.long0),e}var pQ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const mQ={init:hQ,forward:fQ,inverse:dQ,names:pQ};function yQ(e,t,i){return t*=i,Math.tan(.5*(he+e))*Math.pow((1-t)/(1+t),.5*i)}function gQ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&(this.k0=.5*(1+n0(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&Math.abs(Math.cos(this.lat_ts))>_e&&(this.k0=.5*this.cons*Eo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Sn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Eo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-he,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function vQ(e){var t=e.x,i=e.y,r=Math.sin(i),s=Math.cos(i),n,o,a,l,c,f,d=Se(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=_e&&Math.abs(i+this.lat0)<=_e?(e.x=NaN,e.y=NaN,e):this.sphere?(n=2*this.k0/(1+this.sinlat0*r+this.coslat0*s*Math.cos(d)),e.x=this.a*n*s*Math.sin(d)+this.x0,e.y=this.a*n*(this.coslat0*r-this.sinlat0*s*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(i,r,this.e))-he,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=_e?(c=Sn(this.e,i*this.con,this.con*r),f=2*this.a*this.k0*c/this.cons,e.x=this.x0+f*Math.sin(t-this.long0),e.y=this.y0-this.con*f*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<_e?(n=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=n*a):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=n*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=n*l*Math.sin(d)+this.x0,e))}function bQ(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,i=this.lat0,o<=_e?(e.x=t,e.y=i,e):(i=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<_e?this.lat0>0?t=Se(this.long0+Math.atan2(e.x,-1*e.y)):t=Se(this.long0+Math.atan2(e.x,e.y)):t=Se(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=i,e)}else if(Math.abs(this.coslat0)<=_e){if(o<=_e)return i=this.lat0,t=this.long0,e.x=t,e.y=i,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),i=this.con*fm(this.e,r),t=this.con*Se(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=_e?n=this.X0:(n=Math.asin(Math.cos(s)*this.sinX0+e.y*Math.sin(s)*this.cosX0/o),t=Se(this.long0+Math.atan2(e.x*Math.sin(s),o*this.cosX0*Math.cos(s)-e.y*this.sinX0*Math.sin(s)))),i=-1*fm(this.e,Math.tan(.5*(he+n)));return e.x=t,e.y=i,e}var _Q=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const wQ={init:gQ,forward:vQ,inverse:bQ,names:_Q,ssfn_:yQ};function xQ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),i=this.a,r=this.rf,s=1/r,n=2*s-Math.pow(s,2),o=this.e=Math.sqrt(n);this.R=this.k0*i*Math.sqrt(1-n)/(1-n*Math.pow(t,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function SQ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+i)+this.K,s=2*(Math.atan(Math.exp(r))-Math.PI/4),n=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function EQ(e){for(var t=e.x-this.x0,i=e.y-this.y0,r=t/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,l=0,c=n,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var AQ=["somerc"];const TQ={init:xQ,forward:SQ,inverse:EQ,names:AQ};var nh=1e-7;function MQ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(i)!==-1}function $Q(){var e,t,i,r,s,n,o,a,l,c,f=0,d,p=0,y=0,v=0,b=0,E=0,S=0;this.no_off=MQ(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),T&&(S=this.alpha),w&&(f=this.rectified_grid_angle*or),T||w)p=this.longc;else if(y=this.long1,b=this.lat1,v=this.long2,E=this.lat2,Math.abs(b-E)<=nh||(e=Math.abs(b))<=nh||Math.abs(e-he)<=nh||Math.abs(Math.abs(this.lat0)-he)<=nh||Math.abs(Math.abs(E)-he)<=nh)throw new Error;var _=1-this.es;t=Math.sqrt(_),Math.abs(this.lat0)>_e?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),e=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*t/e,r=this.B*t/(i*Math.sqrt(e)),s=r*r-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=r,this.E*=Math.pow(Sn(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=s=1),T||w?(T?(d=Math.asin(Math.sin(S)/r),w||(f=S)):(d=f,S=Math.asin(r*Math.sin(d))),this.lam0=p-Math.asin(.5*(s-1/s)*Math.tan(d))/this.B):(n=Math.pow(Sn(this.e,b,Math.sin(b)),this.B),o=Math.pow(Sn(this.e,E,Math.sin(E)),this.B),s=this.E/n,l=(o-n)/(o+n),c=this.E*this.E,c=(c-o*n)/(c+o*n),e=y-v,e<-Math.pi?v-=um:e>Math.pi&&(v+=um),this.lam0=Se(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Se(y-this.lam0))/(s-1/s)),f=S=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(S))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(xt-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(xt+s))}function OQ(e){var t={},i,r,s,n,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-he)>_e){if(o=this.E/Math.pow(Sn(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,i=.5*(o-a),r=.5*(o+a),n=Math.sin(this.B*e.x),s=(i*this.singam-n*this.cosgam)/r,Math.abs(Math.abs(s)-1)<_e)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),a=Math.cos(this.B*e.x),Math.abs(a)<nh?l=this.A*e.x:l=this.ArB*Math.atan2(i*this.cosgam+n*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function CQ(e){var t,i,r,s,n,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(i=e.y,t=e.x):(i=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*i),s=.5*(r-1/r),n=.5*(r+1/r),o=Math.sin(this.BrA*t),a=(o*this.cosgam+s*this.singam)/n,Math.abs(Math.abs(a)-1)<_e)l.x=0,l.y=a<0?-he:he;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=fm(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var IQ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const PQ={init:$Q,forward:OQ,inverse:CQ,names:IQ};function LQ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_e)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),i=Math.cos(this.lat1),r=Eo(this.e,t,i),s=Sn(this.e,this.lat1,t),n=Math.sin(this.lat2),o=Math.cos(this.lat2),a=Eo(this.e,n,o),l=Sn(this.e,this.lat2,n),c=Sn(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_e?this.ns=Math.log(r/a)/Math.log(s/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function NQ(e){var t=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=_e&&(i=n0(i)*(he-2*_e));var r=Math.abs(Math.abs(i)-he),s,n;if(r>_e)s=Sn(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(s,this.ns);else{if(r=i*this.ns,r<=0)return null;n=0}var o=this.ns*Se(t-this.long0);return e.x=this.k0*(n*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,e}function kQ(e){var t,i,r,s,n,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),i=1):(t=-Math.sqrt(o*o+a*a),i=-1);var l=0;if(t!==0&&(l=Math.atan2(i*o,i*a)),t!==0||this.ns>0){if(i=1/this.ns,r=Math.pow(t/(this.a*this.f0),i),s=fm(this.e,r),s===-9999)return null}else s=-he;return n=Se(l/this.ns+this.long0),e.x=n,e.y=s,e}var RQ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const DQ={init:LQ,forward:NQ,inverse:kQ,names:RQ};function FQ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function UQ(e){var t,i,r,s,n,o,a,l=e.x,c=e.y,f=Se(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-f*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(s)),o=this.n*n,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function jQ(e){var t,i,r,s,n,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.atan2(e.y,e.x),s=n/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(s)),i=Math.asin(Math.cos(r)*Math.sin(s)/Math.cos(t)),e.x=this.long0-i/this.alfa,a=t,l=0;var f=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,f+=1;while(l===0&&f<15);return f>=15?null:e}var BQ=["Krovak","krovak"];const VQ={init:FQ,forward:UQ,inverse:jQ,names:BQ};function Br(e,t,i,r,s){return e*s-t*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)}function o0(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function a0(e){return .375*e*(1+.25*e*(1+.46875*e))}function l0(e){return .05859375*e*e*(1+.75*e)}function c0(e){return e*e*e*(35/3072)}function cf(e,t,i){var r=t*i;return e/Math.sqrt(1-r*r)}function Ll(e){return Math.abs(e)<he?e:e-n0(e)*Math.PI}function mv(e,t,i,r,s){var n,o;n=e/t;for(var a=0;a<15;a++)if(o=(e-(t*n-i*Math.sin(2*n)+r*Math.sin(4*n)-s*Math.sin(6*n)))/(t-2*i*Math.cos(2*n)+4*r*Math.cos(4*n)-6*s*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function GQ(){this.sphere||(this.e0=o0(this.es),this.e1=a0(this.es),this.e2=l0(this.es),this.e3=c0(this.es),this.ml0=this.a*Br(this.e0,this.e1,this.e2,this.e3,this.lat0))}function zQ(e){var t,i,r=e.x,s=e.y;if(r=Se(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(s)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(r))-this.lat0);else{var n=Math.sin(s),o=Math.cos(s),a=cf(this.a,this.e,n),l=Math.tan(s)*Math.tan(s),c=r*Math.cos(s),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Br(this.e0,this.e1,this.e2,this.e3,s);t=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),i=p-this.ml0+a*n/o*f*(.5+(5-l+6*d)*f/24)}return e.x=t+this.x0,e.y=i+this.y0,e}function qQ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s;if(this.sphere){var n=i+this.lat0;r=Math.asin(Math.sin(n)*Math.cos(t)),s=Math.atan2(Math.tan(t),Math.cos(n))}else{var o=this.ml0/this.a+i,a=mv(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-he)<=_e)return e.x=this.long0,e.y=he,i<0&&(e.y*=-1),e;var l=cf(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;r=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),s=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return e.x=Se(s+this.long0),e.y=Ll(r),e}var HQ=["Cassini","Cassini_Soldner","cass"];const WQ={init:GQ,forward:zQ,inverse:qQ,names:HQ};function yl(e,t){var i;return e>1e-7?(i=e*t,(1-e*e)*(t/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*t}var YQ=1,JQ=2,ZQ=3,KQ=4;function XQ(){var e=Math.abs(this.lat0);if(Math.abs(e-he)<_e?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<_e?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=yl(this.e,1),this.mmf=.5/(1-this.es),this.apa=aee(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=yl(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function QQ(e){var t,i,r,s,n,o,a,l,c,f,d=e.x,p=e.y;if(d=Se(d-this.long0),this.sphere){if(n=Math.sin(p),f=Math.cos(p),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+f*r:1+this.sinph0*n+this.cosph0*f*r,i<=_e)return null;i=Math.sqrt(2/i),t=i*f*Math.sin(d),i*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<_e)return null;i=xt-p*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),t=i*Math.sin(d),i*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),s=Math.sin(d),n=Math.sin(p),o=yl(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=he+p,o=this.qp-o;break;case this.S_POLE:c=p-he,o=this.qp+o;break}if(Math.abs(c)<_e)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?i=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):i=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*s,i=r*(this.mode===this.S_POLE?c:-c)):t=i=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*i+this.y0,e}function eee(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s,n,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(t*t+i*i),s=d*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(s),f=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(d)<=_e?0:Math.asin(i*p/d),t*=p,i=f*d;break;case this.OBLIQ:s=Math.abs(d)<=_e?this.lat0:Math.asin(f*this.sinph0+i*p*this.cosph0/d),t*=p*this.cosph0,i=(f-Math.sin(s)*this.sinph0)*d;break;case this.N_POLE:i=-i,s=he-s;break;case this.S_POLE:s-=he;break}r=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,i)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,i*=this.dd,l=Math.sqrt(t*t+i*i),l<_e)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),n=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=n*this.sinb1+i*o*this.cosb1/l,a=this.qp*c,i=l*this.cosb1*n-i*this.sinb1*o):(c=i*o/l,a=this.qp*c,i=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),a=t*t+i*i,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,i),s=lee(Math.asin(c),this.apa)}return e.x=Se(this.long0+r),e.y=s,e}var tee=.3333333333333333,iee=.17222222222222222,ree=.10257936507936508,see=.06388888888888888,nee=.0664021164021164,oee=.016415012942191543;function aee(e){var t,i=[];return i[0]=e*tee,t=e*e,i[0]+=t*iee,i[1]=t*see,t*=e,i[0]+=t*ree,i[1]+=t*nee,i[2]=t*oee,i}function lee(e,t){var i=e+e;return e+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)}var cee=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const uee={init:XQ,forward:QQ,inverse:eee,names:cee,S_POLE:YQ,N_POLE:JQ,EQUIT:ZQ,OBLIQ:KQ};function Al(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function hee(){Math.abs(this.lat1+this.lat2)<_e||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Eo(this.e3,this.sin_po,this.cos_po),this.qs1=yl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Eo(this.e3,this.sin_po,this.cos_po),this.qs2=yl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=yl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>_e?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function fee(e){var t=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var r=yl(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,n=this.ns0*Se(t-this.long0),o=s*Math.sin(n)+this.x0,a=this.rh-s*Math.cos(n)+this.y0;return e.x=o,e.y=a,e}function dee(e){var t,i,r,s,n,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),s=0,t!==0&&(s=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,i)),n=Se(s/this.ns0+this.long0),e.x=n,e.y=o,e}function pee(e,t){var i,r,s,n,o,a=Al(.5*t);if(e<_e)return a;for(var l=e*e,c=1;c<=25;c++)if(i=Math.sin(a),r=Math.cos(a),s=e*i,n=1-s*s,o=.5*n*n/r*(t/(1-l)-i/n+.5/e*Math.log((1-s)/(1+s))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var mee=["Albers_Conic_Equal_Area","Albers","aea"];const yee={init:hee,forward:fee,inverse:dee,names:mee,phi1z:pee};function gee(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function vee(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=Se(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,o>0||Math.abs(o)<=_e?(a=this.x0+this.a*n*i*Math.sin(r)/o,l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)/o):(a=this.x0+this.infinity_dist*i*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function bee(e){var t,i,r,s,n,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(s=Math.atan2(t,this.rc),i=Math.sin(s),r=Math.cos(s),o=Al(r*this.sin_p14+e.y*i*this.cos_p14/t),n=Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i),n=Se(this.long0+n)):(o=this.phic0,n=0),e.x=n,e.y=o,e}var _ee=["gnom"];const wee={init:gee,forward:vee,inverse:bee,names:_ee};function xee(e,t){var i=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-i)<1e-6)return t<0?-1*he:he;for(var r=Math.asin(.5*t),s,n,o,a,l=0;l<30;l++)if(n=Math.sin(r),o=Math.cos(r),a=e*n,s=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-n/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),r+=s,Math.abs(s)<=1e-10)return r;return NaN}function See(){this.sphere||(this.k0=Eo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Eee(e){var t=e.x,i=e.y,r,s,n=Se(t-this.long0);if(this.sphere)r=this.x0+this.a*n*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=yl(this.e,Math.sin(i));r=this.x0+this.a*this.k0*n,s=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=s,e}function Aee(e){e.x-=this.x0,e.y-=this.y0;var t,i;return this.sphere?(t=Se(this.long0+e.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=xee(this.e,2*e.y*this.k0/this.a),t=Se(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=i,e}var Tee=["cea"];const Mee={init:See,forward:Eee,inverse:Aee,names:Tee};function $ee(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Oee(e){var t=e.x,i=e.y,r=Se(t-this.long0),s=Ll(i-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*s,e}function Cee(e){var t=e.x,i=e.y;return e.x=Se(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Ll(this.lat0+(i-this.y0)/this.a),e}var Iee=["Equirectangular","Equidistant_Cylindrical","eqc"];const Pee={init:$ee,forward:Oee,inverse:Cee,names:Iee};var p$=20;function Lee(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=o0(this.es),this.e1=a0(this.es),this.e2=l0(this.es),this.e3=c0(this.es),this.ml0=this.a*Br(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Nee(e){var t=e.x,i=e.y,r,s,n,o=Se(t-this.long0);if(n=o*Math.sin(i),this.sphere)Math.abs(i)<=_e?(r=this.a*o,s=-1*this.a*this.lat0):(r=this.a*Math.sin(n)/Math.tan(i),s=this.a*(Ll(i-this.lat0)+(1-Math.cos(n))/Math.tan(i)));else if(Math.abs(i)<=_e)r=this.a*o,s=-1*this.ml0;else{var a=cf(this.a,this.e,Math.sin(i))/Math.tan(i);r=a*Math.sin(n),s=this.a*Br(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*(1-Math.cos(n))}return e.x=r+this.x0,e.y=s+this.y0,e}function kee(e){var t,i,r,s,n,o,a,l,c;if(r=e.x-this.x0,s=e.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=_e)t=Se(r/this.a+this.long0),i=0;else{o=this.lat0+s/this.a,a=r*r/this.a/this.a+o*o,l=o;var f;for(n=p$;n;--n)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=_e){i=l;break}t=Se(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=_e)i=0,t=Se(this.long0+r/this.a);else{o=(this.ml0+s)/this.a,a=r*r/this.a/this.a+o*o,l=o;var d,p,y,v,b;for(n=p$;n;--n)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),p=this.a*Br(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=_e){i=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),t=Se(this.long0+Math.asin(r*d/this.a)/Math.sin(i))}return e.x=t,e.y=i,e}var Ree=["Polyconic","poly"];const Dee={init:Lee,forward:Nee,inverse:kee,names:Ree};function Fee(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Uee(e){var t,i=e.x,r=e.y,s=r-this.lat0,n=i-this.long0,o=s/yp*1e-5,a=n,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var f=c,d=a,p=1,y=0,v,b,E=0,S=0;for(t=1;t<=6;t++)v=p*f-y*d,b=y*f+p*d,p=v,y=b,E=E+this.B_re[t]*p-this.B_im[t]*y,S=S+this.B_im[t]*p+this.B_re[t]*y;return e.x=S*this.a+this.x0,e.y=E*this.a+this.y0,e}function jee(e){var t,i=e.x,r=e.y,s=i-this.x0,n=r-this.y0,o=n/this.a,a=s/this.a,l=1,c=0,f,d,p=0,y=0;for(t=1;t<=6;t++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var v=0;v<this.iterations;v++){var b=p,E=y,S,T,w=o,_=a;for(t=2;t<=6;t++)S=b*p-E*y,T=E*p+b*y,b=S,E=T,w=w+(t-1)*(this.B_re[t]*b-this.B_im[t]*E),_=_+(t-1)*(this.B_im[t]*b+this.B_re[t]*E);b=1,E=0;var M=this.B_re[1],$=this.B_im[1];for(t=2;t<=6;t++)S=b*p-E*y,T=E*p+b*y,b=S,E=T,M=M+t*(this.B_re[t]*b-this.B_im[t]*E),$=$+t*(this.B_im[t]*b+this.B_re[t]*E);var I=M*M+$*$;p=(w*M+_*$)/I,y=(_*M-w*$)/I}var L=p,P=y,F=1,z=0;for(t=1;t<=9;t++)F=F*L,z=z+this.D[t]*F;var U=this.lat0+z*yp*1e5,B=this.long0+P;return e.x=B,e.y=U,e}var Bee=["New_Zealand_Map_Grid","nzmg"];const Vee={init:Fee,forward:Uee,inverse:jee,names:Bee};function Gee(){}function zee(e){var t=e.x,i=e.y,r=Se(t-this.long0),s=this.x0+this.a*r,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=s,e.y=n,e}function qee(e){e.x-=this.x0,e.y-=this.y0;var t=Se(this.long0+e.x/this.a),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=i,e}var Hee=["Miller_Cylindrical","mill"];const Wee={init:Gee,forward:zee,inverse:qee,names:Hee};var Yee=20;function Jee(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=p3(this.es)}function Zee(e){var t,i,r=e.x,s=e.y;if(r=Se(r-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var n=this.n*Math.sin(s),o=Yee;o;--o){var a=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=a,Math.abs(a)<_e)break}t=this.a*this.C_x*r*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);i=this.a*Zf(s,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=i,e}function Kee(e){var t,i,r,s;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=Al((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Al(Math.sin(t)/this.n)),r=Se(r+this.long0),t=Ll(t)):(t=m3(e.y/this.a,this.es,this.en),s=Math.abs(t),s<he?(s=Math.sin(t),i=this.long0+e.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(t)),r=Se(i)):s-_e<he&&(r=this.long0)),e.x=r,e.y=t,e}var Xee=["Sinusoidal","sinu"];const Qee={init:Jee,forward:Zee,inverse:Kee,names:Xee};function ete(){}function tte(e){for(var t=e.x,i=e.y,r=Se(t-this.long0),s=i,n=Math.PI*Math.sin(i);;){var o=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=o,Math.abs(o)<_e)break}s/=2,Math.PI/2-Math.abs(i)<_e&&(r=0);var a=.900316316158*this.a*r*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return e.x=a,e.y=l,e}function ite(e){var t,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),t=Math.asin(i);var r=Se(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*t+Math.sin(2*t))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return e.x=r,e.y=s,e}var rte=["Mollweide","moll"];const ste={init:ete,forward:tte,inverse:ite,names:rte};function nte(){Math.abs(this.lat1+this.lat2)<_e||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=o0(this.es),this.e1=a0(this.es),this.e2=l0(this.es),this.e3=c0(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Eo(this.e,this.sinphi,this.cosphi),this.ml1=Br(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_e?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Eo(this.e,this.sinphi,this.cosphi),this.ml2=Br(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Br(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function ote(e){var t=e.x,i=e.y,r;if(this.sphere)r=this.a*(this.g-i);else{var s=Br(this.e0,this.e1,this.e2,this.e3,i);r=this.a*(this.g-s)}var n=this.ns*Se(t-this.long0),o=this.x0+r*Math.sin(n),a=this.y0+this.rh-r*Math.cos(n);return e.x=o,e.y=a,e}function ate(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i,r,s;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var n=0;if(i!==0&&(n=Math.atan2(t*e.x,t*e.y)),this.sphere)return s=Se(this.long0+n/this.ns),r=Ll(this.g-i/this.a),e.x=s,e.y=r,e;var o=this.g-i/this.a;return r=mv(o,this.e0,this.e1,this.e2,this.e3),s=Se(this.long0+n/this.ns),e.x=s,e.y=r,e}var lte=["Equidistant_Conic","eqdc"];const cte={init:nte,forward:ote,inverse:ate,names:lte};function ute(){this.R=this.a}function hte(e){var t=e.x,i=e.y,r=Se(t-this.long0),s,n;Math.abs(i)<=_e&&(s=this.x0+this.R*r,n=this.y0);var o=Al(2*Math.abs(i/Math.PI));(Math.abs(r)<=_e||Math.abs(Math.abs(i)-he)<=_e)&&(s=this.x0,i>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),v=y*y,b=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);r<0&&(b=-b),s=this.x0+b;var E=l+d;return b=Math.PI*this.R*(y*E-a*Math.sqrt((v+l)*(l+1)-E*E))/(v+l),i>=0?n=this.y0+b:n=this.y0-b,e.x=s,e.y=n,e}function fte(e){var t,i,r,s,n,o,a,l,c,f,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,r=e.x/d,s=e.y/d,n=r*r+s*s,o=-Math.abs(s)*(1+n),a=o-2*s*s+r*r,l=-2*o+1+2*s*s+n*n,y=s*s/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?i=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:i=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<_e?t=this.long0:t=Se(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(r*r-s*s)+n*n))/2/r),e.x=t,e.y=i,e}var dte=["Van_der_Grinten_I","VanDerGrinten","vandg"];const pte={init:ute,forward:hte,inverse:fte,names:dte};function mte(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function yte(e){var t=e.x,i=e.y,r=Math.sin(e.y),s=Math.cos(e.y),n=Se(t-this.long0),o,a,l,c,f,d,p,y,v,b,E,S,T,w,_,M,$,I,L,P,F,z,U;return this.sphere?Math.abs(this.sin_p12-1)<=_e?(e.x=this.x0+this.a*(he-i)*Math.sin(n),e.y=this.y0-this.a*(he-i)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=_e?(e.x=this.x0+this.a*(he+i)*Math.sin(n),e.y=this.y0+this.a*(he+i)*Math.cos(n),e):(I=this.sin_p12*r+this.cos_p12*s*Math.cos(n),M=Math.acos(I),$=M?M/Math.sin(M):1,e.x=this.x0+this.a*$*s*Math.sin(n),e.y=this.y0+this.a*$*(this.cos_p12*r-this.sin_p12*s*Math.cos(n)),e):(o=o0(this.es),a=a0(this.es),l=l0(this.es),c=c0(this.es),Math.abs(this.sin_p12-1)<=_e?(f=this.a*Br(o,a,l,c,he),d=this.a*Br(o,a,l,c,i),e.x=this.x0+(f-d)*Math.sin(n),e.y=this.y0-(f-d)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=_e?(f=this.a*Br(o,a,l,c,he),d=this.a*Br(o,a,l,c,i),e.x=this.x0+(f+d)*Math.sin(n),e.y=this.y0+(f+d)*Math.cos(n),e):(p=r/s,y=cf(this.a,this.e,this.sin_p12),v=cf(this.a,this.e,r),b=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*s)),E=Math.atan2(Math.sin(n),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(n)),E===0?L=Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(E)-Math.PI)<=_e?L=-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):L=Math.asin(Math.sin(n)*Math.cos(b)/Math.sin(E)),S=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(E)/Math.sqrt(1-this.es),w=S*T,_=T*T,P=L*L,F=P*L,z=F*L,U=z*L,M=y*L*(1-P*_*(1-_)/6+F/8*w*(1-2*_)+z/120*(_*(4-7*_)-3*S*S*(1-7*_))-U/48*w),e.x=this.x0+M*Math.sin(E),e.y=this.y0+M*Math.cos(E),e))}function gte(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o,a,l,c,f,d,p,y,v,b,E,S,T,w,_,M,$,I,L;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*he*this.a?void 0:(i=t/this.a,r=Math.sin(i),s=Math.cos(i),n=this.long0,Math.abs(t)<=_e?o=this.lat0:(o=Al(s*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-he,Math.abs(a)<=_e?this.lat0>=0?n=Se(this.long0+Math.atan2(e.x,-e.y)):n=Se(this.long0-Math.atan2(-e.x,e.y)):n=Se(this.long0+Math.atan2(e.x*r,t*this.cos_p12*s-e.y*this.sin_p12*r))),e.x=n,e.y=o,e)):(l=o0(this.es),c=a0(this.es),f=l0(this.es),d=c0(this.es),Math.abs(this.sin_p12-1)<=_e?(p=this.a*Br(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=mv(y/this.a,l,c,f,d),n=Se(this.long0+Math.atan2(e.x,-1*e.y)),e.x=n,e.y=o,e):Math.abs(this.sin_p12+1)<=_e?(p=this.a*Br(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=mv(y/this.a,l,c,f,d),n=Se(this.long0+Math.atan2(e.x,e.y)),e.x=n,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),E=Math.atan2(e.x,e.y),v=cf(this.a,this.e,this.sin_p12),S=Math.cos(E),T=this.e*this.cos_p12*S,w=-T*T/(1-this.es),_=3*this.es*(1-w)*this.sin_p12*this.cos_p12*S/(1-this.es),M=t/v,$=M-w*(1+w)*Math.pow(M,3)/6-_*(1+3*w)*Math.pow(M,4)/24,I=1-w*$*$/2-M*$*$*$/6,b=Math.asin(this.sin_p12*Math.cos($)+this.cos_p12*Math.sin($)*S),n=Se(this.long0+Math.asin(Math.sin(E)*Math.sin($)/Math.cos(b))),L=Math.sin(b),o=Math.atan2((L-this.es*I*this.sin_p12)*Math.tan(b),L*(1-this.es)),e.x=n,e.y=o,e))}var vte=["Azimuthal_Equidistant","aeqd"];const bte={init:mte,forward:yte,inverse:gte,names:vte};function _te(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function wte(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=Se(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,(o>0||Math.abs(o)<=_e)&&(a=this.a*n*i*Math.sin(r),l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function xte(e){var t,i,r,s,n,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),i=Al(t/this.a),r=Math.sin(i),s=Math.cos(i),o=this.long0,Math.abs(t)<=_e?(a=this.lat0,e.x=o,e.y=a,e):(a=Al(s*this.sin_p14+e.y*r*this.cos_p14/t),n=Math.abs(this.lat0)-he,Math.abs(n)<=_e?(this.lat0>=0?o=Se(this.long0+Math.atan2(e.x,-e.y)):o=Se(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=Se(this.long0+Math.atan2(e.x*r,t*this.cos_p14*s-e.y*this.sin_p14*r)),e.x=o,e.y=a,e))}var Ste=["ortho"];const Ete={init:_te,forward:wte,inverse:xte,names:Ste};var ni={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},St={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Ate(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=he-xt/2?this.face=ni.TOP:this.lat0<=-(he-xt/2)?this.face=ni.BOTTOM:Math.abs(this.long0)<=xt?this.face=ni.FRONT:Math.abs(this.long0)<=he+xt?this.face=this.long0>0?ni.RIGHT:ni.LEFT:this.face=ni.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Tte(e){var t={x:0,y:0},i,r,s,n,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):i=e.y,r=e.x,this.face===ni.TOP)n=he-i,r>=xt&&r<=he+xt?(l.value=St.AREA_0,s=r-he):r>he+xt||r<=-(he+xt)?(l.value=St.AREA_1,s=r>0?r-_i:r+_i):r>-(he+xt)&&r<=-xt?(l.value=St.AREA_2,s=r+he):(l.value=St.AREA_3,s=r);else if(this.face===ni.BOTTOM)n=he+i,r>=xt&&r<=he+xt?(l.value=St.AREA_0,s=-r+he):r<xt&&r>=-xt?(l.value=St.AREA_1,s=-r):r<-xt&&r>=-(he+xt)?(l.value=St.AREA_2,s=-r-he):(l.value=St.AREA_3,s=r>0?-r+_i:-r-_i);else{var c,f,d,p,y,v,b;this.face===ni.RIGHT?r=Uh(r,+he):this.face===ni.BACK?r=Uh(r,+_i):this.face===ni.LEFT&&(r=Uh(r,-he)),p=Math.sin(i),y=Math.cos(i),v=Math.sin(r),b=Math.cos(r),c=y*b,f=y*v,d=p,this.face===ni.FRONT?(n=Math.acos(c),s=ey(n,d,f,l)):this.face===ni.RIGHT?(n=Math.acos(f),s=ey(n,d,-c,l)):this.face===ni.BACK?(n=Math.acos(-c),s=ey(n,d,-f,l)):this.face===ni.LEFT?(n=Math.acos(-f),s=ey(n,d,c,l)):(n=s=0,l.value=St.AREA_0)}return a=Math.atan(12/_i*(s+Math.acos(Math.sin(s)*Math.cos(xt))-he)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===St.AREA_1?a+=he:l.value===St.AREA_2?a+=_i:l.value===St.AREA_3&&(a+=1.5*_i),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function Mte(e){var t={lam:0,phi:0},i,r,s,n,o,a,l,c,f,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),i=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=St.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=St.AREA_1,i-=he):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=St.AREA_2,i=i<0?i+_i:i-_i):(d.value=St.AREA_3,i+=he),f=_i/12*Math.tan(i),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),s=Math.cos(i),n=Math.tan(r),l=1-s*s*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===ni.TOP)c=Math.acos(l),t.phi=he-c,d.value===St.AREA_0?t.lam=a+he:d.value===St.AREA_1?t.lam=a<0?a+_i:a-_i:d.value===St.AREA_2?t.lam=a-he:t.lam=a;else if(this.face===ni.BOTTOM)c=Math.acos(l),t.phi=c-he,d.value===St.AREA_0?t.lam=-a+he:d.value===St.AREA_1?t.lam=-a:d.value===St.AREA_2?t.lam=-a-he:t.lam=a<0?-a-_i:-a+_i;else{var p,y,v;p=l,f=p*p,f>=1?v=0:v=Math.sqrt(1-f)*Math.sin(a),f+=v*v,f>=1?y=0:y=Math.sqrt(1-f),d.value===St.AREA_1?(f=y,y=-v,v=f):d.value===St.AREA_2?(y=-y,v=-v):d.value===St.AREA_3&&(f=y,y=v,v=-f),this.face===ni.RIGHT?(f=p,p=-y,y=f):this.face===ni.BACK?(p=-p,y=-y):this.face===ni.LEFT&&(f=p,p=y,y=-f),t.phi=Math.acos(-v)-he,t.lam=Math.atan2(y,p),this.face===ni.RIGHT?t.lam=Uh(t.lam,-he):this.face===ni.BACK?t.lam=Uh(t.lam,-_i):this.face===ni.LEFT&&(t.lam=Uh(t.lam,+he))}if(this.es!==0){var b,E,S;b=t.phi<0?1:0,E=Math.tan(t.phi),S=this.b/Math.sqrt(E*E+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-S*S)/(this.one_minus_f*S)),b&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function ey(e,t,i,r){var s;return e<_e?(r.value=St.AREA_0,s=0):(s=Math.atan2(t,i),Math.abs(s)<=xt?r.value=St.AREA_0:s>xt&&s<=he+xt?(r.value=St.AREA_1,s-=he):s>he+xt||s<=-(he+xt)?(r.value=St.AREA_2,s=s>=0?s-_i:s+_i):(r.value=St.AREA_3,s+=he)),s}function Uh(e,t){var i=e+t;return i<-_i?i+=um:i>+_i&&(i-=um),i}var $te=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Ote={init:Ate,forward:Tte,inverse:Mte,names:$te};var Rx=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ep=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],xk=.8487,Sk=1.3523,Ek=ao/5,Cte=1/Ek,wh=18,yv=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},Ite=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function Pte(e,t,i,r){for(var s=t;r;--r){var n=e(s);if(s-=n,Math.abs(n)<i)break}return s}function Lte(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Nte(e){var t=Se(e.x-this.long0),i=Math.abs(e.y),r=Math.floor(i*Ek);r<0?r=0:r>=wh&&(r=wh-1),i=ao*(i-Cte*r);var s={x:yv(Rx[r],i)*t,y:yv(ep[r],i)};return e.y<0&&(s.y=-s.y),s.x=s.x*this.a*xk+this.x0,s.y=s.y*this.a*Sk+this.y0,s}function kte(e){var t={x:(e.x-this.x0)/(this.a*xk),y:Math.abs(e.y-this.y0)/(this.a*Sk)};if(t.y>=1)t.x/=Rx[wh][0],t.y=e.y<0?-he:he;else{var i=Math.floor(t.y*wh);for(i<0?i=0:i>=wh&&(i=wh-1);;)if(ep[i][0]>t.y)--i;else if(ep[i+1][0]<=t.y)++i;else break;var r=ep[i],s=5*(t.y-r[0])/(ep[i+1][0]-r[0]);s=Pte(function(n){return(yv(r,n)-t.y)/Ite(r,n)},s,_e,100),t.x/=yv(Rx[i],s),t.y=(5*i+s)*or,e.y<0&&(t.y=-t.y)}return t.x=Se(t.x+this.long0),t}var Rte=["Robinson","robin"];const Dte={init:Lte,forward:Nte,inverse:kte,names:Rte};function Fte(){this.name="geocent"}function Ute(e){var t=hk(e,this.es,this.a);return t}function jte(e){var t=fk(e,this.es,this.a,this.b);return t}var Bte=["Geocentric","geocentric","geocent","Geocent"];const Vte={init:Fte,forward:Ute,inverse:jte,names:Bte};var br={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},pd={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Gte(){if(Object.keys(pd).forEach(function(i){if(typeof this[i]>"u")this[i]=pd[i].def;else{if(pd[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);pd[i].num&&(this[i]=parseFloat(this[i]))}pd[i].degrees&&(this[i]=this[i]*or)}.bind(this)),Math.abs(Math.abs(this.lat0)-he)<_e?this.mode=this.lat0<0?br.S_POLE:br.N_POLE:Math.abs(this.lat0)<_e?this.mode=br.EQUIT:(this.mode=br.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function zte(e){e.x-=this.long0;var t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s,n;switch(this.mode){case br.OBLIQ:n=this.sinph0*t+this.cosph0*i*r;break;case br.EQUIT:n=i*r;break;case br.S_POLE:n=-t;break;case br.N_POLE:n=t;break}switch(n=this.pn1/(this.p-n),s=n*i*Math.sin(e.x),this.mode){case br.OBLIQ:n*=this.cosph0*t-this.sinph0*i*r;break;case br.EQUIT:n*=t;break;case br.N_POLE:n*=-(i*r);break;case br.S_POLE:n*=i*r;break}var o,a;return o=n*this.cg+s*this.sg,a=1/(o*this.sw*this.h1+this.cw),s=(s*this.cg-n*this.sg)*this.cw*a,n=o*a,e.x=s*this.a,e.y=n*this.a,e}function qte(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},i,r,s;s=1/(this.pn1-e.y*this.sw),i=this.pn1*e.x*s,r=this.pn1*e.y*this.cw*s,e.x=i*this.cg+r*this.sg,e.y=r*this.cg-i*this.sg;var n=is(e.x,e.y);if(Math.abs(n)<_e)t.x=0,t.y=e.y;else{var o,a;switch(a=1-n*n*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-a*a),this.mode){case br.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/n),e.y=(o-this.sinph0*Math.sin(t.y))*n,e.x*=a*this.cosph0;break;case br.EQUIT:t.y=Math.asin(e.y*a/n),e.y=o*n,e.x*=a;break;case br.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case br.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var Hte=["Tilted_Perspective","tpers"];const Wte={init:Gte,forward:zte,inverse:qte,names:Hte};function Yte(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Jte(e){var t=e.x,i=e.y,r,s,n,o;if(t=t-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var a=this.radius_p/is(this.radius_p*Math.cos(i),Math.sin(i));if(s=a*Math.cos(t)*Math.cos(i),n=a*Math.sin(t)*Math.cos(i),o=a*Math.sin(i),(this.radius_g-s)*s-n*n-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/is(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/is(n,r)))}else this.shape==="sphere"&&(r=Math.cos(i),s=Math.cos(t)*r,n=Math.sin(t)*r,o=Math.sin(i),r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/is(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/is(n,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function Zte(e){var t=-1,i=0,r=0,s,n,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*is(1,r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*is(1,i));var l=r/this.radius_p;if(s=i*i+l*l+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),s=i*i+r*r+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var Kte=["Geostationary Satellite View","Geostationary_Satellite","geos"];const Xte={init:Yte,forward:Jte,inverse:Zte,names:Kte};var gp=1.340264,vp=-.081106,bp=893e-6,_p=.003796,gv=Math.sqrt(3)/2;function Qte(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function eie(e){var t=Se(e.x-this.long0),i=e.y,r=Math.asin(gv*Math.sin(i)),s=r*r,n=s*s*s;return e.x=t*Math.cos(r)/(gv*(gp+3*vp*s+n*(7*bp+9*_p*s))),e.y=r*(gp+vp*s+n*(bp+_p*s)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function tie(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,i=12,r=e.y,s,n,o,a,l,c;for(c=0;c<i&&(s=r*r,n=s*s*s,o=r*(gp+vp*s+n*(bp+_p*s))-e.y,a=gp+3*vp*s+n*(7*bp+9*_p*s),r-=l=o/a,!(Math.abs(l)<t));++c);return s=r*r,n=s*s*s,e.x=gv*e.x*(gp+3*vp*s+n*(7*bp+9*_p*s))/Math.cos(r),e.y=Math.asin(Math.sin(r)/gv),e.x=Se(e.x+this.long0),e}var iie=["eqearth","Equal Earth","Equal_Earth"];const rie={init:Qte,forward:eie,inverse:tie,names:iie};var dm=1e-10;function sie(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<dm)throw new Error;this.es?(this.en=p3(this.es),this.m1=Zf(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=oie,this.forward=nie):(Math.abs(this.phi1)+dm>=he?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=lie,this.forward=aie)}function nie(e){var t=Se(e.x-(this.long0||0)),i=e.y,r,s,n;return r=this.am1+this.m1-Zf(i,s=Math.sin(i),n=Math.cos(i),this.en),s=n*t/(r*Math.sqrt(1-this.es*s*s)),e.x=r*Math.sin(s),e.y=this.am1-r*Math.cos(s),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function oie(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r,s;if(i=is(e.x,e.y=this.am1-e.y),s=m3(this.am1+this.m1-i,this.es,this.en),(t=Math.abs(s))<he)t=Math.sin(s),r=i*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(s);else if(Math.abs(t-he)<=dm)r=0;else throw new Error;return e.x=Se(r+(this.long0||0)),e.y=Ll(s),e}function aie(e){var t=Se(e.x-(this.long0||0)),i=e.y,r,s;return s=this.cphi1+this.phi1-i,Math.abs(s)>dm?(e.x=s*Math.sin(r=t*Math.cos(i)/s),e.y=this.cphi1-s*Math.cos(r)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function lie(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r=is(e.x,e.y=this.cphi1-e.y);if(i=this.cphi1+this.phi1-r,Math.abs(i)>he)throw new Error;return Math.abs(Math.abs(i)-he)<=dm?t=0:t=r*Math.atan2(e.x,e.y)/Math.cos(i),e.x=Se(t+(this.long0||0)),e.y=Ll(i),e}var cie=["bonne","Bonne (Werner lat_1=90)"];const uie={init:sie,names:cie};function hie(e){e.Proj.projections.add(pg),e.Proj.projections.add(mg),e.Proj.projections.add(nQ),e.Proj.projections.add(mQ),e.Proj.projections.add(wQ),e.Proj.projections.add(TQ),e.Proj.projections.add(PQ),e.Proj.projections.add(DQ),e.Proj.projections.add(VQ),e.Proj.projections.add(WQ),e.Proj.projections.add(uee),e.Proj.projections.add(yee),e.Proj.projections.add(wee),e.Proj.projections.add(Mee),e.Proj.projections.add(Pee),e.Proj.projections.add(Dee),e.Proj.projections.add(Vee),e.Proj.projections.add(Wee),e.Proj.projections.add(Qee),e.Proj.projections.add(ste),e.Proj.projections.add(cte),e.Proj.projections.add(pte),e.Proj.projections.add(bte),e.Proj.projections.add(Ete),e.Proj.projections.add(Ote),e.Proj.projections.add(Dte),e.Proj.projections.add(Vte),e.Proj.projections.add(Wte),e.Proj.projections.add(Xte),e.Proj.projections.add(rie),e.Proj.projections.add(uie)}Nt.defaultDatum="WGS84";Nt.Proj=po;Nt.WGS84=new Nt.Proj("WGS84");Nt.Point=lf;Nt.toPoint=dk;Nt.defs=kr;Nt.nadgrid=aX;Nt.transform=pv;Nt.mgrs=SX;Nt.version="__VERSION__";hie(Nt);const fie="EPSG:4326";class die{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Nt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Nt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Nt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Nt.defs("EPSG:102100",Nt.defs("EPSG:3857")),Nt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Nt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const i=t<10?`0${t}`:t;Nt.defs(`EPSG:326${i}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,i){t=typeof t=="number"?`EPSG:${t}`:t,Nt.defs(t,i)}defaultEpsgLookup(t){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=/EPSG:(\d+)/,s=String(t).match(i)||String(t).match(r)||[];if(s.length<2)throw new Error("Invalid code provided.");return new Promise((n,o)=>{const a=`https://epsg.io/${s[1]}.proj4`;Ni(a,{responseType:"text"}).then(f=>{f.data?n(f.data):o()},f=>{o(f)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let i,r="";try{i=this.normalizeProj(t)}catch{return!1}if(!i.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(r=this.normalizeProj(t.latestWkid));const s=(l,c)=>{l!==c&&Nt.defs(c,Nt.defs(l))};if(Nt.defs(i))return!0;if(r&&Nt.defs(r))return s(r,i),!0;const n=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Nt.defs(l,c),!0)}catch{return!1}};return await(r?n(r):Promise.resolve(!1))?(s(r,i),!0):n(i)}async checkProjBomber(t){if(t.length>0){const i=t.pop();if(await this.checkProj(i))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",i),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,i,r){let s,n;if(i?s=this.normalizeProj(i):s=Be.parseGeoJsonCrs(t.crs),r?n=this.normalizeProj(r):n=fie,n===s)return t;await this.checkProjBomber([s,n]);const o=Nt(s,n).forward;return wK(t,o)}async projectGeometry(t,i){if(i.type===Ze.EXTENT)return this.projectExtent(t,i);await this.checkProjBomber([t,i.sr]);const r=i.toGeoJSON(),s=await this.projectGeoJson(r,this.normalizeProj(i.sr),this.normalizeProj(t)),n=Wh.geom.geomGeoJsonToRamp(s,i.id);return n.sr=Be.parseSR(t),n}async projectExtent(t,i){const r=(b,E,S)=>{if(S===0)return[b,E];const T=[(b[0]+E[0])/2,(b[1]+E[1])/2];if(S===1)return[b,T,E];if(S>1){const w=r(b,T,S-1),_=r(T,E,S-1);return w.concat(_.slice(1))}return[[]]},s=i.toPolygonArray().pop()||[];let n=[];[0,1,2,3].map(b=>r(s[b],s[b+1],3).slice(1)).forEach(b=>n=n.concat(b));const o=new _r("warpy",[n],i.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),f=l.map(b=>b[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),v=Math.max.apply(null,f);return ei.fromParams(i.id+"_projected",d,y,p,v,a.sr)}}class pie{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new die,this.geom=new uK,this.sharedUtils=new pK}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const i=r=>r.map(s=>({level:s[0],resolution:s[1],scale:s[2]}));if(t===this.DEFAULT_LAMBERT)return i([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return i([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class $i{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function mie(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function yie(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(i=>e[i]!==void 0)}function Ak(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function gie(e){return typeof e=="object"&&e.default!==void 0}var ty={exports:{}},m$;function vie(){if(m$)return ty.exports;m$=1;function e(){}return e.prototype={on:function(t,i,r){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:i,ctx:r}),this},once:function(t,i,r){var s=this;function n(){s.off(t,n),i.apply(r,arguments)}return n._=i,this.on(t,n,r)},emit:function(t){var i=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=r.length;for(s;s<n;s++)r[s].fn.apply(r[s].ctx,i);return this},off:function(t,i){var r=this.e||(this.e={}),s=r[t],n=[];if(s&&i)for(var o=0,a=s.length;o<a;o++)s[o].fn!==i&&s[o].fn._!==i&&n.push(s[o]);return n.length?r[t]=n:delete r[t],this}},ty.exports=e,ty.exports.TinyEmitter=e,ty.exports}var bie=vie();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ms(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const st={},jh=[],cr=()=>{},tp=()=>!1,Au=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),b3=e=>e.startsWith("onUpdate:"),nt=Object.assign,_3=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},_ie=Object.prototype.hasOwnProperty,bt=(e,t)=>_ie.call(e,t),Ee=Array.isArray,Bh=e=>Kf(e)==="[object Map]",Tu=e=>Kf(e)==="[object Set]",y$=e=>Kf(e)==="[object Date]",wie=e=>Kf(e)==="[object RegExp]",Fe=e=>typeof e=="function",Je=e=>typeof e=="string",fs=e=>typeof e=="symbol",Ot=e=>e!==null&&typeof e=="object",w3=e=>(Ot(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),Tk=Object.prototype.toString,Kf=e=>Tk.call(e),xie=e=>Kf(e).slice(8,-1),X1=e=>Kf(e)==="[object Object]",x3=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gl=Ms(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sie=Ms("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Q1=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Eie=/-(\w)/g,Vt=Q1(e=>e.replace(Eie,(t,i)=>i?i.toUpperCase():"")),Aie=/\B([A-Z])/g,rs=Q1(e=>e.replace(Aie,"-$1").toLowerCase()),Nl=Q1(e=>e.charAt(0).toUpperCase()+e.slice(1)),Uc=Q1(e=>e?`on${Nl(e)}`:""),Fr=(e,t)=>!Object.is(e,t),Vh=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},Mk=(e,t,i,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:i})},vv=e=>{const t=parseFloat(e);return isNaN(t)?e:t},bv=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let g$;const eb=()=>g$||(g$=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Tie(e,t){return e+JSON.stringify(t,(i,r)=>typeof r=="function"?r.toString():r)}const Mie="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",$ie=Ms(Mie);function kl(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],s=Je(r)?$k(r):kl(r);if(s)for(const n in s)t[n]=s[n]}return t}else if(Je(e)||Ot(e))return e}const Oie=/;(?![^(]*\))/g,Cie=/:([^]+)/,Iie=/\/\*[^]*?\*\//g;function $k(e){const t={};return e.replace(Iie,"").split(Oie).forEach(i=>{if(i){const r=i.split(Cie);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function mi(e){let t="";if(Je(e))t=e;else if(Ee(e))for(let i=0;i<e.length;i++){const r=mi(e[i]);r&&(t+=r+" ")}else if(Ot(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function Ok(e){if(!e)return null;let{class:t,style:i}=e;return t&&!Je(t)&&(e.class=mi(t)),i&&(e.style=kl(i)),e}const Pie="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Lie="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Nie="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",kie="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Rie=Ms(Pie),Die=Ms(Lie),Fie=Ms(Nie),Uie=Ms(kie),jie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bie=Ms(jie);function Ck(e){return!!e||e===""}function Vie(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=Tl(e[r],t[r]);return i}function Tl(e,t){if(e===t)return!0;let i=y$(e),r=y$(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=fs(e),r=fs(t),i||r)return e===t;if(i=Ee(e),r=Ee(t),i||r)return i&&r?Vie(e,t):!1;if(i=Ot(e),r=Ot(t),i||r){if(!i||!r)return!1;const s=Object.keys(e).length,n=Object.keys(t).length;if(s!==n)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Tl(e[o],t[o]))return!1}}return String(e)===String(t)}function tb(e,t){return e.findIndex(i=>Tl(i,t))}const Ik=e=>!!(e&&e.__v_isRef===!0),jt=e=>Je(e)?e:e==null?"":Ee(e)||Ot(e)&&(e.toString===Tk||!Fe(e.toString))?Ik(e)?jt(e.value):JSON.stringify(e,Pk,2):String(e),Pk=(e,t)=>Ik(t)?Pk(e,t.value):Bh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,s],n)=>(i[B_(r,n)+" =>"]=s,i),{})}:Tu(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>B_(i))}:fs(t)?B_(t):Ot(t)&&!Ee(t)&&!X1(t)?String(t):t,B_=(e,t="")=>{var i;return fs(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;class ib{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rr,!t&&Rr&&(this.index=(Rr.scopes||(Rr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Rr;try{return Rr=this,t()}finally{Rr=i}}}on(){Rr=this}off(){Rr=this.parent}stop(t){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function u0(e){return new ib(e)}function rb(){return Rr}function S3(e,t=!1){Rr&&Rr.cleanups.push(e)}let Ft;const V_=new WeakSet;class uf{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rr&&Rr.active&&Rr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,V_.has(this)&&(V_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Nk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,v$(this),kk(this);const t=Ft,i=En;Ft=this,En=!0;try{return this.fn()}finally{Rk(this),Ft=t,En=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)T3(t);this.deps=this.depsTail=void 0,v$(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?V_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Dx(this)&&this.run()}get dirty(){return Dx(this)}}let Lk=0,wp,xp;function Nk(e,t=!1){if(e.flags|=8,t){e.next=xp,xp=e;return}e.next=wp,wp=e}function E3(){Lk++}function A3(){if(--Lk>0)return;if(xp){let t=xp;for(xp=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;wp;){let t=wp;for(wp=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=i}}if(e)throw e}function kk(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Rk(e){let t,i=e.depsTail,r=i;for(;r;){const s=r.prevDep;r.version===-1?(r===i&&(i=s),T3(r),Gie(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=i}function Dx(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Dk(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Dk(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===pm))return;e.globalVersion=pm;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Dx(e)){e.flags&=-3;return}const i=Ft,r=En;Ft=e,En=!0;try{kk(e);const s=e.fn(e._value);(t.version===0||Fr(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ft=i,En=r,Rk(e),e.flags&=-3}}function T3(e,t=!1){const{dep:i,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let n=i.computed.deps;n;n=n.nextDep)T3(n,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function Gie(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}function Fk(e,t){e.effect instanceof uf&&(e=e.effect.fn);const i=new uf(e);t&&nt(i,t);try{i.run()}catch(s){throw i.stop(),s}const r=i.run.bind(i);return r.effect=i,r}function Uk(e){e.effect.stop()}let En=!0;const jk=[];function Rl(){jk.push(En),En=!1}function Dl(){const e=jk.pop();En=e===void 0?!0:e}function v$(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Ft;Ft=void 0;try{t()}finally{Ft=i}}}let pm=0;class zie{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sb{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ft||!En||Ft===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ft)i=this.activeLink=new zie(Ft,this),Ft.deps?(i.prevDep=Ft.depsTail,Ft.depsTail.nextDep=i,Ft.depsTail=i):Ft.deps=Ft.depsTail=i,Bk(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=Ft.depsTail,i.nextDep=void 0,Ft.depsTail.nextDep=i,Ft.depsTail=i,Ft.deps===i&&(Ft.deps=r)}return i}trigger(t){this.version++,pm++,this.notify(t)}notify(t){E3();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{A3()}}}function Bk(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Bk(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const _v=new WeakMap,jc=Symbol(""),Fx=Symbol(""),mm=Symbol("");function wr(e,t,i){if(En&&Ft){let r=_v.get(e);r||_v.set(e,r=new Map);let s=r.get(i);s||(r.set(i,s=new sb),s.map=r,s.key=i),s.track()}}function ia(e,t,i,r,s,n){const o=_v.get(e);if(!o){pm++;return}const a=l=>{l&&l.trigger()};if(E3(),t==="clear")o.forEach(a);else{const l=Ee(e),c=l&&x3(i);if(l&&i==="length"){const f=Number(r);o.forEach((d,p)=>{(p==="length"||p===mm||!fs(p)&&p>=f)&&a(d)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),c&&a(o.get(mm)),t){case"add":l?c&&a(o.get("length")):(a(o.get(jc)),Bh(e)&&a(o.get(Fx)));break;case"delete":l||(a(o.get(jc)),Bh(e)&&a(o.get(Fx)));break;case"set":Bh(e)&&a(o.get(jc));break}}A3()}function qie(e,t){const i=_v.get(e);return i&&i.get(t)}function zu(e){const t=Ge(e);return t===e?t:(wr(t,"iterate",mm),as(e)?t:t.map(xr))}function nb(e){return wr(e=Ge(e),"iterate",mm),e}const Hie={__proto__:null,[Symbol.iterator](){return G_(this,Symbol.iterator,xr)},concat(...e){return zu(this).concat(...e.map(t=>Ee(t)?zu(t):t))},entries(){return G_(this,"entries",e=>(e[1]=xr(e[1]),e))},every(e,t){return Ro(this,"every",e,t,void 0,arguments)},filter(e,t){return Ro(this,"filter",e,t,i=>i.map(xr),arguments)},find(e,t){return Ro(this,"find",e,t,xr,arguments)},findIndex(e,t){return Ro(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ro(this,"findLast",e,t,xr,arguments)},findLastIndex(e,t){return Ro(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ro(this,"forEach",e,t,void 0,arguments)},includes(...e){return z_(this,"includes",e)},indexOf(...e){return z_(this,"indexOf",e)},join(e){return zu(this).join(e)},lastIndexOf(...e){return z_(this,"lastIndexOf",e)},map(e,t){return Ro(this,"map",e,t,void 0,arguments)},pop(){return md(this,"pop")},push(...e){return md(this,"push",e)},reduce(e,...t){return b$(this,"reduce",e,t)},reduceRight(e,...t){return b$(this,"reduceRight",e,t)},shift(){return md(this,"shift")},some(e,t){return Ro(this,"some",e,t,void 0,arguments)},splice(...e){return md(this,"splice",e)},toReversed(){return zu(this).toReversed()},toSorted(e){return zu(this).toSorted(e)},toSpliced(...e){return zu(this).toSpliced(...e)},unshift(...e){return md(this,"unshift",e)},values(){return G_(this,"values",xr)}};function G_(e,t,i){const r=nb(e),s=r[t]();return r!==e&&!as(e)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=i(n.value)),n}),s}const Wie=Array.prototype;function Ro(e,t,i,r,s,n){const o=nb(e),a=o!==e&&!as(e),l=o[t];if(l!==Wie[t]){const d=l.apply(e,n);return a?xr(d):d}let c=i;o!==e&&(a?c=function(d,p){return i.call(this,xr(d),p,e)}:i.length>2&&(c=function(d,p){return i.call(this,d,p,e)}));const f=l.call(o,c,r);return a&&s?s(f):f}function b$(e,t,i,r){const s=nb(e);let n=i;return s!==e&&(as(e)?i.length>3&&(n=function(o,a,l){return i.call(this,o,a,l,e)}):n=function(o,a,l){return i.call(this,o,xr(a),l,e)}),s[t](n,...r)}function z_(e,t,i){const r=Ge(e);wr(r,"iterate",mm);const s=r[t](...i);return(s===-1||s===!1)&&h0(i[0])?(i[0]=Ge(i[0]),r[t](...i)):s}function md(e,t,i=[]){Rl(),E3();const r=Ge(e)[t].apply(e,i);return A3(),Dl(),r}const Yie=Ms("__proto__,__v_isRef,__isVue"),Vk=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fs));function Jie(e){fs(e)||(e=String(e));const t=Ge(this);return wr(t,"has",e),t.hasOwnProperty(e)}class Gk{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,r){if(i==="__v_skip")return t.__v_skip;const s=this._isReadonly,n=this._isShallow;if(i==="__v_isReactive")return!s;if(i==="__v_isReadonly")return s;if(i==="__v_isShallow")return n;if(i==="__v_raw")return r===(s?n?Jk:Yk:n?Wk:Hk).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ee(t);if(!s){let l;if(o&&(l=Hie[i]))return l;if(i==="hasOwnProperty")return Jie}const a=Reflect.get(t,i,ht(t)?t:r);return(fs(i)?Vk.has(i):Yie(i))||(s||wr(t,"get",i),n)?a:ht(a)?o&&x3(i)?a:a.value:Ot(a)?s?ab(a):rr(a):a}}class zk extends Gk{constructor(t=!1){super(!1,t)}set(t,i,r,s){let n=t[i];if(!this._isShallow){const l=da(n);if(!as(r)&&!da(r)&&(n=Ge(n),r=Ge(r)),!Ee(t)&&ht(n)&&!ht(r))return l?!1:(n.value=r,!0)}const o=Ee(t)&&x3(i)?Number(i)<t.length:bt(t,i),a=Reflect.set(t,i,r,ht(t)?t:s);return t===Ge(s)&&(o?Fr(r,n)&&ia(t,"set",i,r):ia(t,"add",i,r)),a}deleteProperty(t,i){const r=bt(t,i);t[i];const s=Reflect.deleteProperty(t,i);return s&&r&&ia(t,"delete",i,void 0),s}has(t,i){const r=Reflect.has(t,i);return(!fs(i)||!Vk.has(i))&&wr(t,"has",i),r}ownKeys(t){return wr(t,"iterate",Ee(t)?"length":jc),Reflect.ownKeys(t)}}class qk extends Gk{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const Zie=new zk,Kie=new qk,Xie=new zk(!0),Qie=new qk(!0),Ux=e=>e,iy=e=>Reflect.getPrototypeOf(e);function ere(e,t,i){return function(...r){const s=this.__v_raw,n=Ge(s),o=Bh(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),f=i?Ux:t?jx:xr;return!t&&wr(n,"iterate",l?Fx:jc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function ry(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function tre(e,t){const i={get(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);e||(Fr(s,a)&&wr(o,"get",s),wr(o,"get",a));const{has:l}=iy(o),c=t?Ux:e?jx:xr;if(l.call(o,s))return c(n.get(s));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(s)},get size(){const s=this.__v_raw;return!e&&wr(Ge(s),"iterate",jc),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);return e||(Fr(s,a)&&wr(o,"has",s),wr(o,"has",a)),s===a?n.has(s):n.has(s)||n.has(a)},forEach(s,n){const o=this,a=o.__v_raw,l=Ge(a),c=t?Ux:e?jx:xr;return!e&&wr(l,"iterate",jc),a.forEach((f,d)=>s.call(n,c(f),c(d),o))}};return nt(i,e?{add:ry("add"),set:ry("set"),delete:ry("delete"),clear:ry("clear")}:{add(s){!t&&!as(s)&&!da(s)&&(s=Ge(s));const n=Ge(this);return iy(n).has.call(n,s)||(n.add(s),ia(n,"add",s,s)),this},set(s,n){!t&&!as(n)&&!da(n)&&(n=Ge(n));const o=Ge(this),{has:a,get:l}=iy(o);let c=a.call(o,s);c||(s=Ge(s),c=a.call(o,s));const f=l.call(o,s);return o.set(s,n),c?Fr(n,f)&&ia(o,"set",s,n):ia(o,"add",s,n),this},delete(s){const n=Ge(this),{has:o,get:a}=iy(n);let l=o.call(n,s);l||(s=Ge(s),l=o.call(n,s)),a&&a.call(n,s);const c=n.delete(s);return l&&ia(n,"delete",s,void 0),c},clear(){const s=Ge(this),n=s.size!==0,o=s.clear();return n&&ia(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=ere(s,e,t)}),i}function ob(e,t){const i=tre(e,t);return(r,s,n)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(bt(i,s)&&s in r?i:r,s,n)}const ire={get:ob(!1,!1)},rre={get:ob(!1,!0)},sre={get:ob(!0,!1)},nre={get:ob(!0,!0)},Hk=new WeakMap,Wk=new WeakMap,Yk=new WeakMap,Jk=new WeakMap;function ore(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function are(e){return e.__v_skip||!Object.isExtensible(e)?0:ore(xie(e))}function rr(e){return da(e)?e:lb(e,!1,Zie,ire,Hk)}function M3(e){return lb(e,!1,Xie,rre,Wk)}function ab(e){return lb(e,!0,Kie,sre,Yk)}function Zk(e){return lb(e,!0,Qie,nre,Jk)}function lb(e,t,i,r,s){if(!Ot(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=s.get(e);if(n)return n;const o=are(e);if(o===0)return e;const a=new Proxy(e,o===2?r:i);return s.set(e,a),a}function xs(e){return da(e)?xs(e.__v_raw):!!(e&&e.__v_isReactive)}function da(e){return!!(e&&e.__v_isReadonly)}function as(e){return!!(e&&e.__v_isShallow)}function h0(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function pi(e){return!bt(e,"__v_skip")&&Object.isExtensible(e)&&Mk(e,"__v_skip",!0),e}const xr=e=>Ot(e)?rr(e):e,jx=e=>Ot(e)?ab(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function X(e){return Kk(e,!1)}function Xf(e){return Kk(e,!0)}function Kk(e,t){return ht(e)?e:new lre(e,t)}class lre{constructor(t,i){this.dep=new sb,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Ge(t),this._value=i?t:xr(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,r=this.__v_isShallow||as(t)||da(t);t=r?t:Ge(t),Fr(t,i)&&(this._rawValue=t,this._value=r?t:xr(t),this.dep.trigger())}}function Xk(e){e.dep&&e.dep.trigger()}function $e(e){return ht(e)?e.value:e}function Qk(e){return Fe(e)?e():$e(e)}const cre={get:(e,t,i)=>t==="__v_raw"?e:$e(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const s=e[t];return ht(s)&&!ht(i)?(s.value=i,!0):Reflect.set(e,t,i,r)}};function cb(e){return xs(e)?e:new Proxy(e,cre)}class ure{constructor(t){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new sb,{get:r,set:s}=t(i.track.bind(i),i.trigger.bind(i));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function $3(e){return new ure(e)}function O3(e){const t=Ee(e)?new Array(e.length):{};for(const i in e)t[i]=tR(e,i);return t}class hre{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return qie(Ge(this._object),this._key)}}class fre{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function eR(e,t,i){return ht(e)?e:Fe(e)?new fre(e):Ot(e)&&arguments.length>1?tR(e,t,i):X(e)}function tR(e,t,i){const r=e[t];return ht(r)?r:new hre(e,t,i)}class dre{constructor(t,i,r){this.fn=t,this.setter=i,this._value=void 0,this.dep=new sb(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return Nk(this,!0),!0}get value(){const t=this.dep.track();return Dk(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pre(e,t,i=!1){let r,s;return Fe(e)?r=e:(r=e.get,s=e.set),new dre(r,s,i)}const iR={GET:"get",HAS:"has",ITERATE:"iterate"},rR={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},sy={},wv=new WeakMap;let Ka;function sR(){return Ka}function C3(e,t=!1,i=Ka){if(i){let r=wv.get(i);r||wv.set(i,r=[]),r.push(e)}}function mre(e,t,i=st){const{immediate:r,deep:s,once:n,scheduler:o,augmentJob:a,call:l}=i,c=_=>s?_:as(_)||s===!1||s===0?ra(_,1):ra(_);let f,d,p,y,v=!1,b=!1;if(ht(e)?(d=()=>e.value,v=as(e)):xs(e)?(d=()=>c(e),v=!0):Ee(e)?(b=!0,v=e.some(_=>xs(_)||as(_)),d=()=>e.map(_=>{if(ht(_))return _.value;if(xs(_))return c(_);if(Fe(_))return l?l(_,2):_()})):Fe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){Rl();try{p()}finally{Dl()}}const _=Ka;Ka=f;try{return l?l(e,3,[y]):e(y)}finally{Ka=_}}:d=cr,t&&s){const _=d,M=s===!0?1/0:s;d=()=>ra(_(),M)}const E=rb(),S=()=>{f.stop(),E&&E.active&&_3(E.effects,f)};if(n&&t){const _=t;t=(...M)=>{_(...M),S()}}let T=b?new Array(e.length).fill(sy):sy;const w=_=>{if(!(!(f.flags&1)||!f.dirty&&!_))if(t){const M=f.run();if(s||v||(b?M.some(($,I)=>Fr($,T[I])):Fr(M,T))){p&&p();const $=Ka;Ka=f;try{const I=[M,T===sy?void 0:b&&T[0]===sy?[]:T,y];l?l(t,3,I):t(...I),T=M}finally{Ka=$}}}else f.run()};return a&&a(w),f=new uf(d),f.scheduler=o?()=>o(w,!1):w,y=_=>C3(_,!1,f),p=f.onStop=()=>{const _=wv.get(f);if(_){if(l)l(_,4);else for(const M of _)M();wv.delete(f)}},t?r?w(!0):T=f.run():o?o(w.bind(null,!0),!0):f.run(),S.pause=f.pause.bind(f),S.resume=f.resume.bind(f),S.stop=S,S}function ra(e,t=1/0,i){if(t<=0||!Ot(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,ht(e))ra(e.value,t,i);else if(Ee(e))for(let r=0;r<e.length;r++)ra(e[r],t,i);else if(Tu(e)||Bh(e))e.forEach(r=>{ra(r,t,i)});else if(X1(e)){for(const r in e)ra(e[r],t,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&ra(e[r],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const nR=[];function yre(e){nR.push(e)}function gre(){nR.pop()}function oR(e,t){}const aR={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},vre={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Mu(e,t,i,r){try{return r?e(...r):e()}catch(s){Fl(s,t,i)}}function Es(e,t,i,r){if(Fe(e)){const s=Mu(e,t,i,r);return s&&w3(s)&&s.catch(n=>{Fl(n,t,i)}),s}if(Ee(e)){const s=[];for(let n=0;n<e.length;n++)s.push(Es(e[n],t,i,r));return s}}function Fl(e,t,i,r=!0){const s=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||st;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,c)===!1)return}a=a.parent}if(n){Rl(),Mu(n,null,10,[e,l,c]),Dl();return}}bre(e,i,s,r,o)}function bre(e,t,i,r=!0,s=!1){if(s)throw e;console.error(e)}const Ur=[];let Qn=-1;const Gh=[];let Xa=null,oh=0;const lR=Promise.resolve();let xv=null;function Rn(e){const t=xv||lR;return e?t.then(this?e.bind(this):e):t}function _re(e){let t=Qn+1,i=Ur.length;for(;t<i;){const r=t+i>>>1,s=Ur[r],n=ym(s);n<e||n===e&&s.flags&2?t=r+1:i=r}return t}function I3(e){if(!(e.flags&1)){const t=ym(e),i=Ur[Ur.length-1];!i||!(e.flags&2)&&t>=ym(i)?Ur.push(e):Ur.splice(_re(t),0,e),e.flags|=1,cR()}}function cR(){xv||(xv=lR.then(uR))}function hf(e){Ee(e)?Gh.push(...e):Xa&&e.id===-1?Xa.splice(oh+1,0,e):e.flags&1||(Gh.push(e),e.flags|=1),cR()}function _$(e,t,i=Qn+1){for(;i<Ur.length;i++){const r=Ur[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ur.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Sv(e){if(Gh.length){const t=[...new Set(Gh)].sort((i,r)=>ym(i)-ym(r));if(Gh.length=0,Xa){Xa.push(...t);return}for(Xa=t,oh=0;oh<Xa.length;oh++){const i=Xa[oh];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Xa=null,oh=0}}const ym=e=>e.id==null?e.flags&2?-1:1/0:e.id;function uR(e){try{for(Qn=0;Qn<Ur.length;Qn++){const t=Ur[Qn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Mu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Qn<Ur.length;Qn++){const t=Ur[Qn];t&&(t.flags&=-2)}Qn=-1,Ur.length=0,Sv(),xv=null,(Ur.length||Gh.length)&&uR()}}let ah,ny=[];function hR(e,t){var i,r;ah=e,ah?(ah.enabled=!0,ny.forEach(({event:s,args:n})=>ah.emit(s,...n)),ny=[]):typeof window<"u"&&window.HTMLElement&&!((r=(i=window.navigator)==null?void 0:i.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{hR(n,t)}),setTimeout(()=>{ah||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ny=[])},3e3)):ny=[]}let Wi=null,ub=null;function gm(e){const t=Wi;return Wi=e,ub=e&&e.type.__scopeId||null,t}function fR(e){ub=e}function dR(){ub=null}const pR=e=>Mi;function Mi(e,t=Wi,i){if(!t||e._n)return e;const r=(...s)=>{r._d&&$v(-1);const n=gm(t);let o;try{o=e(...s)}finally{gm(n),r._d&&$v(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function At(e,t){if(Wi===null)return e;const i=m0(Wi),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[n,o,a,l=st]=t[s];n&&(Fe(n)&&(n={mounted:n,updated:n}),n.deep&&ra(o),r.push({dir:n,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function io(e,t,i,r){const s=e.dirs,n=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[r];l&&(Rl(),Es(l,i,8,[e.el,a,e,t]),Dl())}}const mR=Symbol("_vte"),yR=e=>e.__isTeleport,Sp=e=>e&&(e.disabled||e.disabled===""),w$=e=>e&&(e.defer||e.defer===""),x$=e=>typeof SVGElement<"u"&&e instanceof SVGElement,S$=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Bx=(e,t)=>{const i=e&&e.to;return Je(i)?t?t(i):null:i},gR={name:"Teleport",__isTeleport:!0,process(e,t,i,r,s,n,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:b,createComment:E}}=c,S=Sp(t.props);let{shapeFlag:T,children:w,dynamicChildren:_}=t;if(e==null){const M=t.el=b(""),$=t.anchor=b("");y(M,i,r),y($,i,r);const I=(P,F)=>{T&16&&(s&&s.isCE&&(s.ce._teleportTarget=P),f(w,P,F,s,n,o,a,l))},L=()=>{const P=t.target=Bx(t.props,v),F=vR(P,t,b,y);P&&(o!=="svg"&&x$(P)?o="svg":o!=="mathml"&&S$(P)&&(o="mathml"),S||(I(P,F),yg(t,!1)))};S&&(I(i,$),yg(t,!0)),w$(t.props)?Bi(()=>{L(),t.el.__isMounted=!0},n):L()}else{if(w$(t.props)&&!e.el.__isMounted){Bi(()=>{gR.process(e,t,i,r,s,n,o,a,l,c),delete e.el.__isMounted},n);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,$=t.target=e.target,I=t.targetAnchor=e.targetAnchor,L=Sp(e.props),P=L?i:$,F=L?M:I;if(o==="svg"||x$($)?o="svg":(o==="mathml"||S$($))&&(o="mathml"),_?(p(e.dynamicChildren,_,P,s,n,o,a),X3(e,t,!0)):l||d(e,t,P,F,s,n,o,a,!1),S)L?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):oy(t,i,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const z=t.target=Bx(t.props,v);z&&oy(t,z,null,c,0)}else L&&oy(t,$,I,c,1);yg(t,S)}},remove(e,t,i,{um:r,o:{remove:s}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=e;if(d&&(s(c),s(f)),n&&s(l),o&16){const y=n||!Sp(p);for(let v=0;v<a.length;v++){const b=a[v];r(b,t,i,y,!!b.dynamicChildren)}}},move:oy,hydrate:wre};function oy(e,t,i,{o:{insert:r},m:s},n=2){n===0&&r(e.targetAnchor,t,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,d=n===2;if(d&&r(o,t,i),(!d||Sp(f))&&l&16)for(let p=0;p<c.length;p++)s(c[p],t,i,2);d&&r(a,t,i)}function wre(e,t,i,r,s,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=t.target=Bx(t.props,l);if(p){const y=Sp(t.props),v=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,a(e),i,r,s,n),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let b=v;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}b=o(b)}t.targetAnchor||vR(p,t,f,c),d(v&&o(v),t,p,i,r,s,n)}yg(t,y)}return t.anchor&&o(t.anchor)}const P3=gR;function yg(e,t){const i=e.ctx;if(i&&i.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function vR(e,t,i,r){const s=t.targetStart=i(""),n=t.targetAnchor=i("");return s[mR]=n,e&&(r(s,e),r(n,e)),n}const Qa=Symbol("_leaveCb"),ay=Symbol("_enterCb");function hb(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hr(()=>{e.isMounted=!0}),Dn(()=>{e.isUnmounting=!0}),e}const Is=[Function,Array],fb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Is,onEnter:Is,onAfterEnter:Is,onEnterCancelled:Is,onBeforeLeave:Is,onLeave:Is,onAfterLeave:Is,onLeaveCancelled:Is,onBeforeAppear:Is,onAppear:Is,onAfterAppear:Is,onAppearCancelled:Is},bR=e=>{const t=e.subTree;return t.component?bR(t.component):t},xre={name:"BaseTransition",props:fb,setup(e,{slots:t}){const i=Ri(),r=hb();return()=>{const s=t.default&&f0(t.default(),!0);if(!s||!s.length)return;const n=_R(s),o=Ge(e),{mode:a}=o;if(r.isLeaving)return q_(n);const l=E$(n);if(!l)return q_(n);let c=lu(l,o,r,i,d=>c=d);l.type!==xi&&Ao(l,c);let f=i.subTree&&E$(i.subTree);if(f&&f.type!==xi&&!pn(l,f)&&bR(i).type!==xi){let d=lu(f,o,r,i);if(Ao(f,d),a==="out-in"&&l.type!==xi)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete d.afterLeave,f=void 0},q_(n);a==="in-out"&&l.type!==xi?d.delayLeave=(p,y,v)=>{const b=wR(r,f);b[String(f.key)]=f,p[Qa]=()=>{y(),p[Qa]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return n}}};function _R(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==xi){t=i;break}}return t}const L3=xre;function wR(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function lu(e,t,i,r,s){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:E,onAppear:S,onAfterAppear:T,onAppearCancelled:w}=t,_=String(e.key),M=wR(i,e),$=(P,F)=>{P&&Es(P,r,9,F)},I=(P,F)=>{const z=F[1];$(P,F),Ee(P)?P.every(U=>U.length<=1)&&z():P.length<=1&&z()},L={mode:o,persisted:a,beforeEnter(P){let F=l;if(!i.isMounted)if(n)F=E||l;else return;P[Qa]&&P[Qa](!0);const z=M[_];z&&pn(e,z)&&z.el[Qa]&&z.el[Qa](),$(F,[P])},enter(P){let F=c,z=f,U=d;if(!i.isMounted)if(n)F=S||c,z=T||f,U=w||d;else return;let B=!1;const Z=P[ay]=u=>{B||(B=!0,u?$(U,[P]):$(z,[P]),L.delayedLeave&&L.delayedLeave(),P[ay]=void 0)};F?I(F,[P,Z]):Z()},leave(P,F){const z=String(e.key);if(P[ay]&&P[ay](!0),i.isUnmounting)return F();$(p,[P]);let U=!1;const B=P[Qa]=Z=>{U||(U=!0,F(),Z?$(b,[P]):$(v,[P]),P[Qa]=void 0,M[z]===e&&delete M[z])};M[z]=e,y?I(y,[P,B]):B()},clone(P){const F=lu(P,t,i,r,s);return s&&s(F),F}};return L}function q_(e){if(d0(e))return e=Ln(e),e.children=null,e}function E$(e){if(!d0(e))return yR(e.type)&&e.children?_R(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&Fe(i.default))return i.default()}}function Ao(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ao(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function f0(e,t=!1,i){let r=[],s=0;for(let n=0;n<e.length;n++){let o=e[n];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:n);o.type===It?(o.patchFlag&128&&s++,r=r.concat(f0(o.children,t,a))):(t||o.type!==xi)&&r.push(a!=null?Ln(o,{key:a}):o)}if(s>1)for(let n=0;n<r.length;n++)r[n].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rt(e,t){return Fe(e)?nt({name:e.name},t,{setup:e}):e}function xR(){const e=Ri();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function N3(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ev(e){const t=Ri(),i=Xf(null);if(t){const s=t.refs===st?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>i.value,set:n=>i.value=n})}return i}function vm(e,t,i,r,s=!1){if(Ee(e)){e.forEach((v,b)=>vm(v,t&&(Ee(t)?t[b]:t),i,r,s));return}if(vl(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&vm(e,t,i,r.component.subTree);return}const n=r.shapeFlag&4?m0(r.component):r.el,o=s?null:n,{i:a,r:l}=e,c=t&&t.r,f=a.refs===st?a.refs={}:a.refs,d=a.setupState,p=Ge(d),y=d===st?()=>!1:v=>bt(p,v);if(c!=null&&c!==l&&(Je(c)?(f[c]=null,y(c)&&(d[c]=null)):ht(c)&&(c.value=null)),Fe(l))Mu(l,a,12,[o,f]);else{const v=Je(l),b=ht(l);if(v||b){const E=()=>{if(e.f){const S=v?y(l)?d[l]:f[l]:l.value;s?Ee(S)&&_3(S,n):Ee(S)?S.includes(n)||S.push(n):v?(f[l]=[n],y(l)&&(d[l]=f[l])):(l.value=[n],e.k&&(f[e.k]=l.value))}else v?(f[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,e.k&&(f[e.k]=o))};o?(E.id=-1,Bi(E,i)):E()}}}let A$=!1;const qu=()=>{A$||(console.error("Hydration completed but contains mismatches."),A$=!0)},Sre=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Ere=e=>e.namespaceURI.includes("MathML"),ly=e=>{if(e.nodeType===1){if(Sre(e))return"svg";if(Ere(e))return"mathml"}},xh=e=>e.nodeType===8;function Are(e){const{mt:t,p:i,o:{patchProp:r,createText:s,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(w,_)=>{if(!_.hasChildNodes()){i(null,w,_),Sv(),_._vnode=w;return}d(_.firstChild,w,null,null,null),Sv(),_._vnode=w},d=(w,_,M,$,I,L=!1)=>{L=L||!!_.dynamicChildren;const P=xh(w)&&w.data==="[",F=()=>b(w,_,M,$,I,P),{type:z,ref:U,shapeFlag:B,patchFlag:Z}=_;let u=w.nodeType;_.el=w,Z===-2&&(L=!1,_.dynamicChildren=null);let m=null;switch(z){case mo:u!==3?_.children===""?(l(_.el=s(""),o(w),w),m=w):m=F():(w.data!==_.children&&(qu(),w.data=_.children),m=n(w));break;case xi:T(w)?(m=n(w),S(_.el=w.content.firstChild,w,M)):u!==8||P?m=F():m=n(w);break;case bl:if(P&&(w=n(w),u=w.nodeType),u===1||u===3){m=w;const x=!_.children.length;for(let C=0;C<_.staticCount;C++)x&&(_.children+=m.nodeType===1?m.outerHTML:m.data),C===_.staticCount-1&&(_.anchor=m),m=n(m);return P?n(m):m}else F();break;case It:P?m=v(w,_,M,$,I,L):m=F();break;default:if(B&1)(u!==1||_.type.toLowerCase()!==w.tagName.toLowerCase())&&!T(w)?m=F():m=p(w,_,M,$,I,L);else if(B&6){_.slotScopeIds=I;const x=o(w);if(P?m=E(w):xh(w)&&w.data==="teleport start"?m=E(w,w.data,"teleport end"):m=n(w),t(_,x,null,M,$,ly(x),L),vl(_)&&!_.type.__asyncResolved){let C;P?(C=Ke(It),C.anchor=m?m.previousSibling:x.lastChild):C=w.nodeType===3?yo(""):Ke("div"),C.el=w,_.component.subTree=C}}else B&64?u!==8?m=F():m=_.type.hydrate(w,_,M,$,I,L,e,y):B&128&&(m=_.type.hydrate(w,_,M,$,ly(o(w)),I,L,e,d))}return U!=null&&vm(U,null,$,_),m},p=(w,_,M,$,I,L)=>{L=L||!!_.dynamicChildren;const{type:P,props:F,patchFlag:z,shapeFlag:U,dirs:B,transition:Z}=_,u=P==="input"||P==="option";if(u||z!==-1){B&&io(_,null,M,"created");let m=!1;if(T(w)){m=s8(null,Z)&&M&&M.vnode.props&&M.vnode.props.appear;const C=w.content.firstChild;m&&Z.beforeEnter(C),S(C,w,M),_.el=w=C}if(U&16&&!(F&&(F.innerHTML||F.textContent))){let C=y(w.firstChild,_,w,M,$,I,L);for(;C;){cy(w,1)||qu();const V=C;C=C.nextSibling,a(V)}}else if(U&8){let C=_.children;C[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(C=C.slice(1)),w.textContent!==C&&(cy(w,0)||qu(),w.textContent=_.children)}if(F){if(u||!L||z&48){const C=w.tagName.includes("-");for(const V in F)(u&&(V.endsWith("value")||V==="indeterminate")||Au(V)&&!gl(V)||V[0]==="."||C)&&r(w,V,null,F[V],void 0,M)}else if(F.onClick)r(w,"onClick",null,F.onClick,void 0,M);else if(z&4&&xs(F.style))for(const C in F.style)F.style[C]}let x;(x=F&&F.onVnodeBeforeMount)&&Xr(x,M,_),B&&io(_,null,M,"beforeMount"),((x=F&&F.onVnodeMounted)||B||m)&&p8(()=>{x&&Xr(x,M,_),m&&Z.enter(w),B&&io(_,null,M,"mounted")},$)}return w.nextSibling},y=(w,_,M,$,I,L,P)=>{P=P||!!_.dynamicChildren;const F=_.children,z=F.length;for(let U=0;U<z;U++){const B=P?F[U]:F[U]=es(F[U]),Z=B.type===mo;w?(Z&&!P&&U+1<z&&es(F[U+1]).type===mo&&(l(s(w.data.slice(B.children.length)),M,n(w)),w.data=B.children),w=d(w,B,$,I,L,P)):Z&&!B.children?l(B.el=s(""),M):(cy(M,1)||qu(),i(null,B,M,null,$,I,ly(M),L))}return w},v=(w,_,M,$,I,L)=>{const{slotScopeIds:P}=_;P&&(I=I?I.concat(P):P);const F=o(w),z=y(n(w),_,F,M,$,I,L);return z&&xh(z)&&z.data==="]"?n(_.anchor=z):(qu(),l(_.anchor=c("]"),F,z),z)},b=(w,_,M,$,I,L)=>{if(cy(w.parentElement,1)||qu(),_.el=null,L){const z=E(w);for(;;){const U=n(w);if(U&&U!==z)a(U);else break}}const P=n(w),F=o(w);return a(w),i(null,_,F,P,M,$,ly(F),I),M&&(M.vnode.el=_.el,gb(M,_.el)),P},E=(w,_="[",M="]")=>{let $=0;for(;w;)if(w=n(w),w&&xh(w)&&(w.data===_&&$++,w.data===M)){if($===0)return n(w);$--}return w},S=(w,_,M)=>{const $=_.parentNode;$&&$.replaceChild(w,_);let I=M;for(;I;)I.vnode.el===_&&(I.vnode.el=I.subTree.el=w),I=I.parent},T=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[f,d]}const T$="data-allow-mismatch",Tre={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function cy(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(T$);)e=e.parentElement;const i=e&&e.getAttribute(T$);if(i==null)return!1;if(i==="")return!0;{const r=i.split(",");return t===0&&r.includes("children")?!0:i.split(",").includes(Tre[t])}}const Mre=eb().requestIdleCallback||(e=>setTimeout(e,1)),$re=eb().cancelIdleCallback||(e=>clearTimeout(e)),SR=(e=1e4)=>t=>{const i=Mre(t,{timeout:e});return()=>$re(i)};function Ore(e){const{top:t,left:i,bottom:r,right:s}=e.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(t>0&&t<n||r>0&&r<n)&&(i>0&&i<o||s>0&&s<o)}const ER=e=>(t,i)=>{const r=new IntersectionObserver(s=>{for(const n of s)if(n.isIntersecting){r.disconnect(),t();break}},e);return i(s=>{if(s instanceof Element){if(Ore(s))return t(),r.disconnect(),!1;r.observe(s)}}),()=>r.disconnect()},AR=e=>t=>{if(e){const i=matchMedia(e);if(i.matches)t();else return i.addEventListener("change",t,{once:!0}),()=>i.removeEventListener("change",t)}},TR=(e=[])=>(t,i)=>{Je(e)&&(e=[e]);let r=!1;const s=o=>{r||(r=!0,n(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{i(o=>{for(const a of e)o.removeEventListener(a,s)})};return i(o=>{for(const a of e)o.addEventListener(a,s,{once:!0})}),n};function Cre(e,t){if(xh(e)&&e.data==="["){let i=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(xh(r))if(r.data==="]"){if(--i===0)break}else r.data==="["&&i++;r=r.nextSibling}}else t(e)}const vl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function k3(e){Fe(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:s=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=t().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((E,S)=>{l(b,()=>E(p()),()=>S(b),d+1)});throw b}).then(b=>v!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),f=b,b)))};return rt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,b,E){const S=n?()=>{const T=n(E,w=>Cre(v,w));T&&(b.bum||(b.bum=[])).push(T)}:E;f?S():y().then(()=>!b.isUnmounted&&S())},get __asyncResolved(){return f},setup(){const v=qi;if(N3(v),f)return()=>H_(f,v);const b=w=>{c=null,Fl(w,v,13,!r)};if(a&&v.suspense||ff)return y().then(w=>()=>H_(w,v)).catch(w=>(b(w),()=>r?Ke(r,{error:w}):null));const E=X(!1),S=X(),T=X(!!s);return s&&setTimeout(()=>{T.value=!1},s),o!=null&&setTimeout(()=>{if(!E.value&&!S.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),S.value=w}},o),y().then(()=>{E.value=!0,v.parent&&d0(v.parent.vnode)&&v.parent.update()}).catch(w=>{b(w),S.value=w}),()=>{if(E.value&&f)return H_(f,v);if(S.value&&r)return Ke(r,{error:S.value});if(i&&!T.value)return Ke(i)}}})}function H_(e,t){const{ref:i,props:r,children:s,ce:n}=t.vnode,o=Ke(e,r,s);return o.ref=i,o.ce=n,delete t.vnode.ce,o}const d0=e=>e.type.__isKeepAlive,Ire={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=Ri(),r=i.ctx;if(!r.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const s=new Map,n=new Set;let o=null;const a=i.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=r,p=d("div");r.activate=(T,w,_,M,$)=>{const I=T.component;c(T,w,_,0,a),l(I.vnode,T,w,_,I,a,M,T.slotScopeIds,$),Bi(()=>{I.isDeactivated=!1,I.a&&Vh(I.a);const L=T.props&&T.props.onVnodeMounted;L&&Xr(L,I.parent,T)},a)},r.deactivate=T=>{const w=T.component;Tv(w.m),Tv(w.a),c(T,p,null,1,a),Bi(()=>{w.da&&Vh(w.da);const _=T.props&&T.props.onVnodeUnmounted;_&&Xr(_,w.parent,T),w.isDeactivated=!0},a)};function y(T){W_(T),f(T,i,a,!0)}function v(T){s.forEach((w,_)=>{const M=Xx(w.type);M&&!T(M)&&b(_)})}function b(T){const w=s.get(T);w&&(!o||!pn(w,o))?y(w):o&&W_(o),s.delete(T),n.delete(T)}Ji(()=>[e.include,e.exclude],([T,w])=>{T&&v(_=>ip(T,_)),w&&v(_=>!ip(w,_))},{flush:"post",deep:!0});let E=null;const S=()=>{E!=null&&(Mv(i.subTree.type)?Bi(()=>{s.set(E,uy(i.subTree))},i.subTree.suspense):s.set(E,uy(i.subTree)))};return hr(S),Qf(S),Dn(()=>{s.forEach(T=>{const{subTree:w,suspense:_}=i,M=uy(w);if(T.type===M.type&&T.key===M.key){W_(M);const $=M.component.da;$&&Bi($,_);return}y(T)})}),()=>{if(E=null,!t.default)return o=null;const T=t.default(),w=T[0];if(T.length>1)return o=null,T;if(!Pn(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let _=uy(w);if(_.type===xi)return o=null,_;const M=_.type,$=Xx(vl(_)?_.type.__asyncResolved||{}:M),{include:I,exclude:L,max:P}=e;if(I&&(!$||!ip(I,$))||L&&$&&ip(L,$))return _.shapeFlag&=-257,o=_,w;const F=_.key==null?M:_.key,z=s.get(F);return _.el&&(_=Ln(_),w.shapeFlag&128&&(w.ssContent=_)),E=F,z?(_.el=z.el,_.component=z.component,_.transition&&Ao(_,_.transition),_.shapeFlag|=512,n.delete(F),n.add(F)):(n.add(F),P&&n.size>parseInt(P,10)&&b(n.values().next().value)),_.shapeFlag|=256,o=_,Mv(w.type)?w:_}}},MR=Ire;function ip(e,t){return Ee(e)?e.some(i=>ip(i,t)):Je(e)?e.split(",").includes(t):wie(e)?(e.lastIndex=0,e.test(t)):!1}function R3(e,t){$R(e,"a",t)}function D3(e,t){$R(e,"da",t)}function $R(e,t,i=qi){const r=e.__wdc||(e.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(db(t,r,i),i){let s=i.parent;for(;s&&s.parent;)d0(s.parent.vnode)&&Pre(r,t,i,s),s=s.parent}}function Pre(e,t,i,r){const s=db(t,e,r,!0);$u(()=>{_3(r[t],s)},i)}function W_(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function uy(e){return e.shapeFlag&128?e.ssContent:e}function db(e,t,i=qi,r=!1){if(i){const s=i[e]||(i[e]=[]),n=t.__weh||(t.__weh=(...o)=>{Rl();const a=uu(i),l=Es(t,i,e,o);return a(),Dl(),l});return r?s.unshift(n):s.push(n),n}}const ga=e=>(t,i=qi)=>{(!ff||e==="sp")&&db(e,(...r)=>t(...r),i)},pb=ga("bm"),hr=ga("m"),mb=ga("bu"),Qf=ga("u"),Dn=ga("bum"),$u=ga("um"),F3=ga("sp"),U3=ga("rtg"),j3=ga("rtc");function B3(e,t=qi){db("ec",e,t)}const V3="components",Lre="directives";function wi(e,t){return z3(V3,e,!0,t)||e}const OR=Symbol.for("v-ndc");function G3(e){return Je(e)?z3(V3,e,!1)||e:e||OR}function Tt(e){return z3(Lre,e)}function z3(e,t,i=!0,r=!1){const s=Wi||qi;if(s){const n=s.type;if(e===V3){const a=Xx(n,!1);if(a&&(a===t||a===Vt(t)||a===Nl(Vt(t))))return n}const o=M$(s[e]||n[e],t)||M$(s.appContext[e],t);return!o&&r?n:o}}function M$(e,t){return e&&(e[t]||e[Vt(t)]||e[Nl(Vt(t))])}function Ul(e,t,i,r){let s;const n=i&&i[r],o=Ee(e);if(o||Je(e)){const a=o&&xs(e);let l=!1;a&&(l=!as(e),e=nb(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(l?xr(e[c]):e[c],c,void 0,n&&n[c])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,n&&n[a])}else if(Ot(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,n&&n[l]));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];s[l]=t(e[f],f,l,n&&n[l])}}else s=[];return i&&(i[r]=s),s}function CR(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(Ee(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const n=r.fn(...s);return n&&(n.key=r.key),n}:r.fn)}return e}function gn(e,t,i={},r,s){if(Wi.ce||Wi.parent&&vl(Wi.parent)&&Wi.parent.ce)return t!=="default"&&(i.name=t),fe(),Bt(It,null,[Ke("slot",i,r&&r())],64);let n=e[t];n&&n._c&&(n._d=!1),fe();const o=n&&q3(n(i)),a=i.key||o&&o.key,l=Bt(It,{key:(a&&!fs(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function q3(e){return e.some(t=>Pn(t)?!(t.type===xi||t.type===It&&!q3(t.children)):!0)?e:null}function IR(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:Uc(r)]=e[r];return i}const Vx=e=>e?w8(e)?m0(e):Vx(e.parent):null,Ep=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vx(e.parent),$root:e=>Vx(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>H3(e),$forceUpdate:e=>e.f||(e.f=()=>{I3(e.update)}),$nextTick:e=>e.n||(e.n=Rn.bind(e.proxy)),$watch:e=>Jre.bind(e)}),Y_=(e,t)=>e!==st&&!e.__isScriptSetup&&bt(e,t),Gx={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:r,data:s,props:n,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return s[t];case 4:return i[t];case 3:return n[t]}else{if(Y_(r,t))return o[t]=1,r[t];if(s!==st&&bt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&bt(c,t))return o[t]=3,n[t];if(i!==st&&bt(i,t))return o[t]=4,i[t];zx&&(o[t]=0)}}const f=Ep[t];let d,p;if(f)return t==="$attrs"&&wr(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(i!==st&&bt(i,t))return o[t]=4,i[t];if(p=l.config.globalProperties,bt(p,t))return p[t]},set({_:e},t,i){const{data:r,setupState:s,ctx:n}=e;return Y_(s,t)?(s[t]=i,!0):r!==st&&bt(r,t)?(r[t]=i,!0):bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:s,propsOptions:n}},o){let a;return!!i[o]||e!==st&&bt(e,o)||Y_(t,o)||(a=n[0])&&bt(a,o)||bt(r,o)||bt(Ep,o)||bt(s.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:bt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},Nre=nt({},Gx,{get(e,t){if(t!==Symbol.unscopables)return Gx.get(e,t,e)},has(e,t){return t[0]!=="_"&&!$ie(t)}});function PR(){return null}function LR(){return null}function NR(e){}function kR(e){}function RR(){return null}function DR(){}function FR(e,t){return null}function UR(){return BR().slots}function jR(){return BR().attrs}function BR(){const e=Ri();return e.setupContext||(e.setupContext=A8(e))}function bm(e){return Ee(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function VR(e,t){const i=bm(e);for(const r in t){if(r.startsWith("__skip"))continue;let s=i[r];s?Ee(s)||Fe(s)?s=i[r]={type:s,default:t[r]}:s.default=t[r]:s===null&&(s=i[r]={default:t[r]}),s&&t[`__skip_${r}`]&&(s.skipFactory=!0)}return i}function GR(e,t){return!e||!t?e||t:Ee(e)&&Ee(t)?e.concat(t):nt({},bm(e),bm(t))}function zR(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function qR(e){const t=Ri();let i=e();return Jx(),w3(i)&&(i=i.catch(r=>{throw uu(t),r})),[i,()=>uu(t)]}let zx=!0;function kre(e){const t=H3(e),i=e.proxy,r=e.ctx;zx=!1,t.beforeCreate&&$$(t.beforeCreate,e,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:b,deactivated:E,beforeDestroy:S,beforeUnmount:T,destroyed:w,unmounted:_,render:M,renderTracked:$,renderTriggered:I,errorCaptured:L,serverPrefetch:P,expose:F,inheritAttrs:z,components:U,directives:B,filters:Z}=t;if(c&&Rre(c,r,null),o)for(const x in o){const C=o[x];Fe(C)&&(r[x]=C.bind(i))}if(s){const x=s.call(i,i);Ot(x)&&(e.data=rr(x))}if(zx=!0,n)for(const x in n){const C=n[x],V=Fe(C)?C.bind(i,i):Fe(C.get)?C.get.bind(i,i):cr,Y=!Fe(C)&&Fe(C.set)?C.set.bind(i):cr,de=tt({get:V,set:Y});Object.defineProperty(r,x,{enumerable:!0,configurable:!0,get:()=>de.value,set:oe=>de.value=oe})}if(a)for(const x in a)HR(a[x],r,i,x);if(l){const x=Fe(l)?l.call(i):l;Reflect.ownKeys(x).forEach(C=>{W3(C,x[C])})}f&&$$(f,e,"c");function m(x,C){Ee(C)?C.forEach(V=>x(V.bind(i))):C&&x(C.bind(i))}if(m(pb,d),m(hr,p),m(mb,y),m(Qf,v),m(R3,b),m(D3,E),m(B3,L),m(j3,$),m(U3,I),m(Dn,T),m($u,_),m(F3,P),Ee(F))if(F.length){const x=e.exposed||(e.exposed={});F.forEach(C=>{Object.defineProperty(x,C,{get:()=>i[C],set:V=>i[C]=V})})}else e.exposed||(e.exposed={});M&&e.render===cr&&(e.render=M),z!=null&&(e.inheritAttrs=z),U&&(e.components=U),B&&(e.directives=B),P&&N3(e)}function Rre(e,t,i=cr){Ee(e)&&(e=qx(e));for(const r in e){const s=e[r];let n;Ot(s)?"default"in s?n=ki(s.from||r,s.default,!0):n=ki(s.from||r):n=ki(s),ht(n)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):t[r]=n}}function $$(e,t,i){Es(Ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function HR(e,t,i,r){let s=r.includes(".")?l8(i,r):()=>i[r];if(Je(e)){const n=t[e];Fe(n)&&Ji(s,n)}else if(Fe(e))Ji(s,e.bind(i));else if(Ot(e))if(Ee(e))e.forEach(n=>HR(n,t,i,r));else{const n=Fe(e.handler)?e.handler.bind(i):t[e.handler];Fe(n)&&Ji(s,n,e)}}function H3(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(t);let l;return a?l=a:!s.length&&!i&&!r?l=t:(l={},s.length&&s.forEach(c=>Av(l,c,o,!0)),Av(l,t,o)),Ot(t)&&n.set(t,l),l}function Av(e,t,i,r=!1){const{mixins:s,extends:n}=t;n&&Av(e,n,i,!0),s&&s.forEach(o=>Av(e,o,i,!0));for(const o in t)if(!(r&&o==="expose")){const a=Dre[o]||i&&i[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Dre={data:O$,props:C$,emits:C$,methods:rp,computed:rp,beforeCreate:Ir,created:Ir,beforeMount:Ir,mounted:Ir,beforeUpdate:Ir,updated:Ir,beforeDestroy:Ir,beforeUnmount:Ir,destroyed:Ir,unmounted:Ir,activated:Ir,deactivated:Ir,errorCaptured:Ir,serverPrefetch:Ir,components:rp,directives:rp,watch:Ure,provide:O$,inject:Fre};function O$(e,t){return t?e?function(){return nt(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function Fre(e,t){return rp(qx(e),qx(t))}function qx(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ir(e,t){return e?[...new Set([].concat(e,t))]:t}function rp(e,t){return e?nt(Object.create(null),e,t):t}function C$(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:nt(Object.create(null),bm(e),bm(t??{})):t}function Ure(e,t){if(!e)return t;if(!t)return e;const i=nt(Object.create(null),e);for(const r in t)i[r]=Ir(e[r],t[r]);return i}function WR(){return{app:null,config:{isNativeTag:tp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jre=0;function Bre(e,t){return function(r,s=null){Fe(r)||(r=nt({},r)),s!=null&&!Ot(s)&&(s=null);const n=WR(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:jre++,_component:r,_props:s,_container:null,_context:n,_instance:null,version:oA,get config(){return n.config},set config(f){},use(f,...d){return o.has(f)||(f&&Fe(f.install)?(o.add(f),f.install(c,...d)):Fe(f)&&(o.add(f),f(c,...d))),c},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),c},component(f,d){return d?(n.components[f]=d,c):n.components[f]},directive(f,d){return d?(n.directives[f]=d,c):n.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Ke(r,s);return y.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,f):e(y,f,p),l=!0,c._container=f,f.__vue_app__=c,m0(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(Es(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,d){return n.provides[f]=d,c},runWithContext(f){const d=Bc;Bc=c;try{return f()}finally{Bc=d}}};return c}}let Bc=null;function W3(e,t){if(qi){let i=qi.provides;const r=qi.parent&&qi.parent.provides;r===i&&(i=qi.provides=Object.create(r)),i[e]=t}}function ki(e,t,i=!1){const r=qi||Wi;if(r||Bc){const s=Bc?Bc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return i&&Fe(t)?t.call(r&&r.proxy):t}}function Y3(){return!!(qi||Wi||Bc)}const YR={},JR=()=>Object.create(YR),ZR=e=>Object.getPrototypeOf(e)===YR;function Vre(e,t,i,r=!1){const s={},n=JR();e.propsDefaults=Object.create(null),KR(e,t,s,n);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);i?e.props=r?s:M3(s):e.type.props?e.props=s:e.props=n,e.attrs=n}function Gre(e,t,i,r){const{props:s,attrs:n,vnode:{patchFlag:o}}=e,a=Ge(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(yb(e.emitsOptions,p))continue;const y=t[p];if(l)if(bt(n,p))y!==n[p]&&(n[p]=y,c=!0);else{const v=Vt(p);s[v]=Hx(l,a,v,y,e,!1)}else y!==n[p]&&(n[p]=y,c=!0)}}}else{KR(e,t,s,n)&&(c=!0);let f;for(const d in a)(!t||!bt(t,d)&&((f=rs(d))===d||!bt(t,f)))&&(l?i&&(i[d]!==void 0||i[f]!==void 0)&&(s[d]=Hx(l,a,d,void 0,e,!0)):delete s[d]);if(n!==a)for(const d in n)(!t||!bt(t,d))&&(delete n[d],c=!0)}c&&ia(e.attrs,"set","")}function KR(e,t,i,r){const[s,n]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(gl(l))continue;const c=t[l];let f;s&&bt(s,f=Vt(l))?!n||!n.includes(f)?i[f]=c:(a||(a={}))[f]=c:yb(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(n){const l=Ge(i),c=a||st;for(let f=0;f<n.length;f++){const d=n[f];i[d]=Hx(s,l,d,c[d],e,!bt(c,d))}}return o}function Hx(e,t,i,r,s,n){const o=e[i];if(o!=null){const a=bt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(l)){const{propsDefaults:c}=s;if(i in c)r=c[i];else{const f=uu(s);r=c[i]=l.call(null,t),f()}}else r=l;s.ce&&s.ce._setProp(i,r)}o[0]&&(n&&!a?r=!1:o[1]&&(r===""||r===rs(i))&&(r=!0))}return r}const zre=new WeakMap;function XR(e,t,i=!1){const r=i?zre:t.propsCache,s=r.get(e);if(s)return s;const n=e.props,o={},a=[];let l=!1;if(!Fe(e)){const f=d=>{l=!0;const[p,y]=XR(d,t,!0);nt(o,p),y&&a.push(...y)};!i&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!n&&!l)return Ot(e)&&r.set(e,jh),jh;if(Ee(n))for(let f=0;f<n.length;f++){const d=Vt(n[f]);I$(d)&&(o[d]=st)}else if(n)for(const f in n){const d=Vt(f);if(I$(d)){const p=n[f],y=o[d]=Ee(p)||Fe(p)?{type:p}:nt({},p),v=y.type;let b=!1,E=!0;if(Ee(v))for(let S=0;S<v.length;++S){const T=v[S],w=Fe(T)&&T.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(E=!1)}else b=Fe(v)&&v.name==="Boolean";y[0]=b,y[1]=E,(b||bt(y,"default"))&&a.push(d)}}const c=[o,a];return Ot(e)&&r.set(e,c),c}function I$(e){return e[0]!=="$"&&!gl(e)}const QR=e=>e[0]==="_"||e==="$stable",J3=e=>Ee(e)?e.map(es):[es(e)],qre=(e,t,i)=>{if(t._n)return t;const r=Mi((...s)=>J3(t(...s)),i);return r._c=!1,r},e8=(e,t,i)=>{const r=e._ctx;for(const s in e){if(QR(s))continue;const n=e[s];if(Fe(n))t[s]=qre(s,n,r);else if(n!=null){const o=J3(n);t[s]=()=>o}}},t8=(e,t)=>{const i=J3(t);e.slots.default=()=>i},i8=(e,t,i)=>{for(const r in t)(i||r!=="_")&&(e[r]=t[r])},Hre=(e,t,i)=>{const r=e.slots=JR();if(e.vnode.shapeFlag&32){const s=t._;s?(i8(r,t,i),i&&Mk(r,"_",s,!0)):e8(t,r)}else t&&t8(e,t)},Wre=(e,t,i)=>{const{vnode:r,slots:s}=e;let n=!0,o=st;if(r.shapeFlag&32){const a=t._;a?i&&a===1?n=!1:i8(s,t,i):(n=!t.$stable,e8(t,s)),o=t}else t&&(t8(e,t),o={default:1});if(n)for(const a in s)!QR(a)&&o[a]==null&&delete s[a]},Bi=p8;function Z3(e){return r8(e)}function K3(e){return r8(e,Are)}function r8(e,t){const i=eb();i.__VUE__=!0;const{insert:r,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=cr,insertStaticContent:v}=e,b=(j,D,W,ae=null,ee=null,ce=null,ye=void 0,N=null,k=!!D.dynamicChildren)=>{if(j===D)return;j&&!pn(j,D)&&(ae=Gt(j),oe(j,ee,ce,!0),j=null),D.patchFlag===-2&&(k=!1,D.dynamicChildren=null);const{type:G,ref:te,shapeFlag:se}=D;switch(G){case mo:E(j,D,W,ae);break;case xi:S(j,D,W,ae);break;case bl:j==null&&T(D,W,ae,ye);break;case It:U(j,D,W,ae,ee,ce,ye,N,k);break;default:se&1?M(j,D,W,ae,ee,ce,ye,N,k):se&6?B(j,D,W,ae,ee,ce,ye,N,k):(se&64||se&128)&&G.process(j,D,W,ae,ee,ce,ye,N,k,Rt)}te!=null&&ee&&vm(te,j&&j.ref,ce,D||j,!D)},E=(j,D,W,ae)=>{if(j==null)r(D.el=a(D.children),W,ae);else{const ee=D.el=j.el;D.children!==j.children&&c(ee,D.children)}},S=(j,D,W,ae)=>{j==null?r(D.el=l(D.children||""),W,ae):D.el=j.el},T=(j,D,W,ae)=>{[j.el,j.anchor]=v(j.children,D,W,ae,j.el,j.anchor)},w=({el:j,anchor:D},W,ae)=>{let ee;for(;j&&j!==D;)ee=p(j),r(j,W,ae),j=ee;r(D,W,ae)},_=({el:j,anchor:D})=>{let W;for(;j&&j!==D;)W=p(j),s(j),j=W;s(D)},M=(j,D,W,ae,ee,ce,ye,N,k)=>{D.type==="svg"?ye="svg":D.type==="math"&&(ye="mathml"),j==null?$(D,W,ae,ee,ce,ye,N,k):P(j,D,ee,ce,ye,N,k)},$=(j,D,W,ae,ee,ce,ye,N)=>{let k,G;const{props:te,shapeFlag:se,transition:ne,dirs:H}=j;if(k=j.el=o(j.type,ce,te&&te.is,te),se&8?f(k,j.children):se&16&&L(j.children,k,null,ae,ee,J_(j,ce),ye,N),H&&io(j,null,ae,"created"),I(k,j,j.scopeId,ye,ae),te){for(const Ae in te)Ae!=="value"&&!gl(Ae)&&n(k,Ae,null,te[Ae],ce,ae);"value"in te&&n(k,"value",null,te.value,ce),(G=te.onVnodeBeforeMount)&&Xr(G,ae,j)}H&&io(j,null,ae,"beforeMount");const K=s8(ee,ne);K&&ne.beforeEnter(k),r(k,D,W),((G=te&&te.onVnodeMounted)||K||H)&&Bi(()=>{G&&Xr(G,ae,j),K&&ne.enter(k),H&&io(j,null,ae,"mounted")},ee)},I=(j,D,W,ae,ee)=>{if(W&&y(j,W),ae)for(let ce=0;ce<ae.length;ce++)y(j,ae[ce]);if(ee){let ce=ee.subTree;if(D===ce||Mv(ce.type)&&(ce.ssContent===D||ce.ssFallback===D)){const ye=ee.vnode;I(j,ye,ye.scopeId,ye.slotScopeIds,ee.parent)}}},L=(j,D,W,ae,ee,ce,ye,N,k=0)=>{for(let G=k;G<j.length;G++){const te=j[G]=N?el(j[G]):es(j[G]);b(null,te,D,W,ae,ee,ce,ye,N)}},P=(j,D,W,ae,ee,ce,ye)=>{const N=D.el=j.el;let{patchFlag:k,dynamicChildren:G,dirs:te}=D;k|=j.patchFlag&16;const se=j.props||st,ne=D.props||st;let H;if(W&&Ql(W,!1),(H=ne.onVnodeBeforeUpdate)&&Xr(H,W,D,j),te&&io(D,j,W,"beforeUpdate"),W&&Ql(W,!0),(se.innerHTML&&ne.innerHTML==null||se.textContent&&ne.textContent==null)&&f(N,""),G?F(j.dynamicChildren,G,N,W,ae,J_(D,ee),ce):ye||C(j,D,N,null,W,ae,J_(D,ee),ce,!1),k>0){if(k&16)z(N,se,ne,W,ee);else if(k&2&&se.class!==ne.class&&n(N,"class",null,ne.class,ee),k&4&&n(N,"style",se.style,ne.style,ee),k&8){const K=D.dynamicProps;for(let Ae=0;Ae<K.length;Ae++){const ke=K[Ae],Dt=se[ke],zt=ne[ke];(zt!==Dt||ke==="value")&&n(N,ke,Dt,zt,ee,W)}}k&1&&j.children!==D.children&&f(N,D.children)}else!ye&&G==null&&z(N,se,ne,W,ee);((H=ne.onVnodeUpdated)||te)&&Bi(()=>{H&&Xr(H,W,D,j),te&&io(D,j,W,"updated")},ae)},F=(j,D,W,ae,ee,ce,ye)=>{for(let N=0;N<D.length;N++){const k=j[N],G=D[N],te=k.el&&(k.type===It||!pn(k,G)||k.shapeFlag&70)?d(k.el):W;b(k,G,te,null,ae,ee,ce,ye,!0)}},z=(j,D,W,ae,ee)=>{if(D!==W){if(D!==st)for(const ce in D)!gl(ce)&&!(ce in W)&&n(j,ce,D[ce],null,ee,ae);for(const ce in W){if(gl(ce))continue;const ye=W[ce],N=D[ce];ye!==N&&ce!=="value"&&n(j,ce,N,ye,ee,ae)}"value"in W&&n(j,"value",D.value,W.value,ee)}},U=(j,D,W,ae,ee,ce,ye,N,k)=>{const G=D.el=j?j.el:a(""),te=D.anchor=j?j.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:H}=D;H&&(N=N?N.concat(H):H),j==null?(r(G,W,ae),r(te,W,ae),L(D.children||[],W,te,ee,ce,ye,N,k)):se>0&&se&64&&ne&&j.dynamicChildren?(F(j.dynamicChildren,ne,W,ee,ce,ye,N),(D.key!=null||ee&&D===ee.subTree)&&X3(j,D,!0)):C(j,D,W,te,ee,ce,ye,N,k)},B=(j,D,W,ae,ee,ce,ye,N,k)=>{D.slotScopeIds=N,j==null?D.shapeFlag&512?ee.ctx.activate(D,W,ae,ye,k):Z(D,W,ae,ee,ce,ye,k):u(j,D,k)},Z=(j,D,W,ae,ee,ce,ye)=>{const N=j.component=_8(j,ae,ee);if(d0(j)&&(N.ctx.renderer=Rt),x8(N,!1,ye),N.asyncDep){if(ee&&ee.registerDep(N,m,ye),!j.el){const k=N.subTree=Ke(xi);S(null,k,D,W)}}else m(N,j,D,W,ee,ce,ye)},u=(j,D,W)=>{const ae=D.component=j.component;if(ese(j,D,W))if(ae.asyncDep&&!ae.asyncResolved){x(ae,D,W);return}else ae.next=D,ae.update();else D.el=j.el,ae.vnode=D},m=(j,D,W,ae,ee,ce,ye)=>{const N=()=>{if(j.isMounted){let{next:se,bu:ne,u:H,parent:K,vnode:Ae}=j;{const Di=n8(j);if(Di){se&&(se.el=Ae.el,x(j,se,ye)),Di.asyncDep.then(()=>{j.isUnmounted||N()});return}}let ke=se,Dt;Ql(j,!1),se?(se.el=Ae.el,x(j,se,ye)):se=Ae,ne&&Vh(ne),(Dt=se.props&&se.props.onVnodeBeforeUpdate)&&Xr(Dt,K,se,Ae),Ql(j,!0);const zt=gg(j),li=j.subTree;j.subTree=zt,b(li,zt,d(li.el),Gt(li),j,ee,ce),se.el=zt.el,ke===null&&gb(j,zt.el),H&&Bi(H,ee),(Dt=se.props&&se.props.onVnodeUpdated)&&Bi(()=>Xr(Dt,K,se,Ae),ee)}else{let se;const{el:ne,props:H}=D,{bm:K,m:Ae,parent:ke,root:Dt,type:zt}=j,li=vl(D);if(Ql(j,!1),K&&Vh(K),!li&&(se=H&&H.onVnodeBeforeMount)&&Xr(se,ke,D),Ql(j,!0),ne&&Xi){const Di=()=>{j.subTree=gg(j),Xi(ne,j.subTree,j,ee,null)};li&&zt.__asyncHydrate?zt.__asyncHydrate(ne,j,Di):Di()}else{Dt.ce&&Dt.ce._injectChildStyle(zt);const Di=j.subTree=gg(j);b(null,Di,W,ae,j,ee,ce),D.el=Di.el}if(Ae&&Bi(Ae,ee),!li&&(se=H&&H.onVnodeMounted)){const Di=D;Bi(()=>Xr(se,ke,Di),ee)}(D.shapeFlag&256||ke&&vl(ke.vnode)&&ke.vnode.shapeFlag&256)&&j.a&&Bi(j.a,ee),j.isMounted=!0,D=W=ae=null}};j.scope.on();const k=j.effect=new uf(N);j.scope.off();const G=j.update=k.run.bind(k),te=j.job=k.runIfDirty.bind(k);te.i=j,te.id=j.uid,k.scheduler=()=>I3(te),Ql(j,!0),G()},x=(j,D,W)=>{D.component=j;const ae=j.vnode.props;j.vnode=D,j.next=null,Gre(j,D.props,ae,W),Wre(j,D.children,W),Rl(),_$(j),Dl()},C=(j,D,W,ae,ee,ce,ye,N,k=!1)=>{const G=j&&j.children,te=j?j.shapeFlag:0,se=D.children,{patchFlag:ne,shapeFlag:H}=D;if(ne>0){if(ne&128){Y(G,se,W,ae,ee,ce,ye,N,k);return}else if(ne&256){V(G,se,W,ae,ee,ce,ye,N,k);return}}H&8?(te&16&&at(G,ee,ce),se!==G&&f(W,se)):te&16?H&16?Y(G,se,W,ae,ee,ce,ye,N,k):at(G,ee,ce,!0):(te&8&&f(W,""),H&16&&L(se,W,ae,ee,ce,ye,N,k))},V=(j,D,W,ae,ee,ce,ye,N,k)=>{j=j||jh,D=D||jh;const G=j.length,te=D.length,se=Math.min(G,te);let ne;for(ne=0;ne<se;ne++){const H=D[ne]=k?el(D[ne]):es(D[ne]);b(j[ne],H,W,null,ee,ce,ye,N,k)}G>te?at(j,ee,ce,!0,!1,se):L(D,W,ae,ee,ce,ye,N,k,se)},Y=(j,D,W,ae,ee,ce,ye,N,k)=>{let G=0;const te=D.length;let se=j.length-1,ne=te-1;for(;G<=se&&G<=ne;){const H=j[G],K=D[G]=k?el(D[G]):es(D[G]);if(pn(H,K))b(H,K,W,null,ee,ce,ye,N,k);else break;G++}for(;G<=se&&G<=ne;){const H=j[se],K=D[ne]=k?el(D[ne]):es(D[ne]);if(pn(H,K))b(H,K,W,null,ee,ce,ye,N,k);else break;se--,ne--}if(G>se){if(G<=ne){const H=ne+1,K=H<te?D[H].el:ae;for(;G<=ne;)b(null,D[G]=k?el(D[G]):es(D[G]),W,K,ee,ce,ye,N,k),G++}}else if(G>ne)for(;G<=se;)oe(j[G],ee,ce,!0),G++;else{const H=G,K=G,Ae=new Map;for(G=K;G<=ne;G++){const Oe=D[G]=k?el(D[G]):es(D[G]);Oe.key!=null&&Ae.set(Oe.key,G)}let ke,Dt=0;const zt=ne-K+1;let li=!1,Di=0;const Q=new Array(zt);for(G=0;G<zt;G++)Q[G]=0;for(G=H;G<=se;G++){const Oe=j[G];if(Dt>=zt){oe(Oe,ee,ce,!0);continue}let We;if(Oe.key!=null)We=Ae.get(Oe.key);else for(ke=K;ke<=ne;ke++)if(Q[ke-K]===0&&pn(Oe,D[ke])){We=ke;break}We===void 0?oe(Oe,ee,ce,!0):(Q[We-K]=G+1,We>=Di?Di=We:li=!0,b(Oe,D[We],W,null,ee,ce,ye,N,k),Dt++)}const Te=li?Yre(Q):jh;for(ke=Te.length-1,G=zt-1;G>=0;G--){const Oe=K+G,We=D[Oe],Qe=Oe+1<te?D[Oe+1].el:ae;Q[G]===0?b(null,We,W,Qe,ee,ce,ye,N,k):li&&(ke<0||G!==Te[ke]?de(We,W,Qe,2):ke--)}}},de=(j,D,W,ae,ee=null)=>{const{el:ce,type:ye,transition:N,children:k,shapeFlag:G}=j;if(G&6){de(j.component.subTree,D,W,ae);return}if(G&128){j.suspense.move(D,W,ae);return}if(G&64){ye.move(j,D,W,Rt);return}if(ye===It){r(ce,D,W);for(let se=0;se<k.length;se++)de(k[se],D,W,ae);r(j.anchor,D,W);return}if(ye===bl){w(j,D,W);return}if(ae!==2&&G&1&&N)if(ae===0)N.beforeEnter(ce),r(ce,D,W),Bi(()=>N.enter(ce),ee);else{const{leave:se,delayLeave:ne,afterLeave:H}=N,K=()=>r(ce,D,W),Ae=()=>{se(ce,()=>{K(),H&&H()})};ne?ne(ce,K,Ae):Ae()}else r(ce,D,W)},oe=(j,D,W,ae=!1,ee=!1)=>{const{type:ce,props:ye,ref:N,children:k,dynamicChildren:G,shapeFlag:te,patchFlag:se,dirs:ne,cacheIndex:H}=j;if(se===-2&&(ee=!1),N!=null&&vm(N,null,W,j,!0),H!=null&&(D.renderCache[H]=void 0),te&256){D.ctx.deactivate(j);return}const K=te&1&&ne,Ae=!vl(j);let ke;if(Ae&&(ke=ye&&ye.onVnodeBeforeUnmount)&&Xr(ke,D,j),te&6)ze(j.component,W,ae);else{if(te&128){j.suspense.unmount(W,ae);return}K&&io(j,null,D,"beforeUnmount"),te&64?j.type.remove(j,D,W,Rt,ae):G&&!G.hasOnce&&(ce!==It||se>0&&se&64)?at(G,D,W,!1,!0):(ce===It&&se&384||!ee&&te&16)&&at(k,D,W),ae&&Me(j)}(Ae&&(ke=ye&&ye.onVnodeUnmounted)||K)&&Bi(()=>{ke&&Xr(ke,D,j),K&&io(j,null,D,"unmounted")},W)},Me=j=>{const{type:D,el:W,anchor:ae,transition:ee}=j;if(D===It){je(W,ae);return}if(D===bl){_(j);return}const ce=()=>{s(W),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(j.shapeFlag&1&&ee&&!ee.persisted){const{leave:ye,delayLeave:N}=ee,k=()=>ye(W,ce);N?N(j.el,ce,k):k()}else ce()},je=(j,D)=>{let W;for(;j!==D;)W=p(j),s(j),j=W;s(D)},ze=(j,D,W)=>{const{bum:ae,scope:ee,job:ce,subTree:ye,um:N,m:k,a:G}=j;Tv(k),Tv(G),ae&&Vh(ae),ee.stop(),ce&&(ce.flags|=8,oe(ye,j,D,W)),N&&Bi(N,D),Bi(()=>{j.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},at=(j,D,W,ae=!1,ee=!1,ce=0)=>{for(let ye=ce;ye<j.length;ye++)oe(j[ye],D,W,ae,ee)},Gt=j=>{if(j.shapeFlag&6)return Gt(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const D=p(j.anchor||j.el),W=D&&D[mR];return W?p(W):D};let Mt=!1;const yi=(j,D,W)=>{j==null?D._vnode&&oe(D._vnode,null,null,!0):b(D._vnode||null,j,D,null,null,null,W),D._vnode=j,Mt||(Mt=!0,_$(),Sv(),Mt=!1)},Rt={p:b,um:oe,m:de,r:Me,mt:Z,mc:L,pc:C,pbc:F,n:Gt,o:e};let si,Xi;return t&&([si,Xi]=t(Rt)),{render:yi,hydrate:si,createApp:Bre(yi,si)}}function J_({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function Ql({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function s8(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function X3(e,t,i=!1){const r=e.children,s=t.children;if(Ee(r)&&Ee(s))for(let n=0;n<r.length;n++){const o=r[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=el(s[n]),a.el=o.el),!i&&a.patchFlag!==-2&&X3(o,a)),a.type===mo&&(a.el=o.el)}}function Yre(e){const t=e.slice(),i=[0];let r,s,n,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=i[i.length-1],e[s]<c){t[r]=s,i.push(r);continue}for(n=0,o=i.length-1;n<o;)a=n+o>>1,e[i[a]]<c?n=a+1:o=a;c<e[i[n]]&&(n>0&&(t[r]=i[n-1]),i[n]=r)}}for(n=i.length,o=i[n-1];n-- >0;)i[n]=o,o=t[o];return i}function n8(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:n8(t)}function Tv(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Q3=Symbol.for("v-scx"),eA=()=>ki(Q3);function o8(e,t){return p0(e,null,t)}function a8(e,t){return p0(e,null,{flush:"post"})}function tA(e,t){return p0(e,null,{flush:"sync"})}function Ji(e,t,i){return p0(e,t,i)}function p0(e,t,i=st){const{immediate:r,deep:s,flush:n,once:o}=i,a=nt({},i),l=t&&r||!t&&n!=="post";let c;if(ff){if(n==="sync"){const y=eA();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=cr,y.resume=cr,y.pause=cr,y}}const f=qi;a.call=(y,v,b)=>Es(y,f,v,b);let d=!1;n==="post"?a.scheduler=y=>{Bi(y,f&&f.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():I3(y)}),a.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const p=mre(e,t,a);return ff&&(c?c.push(p):l&&p()),p}function Jre(e,t,i){const r=this.proxy,s=Je(e)?e.includes(".")?l8(r,e):()=>r[e]:e.bind(r,r);let n;Fe(t)?n=t:(n=t.handler,i=t);const o=uu(this),a=p0(s,n.bind(r),i);return o(),a}function l8(e,t){const i=t.split(".");return()=>{let r=e;for(let s=0;s<i.length&&r;s++)r=r[i[s]];return r}}function c8(e,t,i=st){const r=Ri(),s=Vt(t),n=rs(t),o=u8(e,s),a=$3((l,c)=>{let f,d=st,p;return tA(()=>{const y=e[s];Fr(f,y)&&(f=y,c())}),{get(){return l(),i.get?i.get(f):f},set(y){const v=i.set?i.set(y):y;if(!Fr(v,f)&&!(d!==st&&Fr(y,d)))return;const b=r.vnode.props;b&&(t in b||s in b||n in b)&&(`onUpdate:${t}`in b||`onUpdate:${s}`in b||`onUpdate:${n}`in b)||(f=y,c()),r.emit(`update:${t}`,v),Fr(y,v)&&Fr(y,d)&&!Fr(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||st:a,done:!1}:{done:!0}}}},a}const u8=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Vt(t)}Modifiers`]||e[`${rs(t)}Modifiers`];function Zre(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||st;let s=i;const n=t.startsWith("update:"),o=n&&u8(r,t.slice(7));o&&(o.trim&&(s=i.map(f=>Je(f)?f.trim():f)),o.number&&(s=i.map(vv)));let a,l=r[a=Uc(t)]||r[a=Uc(Vt(t))];!l&&n&&(l=r[a=Uc(rs(t))]),l&&Es(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Es(c,e,6,s)}}function h8(e,t,i=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const n=e.emits;let o={},a=!1;if(!Fe(e)){const l=c=>{const f=h8(c,t,!0);f&&(a=!0,nt(o,f))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(Ot(e)&&r.set(e,null),null):(Ee(n)?n.forEach(l=>o[l]=null):nt(o,n),Ot(e)&&r.set(e,o),o)}function yb(e,t){return!e||!Au(t)?!1:(t=t.slice(2).replace(/Once$/,""),bt(e,t[0].toLowerCase()+t.slice(1))||bt(e,rs(t))||bt(e,t))}function gg(e){const{type:t,vnode:i,proxy:r,withProxy:s,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:v,inheritAttrs:b}=e,E=gm(e);let S,T;try{if(i.shapeFlag&4){const _=s||r,M=_;S=es(c.call(M,_,f,d,y,p,v)),T=a}else{const _=t;S=es(_.length>1?_(d,{attrs:a,slots:o,emit:l}):_(d,null)),T=t.props?a:Xre(a)}}catch(_){Ap.length=0,Fl(_,e,1),S=Ke(xi)}let w=S;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:M}=w;_.length&&M&7&&(n&&_.some(b3)&&(T=Qre(T,n)),w=Ln(w,T,!1,!0))}return i.dirs&&(w=Ln(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(i.dirs):i.dirs),i.transition&&Ao(w,i.transition),S=w,gm(E),S}function Kre(e,t=!0){let i;for(let r=0;r<e.length;r++){const s=e[r];if(Pn(s)){if(s.type!==xi||s.children==="v-if"){if(i)return;i=s}}else return}return i}const Xre=e=>{let t;for(const i in e)(i==="class"||i==="style"||Au(i))&&((t||(t={}))[i]=e[i]);return t},Qre=(e,t)=>{const i={};for(const r in e)(!b3(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function ese(e,t,i){const{props:r,children:s,component:n}=e,{props:o,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?P$(r,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==r[p]&&!yb(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?P$(r,o,c):!0:!!o;return!1}function P$(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const n=r[s];if(t[n]!==e[n]&&!yb(i,n))return!0}return!1}function gb({vnode:e,parent:t},i){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=i,t=t.parent;else break}}const Mv=e=>e.__isSuspense;let Wx=0;const tse={name:"Suspense",__isSuspense:!0,process(e,t,i,r,s,n,o,a,l,c){if(e==null)ise(t,i,r,s,n,o,a,l,c);else{if(n&&n.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}rse(e,t,i,r,s,o,a,l,c)}},hydrate:sse,normalize:nse},f8=tse;function _m(e,t){const i=e.props&&e.props[t];Fe(i)&&i()}function ise(e,t,i,r,s,n,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=e.suspense=d8(e,s,r,t,d,i,n,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,r,p,n,o),p.deps>0?(_m(e,"onPending"),_m(e,"onFallback"),c(null,e.ssFallback,t,i,r,null,n,o),zh(p,e.ssFallback)):p.resolve(!1,!0)}function rse(e,t,i,r,s,n,o,a,{p:l,um:c,o:{createElement:f}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:v,pendingBranch:b,isInFallback:E,isHydrating:S}=d;if(b)d.pendingBranch=p,pn(p,b)?(l(b,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():E&&(S||(l(v,y,i,r,s,null,n,o,a),zh(d,y)))):(d.pendingId=Wx++,S?(d.isHydrating=!1,d.activeBranch=b):c(b,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),E?(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():(l(v,y,i,r,s,null,n,o,a),zh(d,y))):v&&pn(p,v)?(l(v,p,i,r,s,d,n,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0&&d.resolve()));else if(v&&pn(p,v))l(v,p,i,r,s,d,n,o,a),zh(d,p);else if(_m(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Wx++,l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:w}=d;T>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},T):T===0&&d.fallback(y)}}function d8(e,t,i,r,s,n,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:b,remove:E}}=c;let S;const T=ose(e);T&&t&&t.pendingBranch&&(S=t.pendingId,t.deps++);const w=e.props?bv(e.props.timeout):void 0,_=n,M={vnode:e,parent:t,parentComponent:i,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Wx++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve($=!1,I=!1){const{vnode:L,activeBranch:P,pendingBranch:F,pendingId:z,effects:U,parentComponent:B,container:Z}=M;let u=!1;M.isHydrating?M.isHydrating=!1:$||(u=P&&F.transition&&F.transition.mode==="out-in",u&&(P.transition.afterLeave=()=>{z===M.pendingId&&(p(F,Z,n===_?v(P):n,0),hf(U))}),P&&(b(P.el)===Z&&(n=v(P)),y(P,B,M,!0)),u||p(F,Z,n,0)),zh(M,F),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,x=!1;for(;m;){if(m.pendingBranch){m.effects.push(...U),x=!0;break}m=m.parent}!x&&!u&&hf(U),M.effects=[],T&&t&&t.pendingBranch&&S===t.pendingId&&(t.deps--,t.deps===0&&!I&&t.resolve()),_m(L,"onResolve")},fallback($){if(!M.pendingBranch)return;const{vnode:I,activeBranch:L,parentComponent:P,container:F,namespace:z}=M;_m(I,"onFallback");const U=v(L),B=()=>{M.isInFallback&&(d(null,$,F,U,P,null,z,a,l),zh(M,$))},Z=$.transition&&$.transition.mode==="out-in";Z&&(L.transition.afterLeave=B),M.isInFallback=!0,y(L,P,null,!0),Z||B()},move($,I,L){M.activeBranch&&p(M.activeBranch,$,I,L),M.container=$},next(){return M.activeBranch&&v(M.activeBranch)},registerDep($,I,L){const P=!!M.pendingBranch;P&&M.deps++;const F=$.vnode.el;$.asyncDep.catch(z=>{Fl(z,$,0)}).then(z=>{if($.isUnmounted||M.isUnmounted||M.pendingId!==$.suspenseId)return;$.asyncResolved=!0;const{vnode:U}=$;Zx($,z,!1),F&&(U.el=F);const B=!F&&$.subTree.el;I($,U,b(F||$.subTree.el),F?null:v($.subTree),M,o,L),B&&E(B),gb($,U.el),P&&--M.deps===0&&M.resolve()})},unmount($,I){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,i,$,I),M.pendingBranch&&y(M.pendingBranch,i,$,I)}};return M}function sse(e,t,i,r,s,n,o,a,l){const c=t.suspense=d8(t,r,i,e.parentNode,document.createElement("div"),null,s,n,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,i,c,n,o);return c.deps===0&&c.resolve(!1,!0),f}function nse(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=L$(r?i.default:i),e.ssFallback=r?L$(i.fallback):Ke(xi)}function L$(e){let t;if(Fe(e)){const i=cu&&e._c;i&&(e._d=!1,fe()),e=e(),i&&(e._d=!0,t=Tr,m8())}return Ee(e)&&(e=Kre(e)),e=es(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function p8(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):hf(e)}function zh(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;i.el=s,r&&r.subTree===i&&(r.vnode.el=s,gb(r,s))}function ose(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const It=Symbol.for("v-fgt"),mo=Symbol.for("v-txt"),xi=Symbol.for("v-cmt"),bl=Symbol.for("v-stc"),Ap=[];let Tr=null;function fe(e=!1){Ap.push(Tr=e?null:[])}function m8(){Ap.pop(),Tr=Ap[Ap.length-1]||null}let cu=1;function $v(e,t=!1){cu+=e,e<0&&Tr&&t&&(Tr.hasOnce=!0)}function y8(e){return e.dynamicChildren=cu>0?Tr||jh:null,m8(),cu>0&&Tr&&Tr.push(e),e}function xe(e,t,i,r,s,n){return y8(ue(e,t,i,r,s,n,!0))}function Bt(e,t,i,r,s){return y8(Ke(e,t,i,r,s,!0))}function Pn(e){return e?e.__v_isVNode===!0:!1}function pn(e,t){return e.type===t.type&&e.key===t.key}function g8(e){}const v8=({key:e})=>e??null,vg=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||ht(e)||Fe(e)?{i:Wi,r:e,k:t,f:!!i}:e:null);function ue(e,t=null,i=null,r=0,s=null,n=e===It?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&v8(t),ref:t&&vg(t),scopeId:ub,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wi};return a?(rA(l,i),n&128&&e.normalize(l)):i&&(l.shapeFlag|=Je(i)?8:16),cu>0&&!o&&Tr&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Tr.push(l),l}const Ke=ase;function ase(e,t=null,i=null,r=0,s=null,n=!1){if((!e||e===OR)&&(e=xi),Pn(e)){const a=Ln(e,t,!0);return i&&rA(a,i),cu>0&&!n&&Tr&&(a.shapeFlag&6?Tr[Tr.indexOf(e)]=a:Tr.push(a)),a.patchFlag=-2,a}if(fse(e)&&(e=e.__vccOpts),t){t=iA(t);let{class:a,style:l}=t;a&&!Je(a)&&(t.class=mi(a)),Ot(l)&&(h0(l)&&!Ee(l)&&(l=nt({},l)),t.style=kl(l))}const o=Je(e)?1:Mv(e)?128:yR(e)?64:Ot(e)?4:Fe(e)?2:0;return ue(e,t,i,r,s,o,n,!0)}function iA(e){return e?h0(e)||ZR(e)?nt({},e):e:null}function Ln(e,t,i=!1,r=!1){const{props:s,ref:n,patchFlag:o,children:a,transition:l}=e,c=t?vb(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&v8(c),ref:t&&t.ref?i&&n?Ee(n)?n.concat(vg(t)):[n,vg(t)]:vg(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==It?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ln(e.ssContent),ssFallback:e.ssFallback&&Ln(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Ao(f,l.clone(f)),f}function yo(e=" ",t=0){return Ke(mo,null,e,t)}function b8(e,t){const i=Ke(bl,null,e);return i.staticCount=t,i}function Ht(e="",t=!1){return t?(fe(),Bt(xi,null,e)):Ke(xi,null,e)}function es(e){return e==null||typeof e=="boolean"?Ke(xi):Ee(e)?Ke(It,null,e.slice()):Pn(e)?el(e):Ke(mo,null,String(e))}function el(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ln(e)}function rA(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ee(t))i=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),rA(e,s()),s._c&&(s._d=!0));return}else{i=32;const s=t._;!s&&!ZR(t)?t._ctx=Wi:s===3&&Wi&&(Wi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:Wi},i=32):(t=String(t),r&64?(i=16,t=[yo(t)]):i=8);e.children=t,e.shapeFlag|=i}function vb(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=mi([t.class,r.class]));else if(s==="style")t.style=kl([t.style,r.style]);else if(Au(s)){const n=t[s],o=r[s];o&&n!==o&&!(Ee(n)&&n.includes(o))&&(t[s]=n?[].concat(n,o):o)}else s!==""&&(t[s]=r[s])}return t}function Xr(e,t,i,r=null){Es(e,t,7,[i,r])}const lse=WR();let cse=0;function _8(e,t,i){const r=e.type,s=(t?t.appContext:e.appContext)||lse,n={uid:cse++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ib(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:XR(r,s),emitsOptions:h8(r,s),emit:null,emitted:null,propsDefaults:st,inheritAttrs:r.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=Zre.bind(null,n),e.ce&&e.ce(n),n}let qi=null;const Ri=()=>qi||Wi;let Ov,Yx;{const e=eb(),t=(i,r)=>{let s;return(s=e[i])||(s=e[i]=[]),s.push(r),n=>{s.length>1?s.forEach(o=>o(n)):s[0](n)}};Ov=t("__VUE_INSTANCE_SETTERS__",i=>qi=i),Yx=t("__VUE_SSR_SETTERS__",i=>ff=i)}const uu=e=>{const t=qi;return Ov(e),e.scope.on(),()=>{e.scope.off(),Ov(t)}},Jx=()=>{qi&&qi.scope.off(),Ov(null)};function w8(e){return e.vnode.shapeFlag&4}let ff=!1;function x8(e,t=!1,i=!1){t&&Yx(t);const{props:r,children:s}=e.vnode,n=w8(e);Vre(e,r,n,t),Hre(e,s,i);const o=n?use(e,t):void 0;return t&&Yx(!1),o}function use(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gx);const{setup:r}=i;if(r){Rl();const s=e.setupContext=r.length>1?A8(e):null,n=uu(e),o=Mu(r,e,0,[e.props,s]),a=w3(o);if(Dl(),n(),(a||e.sp)&&!vl(e)&&N3(e),a){if(o.then(Jx,Jx),t)return o.then(l=>{Zx(e,l,t)}).catch(l=>{Fl(l,e,0)});e.asyncDep=o}else Zx(e,o,t)}else E8(e,t)}function Zx(e,t,i){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ot(t)&&(e.setupState=cb(t)),E8(e,i)}let Cv,Kx;function sA(e){Cv=e,Kx=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Nre))}}const S8=()=>!Cv;function E8(e,t,i){const r=e.type;if(!e.render){if(!t&&Cv&&!r.render){const s=r.template||H3(e).template;if(s){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=nt(nt({isCustomElement:n,delimiters:a},o),l);r.render=Cv(s,c)}}e.render=r.render||cr,Kx&&Kx(e)}{const s=uu(e);Rl();try{kre(e)}finally{Dl(),s()}}}const hse={get(e,t){return wr(e,"get",""),e[t]}};function A8(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,hse),slots:e.slots,emit:e.emit,expose:t}}function m0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(cb(pi(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Ep)return Ep[i](e)},has(t,i){return i in t||i in Ep}})):e.proxy}function Xx(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function fse(e){return Fe(e)&&"__vccOpts"in e}const tt=(e,t)=>pre(e,t,ff);function zs(e,t,i){const r=arguments.length;return r===2?Ot(t)&&!Ee(t)?Pn(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&Pn(i)&&(i=[i]),Ke(e,t,i))}function T8(){}function M8(e,t,i,r){const s=i[r];if(s&&nA(s,e))return s;const n=t();return n.memo=e.slice(),n.cacheIndex=r,i[r]=n}function nA(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(Fr(i[r],t[r]))return!1;return cu>0&&Tr&&Tr.push(e),!0}const oA="3.5.13",$8=cr,O8=vre,C8=ah,I8=hR,dse={createComponentInstance:_8,setupComponent:x8,renderComponentRoot:gg,setCurrentRenderingInstance:gm,isVNode:Pn,normalizeVNode:es,getComponentPublicInstance:m0,ensureValidVNode:q3,pushWarningContext:yre,popWarningContext:gre},P8=dse,L8=null,N8=null,k8=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qx;const N$=typeof window<"u"&&window.trustedTypes;if(N$)try{Qx=N$.createPolicy("vue",{createHTML:e=>e})}catch{}const R8=Qx?e=>Qx.createHTML(e):e=>e,pse="http://www.w3.org/2000/svg",mse="http://www.w3.org/1998/Math/MathML",Zo=typeof document<"u"?document:null,k$=Zo&&Zo.createElement("template"),yse={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const s=t==="svg"?Zo.createElementNS(pse,e):t==="mathml"?Zo.createElementNS(mse,e):i?Zo.createElement(e,{is:i}):Zo.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Zo.createTextNode(e),createComment:e=>Zo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,s,n){const o=i?i.previousSibling:t.lastChild;if(s&&(s===n||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),!(s===n||!(s=s.nextSibling)););else{k$.innerHTML=R8(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=k$.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},$a="transition",yd="animation",df=Symbol("_vtc"),D8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F8=nt({},fb,D8),gse=e=>(e.displayName="Transition",e.props=F8,e),bb=gse((e,{slots:t})=>zs(L3,U8(e),t)),ec=(e,t=[])=>{Ee(e)?e.forEach(i=>i(...t)):e&&e(...t)},R$=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function U8(e){const t={};for(const U in e)U in D8||(t[U]=e[U]);if(e.css===!1)return t;const{name:i="v",type:r,duration:s,enterFromClass:n=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:y=`${i}-leave-to`}=e,v=vse(s),b=v&&v[0],E=v&&v[1],{onBeforeEnter:S,onEnter:T,onEnterCancelled:w,onLeave:_,onLeaveCancelled:M,onBeforeAppear:$=S,onAppear:I=T,onAppearCancelled:L=w}=t,P=(U,B,Z,u)=>{U._enterCancelled=u,za(U,B?f:a),za(U,B?c:o),Z&&Z()},F=(U,B)=>{U._isLeaving=!1,za(U,d),za(U,y),za(U,p),B&&B()},z=U=>(B,Z)=>{const u=U?I:T,m=()=>P(B,U,Z);ec(u,[B,m]),D$(()=>{za(B,U?l:n),Kn(B,U?f:a),R$(u)||F$(B,r,b,m)})};return nt(t,{onBeforeEnter(U){ec(S,[U]),Kn(U,n),Kn(U,o)},onBeforeAppear(U){ec($,[U]),Kn(U,l),Kn(U,c)},onEnter:z(!1),onAppear:z(!0),onLeave(U,B){U._isLeaving=!0;const Z=()=>F(U,B);Kn(U,d),U._enterCancelled?(Kn(U,p),eS()):(eS(),Kn(U,p)),D$(()=>{U._isLeaving&&(za(U,d),Kn(U,y),R$(_)||F$(U,r,E,Z))}),ec(_,[U,Z])},onEnterCancelled(U){P(U,!1,void 0,!0),ec(w,[U])},onAppearCancelled(U){P(U,!0,void 0,!0),ec(L,[U])},onLeaveCancelled(U){F(U),ec(M,[U])}})}function vse(e){if(e==null)return null;if(Ot(e))return[Z_(e.enter),Z_(e.leave)];{const t=Z_(e);return[t,t]}}function Z_(e){return bv(e)}function Kn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[df]||(e[df]=new Set)).add(t)}function za(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const i=e[df];i&&(i.delete(t),i.size||(e[df]=void 0))}function D$(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let bse=0;function F$(e,t,i,r){const s=e._endId=++bse,n=()=>{s===e._endId&&r()};if(i!=null)return setTimeout(n,i);const{type:o,timeout:a,propCount:l}=j8(e,t);if(!o)return r();const c=o+"end";let f=0;const d=()=>{e.removeEventListener(c,p),n()},p=y=>{y.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),e.addEventListener(c,p)}function j8(e,t){const i=window.getComputedStyle(e),r=v=>(i[v]||"").split(", "),s=r(`${$a}Delay`),n=r(`${$a}Duration`),o=U$(s,n),a=r(`${yd}Delay`),l=r(`${yd}Duration`),c=U$(a,l);let f=null,d=0,p=0;t===$a?o>0&&(f=$a,d=o,p=n.length):t===yd?c>0&&(f=yd,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?$a:yd:null,p=f?f===$a?n.length:l.length:0);const y=f===$a&&/\b(transform|all)(,|$)/.test(r(`${$a}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function U$(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>j$(i)+j$(e[r])))}function j$(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function eS(){return document.body.offsetHeight}function _se(e,t,i){const r=e[df];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Iv=Symbol("_vod"),B8=Symbol("_vsh"),_b={beforeMount(e,{value:t},{transition:i}){e[Iv]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):gd(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),gd(e,!0),r.enter(e)):r.leave(e,()=>{gd(e,!1)}):gd(e,t))},beforeUnmount(e,{value:t}){gd(e,t)}};function gd(e,t){e.style.display=t?e[Iv]:"none",e[B8]=!t}function wse(){_b.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const V8=Symbol("");function aA(e){const t=Ri();if(!t)return;const i=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(n=>Pv(n,s))},r=()=>{const s=e(t.proxy);t.ce?Pv(t.ce,s):tS(t.subTree,s),i(s)};mb(()=>{hf(r)}),hr(()=>{Ji(r,cr,{flush:"post"});const s=new MutationObserver(r);s.observe(t.subTree.el.parentNode,{childList:!0}),$u(()=>s.disconnect())})}function tS(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{tS(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Pv(e.el,t);else if(e.type===It)e.children.forEach(i=>tS(i,t));else if(e.type===bl){let{el:i,anchor:r}=e;for(;i&&(Pv(i,t),i!==r);)i=i.nextSibling}}function Pv(e,t){if(e.nodeType===1){const i=e.style;let r="";for(const s in t)i.setProperty(`--${s}`,t[s]),r+=`--${s}: ${t[s]};`;i[V8]=r}}const xse=/(^|;)\s*display\s*:/;function Sse(e,t,i){const r=e.style,s=Je(i);let n=!1;if(i&&!s){if(t)if(Je(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&bg(r,a,"")}else for(const o in t)i[o]==null&&bg(r,o,"");for(const o in i)o==="display"&&(n=!0),bg(r,o,i[o])}else if(s){if(t!==i){const o=r[V8];o&&(i+=";"+o),r.cssText=i,n=xse.test(i)}}else t&&e.removeAttribute("style");Iv in e&&(e[Iv]=n?r.display:"",e[B8]&&(r.display="none"))}const B$=/\s*!important$/;function bg(e,t,i){if(Ee(i))i.forEach(r=>bg(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=Ese(e,t);B$.test(i)?e.setProperty(rs(r),i.replace(B$,""),"important"):e[r]=i}}const V$=["Webkit","Moz","ms"],K_={};function Ese(e,t){const i=K_[t];if(i)return i;let r=Vt(t);if(r!=="filter"&&r in e)return K_[t]=r;r=Nl(r);for(let s=0;s<V$.length;s++){const n=V$[s]+r;if(n in e)return K_[t]=n}return t}const G$="http://www.w3.org/1999/xlink";function z$(e,t,i,r,s,n=Bie(t)){r&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(G$,t.slice(6,t.length)):e.setAttributeNS(G$,t,i):i==null||n&&!Ck(i)?e.removeAttribute(t):e.setAttribute(t,n?"":fs(i)?String(i):i)}function q$(e,t,i,r,s){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?R8(i):i);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=Ck(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(s||t)}function sa(e,t,i,r){e.addEventListener(t,i,r)}function Ase(e,t,i,r){e.removeEventListener(t,i,r)}const H$=Symbol("_vei");function Tse(e,t,i,r,s=null){const n=e[H$]||(e[H$]={}),o=n[t];if(r&&o)o.value=r;else{const[a,l]=Mse(t);if(r){const c=n[t]=Cse(r,s);sa(e,a,c,l)}else o&&(Ase(e,a,o,l),n[t]=void 0)}}const W$=/(?:Once|Passive|Capture)$/;function Mse(e){let t;if(W$.test(e)){t={};let r;for(;r=e.match(W$);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rs(e.slice(2)),t]}let X_=0;const $se=Promise.resolve(),Ose=()=>X_||($se.then(()=>X_=0),X_=Date.now());function Cse(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Es(Ise(r,i.value),t,5,[r])};return i.value=e,i.attached=Ose(),i}function Ise(e,t){if(Ee(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Y$=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Pse=(e,t,i,r,s,n)=>{const o=s==="svg";t==="class"?_se(e,r,o):t==="style"?Sse(e,i,r):Au(t)?b3(t)||Tse(e,t,i,r,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lse(e,t,r,o))?(q$(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&z$(e,t,r,o,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(r))?q$(e,Vt(t),r,n,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),z$(e,t,r,o))};function Lse(e,t,i,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Y$(t)&&Fe(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Y$(t)&&Je(i)?!1:t in e}const J$={};/*! #__NO_SIDE_EFFECTS__ */function lA(e,t,i){const r=rt(e,t);X1(r)&&nt(r,t);class s extends y0{constructor(o){super(r,o,i)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const G8=(e,t)=>lA(e,t,dA),Nse=typeof HTMLElement<"u"?HTMLElement:class{};class y0 extends Nse{constructor(t,i={},r=$l){super(),this._def=t,this._props=i,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==$l?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof y0){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Rn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=r;let a;if(n&&!Ee(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=bv(this._props[l])),(a||(a=Object.create(null)))[Vt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},i=this._def.__asyncLoader;i?this._pendingResolve=i().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const i=this._instance&&this._instance.exposed;if(i)for(const r in i)bt(this,r)||Object.defineProperty(this,r,{get:()=>$e(i[r])})}_resolveProps(t){const{props:i}=t,r=Ee(i)?i:Object.keys(i||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Vt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const i=this.hasAttribute(t);let r=i?this.getAttribute(t):J$;const s=Vt(t);i&&this._numberProps&&this._numberProps[s]&&(r=bv(r)),this._setProp(s,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,s=!1){if(i!==this._props[t]&&(i===J$?delete this._props[t]:(this._props[t]=i,t==="key"&&this._app&&(this._app._ceVNode.key=i)),s&&this._instance&&this._update(),r)){const n=this._ob;n&&n.disconnect(),i===!0?this.setAttribute(rs(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(rs(t),i+""):i||this.removeAttribute(rs(t)),n&&n.observe(this,{attributes:!0})}}_update(){qh(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const i=Ke(this._def,nt(t,this._props));return this._instance||(i.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(n,o)=>{this.dispatchEvent(new CustomEvent(n,X1(o[0])?nt({detail:o},o[0]):{detail:o}))};r.emit=(n,...o)=>{s(n,o),rs(n)!==n&&s(rs(n),o)},this._setParent()}),i}_applyStyles(t,i){if(!t)return;if(i){if(i===this._def||this._styleChildren.has(i))return;this._styleChildren.add(i)}const r=this._nonce;for(let s=t.length-1;s>=0;s--){const n=document.createElement("style");r&&n.setAttribute("nonce",r),n.textContent=t[s],this.shadowRoot.prepend(n)}}_parseSlots(){const t=this._slots={};let i;for(;i=this.firstChild;){const r=i.nodeType===1&&i.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(i),this.removeChild(i)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),i=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const s=t[r],n=s.getAttribute("name")||"default",o=this._slots[n],a=s.parentNode;if(o)for(const l of o){if(i&&l.nodeType===1){const c=i+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function cA(e){const t=Ri(),i=t&&t.ce;return i||null}function z8(){const e=cA();return e&&e.shadowRoot}function q8(e="$style"){{const t=Ri();if(!t)return st;const i=t.type.__cssModules;if(!i)return st;const r=i[e];return r||st}}const H8=new WeakMap,W8=new WeakMap,Lv=Symbol("_moveCb"),Z$=Symbol("_enterCb"),kse=e=>(delete e.props.mode,e),Rse=kse({name:"TransitionGroup",props:nt({},F8,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Ri(),r=hb();let s,n;return Qf(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!jse(s[0].el,i.vnode.el,o))return;s.forEach(Dse),s.forEach(Fse);const a=s.filter(Use);eS(),a.forEach(l=>{const c=l.el,f=c.style;Kn(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Lv]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Lv]=null,za(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ge(e),a=U8(o);let l=o.tag||It;if(s=[],n)for(let c=0;c<n.length;c++){const f=n[c];f.el&&f.el instanceof Element&&(s.push(f),Ao(f,lu(f,a,r,i)),H8.set(f,f.el.getBoundingClientRect()))}n=t.default?f0(t.default()):[];for(let c=0;c<n.length;c++){const f=n[c];f.key!=null&&Ao(f,lu(f,a,r,i))}return Ke(l,null,n)}}}),wb=Rse;function Dse(e){const t=e.el;t[Lv]&&t[Lv](),t[Z$]&&t[Z$]()}function Fse(e){W8.set(e,e.el.getBoundingClientRect())}function Use(e){const t=H8.get(e),i=W8.get(e),r=t.left-i.left,s=t.top-i.top;if(r||s){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${r}px,${s}px)`,n.transitionDuration="0s",e}}function jse(e,t,i){const r=e.cloneNode(),s=e[df];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(r);const{hasTransform:o}=j8(r);return n.removeChild(r),o}const Ml=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?i=>Vh(t,i):t};function Bse(e){e.target.composing=!0}function K$(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hs=Symbol("_assign"),wm={created(e,{modifiers:{lazy:t,trim:i,number:r}},s){e[Hs]=Ml(s);const n=r||s.props&&s.props.type==="number";sa(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;i&&(a=a.trim()),n&&(a=vv(a)),e[Hs](a)}),i&&sa(e,"change",()=>{e.value=e.value.trim()}),t||(sa(e,"compositionstart",Bse),sa(e,"compositionend",K$),sa(e,"change",K$))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:r,trim:s,number:n}},o){if(e[Hs]=Ml(o),e.composing)return;const a=(n||e.type==="number")&&!/^0\d/.test(e.value)?vv(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===i||s&&e.value.trim()===l)||(e.value=l))}},xb={deep:!0,created(e,t,i){e[Hs]=Ml(i),sa(e,"change",()=>{const r=e._modelValue,s=pf(e),n=e.checked,o=e[Hs];if(Ee(r)){const a=tb(r,s),l=a!==-1;if(n&&!l)o(r.concat(s));else if(!n&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Tu(r)){const a=new Set(r);n?a.add(s):a.delete(s),o(a)}else o(Y8(e,n))})},mounted:X$,beforeUpdate(e,t,i){e[Hs]=Ml(i),X$(e,t,i)}};function X$(e,{value:t,oldValue:i},r){e._modelValue=t;let s;if(Ee(t))s=tb(t,r.props.value)>-1;else if(Tu(t))s=t.has(r.props.value);else{if(t===i)return;s=Tl(t,Y8(e,!0))}e.checked!==s&&(e.checked=s)}const Sb={created(e,{value:t},i){e.checked=Tl(t,i.props.value),e[Hs]=Ml(i),sa(e,"change",()=>{e[Hs](pf(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e[Hs]=Ml(r),t!==i&&(e.checked=Tl(t,r.props.value))}},uA={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const s=Tu(t);sa(e,"change",()=>{const n=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>i?vv(pf(o)):pf(o));e[Hs](e.multiple?s?new Set(n):n:n[0]),e._assigning=!0,Rn(()=>{e._assigning=!1})}),e[Hs]=Ml(r)},mounted(e,{value:t}){Q$(e,t)},beforeUpdate(e,t,i){e[Hs]=Ml(i)},updated(e,{value:t}){e._assigning||Q$(e,t)}};function Q$(e,t){const i=e.multiple,r=Ee(t);if(!(i&&!r&&!Tu(t))){for(let s=0,n=e.options.length;s<n;s++){const o=e.options[s],a=pf(o);if(i)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=tb(t,a)>-1}else o.selected=t.has(a);else if(Tl(pf(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function pf(e){return"_value"in e?e._value:e.value}function Y8(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const hA={created(e,t,i){hy(e,t,i,null,"created")},mounted(e,t,i){hy(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){hy(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){hy(e,t,i,r,"updated")}};function J8(e,t){switch(e){case"SELECT":return uA;case"TEXTAREA":return wm;default:switch(t){case"checkbox":return xb;case"radio":return Sb;default:return wm}}}function hy(e,t,i,r,s){const o=J8(e.tagName,i.props&&i.props.type)[s];o&&o(e,t,i,r)}function Vse(){wm.getSSRProps=({value:e})=>({value:e}),Sb.getSSRProps=({value:e},t)=>{if(t.props&&Tl(t.props.value,e))return{checked:!0}},xb.getSSRProps=({value:e},t)=>{if(Ee(e)){if(t.props&&tb(e,t.props.value)>-1)return{checked:!0}}else if(Tu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},hA.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=J8(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const Gse=["ctrl","shift","alt","meta"],zse={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Gse.some(i=>e[`${i}Key`]&&!t.includes(i))},g0=(e,t)=>{const i=e._withMods||(e._withMods={}),r=t.join(".");return i[r]||(i[r]=(s,...n)=>{for(let o=0;o<t.length;o++){const a=zse[t[o]];if(a&&a(s,t))return}return e(s,...n)})},qse={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fA=(e,t)=>{const i=e._withKeys||(e._withKeys={}),r=t.join(".");return i[r]||(i[r]=s=>{if(!("key"in s))return;const n=rs(s.key);if(t.some(o=>o===n||qse[o]===n))return e(s)})},Z8=nt({patchProp:Pse},yse);let Tp,eO=!1;function K8(){return Tp||(Tp=Z3(Z8))}function X8(){return Tp=eO?Tp:K3(Z8),eO=!0,Tp}const qh=(...e)=>{K8().render(...e)},Q8=(...e)=>{X8().hydrate(...e)},$l=(...e)=>{const t=K8().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=t9(r);if(!s)return;const n=t._component;!Fe(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=i(s,!1,e9(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t},dA=(...e)=>{const t=X8().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=t9(r);if(s)return i(s,!0,e9(s))},t};function e9(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function t9(e){return Je(e)?document.querySelector(e):e}let tO=!1;const i9=()=>{tO||(tO=!0,Vse(),wse())},Hse=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:L3,BaseTransitionPropsValidators:fb,Comment:xi,DeprecationTypes:k8,EffectScope:ib,ErrorCodes:aR,ErrorTypeStrings:O8,Fragment:It,KeepAlive:MR,ReactiveEffect:uf,Static:bl,Suspense:f8,Teleport:P3,Text:mo,TrackOpTypes:iR,Transition:bb,TransitionGroup:wb,TriggerOpTypes:rR,VueElement:y0,assertNumber:oR,callWithAsyncErrorHandling:Es,callWithErrorHandling:Mu,camelize:Vt,capitalize:Nl,cloneVNode:Ln,compatUtils:N8,computed:tt,createApp:$l,createBlock:Bt,createCommentVNode:Ht,createElementBlock:xe,createElementVNode:ue,createHydrationRenderer:K3,createPropsRestProxy:zR,createRenderer:Z3,createSSRApp:dA,createSlots:CR,createStaticVNode:b8,createTextVNode:yo,createVNode:Ke,customRef:$3,defineAsyncComponent:k3,defineComponent:rt,defineCustomElement:lA,defineEmits:LR,defineExpose:NR,defineModel:DR,defineOptions:kR,defineProps:PR,defineSSRCustomElement:G8,defineSlots:RR,devtools:C8,effect:Fk,effectScope:u0,getCurrentInstance:Ri,getCurrentScope:rb,getCurrentWatcher:sR,getTransitionRawChildren:f0,guardReactiveProps:iA,h:zs,handleError:Fl,hasInjectionContext:Y3,hydrate:Q8,hydrateOnIdle:SR,hydrateOnInteraction:TR,hydrateOnMediaQuery:AR,hydrateOnVisible:ER,initCustomFormatter:T8,initDirectivesForSSR:i9,inject:ki,isMemoSame:nA,isProxy:h0,isReactive:xs,isReadonly:da,isRef:ht,isRuntimeOnly:S8,isShallow:as,isVNode:Pn,markRaw:pi,mergeDefaults:VR,mergeModels:GR,mergeProps:vb,nextTick:Rn,normalizeClass:mi,normalizeProps:Ok,normalizeStyle:kl,onActivated:R3,onBeforeMount:pb,onBeforeUnmount:Dn,onBeforeUpdate:mb,onDeactivated:D3,onErrorCaptured:B3,onMounted:hr,onRenderTracked:j3,onRenderTriggered:U3,onScopeDispose:S3,onServerPrefetch:F3,onUnmounted:$u,onUpdated:Qf,onWatcherCleanup:C3,openBlock:fe,popScopeId:dR,provide:W3,proxyRefs:cb,pushScopeId:fR,queuePostFlushCb:hf,reactive:rr,readonly:ab,ref:X,registerRuntimeCompiler:sA,render:qh,renderList:Ul,renderSlot:gn,resolveComponent:wi,resolveDirective:Tt,resolveDynamicComponent:G3,resolveFilter:L8,resolveTransitionHooks:lu,setBlockTracking:$v,setDevtoolsHook:I8,setTransitionHooks:Ao,shallowReactive:M3,shallowReadonly:Zk,shallowRef:Xf,ssrContextKey:Q3,ssrUtils:P8,stop:Uk,toDisplayString:jt,toHandlerKey:Uc,toHandlers:IR,toRaw:Ge,toRef:eR,toRefs:O3,toValue:Qk,transformVNodeArgs:g8,triggerRef:Xk,unref:$e,useAttrs:jR,useCssModule:q8,useCssVars:aA,useHost:cA,useId:xR,useModel:c8,useSSRContext:eA,useShadowRoot:z8,useSlots:UR,useTemplateRef:Ev,useTransitionState:hb,vModelCheckbox:xb,vModelDynamic:hA,vModelRadio:Sb,vModelSelect:uA,vModelText:wm,vShow:_b,version:oA,warn:$8,watch:Ji,watchEffect:o8,watchPostEffect:a8,watchSyncEffect:tA,withAsyncContext:qR,withCtx:Mi,withDefaults:FR,withDirectives:At,withKeys:fA,withMemo:M8,withModifiers:g0,withScopeId:pR},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const xm=Symbol(""),Mp=Symbol(""),pA=Symbol(""),Nv=Symbol(""),r9=Symbol(""),hu=Symbol(""),s9=Symbol(""),n9=Symbol(""),mA=Symbol(""),yA=Symbol(""),v0=Symbol(""),gA=Symbol(""),o9=Symbol(""),vA=Symbol(""),bA=Symbol(""),_A=Symbol(""),wA=Symbol(""),xA=Symbol(""),SA=Symbol(""),a9=Symbol(""),l9=Symbol(""),Eb=Symbol(""),kv=Symbol(""),EA=Symbol(""),AA=Symbol(""),Sm=Symbol(""),b0=Symbol(""),TA=Symbol(""),iS=Symbol(""),Wse=Symbol(""),rS=Symbol(""),Rv=Symbol(""),Yse=Symbol(""),Jse=Symbol(""),MA=Symbol(""),Zse=Symbol(""),Kse=Symbol(""),$A=Symbol(""),c9=Symbol(""),mf={[xm]:"Fragment",[Mp]:"Teleport",[pA]:"Suspense",[Nv]:"KeepAlive",[r9]:"BaseTransition",[hu]:"openBlock",[s9]:"createBlock",[n9]:"createElementBlock",[mA]:"createVNode",[yA]:"createElementVNode",[v0]:"createCommentVNode",[gA]:"createTextVNode",[o9]:"createStaticVNode",[vA]:"resolveComponent",[bA]:"resolveDynamicComponent",[_A]:"resolveDirective",[wA]:"resolveFilter",[xA]:"withDirectives",[SA]:"renderList",[a9]:"renderSlot",[l9]:"createSlots",[Eb]:"toDisplayString",[kv]:"mergeProps",[EA]:"normalizeClass",[AA]:"normalizeStyle",[Sm]:"normalizeProps",[b0]:"guardReactiveProps",[TA]:"toHandlers",[iS]:"camelize",[Wse]:"capitalize",[rS]:"toHandlerKey",[Rv]:"setBlockTracking",[Yse]:"pushScopeId",[Jse]:"popScopeId",[MA]:"withCtx",[Zse]:"unref",[Kse]:"isRef",[$A]:"withMemo",[c9]:"isMemoSame"};function Xse(e){Object.getOwnPropertySymbols(e).forEach(t=>{mf[t]=e[t]})}const $s={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Qse(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:$s}}function Em(e,t,i,r,s,n,o,a=!1,l=!1,c=!1,f=$s){return e&&(a?(e.helper(hu),e.helper(vf(e.inSSR,c))):e.helper(gf(e.inSSR,c)),o&&e.helper(xA)),{type:13,tag:t,props:i,children:r,patchFlag:s,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Vc(e,t=$s){return{type:17,loc:t,elements:e}}function qs(e,t=$s){return{type:15,loc:t,properties:e}}function Ai(e,t){return{type:16,loc:$s,key:Je(e)?et(e,!0):e,value:t}}function et(e,t=!1,i=$s,r=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:r}}function An(e,t=$s){return{type:8,loc:t,children:e}}function zi(e,t=[],i=$s){return{type:14,loc:i,callee:e,arguments:t}}function yf(e,t=void 0,i=!1,r=!1,s=$s){return{type:18,params:e,returns:t,newline:i,isSlot:r,loc:s}}function sS(e,t,i,r=!0){return{type:19,test:e,consequent:t,alternate:i,newline:r,loc:$s}}function ene(e,t,i=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:i,inVOnce:r,needArraySpread:!1,loc:$s}}function tne(e){return{type:21,body:e,loc:$s}}function gf(e,t){return e||t?mA:yA}function vf(e,t){return e||t?s9:n9}function OA(e,{helper:t,removeHelper:i,inSSR:r}){e.isBlock||(e.isBlock=!0,i(gf(r,e.isComponent)),t(hu),t(vf(r,e.isComponent)))}const iO=new Uint8Array([123,123]),rO=new Uint8Array([125,125]);function sO(e){return e>=97&&e<=122||e>=65&&e<=90}function ys(e){return e===32||e===10||e===9||e===12||e===13}function Oa(e){return e===47||e===62||ys(e)}function Dv(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}const dr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let ine=class{constructor(t,i){this.stack=t,this.cbs=i,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=iO,this.delimiterClose=rO,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=iO,this.delimiterClose=rO}getPos(t){let i=1,r=t+1;for(let s=this.newlines.length-1;s>=0;s--){const n=this.newlines[s];if(t>n){i=s+2,r=t-n;break}}return{column:r,line:i,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const i=this.index+1-this.delimiterOpen.length;i>this.sectionStart&&this.cbs.ontext(this.sectionStart,i),this.state=3,this.sectionStart=i}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const i=this.sequenceIndex===this.currentSequence.length;if(!(i?Oa(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!i){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||ys(t)){const i=this.index-this.currentSequence.length;if(this.sectionStart<i){const r=this.index;this.index=i,this.cbs.ontext(this.sectionStart,i),this.index=r}this.sectionStart=i+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===dr.TitleEnd||this.currentSequence===dr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===dr.Cdata[this.sequenceIndex]?++this.sequenceIndex===dr.Cdata.length&&(this.state=28,this.currentSequence=dr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);if(i===10&&this.newlines.push(this.index),i===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===dr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,i){this.enterRCDATA(t,i),this.state=31}enterRCDATA(t,i){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=i}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):sO(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Oa(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Oa(t)){const i=this.buffer.slice(this.sectionStart,this.index);i!=="template"&&this.enterRCDATA(Dv("</"+i),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){ys(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=sO(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||ys(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):ys(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):ys(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Oa(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Oa(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Oa(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Oa(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Oa(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):ys(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):ys(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,i){(t===i||this.fastForwardTo(i))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){ys(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=dr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===dr.ScriptEnd[3]?this.startSpecial(dr.ScriptEnd,4):t===dr.StyleEnd[3]?this.startSpecial(dr.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===dr.TitleEnd[3]?this.startSpecial(dr.TitleEnd,4):t===dr.TextareaEnd[3]?this.startSpecial(dr.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);switch(i===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(i);break}case 2:{this.stateInterpolationOpen(i);break}case 3:{this.stateInterpolation(i);break}case 4:{this.stateInterpolationClose(i);break}case 31:{this.stateSpecialStartSequence(i);break}case 32:{this.stateInRCDATA(i);break}case 26:{this.stateCDATASequence(i);break}case 19:{this.stateInAttrValueDoubleQuotes(i);break}case 12:{this.stateInAttrName(i);break}case 13:{this.stateInDirName(i);break}case 14:{this.stateInDirArg(i);break}case 15:{this.stateInDynamicDirArg(i);break}case 16:{this.stateInDirModifier(i);break}case 28:{this.stateInCommentLike(i);break}case 27:{this.stateInSpecialComment(i);break}case 11:{this.stateBeforeAttrName(i);break}case 6:{this.stateInTagName(i);break}case 34:{this.stateInSFCRootTagName(i);break}case 9:{this.stateInClosingTagName(i);break}case 5:{this.stateBeforeTagName(i);break}case 17:{this.stateAfterAttrName(i);break}case 20:{this.stateInAttrValueSingleQuotes(i);break}case 18:{this.stateBeforeAttrValue(i);break}case 8:{this.stateBeforeClosingTagName(i);break}case 10:{this.stateAfterClosingTagName(i);break}case 29:{this.stateBeforeSpecialS(i);break}case 30:{this.stateBeforeSpecialT(i);break}case 21:{this.stateInAttrValueNoQuotes(i);break}case 7:{this.stateInSelfClosingTag(i);break}case 23:{this.stateInDeclaration(i);break}case 22:{this.stateBeforeDeclaration(i);break}case 25:{this.stateBeforeComment(i);break}case 24:{this.stateInProcessingInstruction(i);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===dr.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,i){}};function nO(e,{compatConfig:t}){const i=t&&t[e];return e==="MODE"?i||3:i}function Gc(e,t){const i=nO("MODE",t),r=nO(e,t);return i===3?r===!0:r!==!1}function Am(e,t,i,...r){return Gc(e,t)}function CA(e){throw e}function u9(e){}function ti(e,t,i,r){const s=`https://vuejs.org/error-reference/#compiler-${e}`,n=new SyntaxError(String(s));return n.code=e,n.loc=t,n}const os=e=>e.type===4&&e.isStatic;function h9(e){switch(e){case"Teleport":case"teleport":return Mp;case"Suspense":case"suspense":return pA;case"KeepAlive":case"keep-alive":return Nv;case"BaseTransition":case"base-transition":return r9}}const rne=/^\d|[^\$\w\xA0-\uFFFF]/,IA=e=>!rne.test(e),sne=/[A-Za-z_$\xA0-\uFFFF]/,nne=/[\.\?\w$\xA0-\uFFFF]/,one=/\s+[.[]\s*|\s*[.[]\s+/g,f9=e=>e.type===4?e.content:e.loc.source,ane=e=>{const t=f9(e).trim().replace(one,a=>a.trim());let i=0,r=[],s=0,n=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(i){case 0:if(l==="[")r.push(i),i=1,s++;else if(l==="(")r.push(i),i=2,n++;else if(!(a===0?sne:nne).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(i),i=3,o=l):l==="["?s++:l==="]"&&(--s||(i=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(i),i=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===t.length-1)return!1;--n||(i=r.pop())}break;case 3:l===o&&(i=r.pop(),o=null);break}}return!s&&!n},d9=ane,lne=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,cne=e=>lne.test(f9(e)),une=cne;function js(e,t,i=!1){for(let r=0;r<e.props.length;r++){const s=e.props[r];if(s.type===7&&(i||s.exp)&&(Je(t)?s.name===t:t.test(s.name)))return s}}function Ab(e,t,i=!1,r=!1){for(let s=0;s<e.props.length;s++){const n=e.props[s];if(n.type===6){if(i)continue;if(n.name===t&&(n.value||r))return n}else if(n.name==="bind"&&(n.exp||r)&&Nc(n.arg,t))return n}}function Nc(e,t){return!!(e&&os(e)&&e.content===t)}function hne(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Q_(e){return e.type===5||e.type===2}function fne(e){return e.type===7&&e.name==="slot"}function Fv(e){return e.type===1&&e.tagType===3}function Uv(e){return e.type===1&&e.tagType===2}const dne=new Set([Sm,b0]);function p9(e,t=[]){if(e&&!Je(e)&&e.type===14){const i=e.callee;if(!Je(i)&&dne.has(i))return p9(e.arguments[0],t.concat(e))}return[e,t]}function jv(e,t,i){let r,s=e.type===13?e.props:e.arguments[2],n=[],o;if(s&&!Je(s)&&s.type===14){const a=p9(s);s=a[0],n=a[1],o=n[n.length-1]}if(s==null||Je(s))r=qs([t]);else if(s.type===14){const a=s.arguments[0];!Je(a)&&a.type===15?oO(t,a)||a.properties.unshift(t):s.callee===TA?r=zi(i.helper(kv),[qs([t]),s]):s.arguments.unshift(qs([t])),!r&&(r=s)}else s.type===15?(oO(t,s)||s.properties.unshift(t),r=s):(r=zi(i.helper(kv),[qs([t]),s]),o&&o.callee===b0&&(o=n[n.length-2]));e.type===13?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function oO(e,t){let i=!1;if(e.key.type===4){const r=e.key.content;i=t.properties.some(s=>s.key.type===4&&s.key.content===r)}return i}function Tm(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,r)=>i==="-"?"_":e.charCodeAt(r).toString())}`}function pne(e){return e.type===14&&e.callee===$A?e.arguments[1].returns:e}const mne=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,m9={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:tp,isPreTag:tp,isIgnoreNewlineTag:tp,isCustomElement:tp,onError:CA,onWarn:u9,comments:!1,prefixIdentifiers:!1};let _t=m9,Mm=null,ca="",gr=null,lt=null,Jr="",Wo=-1,Sc=-1,PA=0,tl=!1,nS=null;const Kt=[],di=new ine(Kt,{onerr:Do,ontext(e,t){fy(nr(e,t),e,t)},ontextentity(e,t,i){fy(e,t,i)},oninterpolation(e,t){if(tl)return fy(nr(e,t),e,t);let i=e+di.delimiterOpen.length,r=t-di.delimiterClose.length;for(;ys(ca.charCodeAt(i));)i++;for(;ys(ca.charCodeAt(r-1));)r--;let s=nr(i,r);s.includes("&")&&(s=_t.decodeEntities(s,!1)),oS({type:5,content:wg(s,!1,bi(i,r)),loc:bi(e,t)})},onopentagname(e,t){const i=nr(e,t);gr={type:1,tag:i,ns:_t.getNamespace(i,Kt[0],_t.ns),tagType:0,props:[],children:[],loc:bi(e-1,t),codegenNode:void 0}},onopentagend(e){lO(e)},onclosetag(e,t){const i=nr(e,t);if(!_t.isVoidTag(i)){let r=!1;for(let s=0;s<Kt.length;s++)if(Kt[s].tag.toLowerCase()===i.toLowerCase()){r=!0,s>0&&Do(24,Kt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Kt.shift();_g(a,t,o<s)}break}r||Do(23,y9(e,60))}},onselfclosingtag(e){const t=gr.tag;gr.isSelfClosing=!0,lO(e),Kt[0]&&Kt[0].tag===t&&_g(Kt.shift(),e)},onattribname(e,t){lt={type:6,name:nr(e,t),nameLoc:bi(e,t),value:void 0,loc:bi(e)}},ondirname(e,t){const i=nr(e,t),r=i==="."||i===":"?"bind":i==="@"?"on":i==="#"?"slot":i.slice(2);if(!tl&&r===""&&Do(26,e),tl||r==="")lt={type:6,name:i,nameLoc:bi(e,t),value:void 0,loc:bi(e)};else if(lt={type:7,name:r,rawName:i,exp:void 0,arg:void 0,modifiers:i==="."?[et("prop")]:[],loc:bi(e)},r==="pre"){tl=di.inVPre=!0,nS=gr;const s=gr.props;for(let n=0;n<s.length;n++)s[n].type===7&&(s[n]=Tne(s[n]))}},ondirarg(e,t){if(e===t)return;const i=nr(e,t);if(tl)lt.name+=i,kc(lt.nameLoc,t);else{const r=i[0]!=="[";lt.arg=wg(r?i:i.slice(1,-1),r,bi(e,t),r?3:0)}},ondirmodifier(e,t){const i=nr(e,t);if(tl)lt.name+="."+i,kc(lt.nameLoc,t);else if(lt.name==="slot"){const r=lt.arg;r&&(r.content+="."+i,kc(r.loc,t))}else{const r=et(i,!0,bi(e,t));lt.modifiers.push(r)}},onattribdata(e,t){Jr+=nr(e,t),Wo<0&&(Wo=e),Sc=t},onattribentity(e,t,i){Jr+=e,Wo<0&&(Wo=t),Sc=i},onattribnameend(e){const t=lt.loc.start.offset,i=nr(t,e);lt.type===7&&(lt.rawName=i),gr.props.some(r=>(r.type===7?r.rawName:r.name)===i)&&Do(2,t)},onattribend(e,t){if(gr&&lt){if(kc(lt.loc,t),e!==0)if(Jr.includes("&")&&(Jr=_t.decodeEntities(Jr,!0)),lt.type===6)lt.name==="class"&&(Jr=v9(Jr).trim()),e===1&&!Jr&&Do(13,t),lt.value={type:2,content:Jr,loc:e===1?bi(Wo,Sc):bi(Wo-1,Sc+1)},di.inSFCRoot&&gr.tag==="template"&&lt.name==="lang"&&Jr&&Jr!=="html"&&di.enterRCDATA(Dv("</template"),0);else{let i=0;lt.exp=wg(Jr,!1,bi(Wo,Sc),0,i),lt.name==="for"&&(lt.forParseResult=gne(lt.exp));let r=-1;lt.name==="bind"&&(r=lt.modifiers.findIndex(s=>s.content==="sync"))>-1&&Am("COMPILER_V_BIND_SYNC",_t,lt.loc,lt.rawName)&&(lt.name="model",lt.modifiers.splice(r,1))}(lt.type!==7||lt.name!=="pre")&&gr.props.push(lt)}Jr="",Wo=Sc=-1},oncomment(e,t){_t.comments&&oS({type:3,content:nr(e,t),loc:bi(e-4,t+3)})},onend(){const e=ca.length;for(let t=0;t<Kt.length;t++)_g(Kt[t],e-1),Do(24,Kt[t].loc.start.offset)},oncdata(e,t){Kt[0].ns!==0?fy(nr(e,t),e,t):Do(1,e-9)},onprocessinginstruction(e){(Kt[0]?Kt[0].ns:_t.ns)===0&&Do(21,e-1)}}),aO=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,yne=/^\(|\)$/g;function gne(e){const t=e.loc,i=e.content,r=i.match(mne);if(!r)return;const[,s,n]=r,o=(d,p,y=!1)=>{const v=t.start.offset+p,b=v+d.length;return wg(d,!1,bi(v,b),0,y?1:0)},a={source:o(n.trim(),i.indexOf(n,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(yne,"").trim();const c=s.indexOf(l),f=l.match(aO);if(f){l=l.replace(aO,"").trim();const d=f[1].trim();let p;if(d&&(p=i.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,i.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function nr(e,t){return ca.slice(e,t)}function lO(e){di.inSFCRoot&&(gr.innerLoc=bi(e+1,e+1)),oS(gr);const{tag:t,ns:i}=gr;i===0&&_t.isPreTag(t)&&PA++,_t.isVoidTag(t)?_g(gr,e):(Kt.unshift(gr),(i===1||i===2)&&(di.inXML=!0)),gr=null}function fy(e,t,i){{const n=Kt[0]&&Kt[0].tag;n!=="script"&&n!=="style"&&e.includes("&")&&(e=_t.decodeEntities(e,!1))}const r=Kt[0]||Mm,s=r.children[r.children.length-1];s&&s.type===2?(s.content+=e,kc(s.loc,i)):r.children.push({type:2,content:e,loc:bi(t,i)})}function _g(e,t,i=!1){i?kc(e.loc,y9(t,60)):kc(e.loc,vne(t,62)+1),di.inSFCRoot&&(e.children.length?e.innerLoc.end=nt({},e.children[e.children.length-1].loc.end):e.innerLoc.end=nt({},e.innerLoc.start),e.innerLoc.source=nr(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:s,children:n}=e;if(tl||(r==="slot"?e.tagType=2:cO(e)?e.tagType=3:_ne(e)&&(e.tagType=1)),di.inRCDATA||(e.children=g9(n)),s===0&&_t.isIgnoreNewlineTag(r)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&_t.isPreTag(r)&&PA--,nS===e&&(tl=di.inVPre=!1,nS=null),di.inXML&&(Kt[0]?Kt[0].ns:_t.ns)===0&&(di.inXML=!1);{const o=e.props;if(!di.inSFCRoot&&Gc("COMPILER_NATIVE_TEMPLATE",_t)&&e.tag==="template"&&!cO(e)){const l=Kt[0]||Mm,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Am("COMPILER_INLINE_TEMPLATE",_t,a.loc)&&e.children.length&&(a.value={type:2,content:nr(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function vne(e,t){let i=e;for(;ca.charCodeAt(i)!==t&&i<ca.length-1;)i++;return i}function y9(e,t){let i=e;for(;ca.charCodeAt(i)!==t&&i>=0;)i--;return i}const bne=new Set(["if","else","else-if","for","slot"]);function cO({tag:e,props:t}){if(e==="template"){for(let i=0;i<t.length;i++)if(t[i].type===7&&bne.has(t[i].name))return!0}return!1}function _ne({tag:e,props:t}){if(_t.isCustomElement(e))return!1;if(e==="component"||wne(e.charCodeAt(0))||h9(e)||_t.isBuiltInComponent&&_t.isBuiltInComponent(e)||_t.isNativeTag&&!_t.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const r=t[i];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Am("COMPILER_IS_ON_ELEMENT",_t,r.loc))return!0}}else if(r.name==="bind"&&Nc(r.arg,"is")&&Am("COMPILER_IS_ON_ELEMENT",_t,r.loc))return!0}return!1}function wne(e){return e>64&&e<91}const xne=/\r\n/g;function g9(e,t){const i=_t.whitespace!=="preserve";let r=!1;for(let s=0;s<e.length;s++){const n=e[s];if(n.type===2)if(PA)n.content=n.content.replace(xne,`
`);else if(Sne(n.content)){const o=e[s-1]&&e[s-1].type,a=e[s+1]&&e[s+1].type;!o||!a||i&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Ene(n.content)))?(r=!0,e[s]=null):n.content=" "}else i&&(n.content=v9(n.content))}return r?e.filter(Boolean):e}function Sne(e){for(let t=0;t<e.length;t++)if(!ys(e.charCodeAt(t)))return!1;return!0}function Ene(e){for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);if(i===10||i===13)return!0}return!1}function v9(e){let t="",i=!1;for(let r=0;r<e.length;r++)ys(e.charCodeAt(r))?i||(t+=" ",i=!0):(t+=e[r],i=!1);return t}function oS(e){(Kt[0]||Mm).children.push(e)}function bi(e,t){return{start:di.getPos(e),end:t==null?t:di.getPos(t),source:t==null?t:nr(e,t)}}function Ane(e){return bi(e.start.offset,e.end.offset)}function kc(e,t){e.end=di.getPos(t),e.source=nr(e.start.offset,t)}function Tne(e){const t={type:6,name:e.rawName,nameLoc:bi(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const i=e.exp.loc;i.end.offset<e.loc.end.offset&&(i.start.offset--,i.start.column--,i.end.offset++,i.end.column++),t.value={type:2,content:e.exp.content,loc:i}}return t}function wg(e,t=!1,i,r=0,s=0){return et(e,t,i,r)}function Do(e,t,i){_t.onError(ti(e,bi(t,t)))}function Mne(){di.reset(),gr=null,lt=null,Jr="",Wo=-1,Sc=-1,Kt.length=0}function $ne(e,t){if(Mne(),ca=e,_t=nt({},m9),t){let s;for(s in t)t[s]!=null&&(_t[s]=t[s])}di.mode=_t.parseMode==="html"?1:_t.parseMode==="sfc"?2:0,di.inXML=_t.ns===1||_t.ns===2;const i=t&&t.delimiters;i&&(di.delimiterOpen=Dv(i[0]),di.delimiterClose=Dv(i[1]));const r=Mm=Qse([],e);return di.parse(ca),r.loc=bi(0,e.length),r.children=g9(r.children),Mm=null,r}function One(e,t){xg(e,void 0,t,b9(e,e.children[0]))}function b9(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!Uv(t)}function xg(e,t,i,r=!1,s=!1){const{children:n}=e,o=[];for(let f=0;f<n.length;f++){const d=n[f];if(d.type===1&&d.tagType===0){const p=r?0:bs(d,i);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&w9(d,i)>=2){const b=x9(d);b&&(y.props=i.hoist(b))}y.dynamicProps&&(y.dynamicProps=i.hoist(y.dynamicProps))}}}else if(d.type===12&&(r?0:bs(d,i))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&i.scopes.vSlot++,xg(d,e,i,!1,s),p&&i.scopes.vSlot--}else if(d.type===11)xg(d,e,i,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)xg(d.branches[p],e,i,d.branches[p].children.length===1,s)}let a=!1;if(o.length===n.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ee(e.codegenNode.children))e.codegenNode.children=l(Vc(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ee(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=c(e.codegenNode,"default");f&&(f.returns=l(Vc(f.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ee(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=js(e,"slot",!0),d=f&&f.arg&&c(t.codegenNode,f.arg);d&&(d.returns=l(Vc(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=i.cache(f.codegenNode);function l(f){const d=i.cache(f);return s&&i.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Ee(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&i.transformHoist&&i.transformHoist(n,i,e)}function bs(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=i.get(e);if(r!==void 0)return r;const s=e.codegenNode;if(s.type!==13||s.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=w9(e,t);if(a===0)return i.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=bs(e.children[l],t);if(c===0)return i.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=bs(c.exp,t);if(f===0)return i.set(e,0),0;f<o&&(o=f)}}if(s.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return i.set(e,0),0;t.removeHelper(hu),t.removeHelper(vf(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(gf(t.inSSR,s.isComponent))}return i.set(e,o),o}else return i.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return bs(e.content,t);case 4:return e.constType;case 8:let n=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Je(a)||fs(a))continue;const l=bs(a,t);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const Cne=new Set([EA,AA,Sm,b0]);function _9(e,t){if(e.type===14&&!Je(e.callee)&&Cne.has(e.callee)){const i=e.arguments[0];if(i.type===4)return bs(i,t);if(i.type===14)return _9(i,t)}return 0}function w9(e,t){let i=3;const r=x9(e);if(r&&r.type===15){const{properties:s}=r;for(let n=0;n<s.length;n++){const{key:o,value:a}=s[n],l=bs(o,t);if(l===0)return l;l<i&&(i=l);let c;if(a.type===4?c=bs(a,t):a.type===14?c=_9(a,t):c=0,c===0)return c;c<i&&(i=c)}}return i}function x9(e){const t=e.codegenNode;if(t.type===13)return t.props}function Ine(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,hmr:s=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=cr,isCustomElement:f=cr,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:b=!1,ssrCssVars:E="",bindingMetadata:S=st,inline:T=!1,isTS:w=!1,onError:_=CA,onWarn:M=u9,compatConfig:$}){const I=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),L={filename:t,selfName:I&&Nl(Vt(I[1])),prefixIdentifiers:i,hoistStatic:r,hmr:s,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:b,ssrCssVars:E,bindingMetadata:S,inline:T,isTS:w,onError:_,onWarn:M,compatConfig:$,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(P){const F=L.helpers.get(P)||0;return L.helpers.set(P,F+1),P},removeHelper(P){const F=L.helpers.get(P);if(F){const z=F-1;z?L.helpers.set(P,z):L.helpers.delete(P)}},helperString(P){return`_${mf[L.helper(P)]}`},replaceNode(P){L.parent.children[L.childIndex]=L.currentNode=P},removeNode(P){const F=L.parent.children,z=P?F.indexOf(P):L.currentNode?L.childIndex:-1;!P||P===L.currentNode?(L.currentNode=null,L.onNodeRemoved()):L.childIndex>z&&(L.childIndex--,L.onNodeRemoved()),L.parent.children.splice(z,1)},onNodeRemoved:cr,addIdentifiers(P){},removeIdentifiers(P){},hoist(P){Je(P)&&(P=et(P)),L.hoists.push(P);const F=et(`_hoisted_${L.hoists.length}`,!1,P.loc,2);return F.hoisted=P,F},cache(P,F=!1,z=!1){const U=ene(L.cached.length,P,F,z);return L.cached.push(U),U}};return L.filters=new Set,L}function Pne(e,t){const i=Ine(e,t);Tb(e,i),t.hoistStatic&&One(e,i),t.ssr||Lne(e,i),e.helpers=new Set([...i.helpers.keys()]),e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.transformed=!0,e.filters=[...i.filters]}function Lne(e,t){const{helper:i}=t,{children:r}=e;if(r.length===1){const s=r[0];if(b9(e,s)&&s.codegenNode){const n=s.codegenNode;n.type===13&&OA(n,t),e.codegenNode=n}else e.codegenNode=s}else if(r.length>1){let s=64;e.codegenNode=Em(t,i(xm),void 0,e.children,s,void 0,void 0,!0,void 0,!1)}}function Nne(e,t){let i=0;const r=()=>{i--};for(;i<e.children.length;i++){const s=e.children[i];Je(s)||(t.grandParent=t.parent,t.parent=e,t.childIndex=i,t.onNodeRemoved=r,Tb(s,t))}}function Tb(e,t){t.currentNode=e;const{nodeTransforms:i}=t,r=[];for(let n=0;n<i.length;n++){const o=i[n](e,t);if(o&&(Ee(o)?r.push(...o):r.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(v0);break;case 5:t.ssr||t.helper(Eb);break;case 9:for(let n=0;n<e.branches.length;n++)Tb(e.branches[n],t);break;case 10:case 11:case 1:case 0:Nne(e,t);break}t.currentNode=e;let s=r.length;for(;s--;)r[s]()}function S9(e,t){const i=Je(e)?r=>r===e:r=>e.test(r);return(r,s)=>{if(r.type===1){const{props:n}=r;if(r.tagType===3&&n.some(fne))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&i(l.name)){n.splice(a,1),a--;const c=t(r,l,s);c&&o.push(c)}}return o}}}const Mb="/*@__PURE__*/",E9=e=>`${mf[e]}: _${mf[e]}`;function kne(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:r=!1,filename:s="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:i,sourceMap:r,filename:s,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${mf[b]}`},push(b,E=-2,S){y.code+=b},indent(){v(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(b){y.push(`
`+"  ".repeat(b),0)}return y}function Rne(e,t={}){const i=kne(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:r,push:s,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=i,d=Array.from(e.helpers),p=d.length>0,y=!n&&r!=="module";Dne(e,i);const b=f?"ssrRender":"render",S=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${b}(${S}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${d.map(E9).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(e2(e.components,"component",i),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(e2(e.directives,"directive",i),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),e2(e.filters,"filter",i),l()),e.temps>0){s("let ");for(let T=0;T<e.temps;T++)s(`${T>0?", ":""}_temp${T}`)}return(e.components.length||e.directives.length||e.temps)&&(s(`
`,0),l()),f||s("return "),e.codegenNode?Mr(e.codegenNode,i):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function Dne(e,t){const{ssr:i,prefixIdentifiers:r,push:s,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,f=Array.from(e.helpers);if(f.length>0&&(s(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[mA,yA,v0,gA,o9].filter(p=>f.includes(p)).map(E9).join(", ");s(`const { ${d} } = _Vue
`,-1)}Fne(e.hoists,t),n(),s("return ")}function e2(e,t,{helper:i,push:r,newline:s,isTS:n}){const o=i(t==="filter"?wA:t==="component"?vA:_A);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${Tm(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<e.length-1&&s()}}function Fne(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:r}=t;r();for(let s=0;s<e.length;s++){const n=e[s];n&&(i(`const _hoisted_${s+1} = `),Mr(n,t),r())}t.pure=!1}function LA(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),_0(e,t,i),i&&t.deindent(),t.push("]")}function _0(e,t,i=!1,r=!0){const{push:s,newline:n}=t;for(let o=0;o<e.length;o++){const a=e[o];Je(a)?s(a,-3):Ee(a)?LA(a,t):Mr(a,t),o<e.length-1&&(i?(r&&s(","),n()):r&&s(", "))}}function Mr(e,t){if(Je(e)){t.push(e,-3);return}if(fs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Mr(e.codegenNode,t);break;case 2:Une(e,t);break;case 4:A9(e,t);break;case 5:jne(e,t);break;case 12:Mr(e.codegenNode,t);break;case 8:T9(e,t);break;case 3:Vne(e,t);break;case 13:Gne(e,t);break;case 14:qne(e,t);break;case 15:Hne(e,t);break;case 17:Wne(e,t);break;case 18:Yne(e,t);break;case 19:Jne(e,t);break;case 20:Zne(e,t);break;case 21:_0(e.body,t,!0,!1);break}}function Une(e,t){t.push(JSON.stringify(e.content),-3,e)}function A9(e,t){const{content:i,isStatic:r}=e;t.push(r?JSON.stringify(i):i,-3,e)}function jne(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Mb),i(`${r(Eb)}(`),Mr(e.content,t),i(")")}function T9(e,t){for(let i=0;i<e.children.length;i++){const r=e.children[i];Je(r)?t.push(r,-3):Mr(r,t)}}function Bne(e,t){const{push:i}=t;if(e.type===8)i("["),T9(e,t),i("]");else if(e.isStatic){const r=IA(e.content)?e.content:JSON.stringify(e.content);i(r,-2,e)}else i(`[${e.content}]`,-3,e)}function Vne(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Mb),i(`${r(v0)}(${JSON.stringify(e.content)})`,-3,e)}function Gne(e,t){const{push:i,helper:r,pure:s}=t,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=e;let v;l&&(v=String(l)),f&&i(r(xA)+"("),d&&i(`(${r(hu)}(${p?"true":""}), `),s&&i(Mb);const b=d?vf(t.inSSR,y):gf(t.inSSR,y);i(r(b)+"(",-2,e),_0(zne([n,o,a,v,c]),t),i(")"),d&&i(")"),f&&(i(", "),Mr(f,t),i(")"))}function zne(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function qne(e,t){const{push:i,helper:r,pure:s}=t,n=Je(e.callee)?e.callee:r(e.callee);s&&i(Mb),i(n+"(",-2,e),_0(e.arguments,t),i(")")}function Hne(e,t){const{push:i,indent:r,deindent:s,newline:n}=t,{properties:o}=e;if(!o.length){i("{}",-2,e);return}const a=o.length>1||!1;i(a?"{":"{ "),a&&r();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];Bne(c,t),i(": "),Mr(f,t),l<o.length-1&&(i(","),n())}a&&s(),i(a?"}":" }")}function Wne(e,t){LA(e.elements,t)}function Yne(e,t){const{push:i,indent:r,deindent:s}=t,{params:n,returns:o,body:a,newline:l,isSlot:c}=e;c&&i(`_${mf[MA]}(`),i("(",-2,e),Ee(n)?_0(n,t):n&&Mr(n,t),i(") => "),(l||a)&&(i("{"),r()),o?(l&&i("return "),Ee(o)?LA(o,t):Mr(o,t)):a&&Mr(a,t),(l||a)&&(s(),i("}")),c&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function Jne(e,t){const{test:i,consequent:r,alternate:s,newline:n}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(i.type===4){const d=!IA(i.content);d&&o("("),A9(i,t),d&&o(")")}else o("("),Mr(i,t),o(")");n&&a(),t.indentLevel++,n||o(" "),o("? "),Mr(r,t),t.indentLevel--,n&&c(),n||o(" "),o(": ");const f=s.type===19;f||t.indentLevel++,Mr(s,t),f||t.indentLevel--,n&&l(!0)}function Zne(e,t){const{push:i,helper:r,indent:s,deindent:n,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&i("[...("),i(`_cache[${e.index}] || (`),a&&(s(),i(`${r(Rv)}(-1`),e.inVOnce&&i(", true"),i("),"),o(),i("(")),i(`_cache[${e.index}] = `),Mr(e.value,t),a&&(i(`).cacheIndex = ${e.index},`),o(),i(`${r(Rv)}(1),`),o(),i(`_cache[${e.index}]`),n()),i(")"),l&&i(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Kne=S9(/^(if|else|else-if)$/,(e,t,i)=>Xne(e,t,i,(r,s,n)=>{const o=i.parent.children;let a=o.indexOf(r),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)r.codegenNode=hO(s,l,i);else{const c=Qne(r.codegenNode);c.alternate=hO(s,l+r.branches.length-1,i)}}}));function Xne(e,t,i,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:e.loc;i.onError(ti(28,t.loc)),t.exp=et("true",!1,s)}if(t.name==="if"){const s=uO(e,t),n={type:9,loc:Ane(e.loc),branches:[s]};if(i.replaceNode(n),r)return r(n,s,!0)}else{const s=i.parent.children;let n=s.indexOf(e);for(;n-->=-1;){const o=s[n];if(o&&o.type===3){i.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){i.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&i.onError(ti(30,e.loc)),i.removeNode();const a=uO(e,t);o.branches.push(a);const l=r&&r(o,a,!1);Tb(a,i),l&&l(),i.currentNode=null}else i.onError(ti(30,e.loc));break}}}function uO(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!js(e,"for")?e.children:[e],userKey:Ab(e,"key"),isTemplateIf:i}}function hO(e,t,i){return e.condition?sS(e.condition,fO(e,t,i),zi(i.helper(v0),['""',"true"])):fO(e,t,i)}function fO(e,t,i){const{helper:r}=i,s=Ai("key",et(`${t}`,!1,$s,2)),{children:n}=e,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return jv(l,s,i),l}else return Em(i,r(xm),qs([s]),n,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=pne(l);return c.type===13&&OA(c,i),jv(c,s,i),l}}function Qne(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const eoe=(e,t,i)=>{const{modifiers:r,loc:s}=e,n=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return i.onError(ti(52,n.loc)),{props:[Ai(n,et("",!0,s))]};M9(e),o=e.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),r.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=Vt(n.content):n.content=`${i.helperString(iS)}(${n.content})`:(n.children.unshift(`${i.helperString(iS)}(`),n.children.push(")"))),i.inSSR||(r.some(a=>a.content==="prop")&&dO(n,"."),r.some(a=>a.content==="attr")&&dO(n,"^")),{props:[Ai(n,o)]}},M9=(e,t)=>{const i=e.arg,r=Vt(i.content);e.exp=et(r,!1,i.loc)},dO=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},toe=S9("for",(e,t,i)=>{const{helper:r,removeHelper:s}=i;return ioe(e,t,i,n=>{const o=zi(r(SA),[n.source]),a=Fv(e),l=js(e,"memo"),c=Ab(e,"key",!1,!0);c&&c.type===7&&!c.exp&&M9(c);let d=c&&(c.type===6?c.value?et(c.value.content,!0):void 0:c.exp);const p=c&&d?Ai("key",d):null,y=n.source.type===4&&n.source.constType>0,v=y?64:c?128:256;return n.codegenNode=Em(i,r(xm),void 0,o,v,void 0,void 0,!0,!y,!1,e.loc),()=>{let b;const{children:E}=n,S=E.length!==1||E[0].type!==1,T=Uv(e)?e:a&&e.children.length===1&&Uv(e.children[0])?e.children[0]:null;if(T?(b=T.codegenNode,a&&p&&jv(b,p,i)):S?b=Em(i,r(xm),p?qs([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(b=E[0].codegenNode,a&&p&&jv(b,p,i),b.isBlock!==!y&&(b.isBlock?(s(hu),s(vf(i.inSSR,b.isComponent))):s(gf(i.inSSR,b.isComponent))),b.isBlock=!y,b.isBlock?(r(hu),r(vf(i.inSSR,b.isComponent))):r(gf(i.inSSR,b.isComponent))),l){const w=yf(aS(n.parseResult,[et("_cached")]));w.body=tne([An(["const _memo = (",l.exp,")"]),An(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${i.helperString(c9)}(_cached, _memo)) return _cached`]),An(["const _item = ",b]),et("_item.memo = _memo"),et("return _item")]),o.arguments.push(w,et("_cache"),et(String(i.cached.length))),i.cached.push(null)}else o.arguments.push(yf(aS(n.parseResult),b,!0))}})});function ioe(e,t,i,r){if(!t.exp){i.onError(ti(31,t.loc));return}const s=t.forParseResult;if(!s){i.onError(ti(32,t.loc));return}$9(s);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=i,{source:l,value:c,key:f,index:d}=s,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:s,children:Fv(e)?e.children:[e]};i.replaceNode(p),a.vFor++;const y=r&&r(p);return()=>{a.vFor--,y&&y()}}function $9(e,t){e.finalized||(e.finalized=!0)}function aS({value:e,key:t,index:i},r=[]){return roe([e,t,i,...r])}function roe(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,r)=>i||et("_".repeat(r+1),!1))}const pO=et("undefined",!1),soe=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=js(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},noe=(e,t,i,r)=>yf(e,i,!1,!0,i.length?i[0].loc:r);function ooe(e,t,i=noe){t.helper(MA);const{children:r,loc:s}=e,n=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=js(e,"slot",!0);if(l){const{arg:E,exp:S}=l;E&&!os(E)&&(a=!0),n.push(Ai(E||et("default",!0),i(S,void 0,r,s)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let E=0;E<r.length;E++){const S=r[E];let T;if(!Fv(S)||!(T=js(S,"slot",!0))){S.type!==3&&d.push(S);continue}if(l){t.onError(ti(37,T.loc));break}c=!0;const{children:w,loc:_}=S,{arg:M=et("default",!0),exp:$,loc:I}=T;let L;os(M)?L=M?M.content:"default":a=!0;const P=js(S,"for"),F=i($,P,w,_);let z,U;if(z=js(S,"if"))a=!0,o.push(sS(z.exp,dy(M,F,y++),pO));else if(U=js(S,/^else(-if)?$/,!0)){let B=E,Z;for(;B--&&(Z=r[B],Z.type===3););if(Z&&Fv(Z)&&js(Z,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=U.exp?sS(U.exp,dy(M,F,y++),pO):dy(M,F,y++)}else t.onError(ti(30,U.loc))}else if(P){a=!0;const B=P.forParseResult;B?($9(B),o.push(zi(t.helper(SA),[B.source,yf(aS(B),dy(M,F),!0)]))):t.onError(ti(32,P.loc))}else{if(L){if(p.has(L)){t.onError(ti(38,I));continue}p.add(L),L==="default"&&(f=!0)}n.push(Ai(M,F))}}if(!l){const E=(S,T)=>{const w=i(S,void 0,T,s);return t.compatConfig&&(w.isNonScopedSlot=!0),Ai("default",w)};c?d.length&&d.some(S=>O9(S))&&(f?t.onError(ti(39,d[0].loc)):n.push(E(void 0,d))):n.push(E(void 0,r))}const v=a?2:Sg(e.children)?3:1;let b=qs(n.concat(Ai("_",et(v+"",!1))),s);return o.length&&(b=zi(t.helper(l9),[b,Vc(o)])),{slots:b,hasDynamicSlots:a}}function dy(e,t,i){const r=[Ai("name",e),Ai("fn",t)];return i!=null&&r.push(Ai("key",et(String(i),!0))),qs(r)}function Sg(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||Sg(i.children))return!0;break;case 9:if(Sg(i.branches))return!0;break;case 10:case 11:if(Sg(i.children))return!0;break}}return!1}function O9(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():O9(e.content)}const C9=new WeakMap,aoe=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:s}=e,n=e.tagType===1;let o=n?loe(e,t):`"${r}"`;const a=Ot(o)&&o.callee===bA;let l,c,f=0,d,p,y,v=a||o===Mp||o===pA||!n&&(r==="svg"||r==="foreignObject"||r==="math");if(s.length>0){const b=I9(e,t,void 0,n,a);l=b.props,f=b.patchFlag,p=b.dynamicPropNames;const E=b.directives;y=E&&E.length?Vc(E.map(S=>uoe(S,t))):void 0,b.shouldUseBlock&&(v=!0)}if(e.children.length>0)if(o===Nv&&(v=!0,f|=1024),n&&o!==Mp&&o!==Nv){const{slots:E,hasDynamicSlots:S}=ooe(e,t);c=E,S&&(f|=1024)}else if(e.children.length===1&&o!==Mp){const E=e.children[0],S=E.type,T=S===5||S===8;T&&bs(E,t)===0&&(f|=1),T||S===2?c=E:c=e.children}else c=e.children;p&&p.length&&(d=hoe(p)),e.codegenNode=Em(t,o,l,c,f===0?void 0:f,d,y,!!v,!1,n,e.loc)};function loe(e,t,i=!1){let{tag:r}=e;const s=lS(r),n=Ab(e,"is",!1,!0);if(n)if(s||Gc("COMPILER_IS_ON_ELEMENT",t)){let a;if(n.type===6?a=n.value&&et(n.value.content,!0):(a=n.exp,a||(a=et("is",!1,n.arg.loc))),a)return zi(t.helper(bA),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(r=n.value.content.slice(4));const o=h9(r)||t.isBuiltInComponent(r);return o?(i||t.helper(o),o):(t.helper(vA),t.components.add(r),Tm(r,"component"))}function I9(e,t,i=e.props,r,s,n=!1){const{tag:o,loc:a,children:l}=e;let c=[];const f=[],d=[],p=l.length>0;let y=!1,v=0,b=!1,E=!1,S=!1,T=!1,w=!1,_=!1;const M=[],$=F=>{c.length&&(f.push(qs(mO(c),a)),c=[]),F&&f.push(F)},I=()=>{t.scopes.vFor>0&&c.push(Ai(et("ref_for",!0),et("true")))},L=({key:F,value:z})=>{if(os(F)){const U=F.content,B=Au(U);if(B&&(!r||s)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!gl(U)&&(T=!0),B&&gl(U)&&(_=!0),B&&z.type===14&&(z=z.arguments[0]),z.type===20||(z.type===4||z.type===8)&&bs(z,t)>0)return;U==="ref"?b=!0:U==="class"?E=!0:U==="style"?S=!0:U!=="key"&&!M.includes(U)&&M.push(U),r&&(U==="class"||U==="style")&&!M.includes(U)&&M.push(U)}else w=!0};for(let F=0;F<i.length;F++){const z=i[F];if(z.type===6){const{loc:U,name:B,nameLoc:Z,value:u}=z;let m=!0;if(B==="ref"&&(b=!0,I()),B==="is"&&(lS(o)||u&&u.content.startsWith("vue:")||Gc("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Ai(et(B,!0,Z),et(u?u.content:"",m,u?u.loc:U)))}else{const{name:U,arg:B,exp:Z,loc:u,modifiers:m}=z,x=U==="bind",C=U==="on";if(U==="slot"){r||t.onError(ti(40,u));continue}if(U==="once"||U==="memo"||U==="is"||x&&Nc(B,"is")&&(lS(o)||Gc("COMPILER_IS_ON_ELEMENT",t))||C&&n)continue;if((x&&Nc(B,"key")||C&&p&&Nc(B,"vue:before-update"))&&(y=!0),x&&Nc(B,"ref")&&I(),!B&&(x||C)){if(w=!0,Z)if(x){if(I(),$(),Gc("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(Z);continue}f.push(Z)}else $({type:14,loc:u,callee:t.helper(TA),arguments:r?[Z]:[Z,"true"]});else t.onError(ti(x?34:35,u));continue}x&&m.some(Y=>Y.content==="prop")&&(v|=32);const V=t.directiveTransforms[U];if(V){const{props:Y,needRuntime:de}=V(z,e,t);!n&&Y.forEach(L),C&&B&&!os(B)?$(qs(Y,a)):c.push(...Y),de&&(d.push(z),fs(de)&&C9.set(z,de))}else Sie(U)||(d.push(z),p&&(y=!0))}}let P;if(f.length?($(),f.length>1?P=zi(t.helper(kv),f,a):P=f[0]):c.length&&(P=qs(mO(c),a)),w?v|=16:(E&&!r&&(v|=2),S&&!r&&(v|=4),M.length&&(v|=8),T&&(v|=32)),!y&&(v===0||v===32)&&(b||_||d.length>0)&&(v|=512),!t.inSSR&&P)switch(P.type){case 15:let F=-1,z=-1,U=!1;for(let u=0;u<P.properties.length;u++){const m=P.properties[u].key;os(m)?m.content==="class"?F=u:m.content==="style"&&(z=u):m.isHandlerKey||(U=!0)}const B=P.properties[F],Z=P.properties[z];U?P=zi(t.helper(Sm),[P]):(B&&!os(B.value)&&(B.value=zi(t.helper(EA),[B.value])),Z&&(S||Z.value.type===4&&Z.value.content.trim()[0]==="["||Z.value.type===17)&&(Z.value=zi(t.helper(AA),[Z.value])));break;case 14:break;default:P=zi(t.helper(Sm),[zi(t.helper(b0),[P])]);break}return{props:P,directives:d,patchFlag:v,dynamicPropNames:M,shouldUseBlock:y}}function mO(e){const t=new Map,i=[];for(let r=0;r<e.length;r++){const s=e[r];if(s.key.type===8||!s.key.isStatic){i.push(s);continue}const n=s.key.content,o=t.get(n);o?(n==="style"||n==="class"||Au(n))&&coe(o,s):(t.set(n,s),i.push(s))}return i}function coe(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Vc([e.value,t.value],e.loc)}function uoe(e,t){const i=[],r=C9.get(e);r?i.push(t.helperString(r)):(t.helper(_A),t.directives.add(e.name),i.push(Tm(e.name,"directive")));const{loc:s}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const n=et("true",!1,s);i.push(qs(e.modifiers.map(o=>Ai(o,n)),s))}return Vc(i,e.loc)}function hoe(e){let t="[";for(let i=0,r=e.length;i<r;i++)t+=JSON.stringify(e[i]),i<r-1&&(t+=", ");return t+"]"}function lS(e){return e==="component"||e==="Component"}const foe=(e,t)=>{if(Uv(e)){const{children:i,loc:r}=e,{slotName:s,slotProps:n}=doe(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),i.length&&(o[3]=yf([],i,!1,!1,r),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=zi(t.helper(a9),o,r)}};function doe(e,t){let i='"default"',r;const s=[];for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===6)o.value&&(o.name==="name"?i=JSON.stringify(o.value.content):(o.name=Vt(o.name),s.push(o)));else if(o.name==="bind"&&Nc(o.arg,"name")){if(o.exp)i=o.exp;else if(o.arg&&o.arg.type===4){const a=Vt(o.arg.content);i=o.exp=et(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&os(o.arg)&&(o.arg.content=Vt(o.arg.content)),s.push(o)}if(s.length>0){const{props:n,directives:o}=I9(e,t,s,!1,!1);r=n,o.length&&t.onError(ti(36,o[0].loc))}return{slotName:i,slotProps:r}}const P9=(e,t,i,r)=>{const{loc:s,modifiers:n,arg:o}=e;!e.exp&&!n.length&&i.onError(ti(35,s));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Uc(Vt(d)):`on:${d}`;a=et(p,!0,o.loc)}else a=An([`${i.helperString(rS)}(`,o,")"]);else a=o,a.children.unshift(`${i.helperString(rS)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=i.cacheHandlers&&!l&&!i.inVOnce;if(l){const d=d9(l),p=!(d||une(l)),y=l.content.includes(";");(p||c&&d)&&(l=An([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Ai(a,l||et("() => {}",!1,s))]};return r&&(f=r(f)),c&&(f.props[0].value=i.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},poe=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let r,s=!1;for(let n=0;n<i.length;n++){const o=i[n];if(Q_(o)){s=!0;for(let a=n+1;a<i.length;a++){const l=i[a];if(Q_(l))r||(r=i[n]=An([o],o.loc)),r.children.push(" + ",l),i.splice(a,1),a--;else{r=void 0;break}}}}if(!(!s||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(n=>n.type===7&&!t.directiveTransforms[n.name])&&e.tag!=="template")))for(let n=0;n<i.length;n++){const o=i[n];if(Q_(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&bs(o,t)===0&&a.push("1"),i[n]={type:12,content:o,loc:o.loc,codegenNode:zi(t.helper(gA),a)}}}}},yO=new WeakSet,moe=(e,t)=>{if(e.type===1&&js(e,"once",!0))return yO.has(e)||t.inVOnce||t.inSSR?void 0:(yO.add(e),t.inVOnce=!0,t.helper(Rv),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0,!0))})},L9=(e,t,i)=>{const{exp:r,arg:s}=e;if(!r)return i.onError(ti(41,e.loc)),py();const n=r.loc.source.trim(),o=r.type===4?r.content:n,a=i.bindingMetadata[n];if(a==="props"||a==="props-aliased")return i.onError(ti(44,r.loc)),py();if(!o.trim()||!d9(r)&&!!1)return i.onError(ti(42,r.loc)),py();const c=s||et("modelValue",!0),f=s?os(s)?`onUpdate:${Vt(s.content)}`:An(['"onUpdate:" + ',s]):"onUpdate:modelValue";let d;const p=i.isTS?"($event: any)":"$event";d=An([`${p} => ((`,r,") = $event)"]);const y=[Ai(c,e.exp),Ai(f,d)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(E=>E.content).map(E=>(IA(E)?E:JSON.stringify(E))+": true").join(", "),b=s?os(s)?`${s.content}Modifiers`:An([s,' + "Modifiers"']):"modelModifiers";y.push(Ai(b,et(`{ ${v} }`,!1,e.loc,2)))}return py(y)};function py(e=[]){return{props:e}}const yoe=/[\w).+\-_$\]]/,goe=(e,t)=>{Gc("COMPILER_FILTERS",t)&&(e.type===5?Bv(e.content,t):e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&Bv(i.exp,t)}))};function Bv(e,t){if(e.type===4)gO(e,t);else for(let i=0;i<e.children.length;i++){const r=e.children[i];typeof r=="object"&&(r.type===4?gO(r,t):r.type===8?Bv(e,t):r.type===5&&Bv(r.content,t))}}function gO(e,t){const i=e.content;let r=!1,s=!1,n=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,v,b=[];for(y=0;y<i.length;y++)if(p=d,d=i.charCodeAt(y),r)d===39&&p!==92&&(r=!1);else if(s)d===34&&p!==92&&(s=!1);else if(n)d===96&&p!==92&&(n=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&i.charCodeAt(y+1)!==124&&i.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(f=y+1,v=i.slice(0,y).trim()):E();else{switch(d){case 34:s=!0;break;case 39:r=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let S=y-1,T;for(;S>=0&&(T=i.charAt(S),T===" ");S--);(!T||!yoe.test(T))&&(o=!0)}}v===void 0?v=i.slice(0,y).trim():f!==0&&E();function E(){b.push(i.slice(f,y).trim()),f=y+1}if(b.length){for(y=0;y<b.length;y++)v=voe(v,b[y],t);e.content=v,e.ast=void 0}}function voe(e,t,i){i.helper(wA);const r=t.indexOf("(");if(r<0)return i.filters.add(t),`${Tm(t,"filter")}(${e})`;{const s=t.slice(0,r),n=t.slice(r+1);return i.filters.add(s),`${Tm(s,"filter")}(${e}${n!==")"?","+n:n}`}}const vO=new WeakSet,boe=(e,t)=>{if(e.type===1){const i=js(e,"memo");return!i||vO.has(e)?void 0:(vO.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&OA(r,t),e.codegenNode=zi(t.helper($A),[i.exp,yf(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function _oe(e){return[[moe,Kne,boe,toe,goe,foe,aoe,soe,poe],{on:P9,bind:eoe,model:L9}]}function woe(e,t={}){const i=t.onError||CA,r=t.mode==="module";t.prefixIdentifiers===!0?i(ti(47)):r&&i(ti(48));const s=!1;t.cacheHandlers&&i(ti(49)),t.scopeId&&!r&&i(ti(50));const n=nt({},t,{prefixIdentifiers:s}),o=Je(e)?$ne(e,n):e,[a,l]=_oe();return Pne(o,nt({},n,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:nt({},l,t.directiveTransforms||{})})),Rne(o,n)}const xoe=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const N9=Symbol(""),k9=Symbol(""),R9=Symbol(""),D9=Symbol(""),cS=Symbol(""),F9=Symbol(""),U9=Symbol(""),j9=Symbol(""),B9=Symbol(""),V9=Symbol("");Xse({[N9]:"vModelRadio",[k9]:"vModelCheckbox",[R9]:"vModelText",[D9]:"vModelSelect",[cS]:"vModelDynamic",[F9]:"withModifiers",[U9]:"withKeys",[j9]:"vShow",[B9]:"Transition",[V9]:"TransitionGroup"});let Hu;function Soe(e,t=!1){return Hu||(Hu=document.createElement("div")),t?(Hu.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Hu.children[0].getAttribute("foo")):(Hu.innerHTML=e,Hu.textContent)}const Eoe={parseMode:"html",isVoidTag:Uie,isNativeTag:e=>Rie(e)||Die(e)||Fie(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:Soe,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return B9;if(e==="TransitionGroup"||e==="transition-group")return V9},getNamespace(e,t,i){let r=t?t.ns:i;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},Aoe=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:et("style",!0,t.loc),exp:Toe(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Toe=(e,t)=>{const i=$k(e);return et(JSON.stringify(i),!1,t,3)};function _l(e,t){return ti(e,t)}const Moe=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(_l(53,s)),t.children.length&&(i.onError(_l(54,s)),t.children.length=0),{props:[Ai(et("innerHTML",!0,s),r||et("",!0))]}},$oe=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(_l(55,s)),t.children.length&&(i.onError(_l(56,s)),t.children.length=0),{props:[Ai(et("textContent",!0),r?bs(r,i)>0?r:zi(i.helperString(Eb),[r],s):et("",!0))]}},Ooe=(e,t,i)=>{const r=L9(e,t,i);if(!r.props.length||t.tagType===1)return r;e.arg&&i.onError(_l(58,e.arg.loc));const{tag:s}=t,n=i.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||n){let o=R9,a=!1;if(s==="input"||n){const l=Ab(t,"type");if(l){if(l.type===7)o=cS;else if(l.value)switch(l.value.content){case"radio":o=N9;break;case"checkbox":o=k9;break;case"file":a=!0,i.onError(_l(59,e.loc));break}}else hne(t)&&(o=cS)}else s==="select"&&(o=D9);a||(r.needRuntime=i.helper(o))}else i.onError(_l(57,e.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},Coe=Ms("passive,once,capture"),Ioe=Ms("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Poe=Ms("left,right"),G9=Ms("onkeyup,onkeydown,onkeypress"),Loe=(e,t,i,r)=>{const s=[],n=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&Am("COMPILER_V_ON_NATIVE",i)||Coe(l)?o.push(l):Poe(l)?os(e)?G9(e.content.toLowerCase())?s.push(l):n.push(l):(s.push(l),n.push(l)):Ioe(l)?n.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:n,eventOptionModifiers:o}},bO=(e,t)=>os(e)&&e.content.toLowerCase()==="onclick"?et(t,!0):e.type!==4?An(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Noe=(e,t,i)=>P9(e,t,i,r=>{const{modifiers:s}=e;if(!s.length)return r;let{key:n,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Loe(n,s,i,e.loc);if(l.includes("right")&&(n=bO(n,"onContextmenu")),l.includes("middle")&&(n=bO(n,"onMouseup")),l.length&&(o=zi(i.helper(F9),[o,JSON.stringify(l)])),a.length&&(!os(n)||G9(n.content.toLowerCase()))&&(o=zi(i.helper(U9),[o,JSON.stringify(a)])),c.length){const f=c.map(Nl).join("");n=os(n)?et(`${n.content}${f}`,!0):An(["(",n,`) + "${f}"`])}return{props:[Ai(n,o)]}}),koe=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(_l(61,s)),{props:[],needRuntime:i.helper(j9)}},Roe=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},Doe=[Aoe],Foe={cloak:xoe,html:Moe,text:$oe,model:Ooe,on:Noe,show:koe};function Uoe(e,t={}){return woe(e,nt({},Eoe,t,{nodeTransforms:[Roe,...Doe,...t.nodeTransforms||[]],directiveTransforms:nt({},Foe,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const _O=Object.create(null);function z9(e,t){if(!Je(e))if(e.nodeType)e=e.innerHTML;else return cr;const i=Tie(e,t),r=_O[i];if(r)return r;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const s=nt({hoistStatic:!0,onError:void 0,onWarn:cr},t);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:n}=Uoe(e,s),o=new Function("Vue",n)(Hse);return o._rc=!0,_O[i]=o}sA(z9);const Bwe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:L3,BaseTransitionPropsValidators:fb,Comment:xi,DeprecationTypes:k8,EffectScope:ib,ErrorCodes:aR,ErrorTypeStrings:O8,Fragment:It,KeepAlive:MR,ReactiveEffect:uf,Static:bl,Suspense:f8,Teleport:P3,Text:mo,TrackOpTypes:iR,Transition:bb,TransitionGroup:wb,TriggerOpTypes:rR,VueElement:y0,assertNumber:oR,callWithAsyncErrorHandling:Es,callWithErrorHandling:Mu,camelize:Vt,capitalize:Nl,cloneVNode:Ln,compatUtils:N8,compile:z9,computed:tt,createApp:$l,createBlock:Bt,createCommentVNode:Ht,createElementBlock:xe,createElementVNode:ue,createHydrationRenderer:K3,createPropsRestProxy:zR,createRenderer:Z3,createSSRApp:dA,createSlots:CR,createStaticVNode:b8,createTextVNode:yo,createVNode:Ke,customRef:$3,defineAsyncComponent:k3,defineComponent:rt,defineCustomElement:lA,defineEmits:LR,defineExpose:NR,defineModel:DR,defineOptions:kR,defineProps:PR,defineSSRCustomElement:G8,defineSlots:RR,devtools:C8,effect:Fk,effectScope:u0,getCurrentInstance:Ri,getCurrentScope:rb,getCurrentWatcher:sR,getTransitionRawChildren:f0,guardReactiveProps:iA,h:zs,handleError:Fl,hasInjectionContext:Y3,hydrate:Q8,hydrateOnIdle:SR,hydrateOnInteraction:TR,hydrateOnMediaQuery:AR,hydrateOnVisible:ER,initCustomFormatter:T8,initDirectivesForSSR:i9,inject:ki,isMemoSame:nA,isProxy:h0,isReactive:xs,isReadonly:da,isRef:ht,isRuntimeOnly:S8,isShallow:as,isVNode:Pn,markRaw:pi,mergeDefaults:VR,mergeModels:GR,mergeProps:vb,nextTick:Rn,normalizeClass:mi,normalizeProps:Ok,normalizeStyle:kl,onActivated:R3,onBeforeMount:pb,onBeforeUnmount:Dn,onBeforeUpdate:mb,onDeactivated:D3,onErrorCaptured:B3,onMounted:hr,onRenderTracked:j3,onRenderTriggered:U3,onScopeDispose:S3,onServerPrefetch:F3,onUnmounted:$u,onUpdated:Qf,onWatcherCleanup:C3,openBlock:fe,popScopeId:dR,provide:W3,proxyRefs:cb,pushScopeId:fR,queuePostFlushCb:hf,reactive:rr,readonly:ab,ref:X,registerRuntimeCompiler:sA,render:qh,renderList:Ul,renderSlot:gn,resolveComponent:wi,resolveDirective:Tt,resolveDynamicComponent:G3,resolveFilter:L8,resolveTransitionHooks:lu,setBlockTracking:$v,setDevtoolsHook:I8,setTransitionHooks:Ao,shallowReactive:M3,shallowReadonly:Zk,shallowRef:Xf,ssrContextKey:Q3,ssrUtils:P8,stop:Uk,toDisplayString:jt,toHandlerKey:Uc,toHandlers:IR,toRaw:Ge,toRef:eR,toRefs:O3,toValue:Qk,transformVNodeArgs:g8,triggerRef:Xk,unref:$e,useAttrs:jR,useCssModule:q8,useCssVars:aA,useHost:cA,useId:xR,useModel:c8,useSSRContext:eA,useShadowRoot:z8,useSlots:UR,useTemplateRef:Ev,useTransitionState:hb,vModelCheckbox:xb,vModelDynamic:hA,vModelRadio:Sb,vModelSelect:uA,vModelText:wm,vShow:_b,version:oA,warn:$8,watch:Ji,watchEffect:o8,watchPostEffect:a8,watchSyncEffect:tA,withAsyncContext:qR,withCtx:Mi,withDefaults:FR,withDirectives:At,withKeys:fA,withMemo:M8,withModifiers:g0,withScopeId:pR},Symbol.toStringTag,{value:"Module"}));var joe=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let q9;const $b=e=>q9=e,H9=Symbol();function uS(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var $p;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})($p||($p={}));function Boe(){const e=u0(!0),t=e.run(()=>X({}));let i=[],r=[];const s=pi({install(n){$b(s),s._a=n,n.provide(H9,s),n.config.globalProperties.$pinia=s,r.forEach(o=>i.push(o)),r=[]},use(n){return!this._a&&!joe?r.push(n):i.push(n),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return s}const W9=()=>{};function wO(e,t,i,r=W9){e.push(t);const s=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!i&&rb()&&S3(s),s}function Wu(e,...t){e.slice().forEach(i=>{i(...t)})}const Voe=e=>e();function hS(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,r)=>e.set(r,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i],s=e[i];uS(s)&&uS(r)&&e.hasOwnProperty(i)&&!ht(r)&&!xs(r)?e[i]=hS(s,r):e[i]=r}return e}const Goe=Symbol();function zoe(e){return!uS(e)||!e.hasOwnProperty(Goe)}const{assign:qa}=Object;function qoe(e){return!!(ht(e)&&e.effect)}function Hoe(e,t,i,r){const{state:s,actions:n,getters:o}=t,a=i.state.value[e];let l;function c(){a||(i.state.value[e]=s?s():{});const f=O3(i.state.value[e]);return qa(f,n,Object.keys(o||{}).reduce((d,p)=>(d[p]=pi(tt(()=>{$b(i);const y=i._s.get(e);return o[p].call(y,y)})),d),{}))}return l=Y9(e,c,t,i,r,!0),l}function Y9(e,t,i={},r,s,n){let o;const a=qa({actions:{}},i),l={deep:!0};let c,f,d=[],p=[],y;const v=r.state.value[e];!n&&!v&&(r.state.value[e]={}),X({});let b;function E(L){let P;c=f=!1,typeof L=="function"?(L(r.state.value[e]),P={type:$p.patchFunction,storeId:e,events:y}):(hS(r.state.value[e],L),P={type:$p.patchObject,payload:L,storeId:e,events:y});const F=b=Symbol();Rn().then(()=>{b===F&&(c=!0)}),f=!0,Wu(d,P,r.state.value[e])}const S=n?function(){const{state:P}=i,F=P?P():{};this.$patch(z=>{qa(z,F)})}:W9;function T(){o.stop(),d=[],p=[],r._s.delete(e)}function w(L,P){return function(){$b(r);const F=Array.from(arguments),z=[],U=[];function B(m){z.push(m)}function Z(m){U.push(m)}Wu(p,{args:F,name:L,store:M,after:B,onError:Z});let u;try{u=P.apply(this&&this.$id===e?this:M,F)}catch(m){throw Wu(U,m),m}return u instanceof Promise?u.then(m=>(Wu(z,m),m)).catch(m=>(Wu(U,m),Promise.reject(m))):(Wu(z,u),u)}}const _={_p:r,$id:e,$onAction:wO.bind(null,p),$patch:E,$reset:S,$subscribe(L,P={}){const F=wO(d,L,P.detached,()=>z()),z=o.run(()=>Ji(()=>r.state.value[e],U=>{(P.flush==="sync"?f:c)&&L({storeId:e,type:$p.direct,events:y},U)},qa({},l,P)));return F},$dispose:T},M=rr(_);r._s.set(e,M);const I=(r._a&&r._a.runWithContext||Voe)(()=>r._e.run(()=>(o=u0()).run(t)));for(const L in I){const P=I[L];if(ht(P)&&!qoe(P)||xs(P))n||(v&&zoe(P)&&(ht(P)?P.value=v[L]:hS(P,v[L])),r.state.value[e][L]=P);else if(typeof P=="function"){const F=w(L,P);I[L]=F,a.actions[L]=P}}return qa(M,I),qa(Ge(M),I),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:L=>{E(P=>{qa(P,L)})}}),r._p.forEach(L=>{qa(M,o.run(()=>L({store:M,app:r._a,pinia:r,options:a})))}),v&&n&&i.hydrate&&i.hydrate(M.$state,v),c=!0,f=!0,M}function ai(e,t,i){let r,s;const n=typeof t=="function";typeof e=="string"?(r=e,s=n?i:t):(s=e,r=e.id);function o(a,l){const c=Y3();return a=a||(c?ki(H9,null):null),a&&$b(a),a=q9,a._s.has(r)||(n?Y9(r,t,s,a):Hoe(r,s,a)),a._s.get(r)}return o.$id=r,o}const Vv=ai("appbar",()=>{const e=X({}),t=X([]),i=X([]),r=tt(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function s(o){i.value.includes(o)||i.value.push(o)}function n(o){const a=i.value.indexOf(o);a!==-1&&i.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:i,visible:r,addTempButton:s,removeButton:n}}),fS=ai("grid",()=>{const e=X({}),t=X(),i=X();function r(a){e.value={...e.value,[a.id]:a}}function s(a){e.value[a]!==void 0&&delete e.value[a]}function n(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:i,addGrid:r,removeGrid:s,getGridId:n,removeLayer:o}});function ol(e,t,i,r){var s,n=!1,o=0;function a(){s&&clearTimeout(s)}function l(){a(),n=!0}typeof t!="boolean"&&(r=i,i=t,t=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(n)return;function b(){o=Date.now(),i.apply(y,d)}function E(){s=void 0}r&&!s&&b(),a(),r===void 0&&v>e?b():t!==!0&&(s=setTimeout(r?E:b,r===void 0?e-v:e))}return c.cancel=l,c}function Gv(e,t,i){return i===void 0?ol(e,t,!1):ol(e,i,t!==!1)}const fl=ai("map-caption",()=>{const e=X({text:{},logo:{}}),t=X({}),i=X({}),r=X({});function s(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function n(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:i,langtoggle:r,toggleScale:s,setAttribution:n}}),t2=(e,t)=>{const i=[...e];for(;i.length>0;){const r=i.shift();if(t(r))return r;r&&i.push(...r.sublayers)}},lo=ai("layer",()=>{const e=X([]),t=X([]),i=X([]);function r(d){return t2(e.value,p=>p?.uid===d)}function s(d){return t2(e.value,p=>p?.id===d)}function n(d){return t2(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=i.value.length),i.value.splice(p,0,d.id),i.value=[...i.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=i.value.length&&(p=i.value.length-1);const y=i.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(i.value.splice(y,1),i.value.splice(p,0,d.id),i.value=[...i.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=i.value.filter(v=>v!==d.id);i.value=y}}function f(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:i,layerConfigs:t,getLayerByUid:r,getLayerById:s,getLayerByAny:n,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),ss=ai("config",()=>{const e=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=X([]),i=X(),r=X({}),s=X({});function n(c){if(r.value[s.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return r.value[s.value[c]]}function o(c){const f={...e.value,...c};if(e.value=f,Array.isArray(e.value.layers)){const d=lo();d.layerConfigs=[...d.layerConfigs,e.value.layers]}}function a(c,f){r.value[f]=c,s.value[f]=f}function l(c,f){const d=c.configs,p=Object.keys(d);if(p.length){const y=p[0];f.forEach(v=>{const b=p.includes(v)?v:y;r.value[v]=d[b],s.value[v]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:i,config:e,registeredConfigs:r,registeredLangs:s,startingFixtures:t,getActiveConfig:n,newConfig:o,registerAllConfigs:l,registerConfig:a}}),J9=ai("details",()=>{const e=X([]),t=X({}),i=X({}),r=X(),s=X(0),n=X(0),o=X(!0),a=X();function l(f){const d=e.value.findIndex(p=>p.uid===f.uid);d!==-1&&e.value.splice(d,1)}function c(f){t.value={...t.value,[f.id]:f}}return{payload:e,properties:t,defaultTemplates:i,currentFeatureId:r,activeGreedy:s,lastHilight:n,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Fs=ai("fixture",()=>{const e=X({}),t=X({});function i(o){return o.map(a=>t.value[a].getPromise())}function r(o){if(e.value={...e.value,[o.id]:pi(o)},o.id in t.value)t.value[o.id].resolveMe(pi(o));else{const a=new Ei;a.resolveMe(pi(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function s(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function n(o){t.value={...t.value,[o]:new Ei}}return{items:e,loadPromises:t,getLoadPromises:i,addFixture:r,removeFixture:s,addLoadPromise:n}});var Ce=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.RAMP_RELOAD="ramp/reload",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))(Ce||{}),dS=(e=>(e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(dS||{});class Woe{eventName;handlerName;handlerFunc;constructor(t,i,r){this.eventName=t,this.handlerName=i,this.handlerFunc=r}}class Yoe extends $i{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new bie.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Ce).filter(i=>typeof i=="string"&&i.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(i=>i.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(r=>{this._nameRegister.indexOf(r)===-1&&this._nameRegister.push(r)})}eventNames(){return this._nameRegister.slice()}on(t,i,r=""){if(this.findHandler(r))throw new Error("Duplicate handler name registration: "+r);r||(r=this.handlerNamer(t));const s=new Woe(t,r,i);return this._eventRegister.push(s),this._eventBus.on(t,i),r}off(t){const i=this.findHandler(t);i&&(this._eventRegister.splice(this._eventRegister.indexOf(i),1),this._eventBus.off(i.eventName,i.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(r=>this.off(r))}removeDefaultEvents(){Object.values(dS).forEach(t=>{this.off(t)})}emit(t,...i){this._eventBus.emit(t,...i)}once(t,i,r=""){r||(r=this.handlerNamer(t));const s=(...n)=>{i(...n),this.off(r)};return this.on(t,s,r)}activeHandlers(t=""){return t===""?this._eventRegister.map(i=>i.handlerName):this._eventRegister.filter(i=>i.eventName===t).map(i=>i.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(dS)),t.map(i=>this.defaultHandlerFactory(i))}defaultHandlerFactory(t){let i;switch(t){case"ramp_layer_error_updates_legend":i=r=>{if(r.layer.layerState===fi.ERROR){const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r.layer)}},this.$iApi.event.on("layer/layerstatechange",i,t);break;case"ramp_layer_register_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/registered",i,t);break;case"ramp_layer_reload_end_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/reloadend",i,t);break;case"ramp_layer_reload_start_updates_legend":i=r=>{if(!r.isSublayer){const s=this.$iApi.fixture.get("legend");s&&s.reloadLayerItem(r.uid)}},this.$iApi.event.on("layer/reloadstart",i,t);break;case"ramp_layer_remove_checks_grid":i=r=>{if(this.$iApi.fixture.get("grid")){const s=fS(this.$vApp.$pinia),n=s.getGridId(r.id);if(n===void 0)return;if(s.removeLayer(n,r.id),s.grids[n].layerIds.length===0){s.removeGrid(n);const o=s.currentId;if(n===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),s.currentId=void 0}}}},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_details":i=r=>{const s=J9(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&s.removeLayer(r)},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&(s.removeLayerItem(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:r.name})))},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_useradd_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.addLayerItem(r)},this.$iApi.event.on("user/layeradded",i,t);break;case"ramp_map_basemap_checks_tile_proj":i=r=>{r.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.layerType===Pe.TILE).forEach(s=>{s.checkProj()})},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_basemap_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(ss(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_blur_updates_key_handler":i=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",i,t);break;case"ramp_map_click_runs_identify":i=r=>{r.button===0&&this.$iApi.geo.map.runIdentify(r)},this.on("map/click",i,t);break;case"ramp_map_created_initializes_fixtures":i=()=>{const r=Fs(this.$vApp.$pinia).items;Object.keys(r).forEach(s=>{r[s].initialized?.()})},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_created_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(ss(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_extent_updates_maptip":i=()=>{if(this.$iApi.geo.map.keysActive){const r=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(r)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",ol(50,!0,()=>i()),t);break;case"ramp_map_graphichit_creates_maptip":i=r=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(r)},this.$iApi.event.on("map/graphichit",i,t);break;case"ramp_map_identify_opens_identify_results":i=r=>{const s=this.$iApi.fixture.get("details");s&&s.openDetails(r.results)},this.on("map/identify",i,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",ol(50,()=>{const r=fl(this.$vApp.$pinia);r.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(n=>{r.coords={formattedString:n}})}),t);break;case"ramp_map_keydown_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyDown(r)},this.$iApi.event.on("map/keydown",i,t);break;case"ramp_map_keyup_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyUp(r)},this.$iApi.event.on("map/keyup",i,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",ol(50,r=>{const s=fl(this.$vApp.$pinia);s.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(r)).then(o=>{s.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousemove",ol(50,r=>i(r)),t);break;case"ramp_map_mousedown_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousedown",ol(50,r=>{const s={screenX:r.offsetX,screenY:r.offsetY,button:r.button,moveTime:0};i(s)}),t);break;case"ramp_map_mouseleave_removes_maptip":i=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",i);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",Gv(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",Gv(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":i=r=>{const s=Vv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!s.order.flat().find(n=>n===r.id)&&s.removeButton(r.id)},this.on("panel/closed",i,t);break;case"ramp_panel_open_updates_appbar":i=r=>{const s=Vv(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!r.teleport||r.teleport?.showAppbarButton)&&!s.order.flat().find(n=>n===r.id)&&s.addTempButton(r.id)},this.on("panel/opened",i,t);break;case"ramp_toggle_details":i=(r,s)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(r,s)},this.$iApi.event.on("details/toggle",i,t);break;case"ramp_toggle_grid":i=(r,s)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(r.id,s)},this.$iApi.event.on("grid/toggle",i,t);break;case"ramp_toggle_help":i=r=>{const s=this.$iApi.fixture.get("help");s&&s.toggleHelp(r)},this.$iApi.event.on("help/toggle",i,t);break;case"ramp_toggle_metadata":i=(r,s)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(r,s)},this.$iApi.event.on("metadata/toggle",i,t);break;case"ramp_toggle_reorder":i=r=>{const s=this.$iApi.fixture.get("layer-reorder");s&&s.toggleLayerReorder(r)},this.$iApi.event.on("reorder/toggle",i,t);break;case"ramp_toggle_settings":i=(r,s)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(r,s)},this.$iApi.event.on("settings/toggle",i,t);break;case"ramp_toggle_wizard":i=r=>{const s=this.$iApi.fixture.get("wizard");s&&s.toggleWizard(r)},this.$iApi.event.on("wizard/toggle",i,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const zv=typeof window<"u",jl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Joe=(e,t,i)=>Zoe({l:e,k:t,s:i}),Zoe=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Si=e=>typeof e=="number"&&isFinite(e),Koe=e=>K9(e)==="[object Date]",Ol=e=>K9(e)==="[object RegExp]",Ob=e=>qe(e)&&Object.keys(e).length===0,ur=Object.assign,Xoe=Object.create,Pt=(e=null)=>Xoe(e);let xO;const na=()=>xO||(xO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Pt());function SO(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Qoe=Object.prototype.hasOwnProperty;function vn(e,t){return Qoe.call(e,t)}const Zt=Array.isArray,Ut=e=>typeof e=="function",we=e=>typeof e=="string",it=e=>typeof e=="boolean",yt=e=>e!==null&&typeof e=="object",eae=e=>yt(e)&&Ut(e.then)&&Ut(e.catch),Z9=Object.prototype.toString,K9=e=>Z9.call(e),qe=e=>{if(!yt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},tae=e=>e==null?"":Zt(e)||qe(e)&&e.toString===Z9?JSON.stringify(e,null,2):String(e);function iae(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}function Cb(e){let t=e;return()=>++t}function rae(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const my=e=>!yt(e)||Zt(e);function Eg(e,t){if(my(e)||my(t))throw new Error("Invalid value");const i=[{src:e,des:t}];for(;i.length;){const{src:r,des:s}=i.pop();Object.keys(r).forEach(n=>{n!=="__proto__"&&(yt(r[n])&&!yt(s[n])&&(s[n]=Array.isArray(r[n])?[]:Pt()),my(s[n])||my(r[n])?s[n]=r[n]:i.push({src:r[n],des:s[n]}))})}}/*!
  * message-compiler v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function sae(e,t,i){return{line:e,column:t,offset:i}}function qv(e,t,i){return{start:e,end:t}}const nae=/\{([0-9a-zA-Z]+)\}/g;function X9(e,...t){return t.length===1&&oae(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(nae,(i,r)=>t.hasOwnProperty(r)?t[r]:"")}const Q9=Object.assign,EO=e=>typeof e=="string",oae=e=>e!==null&&typeof e=="object";function eD(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}const NA={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},aae={[NA.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function lae(e,t,...i){const r=X9(aae[e],...i||[]),s={message:String(r),code:e};return t&&(s.location=t),s}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},cae={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ed(e,t,i={}){const{domain:r,messages:s,args:n}=i,o=X9((s||cae)[e]||"",...n||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=r,a}function uae(e){throw e}const Fo=" ",hae="\r",Lr=`
`,fae="\u2028",dae="\u2029";function pae(e){const t=e;let i=0,r=1,s=1,n=0;const o=I=>t[I]===hae&&t[I+1]===Lr,a=I=>t[I]===Lr,l=I=>t[I]===dae,c=I=>t[I]===fae,f=I=>o(I)||a(I)||l(I)||c(I),d=()=>i,p=()=>r,y=()=>s,v=()=>n,b=I=>o(I)||l(I)||c(I)?Lr:t[I],E=()=>b(i),S=()=>b(i+n);function T(){return n=0,f(i)&&(r++,s=0),o(i)&&i++,i++,s++,t[i]}function w(){return o(i+n)&&n++,n++,t[i+n]}function _(){i=0,r=1,s=1,n=0}function M(I=0){n=I}function $(){const I=i+n;for(;I!==i;)T();n=0}return{index:d,line:p,column:y,peekOffset:v,charAt:b,currentChar:E,currentPeek:S,next:T,peek:w,reset:_,resetPeek:M,skipToPeek:$}}const Ca=void 0,mae=".",AO="'",yae="tokenizer";function gae(e,t={}){const i=t.location!==!1,r=pae(e),s=()=>r.index(),n=()=>sae(r.line(),r.column(),r.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=t;function d(N,k,G,...te){const se=c();if(k.column+=G,k.offset+=G,f){const ne=i?qv(se.startLoc,k):null,H=ed(N,ne,{domain:yae,args:te});f(H)}}function p(N,k,G){N.endLoc=n(),N.currentType=k;const te={type:k};return i&&(te.loc=qv(N.startLoc,N.endLoc)),G!=null&&(te.value=G),te}const y=N=>p(N,14);function v(N,k){return N.currentChar()===k?(N.next(),k):(d(Ue.EXPECTED_TOKEN,n(),0,k),"")}function b(N){let k="";for(;N.currentPeek()===Fo||N.currentPeek()===Lr;)k+=N.currentPeek(),N.peek();return k}function E(N){const k=b(N);return N.skipToPeek(),k}function S(N){if(N===Ca)return!1;const k=N.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function T(N){if(N===Ca)return!1;const k=N.charCodeAt(0);return k>=48&&k<=57}function w(N,k){const{currentType:G}=k;if(G!==2)return!1;b(N);const te=S(N.currentPeek());return N.resetPeek(),te}function _(N,k){const{currentType:G}=k;if(G!==2)return!1;b(N);const te=N.currentPeek()==="-"?N.peek():N.currentPeek(),se=T(te);return N.resetPeek(),se}function M(N,k){const{currentType:G}=k;if(G!==2)return!1;b(N);const te=N.currentPeek()===AO;return N.resetPeek(),te}function $(N,k){const{currentType:G}=k;if(G!==8)return!1;b(N);const te=N.currentPeek()===".";return N.resetPeek(),te}function I(N,k){const{currentType:G}=k;if(G!==9)return!1;b(N);const te=S(N.currentPeek());return N.resetPeek(),te}function L(N,k){const{currentType:G}=k;if(!(G===8||G===12))return!1;b(N);const te=N.currentPeek()===":";return N.resetPeek(),te}function P(N,k){const{currentType:G}=k;if(G!==10)return!1;const te=()=>{const ne=N.currentPeek();return ne==="{"?S(N.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Fo||!ne?!1:ne===Lr?(N.peek(),te()):U(N,!1)},se=te();return N.resetPeek(),se}function F(N){b(N);const k=N.currentPeek()==="|";return N.resetPeek(),k}function z(N){const k=b(N),G=N.currentPeek()==="%"&&N.peek()==="{";return N.resetPeek(),{isModulo:G,hasSpace:k.length>0}}function U(N,k=!0){const G=(se=!1,ne="",H=!1)=>{const K=N.currentPeek();return K==="{"?ne==="%"?!1:se:K==="@"||!K?ne==="%"?!0:se:K==="%"?(N.peek(),G(se,"%",!0)):K==="|"?ne==="%"||H?!0:!(ne===Fo||ne===Lr):K===Fo?(N.peek(),G(!0,Fo,H)):K===Lr?(N.peek(),G(!0,Lr,H)):!0},te=G();return k&&N.resetPeek(),te}function B(N,k){const G=N.currentChar();return G===Ca?Ca:k(G)?(N.next(),G):null}function Z(N){const k=N.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function u(N){return B(N,Z)}function m(N){const k=N.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function x(N){return B(N,m)}function C(N){const k=N.charCodeAt(0);return k>=48&&k<=57}function V(N){return B(N,C)}function Y(N){const k=N.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function de(N){return B(N,Y)}function oe(N){let k="",G="";for(;k=V(N);)G+=k;return G}function Me(N){E(N);const k=N.currentChar();return k!=="%"&&d(Ue.EXPECTED_TOKEN,n(),0,k),N.next(),"%"}function je(N){let k="";for(;;){const G=N.currentChar();if(G==="{"||G==="}"||G==="@"||G==="|"||!G)break;if(G==="%")if(U(N))k+=G,N.next();else break;else if(G===Fo||G===Lr)if(U(N))k+=G,N.next();else{if(F(N))break;k+=G,N.next()}else k+=G,N.next()}return k}function ze(N){E(N);let k="",G="";for(;k=x(N);)G+=k;return N.currentChar()===Ca&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G}function at(N){E(N);let k="";return N.currentChar()==="-"?(N.next(),k+=`-${oe(N)}`):k+=oe(N),N.currentChar()===Ca&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k}function Gt(N){return N!==AO&&N!==Lr}function Mt(N){E(N),v(N,"'");let k="",G="";for(;k=B(N,Gt);)k==="\\"?G+=yi(N):G+=k;const te=N.currentChar();return te===Lr||te===Ca?(d(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),te===Lr&&(N.next(),v(N,"'")),G):(v(N,"'"),G)}function yi(N){const k=N.currentChar();switch(k){case"\\":case"'":return N.next(),`\\${k}`;case"u":return Rt(N,k,4);case"U":return Rt(N,k,6);default:return d(Ue.UNKNOWN_ESCAPE_SEQUENCE,n(),0,k),""}}function Rt(N,k,G){v(N,k);let te="";for(let se=0;se<G;se++){const ne=de(N);if(!ne){d(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${k}${te}${N.currentChar()}`);break}te+=ne}return`\\${k}${te}`}function si(N){return N!=="{"&&N!=="}"&&N!==Fo&&N!==Lr}function Xi(N){E(N);let k="",G="";for(;k=B(N,si);)G+=k;return G}function j(N){let k="",G="";for(;k=u(N);)G+=k;return G}function D(N){const k=G=>{const te=N.currentChar();return te==="{"||te==="%"||te==="@"||te==="|"||te==="("||te===")"||!te||te===Fo?G:(G+=te,N.next(),k(G))};return k("")}function W(N){E(N);const k=v(N,"|");return E(N),k}function ae(N,k){let G=null;switch(N.currentChar()){case"{":return k.braceNest>=1&&d(Ue.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),N.next(),G=p(k,2,"{"),E(N),k.braceNest++,G;case"}":return k.braceNest>0&&k.currentType===2&&d(Ue.EMPTY_PLACEHOLDER,n(),0),N.next(),G=p(k,3,"}"),k.braceNest--,k.braceNest>0&&E(N),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),G;case"@":return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=ee(N,k)||y(k),k.braceNest=0,G;default:{let se=!0,ne=!0,H=!0;if(F(N))return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=p(k,1,W(N)),k.braceNest=0,k.inLinked=!1,G;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k.braceNest=0,ce(N,k);if(se=w(N,k))return G=p(k,5,ze(N)),E(N),G;if(ne=_(N,k))return G=p(k,6,at(N)),E(N),G;if(H=M(N,k))return G=p(k,7,Mt(N)),E(N),G;if(!se&&!ne&&!H)return G=p(k,13,Xi(N)),d(Ue.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,G.value),E(N),G;break}}return G}function ee(N,k){const{currentType:G}=k;let te=null;const se=N.currentChar();switch((G===8||G===9||G===12||G===10)&&(se===Lr||se===Fo)&&d(Ue.INVALID_LINKED_FORMAT,n(),0),se){case"@":return N.next(),te=p(k,8,"@"),k.inLinked=!0,te;case".":return E(N),N.next(),p(k,9,".");case":":return E(N),N.next(),p(k,10,":");default:return F(N)?(te=p(k,1,W(N)),k.braceNest=0,k.inLinked=!1,te):$(N,k)||L(N,k)?(E(N),ee(N,k)):I(N,k)?(E(N),p(k,12,j(N))):P(N,k)?(E(N),se==="{"?ae(N,k)||te:p(k,11,D(N))):(G===8&&d(Ue.INVALID_LINKED_FORMAT,n(),0),k.braceNest=0,k.inLinked=!1,ce(N,k))}}function ce(N,k){let G={type:14};if(k.braceNest>0)return ae(N,k)||y(k);if(k.inLinked)return ee(N,k)||y(k);switch(N.currentChar()){case"{":return ae(N,k)||y(k);case"}":return d(Ue.UNBALANCED_CLOSING_BRACE,n(),0),N.next(),p(k,3,"}");case"@":return ee(N,k)||y(k);default:{if(F(N))return G=p(k,1,W(N)),k.braceNest=0,k.inLinked=!1,G;const{isModulo:se,hasSpace:ne}=z(N);if(se)return ne?p(k,0,je(N)):p(k,4,Me(N));if(U(N))return p(k,0,je(N));break}}return G}function ye(){const{currentType:N,offset:k,startLoc:G,endLoc:te}=l;return l.lastType=N,l.lastOffset=k,l.lastStartLoc=G,l.lastEndLoc=te,l.offset=s(),l.startLoc=n(),r.currentChar()===Ca?p(l,14):ce(r,l)}return{nextToken:ye,currentOffset:s,currentPosition:n,context:c}}const vae="parser",bae=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function _ae(e,t,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||i,16);return r<=55295||r>=57344?String.fromCodePoint(r):"ï¿½"}}}function wae(e={}){const t=e.location!==!1,{onError:i,onWarn:r}=e;function s(w,_,M,$,...I){const L=w.currentPosition();if(L.offset+=$,L.column+=$,i){const P=t?qv(M,L):null,F=ed(_,P,{domain:vae,args:I});i(F)}}function n(w,_,M,$,...I){const L=w.currentPosition();if(L.offset+=$,L.column+=$,r){const P=t?qv(M,L):null;r(lae(_,P,I))}}function o(w,_,M){const $={type:w};return t&&($.start=_,$.end=_,$.loc={start:M,end:M}),$}function a(w,_,M,$){t&&(w.end=_,w.loc&&(w.loc.end=M))}function l(w,_){const M=w.context(),$=o(3,M.offset,M.startLoc);return $.value=_,a($,w.currentOffset(),w.currentPosition()),$}function c(w,_){const M=w.context(),{lastOffset:$,lastStartLoc:I}=M,L=o(5,$,I);return L.index=parseInt(_,10),w.nextToken(),a(L,w.currentOffset(),w.currentPosition()),L}function f(w,_,M){const $=w.context(),{lastOffset:I,lastStartLoc:L}=$,P=o(4,I,L);return P.key=_,M===!0&&(P.modulo=!0),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function d(w,_){const M=w.context(),{lastOffset:$,lastStartLoc:I}=M,L=o(9,$,I);return L.value=_.replace(bae,_ae),w.nextToken(),a(L,w.currentOffset(),w.currentPosition()),L}function p(w){const _=w.nextToken(),M=w.context(),{lastOffset:$,lastStartLoc:I}=M,L=o(8,$,I);return _.type!==12?(s(w,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),L.value="",a(L,$,I),{nextConsumeToken:_,node:L}):(_.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,nn(_)),L.value=_.value||"",a(L,w.currentOffset(),w.currentPosition()),{node:L})}function y(w,_){const M=w.context(),$=o(7,M.offset,M.startLoc);return $.value=_,a($,w.currentOffset(),w.currentPosition()),$}function v(w){const _=w.context(),M=o(6,_.offset,_.startLoc);let $=w.nextToken();if($.type===9){const I=p(w);M.modifier=I.node,$=I.nextConsumeToken||w.nextToken()}switch($.type!==10&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn($)),$=w.nextToken(),$.type===2&&($=w.nextToken()),$.type){case 11:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn($)),M.key=y(w,$.value||"");break;case 5:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn($)),M.key=f(w,$.value||"");break;case 6:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn($)),M.key=c(w,$.value||"");break;case 7:$.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn($)),M.key=d(w,$.value||"");break;default:{s(w,Ue.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const I=w.context(),L=o(7,I.offset,I.startLoc);return L.value="",a(L,I.offset,I.startLoc),M.key=L,a(M,I.offset,I.startLoc),{nextConsumeToken:$,node:M}}}return a(M,w.currentOffset(),w.currentPosition()),{node:M}}function b(w){const _=w.context(),M=_.currentType===1?w.currentOffset():_.offset,$=_.currentType===1?_.endLoc:_.startLoc,I=o(2,M,$);I.items=[];let L=null,P=null;do{const U=L||w.nextToken();switch(L=null,U.type){case 0:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(l(w,U.value||""));break;case 6:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(c(w,U.value||""));break;case 4:P=!0;break;case 5:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(f(w,U.value||"",!!P)),P&&(n(w,NA.USE_MODULO_SYNTAX,_.lastStartLoc,0,nn(U)),P=null);break;case 7:U.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,nn(U)),I.items.push(d(w,U.value||""));break;case 8:{const B=v(w);I.items.push(B.node),L=B.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const F=_.currentType===1?_.lastOffset:w.currentOffset(),z=_.currentType===1?_.lastEndLoc:w.currentPosition();return a(I,F,z),I}function E(w,_,M,$){const I=w.context();let L=$.items.length===0;const P=o(1,_,M);P.cases=[],P.cases.push($);do{const F=b(w);L||(L=F.items.length===0),P.cases.push(F)}while(I.currentType!==14);return L&&s(w,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(P,w.currentOffset(),w.currentPosition()),P}function S(w){const _=w.context(),{offset:M,startLoc:$}=_,I=b(w);return _.currentType===14?I:E(w,M,$,I)}function T(w){const _=gae(w,Q9({},e)),M=_.context(),$=o(0,M.offset,M.startLoc);return t&&$.loc&&($.loc.source=w),$.body=S(_),e.onCacheKey&&($.cacheKey=e.onCacheKey(w)),M.currentType!==14&&s(_,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,w[M.offset]||""),a($,_.currentOffset(),_.currentPosition()),$}return{parse:T}}function nn(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"â€¦":t}function xae(e,t={}){const i={ast:e,helpers:new Set};return{context:()=>i,helper:n=>(i.helpers.add(n),n)}}function TO(e,t){for(let i=0;i<e.length;i++)kA(e[i],t)}function kA(e,t){switch(e.type){case 1:TO(e.cases,t),t.helper("plural");break;case 2:TO(e.items,t);break;case 6:{kA(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Sae(e,t={}){const i=xae(e);i.helper("normalize"),e.body&&kA(e.body,i);const r=i.context();e.helpers=Array.from(r.helpers)}function Eae(e){const t=e.body;return t.type===2?MO(t):t.cases.forEach(i=>MO(i)),e}function MO(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let i=0;i<e.items.length;i++){const r=e.items[i];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=eD(t);for(let i=0;i<e.items.length;i++){const r=e.items[i];(r.type===3||r.type===9)&&delete r.value}}}}const Aae="minifier";function lh(e){switch(e.t=e.type,e.type){case 0:{const t=e;lh(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,i=t.cases;for(let r=0;r<i.length;r++)lh(i[r]);t.c=i,delete t.cases;break}case 2:{const t=e,i=t.items;for(let r=0;r<i.length;r++)lh(i[r]);t.i=i,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;lh(t.key),t.k=t.key,delete t.key,t.modifier&&(lh(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw ed(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Aae,args:[e.type]})}delete e.type}const Tae="parser";function Mae(e,t){const{sourceMap:i,filename:r,breakLineCode:s,needIndent:n}=t,o=t.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:n,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(E,S){a.code+=E}function f(E,S=!0){const T=S?s:"";c(n?T+"  ".repeat(E):T)}function d(E=!0){const S=++a.indentLevel;E&&f(S)}function p(E=!0){const S=--a.indentLevel;E&&f(S)}function y(){f(a.indentLevel)}return{context:l,push:c,indent:d,deindent:p,newline:y,helper:E=>`_${E}`,needIndent:()=>a.needIndent}}function $ae(e,t){const{helper:i}=e;e.push(`${i("linked")}(`),bf(e,t.key),t.modifier?(e.push(", "),bf(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Oae(e,t){const{helper:i,needIndent:r}=e;e.push(`${i("normalize")}([`),e.indent(r());const s=t.items.length;for(let n=0;n<s&&(bf(e,t.items[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}function Cae(e,t){const{helper:i,needIndent:r}=e;if(t.cases.length>1){e.push(`${i("plural")}([`),e.indent(r());const s=t.cases.length;for(let n=0;n<s&&(bf(e,t.cases[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}function Iae(e,t){t.body?bf(e,t.body):e.push("null")}function bf(e,t){const{helper:i}=e;switch(t.type){case 0:Iae(e,t);break;case 1:Cae(e,t);break;case 2:Oae(e,t);break;case 6:$ae(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${t.index}))`,t);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw ed(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Tae,args:[t.type]})}}const Pae=(e,t={})=>{const i=EO(t.mode)?t.mode:"normal",r=EO(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,n=t.breakLineCode!=null?t.breakLineCode:i==="arrow"?";":`
`,o=t.needIndent?t.needIndent:i!=="arrow",a=e.helpers||[],l=Mae(e,{mode:i,filename:r,sourceMap:s,breakLineCode:n,needIndent:o});l.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${eD(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),bf(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:f}=l.context();return{ast:e,code:c,map:f?f.toJSON():void 0}};function Lae(e,t={}){const i=Q9({},t),r=!!i.jit,s=!!i.minify,n=i.optimize==null?!0:i.optimize,a=wae(i).parse(e);return r?(n&&Eae(a),s&&lh(a),{ast:a,code:""}):(Sae(a,i),Pae(a,i))}/*!
  * core-base v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Nae(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(na().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(na().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(na().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Bl=[];Bl[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bl[1]={w:[1],".":[2],"[":[4],o:[7]};Bl[2]={w:[2],i:[3,0],0:[3,0]};Bl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bl[5]={"'":[4,0],o:8,l:[5,0]};Bl[6]={'"':[4,0],o:8,l:[6,0]};const kae=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Rae(e){return kae.test(e)}function Dae(e){const t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function Fae(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Uae(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Rae(t)?Dae(t):"*"+t}function jae(e){const t=[];let i=-1,r=0,s=0,n,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),s++},p[3]=()=>{if(s>0)s--,r=4,p[0]();else{if(s=0,o===void 0||(o=Uae(o),o===!1))return!1;p[1]()}};function y(){const v=e[i+1];if(r===5&&v==="'"||r===6&&v==='"')return i++,a="\\"+v,p[0](),!0}for(;r!==null;)if(i++,n=e[i],!(n==="\\"&&y())){if(l=Fae(n),d=Bl[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=n,f()===!1))))return;if(r===7)return t}}const $O=new Map;function Bae(e,t){return yt(e)?e[t]:null}function Vae(e,t){if(!yt(e))return null;let i=$O.get(t);if(i||(i=jae(t),i&&$O.set(t,i)),!i)return null;const r=i.length;let s=e,n=0;for(;n<r;){const o=s[i[n]];if(o===void 0||Ut(s))return null;s=o,n++}return s}const Gae=e=>e,zae=e=>"",qae="text",Hae=e=>e.length===0?"":iae(e),Wae=tae;function OO(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Yae(e){const t=Si(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Si(e.named.count)||Si(e.named.n))?Si(e.named.count)?e.named.count:Si(e.named.n)?e.named.n:t:t}function Jae(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Zae(e={}){const t=e.locale,i=Yae(e),r=yt(e.pluralRules)&&we(t)&&Ut(e.pluralRules[t])?e.pluralRules[t]:OO,s=yt(e.pluralRules)&&we(t)&&Ut(e.pluralRules[t])?OO:void 0,n=S=>S[r(i,S.length,s)],o=e.list||[],a=S=>o[S],l=e.named||Pt();Si(e.pluralIndex)&&Jae(i,l);const c=S=>l[S];function f(S){const T=Ut(e.messages)?e.messages(S):yt(e.messages)?e.messages[S]:!1;return T||(e.parent?e.parent.message(S):zae)}const d=S=>e.modifiers?e.modifiers[S]:Gae,p=qe(e.processor)&&Ut(e.processor.normalize)?e.processor.normalize:Hae,y=qe(e.processor)&&Ut(e.processor.interpolate)?e.processor.interpolate:Wae,v=qe(e.processor)&&we(e.processor.type)?e.processor.type:qae,E={list:a,named:c,plural:n,linked:(S,...T)=>{const[w,_]=T;let M="text",$="";T.length===1?yt(w)?($=w.modifier||$,M=w.type||M):we(w)&&($=w||$):T.length===2&&(we(w)&&($=w||$),we(_)&&(M=_||M));const I=f(S)(E),L=M==="vnode"&&Zt(I)&&$?I[0]:I;return $?d($)(L,M):L},message:f,type:v,interpolate:y,normalize:p,values:ur(Pt(),o,l)};return E}let $m=null;function Kae(e){$m=e}function Xae(e,t,i){$m&&$m.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:i})}const Qae=ele("function:translate");function ele(e){return t=>$m&&$m.emit(e,t)}const tD=NA.__EXTEND_POINT__,tc=Cb(tD),tle={NOT_FOUND_KEY:tD,FALLBACK_TO_TRANSLATE:tc(),CANNOT_FORMAT_NUMBER:tc(),FALLBACK_TO_NUMBER_FORMAT:tc(),CANNOT_FORMAT_DATE:tc(),FALLBACK_TO_DATE_FORMAT:tc(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:tc(),__EXTEND_POINT__:tc()},iD=Ue.__EXTEND_POINT__,ic=Cb(iD),bn={INVALID_ARGUMENT:iD,INVALID_DATE_ARGUMENT:ic(),INVALID_ISO_DATE_ARGUMENT:ic(),NOT_SUPPORT_NON_STRING_MESSAGE:ic(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:ic(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:ic(),NOT_SUPPORT_LOCALE_TYPE:ic(),__EXTEND_POINT__:ic()};function co(e){return ed(e,null,void 0)}function RA(e,t){return t.locale!=null?CO(t.locale):CO(e.locale)}let i2;function CO(e){if(we(e))return e;if(Ut(e)){if(e.resolvedOnce&&i2!=null)return i2;if(e.constructor.name==="Function"){const t=e();if(eae(t))throw co(bn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return i2=t}else throw co(bn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw co(bn.NOT_SUPPORT_LOCALE_TYPE)}function ile(e,t,i){return[...new Set([i,...Zt(t)?t:yt(t)?Object.keys(t):we(t)?[t]:[i]])]}function rD(e,t,i){const r=we(i)?i:_f,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(r);if(!n){n=[];let o=[i];for(;Zt(o);)o=IO(n,o,t);const a=Zt(t)||!qe(t)?t:t.default?t.default:null;o=we(a)?[a]:a,Zt(o)&&IO(n,o,!1),s.__localeChainCache.set(r,n)}return n}function IO(e,t,i){let r=!0;for(let s=0;s<t.length&&it(r);s++){const n=t[s];we(n)&&(r=rle(e,t[s],i))}return r}function rle(e,t,i){let r;const s=t.split("-");do{const n=s.join("-");r=sle(e,n,i),s.splice(-1,1)}while(s.length&&r===!0);return r}function sle(e,t,i){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Zt(i)||qe(i))&&i[s]&&(r=i[s])}return r}const nle="9.14.3",Ib=-1,_f="en-US",PO="",LO=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function ole(){return{upper:(e,t)=>t==="text"&&we(e)?e.toUpperCase():t==="vnode"&&yt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&we(e)?e.toLowerCase():t==="vnode"&&yt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&we(e)?LO(e):t==="vnode"&&yt(e)&&"__v_isVNode"in e?LO(e.children):e}}let sD;function NO(e){sD=e}let nD;function ale(e){nD=e}let oD;function lle(e){oD=e}let aD=null;const cle=e=>{aD=e},ule=()=>aD;let lD=null;const kO=e=>{lD=e},hle=()=>lD;let RO=0;function fle(e={}){const t=Ut(e.onWarn)?e.onWarn:rae,i=we(e.version)?e.version:nle,r=we(e.locale)||Ut(e.locale)?e.locale:_f,s=Ut(r)?_f:r,n=Zt(e.fallbackLocale)||qe(e.fallbackLocale)||we(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=qe(e.messages)?e.messages:r2(s),a=qe(e.datetimeFormats)?e.datetimeFormats:r2(s),l=qe(e.numberFormats)?e.numberFormats:r2(s),c=ur(Pt(),e.modifiers,ole()),f=e.pluralRules||Pt(),d=Ut(e.missing)?e.missing:null,p=it(e.missingWarn)||Ol(e.missingWarn)?e.missingWarn:!0,y=it(e.fallbackWarn)||Ol(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,b=!!e.unresolving,E=Ut(e.postTranslation)?e.postTranslation:null,S=qe(e.processor)?e.processor:null,T=it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,w=!!e.escapeParameter,_=Ut(e.messageCompiler)?e.messageCompiler:sD,M=Ut(e.messageResolver)?e.messageResolver:nD||Bae,$=Ut(e.localeFallbacker)?e.localeFallbacker:oD||ile,I=yt(e.fallbackContext)?e.fallbackContext:void 0,L=e,P=yt(L.__datetimeFormatters)?L.__datetimeFormatters:new Map,F=yt(L.__numberFormatters)?L.__numberFormatters:new Map,z=yt(L.__meta)?L.__meta:{};RO++;const U={version:i,cid:RO,locale:r,fallbackLocale:n,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:b,postTranslation:E,processor:S,warnHtmlMessage:T,escapeParameter:w,messageCompiler:_,messageResolver:M,localeFallbacker:$,fallbackContext:I,onWarn:t,__meta:z};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=P,U.__numberFormatters=F,__INTLIFY_PROD_DEVTOOLS__&&Xae(U,i,z),U}const r2=e=>({[e]:Pt()});function DA(e,t,i,r,s){const{missing:n,onWarn:o}=e;if(n!==null){const a=n(e,i,t,s);return we(a)?a:t}else return t}function vd(e,t,i){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,i,t)}function dle(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function ple(e,t){const i=t.indexOf(e);if(i===-1)return!1;for(let r=i+1;r<t.length;r++)if(dle(e,t[r]))return!0;return!1}function s2(e){return i=>mle(i,e)}function mle(e,t){const i=gle(t);if(i==null)throw Om(0);if(FA(i)===1){const n=ble(i);return e.plural(n.reduce((o,a)=>[...o,DO(e,a)],[]))}else return DO(e,i)}const yle=["b","body"];function gle(e){return Vl(e,yle)}const vle=["c","cases"];function ble(e){return Vl(e,vle,[])}function DO(e,t){const i=wle(t);if(i!=null)return e.type==="text"?i:e.normalize([i]);{const r=Sle(t).reduce((s,n)=>[...s,pS(e,n)],[]);return e.normalize(r)}}const _le=["s","static"];function wle(e){return Vl(e,_le)}const xle=["i","items"];function Sle(e){return Vl(e,xle,[])}function pS(e,t){const i=FA(t);switch(i){case 3:return yy(t,i);case 9:return yy(t,i);case 4:{const r=t;if(vn(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(vn(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Om(i)}case 5:{const r=t;if(vn(r,"i")&&Si(r.i))return e.interpolate(e.list(r.i));if(vn(r,"index")&&Si(r.index))return e.interpolate(e.list(r.index));throw Om(i)}case 6:{const r=t,s=Mle(r),n=Ole(r);return e.linked(pS(e,n),s?pS(e,s):void 0,e.type)}case 7:return yy(t,i);case 8:return yy(t,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const Ele=["t","type"];function FA(e){return Vl(e,Ele)}const Ale=["v","value"];function yy(e,t){const i=Vl(e,Ale);if(i)return i;throw Om(t)}const Tle=["m","modifier"];function Mle(e){return Vl(e,Tle)}const $le=["k","key"];function Ole(e){const t=Vl(e,$le);if(t)return t;throw Om(6)}function Vl(e,t,i){for(let r=0;r<t.length;r++){const s=t[r];if(vn(e,s)&&e[s]!=null)return e[s]}return i}function Om(e){return new Error(`unhandled node type: ${e}`)}const cD=e=>e;let Sh=Pt();function wf(e){return yt(e)&&FA(e)===0&&(vn(e,"b")||vn(e,"body"))}function uD(e,t={}){let i=!1;const r=t.onError||uae;return t.onError=s=>{i=!0,r(s)},{...Lae(e,t),detectError:i}}const Cle=(e,t)=>{if(!we(e))throw co(bn.NOT_SUPPORT_NON_STRING_MESSAGE);{it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||cD)(e),s=Sh[r];if(s)return s;const{code:n,detectError:o}=uD(e,t),a=new Function(`return ${n}`)();return o?a:Sh[r]=a}};function Ile(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&we(e)){it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||cD)(e),s=Sh[r];if(s)return s;const{ast:n,detectError:o}=uD(e,{...t,location:!1,jit:!0}),a=s2(n);return o?a:Sh[r]=a}else{const i=e.cacheKey;if(i){const r=Sh[i];return r||(Sh[i]=s2(e))}else return s2(e)}}const FO=()=>"",Bs=e=>Ut(e);function UO(e,...t){const{fallbackFormat:i,postTranslation:r,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=e,[l,c]=mS(...t),f=it(c.missingWarn)?c.missingWarn:e.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,v=we(c.default)||it(c.default)?it(c.default)?n?l:()=>l:c.default:i?n?l:()=>l:"",b=i||v!=="",E=RA(e,c);p&&Ple(c);let[S,T,w]=y?[l,E,a[E]||Pt()]:hD(e,l,E,o,d,f),_=S,M=l;if(!y&&!(we(_)||wf(_)||Bs(_))&&b&&(_=v,M=_),!y&&(!(we(_)||wf(_)||Bs(_))||!we(T)))return s?Ib:l;let $=!1;const I=()=>{$=!0},L=Bs(_)?_:fD(e,l,T,_,M,I);if($)return _;const P=kle(e,T,w,c),F=Zae(P),z=Lle(e,L,F),U=r?r(z,l):z;if(__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:we(l)?l:Bs(_)?_.key:"",locale:T||(Bs(_)?_.locale:""),format:we(_)?_:Bs(_)?_.source:"",message:U};B.meta=ur({},e.__meta,ule()||{}),Qae(B)}return U}function Ple(e){Zt(e.list)?e.list=e.list.map(t=>we(t)?SO(t):t):yt(e.named)&&Object.keys(e.named).forEach(t=>{we(e.named[t])&&(e.named[t]=SO(e.named[t]))})}function hD(e,t,i,r,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,f=c(e,r,i);let d=Pt(),p,y=null;const v="translate";for(let b=0;b<f.length&&(p=f[b],d=o[p]||Pt(),(y=l(d,t))===null&&(y=d[t]),!(we(y)||wf(y)||Bs(y)));b++)if(!ple(p,f)){const E=DA(e,t,p,n,v);E!==t&&(y=E)}return[y,p,d]}function fD(e,t,i,r,s,n){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Bs(r)){const c=r;return c.locale=c.locale||i,c.key=c.key||t,c}if(o==null){const c=()=>r;return c.locale=i,c.key=t,c}const l=o(r,Nle(e,i,s,r,a,n));return l.locale=i,l.key=t,l.source=r,l}function Lle(e,t,i){return t(i)}function mS(...e){const[t,i,r]=e,s=Pt();if(!we(t)&&!Si(t)&&!Bs(t)&&!wf(t))throw co(bn.INVALID_ARGUMENT);const n=Si(t)?String(t):(Bs(t),t);return Si(i)?s.plural=i:we(i)?s.default=i:qe(i)&&!Ob(i)?s.named=i:Zt(i)&&(s.list=i),Si(r)?s.plural=r:we(r)?s.default=r:qe(r)&&ur(s,r),[n,s]}function Nle(e,t,i,r,s,n){return{locale:t,key:i,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>Joe(t,i,o)}}function kle(e,t,i,r){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=e,p={locale:t,modifiers:s,pluralRules:n,messages:y=>{let v=o(i,y);if(v==null&&f){const[,,b]=hD(f,y,t,a,l,c);v=o(b,y)}if(we(v)||wf(v)){let b=!1;const S=fD(e,y,t,v,y,()=>{b=!0});return b?FO:S}else return Bs(v)?v:FO}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),Si(r.plural)&&(p.pluralIndex=r.plural),p}function jO(e,...t){const{datetimeFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,f,d]=yS(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=RA(e,f),b=o(e,s,v);if(!we(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let E={},S,T=null;const w="datetime format";for(let $=0;$<b.length&&(S=b[$],E=i[S]||{},T=E[l],!qe(T));$++)DA(e,l,S,p,w);if(!qe(T)||!we(S))return r?Ib:l;let _=`${S}__${l}`;Ob(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.DateTimeFormat(S,ur({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const dD=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function yS(...e){const[t,i,r,s]=e,n=Pt();let o=Pt(),a;if(we(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw co(bn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw co(bn.INVALID_ISO_DATE_ARGUMENT)}}else if(Koe(t)){if(isNaN(t.getTime()))throw co(bn.INVALID_DATE_ARGUMENT);a=t}else if(Si(t))a=t;else throw co(bn.INVALID_ARGUMENT);return we(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{dD.includes(l)?o[l]=i[l]:n[l]=i[l]}),we(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function BO(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__datetimeFormatters.has(n)&&r.__datetimeFormatters.delete(n)}}function VO(e,...t){const{numberFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,f,d]=gS(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=RA(e,f),b=o(e,s,v);if(!we(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let E={},S,T=null;const w="number format";for(let $=0;$<b.length&&(S=b[$],E=i[S]||{},T=E[l],!qe(T));$++)DA(e,l,S,p,w);if(!qe(T)||!we(S))return r?Ib:l;let _=`${S}__${l}`;Ob(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.NumberFormat(S,ur({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const pD=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function gS(...e){const[t,i,r,s]=e,n=Pt();let o=Pt();if(!Si(t))throw co(bn.INVALID_ARGUMENT);const a=t;return we(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{pD.includes(l)?o[l]=i[l]:n[l]=i[l]}),we(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function GO(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__numberFormatters.has(n)&&r.__numberFormatters.delete(n)}}Nae();/*!
  * vue-i18n v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Rle="9.14.3";function Dle(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(na().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(na().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(na().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(na().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(na().__INTLIFY_PROD_DEVTOOLS__=!1)}const mD=tle.__EXTEND_POINT__,Uo=Cb(mD);Uo(),Uo(),Uo(),Uo(),Uo(),Uo(),Uo(),Uo(),Uo();const yD=bn.__EXTEND_POINT__,qr=Cb(yD),Zi={UNEXPECTED_RETURN_TYPE:yD,INVALID_ARGUMENT:qr(),MUST_BE_CALL_SETUP_TOP:qr(),NOT_INSTALLED:qr(),NOT_AVAILABLE_IN_LEGACY_MODE:qr(),REQUIRED_VALUE:qr(),INVALID_VALUE:qr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:qr(),NOT_INSTALLED_WITH_PROVIDE:qr(),UNEXPECTED_ERROR:qr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:qr(),BRIDGE_SUPPORT_VUE_2_ONLY:qr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:qr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:qr(),__EXTEND_POINT__:qr()};function ir(e,...t){return ed(e,null,void 0)}const vS=jl("__translateVNode"),bS=jl("__datetimeParts"),_S=jl("__numberParts"),gD=jl("__setPluralRules"),vD=jl("__injectWithOption"),wS=jl("__dispose");function Cm(e){if(!yt(e))return e;for(const t in e)if(vn(e,t))if(!t.includes("."))yt(e[t])&&Cm(e[t]);else{const i=t.split("."),r=i.length-1;let s=e,n=!1;for(let o=0;o<r;o++){if(i[o]==="__proto__")throw new Error(`unsafe key: ${i[o]}`);if(i[o]in s||(s[i[o]]=Pt()),!yt(s[i[o]])){n=!0;break}s=s[i[o]]}n||(s[i[r]]=e[t],delete e[t]),yt(s[i[r]])&&Cm(s[i[r]])}return e}function Pb(e,t){const{messages:i,__i18n:r,messageResolver:s,flatJson:n}=t,o=qe(i)?i:Zt(r)?Pt():{[e]:Pt()};if(Zt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Pt(),Eg(c,o[l])):Eg(c,o)}else we(a)&&Eg(JSON.parse(a),o)}),s==null&&n)for(const a in o)vn(o,a)&&Cm(o[a]);return o}function bD(e){return e.type}function _D(e,t,i){let r=yt(t.messages)?t.messages:Pt();"__i18nGlobal"in i&&(r=Pb(e.locale.value,{messages:r,__i18n:i.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(n=>{e.mergeLocaleMessage(n,r[n])});{if(yt(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(yt(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function zO(e){return Ke(mo,null,e,0)}const qO="__INTLIFY_META__",HO=()=>[],Fle=()=>!1;let WO=0;function YO(e){return(t,i,r,s)=>e(i,r,Ri()||void 0,s)}const Ule=()=>{const e=Ri();let t=null;return e&&(t=bD(e)[qO])?{[qO]:t}:null};function UA(e={},t){const{__root:i,__injectWithOption:r}=e,s=i===void 0,n=e.flatJson,o=zv?X:Xf,a=!!e.translateExistCompatible;let l=it(e.inheritLocale)?e.inheritLocale:!0;const c=o(i&&l?i.locale.value:we(e.locale)?e.locale:_f),f=o(i&&l?i.fallbackLocale.value:we(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Pb(c.value,e)),p=o(qe(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(qe(e.numberFormats)?e.numberFormats:{[c.value]:{}});let v=i?i.missingWarn:it(e.missingWarn)||Ol(e.missingWarn)?e.missingWarn:!0,b=i?i.fallbackWarn:it(e.fallbackWarn)||Ol(e.fallbackWarn)?e.fallbackWarn:!0,E=i?i.fallbackRoot:it(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,T=Ut(e.missing)?e.missing:null,w=Ut(e.missing)?YO(e.missing):null,_=Ut(e.postTranslation)?e.postTranslation:null,M=i?i.warnHtmlMessage:it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,$=!!e.escapeParameter;const I=i?i.modifiers:qe(e.modifiers)?e.modifiers:{};let L=e.pluralRules||i&&i.pluralRules,P;P=(()=>{s&&kO(null);const H={version:Rle,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:I,pluralRules:L,missing:w===null?void 0:w,missingWarn:v,fallbackWarn:b,fallbackFormat:S,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:M,escapeParameter:$,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};H.datetimeFormats=p.value,H.numberFormats=y.value,H.__datetimeFormatters=qe(P)?P.__datetimeFormatters:void 0,H.__numberFormatters=qe(P)?P.__numberFormatters:void 0;const K=fle(H);return s&&kO(K),K})(),vd(P,c.value,f.value);function z(){return[c.value,f.value,d.value,p.value,y.value]}const U=tt({get:()=>c.value,set:H=>{c.value=H,P.locale=c.value}}),B=tt({get:()=>f.value,set:H=>{f.value=H,P.fallbackLocale=f.value,vd(P,c.value,H)}}),Z=tt(()=>d.value),u=tt(()=>p.value),m=tt(()=>y.value);function x(){return Ut(_)?_:null}function C(H){_=H,P.postTranslation=H}function V(){return T}function Y(H){H!==null&&(w=YO(H)),T=H,P.missing=w}const de=(H,K,Ae,ke,Dt,zt)=>{z();let li;try{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=i?hle():void 0),li=H(P)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(P.fallbackContext=void 0)}if(Ae!=="translate exists"&&Si(li)&&li===Ib||Ae==="translate exists"&&!li){const[Di,Q]=K();return i&&E?ke(i):Dt(Di)}else{if(zt(li))return li;throw ir(Zi.UNEXPECTED_RETURN_TYPE)}};function oe(...H){return de(K=>Reflect.apply(UO,null,[K,...H]),()=>mS(...H),"translate",K=>Reflect.apply(K.t,K,[...H]),K=>K,K=>we(K))}function Me(...H){const[K,Ae,ke]=H;if(ke&&!yt(ke))throw ir(Zi.INVALID_ARGUMENT);return oe(K,Ae,ur({resolvedMessage:!0},ke||{}))}function je(...H){return de(K=>Reflect.apply(jO,null,[K,...H]),()=>yS(...H),"datetime format",K=>Reflect.apply(K.d,K,[...H]),()=>PO,K=>we(K))}function ze(...H){return de(K=>Reflect.apply(VO,null,[K,...H]),()=>gS(...H),"number format",K=>Reflect.apply(K.n,K,[...H]),()=>PO,K=>we(K))}function at(H){return H.map(K=>we(K)||Si(K)||it(K)?zO(String(K)):K)}const Mt={normalize:at,interpolate:H=>H,type:"vnode"};function yi(...H){return de(K=>{let Ae;const ke=K;try{ke.processor=Mt,Ae=Reflect.apply(UO,null,[ke,...H])}finally{ke.processor=null}return Ae},()=>mS(...H),"translate",K=>K[vS](...H),K=>[zO(K)],K=>Zt(K))}function Rt(...H){return de(K=>Reflect.apply(VO,null,[K,...H]),()=>gS(...H),"number format",K=>K[_S](...H),HO,K=>we(K)||Zt(K))}function si(...H){return de(K=>Reflect.apply(jO,null,[K,...H]),()=>yS(...H),"datetime format",K=>K[bS](...H),HO,K=>we(K)||Zt(K))}function Xi(H){L=H,P.pluralRules=L}function j(H,K){return de(()=>{if(!H)return!1;const Ae=we(K)?K:c.value,ke=ae(Ae),Dt=P.messageResolver(ke,H);return a?Dt!=null:wf(Dt)||Bs(Dt)||we(Dt)},()=>[H],"translate exists",Ae=>Reflect.apply(Ae.te,Ae,[H,K]),Fle,Ae=>it(Ae))}function D(H){let K=null;const Ae=rD(P,f.value,c.value);for(let ke=0;ke<Ae.length;ke++){const Dt=d.value[Ae[ke]]||{},zt=P.messageResolver(Dt,H);if(zt!=null){K=zt;break}}return K}function W(H){const K=D(H);return K??(i?i.tm(H)||{}:{})}function ae(H){return d.value[H]||{}}function ee(H,K){if(n){const Ae={[H]:K};for(const ke in Ae)vn(Ae,ke)&&Cm(Ae[ke]);K=Ae[H]}d.value[H]=K,P.messages=d.value}function ce(H,K){d.value[H]=d.value[H]||{};const Ae={[H]:K};if(n)for(const ke in Ae)vn(Ae,ke)&&Cm(Ae[ke]);K=Ae[H],Eg(K,d.value[H]),P.messages=d.value}function ye(H){return p.value[H]||{}}function N(H,K){p.value[H]=K,P.datetimeFormats=p.value,BO(P,H,K)}function k(H,K){p.value[H]=ur(p.value[H]||{},K),P.datetimeFormats=p.value,BO(P,H,K)}function G(H){return y.value[H]||{}}function te(H,K){y.value[H]=K,P.numberFormats=y.value,GO(P,H,K)}function se(H,K){y.value[H]=ur(y.value[H]||{},K),P.numberFormats=y.value,GO(P,H,K)}WO++,i&&zv&&(Ji(i.locale,H=>{l&&(c.value=H,P.locale=H,vd(P,c.value,f.value))}),Ji(i.fallbackLocale,H=>{l&&(f.value=H,P.fallbackLocale=H,vd(P,c.value,f.value))}));const ne={id:WO,locale:U,fallbackLocale:B,get inheritLocale(){return l},set inheritLocale(H){l=H,H&&i&&(c.value=i.locale.value,f.value=i.fallbackLocale.value,vd(P,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:Z,get modifiers(){return I},get pluralRules(){return L||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(H){v=H,P.missingWarn=v},get fallbackWarn(){return b},set fallbackWarn(H){b=H,P.fallbackWarn=b},get fallbackRoot(){return E},set fallbackRoot(H){E=H},get fallbackFormat(){return S},set fallbackFormat(H){S=H,P.fallbackFormat=S},get warnHtmlMessage(){return M},set warnHtmlMessage(H){M=H,P.warnHtmlMessage=H},get escapeParameter(){return $},set escapeParameter(H){$=H,P.escapeParameter=H},t:oe,getLocaleMessage:ae,setLocaleMessage:ee,mergeLocaleMessage:ce,getPostTranslationHandler:x,setPostTranslationHandler:C,getMissingHandler:V,setMissingHandler:Y,[gD]:Xi};return ne.datetimeFormats=u,ne.numberFormats=m,ne.rt=Me,ne.te=j,ne.tm=W,ne.d=je,ne.n=ze,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=N,ne.mergeDateTimeFormat=k,ne.getNumberFormat=G,ne.setNumberFormat=te,ne.mergeNumberFormat=se,ne[vD]=r,ne[vS]=yi,ne[bS]=si,ne[_S]=Rt,ne}function jle(e){const t=we(e.locale)?e.locale:_f,i=we(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Ut(e.missing)?e.missing:void 0,s=it(e.silentTranslationWarn)||Ol(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=it(e.silentFallbackWarn)||Ol(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=it(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=qe(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,f=Ut(e.postTranslation)?e.postTranslation:void 0,d=we(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=it(e.sync)?e.sync:!0;let v=e.messages;if(qe(e.sharedMessages)){const $=e.sharedMessages;v=Object.keys($).reduce((L,P)=>{const F=L[P]||(L[P]={});return ur(F,$[P]),L},v||{})}const{__i18n:b,__root:E,__injectWithOption:S}=e,T=e.datetimeFormats,w=e.numberFormats,_=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:i,messages:v,flatJson:_,datetimeFormats:T,numberFormats:w,missing:r,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:b,__root:E,__injectWithOption:S}}function xS(e={},t){{const i=UA(jle(e)),{__extender:r}=e,s={id:i.id,get locale(){return i.locale.value},set locale(n){i.locale.value=n},get fallbackLocale(){return i.fallbackLocale.value},set fallbackLocale(n){i.fallbackLocale.value=n},get messages(){return i.messages.value},get datetimeFormats(){return i.datetimeFormats.value},get numberFormats(){return i.numberFormats.value},get availableLocales(){return i.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return i.getMissingHandler()},set missing(n){i.setMissingHandler(n)},get silentTranslationWarn(){return it(i.missingWarn)?!i.missingWarn:i.missingWarn},set silentTranslationWarn(n){i.missingWarn=it(n)?!n:n},get silentFallbackWarn(){return it(i.fallbackWarn)?!i.fallbackWarn:i.fallbackWarn},set silentFallbackWarn(n){i.fallbackWarn=it(n)?!n:n},get modifiers(){return i.modifiers},get formatFallbackMessages(){return i.fallbackFormat},set formatFallbackMessages(n){i.fallbackFormat=n},get postTranslation(){return i.getPostTranslationHandler()},set postTranslation(n){i.setPostTranslationHandler(n)},get sync(){return i.inheritLocale},set sync(n){i.inheritLocale=n},get warnHtmlInMessage(){return i.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){i.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return i.escapeParameter},set escapeParameterHtml(n){i.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return i.pluralRules||{}},__composer:i,t(...n){const[o,a,l]=n,c={};let f=null,d=null;if(!we(o))throw ir(Zi.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Zt(a)?f=a:qe(a)&&(d=a),Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},rt(...n){return Reflect.apply(i.rt,i,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let f=null,d=null;if(!we(o))throw ir(Zi.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Si(a)?c.plural=a:Zt(a)?f=a:qe(a)&&(d=a),we(l)?c.locale=l:Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},te(n,o){return i.te(n,o)},tm(n){return i.tm(n)},getLocaleMessage(n){return i.getLocaleMessage(n)},setLocaleMessage(n,o){i.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){i.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(i.d,i,[...n])},getDateTimeFormat(n){return i.getDateTimeFormat(n)},setDateTimeFormat(n,o){i.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){i.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(i.n,i,[...n])},getNumberFormat(n){return i.getNumberFormat(n)},setNumberFormat(n,o){i.setNumberFormat(n,o)},mergeNumberFormat(n,o){i.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=r,s}}const jA={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Ble({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,s)=>[...r,...s.type===It?s.children:[s]],[]):t.reduce((i,r)=>{const s=e[r];return s&&(i[r]=s()),i},Pt())}function wD(e){return It}const Vle=rt({name:"i18n-t",props:ur({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Si(e)||!isNaN(e)}},jA),setup(e,t){const{slots:i,attrs:r}=t,s=e.i18n||ri({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(i).filter(d=>d!=="_"),o=Pt();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=we(e.plural)?+e.plural:e.plural);const a=Ble(t,n),l=s[vS](e.keypath,a,o),c=ur(Pt(),r),f=we(e.tag)||yt(e.tag)?e.tag:wD();return zs(f,c,l)}}}),JO=Vle;function Gle(e){return Zt(e)&&!we(e[0])}function xD(e,t,i,r){const{slots:s,attrs:n}=t;return()=>{const o={part:!0};let a=Pt();e.locale&&(o.locale=e.locale),we(e.format)?o.key=e.format:yt(e.format)&&(we(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>i.includes(y)?ur(Pt(),p,{[y]:e.format[y]}):p,Pt()));const l=r(e.value,o,a);let c=[o.key];Zt(l)?c=l.map((p,y)=>{const v=s[p.type],b=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return Gle(b)&&(b[0].key=`${p.type}-${y}`),b}):we(l)&&(c=[l]);const f=ur(Pt(),n),d=we(e.tag)||yt(e.tag)?e.tag:wD();return zs(d,f,c)}}const zle=rt({name:"i18n-n",props:ur({value:{type:Number,required:!0},format:{type:[String,Object]}},jA),setup(e,t){const i=e.i18n||ri({useScope:e.scope,__useComponent:!0});return xD(e,t,pD,(...r)=>i[_S](...r))}}),ZO=zle,qle=rt({name:"i18n-d",props:ur({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},jA),setup(e,t){const i=e.i18n||ri({useScope:e.scope,__useComponent:!0});return xD(e,t,dD,(...r)=>i[bS](...r))}}),KO=qle;function Hle(e,t){const i=e;if(e.mode==="composition")return i.__getInstance(t)||e.global;{const r=i.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Wle(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw ir(Zi.UNEXPECTED_ERROR);const f=Hle(e,a.$),d=XO(c);return[Reflect.apply(f.t,f,[...QO(d)]),f]};return{created:(o,a)=>{const[l,c]=t(a);zv&&e.global===c&&(o.__i18nWatcher=Ji(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{zv&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=XO(a);o.textContent=Reflect.apply(l.t,l,[...QO(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function XO(e){if(we(e))return{path:e};if(qe(e)){if(!("path"in e))throw ir(Zi.REQUIRED_VALUE,"path");return e}else throw ir(Zi.INVALID_VALUE)}function QO(e){const{path:t,locale:i,args:r,choice:s,plural:n}=e,o={},a=r||{};return we(i)&&(o.locale=i),Si(s)&&(o.plural=s),Si(n)&&(o.plural=n),[t,a,o]}function Yle(e,t,...i){const r=qe(i[0])?i[0]:{},s=!!r.useI18nComponentName;(it(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":JO.name,"I18nT"].forEach(o=>e.component(o,JO)),[ZO.name,"I18nN"].forEach(o=>e.component(o,ZO)),[KO.name,"I18nD"].forEach(o=>e.component(o,KO))),e.directive("t",Wle(t))}function Jle(e,t,i){return{beforeCreate(){const r=Ri();if(!r)throw ir(Zi.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=t,this===this.$root)this.$i18n=eC(e,n);else{n.__injectWithOption=!0,n.__extender=i.__vueI18nExtend,this.$i18n=xS(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=eC(e,s);else{this.$i18n=xS({__i18n:s.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&_D(t,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),i.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Ri();if(!r)throw ir(Zi.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),i.__deleteInstance(r),delete this.$i18n}}}function eC(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[gD](t.pluralizationRules||e.pluralizationRules);const i=Pb(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach(r=>e.mergeLocaleMessage(r,i[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const Zle=jl("global-vue-i18n");function Kle(e={},t){const i=__VUE_I18N_LEGACY_API__&&it(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=it(e.globalInjection)?e.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&i?!!e.allowComposition:!0,n=new Map,[o,a]=Xle(e,i),l=jl("");function c(p){return n.get(p)||null}function f(p,y){n.set(p,y)}function d(p){n.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return s},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),qe(v[0])){const S=v[0];p.__composerExtend=S.__composerExtend,p.__vueI18nExtend=S.__vueI18nExtend}let b=null;!i&&r&&(b=ace(y,p.global)),__VUE_I18N_FULL_INSTALL__&&Yle(y,p,...v),__VUE_I18N_LEGACY_API__&&i&&y.mixin(Jle(a,a.__composer,p));const E=y.unmount;y.unmount=()=>{b&&b(),p.dispose(),E()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function ri(e={}){const t=Ri();if(t==null)throw ir(Zi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ir(Zi.NOT_INSTALLED);const i=Qle(t),r=tce(i),s=bD(t),n=ece(e,s);if(__VUE_I18N_LEGACY_API__&&i.mode==="legacy"&&!e.__useComponent){if(!i.allowComposition)throw ir(Zi.NOT_AVAILABLE_IN_LEGACY_MODE);return nce(t,n,r,e)}if(n==="global")return _D(r,e,s),r;if(n==="parent"){let l=ice(i,t,e.__useComponent);return l==null&&(l=r),l}const o=i;let a=o.__getInstance(t);if(a==null){const l=ur({},e);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=UA(l),o.__composerExtend&&(a[wS]=o.__composerExtend(a)),sce(o,t,a),o.__setInstance(t,a)}return a}function Xle(e,t,i){const r=u0();{const s=__VUE_I18N_LEGACY_API__&&t?r.run(()=>xS(e)):r.run(()=>UA(e));if(s==null)throw ir(Zi.UNEXPECTED_ERROR);return[r,s]}}function Qle(e){{const t=ki(e.isCE?Zle:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ir(e.isCE?Zi.NOT_INSTALLED_WITH_PROVIDE:Zi.UNEXPECTED_ERROR);return t}}function ece(e,t){return Ob(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function tce(e){return e.mode==="composition"?e.global:e.global.__composer}function ice(e,t,i=!1){let r=null;const s=t.root;let n=rce(t,i);for(;n!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(r=a.__composer,i&&r&&!r[vD]&&(r=null))}if(r!=null||s===n)break;n=n.parent}return r}function rce(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function sce(e,t,i){hr(()=>{},t),$u(()=>{const r=i;e.__deleteInstance(t);const s=r[wS];s&&(s(),delete r[wS])},t)}function nce(e,t,i,r={}){const s=t==="local",n=Xf(null);if(s&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw ir(Zi.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(r.inheritLocale)?r.inheritLocale:!we(r.locale),a=X(!s||o?i.locale.value:we(r.locale)?r.locale:_f),l=X(!s||o?i.fallbackLocale.value:we(r.fallbackLocale)||Zt(r.fallbackLocale)||qe(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=X(Pb(a.value,r)),f=X(qe(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=X(qe(r.numberFormats)?r.numberFormats:{[a.value]:{}}),p=s?i.missingWarn:it(r.missingWarn)||Ol(r.missingWarn)?r.missingWarn:!0,y=s?i.fallbackWarn:it(r.fallbackWarn)||Ol(r.fallbackWarn)?r.fallbackWarn:!0,v=s?i.fallbackRoot:it(r.fallbackRoot)?r.fallbackRoot:!0,b=!!r.fallbackFormat,E=Ut(r.missing)?r.missing:null,S=Ut(r.postTranslation)?r.postTranslation:null,T=s?i.warnHtmlMessage:it(r.warnHtmlMessage)?r.warnHtmlMessage:!0,w=!!r.escapeParameter,_=s?i.modifiers:qe(r.modifiers)?r.modifiers:{},M=r.pluralRules||s&&i.pluralRules;function $(){return[a.value,l.value,c.value,f.value,d.value]}const I=tt({get:()=>n.value?n.value.locale.value:a.value,set:D=>{n.value&&(n.value.locale.value=D),a.value=D}}),L=tt({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:D=>{n.value&&(n.value.fallbackLocale.value=D),l.value=D}}),P=tt(()=>n.value?n.value.messages.value:c.value),F=tt(()=>f.value),z=tt(()=>d.value);function U(){return n.value?n.value.getPostTranslationHandler():S}function B(D){n.value&&n.value.setPostTranslationHandler(D)}function Z(){return n.value?n.value.getMissingHandler():E}function u(D){n.value&&n.value.setMissingHandler(D)}function m(D){return $(),D()}function x(...D){return n.value?m(()=>Reflect.apply(n.value.t,null,[...D])):m(()=>"")}function C(...D){return n.value?Reflect.apply(n.value.rt,null,[...D]):""}function V(...D){return n.value?m(()=>Reflect.apply(n.value.d,null,[...D])):m(()=>"")}function Y(...D){return n.value?m(()=>Reflect.apply(n.value.n,null,[...D])):m(()=>"")}function de(D){return n.value?n.value.tm(D):{}}function oe(D,W){return n.value?n.value.te(D,W):!1}function Me(D){return n.value?n.value.getLocaleMessage(D):{}}function je(D,W){n.value&&(n.value.setLocaleMessage(D,W),c.value[D]=W)}function ze(D,W){n.value&&n.value.mergeLocaleMessage(D,W)}function at(D){return n.value?n.value.getDateTimeFormat(D):{}}function Gt(D,W){n.value&&(n.value.setDateTimeFormat(D,W),f.value[D]=W)}function Mt(D,W){n.value&&n.value.mergeDateTimeFormat(D,W)}function yi(D){return n.value?n.value.getNumberFormat(D):{}}function Rt(D,W){n.value&&(n.value.setNumberFormat(D,W),d.value[D]=W)}function si(D,W){n.value&&n.value.mergeNumberFormat(D,W)}const Xi={get id(){return n.value?n.value.id:-1},locale:I,fallbackLocale:L,messages:P,datetimeFormats:F,numberFormats:z,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(D){n.value&&(n.value.inheritLocale=D)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:_},get pluralRules(){return n.value?n.value.pluralRules:M},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:p},set missingWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackWarn(){return n.value?n.value.fallbackWarn:y},set fallbackWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackRoot(){return n.value?n.value.fallbackRoot:v},set fallbackRoot(D){n.value&&(n.value.fallbackRoot=D)},get fallbackFormat(){return n.value?n.value.fallbackFormat:b},set fallbackFormat(D){n.value&&(n.value.fallbackFormat=D)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:T},set warnHtmlMessage(D){n.value&&(n.value.warnHtmlMessage=D)},get escapeParameter(){return n.value?n.value.escapeParameter:w},set escapeParameter(D){n.value&&(n.value.escapeParameter=D)},t:x,getPostTranslationHandler:U,setPostTranslationHandler:B,getMissingHandler:Z,setMissingHandler:u,rt:C,d:V,n:Y,tm:de,te:oe,getLocaleMessage:Me,setLocaleMessage:je,mergeLocaleMessage:ze,getDateTimeFormat:at,setDateTimeFormat:Gt,mergeDateTimeFormat:Mt,getNumberFormat:yi,setNumberFormat:Rt,mergeNumberFormat:si};function j(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(c.value).forEach(W=>{D.mergeLocaleMessage(W,c.value[W])}),Object.keys(f.value).forEach(W=>{D.mergeDateTimeFormat(W,f.value[W])}),Object.keys(d.value).forEach(W=>{D.mergeNumberFormat(W,d.value[W])}),D.escapeParameter=w,D.fallbackFormat=b,D.fallbackRoot=v,D.fallbackWarn=y,D.missingWarn=p,D.warnHtmlMessage=T}return pb(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw ir(Zi.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=n.value=e.proxy.$i18n.__composer;t==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,c.value=D.messages.value,f.value=D.datetimeFormats.value,d.value=D.numberFormats.value):s&&j(D)}),Xi}const oce=["locale","fallbackLocale","availableLocales"],tC=["t","rt","d","n","tm","te"];function ace(e,t){const i=Object.create(null);return oce.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n)throw ir(Zi.UNEXPECTED_ERROR);const o=ht(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(i,s,o)}),e.config.globalProperties.$i18n=i,tC.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n||!n.value)throw ir(Zi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,n)}),()=>{delete e.config.globalProperties.$i18n,tC.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}Dle();__INTLIFY_JIT_COMPILATION__?NO(Ile):NO(Cle);ale(Vae);lle(rD);if(__INTLIFY_PROD_DEVTOOLS__){const e=na();e.__INTLIFY__=!0,Kae(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const lce={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"FranÃ§ais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"franÃ§ais","lang-native":"FranÃ§ais","ramp.about.open":"Ouvrir Ã€ propos de PCAR","ramp.about":"Ã€ propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous dÃ©placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un Ã©lÃ©ment de la liste est sÃ©lectionnÃ©, vous pouvez appuyer sur Â« Espace Â» ou Â« EntrÃ©e Â» pour cliquer sur l'Ã©lÃ©ment. Vous pouvez Ã©galement vous dÃ©placer au sein de l'Ã©lÃ©ment de la liste au moyen de la touche Â« Tab Â».","keyboardInstructions.map":"Lorsque la carte est sÃ©lectionnÃ©e, utilisez le pavÃ© curseur pour vous dÃ©placer et appuyez sur Â« EntrÃ©e Â»  pour sÃ©lectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer Ã  l'Ã©chelle mÃ©trique","map.toggleScaleToImperial":"Passer Ã  l'Ã©chelle impÃ©riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"FranÃ§ais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour dÃ©placer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fenÃªtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"DÃ©velopper","notifications.controls.collapse":"RÃ©duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur EntrÃ©e ou sur la barre d'espacement pour accÃ©der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"Ã‰pingler","panels.controls.unpin":"DÃ©sÃ©pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"RÃ©duire","panels.controls.expand":"DÃ©velopper","panels.controls.collapse":"RÃ©duire","panels.controls.moveRight":"Aller Ã  droite","panels.controls.moveLeft":"Aller Ã  gauche","panels.controls.items":"Utilisez les touches flÃ©chÃ©es pour naviguer entre les Ã©lÃ©ments","panels.alert.open":"FenÃªtre {name} ouverte","panels.alert.close":"FenÃªtre {name} fermÃ©e","panels.alert.minimize":"FenÃªtre {name} rÃ©duite","layer.error":"Ã‰chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prÃ©vu","layer.longdraw":"{id} prend plus de temps que prÃ©vu Ã  extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont Ã©tÃ© dÃ©sactivÃ©s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement dÃ©sactivÃ©.","layer.noexportmap":"La tentative dâ€™ajouter {name} comme couche dâ€™imagerie cartographique a Ã©chouÃ©e car elle nâ€™a pu Ãªtre activÃ© pour ce service","caption.attributionDefaultText":"PropulsÃ© par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},iC="en",cce={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function uce(){return Kle({legacy:!1,locale:document.documentElement.getAttribute("lang")||iC,fallbackLocale:iC,globalInjection:!0,messages:lce,numberFormats:cce})}var n2={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var rC;function hce(){return rC||(rC=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},i=e.exports,r=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},n={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var f=o[r.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[r.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=s[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=s[o];l&&t.removeEventListener(l,a,!1)},raw:r};if(!r){i?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(n,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),i?e.exports=n:window.screenfull=n})()}(n2)),n2.exports}var fce=hce();const Gn=Z1(fce);var sp={exports:{}};sp.exports;var sC;function dce(){return sC||(sC=1,function(e,t){var i=200,r="__lodash_hash_undefined__",s=9007199254740991,n="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",b="[object Promise]",E="[object RegExp]",S="[object Set]",T="[object String]",w="[object Symbol]",_="[object WeakMap]",M="[object ArrayBuffer]",$="[object DataView]",I="[object Float32Array]",L="[object Float64Array]",P="[object Int8Array]",F="[object Int16Array]",z="[object Int32Array]",U="[object Uint8Array]",B="[object Uint8ClampedArray]",Z="[object Uint16Array]",u="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,C=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Y={};Y[n]=Y[o]=Y[M]=Y[$]=Y[a]=Y[l]=Y[I]=Y[L]=Y[P]=Y[F]=Y[z]=Y[p]=Y[y]=Y[v]=Y[E]=Y[S]=Y[T]=Y[w]=Y[U]=Y[B]=Y[Z]=Y[u]=!0,Y[c]=Y[f]=Y[_]=!1;var de=typeof X0=="object"&&X0&&X0.Object===Object&&X0,oe=typeof self=="object"&&self&&self.Object===Object&&self,Me=de||oe||Function("return this")(),je=t&&!t.nodeType&&t,ze=je&&!0&&e&&!e.nodeType&&e,at=ze&&ze.exports===je;function Gt(R,J){return R.set(J[0],J[1]),R}function Mt(R,J){return R.add(J),R}function yi(R,J){for(var le=-1,Le=R?R.length:0;++le<Le&&J(R[le],le,R)!==!1;);return R}function Rt(R,J){for(var le=-1,Le=J.length,sr=R.length;++le<Le;)R[sr+le]=J[le];return R}function si(R,J,le,Le){for(var sr=-1,Gr=R?R.length:0;++sr<Gr;)le=J(le,R[sr],sr,R);return le}function Xi(R,J){for(var le=-1,Le=Array(R);++le<R;)Le[le]=J(le);return Le}function j(R,J){return R?.[J]}function D(R){var J=!1;if(R!=null&&typeof R.toString!="function")try{J=!!(R+"")}catch{}return J}function W(R){var J=-1,le=Array(R.size);return R.forEach(function(Le,sr){le[++J]=[sr,Le]}),le}function ae(R,J){return function(le){return R(J(le))}}function ee(R){var J=-1,le=Array(R.size);return R.forEach(function(Le){le[++J]=Le}),le}var ce=Array.prototype,ye=Function.prototype,N=Object.prototype,k=Me["__core-js_shared__"],G=function(){var R=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),te=ye.toString,se=N.hasOwnProperty,ne=N.toString,H=RegExp("^"+te.call(se).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=at?Me.Buffer:void 0,Ae=Me.Symbol,ke=Me.Uint8Array,Dt=ae(Object.getPrototypeOf,Object),zt=Object.create,li=N.propertyIsEnumerable,Di=ce.splice,Q=Object.getOwnPropertySymbols,Te=K?K.isBuffer:void 0,Oe=ae(Object.keys,Object),We=ku(Me,"DataView"),Qe=ku(Me,"Map"),Fi=ku(Me,"Promise"),fr=ku(Me,"Set"),Un=ku(Me,"WeakMap"),ba=ku(Object,"create"),Po=Yl(We),td=Yl(Qe),Iu=Yl(Fi),_a=Yl(fr),qb=Yl(Un),Pu=Ae?Ae.prototype:void 0,ql=Pu?Pu.valueOf:void 0;function Hl(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Le=R[J];this.set(Le[0],Le[1])}}function B7(){this.__data__=ba?ba(null):{}}function V7(R){return this.has(R)&&delete this.__data__[R]}function G7(R){var J=this.__data__;if(ba){var le=J[R];return le===r?void 0:le}return se.call(J,R)?J[R]:void 0}function z7(R){var J=this.__data__;return ba?J[R]!==void 0:se.call(J,R)}function q7(R,J){var le=this.__data__;return le[R]=ba&&J===void 0?r:J,this}Hl.prototype.clear=B7,Hl.prototype.delete=V7,Hl.prototype.get=G7,Hl.prototype.has=z7,Hl.prototype.set=q7;function Lo(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Le=R[J];this.set(Le[0],Le[1])}}function H7(){this.__data__=[]}function W7(R){var J=this.__data__,le=A0(J,R);if(le<0)return!1;var Le=J.length-1;return le==Le?J.pop():Di.call(J,le,1),!0}function Y7(R){var J=this.__data__,le=A0(J,R);return le<0?void 0:J[le][1]}function J7(R){return A0(this.__data__,R)>-1}function Z7(R,J){var le=this.__data__,Le=A0(le,R);return Le<0?le.push([R,J]):le[Le][1]=J,this}Lo.prototype.clear=H7,Lo.prototype.delete=W7,Lo.prototype.get=Y7,Lo.prototype.has=J7,Lo.prototype.set=Z7;function Lu(R){var J=-1,le=R?R.length:0;for(this.clear();++J<le;){var Le=R[J];this.set(Le[0],Le[1])}}function K7(){this.__data__={hash:new Hl,map:new(Qe||Lo),string:new Hl}}function X7(R){return T0(this,R).delete(R)}function Q7(R){return T0(this,R).get(R)}function eF(R){return T0(this,R).has(R)}function tF(R,J){return T0(this,R).set(R,J),this}Lu.prototype.clear=K7,Lu.prototype.delete=X7,Lu.prototype.get=Q7,Lu.prototype.has=eF,Lu.prototype.set=tF;function Nu(R){this.__data__=new Lo(R)}function iF(){this.__data__=new Lo}function rF(R){return this.__data__.delete(R)}function sF(R){return this.__data__.get(R)}function nF(R){return this.__data__.has(R)}function oF(R,J){var le=this.__data__;if(le instanceof Lo){var Le=le.__data__;if(!Qe||Le.length<i-1)return Le.push([R,J]),this;le=this.__data__=new Lu(Le)}return le.set(R,J),this}Nu.prototype.clear=iF,Nu.prototype.delete=rF,Nu.prototype.get=sF,Nu.prototype.has=nF,Nu.prototype.set=oF;function aF(R,J){var le=Yb(R)||IF(R)?Xi(R.length,String):[],Le=le.length,sr=!!Le;for(var Gr in R)se.call(R,Gr)&&!(sr&&(Gr=="length"||MF(Gr,Le)))&&le.push(Gr);return le}function $T(R,J,le){var Le=R[J];(!(se.call(R,J)&&PT(Le,le))||le===void 0&&!(J in R))&&(R[J]=le)}function A0(R,J){for(var le=R.length;le--;)if(PT(R[le][0],J))return le;return-1}function lF(R,J){return R&&OT(J,Jb(J),R)}function Hb(R,J,le,Le,sr,Gr,No){var zr;if(Le&&(zr=Gr?Le(R,sr,Gr,No):Le(R)),zr!==void 0)return zr;if(!M0(R))return R;var kT=Yb(R);if(kT){if(zr=EF(R),!J)return wF(R,zr)}else{var Ru=Wl(R),RT=Ru==f||Ru==d;if(LF(R))return pF(R,J);if(Ru==v||Ru==n||RT&&!Gr){if(D(R))return Gr?R:{};if(zr=AF(RT?{}:R),!J)return xF(R,lF(zr,R))}else{if(!Y[Ru])return Gr?R:{};zr=TF(R,Ru,Hb,J)}}No||(No=new Nu);var DT=No.get(R);if(DT)return DT;if(No.set(R,zr),!kT)var FT=le?SF(R):Jb(R);return yi(FT||R,function(Zb,$0){FT&&($0=Zb,Zb=R[$0]),$T(zr,$0,Hb(Zb,J,le,Le,$0,R,No))}),zr}function cF(R){return M0(R)?zt(R):{}}function uF(R,J,le){var Le=J(R);return Yb(R)?Le:Rt(Le,le(R))}function hF(R){return ne.call(R)}function fF(R){if(!M0(R)||OF(R))return!1;var J=NT(R)||D(R)?H:C;return J.test(Yl(R))}function dF(R){if(!IT(R))return Oe(R);var J=[];for(var le in Object(R))se.call(R,le)&&le!="constructor"&&J.push(le);return J}function pF(R,J){if(J)return R.slice();var le=new R.constructor(R.length);return R.copy(le),le}function Wb(R){var J=new R.constructor(R.byteLength);return new ke(J).set(new ke(R)),J}function mF(R,J){var le=J?Wb(R.buffer):R.buffer;return new R.constructor(le,R.byteOffset,R.byteLength)}function yF(R,J,le){var Le=J?le(W(R),!0):W(R);return si(Le,Gt,new R.constructor)}function gF(R){var J=new R.constructor(R.source,x.exec(R));return J.lastIndex=R.lastIndex,J}function vF(R,J,le){var Le=J?le(ee(R),!0):ee(R);return si(Le,Mt,new R.constructor)}function bF(R){return ql?Object(ql.call(R)):{}}function _F(R,J){var le=J?Wb(R.buffer):R.buffer;return new R.constructor(le,R.byteOffset,R.length)}function wF(R,J){var le=-1,Le=R.length;for(J||(J=Array(Le));++le<Le;)J[le]=R[le];return J}function OT(R,J,le,Le){le||(le={});for(var sr=-1,Gr=J.length;++sr<Gr;){var No=J[sr],zr=void 0;$T(le,No,zr===void 0?R[No]:zr)}return le}function xF(R,J){return OT(R,CT(R),J)}function SF(R){return uF(R,Jb,CT)}function T0(R,J){var le=R.__data__;return $F(J)?le[typeof J=="string"?"string":"hash"]:le.map}function ku(R,J){var le=j(R,J);return fF(le)?le:void 0}var CT=Q?ae(Q,Object):RF,Wl=hF;(We&&Wl(new We(new ArrayBuffer(1)))!=$||Qe&&Wl(new Qe)!=p||Fi&&Wl(Fi.resolve())!=b||fr&&Wl(new fr)!=S||Un&&Wl(new Un)!=_)&&(Wl=function(R){var J=ne.call(R),le=J==v?R.constructor:void 0,Le=le?Yl(le):void 0;if(Le)switch(Le){case Po:return $;case td:return p;case Iu:return b;case _a:return S;case qb:return _}return J});function EF(R){var J=R.length,le=R.constructor(J);return J&&typeof R[0]=="string"&&se.call(R,"index")&&(le.index=R.index,le.input=R.input),le}function AF(R){return typeof R.constructor=="function"&&!IT(R)?cF(Dt(R)):{}}function TF(R,J,le,Le){var sr=R.constructor;switch(J){case M:return Wb(R);case a:case l:return new sr(+R);case $:return mF(R,Le);case I:case L:case P:case F:case z:case U:case B:case Z:case u:return _F(R,Le);case p:return yF(R,Le,le);case y:case T:return new sr(R);case E:return gF(R);case S:return vF(R,Le,le);case w:return bF(R)}}function MF(R,J){return J=J??s,!!J&&(typeof R=="number"||V.test(R))&&R>-1&&R%1==0&&R<J}function $F(R){var J=typeof R;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?R!=="__proto__":R===null}function OF(R){return!!G&&G in R}function IT(R){var J=R&&R.constructor,le=typeof J=="function"&&J.prototype||N;return R===le}function Yl(R){if(R!=null){try{return te.call(R)}catch{}try{return R+""}catch{}}return""}function CF(R){return Hb(R,!0,!0)}function PT(R,J){return R===J||R!==R&&J!==J}function IF(R){return PF(R)&&se.call(R,"callee")&&(!li.call(R,"callee")||ne.call(R)==n)}var Yb=Array.isArray;function LT(R){return R!=null&&NF(R.length)&&!NT(R)}function PF(R){return kF(R)&&LT(R)}var LF=Te||DF;function NT(R){var J=M0(R)?ne.call(R):"";return J==f||J==d}function NF(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function M0(R){var J=typeof R;return!!R&&(J=="object"||J=="function")}function kF(R){return!!R&&typeof R=="object"}function Jb(R){return LT(R)?aF(R):dF(R)}function RF(){return[]}function DF(){return!1}e.exports=CF}(sp,sp.exports)),sp.exports}var pce=dce();const nC=Z1(pce),Hv=ai("maptip",()=>{const e=X(void 0),t=X(void 0),i=X("");function r(o){e.value=o}function s(o){t.value=o}function n(o){i.value=o}return{maptipInstance:e,maptipPoint:t,content:i,setMaptipInstance:r,setMaptipPoint:s,setMaptipContent:n}}),mce=rt({__name:"esri-map",setup(e){const t=Hv(),i=ki("iApi"),r=tt(()=>t.maptipPoint),s=tt(()=>t.maptipInstance),n=tt(()=>t.content),o=rr([]),a=X(!1);o.push(Ji(r,()=>{if(r.value){const c=i.geo.map.getPixelWidth()/2,f=0,d=i.geo.map.mapPointToScreenPoint(r.value),p=d.screenX-c,y=f-d.screenY;s.value.setProps({offset:a.value?[p,y+25]:[p,y]}),n.value&&n.value!==""&&s.value.show()}else s.value.hide()})),o.push(Ji(n,c=>{c&&c!==""&&r?(s.value.setContent(c),s.value.show()):s.value.hide()})),Dn(()=>{o.forEach(c=>c())});const l=()=>{i.geo.map.setMouseFocus()};return(c,f)=>{const d=Tt("tippy");return At((fe(),xe("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:f[0]||(f[0]=p=>a.value=!0),onTouchend:f[1]||(f[1]=p=>a.value=!1),onKeydown:f[2]||(f[2]=fA(g0(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var SD={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},BA={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},yce=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Wv={CSS:{},springs:{}};function uo(e,t,i){return Math.min(Math.max(e,t),i)}function Op(e,t){return e.indexOf(t)>-1}function o2(e,t){return e.apply(null,t)}var De={arr:function(e){return Array.isArray(e)},obj:function(e){return Op(Object.prototype.toString.call(e),"Object")},pth:function(e){return De.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||De.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return De.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return De.hex(e)||De.rgb(e)||De.hsl(e)},key:function(e){return!SD.hasOwnProperty(e)&&!BA.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function ED(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(i){return parseFloat(i)}):[]}function AD(e,t){var i=ED(e),r=uo(De.und(i[0])?1:i[0],.1,100),s=uo(De.und(i[1])?100:i[1],.1,100),n=uo(De.und(i[2])?10:i[2],.1,100),o=uo(De.und(i[3])?0:i[3],.1,100),a=Math.sqrt(s/r),l=n/(2*Math.sqrt(s*r)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var b=t?t*v/1e3:v;return l<1?b=Math.exp(-b*l*a)*(f*Math.cos(c*b)+d*Math.sin(c*b)):b=(f+d*b)*Math.exp(-b*a),v===0||v===1?v:1-b}function y(){var v=Wv.springs[e];if(v)return v;for(var b=1/6,E=0,S=0;;)if(E+=b,p(E)===1){if(S++,S>=16)break}else S=0;var T=E*b*1e3;return Wv.springs[e]=T,T}return t?p:y}function gce(e){return e===void 0&&(e=10),function(t){return Math.ceil(uo(t,1e-6,1)*e)*(1/e)}}var vce=function(){var e=11,t=1/(e-1);function i(f,d){return 1-3*d+3*f}function r(f,d){return 3*d-6*f}function s(f){return 3*f}function n(f,d,p){return((i(d,p)*f+r(d,p))*f+s(d))*f}function o(f,d,p){return 3*i(d,p)*f*f+2*r(d,p)*f+s(d)}function a(f,d,p,y,v){var b,E,S=0;do E=d+(p-d)/2,b=n(E,y,v)-f,b>0?p=E:d=E;while(Math.abs(b)>1e-7&&++S<10);return E}function l(f,d,p,y){for(var v=0;v<4;++v){var b=o(d,p,y);if(b===0)return d;var E=n(d,p,y)-f;d-=E/b}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var v=new Float32Array(e);if(f!==d||p!==y)for(var b=0;b<e;++b)v[b]=n(b*t,f,p);function E(S){for(var T=0,w=1,_=e-1;w!==_&&v[w]<=S;++w)T+=t;--w;var M=(S-v[w])/(v[w+1]-v[w]),$=T+M*t,I=o($,f,p);return I>=.001?l(S,$,f,p):I===0?$:a(S,T,T+t,f,p)}return function(S){return f===d&&p===y||S===0||S===1?S:n(E(S),d,y)}}return c}(),TD=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var s,n=4;r<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-r,2)}},Elastic:function(r,s){r===void 0&&(r=1),s===void 0&&(s=.5);var n=uo(r,1,10),o=uo(s,.1,2);return function(a){return a===0||a===1?a:-n*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},i=["Quad","Cubic","Quart","Quint","Expo"];return i.forEach(function(r,s){t[r]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(t).forEach(function(r){var s=t[r];e["easeIn"+r]=s,e["easeOut"+r]=function(n,o){return function(a){return 1-s(n,o)(1-a)}},e["easeInOut"+r]=function(n,o){return function(a){return a<.5?s(n,o)(a*2)/2:1-s(n,o)(a*-2+2)/2}},e["easeOutIn"+r]=function(n,o){return function(a){return a<.5?(1-s(n,o)(1-a*2))/2:(s(n,o)(a*2-1)+1)/2}}}),e}();function VA(e,t){if(De.fnc(e))return e;var i=e.split("(")[0],r=TD[i],s=ED(e);switch(i){case"spring":return AD(e,t);case"cubicBezier":return o2(vce,s);case"steps":return o2(gce,s);default:return o2(r,s)}}function MD(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Lb(e,t){for(var i=e.length,r=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<i;n++)if(n in e){var o=e[n];t.call(r,o,n,e)&&s.push(o)}return s}function Nb(e){return e.reduce(function(t,i){return t.concat(De.arr(i)?Nb(i):i)},[])}function oC(e){return De.arr(e)?e:(De.str(e)&&(e=MD(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function GA(e,t){return e.some(function(i){return i===t})}function zA(e){var t={};for(var i in e)t[i]=e[i];return t}function SS(e,t){var i=zA(e);for(var r in e)i[r]=t.hasOwnProperty(r)?t[r]:e[r];return i}function kb(e,t){var i=zA(e);for(var r in t)i[r]=De.und(e[r])?t[r]:e[r];return i}function bce(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function _ce(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(a,l,c,f){return l+l+c+c+f+f}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),s=parseInt(r[1],16),n=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+s+","+n+","+o+",1)"}function wce(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,s=parseInt(t[3],10)/100,n=t[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(r==0)a=l=c=s;else{var f=s<.5?s*(1+r):s+r-s*r,d=2*s-f;a=o(d,f,i+1/3),l=o(d,f,i),c=o(d,f,i-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+n+")"}function xce(e){if(De.rgb(e))return bce(e);if(De.hex(e))return _ce(e);if(De.hsl(e))return wce(e)}function ua(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Sce(e){if(Op(e,"translate")||e==="perspective")return"px";if(Op(e,"rotate")||Op(e,"skew"))return"deg"}function ES(e,t){return De.fnc(e)?e(t.target,t.id,t.total):e}function ho(e,t){return e.getAttribute(t)}function qA(e,t,i){var r=ua(t);if(GA([i,"deg","rad","turn"],r))return t;var s=Wv.CSS[t+i];if(!De.und(s))return s;var n=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=n+i;var l=n/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return Wv.CSS[t+i]=c,c}function $D(e,t,i){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return i?qA(e,s,i):s}}function HA(e,t){if(De.dom(e)&&!De.inp(e)&&(!De.nil(ho(e,t))||De.svg(e)&&e[t]))return"attribute";if(De.dom(e)&&GA(yce,t))return"transform";if(De.dom(e)&&t!=="transform"&&$D(e,t))return"css";if(e[t]!=null)return"object"}function OD(e){if(De.dom(e)){for(var t=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map,s;s=i.exec(t);)r.set(s[1],s[2]);return r}}function Ece(e,t,i,r){var s=Op(t,"scale")?1:0+Sce(t),n=OD(e).get(t)||s;return i&&(i.transforms.list.set(t,n),i.transforms.last=t),r?qA(e,n,r):n}function WA(e,t,i,r){switch(HA(e,t)){case"transform":return Ece(e,t,r,i);case"css":return $D(e,t,i);case"attribute":return ho(e,t);default:return e[t]||0}}function YA(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var r=ua(e)||0,s=parseFloat(t),n=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return s+n+r;case"-":return s-n+r;case"*":return s*n+r}}function CD(e,t){if(De.col(e))return xce(e);if(/\s/g.test(e))return e;var i=ua(e),r=i?e.substr(0,e.length-i.length):e;return t?r+t:r}function JA(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ace(e){return Math.PI*2*ho(e,"r")}function Tce(e){return ho(e,"width")*2+ho(e,"height")*2}function Mce(e){return JA({x:ho(e,"x1"),y:ho(e,"y1")},{x:ho(e,"x2"),y:ho(e,"y2")})}function ID(e){for(var t=e.points,i=0,r,s=0;s<t.numberOfItems;s++){var n=t.getItem(s);s>0&&(i+=JA(r,n)),r=n}return i}function $ce(e){var t=e.points;return ID(e)+JA(t.getItem(t.numberOfItems-1),t.getItem(0))}function PD(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return Ace(e);case"rect":return Tce(e);case"line":return Mce(e);case"polyline":return ID(e);case"polygon":return $ce(e)}}function Oce(e){var t=PD(e);return e.setAttribute("stroke-dasharray",t),t}function Cce(e){for(var t=e.parentNode;De.svg(t)&&De.svg(t.parentNode);)t=t.parentNode;return t}function LD(e,t){var i=t||{},r=i.el||Cce(e),s=r.getBoundingClientRect(),n=ho(r,"viewBox"),o=s.width,a=s.height,l=i.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function Ice(e,t){var i=De.str(e)?MD(e)[0]:e,r=t||100;return function(s){return{property:s,el:i,svg:LD(i),totalLength:PD(i)*(r/100)}}}function Pce(e,t,i){function r(f){f===void 0&&(f=0);var d=t+f>=1?t+f:0;return e.el.getPointAtLength(d)}var s=LD(e.el,e.svg),n=r(),o=r(-1),a=r(1),l=i?1:s.w/s.vW,c=i?1:s.h/s.vH;switch(e.property){case"x":return(n.x-s.x)*l;case"y":return(n.y-s.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function aC(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=CD(De.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(i)?r.match(i).map(Number):[0],strings:De.str(e)||t?r.split(i):[]}}function ZA(e){var t=e?Nb(De.arr(e)?e.map(oC):oC(e)):[];return Lb(t,function(i,r,s){return s.indexOf(i)===r})}function ND(e){var t=ZA(e);return t.map(function(i,r){return{target:i,id:r,total:t.length,transforms:{list:OD(i)}}})}function Lce(e,t){var i=zA(t);if(/^spring/.test(i.easing)&&(i.duration=AD(i.easing)),De.arr(e)){var r=e.length,s=r===2&&!De.obj(e[0]);s?e={value:e}:De.fnc(t.duration)||(i.duration=t.duration/r)}var n=De.arr(e)?e:[e];return n.map(function(o,a){var l=De.obj(o)&&!De.pth(o)?o:{value:o};return De.und(l.delay)&&(l.delay=a?0:t.delay),De.und(l.endDelay)&&(l.endDelay=a===n.length-1?t.endDelay:0),l}).map(function(o){return kb(o,i)})}function Nce(e){for(var t=Lb(Nb(e.map(function(n){return Object.keys(n)})),function(n){return De.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),i={},r=function(n){var o=t[n];i[o]=e.map(function(a){var l={};for(var c in a)De.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},s=0;s<t.length;s++)r(s);return i}function kce(e,t){var i=[],r=t.keyframes;r&&(t=kb(Nce(r),t));for(var s in t)De.key(s)&&i.push({name:s,tweens:Lce(t[s],e)});return i}function Rce(e,t){var i={};for(var r in e){var s=ES(e[r],t);De.arr(s)&&(s=s.map(function(n){return ES(n,t)}),s.length===1&&(s=s[0])),i[r]=s}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function Dce(e,t){var i;return e.tweens.map(function(r){var s=Rce(r,t),n=s.value,o=De.arr(n)?n[1]:n,a=ua(o),l=WA(t.target,e.name,a,t),c=i?i.to.original:l,f=De.arr(n)?n[0]:c,d=ua(f)||ua(l),p=a||d;return De.und(o)&&(o=c),s.from=aC(f,p),s.to=aC(YA(o,f),p),s.start=i?i.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=VA(s.easing,s.duration),s.isPath=De.pth(n),s.isPathTargetInsideSVG=s.isPath&&De.svg(t.target),s.isColor=De.col(s.from.original),s.isColor&&(s.round=1),i=s,s})}var kD={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,r,s){if(r.list.set(t,i),t===r.last||s){var n="";r.list.forEach(function(o,a){n+=a+"("+o+") "}),e.style.transform=n}}};function RD(e,t){var i=ND(e);i.forEach(function(r){for(var s in t){var n=ES(t[s],r),o=r.target,a=ua(n),l=WA(o,s,a,r),c=a||ua(l),f=YA(CD(n,c),l),d=HA(o,s);kD[d](o,s,f,r.transforms,!0)}})}function Fce(e,t){var i=HA(e.target,t.name);if(i){var r=Dce(t,e),s=r[r.length-1];return{type:i,property:t.name,animatable:e,tweens:r,duration:s.end,delay:r[0].delay,endDelay:s.endDelay}}}function Uce(e,t){return Lb(Nb(e.map(function(i){return t.map(function(r){return Fce(i,r)})})),function(i){return!De.und(i)})}function DD(e,t){var i=e.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=i?Math.max.apply(Math,e.map(function(n){return r(n)+n.duration})):t.duration,s.delay=i?Math.min.apply(Math,e.map(function(n){return r(n)+n.delay})):t.delay,s.endDelay=i?s.duration-Math.max.apply(Math,e.map(function(n){return r(n)+n.duration-n.endDelay})):t.endDelay,s}var lC=0;function jce(e){var t=SS(SD,e),i=SS(BA,e),r=kce(i,e),s=ND(e.targets),n=Uce(s,r),o=DD(n,i),a=lC;return lC++,kb(t,{id:a,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var mn=[],FD=function(){var e;function t(){!e&&(!cC()||!oi.suspendWhenDocumentHidden)&&mn.length>0&&(e=requestAnimationFrame(i))}function i(s){for(var n=mn.length,o=0;o<n;){var a=mn[o];a.paused?(mn.splice(o,1),n--):(a.tick(s),o++)}e=o>0?requestAnimationFrame(i):void 0}function r(){oi.suspendWhenDocumentHidden&&(cC()?e=cancelAnimationFrame(e):(mn.forEach(function(s){return s._onDocumentVisibility()}),FD()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function cC(){return!!document&&document.hidden}function oi(e){e===void 0&&(e={});var t=0,i=0,r=0,s,n=0,o=null;function a(T){var w=window.Promise&&new Promise(function(_){return o=_});return T.finished=w,w}var l=jce(e);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(w){return w.reversed=l.reversed})}function f(T){return l.reversed?l.duration-T:T}function d(){t=0,i=f(l.currentTime)*(1/oi.speed)}function p(T,w){w&&w.seek(T-w.timelineOffset)}function y(T){if(l.reversePlayback)for(var _=n;_--;)p(T,s[_]);else for(var w=0;w<n;w++)p(T,s[w])}function v(T){for(var w=0,_=l.animations,M=_.length;w<M;){var $=_[w],I=$.animatable,L=$.tweens,P=L.length-1,F=L[P];P&&(F=Lb(L,function(at){return T<at.end})[0]||F);for(var z=uo(T-F.start-F.delay,0,F.duration)/F.duration,U=isNaN(z)?1:F.easing(z),B=F.to.strings,Z=F.round,u=[],m=F.to.numbers.length,x=void 0,C=0;C<m;C++){var V=void 0,Y=F.to.numbers[C],de=F.from.numbers[C]||0;F.isPath?V=Pce(F.value,U*Y,F.isPathTargetInsideSVG):V=de+U*(Y-de),Z&&(F.isColor&&C>2||(V=Math.round(V*Z)/Z)),u.push(V)}var oe=B.length;if(!oe)x=u[0];else{x=B[0];for(var Me=0;Me<oe;Me++){B[Me];var je=B[Me+1],ze=u[Me];isNaN(ze)||(je?x+=ze+je:x+=ze+" ")}}kD[$.type](I.target,$.property,x,I.transforms),$.currentValue=x,w++}}function b(T){l[T]&&!l.passThrough&&l[T](l)}function E(){l.remaining&&l.remaining!==!0&&l.remaining--}function S(T){var w=l.duration,_=l.delay,M=w-l.endDelay,$=f(T);l.progress=uo($/w*100,0,100),l.reversePlayback=$<l.currentTime,s&&y($),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),$<=_&&l.currentTime!==0&&v(0),($>=M&&l.currentTime!==w||!w)&&v(w),$>_&&$<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),v($)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=uo($,0,w),l.began&&b("update"),T>=w&&(i=0,E(),l.remaining?(t=r,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var w=n;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,w){return RD(T,w),l},l.tick=function(T){r=T,t||(t=r),S((r+(i-t))*oi.speed)},l.seek=function(T){S(f(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,mn.push(l),d(),FD())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var w=ZA(T);UD(w,l)},l.reset(),l.autoplay&&l.play(),l}function uC(e,t){for(var i=t.length;i--;)GA(e,t[i].animatable.target)&&t.splice(i,1)}function UD(e,t){var i=t.animations,r=t.children;uC(e,i);for(var s=r.length;s--;){var n=r[s],o=n.animations;uC(e,o),!o.length&&!n.children.length&&r.splice(s,1)}!i.length&&!r.length&&t.pause()}function Bce(e){for(var t=ZA(e),i=mn.length;i--;){var r=mn[i];UD(t,r)}}function Vce(e,t){t===void 0&&(t={});var i=t.direction||"normal",r=t.easing?VA(t.easing):null,s=t.grid,n=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",f=De.arr(e),d=parseFloat(f?e[0]:e),p=f?parseFloat(e[1]):0,y=ua(f?e[1]:e)||0,v=t.start||0+(f?d:0),b=[],E=0;return function(S,T,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!b.length){for(var _=0;_<w;_++){if(!s)b.push(Math.abs(o-_));else{var M=l?(s[0]-1)/2:o%s[0],$=l?(s[1]-1)/2:Math.floor(o/s[0]),I=_%s[0],L=Math.floor(_/s[0]),P=M-I,F=$-L,z=Math.sqrt(P*P+F*F);n==="x"&&(z=-P),n==="y"&&(z=-F),b.push(z)}E=Math.max.apply(Math,b)}r&&(b=b.map(function(B){return r(B/E)*E})),i==="reverse"&&(b=b.map(function(B){return n?B<0?B*-1:-B:Math.abs(E-B)}))}var U=f?(p-d)/E:d;return v+U*(Math.round(b[T]*100)/100)+y}}function Gce(e){e===void 0&&(e={});var t=oi(e);return t.duration=0,t.add=function(i,r){var s=mn.indexOf(t),n=t.children;s>-1&&mn.splice(s,1);function o(p){p.passThrough=!0}for(var a=0;a<n.length;a++)o(n[a]);var l=kb(i,SS(BA,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=De.und(r)?c:YA(r,c),o(t),t.seek(l.timelineOffset);var f=oi(l);o(f),n.push(f);var d=DD(n,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}oi.version="3.2.1";oi.speed=1;oi.suspendWhenDocumentHidden=!0;oi.running=mn;oi.remove=Bce;oi.get=WA;oi.set=RD;oi.convertPx=qA;oi.path=Ice;oi.setDashoffset=Oce;oi.stagger=Vce;oi.timeline=Gce;oi.easing=VA;oi.penner=TD;oi.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const zce={xs:200,sm:576,md:768,lg:960};class jD{resizeObserver;constructor(t){this.resizeObserver=new ResizeObserver(i=>{i.length&&window.requestAnimationFrame(()=>{i.forEach(r=>{const s=r.target.dataset.breakpoints,n=s?JSON.parse(s):t??zce;Object.keys(n).forEach(o=>{const a=n[o];r.contentRect.width>=a?r.target.classList.add(o):r.target.classList.remove(o)})})})})}observe(t){this.resizeObserver?.observe(t)}}const qce=["data-cy"],BD=rt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=X(null),i=e,r=X(!1);hr(()=>{i.panel.teleport&&new jD({xs:0,sm:461,...i.panel.teleport.breakpoints}).observe(t.value)});const s=(l,c,f)=>{if(r.value)return c();oi({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},n=(l,c)=>{s(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(r.value=i.panel.isScreenLoaded(i.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{s(l,c,[0,1])};return(l,c)=>{const f=Tt("focus-container");return fe(),xe("div",{class:mi(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:kl(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Ke(bb,{onBeforeLeave:o,onLeave:a,onEnter:n},{default:Mi(()=>[At((fe(),Bt(G3(e.panel.route.screen),vb({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[f]])]),_:1})],14,qce)}}}),fu=ai("panel",()=>{const e=X(void 0),t=X(void 0),i=X(0),r=X(0),s=X(!1),n=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),f=X([]),d=X(1),p=tt(()=>r.value);function y(B){return B==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function v(B){const Z=[];return B.forEach(u=>{u in a.value&&Z.push(a.value[u].getPromise())}),Z}function b(B){L(B),$(),t.value=void 0}function E(B){P(B),$()}function S(B,Z){F(B,Z),$()}function T(B){z(B),$()}function w(B){d.value=B}function _(B){i.value=B,$()}function M(B){s.value=B}function $(){let B=i.value;const Z=[],u=350,m=12,x=600;for(let C=l.value.length-1;C>=0;C--){const V=l.value[C];let Y=V.width||u;if(s.value?Y=B:Y+=m,V.id==="grid"&&(Y=Math.max(Math.min(Y,B),x)),(B>=Y&&!s.value||Z.length===0)&&(B-=Y,Z.unshift(V)),V.id==="grid"&&B<x)break}if(e.value&&!Z.includes(e.value)&&!s.value){let C;for(let oe=0;oe<Z.length-1&&B<(e.value.width||u)+m;oe++)C=Z.shift(),B+=C.width||u;B>=(e.value.width||u)?Z.unshift(e.value):t.value||(C=Z.shift(),Z.unshift(e.value));const V=l.value.indexOf(e.value),Y=l.value.indexOf(C),de=l.value.slice();Y>-1&&(de.splice(V,1),de.splice(Y,0,e.value)),l.value=de}r.value=B,f.value=Z}function I(B){if(o.value={...o.value,[B.id]:B},B.id in a.value)a.value[B.id].resolveMe(B);else{const Z=new Ei;Z.resolveMe(B),a.value={...a.value,[B.id]:Z}}}function L(B){B.teleport?c.value=[...c.value,B]:(l.value=[...l.value,B],t.value=B)}function P(B){if(B.teleport){const Z=c.value.indexOf(B);Z!==-1&&(c.value=[...c.value.slice(0,Z),...c.value.slice(Z+1)])}else{const Z=l.value.indexOf(B);Z!==-1&&(l.value=[...l.value.slice(0,Z),...l.value.slice(Z+1)])}}function F(B,Z){const u=l.value.indexOf(B),m=Z==="right"?1:-1;f.value.includes(l.value[u+m])&&([l.value[u],l.value[u+m]]=[l.value[u+m],l.value[u]])}function z(B){o.value[B.id]!==void 0&&delete o.value[B.id],a.value[B.id]!==void 0&&delete a.value[B.id];const Z=f.value.indexOf(B);Z!==-1&&(f.value=[...f.value.slice(0,Z),...f.value.slice(Z+1)]),e.value&&e.value.id==B.id&&(e.value=void 0)}function U(B){a.value={...a.value,[B]:new Ei}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:f,opacity:d,stackWidth:i,remWidth:r,mobileView:s,reorderable:n,teleported:c,getRemainingWidth:p,getVisible:y,getRegPromises:v,openPanel:b,closePanel:E,movePanel:S,removePanel:T,setOpacity:w,setStackWidth:_,setMobileView:M,updateVisible:$,registerPanel:I,addRegPromise:U}}),Hce=rt({__name:"panel-stack",setup(e){aA(f=>({"31ce558a":s.value}));const t=fu(),i=ki("iApi"),r=X(),s=tt(()=>t.opacity),n=tt(()=>t.mobileView);hr(()=>{new ResizeObserver(d=>{const p=!(i?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");n.value!==p&&(t.mobileView=p,i?.event.emit(Ce.RAMP_MOBILEVIEW_CHANGE,p)),t.setStackWidth(d[0].contentRect.width)}).observe(r.value?.$el)});const o=f=>t.getVisible(f),a=(f,d)=>{c(f,d,[[6,0],[0,1]])},l=(f,d)=>{const[p,y]=[f.children[0].getBoundingClientRect(),f.parentElement.getBoundingClientRect()];f.style.width=`${p.width}px`,f.style.height=`${p.height}px`,f.style.left=`${p.left-y.left}px`,f.style.position="absolute",c(f,d,[[0,-6],[1,0]])},c=(f,d,p)=>{oi({targets:f,duration:300,translateY:{value:p[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:p[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(f,d)=>(fe(),Bt(wb,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:r,class:"panel-container"},{default:Mi(()=>[(fe(!0),xe(It,null,Ul(o($e(i).screenSize),p=>(fe(),Bt(BD,{key:`${p.id}`,panel:p},null,8,["panel"]))),128))]),_:1},512))}}),va=(e,t)=>{const i=e.__vccOpts||e;for(const[r,s]of t)i[r]=s;return i},Wce=va(Hce,[["__scopeId","data-v-ac19e951"]]);var ls="top",Zs="bottom",Ks="right",cs="left",KA="auto",w0=[ls,Zs,Ks,cs],xf="start",Im="end",Yce="clippingParents",VD="viewport",bd="popper",Jce="reference",hC=w0.reduce(function(e,t){return e.concat([t+"-"+xf,t+"-"+Im])},[]),GD=[].concat(w0,[KA]).reduce(function(e,t){return e.concat([t,t+"-"+xf,t+"-"+Im])},[]),Zce="beforeRead",Kce="read",Xce="afterRead",Qce="beforeMain",eue="main",tue="afterMain",iue="beforeWrite",rue="write",sue="afterWrite",nue=[Zce,Kce,Xce,Qce,eue,tue,iue,rue,sue];function To(e){return e?(e.nodeName||"").toLowerCase():null}function As(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function du(e){var t=As(e).Element;return e instanceof t||e instanceof Element}function Ws(e){var t=As(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function XA(e){if(typeof ShadowRoot>"u")return!1;var t=As(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function oue(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!Ws(n)||!To(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function aue(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ws(s)||!To(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}const lue={name:"applyStyles",enabled:!0,phase:"write",fn:oue,effect:aue,requires:["computeStyles"]};function go(e){return e.split("-")[0]}var zc=Math.max,Yv=Math.min,Sf=Math.round;function AS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function zD(){return!/^((?!chrome|android).)*safari/i.test(AS())}function Ef(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=e.getBoundingClientRect(),s=1,n=1;t&&Ws(e)&&(s=e.offsetWidth>0&&Sf(r.width)/e.offsetWidth||1,n=e.offsetHeight>0&&Sf(r.height)/e.offsetHeight||1);var o=du(e)?As(e):window,a=o.visualViewport,l=!zD()&&i,c=(r.left+(l&&a?a.offsetLeft:0))/s,f=(r.top+(l&&a?a.offsetTop:0))/n,d=r.width/s,p=r.height/n;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function QA(e){var t=Ef(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function qD(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&XA(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function pa(e){return As(e).getComputedStyle(e)}function cue(e){return["table","td","th"].indexOf(To(e))>=0}function Gl(e){return((du(e)?e.ownerDocument:e.document)||window.document).documentElement}function Rb(e){return To(e)==="html"?e:e.assignedSlot||e.parentNode||(XA(e)?e.host:null)||Gl(e)}function fC(e){return!Ws(e)||pa(e).position==="fixed"?null:e.offsetParent}function uue(e){var t=/firefox/i.test(AS()),i=/Trident/i.test(AS());if(i&&Ws(e)){var r=pa(e);if(r.position==="fixed")return null}var s=Rb(e);for(XA(s)&&(s=s.host);Ws(s)&&["html","body"].indexOf(To(s))<0;){var n=pa(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function x0(e){for(var t=As(e),i=fC(e);i&&cue(i)&&pa(i).position==="static";)i=fC(i);return i&&(To(i)==="html"||To(i)==="body"&&pa(i).position==="static")?t:i||uue(e)||t}function eT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Cp(e,t,i){return zc(e,Yv(t,i))}function hue(e,t,i){var r=Cp(e,t,i);return r>i?i:r}function HD(){return{top:0,right:0,bottom:0,left:0}}function WD(e){return Object.assign({},HD(),e)}function YD(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var fue=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,WD(typeof t!="number"?t:YD(t,w0))};function due(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=go(i.placement),l=eT(a),c=[cs,Ks].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=fue(s.padding,i),p=QA(n),y=l==="y"?ls:cs,v=l==="y"?Zs:Ks,b=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],S=x0(n),T=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=b/2-E/2,_=d[y],M=T-p[f]-d[v],$=T/2-p[f]/2+w,I=Cp(_,$,M),L=l;i.modifiersData[r]=(t={},t[L]=I,t.centerOffset=I-$,t)}}function pue(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||qD(t.elements.popper,s)&&(t.elements.arrow=s))}const mue={name:"arrow",enabled:!0,phase:"main",fn:due,effect:pue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Af(e){return e.split("-")[1]}var yue={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gue(e,t){var i=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Sf(i*s)/s||0,y:Sf(r*s)/s||0}}function dC(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,b=v===void 0?0:v,E=typeof f=="function"?f({x:y,y:b}):{x:y,y:b};y=E.x,b=E.y;var S=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=cs,_=ls,M=window;if(c){var $=x0(i),I="clientHeight",L="clientWidth";if($===As(i)&&($=Gl(i),pa($).position!=="static"&&a==="absolute"&&(I="scrollHeight",L="scrollWidth")),$=$,s===ls||(s===cs||s===Ks)&&n===Im){_=Zs;var P=d&&$===M&&M.visualViewport?M.visualViewport.height:$[I];b-=P-r.height,b*=l?1:-1}if(s===cs||(s===ls||s===Zs)&&n===Im){w=Ks;var F=d&&$===M&&M.visualViewport?M.visualViewport.width:$[L];y-=F-r.width,y*=l?1:-1}}var z=Object.assign({position:a},c&&yue),U=f===!0?gue({x:y,y:b},As(i)):{x:y,y:b};if(y=U.x,b=U.y,l){var B;return Object.assign({},z,(B={},B[_]=T?"0":"",B[w]=S?"0":"",B.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",B))}return Object.assign({},z,(t={},t[_]=T?b+"px":"",t[w]=S?y+"px":"",t.transform="",t))}function vue(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:go(t.placement),variation:Af(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,dC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,dC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const bue={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vue,data:{}};var gy={passive:!0};function _ue(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=As(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,gy)}),a&&l.addEventListener("resize",i.update,gy),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,gy)}),a&&l.removeEventListener("resize",i.update,gy)}}const wue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_ue,data:{}};var xue={left:"right",right:"left",bottom:"top",top:"bottom"};function Ag(e){return e.replace(/left|right|bottom|top/g,function(t){return xue[t]})}var Sue={start:"end",end:"start"};function pC(e){return e.replace(/start|end/g,function(t){return Sue[t]})}function tT(e){var t=As(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function iT(e){return Ef(Gl(e)).left+tT(e).scrollLeft}function Eue(e,t){var i=As(e),r=Gl(e),s=i.visualViewport,n=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;var c=zD();(c||!c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a+iT(e),y:l}}function Aue(e){var t,i=Gl(e),r=tT(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=zc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=zc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+iT(e),l=-r.scrollTop;return pa(s||i).direction==="rtl"&&(a+=zc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function rT(e){var t=pa(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function JD(e){return["html","body","#document"].indexOf(To(e))>=0?e.ownerDocument.body:Ws(e)&&rT(e)?e:JD(Rb(e))}function Ip(e,t){var i;t===void 0&&(t=[]);var r=JD(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=As(r),o=s?[n].concat(n.visualViewport||[],rT(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(Ip(Rb(o)))}function TS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Tue(e,t){var i=Ef(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function mC(e,t,i){return t===VD?TS(Eue(e,i)):du(t)?Tue(t,i):TS(Aue(Gl(e)))}function Mue(e){var t=Ip(Rb(e)),i=["absolute","fixed"].indexOf(pa(e).position)>=0,r=i&&Ws(e)?x0(e):e;return du(r)?t.filter(function(s){return du(s)&&qD(s,r)&&To(s)!=="body"}):[]}function $ue(e,t,i,r){var s=t==="clippingParents"?Mue(e):[].concat(t),n=[].concat(s,[i]),o=n[0],a=n.reduce(function(l,c){var f=mC(e,c,r);return l.top=zc(f.top,l.top),l.right=Yv(f.right,l.right),l.bottom=Yv(f.bottom,l.bottom),l.left=zc(f.left,l.left),l},mC(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ZD(e){var t=e.reference,i=e.element,r=e.placement,s=r?go(r):null,n=r?Af(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case ls:l={x:o,y:t.y-i.height};break;case Zs:l={x:o,y:t.y+t.height};break;case Ks:l={x:t.x+t.width,y:a};break;case cs:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?eT(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case xf:l[c]=l[c]-(t[f]/2-i[f]/2);break;case Im:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function Tf(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.strategy,o=n===void 0?e.strategy:n,a=i.boundary,l=a===void 0?Yce:a,c=i.rootBoundary,f=c===void 0?VD:c,d=i.elementContext,p=d===void 0?bd:d,y=i.altBoundary,v=y===void 0?!1:y,b=i.padding,E=b===void 0?0:b,S=WD(typeof E!="number"?E:YD(E,w0)),T=p===bd?Jce:bd,w=e.rects.popper,_=e.elements[v?T:p],M=$ue(du(_)?_:_.contextElement||Gl(e.elements.popper),l,f,o),$=Ef(e.elements.reference),I=ZD({reference:$,element:w,strategy:"absolute",placement:s}),L=TS(Object.assign({},w,I)),P=p===bd?L:$,F={top:M.top-P.top+S.top,bottom:P.bottom-M.bottom+S.bottom,left:M.left-P.left+S.left,right:P.right-M.right+S.right},z=e.modifiersData.offset;if(p===bd&&z){var U=z[s];Object.keys(F).forEach(function(B){var Z=[Ks,Zs].indexOf(B)>=0?1:-1,u=[ls,Zs].indexOf(B)>=0?"y":"x";F[B]+=U[u]*Z})}return F}function Oue(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?GD:l,f=Af(r),d=f?a?hC:hC.filter(function(v){return Af(v)===f}):w0,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=Tf(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[go(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Cue(e){if(go(e)===KA)return[];var t=Ag(e);return[pC(e),t,pC(t)]}function Iue(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,b=i.allowedAutoPlacements,E=t.options.placement,S=go(E),T=S===E,w=l||(T||!v?[Ag(E)]:Cue(E)),_=[E].concat(w).reduce(function(je,ze){return je.concat(go(ze)===KA?Oue(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),M=t.rects.reference,$=t.rects.popper,I=new Map,L=!0,P=_[0],F=0;F<_.length;F++){var z=_[F],U=go(z),B=Af(z)===xf,Z=[ls,Zs].indexOf(U)>=0,u=Z?"width":"height",m=Tf(t,{placement:z,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=Z?B?Ks:cs:B?Zs:ls;M[u]>$[u]&&(x=Ag(x));var C=Ag(x),V=[];if(n&&V.push(m[U]<=0),a&&V.push(m[x]<=0,m[C]<=0),V.every(function(je){return je})){P=z,L=!1;break}I.set(z,V)}if(L)for(var Y=v?3:1,de=function(ze){var at=_.find(function(Gt){var Mt=I.get(Gt);if(Mt)return Mt.slice(0,ze).every(function(yi){return yi})});if(at)return P=at,"break"},oe=Y;oe>0;oe--){var Me=de(oe);if(Me==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}const Pue={name:"flip",enabled:!0,phase:"main",fn:Iue,requiresIfExists:["offset"],data:{_skip:!1}};function yC(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function gC(e){return[ls,Ks,Zs,cs].some(function(t){return e[t]>=0})}function Lue(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=Tf(t,{elementContext:"reference"}),a=Tf(t,{altBoundary:!0}),l=yC(o,r),c=yC(a,s,n),f=gC(l),d=gC(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const Nue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Lue};function kue(e,t,i){var r=go(e),s=[cs,ls].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[cs,Ks].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Rue(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=GD.reduce(function(f,d){return f[d]=kue(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const Due={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Rue};function Fue(e){var t=e.state,i=e.name;t.modifiersData[i]=ZD({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Uue={name:"popperOffsets",enabled:!0,phase:"read",fn:Fue,data:{}};function jue(e){return e==="x"?"y":"x"}function Bue(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,b=v===void 0?0:v,E=Tf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),S=go(t.placement),T=Af(t.placement),w=!T,_=eT(S),M=jue(_),$=t.modifiersData.popperOffsets,I=t.rects.reference,L=t.rects.popper,P=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,F=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if($){if(n){var B,Z=_==="y"?ls:cs,u=_==="y"?Zs:Ks,m=_==="y"?"height":"width",x=$[_],C=x+E[Z],V=x-E[u],Y=y?-L[m]/2:0,de=T===xf?I[m]:L[m],oe=T===xf?-L[m]:-I[m],Me=t.elements.arrow,je=y&&Me?QA(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:HD(),at=ze[Z],Gt=ze[u],Mt=Cp(0,I[m],je[m]),yi=w?I[m]/2-Y-Mt-at-F.mainAxis:de-Mt-at-F.mainAxis,Rt=w?-I[m]/2+Y+Mt+Gt+F.mainAxis:oe+Mt+Gt+F.mainAxis,si=t.elements.arrow&&x0(t.elements.arrow),Xi=si?_==="y"?si.clientTop||0:si.clientLeft||0:0,j=(B=z?.[_])!=null?B:0,D=x+yi-j-Xi,W=x+Rt-j,ae=Cp(y?Yv(C,D):C,x,y?zc(V,W):V);$[_]=ae,U[_]=ae-x}if(a){var ee,ce=_==="x"?ls:cs,ye=_==="x"?Zs:Ks,N=$[M],k=M==="y"?"height":"width",G=N+E[ce],te=N-E[ye],se=[ls,cs].indexOf(S)!==-1,ne=(ee=z?.[M])!=null?ee:0,H=se?G:N-I[k]-L[k]-ne+F.altAxis,K=se?N+I[k]+L[k]-ne-F.altAxis:te,Ae=y&&se?hue(H,N,K):Cp(y?H:G,N,y?K:te);$[M]=Ae,U[M]=Ae-N}t.modifiersData[r]=U}}const Vue={name:"preventOverflow",enabled:!0,phase:"main",fn:Bue,requiresIfExists:["offset"]};function Gue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function zue(e){return e===As(e)||!Ws(e)?tT(e):Gue(e)}function que(e){var t=e.getBoundingClientRect(),i=Sf(t.width)/e.offsetWidth||1,r=Sf(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Hue(e,t,i){i===void 0&&(i=!1);var r=Ws(t),s=Ws(t)&&que(t),n=Gl(t),o=Ef(e,s,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((To(t)!=="body"||rT(n))&&(a=zue(t)),Ws(t)?(l=Ef(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=iT(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Wue(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function Yue(e){var t=Wue(e);return nue.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function Jue(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function Zue(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var vC={placement:"bottom",modifiers:[],strategy:"absolute"};function bC(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Kue(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?vC:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},vC,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(S){var T=typeof S=="function"?S(f.options):S;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:du(a)?Ip(a):a.contextElement?Ip(a.contextElement):[],popper:Ip(l)};var w=Yue(Zue([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var S=f.elements,T=S.reference,w=S.popper;if(bC(T,w)){f.rects={reference:Hue(T,x0(w),f.options.strategy==="fixed"),popper:QA(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],$=M.fn,I=M.options,L=I===void 0?{}:I,P=M.name;typeof $=="function"&&(f=$({state:f,options:L,name:P,instance:y})||f)}}}},update:Jue(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){b(),p=!0}};if(!bC(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var S=E.name,T=E.options,w=T===void 0?{}:T,_=E.effect;if(typeof _=="function"){var M=_({state:f,name:S,instance:y,options:w}),$=function(){};d.push(M||$)}})}function b(){d.forEach(function(E){return E()}),d=[]}return y}}var Xue=[wue,Uue,bue,lue,Due,Pue,Vue,mue,Nue],Que=Kue({defaultModifiers:Xue});const ehe=["content","aria-label"],sT=rt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=X(!1),i=X(null),r=rr([]),s=X(),n=X(),o=X(),a=e;r.push(Ji(t,()=>{i.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return hr(()=>{window.addEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),Rn(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=Tf(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&n.value&&(i.value=Que(o.value,n.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Dn(()=>{r.forEach(d=>d()),window.removeEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),t.value=!1}),(d,p)=>{const y=Tt("tippy");return fe(),xe("div",{ref_key:"el",ref:s},[At((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[gn(d.$slots,"header")],8,ehe)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,trigger:"manual"}]]),At(ue("div",{onClick:p[0]||(p[0]=v=>i.value.update()),class:mi(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:n},[gn(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[_b,t.value]])],512)}}}),vo=ai("notification",()=>{const e=X([]),t=X({}),i=tt(()=>e.value.length>=99?99:e.value.length);function r(c){e.value=[c,...e.value]}function s(c){if(e.value.includes(c)){const f=e.value.indexOf(c);c instanceof KD&&l(c),f>-1&&e.value.splice(f,1)}}function n(c){t.value[c.id]=c}function o(c,f){t.value[c]&&(t.value[c].messageList.push(f),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const f=e.value.indexOf(c);f>-1&&e.value.splice(f,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:i,showNotification:r,removeNotification:s,registerGroup:n,addToGroup:o,clearAll:a}}),the={class:"h-full flex flex-col"},ihe={class:"w-full flex mb-6"},rhe=["content","aria-label"],she=rt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=vo(),{t:i}=ri(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=wi("panel-screen"),l=Tt("tippy");return fe(),Bt(a,{panel:e.panel},{header:Mi(()=>[yo(jt($e(i)("notifications.title")),1)]),content:Mi(()=>[ue("div",the,[ue("div",ihe,[At((fe(),xe("button",{type:"button",onClick:s,class:mi(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(i)("notifications.controls.clearAll"),"aria-label":$e(i)("notifications.controls.clearAll")},o[0]||(o[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,rhe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ke(XD,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var Ss=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(Ss||{});class nhe extends $i{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":pi(she)},alertName:"notifications.title"}}),this.notificationStore=vo(this.$vApp.$pinia)}show(t,i){this.notificationStore.showNotification({type:t,message:i})}addGroup(t,i,r){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const s=new KD(this.$iApi,t,i,r);return this.notificationStore.registerGroup(s),s}getGroup(t){return this.notificationStore.groups[t]}}class KD extends $i{notificationStore=vo(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,i,r,s){super(t),this.id=i,this.type=r,this.message=s}show(t){this.notificationStore.addToGroup(this.id,t)}}const ohe=["content"],ahe={class:"flex items-center text-left"},lhe={class:"select-text cursor-text"},che=["content"],uhe={key:0,class:"text-left"},hhe=rt({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=vo(),{t:i}=ri(),r=e,s=X(!1),n=rr({[Ss.WARNING]:"âš ",[Ss.INFO]:"â„¹ï¸",[Ss.ERROR]:"âŒ"}),o=l=>{t.removeNotification(l)},a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const f=Tt("tippy");return At((fe(),xe("li",{class:mi(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:$e(i)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[ue("div",ahe,[ue("span",null,[yo(jt(n[e.notification.type])+" ",1),ue("span",lhe,jt(e.notification.message),1)]),c[4]||(c[4]=ue("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(fe(),xe("div",{key:0,class:mi(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ue("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Ht("",!0),At((fe(),xe("button",{type:"button",onClick:c[0]||(c[0]=g0(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:$e(i)("notifications.controls.dismiss")},c[3]||(c[3]=[ue("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ue("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,che)),[[f,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&s.value?(fe(),xe("div",uhe,[(fe(!0),xe(It,null,Ul(e.notification.messageList,(d,p)=>(fe(),xe("p",{key:e.notification.id+d+p},jt(d),1))),128))])):Ht("",!0)],10,ohe)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),fhe=["content"],dhe={key:0,class:"w-full border-b border-black"},phe={key:1,class:"flex flex-col items-center h-full"},XD=rt({__name:"notification-list",setup(e){const t=vo(),{t:i}=ri(),r=X(),s=()=>{r.value._tippy.hide()},n=a=>{a.key==="Tab"&&r.value?.matches(":focus")&&r.value._tippy.show()};hr(()=>{r.value?.addEventListener("blur",s),r.value?.addEventListener("keyup",n)}),Dn(()=>{r.value?.removeEventListener("blur",s),r.value?.removeEventListener("keyup",n)});const o=tt(()=>t.notificationStack);return(a,l)=>{const c=Tt("focus-item"),f=Tt("focus-list"),d=Tt("tippy");return fe(),xe("div",null,[o.value.length>0?At((fe(),xe("ul",{key:0,content:$e(i)("panels.controls.items"),ref_key:"el",ref:r,class:"h-full overflow-y-auto"},[(fe(!0),xe(It,null,Ul(o.value,(p,y)=>(fe(),xe(It,{key:p.message+y},[y>0?(fe(),xe("div",dhe)):Ht("",!0),At(Ke(hhe,{class:mi([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,fhe)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(fe(),xe("div",phe,[l[0]||(l[0]=ue("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ue("path",{d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ue("span",null,jt($e(i)("notifications.empty")),1),l[2]||(l[2]=ue("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),mhe={class:"flex items-center hover:text-white"},yhe=["aria-label"],ghe={key:0,class:"number rounded-full w-18 text-white"},vhe={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},bhe={class:"pb-8 border-b border-gray-600"},_he={class:"absolute flex right-3 top-3"},whe=["content","aria-label"],xhe=rt({__name:"caption-button",setup(e){const t=vo(),{t:i}=ri(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=wi("close"),l=Tt("tippy");return fe(),Bt(sT,{position:"top-start",tooltip:$e(i)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Mi(()=>[ue("div",mhe,[(fe(),xe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":$e(i)("notifications.open")},o[0]||(o[0]=[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,yhe)),r.value&&r.value>0?(fe(),xe("span",ghe,jt(r.value),1)):Ht("",!0)])]),default:Mi(c=>[ue("div",vhe,[ue("div",null,[ue("h4",bhe,jt($e(i)("notifications.title")),1),ue("div",_he,[At((fe(),xe("button",{type:"button",onClick:s,class:mi(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:$e(i)("notifications.controls.clearAll"),"aria-label":$e(i)("notifications.controls.clearAll")},o[1]||(o[1]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,whe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ke(a,{onClick:c.close},null,8,["onClick"])])]),Ke(XD,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),She=va(xhe,[["__scopeId","data-v-77b1750c"]]),Ehe={class:"flex hover:text-white"},Ahe=["aria-label"],The={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},Mhe=["aria-label","content"],$he={class:"pb-8 border-b border-gray-600 mb-10"},Ohe={class:"absolute right-5 top-5"},Che={class:"select-text"},Ihe={class:"font-bold cursor-text"},Phe={class:"text-sm cursor-text"},Lhe={class:"text-sm cursor-text"},Nhe=rt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=ri(),i=ki("iApi"),r=()=>{i.reload()},s=tt(()=>`${wd.major}.${wd.minor}.${wd.patch}`),n=tt(()=>wd.hash.slice(0,9)),o=tt(()=>{const a=new Date(wd.timestamp);if(isNaN(a))return"dev mode, no date";{const l=c=>c<10?"0"+c.toString():c.toString();return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()} ${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`}});return(a,l)=>{const c=wi("close"),f=wi("dropdown-menu"),d=Tt("tippy"),p=Tt("focus-item");return At((fe(),Bt(f,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:$e(t)("ramp.about"),tooltipPlacement:e.position},{header:Mi(()=>[ue("div",Ehe,[(fe(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":$e(t)("ramp.about.open")},l[0]||(l[0]=[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,Ahe))])]),default:Mi(y=>[ue("div",The,[ue("div",null,[At((fe(),xe("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:r,"aria-label":$e(t)("ramp.reload"),content:$e(t)("ramp.reload")},l[1]||(l[1]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,Mhe)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),ue("h4",$he,jt($e(t)("ramp.about")),1),ue("div",Ohe,[Ke(c,{onClick:y.close},null,8,["onClick"])]),ue("div",Che,[ue("div",null,[ue("span",Ihe,jt(s.value),1),ue("span",Phe," ["+jt(n.value)+"] ",1)]),ue("div",null,[ue("span",Lhe,jt(o.value),1)]),l[2]||(l[2]=ue("div",{class:"mt-5"},[ue("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),yo(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),khe=va(Nhe,[["__scopeId","data-v-b2adae3d"]]),Rhe={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Dhe={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Fhe=["href","aria-label"],Uhe=["src","alt"],jhe={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},Bhe={class:"flex min-w-fit justify-end"},Vhe={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Ghe=["aria-pressed","aria-label","content"],zhe={class:"relative top-1 text-sm sm:text-base"},qhe={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},Hhe=["onClick"],Whe={key:0,class:"sr-only"},Yhe=rt({__name:"map-caption",setup(e){const t=fl(),i=ss(),{t:r}=ri(),s=ki("iApi"),n=tt(()=>t.scale),o=tt(()=>t.attribution),a=tt(()=>t.coords),l=tt(()=>t.langtoggle),c=tt(()=>i.config.map),f=X([]),d=rr([]);d.push(Ji(c,E=>{E&&s.geo.map.caption.createCaption(c.value?.caption)})),Dn(()=>{d.forEach(E=>E())}),Qf(()=>{Rn(()=>{s.$i18n.locale.value&&f.value.length==0&&(f.value=s.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=E=>{s.$i18n.locale.value!=E&&s.setLanguage(E)},v=()=>{t.toggleScale(),s.geo.map.caption.updateScale()},b=(E=!1)=>r(E?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(E,S)=>{const T=wi("dropdown-menu"),w=Tt("truncate"),_=Tt("tippy");return fe(),xe("div",Rhe,[Ke(khe,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ke(She,{class:"sm:block display-none"}),p()?(fe(),xe("span",Dhe,[ue("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ue("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,Uhe)],8,Fhe)])):Ht("",!0),o.value?.text.disabled?Ht("",!0):At((fe(),xe("span",jhe,[yo(jt(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),S[0]||(S[0]=ue("span",{class:"flex-grow w-15"},null,-1)),ue("div",Bhe,[a.value?.disabled?Ht("",!0):At((fe(),xe("div",Vhe,[yo(jt(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),n.value?.disabled?Ht("",!0):At((fe(),xe("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:v,"aria-pressed":n.value?.isImperialScale,"aria-label":`
                    ${n.value?.label} - ${b(n.value?.isImperialScale)}
                `,content:b(n.value?.isImperialScale)},[ue("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:kl({width:n.value?.width})},null,4),ue("span",zhe,jt(n.value?.label),1)],8,Ghe)),[[_,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Ht("",!0):(fe(),Bt(T,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:$e(r)("map.changeLanguage"),ariaLabel:`${$e(r)("map.language.short")} - ${$e(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Mi(()=>[ue("span",qhe,jt($e(r)("map.language.short")),1)]),default:Mi(()=>[(fe(!0),xe(It,null,Ul(f.value,(M,$)=>(fe(),xe("a",{key:`${M}-${$}`,class:mi(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":M===$e(s).$i18n.locale.value}]),href:"javascript:;",onClick:I=>y(M)},[yo(jt($e(r)("map.language."+M))+" ",1),M===$e(s).$i18n.locale.value?(fe(),xe("span",Whe,jt($e(r)("map.language.curr")),1)):Ht("",!0)],10,Hhe))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Jhe=["content","aria-label"],Zhe={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},Khe=rt({__name:"floating-button",setup(e){const t=vo(),i=ki("iApi"),{t:r}=ri(),s=tt(()=>t.notificationNumber);return(n,o)=>{const a=Tt("tippy");return At((fe(),xe("button",{type:"button",onClick:o[0]||(o[0]=l=>$e(i).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:$e(r)("notifications.title"),"aria-label":$e(r)("notifications.title")},[o[1]||(o[1]=ue("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),s.value&&s.value>0?(fe(),xe("span",Zhe,jt(s.value),1)):Ht("",!0)],8,Jhe)),[[a]])}}}),Xhe=va(Khe,[["__scopeId","data-v-db7ed22c"]]),Qhe={class:"flex items-center mb-20"},efe={class:"text-xl"},tfe=rt({__name:"keyboard-instructions",setup(e){const t=ki("iApi"),{t:i}=ri(),r=X(!1),s=X(["app","lists","map"]),n=X([]),o=X(null),a=X(null);hr(()=>{n.value.push(t.event.on("openKeyboardInstructions",()=>{r.value=!0,Rn(()=>{o.value.focus()})}))}),Dn(()=>{n.value.forEach(c=>t?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),r.value=!1)};return(c,f)=>{const d=wi("close");return r.value?(fe(),xe("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>r.value=!1),onKeydown:l},[ue("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:f[2]||(f[2]=g0(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ue("div",Qhe,[ue("h2",efe,jt($e(i)("keyboardInstructions.title")),1),Ke(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>r.value=!1)})]),(fe(!0),xe(It,null,Ul(s.value,p=>(fe(),xe("p",{class:"whitespace-pre-line pb-10",key:p},jt($e(i)(`keyboardInstructions.${p}`)),1))),128)),ue("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>r.value=!1),ref_key:"lastEl",ref:a},jt($e(i)("keyboardInstructions.OK")),513)],512)],32)):Ht("",!0)}}}),ch=ai("instance",()=>({started:X(!1)})),ife={class:"h-full relative"},rfe={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},sfe={class:"absolute top-8 w-full flex justify-center"},nfe={key:1,class:"w-full h-full"},ofe=rt({__name:"shell",setup(e){const t=ki("iApi"),i=ch(),r=Fs(),s=fu(),{t:n}=ri(),o=tt(()=>r.items.appbar),a=()=>{t?.event.emit("openKeyboardInstructions")},l=()=>s.teleported;return(c,f)=>(fe(),xe("div",ife,[ue("div",rfe,[f[0]||(f[0]=ue("div",{class:"sr-only screen-reader-alert"},null,-1)),ue("div",sfe,[ue("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},jt($e(n)("keyboardInstructions.open")),1)]),Ke(tfe),Ke(Wce,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Ht("",!0):(fe(),Bt(Xhe,{key:0})),Ke(Yhe,{class:"z-30"})]),$e(i).started?(fe(),Bt(mce,{key:0})):(fe(),xe("div",nfe,f[1]||(f[1]=[ue("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(fe(!0),xe(It,null,Ul(l(),d=>(fe(),Bt(P3,{to:d.teleport?.target,key:d.id},[(fe(),Bt(BD,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),afe=va(ofe,[["__scopeId","data-v-2c534eed"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var us="top",Xs="bottom",Qs="right",hs="left",nT="auto",S0=[us,Xs,Qs,hs],Mf="start",Pm="end",lfe="clippingParents",QD="viewport",_d="popper",cfe="reference",_C=S0.reduce(function(e,t){return e.concat([t+"-"+Mf,t+"-"+Pm])},[]),e7=[].concat(S0,[nT]).reduce(function(e,t){return e.concat([t,t+"-"+Mf,t+"-"+Pm])},[]),ufe="beforeRead",hfe="read",ffe="afterRead",dfe="beforeMain",pfe="main",mfe="afterMain",yfe="beforeWrite",gfe="write",vfe="afterWrite",bfe=[ufe,hfe,ffe,dfe,pfe,mfe,yfe,gfe,vfe];function Mo(e){return e?(e.nodeName||"").toLowerCase():null}function Fn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $f(e){var t=Fn(e).Element;return e instanceof t||e instanceof Element}function Ys(e){var t=Fn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function t7(e){if(typeof ShadowRoot>"u")return!1;var t=Fn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function _fe(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!Ys(n)||!Mo(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function wfe(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ys(s)||!Mo(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}var i7={name:"applyStyles",enabled:!0,phase:"write",fn:_fe,effect:wfe,requires:["computeStyles"]};function bo(e){return e.split("-")[0]}var qc=Math.max,Jv=Math.min,Of=Math.round;function Cf(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),r=1,s=1;if(Ys(e)&&t){var n=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Of(i.width)/o||1),n>0&&(s=Of(i.height)/n||1)}return{width:i.width/r,height:i.height/s,top:i.top/s,right:i.right/r,bottom:i.bottom/s,left:i.left/r,x:i.left/r,y:i.top/s}}function oT(e){var t=Cf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function r7(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&t7(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function $o(e){return Fn(e).getComputedStyle(e)}function xfe(e){return["table","td","th"].indexOf(Mo(e))>=0}function zl(e){return(($f(e)?e.ownerDocument:e.document)||window.document).documentElement}function Db(e){return Mo(e)==="html"?e:e.assignedSlot||e.parentNode||(t7(e)?e.host:null)||zl(e)}function wC(e){return!Ys(e)||$o(e).position==="fixed"?null:e.offsetParent}function Sfe(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&Ys(e)){var r=$o(e);if(r.position==="fixed")return null}for(var s=Db(e);Ys(s)&&["html","body"].indexOf(Mo(s))<0;){var n=$o(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function E0(e){for(var t=Fn(e),i=wC(e);i&&xfe(i)&&$o(i).position==="static";)i=wC(i);return i&&(Mo(i)==="html"||Mo(i)==="body"&&$o(i).position==="static")?t:i||Sfe(e)||t}function aT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Pp(e,t,i){return qc(e,Jv(t,i))}function Efe(e,t,i){var r=Pp(e,t,i);return r>i?i:r}function s7(){return{top:0,right:0,bottom:0,left:0}}function n7(e){return Object.assign({},s7(),e)}function o7(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var Afe=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,n7(typeof t!="number"?t:o7(t,S0))};function Tfe(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=bo(i.placement),l=aT(a),c=[hs,Qs].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=Afe(s.padding,i),p=oT(n),y=l==="y"?us:hs,v=l==="y"?Xs:Qs,b=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],S=E0(n),T=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=b/2-E/2,_=d[y],M=T-p[f]-d[v],$=T/2-p[f]/2+w,I=Pp(_,$,M),L=l;i.modifiersData[r]=(t={},t[L]=I,t.centerOffset=I-$,t)}}function Mfe(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||r7(t.elements.popper,s)&&(t.elements.arrow=s))}var $fe={name:"arrow",enabled:!0,phase:"main",fn:Tfe,effect:Mfe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function If(e){return e.split("-")[1]}var Ofe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cfe(e){var t=e.x,i=e.y,r=window,s=r.devicePixelRatio||1;return{x:Of(t*s)/s||0,y:Of(i*s)/s||0}}function xC(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=f===!0?Cfe(o):typeof f=="function"?f(o):o,y=p.x,v=y===void 0?0:y,b=p.y,E=b===void 0?0:b,S=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=hs,_=us,M=window;if(c){var $=E0(i),I="clientHeight",L="clientWidth";if($===Fn(i)&&($=zl(i),$o($).position!=="static"&&a==="absolute"&&(I="scrollHeight",L="scrollWidth")),$=$,s===us||(s===hs||s===Qs)&&n===Pm){_=Xs;var P=d&&M.visualViewport?M.visualViewport.height:$[I];E-=P-r.height,E*=l?1:-1}if(s===hs||(s===us||s===Xs)&&n===Pm){w=Qs;var F=d&&M.visualViewport?M.visualViewport.width:$[L];v-=F-r.width,v*=l?1:-1}}var z=Object.assign({position:a},c&&Ofe);if(l){var U;return Object.assign({},z,(U={},U[_]=T?"0":"",U[w]=S?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",U))}return Object.assign({},z,(t={},t[_]=T?E+"px":"",t[w]=S?v+"px":"",t.transform="",t))}function Ife(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:bo(t.placement),variation:If(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,xC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,xC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Pfe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ife,data:{}},vy={passive:!0};function Lfe(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Fn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,vy)}),a&&l.addEventListener("resize",i.update,vy),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,vy)}),a&&l.removeEventListener("resize",i.update,vy)}}var Nfe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Lfe,data:{}},kfe={left:"right",right:"left",bottom:"top",top:"bottom"};function Tg(e){return e.replace(/left|right|bottom|top/g,function(t){return kfe[t]})}var Rfe={start:"end",end:"start"};function SC(e){return e.replace(/start|end/g,function(t){return Rfe[t]})}function lT(e){var t=Fn(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function cT(e){return Cf(zl(e)).left+lT(e).scrollLeft}function Dfe(e){var t=Fn(e),i=zl(e),r=t.visualViewport,s=i.clientWidth,n=i.clientHeight,o=0,a=0;return r&&(s=r.width,n=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:s,height:n,x:o+cT(e),y:a}}function Ffe(e){var t,i=zl(e),r=lT(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=qc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=qc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+cT(e),l=-r.scrollTop;return $o(s||i).direction==="rtl"&&(a+=qc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function uT(e){var t=$o(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function a7(e){return["html","body","#document"].indexOf(Mo(e))>=0?e.ownerDocument.body:Ys(e)&&uT(e)?e:a7(Db(e))}function Lp(e,t){var i;t===void 0&&(t=[]);var r=a7(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=Fn(r),o=s?[n].concat(n.visualViewport||[],uT(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(Lp(Db(o)))}function MS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ufe(e){var t=Cf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function EC(e,t){return t===QD?MS(Dfe(e)):$f(t)?Ufe(t):MS(Ffe(zl(e)))}function jfe(e){var t=Lp(Db(e)),i=["absolute","fixed"].indexOf($o(e).position)>=0,r=i&&Ys(e)?E0(e):e;return $f(r)?t.filter(function(s){return $f(s)&&r7(s,r)&&Mo(s)!=="body"&&(i?$o(s).position!=="static":!0)}):[]}function Bfe(e,t,i){var r=t==="clippingParents"?jfe(e):[].concat(t),s=[].concat(r,[i]),n=s[0],o=s.reduce(function(a,l){var c=EC(e,l);return a.top=qc(c.top,a.top),a.right=Jv(c.right,a.right),a.bottom=Jv(c.bottom,a.bottom),a.left=qc(c.left,a.left),a},EC(e,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function l7(e){var t=e.reference,i=e.element,r=e.placement,s=r?bo(r):null,n=r?If(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case us:l={x:o,y:t.y-i.height};break;case Xs:l={x:o,y:t.y+t.height};break;case Qs:l={x:t.x+t.width,y:a};break;case hs:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?aT(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case Mf:l[c]=l[c]-(t[f]/2-i[f]/2);break;case Pm:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function Lm(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.boundary,o=n===void 0?lfe:n,a=i.rootBoundary,l=a===void 0?QD:a,c=i.elementContext,f=c===void 0?_d:c,d=i.altBoundary,p=d===void 0?!1:d,y=i.padding,v=y===void 0?0:y,b=n7(typeof v!="number"?v:o7(v,S0)),E=f===_d?cfe:_d,S=e.rects.popper,T=e.elements[p?E:f],w=Bfe($f(T)?T:T.contextElement||zl(e.elements.popper),o,l),_=Cf(e.elements.reference),M=l7({reference:_,element:S,strategy:"absolute",placement:s}),$=MS(Object.assign({},S,M)),I=f===_d?$:_,L={top:w.top-I.top+b.top,bottom:I.bottom-w.bottom+b.bottom,left:w.left-I.left+b.left,right:I.right-w.right+b.right},P=e.modifiersData.offset;if(f===_d&&P){var F=P[s];Object.keys(L).forEach(function(z){var U=[Qs,Xs].indexOf(z)>=0?1:-1,B=[us,Xs].indexOf(z)>=0?"y":"x";L[z]+=F[B]*U})}return L}function Vfe(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?e7:l,f=If(r),d=f?a?_C:_C.filter(function(v){return If(v)===f}):S0,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,b){return v[b]=Lm(e,{placement:b,boundary:s,rootBoundary:n,padding:o})[bo(b)],v},{});return Object.keys(y).sort(function(v,b){return y[v]-y[b]})}function Gfe(e){if(bo(e)===nT)return[];var t=Tg(e);return[SC(e),t,SC(t)]}function zfe(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,b=i.allowedAutoPlacements,E=t.options.placement,S=bo(E),T=S===E,w=l||(T||!v?[Tg(E)]:Gfe(E)),_=[E].concat(w).reduce(function(je,ze){return je.concat(bo(ze)===nT?Vfe(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:b}):ze)},[]),M=t.rects.reference,$=t.rects.popper,I=new Map,L=!0,P=_[0],F=0;F<_.length;F++){var z=_[F],U=bo(z),B=If(z)===Mf,Z=[us,Xs].indexOf(U)>=0,u=Z?"width":"height",m=Lm(t,{placement:z,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=Z?B?Qs:hs:B?Xs:us;M[u]>$[u]&&(x=Tg(x));var C=Tg(x),V=[];if(n&&V.push(m[U]<=0),a&&V.push(m[x]<=0,m[C]<=0),V.every(function(je){return je})){P=z,L=!1;break}I.set(z,V)}if(L)for(var Y=v?3:1,de=function(ze){var at=_.find(function(Gt){var Mt=I.get(Gt);if(Mt)return Mt.slice(0,ze).every(function(yi){return yi})});if(at)return P=at,"break"},oe=Y;oe>0;oe--){var Me=de(oe);if(Me==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}var qfe={name:"flip",enabled:!0,phase:"main",fn:zfe,requiresIfExists:["offset"],data:{_skip:!1}};function AC(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function TC(e){return[us,Qs,Xs,hs].some(function(t){return e[t]>=0})}function Hfe(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=Lm(t,{elementContext:"reference"}),a=Lm(t,{altBoundary:!0}),l=AC(o,r),c=AC(a,s,n),f=TC(l),d=TC(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var Wfe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Hfe};function Yfe(e,t,i){var r=bo(e),s=[hs,us].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[hs,Qs].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Jfe(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=e7.reduce(function(f,d){return f[d]=Yfe(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var Zfe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jfe};function Kfe(e){var t=e.state,i=e.name;t.modifiersData[i]=l7({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Xfe={name:"popperOffsets",enabled:!0,phase:"read",fn:Kfe,data:{}};function Qfe(e){return e==="x"?"y":"x"}function ede(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,b=v===void 0?0:v,E=Lm(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),S=bo(t.placement),T=If(t.placement),w=!T,_=aT(S),M=Qfe(_),$=t.modifiersData.popperOffsets,I=t.rects.reference,L=t.rects.popper,P=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,F=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if($){if(n){var B,Z=_==="y"?us:hs,u=_==="y"?Xs:Qs,m=_==="y"?"height":"width",x=$[_],C=x+E[Z],V=x-E[u],Y=y?-L[m]/2:0,de=T===Mf?I[m]:L[m],oe=T===Mf?-L[m]:-I[m],Me=t.elements.arrow,je=y&&Me?oT(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:s7(),at=ze[Z],Gt=ze[u],Mt=Pp(0,I[m],je[m]),yi=w?I[m]/2-Y-Mt-at-F.mainAxis:de-Mt-at-F.mainAxis,Rt=w?-I[m]/2+Y+Mt+Gt+F.mainAxis:oe+Mt+Gt+F.mainAxis,si=t.elements.arrow&&E0(t.elements.arrow),Xi=si?_==="y"?si.clientTop||0:si.clientLeft||0:0,j=(B=z?.[_])!=null?B:0,D=x+yi-j-Xi,W=x+Rt-j,ae=Pp(y?Jv(C,D):C,x,y?qc(V,W):V);$[_]=ae,U[_]=ae-x}if(a){var ee,ce=_==="x"?us:hs,ye=_==="x"?Xs:Qs,N=$[M],k=M==="y"?"height":"width",G=N+E[ce],te=N-E[ye],se=[us,hs].indexOf(S)!==-1,ne=(ee=z?.[M])!=null?ee:0,H=se?G:N-I[k]-L[k]-ne+F.altAxis,K=se?N+I[k]+L[k]-ne-F.altAxis:te,Ae=y&&se?Efe(H,N,K):Pp(y?H:G,N,y?K:te);$[M]=Ae,U[M]=Ae-N}t.modifiersData[r]=U}}var tde={name:"preventOverflow",enabled:!0,phase:"main",fn:ede,requiresIfExists:["offset"]};function ide(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function rde(e){return e===Fn(e)||!Ys(e)?lT(e):ide(e)}function sde(e){var t=e.getBoundingClientRect(),i=Of(t.width)/e.offsetWidth||1,r=Of(t.height)/e.offsetHeight||1;return i!==1||r!==1}function nde(e,t,i){i===void 0&&(i=!1);var r=Ys(t),s=Ys(t)&&sde(t),n=zl(t),o=Cf(e,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((Mo(t)!=="body"||uT(n))&&(a=rde(t)),Ys(t)?(l=Cf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=cT(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function ode(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function ade(e){var t=ode(e);return bfe.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function lde(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function cde(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var MC={placement:"bottom",modifiers:[],strategy:"absolute"};function $C(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ude(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?MC:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},MC,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(S){var T=typeof S=="function"?S(f.options):S;b(),f.options=Object.assign({},n,f.options,T),f.scrollParents={reference:$f(a)?Lp(a):a.contextElement?Lp(a.contextElement):[],popper:Lp(l)};var w=ade(cde([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(_){return _.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var S=f.elements,T=S.reference,w=S.popper;if($C(T,w)){f.rects={reference:nde(T,E0(w),f.options.strategy==="fixed"),popper:oT(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(F){return f.modifiersData[F.name]=Object.assign({},F.data)});for(var _=0;_<f.orderedModifiers.length;_++){if(f.reset===!0){f.reset=!1,_=-1;continue}var M=f.orderedModifiers[_],$=M.fn,I=M.options,L=I===void 0?{}:I,P=M.name;typeof $=="function"&&(f=$({state:f,options:L,name:P,instance:y})||f)}}}},update:lde(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){b(),p=!0}};if(!$C(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var S=E.name,T=E.options,w=T===void 0?{}:T,_=E.effect;if(typeof _=="function"){var M=_({state:f,name:S,instance:y,options:w}),$=function(){};d.push(M||$)}})}function b(){d.forEach(function(E){return E()}),d=[]}return y}}var hde=[Nfe,Xfe,Pfe,i7,Zfe,qfe,tde,$fe,Wfe],fde=ude({defaultModifiers:hde}),dde="tippy-box",c7="tippy-content",u7="tippy-backdrop",h7="tippy-arrow",f7="tippy-svg-arrow",Ec={passive:!0,capture:!0},d7=function(){return document.body};function a2(e,t,i){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(i)?i[t]:i)}return e}function hT(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function p7(e,t){return typeof e=="function"?e.apply(void 0,t):e}function OC(e,t){if(t===0)return e;var i;return function(r){clearTimeout(i),i=setTimeout(function(){e(r)},t)}}function pde(e,t){var i=Object.assign({},e);return t.forEach(function(r){delete i[r]}),i}function mde(e){return e.split(/\s+/).filter(Boolean)}function $c(e){return[].concat(e)}function CC(e,t){e.indexOf(t)===-1&&e.push(t)}function yde(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function m7(e){return e.split("-")[0]}function Pf(e){return[].slice.call(e)}function IC(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function Hc(){return document.createElement("div")}function Fb(e){return["Element","Fragment"].some(function(t){return hT(e,t)})}function gde(e){return hT(e,"NodeList")}function fT(e){return hT(e,"MouseEvent")}function vde(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function bde(e){return Fb(e)?[e]:gde(e)?Pf(e):Array.isArray(e)?e:Pf(document.querySelectorAll(e))}function l2(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function Nm(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function y7(e){var t,i=$c(e),r=i[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function _de(e,t){var i=t.clientX,r=t.clientY;return e.every(function(s){var n=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,c=m7(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,v=c==="left"?f.right.x:0,b=n.top-r+d>l,E=r-n.bottom-p>l,S=n.left-i+y>l,T=i-n.right-v>l;return b||E||S||T})}function c2(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){e[r](s,i)})}function PC(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=i.getRootNode==null||(r=i.getRootNode())==null?void 0:r.host}return!1}var so={isTouch:!1},LC=0;function wde(){so.isTouch||(so.isTouch=!0,window.performance&&document.addEventListener("mousemove",g7))}function g7(){var e=performance.now();e-LC<20&&(so.isTouch=!1,document.removeEventListener("mousemove",g7)),LC=e}function xde(){var e=document.activeElement;if(vde(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Sde(){document.addEventListener("touchstart",wde,Ec),window.addEventListener("blur",xde)}var Ede=typeof window<"u"&&typeof document<"u",Ade=Ede?!!window.msCrypto:!1,Tde={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Mde={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},_n=Object.assign({appendTo:d7,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Tde,Mde),$de=Object.keys(_n),Ode=function(t){var i=Object.keys(t);i.forEach(function(r){_n[r]=t[r]})};function v7(e){var t=e.plugins||[],i=t.reduce(function(r,s){var n=s.name,o=s.defaultValue;if(n){var a;r[n]=e[n]!==void 0?e[n]:(a=_n[n])!=null?a:o}return r},{});return Object.assign({},e,i)}function Cde(e,t){var i=t?Object.keys(v7(Object.assign({},_n,{plugins:t}))):$de,r=i.reduce(function(s,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch{s[n]=o}return s},{});return r}function NC(e,t){var i=Object.assign({},t,{content:p7(t.content,[e])},t.ignoreAttributes?{}:Cde(e,t.plugins));return i.aria=Object.assign({},_n.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}var Ide=function(){return"innerHTML"};function $S(e,t){e[Ide()]=t}function kC(e){var t=Hc();return e===!0?t.className=h7:(t.className=f7,Fb(e)?t.appendChild(e):$S(t,e)),t}function RC(e,t){Fb(t.content)?($S(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?$S(e,t.content):e.textContent=t.content)}function Zv(e){var t=e.firstElementChild,i=Pf(t.children);return{box:t,content:i.find(function(r){return r.classList.contains(c7)}),arrow:i.find(function(r){return r.classList.contains(h7)||r.classList.contains(f7)}),backdrop:i.find(function(r){return r.classList.contains(u7)})}}function b7(e){var t=Hc(),i=Hc();i.className=dde,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=Hc();r.className=c7,r.setAttribute("data-state","hidden"),RC(r,e.props),t.appendChild(i),i.appendChild(r),s(e.props,e.props);function s(n,o){var a=Zv(t),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&RC(c,e.props),o.arrow?f?n.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(kC(o.arrow))):l.appendChild(kC(o.arrow)):f&&l.removeChild(f)}return{popper:t,onUpdate:s}}b7.$$tippy=!0;var Pde=1,by=[],u2=[];function Lde(e,t){var i=NC(e,Object.assign({},_n,v7(IC(t)))),r,s,n,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],v=OC(D,i.interactiveDebounce),b,E=Pde++,S=null,T=yde(i.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:E,reference:e,popper:Hc(),popperInstance:S,props:i,state:w,plugins:T,clearDelayTimeouts:H,setProps:K,setContent:Ae,show:ke,hide:Dt,hideWithInteractivity:zt,enable:se,disable:ne,unmount:li,destroy:Di};if(!i.render)return _;var M=i.render(_),$=M.popper,I=M.onUpdate;$.setAttribute("data-tippy-root",""),$.id="tippy-"+_.id,_.popper=$,e._tippy=_,$._tippy=_;var L=T.map(function(Q){return Q.fn(_)}),P=e.hasAttribute("aria-expanded");return si(),Y(),x(),C("onCreate",[_]),i.showOnCreate&&G(),$.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),$.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&Z().addEventListener("mousemove",v)}),_;function F(){var Q=_.props.touch;return Array.isArray(Q)?Q:[Q,0]}function z(){return F()[0]==="hold"}function U(){var Q;return!!((Q=_.props.render)!=null&&Q.$$tippy)}function B(){return b||e}function Z(){var Q=B().parentNode;return Q?y7(Q):document}function u(){return Zv($)}function m(Q){return _.state.isMounted&&!_.state.isVisible||so.isTouch||f&&f.type==="focus"?0:a2(_.props.delay,Q?0:1,_n.delay)}function x(Q){Q===void 0&&(Q=!1),$.style.pointerEvents=_.props.interactive&&!Q?"":"none",$.style.zIndex=""+_.props.zIndex}function C(Q,Te,Oe){if(Oe===void 0&&(Oe=!0),L.forEach(function(Qe){Qe[Q]&&Qe[Q].apply(Qe,Te)}),Oe){var We;(We=_.props)[Q].apply(We,Te)}}function V(){var Q=_.props.aria;if(Q.content){var Te="aria-"+Q.content,Oe=$.id,We=$c(_.props.triggerTarget||e);We.forEach(function(Qe){var Fi=Qe.getAttribute(Te);if(_.state.isVisible)Qe.setAttribute(Te,Fi?Fi+" "+Oe:Oe);else{var fr=Fi&&Fi.replace(Oe,"").trim();fr?Qe.setAttribute(Te,fr):Qe.removeAttribute(Te)}})}}function Y(){if(!(P||!_.props.aria.expanded)){var Q=$c(_.props.triggerTarget||e);Q.forEach(function(Te){_.props.interactive?Te.setAttribute("aria-expanded",_.state.isVisible&&Te===B()?"true":"false"):Te.removeAttribute("aria-expanded")})}}function de(){Z().removeEventListener("mousemove",v),by=by.filter(function(Q){return Q!==v})}function oe(Q){if(!(so.isTouch&&(l||Q.type==="mousedown"))){var Te=Q.composedPath&&Q.composedPath()[0]||Q.target;if(!(_.props.interactive&&PC($,Te))){if($c(_.props.triggerTarget||e).some(function(Oe){return PC(Oe,Te)})){if(so.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else C("onClickOutside",[_,Q]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||at())}}}function Me(){l=!0}function je(){l=!1}function ze(){var Q=Z();Q.addEventListener("mousedown",oe,!0),Q.addEventListener("touchend",oe,Ec),Q.addEventListener("touchstart",je,Ec),Q.addEventListener("touchmove",Me,Ec)}function at(){var Q=Z();Q.removeEventListener("mousedown",oe,!0),Q.removeEventListener("touchend",oe,Ec),Q.removeEventListener("touchstart",je,Ec),Q.removeEventListener("touchmove",Me,Ec)}function Gt(Q,Te){yi(Q,function(){!_.state.isVisible&&$.parentNode&&$.parentNode.contains($)&&Te()})}function Mt(Q,Te){yi(Q,Te)}function yi(Q,Te){var Oe=u().box;function We(Qe){Qe.target===Oe&&(c2(Oe,"remove",We),Te())}if(Q===0)return Te();c2(Oe,"remove",d),c2(Oe,"add",We),d=We}function Rt(Q,Te,Oe){Oe===void 0&&(Oe=!1);var We=$c(_.props.triggerTarget||e);We.forEach(function(Qe){Qe.addEventListener(Q,Te,Oe),y.push({node:Qe,eventType:Q,handler:Te,options:Oe})})}function si(){z()&&(Rt("touchstart",j,{passive:!0}),Rt("touchend",W,{passive:!0})),mde(_.props.trigger).forEach(function(Q){if(Q!=="manual")switch(Rt(Q,j),Q){case"mouseenter":Rt("mouseleave",W);break;case"focus":Rt(Ade?"focusout":"blur",ae);break;case"focusin":Rt("focusout",ae);break}})}function Xi(){y.forEach(function(Q){var Te=Q.node,Oe=Q.eventType,We=Q.handler,Qe=Q.options;Te.removeEventListener(Oe,We,Qe)}),y=[]}function j(Q){var Te,Oe=!1;if(!(!_.state.isEnabled||ee(Q)||a)){var We=((Te=f)==null?void 0:Te.type)==="focus";f=Q,b=Q.currentTarget,Y(),!_.state.isVisible&&fT(Q)&&by.forEach(function(Qe){return Qe(Q)}),Q.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?Oe=!0:G(Q),Q.type==="click"&&(o=!Oe),Oe&&!We&&te(Q)}}function D(Q){var Te=Q.target,Oe=B().contains(Te)||$.contains(Te);if(!(Q.type==="mousemove"&&Oe)){var We=k().concat($).map(function(Qe){var Fi,fr=Qe._tippy,Un=(Fi=fr.popperInstance)==null?void 0:Fi.state;return Un?{popperRect:Qe.getBoundingClientRect(),popperState:Un,props:i}:null}).filter(Boolean);_de(We,Q)&&(de(),te(Q))}}function W(Q){var Te=ee(Q)||_.props.trigger.indexOf("click")>=0&&o;if(!Te){if(_.props.interactive){_.hideWithInteractivity(Q);return}te(Q)}}function ae(Q){_.props.trigger.indexOf("focusin")<0&&Q.target!==B()||_.props.interactive&&Q.relatedTarget&&$.contains(Q.relatedTarget)||te(Q)}function ee(Q){return so.isTouch?z()!==Q.type.indexOf("touch")>=0:!1}function ce(){ye();var Q=_.props,Te=Q.popperOptions,Oe=Q.placement,We=Q.offset,Qe=Q.getReferenceClientRect,Fi=Q.moveTransition,fr=U()?Zv($).arrow:null,Un=Qe?{getBoundingClientRect:Qe,contextElement:Qe.contextElement||B()}:e,ba={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Iu){var _a=Iu.state;if(U()){var qb=u(),Pu=qb.box;["placement","reference-hidden","escaped"].forEach(function(ql){ql==="placement"?Pu.setAttribute("data-placement",_a.placement):_a.attributes.popper["data-popper-"+ql]?Pu.setAttribute("data-"+ql,""):Pu.removeAttribute("data-"+ql)}),_a.attributes.popper={}}}},Po=[{name:"offset",options:{offset:We}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Fi}},ba];U()&&fr&&Po.push({name:"arrow",options:{element:fr,padding:3}}),Po.push.apply(Po,Te?.modifiers||[]),_.popperInstance=fde(Un,$,Object.assign({},Te,{placement:Oe,onFirstUpdate:p,modifiers:Po}))}function ye(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function N(){var Q=_.props.appendTo,Te,Oe=B();_.props.interactive&&Q===d7||Q==="parent"?Te=Oe.parentNode:Te=p7(Q,[Oe]),Te.contains($)||Te.appendChild($),_.state.isMounted=!0,ce()}function k(){return Pf($.querySelectorAll("[data-tippy-root]"))}function G(Q){_.clearDelayTimeouts(),Q&&C("onTrigger",[_,Q]),ze();var Te=m(!0),Oe=F(),We=Oe[0],Qe=Oe[1];so.isTouch&&We==="hold"&&Qe&&(Te=Qe),Te?r=setTimeout(function(){_.show()},Te):_.show()}function te(Q){if(_.clearDelayTimeouts(),C("onUntrigger",[_,Q]),!_.state.isVisible){at();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Q.type)>=0&&o)){var Te=m(!1);Te?s=setTimeout(function(){_.state.isVisible&&_.hide()},Te):n=requestAnimationFrame(function(){_.hide()})}}function se(){_.state.isEnabled=!0}function ne(){_.hide(),_.state.isEnabled=!1}function H(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(n)}function K(Q){if(!_.state.isDestroyed){C("onBeforeUpdate",[_,Q]),Xi();var Te=_.props,Oe=NC(e,Object.assign({},Te,IC(Q),{ignoreAttributes:!0}));_.props=Oe,si(),Te.interactiveDebounce!==Oe.interactiveDebounce&&(de(),v=OC(D,Oe.interactiveDebounce)),Te.triggerTarget&&!Oe.triggerTarget?$c(Te.triggerTarget).forEach(function(We){We.removeAttribute("aria-expanded")}):Oe.triggerTarget&&e.removeAttribute("aria-expanded"),Y(),x(),I&&I(Te,Oe),_.popperInstance&&(ce(),k().forEach(function(We){requestAnimationFrame(We._tippy.popperInstance.forceUpdate)})),C("onAfterUpdate",[_,Q])}}function Ae(Q){_.setProps({content:Q})}function ke(){var Q=_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,We=so.isTouch&&!_.props.touch,Qe=a2(_.props.duration,0,_n.duration);if(!(Q||Te||Oe||We)&&!B().hasAttribute("disabled")&&(C("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,U()&&($.style.visibility="visible"),x(),ze(),_.state.isMounted||($.style.transition="none"),U()){var Fi=u(),fr=Fi.box,Un=Fi.content;l2([fr,Un],0)}p=function(){var Po;if(!(!_.state.isVisible||c)){if(c=!0,$.offsetHeight,$.style.transition=_.props.moveTransition,U()&&_.props.animation){var td=u(),Iu=td.box,_a=td.content;l2([Iu,_a],Qe),Nm([Iu,_a],"visible")}V(),Y(),CC(u2,_),(Po=_.popperInstance)==null||Po.forceUpdate(),C("onMount",[_]),_.props.animation&&U()&&Mt(Qe,function(){_.state.isShown=!0,C("onShown",[_])})}},N()}}function Dt(){var Q=!_.state.isVisible,Te=_.state.isDestroyed,Oe=!_.state.isEnabled,We=a2(_.props.duration,1,_n.duration);if(!(Q||Te||Oe)&&(C("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,U()&&($.style.visibility="hidden"),de(),at(),x(!0),U()){var Qe=u(),Fi=Qe.box,fr=Qe.content;_.props.animation&&(l2([Fi,fr],We),Nm([Fi,fr],"hidden"))}V(),Y(),_.props.animation?U()&&Gt(We,_.unmount):_.unmount()}}function zt(Q){Z().addEventListener("mousemove",v),CC(by,v),v(Q)}function li(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ye(),k().forEach(function(Q){Q._tippy.unmount()}),$.parentNode&&$.parentNode.removeChild($),u2=u2.filter(function(Q){return Q!==_}),_.state.isMounted=!1,C("onHidden",[_]))}function Di(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),Xi(),delete e._tippy,_.state.isDestroyed=!0,C("onDestroy",[_]))}}function Ne(e,t){t===void 0&&(t={});var i=_n.plugins.concat(t.plugins||[]);Sde();var r=Object.assign({},t,{plugins:i}),s=bde(e),n=s.reduce(function(o,a){var l=a&&Lde(a,r);return l&&o.push(l),o},[]);return Fb(e)?n[0]:n}Ne.defaultProps=_n;Ne.setDefaultProps=Ode;Ne.currentInput=so;var Nde=Object.assign({},i7,{effect:function(t){var i=t.state,r={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,r.popper),i.styles=r,i.elements.arrow&&Object.assign(i.elements.arrow.style,r.arrow)}}),kde=function(t,i){var r;i===void 0&&(i={});var s=t,n=[],o=[],a,l=i.overrides,c=[],f=!1;function d(){o=s.map(function(_){return $c(_.props.triggerTarget||_.reference)}).reduce(function(_,M){return _.concat(M)},[])}function p(){n=s.map(function(_){return _.reference})}function y(_){s.forEach(function(M){_?M.enable():M.disable()})}function v(_){return s.map(function(M){var $=M.setProps;return M.setProps=function(I){$(I),M.reference===a&&_.setProps(I)},function(){M.setProps=$}})}function b(_,M){var $=o.indexOf(M);if(M!==a){a=M;var I=(l||[]).concat("content").reduce(function(L,P){return L[P]=s[$].props[P],L},{});_.setProps(Object.assign({},I,{getReferenceClientRect:typeof I.getReferenceClientRect=="function"?I.getReferenceClientRect:function(){var L;return(L=n[$])==null?void 0:L.getBoundingClientRect()}}))}}y(!1),p(),d();var E={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function($){$.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function($){$.props.showOnCreate&&!f&&(f=!0,b($,n[0]))},onTrigger:function($,I){b($,I.currentTarget)}}}},S=Ne(Hc(),Object.assign({},pde(i,["overrides"]),{plugins:[E].concat(i.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},i.popperOptions,{modifiers:[].concat(((r=i.popperOptions)==null?void 0:r.modifiers)||[],[Nde])})})),T=S.show;S.show=function(_){if(T(),!a&&_==null)return b(S,n[0]);if(!(a&&_==null)){if(typeof _=="number")return n[_]&&b(S,n[_]);if(s.indexOf(_)>=0){var M=_.reference;return b(S,M)}if(n.indexOf(_)>=0)return b(S,_)}},S.showNext=function(){var _=n[0];if(!a)return S.show(0);var M=n.indexOf(a);S.show(n[M+1]||_)},S.showPrevious=function(){var _=n[n.length-1];if(!a)return S.show(_);var M=n.indexOf(a),$=n[M-1]||_;S.show($)};var w=S.setProps;return S.setProps=function(_){l=_.overrides||l,w(_)},S.setInstances=function(_){y(!0),c.forEach(function(M){return M()}),s=_,y(!1),p(),d(),c=v(S),S.setProps({triggerTarget:o})},c=v(S),S},Rde={name:"animateFill",defaultValue:!1,fn:function(t){var i;if(!((i=t.props.render)!=null&&i.$$tippy))return{};var r=Zv(t.popper),s=r.box,n=r.content,o=t.props.animateFill?Dde():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,c=Number(l.replace("ms",""));n.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,Nm([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&Nm([o],"hidden")}}}};function Dde(){var e=Hc();return e.className=u7,Nm([e],"hidden"),e}var OS={clientX:0,clientY:0},_y=[];function _7(e){var t=e.clientX,i=e.clientY;OS={clientX:t,clientY:i}}function Fde(e){e.addEventListener("mousemove",_7)}function Ude(e){e.removeEventListener("mousemove",_7)}var jde={name:"followCursor",defaultValue:!1,fn:function(t){var i=t.reference,r=y7(t.props.triggerTarget||i),s=!1,n=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){r.addEventListener("mousemove",p)}function f(){r.removeEventListener("mousemove",p)}function d(){s=!0,t.setProps({getReferenceClientRect:null}),s=!1}function p(b){var E=b.target?i.contains(b.target):!0,S=t.props.followCursor,T=b.clientX,w=b.clientY,_=i.getBoundingClientRect(),M=T-_.left,$=w-_.top;(E||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var L=i.getBoundingClientRect(),P=T,F=w;S==="initial"&&(P=L.left+M,F=L.top+$);var z=S==="horizontal"?L.top:F,U=S==="vertical"?L.right:P,B=S==="horizontal"?L.bottom:F,Z=S==="vertical"?L.left:P;return{width:U-Z,height:B-z,top:z,right:U,bottom:B,left:Z}}})}function y(){t.props.followCursor&&(_y.push({instance:t,doc:r}),Fde(r))}function v(){_y=_y.filter(function(b){return b.instance!==t}),_y.filter(function(b){return b.doc===r}).length===0&&Ude(r)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(E,S){var T=S.followCursor;s||T!==void 0&&a.followCursor!==T&&(v(),T?(y(),t.state.isMounted&&!n&&!l()&&c()):(f(),d()))},onMount:function(){t.props.followCursor&&!n&&(o&&(p(OS),o=!1),l()||c())},onTrigger:function(E,S){fT(S)&&(OS={clientX:S.clientX,clientY:S.clientY}),n=S.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),f(),o=!0)}}}};function Bde(e,t){var i;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((i=e.popperOptions)==null?void 0:i.modifiers)||[]).filter(function(r){var s=r.name;return s!==t.name}),[t])})}}var Vde={name:"inlinePositioning",defaultValue:!1,fn:function(t){var i=t.reference;function r(){return!!t.props.inlinePositioning}var s,n=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;r()&&(a.indexOf(v.placement)!==-1&&(a=[]),s!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),t.setProps({getReferenceClientRect:function(){return c(v.placement)}})),s=v.placement)}};function c(p){return Gde(m7(p),i.getBoundingClientRect(),Pf(i.getClientRects()),n)}function f(p){o=!0,t.setProps(p),o=!1}function d(){o||f(Bde(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(fT(v)){var b=Pf(t.reference.getClientRects()),E=b.find(function(T){return T.left-2<=v.clientX&&T.right+2>=v.clientX&&T.top-2<=v.clientY&&T.bottom+2>=v.clientY}),S=b.indexOf(E);n=S>-1?S:n}},onHidden:function(){n=-1}}}};function Gde(e,t,i,r){if(i.length<2||e===null)return t;if(i.length===2&&r>=0&&i[0].left>i[1].right)return i[r]||t;switch(e){case"top":case"bottom":{var s=i[0],n=i[i.length-1],o=e==="top",a=s.top,l=n.bottom,c=o?s.left:n.left,f=o?s.right:n.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,i.map(function($){return $.left})),v=Math.max.apply(Math,i.map(function($){return $.right})),b=i.filter(function($){return e==="left"?$.left===y:$.right===v}),E=b[0].top,S=b[b.length-1].bottom,T=y,w=v,_=w-T,M=S-E;return{top:E,bottom:S,left:T,right:w,width:_,height:M}}default:return t}}var zde={name:"sticky",defaultValue:!1,fn:function(t){var i=t.reference,r=t.popper;function s(){return t.popperInstance?t.popperInstance.state.elements.reference:i}function n(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=n("reference")?s().getBoundingClientRect():null,f=n("popper")?r.getBoundingClientRect():null;(c&&DC(o,c)||f&&DC(a,f))&&t.popperInstance&&t.popperInstance.update(),o=c,a=f,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function DC(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Ne.setDefaultProps({render:b7});Ne.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function dT(e,t={},i={mount:!0,appName:"Tippy"}){i=Object.assign({mount:!0,appName:"Tippy"},i);const r=Ri(),s=X(),n=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Xf();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=I=>{let L,P=ht(I)?I.value:I;return Pn(P)?(o.value||(o.value=$l({name:i.appName,setup:()=>()=>ht(I)?I.value:I}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),L=()=>l()):typeof P=="object"?(o.value||(o.value=$l({name:i.appName,setup:()=>()=>zs(ht(I)?I.value:I)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),L=()=>l()):L=P,L},f=I=>{let L={};return ht(I)?L=I.value||{}:xs(I)?L={...I}:L={...I},L.content&&(L.content=c(L.content)),L.triggerTarget&&(L.triggerTarget=ht(L.triggerTarget)?L.triggerTarget.value:L.triggerTarget),(!L.plugins||!Array.isArray(L.plugins))&&(L.plugins=[]),L.plugins=L.plugins.filter(P=>P.name!=="vueTippyReactiveState"),L.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){n.value.isEnabled=!0},onMount(){n.value.isMounted=!0},onShow(){n.value.isMounted=!0,n.value.isVisible=!0},onShown(){n.value.isShown=!0},onHide(){n.value.isMounted=!1,n.value.isVisible=!1},onHidden(){n.value.isShown=!1},onUnmounted(){n.value.isMounted=!1},onDestroy(){n.value.isDestroyed=!0}})}),L},d=()=>{s.value&&s.value.setProps(f(t))},p=()=>{!s.value||!t.content||s.value.setContent(c(t.content))},y=I=>{var L;(L=s.value)===null||L===void 0||L.setContent(c(I))},v=I=>{var L;(L=s.value)===null||L===void 0||L.setProps(f(I))},b=()=>{var I;s.value&&(s.value.destroy(),s.value=void 0),a=null,(I=o.value)===null||I===void 0||I.unmount(),o.value=void 0},E=()=>{var I;(I=s.value)===null||I===void 0||I.show()},S=()=>{var I;(I=s.value)===null||I===void 0||I.hide()},T=()=>{var I;(I=s.value)===null||I===void 0||I.disable(),n.value.isEnabled=!1},w=()=>{var I;(I=s.value)===null||I===void 0||I.enable(),n.value.isEnabled=!0},_=()=>{var I;(I=s.value)===null||I===void 0||I.unmount()},M=()=>{if(!e)return;let I=ht(e)?e.value:e;typeof I=="function"&&(I=I()),I&&(s.value=Ne(I,f(t)),I.$tippy=$)},$={tippy:s,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:b,hide:S,show:E,disable:T,enable:w,unmount:_,mount:M,state:n};return i.mount&&(r?r.isMounted?M():hr(M):M()),r&&$u(()=>{b()}),ht(t)||xs(t)?Ji(t,d,{immediate:!1}):ht(t.content)&&Ji(t.content,p,{immediate:!1}),$}function qde(e,t){const i=X();return hr(()=>{const s=(Array.isArray(e)?e.map(n=>n.value):typeof e=="function"?e():e.value).map(n=>n instanceof Element?n._tippy:n).filter(Boolean);i.value=kde(s,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:i}}function Hde(e){return typeof e=="function"?e():$e(e)}function Wde(e){var t,i;const r=Hde(e);return(i=(t=r)===null||t===void 0?void 0:t.$el)!==null&&i!==void 0?i:r}const Yde=rt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Ne.defaultProps.appendTo},aria:{default:()=>Ne.defaultProps.aria},delay:{default:()=>Ne.defaultProps.delay},duration:{default:()=>Ne.defaultProps.duration},getReferenceClientRect:{default:()=>Ne.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Ne.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Ne.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Ne.defaultProps.interactive},interactiveBorder:{default:()=>Ne.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Ne.defaultProps.interactiveDebounce},moveTransition:{default:()=>Ne.defaultProps.moveTransition},offset:{default:()=>Ne.defaultProps.offset},onAfterUpdate:{default:()=>Ne.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Ne.defaultProps.onBeforeUpdate},onCreate:{default:()=>Ne.defaultProps.onCreate},onDestroy:{default:()=>Ne.defaultProps.onDestroy},onHidden:{default:()=>Ne.defaultProps.onHidden},onHide:{default:()=>Ne.defaultProps.onHide},onMount:{default:()=>Ne.defaultProps.onMount},onShow:{default:()=>Ne.defaultProps.onShow},onShown:{default:()=>Ne.defaultProps.onShown},onTrigger:{default:()=>Ne.defaultProps.onTrigger},onUntrigger:{default:()=>Ne.defaultProps.onUntrigger},onClickOutside:{default:()=>Ne.defaultProps.onClickOutside},placement:{default:()=>Ne.defaultProps.placement},plugins:{default:()=>Ne.defaultProps.plugins},popperOptions:{default:()=>Ne.defaultProps.popperOptions},render:{default:()=>Ne.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Ne.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Ne.defaultProps.touch},trigger:{default:()=>Ne.defaultProps.trigger},triggerTarget:{default:()=>Ne.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Ne.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Ne.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Ne.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Ne.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Ne.defaultProps.allowHTML},animation:{default:()=>Ne.defaultProps.animation},arrow:{default:()=>Ne.defaultProps.arrow},content:{default:()=>Ne.defaultProps.content},inertia:{default:()=>Ne.defaultProps.inertia},maxWidth:{default:()=>Ne.defaultProps.maxWidth},role:{default:()=>Ne.defaultProps.role},theme:{default:()=>Ne.defaultProps.theme},zIndex:{default:()=>Ne.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:i,expose:r}){const s=X(),n=X(),o=X(),a=X(!1),l=()=>{let y={...e};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>Wde(s);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=s.value;return y||(y=s.value=n.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const f=dT(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),hr(()=>{a.value=!0,Rn(()=>{d&&f.setContent(()=>o.value)})}),Ji(f.state,()=>{i("state",$e(f.state))},{immediate:!0,deep:!0}),Ji(()=>e,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=rr({elem:s,contentElem:o,mounted:a,...f});return r(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),v=d?zs(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const S=[];if(!s.value){const T=zs("span",{ref:n,"data-v-tippy":"",style:{display:"none"}});S.push(T)}return v&&S.push(v),S}const b=t.default?t.default(p):[];if(!e.tag){const S=zs(b[0],{ref:s,"data-v-tippy":""});return v?[S,v]:S}const E=(typeof e.tag=="string",e.tag);return zs(E,{ref:s,"data-v-tippy":""},v?[b,v]:b)}}}),Jde=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let CS={};Object.keys(Ne.defaultProps).forEach(e=>{Jde.includes(e)?CS[e]={type:Boolean,default:function(){return Ne.defaultProps[e]}}:CS[e]={default:function(){return Ne.defaultProps[e]}}});const Zde=rt({props:CS,setup(e){const t=X([]),{singleton:i}=qde(t,e);return{instances:t,singleton:i}},mounted(){var e;const i=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(i).map(r=>r._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return zs(()=>e)}}),Kde={mounted(e,t,i){const r=typeof t.value=="string"?{content:t.value}:t.value||{},s=Object.keys(t.modifiers||{}),n=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;n&&(r.placement=r.placement||n),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),i.props&&i.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),i.props&&i.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),i.props&&i.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),i.props&&i.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),i.props&&i.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),dT(e,r)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const i=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(i||{}):e._tippy&&e._tippy.setProps(i||{})}},Xde={install(e,t={}){Ne.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",Kde),e.component(t.component||"tippy",Yde),e.component(t.componentSingleton||"tippy-singleton",Zde)}},w7=Ne.setDefaultProps;w7({ignoreAttributes:!0,plugins:[zde,Vde,jde,Rde]});const Qde=rt({name:"App",components:{Shell:afe},setup(){const e=Ri();hr(()=>{new jD().observe(e?.proxy?.$refs["app-size"]),w7({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),epe=["lang"],tpe={class:"h-full",ref:"app-size"};function ipe(e,t,i,r,s,n){const o=wi("shell");return fe(),xe("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ue("div",tpe,[Ke(o)],512)],8,epe)}const rpe=va(Qde,[["render",ipe]]),no="focus-list",rc="focus-item",spe="focus-icon",npe="focus-container",Hh=`[${no}],[${npe}]`,wy="truncate-text",xy="show-truncate",Eh="focused",IS=`button,input,select,a,textarea,[contenteditable],[${no}],[${spe}],[tabIndex]`,ope={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(no,!0),new ape(e,t.value)},updated(e){x7(e)}};function x7(e){e.querySelectorAll(IS).forEach(i=>{if(i.closest(Hh)===e||i.closest(Hh)===i&&i.parentElement.closest(Hh)===e)if(i.closest(`[${no}],.${Eh}`).classList.contains(Eh))i.setAttribute("tabindex","0");else{i.setAttribute("tabindex","-1");return}})}class ape{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,i){this.element=t,this.highlightedItem=this.element,this.isHorizontal=i==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const r=this;t.addEventListener("keydown",function(s){r.onKeydown(s)}),t.addEventListener("focus",function(){r.onFocus()}),t.addEventListener("blur",function(){r.onBlur()}),t.addEventListener("mousedown",function(){r.onMousedown()}),t.addEventListener("touchstart",function(){r.onTouchstart()}),t.addEventListener("refocusLegendItem",s=>{const o=s.detail.focusItem;r.element.focus(),r.focusItem(o),this.highlightedItem=o}),document.addEventListener("click",function(s){s.target&&t.contains(s.target)?r.onClick(s):r.defocusItem(r.highlightedItem)})}setTabIndex(t,i=this.element){i.querySelectorAll(IS).forEach(s=>{(t===-1||s.closest(Hh)===this.element||s.closest(Hh)===s&&s.parentElement.closest(Hh)===this.element||s.closest(`[${no}],.${Eh}`).classList.contains(Eh))&&s.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(Eh),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(rc)===xy&&t.querySelector(`[${wy}]`)?._tippy?.hide()}focusItem(t){t.classList.add(Eh),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(rc)===xy&&t.querySelector(`[${wy}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,i=!1){if(this.defocusItem(this.highlightedItem),i)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const i=this,r=Array.prototype.filter.call(this.element.querySelectorAll(`[${rc}]`),s=>s.closest(`[${no}]`)===i.element&&!!s.offsetParent);if(r.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":const s=this.highlightedItem.querySelectorAll(IS).length===0,n=this.element.isEqualNode(t.target);this.highlightedItem!==this.element&&n&&(s&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let i=t.target;if(!i.hasAttribute(no))for(;i.parentElement.closest(`[${no}]`)!==this.element;)i=i.parentElement.closest(`[${no}]`);this.highlightedItem=i.closest(`[${rc}]`)||i.closest(`[${no}]`)||this.highlightedItem,i.hasAttribute(`${rc}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(rc)===xy&&this.highlightedItem.querySelector(`[${wy}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),x7(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(rc)===xy&&this.highlightedItem.querySelector(`[${wy}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const FC="focus-item",lpe={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",cpe()),t.value?e.setAttribute(FC,t.value):e.toggleAttribute(FC,!0)}};function cpe(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const pT="focus-container",S7="focus-list",upe="focus-icon",h2=`[${S7}],[${pT}]`,UC=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${S7}],[${pT}],[${upe}],[tabIndex]`;let f2=[];const hpe={mounted(e){[...document.querySelectorAll(".inner-shell")].some(i=>i.contains(e))&&f2.push(new fpe(e))},beforeUnmount(e){f2=f2.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class fpe{element;constructor(t){this.element=t,this.element.toggleAttribute(pT,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const i=this;this.element.addEventListener("keypress",function(r){i.onKeypress(r)}),this.element.addEventListener("click",function(){i.onClick()}),this.element.addEventListener("focusout",function(r){i.onFocusOut(r)}),this.element.addEventListener("focus",function(){i.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(i){t.onKeypress(i)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(i){t.onFocusOut(i)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(UC),()=>!0).forEach(i=>{i.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(UC),i=>{(i.closest(h2)===this.element||i.closest(h2)===i&&i.parentElement.closest(h2)===this.element)&&i.offsetParent&&(i.tabIndex=0,t===void 0&&(t=i))}),t}}const dpe="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",ppe="ÎµÎ»1Ï…2Ð±Ð³1ÐµÐ»3Ð´ÐµÑ‚Ð¸4ÐµÑŽ2ÐºÐ°Ñ‚Ð¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5Ñ€Ð³3Ñ€ÑƒÑ2Ñ„2ÑÐ°Ð¹Ñ‚3Ñ€Ð±3ÑƒÐºÑ€3Ò›Ð°Ð·3Õ°Õ¡Õµ3×™×©×¨××œ5×§×•×3Ø§Ø¨ÙˆØ¸Ø¨ÙŠ5ØªØµØ§Ù„Ø§Øª6Ø±Ø§Ù…ÙƒÙˆ5Ù„Ø§Ø±Ø¯Ù†4Ø¨Ø­Ø±ÙŠÙ†5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙˆØ¯ÙŠØ©6Ø¹Ù„ÙŠØ§Ù†5Ù…ØºØ±Ø¨5Ù…Ø§Ø±Ø§Øª5ÛŒØ±Ø§Ù†5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙŠØªÙƒ3Ú¾Ø§Ø±Øª5ØªÙˆÙ†Ø³4Ø³ÙˆØ¯Ø§Ù†3Ø±ÙŠØ©5Ø´Ø¨ÙƒØ©4Ø¹Ø±Ø§Ù‚2Ø¨2Ù…Ø§Ù†4ÙÙ„Ø³Ø·ÙŠÙ†6Ù‚Ø·Ø±3ÙƒØ§Ø«ÙˆÙ„ÙŠÙƒ6ÙˆÙ…3Ù…ØµØ±2Ù„ÙŠØ³ÙŠØ§5ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§7Ù‚Ø¹4Ù‡Ù…Ø±Ø§Ù‡5Ù¾Ø§Ú©Ø³ØªØ§Ù†7Ú€Ø§Ø±Øª4à¤•à¥‰à¤®3à¤¨à¥‡à¤Ÿ3à¤­à¤¾à¤°à¤¤_à¤®à¥3à¥‹à¤¤5à¤¸à¤‚à¤—à¤ à¤¨5à¦¬à¦¾à¦‚à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®‡à®¨à¯à®¤à®¿à®¯à®¾6à®²à®™à¯à®•à¯ˆ6à®šà®¿à®™à¯à®•à®ªà¯à®ªà¯‚à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´‚5à¶½à¶‚à¶šà·4à¸„à¸­à¸¡3à¹„à¸—à¸¢3àº¥àº²àº§3áƒ’áƒ”2ã¿ã‚“ãª3ã‚¢ãƒžã‚¾ãƒ³4ã‚¯ãƒ©ã‚¦ãƒ‰4ã‚°ãƒ¼ã‚°ãƒ«4ã‚³ãƒ 2ã‚¹ãƒˆã‚¢3ã‚»ãƒ¼ãƒ«3ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³6ãƒã‚¤ãƒ³ãƒˆ4ä¸–ç•Œ2ä¸­ä¿¡1å›½1åœ‹1æ–‡ç½‘3äºšé©¬é€Š3ä¼ä¸š2ä½›å±±2ä¿¡æ¯2å¥åº·2å…«å¦2å…¬å¸1ç›Š2å°æ¹¾1ç£2å•†åŸŽ1åº—1æ ‡2å˜‰é‡Œ_å¤§é…’åº—5åœ¨çº¿2å¤§æ‹¿2å¤©ä¸»æ•™3å¨±ä¹2å®¶é›»2å¹¿ä¸œ2å¾®åš2æ…ˆå–„2æˆ‘çˆ±ä½ 3æ‰‹æœº2æ‹›è˜2æ”¿åŠ¡1åºœ2æ–°åŠ å¡2é—»2æ—¶å°š2æ›¸ç±2æœºæž„2æ·¡é©¬é”¡3æ¸¸æˆ2æ¾³é–€2ç‚¹çœ‹2ç§»åŠ¨2ç»„ç»‡æœºæž„4ç½‘å€1åº—1ç«™1ç»œ2è”é€š2è°·æ­Œ2è´­ç‰©2é€šè²©2é›†å›¢2é›»è¨Šç›ˆç§‘4é£žåˆ©æµ¦3é£Ÿå“2é¤åŽ…2é¦™æ ¼é‡Œæ‹‰3æ¸¯2ë‹·ë„·1ì»´2ì‚¼ì„±2í•œêµ­2",Lf=(e,t)=>{for(const i in t)e[i]=t[i];return e},PS="numeric",LS="ascii",NS="alpha",Mg="asciinumeric",Sy="alphanumeric",kS="domain",E7="emoji",mpe="scheme",ype="slashscheme",jC="whitespace";function gpe(e,t){return e in t||(t[e]=[]),t[e]}function Rc(e,t,i){t[PS]&&(t[Mg]=!0,t[Sy]=!0),t[LS]&&(t[Mg]=!0,t[NS]=!0),t[Mg]&&(t[Sy]=!0),t[NS]&&(t[Sy]=!0),t[Sy]&&(t[kS]=!0),t[E7]&&(t[kS]=!0);for(const r in t){const s=gpe(r,i);s.indexOf(e)<0&&s.push(e)}}function vpe(e,t){const i={};for(const r in t)t[r].indexOf(e)>=0&&(i[r]=!0);return i}function gs(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}gs.groups={};gs.prototype={accepts(){return!!this.t},go(e){const t=this,i=t.j[e];if(i)return i;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],n=t.jr[r][1];if(n&&s.test(e))return n}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,i,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,i,r)},tr(e,t,i,r){r=r||gs.groups;let s;return t&&t.j?s=t:(s=new gs(t),i&&r&&Rc(t,i,r)),this.jr.push([e,s]),s},ts(e,t,i,r){let s=this;const n=e.length;if(!n)return s;for(let o=0;o<n-1;o++)s=s.tt(e[o]);return s.tt(e[n-1],t,i,r)},tt(e,t,i,r){r=r||gs.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const n=t;let o,a=s.go(e);if(a?(o=new gs,Lf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new gs,n){if(r)if(o.t&&typeof o.t=="string"){const l=Lf(vpe(o.t,r),i);Rc(n,l,r)}else i&&Rc(n,i,r);o.t=n}return s.j[e]=o,o}};const Re=(e,t,i,r,s)=>e.ta(t,i,r,s),Ps=(e,t,i,r,s)=>e.tr(t,i,r,s),BC=(e,t,i,r,s)=>e.ts(t,i,r,s),me=(e,t,i,r,s)=>e.tt(t,i,r,s),Yo="WORD",RS="UWORD",km="LOCALHOST",DS="TLD",FS="UTLD",$g="SCHEME",uh="SLASH_SCHEME",Kv="NUM",A7="WS",mT="NL",Ah="OPENBRACE",Np="OPENBRACKET",kp="OPENANGLEBRACKET",Rp="OPENPAREN",Oc="CLOSEBRACE",Th="CLOSEBRACKET",Mh="CLOSEANGLEBRACKET",Cc="CLOSEPAREN",Xv="AMPERSAND",Qv="APOSTROPHE",e1="ASTERISK",il="AT",t1="BACKSLASH",i1="BACKTICK",r1="CARET",al="COLON",yT="COMMA",s1="DOLLAR",eo="DOT",n1="EQUALS",gT="EXCLAMATION",to="HYPHEN",o1="PERCENT",a1="PIPE",l1="PLUS",c1="POUND",u1="QUERY",vT="QUOTE",bT="SEMI",Ko="SLASH",Dp="TILDE",h1="UNDERSCORE",T7="EMOJI",f1="SYM";var M7=Object.freeze({__proto__:null,WORD:Yo,UWORD:RS,LOCALHOST:km,TLD:DS,UTLD:FS,SCHEME:$g,SLASH_SCHEME:uh,NUM:Kv,WS:A7,NL:mT,OPENBRACE:Ah,OPENBRACKET:Np,OPENANGLEBRACKET:kp,OPENPAREN:Rp,CLOSEBRACE:Oc,CLOSEBRACKET:Th,CLOSEANGLEBRACKET:Mh,CLOSEPAREN:Cc,AMPERSAND:Xv,APOSTROPHE:Qv,ASTERISK:e1,AT:il,BACKSLASH:t1,BACKTICK:i1,CARET:r1,COLON:al,COMMA:yT,DOLLAR:s1,DOT:eo,EQUALS:n1,EXCLAMATION:gT,HYPHEN:to,PERCENT:o1,PIPE:a1,PLUS:l1,POUND:c1,QUERY:u1,QUOTE:vT,SEMI:bT,SLASH:Ko,TILDE:Dp,UNDERSCORE:h1,EMOJI:T7,SYM:f1});const Yu=/[a-z]/,d2=/\p{L}/u,p2=/\p{Emoji}/u,m2=/\d/,VC=/\s/,GC=`
`,bpe="ï¸",_pe="â€";let Ey=null,Ay=null;function wpe(e){e===void 0&&(e=[]);const t={};gs.groups=t;const i=new gs;Ey==null&&(Ey=zC(dpe)),Ay==null&&(Ay=zC(ppe)),me(i,"'",Qv),me(i,"{",Ah),me(i,"[",Np),me(i,"<",kp),me(i,"(",Rp),me(i,"}",Oc),me(i,"]",Th),me(i,">",Mh),me(i,")",Cc),me(i,"&",Xv),me(i,"*",e1),me(i,"@",il),me(i,"`",i1),me(i,"^",r1),me(i,":",al),me(i,",",yT),me(i,"$",s1),me(i,".",eo),me(i,"=",n1),me(i,"!",gT),me(i,"-",to),me(i,"%",o1),me(i,"|",a1),me(i,"+",l1),me(i,"#",c1),me(i,"?",u1),me(i,'"',vT),me(i,"/",Ko),me(i,";",bT),me(i,"~",Dp),me(i,"_",h1),me(i,"\\",t1);const r=Ps(i,m2,Kv,{[PS]:!0});Ps(r,m2,r);const s=Ps(i,Yu,Yo,{[LS]:!0});Ps(s,Yu,s);const n=Ps(i,d2,RS,{[NS]:!0});Ps(n,Yu),Ps(n,d2,n);const o=Ps(i,VC,A7,{[jC]:!0});me(i,GC,mT,{[jC]:!0}),me(o,GC),Ps(o,VC,o);const a=Ps(i,p2,T7,{[E7]:!0});Ps(a,p2,a),me(a,bpe,a);const l=me(a,_pe);Ps(l,p2,a);const c=[[Yu,s]],f=[[Yu,null],[d2,n]];for(let d=0;d<Ey.length;d++)Ia(i,Ey[d],DS,Yo,c);for(let d=0;d<Ay.length;d++)Ia(i,Ay[d],FS,RS,f);Rc(DS,{tld:!0,ascii:!0},t),Rc(FS,{utld:!0,alpha:!0},t),Ia(i,"file",$g,Yo,c),Ia(i,"mailto",$g,Yo,c),Ia(i,"http",uh,Yo,c),Ia(i,"https",uh,Yo,c),Ia(i,"ftp",uh,Yo,c),Ia(i,"ftps",uh,Yo,c),Rc($g,{scheme:!0,ascii:!0},t),Rc(uh,{slashscheme:!0,ascii:!0},t),e=e.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<e.length;d++){const p=e[d][0],v=e[d][1]?{[mpe]:!0}:{[ype]:!0};p.indexOf("-")>=0?v[kS]=!0:Yu.test(p)?m2.test(p)?v[Mg]=!0:v[LS]=!0:v[PS]=!0,BC(i,p,p,v)}return BC(i,"localhost",km,{ascii:!0}),i.jd=new gs(f1),{start:i,tokens:Lf({groups:t},M7)}}function xpe(e,t){const i=Spe(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=i.length,s=[];let n=0,o=0;for(;o<r;){let a=e,l=null,c=0,f=null,d=-1,p=-1;for(;o<r&&(l=a.go(i[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=i[o].length,p++),c+=i[o].length,n+=i[o].length,o++;n-=d,o-=p,c-=d,s.push({t:f.t,v:t.slice(n-c,n),s:n-c,e:n})}return s}function Spe(e){const t=[],i=e.length;let r=0;for(;r<i;){let s=e.charCodeAt(r),n,o=s<55296||s>56319||r+1===i||(n=e.charCodeAt(r+1))<56320||n>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Ia(e,t,i,r,s){let n;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?n=e.j[l]:(n=new gs(r),n.jr=s.slice(),e.j[l]=n),e=n}return n=new gs(i),n.jr=s.slice(),e.j[t[o-1]]=n,n}function zC(e){const t=[],i=[];let r=0,s="0123456789";for(;r<e.length;){let n=0;for(;s.indexOf(e[r+n])>=0;)n++;if(n>0){t.push(i.join(""));let o=parseInt(e.substring(r,r+n),10);for(;o>0;o--)i.pop();r+=n}else e[r]==="_"?(t.push(i.join("")),r++):(i.push(e[r]),r++)}return t}const Rm={defaultProtocol:"http",events:null,format:qC,formatHref:qC,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function _T(e,t){t===void 0&&(t=null);let i=Lf({},Rm);e&&(i=Lf(i,e instanceof _T?e.o:e));const r=i.ignoreTags,s=[];for(let n=0;n<r.length;n++)s.push(r[n].toUpperCase());this.o=i,t&&(this.defaultRender=t),this.ignoreTags=s}_T.prototype={o:Rm,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,i){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=i.t in s?s[i.t]:Rm[e],typeof s=="function"&&r&&(s=s(t,i))):typeof s=="function"&&r&&(s=s(t,i.t,i)),s)},getObj(e,t,i){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,i.t,i)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function qC(e){return e}function $7(e,t){this.t="token",this.v=e,this.tk=t}$7.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),i=e.get("truncate",t,this),r=e.get("format",t,this);return i&&r.length>i?r.substring(0,i)+"â€¦":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Rm.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,i=this.toFormattedHref(e),r=e.get("tagName",i,t),s=this.toFormattedString(e),n={},o=e.get("className",i,t),a=e.get("target",i,t),l=e.get("rel",i,t),c=e.getObj("attributes",i,t),f=e.getObj("events",i,t);return n.href=i,o&&(n.class=o),a&&(n.target=a),l&&(n.rel=l),c&&Lf(n,c),{tagName:r,attributes:n,content:s,eventListeners:f}}};function Ub(e,t){class i extends $7{constructor(s,n){super(s,n),this.t=e}}for(const r in t)i.prototype[r]=t[r];return i.t=e,i}const HC=Ub("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),WC=Ub("text"),Epe=Ub("nl"),sc=Ub("url",{isLink:!0,toHref(e){return e===void 0&&(e=Rm.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==km&&e[1].t===al}}),er=e=>new gs(e);function Ape(e){let{groups:t}=e;const i=t.domain.concat([Xv,e1,il,t1,i1,r1,s1,n1,to,Kv,o1,a1,l1,c1,Ko,f1,Dp,h1]),r=[Qv,Mh,Oc,Th,Cc,al,yT,eo,gT,kp,Ah,Np,Rp,u1,vT,bT],s=[Xv,Qv,e1,t1,i1,r1,Oc,s1,n1,to,Kv,Ah,o1,a1,l1,c1,u1,Ko,f1,Dp,h1],n=er(),o=me(n,Dp);Re(o,s,o),Re(o,t.domain,o);const a=er(),l=er(),c=er();Re(n,t.domain,a),Re(n,t.scheme,l),Re(n,t.slashscheme,c),Re(a,s,o),Re(a,t.domain,a);const f=me(a,il);me(o,il,f),me(l,il,f),me(c,il,f);const d=me(o,eo);Re(d,s,o),Re(d,t.domain,o);const p=er();Re(f,t.domain,p),Re(p,t.domain,p);const y=me(p,eo);Re(y,t.domain,p);const v=er(HC);Re(y,t.tld,v),Re(y,t.utld,v),me(f,km,v);const b=me(p,to);Re(b,t.domain,p),Re(v,t.domain,p),me(v,eo,y),me(v,to,b);const E=me(v,al);Re(E,t.numeric,HC);const S=me(a,to),T=me(a,eo);Re(S,t.domain,a),Re(T,s,o),Re(T,t.domain,a);const w=er(sc);Re(T,t.tld,w),Re(T,t.utld,w),Re(w,t.domain,a),Re(w,s,o),me(w,eo,T),me(w,to,S),me(w,il,f);const _=me(w,al),M=er(sc);Re(_,t.numeric,M);const $=er(sc),I=er();Re($,i,$),Re($,r,I),Re(I,i,$),Re(I,r,I),me(w,Ko,$),me(M,Ko,$);const L=me(l,al),P=me(c,al),F=me(P,Ko);me(F,Ko,L),Re(l,t.domain,a),me(l,eo,T),me(l,to,S),Re(c,t.domain,a),me(c,eo,T),me(c,to,S),Re(L,t.domain,$),me(L,Ko,$);const z=me($,Ah),U=me($,Np),B=me($,kp),Z=me($,Rp);me(I,Ah,z),me(I,Np,U),me(I,kp,B),me(I,Rp,Z),me(z,Oc,$),me(U,Th,$),me(B,Mh,$),me(Z,Cc,$),me(z,Oc,$);const u=er(sc),m=er(sc),x=er(sc),C=er(sc);Re(z,i,u),Re(U,i,m),Re(B,i,x),Re(Z,i,C);const V=er(),Y=er(),de=er(),oe=er();return Re(z,r),Re(U,r),Re(B,r),Re(Z,r),Re(u,i,u),Re(m,i,m),Re(x,i,x),Re(C,i,C),Re(u,r,u),Re(m,r,m),Re(x,r,x),Re(C,r,C),Re(V,i,V),Re(Y,i,m),Re(de,i,x),Re(oe,i,C),Re(V,r,V),Re(Y,r,Y),Re(de,r,de),Re(oe,r,oe),me(m,Th,$),me(x,Mh,$),me(C,Cc,$),me(u,Oc,$),me(Y,Th,$),me(de,Mh,$),me(oe,Cc,$),me(V,Cc,$),me(n,km,w),me(n,mT,Epe),{start:n,tokens:M7}}function Tpe(e,t,i){let r=i.length,s=0,n=[],o=[];for(;s<r;){let a=e,l=null,c=null,f=0,d=null,p=-1;for(;s<r&&!(l=a.go(i[s].t));)o.push(i[s++]);for(;s<r&&(c=l||a.go(i[s].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,s++,f++;if(p<0)s-=f,s<r&&(o.push(i[s]),s++);else{o.length>0&&(n.push(y2(WC,t,o)),o=[]),s-=p,f-=p;const y=d.t,v=i.slice(s-f,s);n.push(y2(y,t,v))}}return o.length>0&&n.push(y2(WC,t,o)),n}function y2(e,t,i){const r=i[0].s,s=i[i.length-1].e,n=t.slice(r,s);return new e(n,i)}const Nr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Mpe(){Nr.scanner=wpe(Nr.customSchemes);for(let e=0;e<Nr.tokenQueue.length;e++)Nr.tokenQueue[e][1]({scanner:Nr.scanner});Nr.parser=Ape(Nr.scanner.tokens);for(let e=0;e<Nr.pluginQueue.length;e++)Nr.pluginQueue[e][1]({scanner:Nr.scanner,parser:Nr.parser});Nr.initialized=!0}function $pe(e){return Nr.initialized||Mpe(),Tpe(Nr.parser.start,e,xpe(Nr.scanner.start,e))}var Ope={amp:"&",gt:">",lt:"<",nbsp:"Â ",quot:'"'},Cpe=/^#[xX]([A-Fa-f0-9]+)$/,Ipe=/^#([0-9]+)$/,Ppe=/^([A-Za-z0-9]+)$/,Lpe=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var i=t.match(Cpe);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=t.match(Ipe),i)return String.fromCharCode(parseInt(i[1],10));if(i=t.match(Ppe),i)return this.named[i[1]]||"&"+i[1]+";"}},e}(),Npe=/[\t\n\f ]/,kpe=/[A-Za-z]/,Rpe=/\r\n?/g;function pr(e){return Npe.test(e)}function YC(e){return kpe.test(e)}function Dpe(e){return e.replace(Rpe,`
`)}var Fpe=function(){function e(t,i,r){r===void 0&&(r="precompile"),this.delegate=t,this.entityParser=i,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var n=this.tagNameBuffer.toLowerCase();(n==="pre"||n==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),n=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&n!=="script"&&n!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||YC(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();n==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();pr(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();pr(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();pr(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!pr(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=n.toUpperCase()==="PUBLIC",a=n.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();pr(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();pr(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();pr(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();pr(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();pr(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();pr(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(pr(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();pr(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(pr(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();pr(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();pr(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();pr(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||YC(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=Dpe(t);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var i=this.input.slice(this.index,t),r=this.entityParser.parse(i);if(r){for(var s=i.length;s;)this.consume(),s--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),Upe=function(){function e(t,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Fpe(this,t,i.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var i=0;i<arguments.length;i++)if(t.type===arguments[i])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=t:i.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=t:i.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function jpe(e,t){var i=new Upe(new Lpe(Ope),t);return i.tokenize(e)}const O7="LinkifyResult",d1="StartTag",C7="EndTag",US="Chars",Bpe="Comment",Vpe="Doctype";function Gpe(e,t){t===void 0&&(t={});const i=jpe(e),r=[],s=[],n=new _T(t,Hpe);for(let o=0;o<i.length;o++){const a=i[o];if(a.type===d1){r.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||n.ignoreTags.indexOf(l)>=0))continue;let f=r.length;qpe(l,i,++o,r),o+=r.length-f-1}else if(a.type!==US)r.push(a);else{const l=zpe(a.chars,n);r.push.apply(r,l)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case O7:s.push(a.rendered);break;case d1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Ype(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case C7:s.push(`</${a.tagName}>`);break;case US:s.push(jS(a.chars));break;case Bpe:s.push(`<!--${jS(a.chars)}-->`);break;case Vpe:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",s.push(l);break}}}return s.join("")}function zpe(e,t){const i=$pe(e),r=[];for(let s=0;s<i.length;s++){const n=i[s];n.t==="nl"&&t.get("nl2br")?r.push({type:d1,tagName:"br",attributes:[],selfClosing:!0}):!n.isLink||!t.check(n)?r.push({type:US,chars:n.toString()}):r.push({type:O7,rendered:t.render(n)})}return r}function qpe(e,t,i,r){let s=1;for(;i<t.length&&s>0;){let n=t[i];n.type===d1&&n.tagName.toUpperCase()===e?s++:n.type===C7&&n.tagName.toUpperCase()===e&&s--,r.push(n),i++}return r}function Hpe(e){let{tagName:t,attributes:i,content:r}=e;return`<${t} ${Wpe(i)}>${jS(r)}</${t}>`}function jS(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I7(e){return e.replace(/"/g,"&quot;")}function Wpe(e){const t=[];for(const i in e){const r=e[i]+"";t.push(`${i}="${I7(r)}"`)}return t.join(" ")}function Ype(e){const t=[];for(let i=0;i<e.length;i++){const r=e[i][0],s=e[i][1]+"";t.push(`${r}="${I7(s)}"`)}return t}const Jpe="truncate-text",Zpe="truncate-trigger",Kpe={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(Jpe,!0)},mounted(e,t){let i;t.value&&t.value.externalTrigger&&(i=e.closest(`[${Zpe}]`)),dT(e,{content:JC(e.textContent),onShow:Xpe,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:i,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(JC(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function Xpe(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function JC(e){if(e===null)return"";let t=Gpe(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const Qpe=["content"],eme={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},tme={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},ime={key:1},rme={key:0,class:"flex"},sme=["innerHTML"],nme={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},ome=rt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:i}=ri(),r=fu(),s=Vv(),n=ki("iApi"),o=Ev("el"),a=Ev("contentEl"),l=X();t({el:o});const c=e,f=tt(()=>n?.fixture.get("appbar")?s.temporary:[]),d=tt(()=>r.mobileView),p=tt(()=>r.reorderable),y=S=>S.scrollHeight>S.clientHeight,v=()=>!d.value&&!c.panel.teleport,b=S=>{c.panel.move(S),S==="left"&&Rn(()=>{(o.value?.querySelector(".move-left")).focus()})},E=tt(()=>c.screenId?c.panel.screens[c.screenId][n?.$i18n.locale.value??"en"]:null);return hr(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Dn(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(S,T)=>{const w=wi("back"),_=wi("panel-options-menu"),M=wi("left"),$=wi("right"),I=wi("pin"),L=wi("expand"),P=wi("minimize"),F=wi("close"),z=Tt("truncate"),U=Tt("focus-item"),B=Tt("tippy");return At((fe(),xe("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${$e(i)(e.panel.alertName)+". "+$e(i)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(fe(),xe("header",eme,[Ke(w,{class:mi(e.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=Z=>e.panel.close())},null,8,["class"]),At((fe(),xe("h2",tme,[S.$slots.header?gn(S.$slots,"header",{key:0}):(fe(),xe("div",ime,jt($e(i)(e.panel.alertName)),1))])),[[z]]),S.$slots.controls?(fe(),Bt(_,{key:0},{default:Mi(()=>[gn(S.$slots,"controls")]),_:3})):Ht("",!0),ue("div",{class:mi(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Ht("",!0):(fe(),xe("div",rme,[p.value?(fe(),Bt(M,{key:0,onClick:T[1]||(T[1]=Z=>b("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Ht("",!0),p.value?(fe(),Bt($,{key:1,onClick:T[2]||(T[2]=Z=>b("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Ht("",!0),Ke(I,{onClick:T[3]||(T[3]=Z=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(fe(),Bt(L,{key:2,onClick:T[4]||(T[4]=Z=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Ht("",!0)])),e.panel.button&&f.value?.includes(e.panel.id)?(fe(),Bt(P,{key:1,onClick:T[5]||(T[5]=Z=>e.panel.minimize())})):Ht("",!0),Ke(F,{onClick:T[6]||(T[6]=Z=>e.panel.close())})],2)])):Ht("",!0),e.content?(fe(),xe("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[S.$slots.content?gn(S.$slots,"content",{key:0}):E.value?(fe(),xe("div",{key:1,innerHTML:E.value.innerHTML},null,8,sme)):Ht("",!0)],512)):Ht("",!0),e.footer?At((fe(),xe("div",nme,[gn(S.$slots,"footer")])),[[U]]):Ht("",!0)],8,Qpe)),[[B,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),ame={class:"relative"},lme=["content","aria-label"],cme=["transform"],ume=rt({__name:"pin",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",ame,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:$e(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":$e(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(fe(),xe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},r[0]||(r[0]=[ue("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,cme))],10,lme)),[[s,{placement:"bottom",hideOnClick:!1}]])])}}}),hme={class:"relative"},fme=["content","aria-label"],dme=rt({__name:"close",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",hme,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:$e(t)("panels.controls.close"),"aria-label":$e(t)("panels.controls.close")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ue("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,fme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),pme={class:"relative"},mme=["content","aria-label"],yme=rt({__name:"back",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",pme,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:$e(t)("panels.controls.back"),"aria-label":$e(t)("panels.controls.back")},r[0]||(r[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ue("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,mme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),gme={class:"w-32 h-32"},vme=["content","aria-label"],bme={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},_me={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},wme=rt({__name:"expand",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",gme,[At((fe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:$e(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":$e(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(fe(),xe("svg",_me,r[1]||(r[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ue("path",{d:"M4 12h16v2H4z"},null,-1)]))):(fe(),xe("svg",bme,r[0]||(r[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,vme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),xme={class:"relative"},Sme=["content","aria-label"],Eme=rt({__name:"minimize",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",xme,[At((fe(),xe("button",{type:"button",class:mi(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:$e(t)("panels.controls.minimize"),"aria-label":$e(t)("panels.controls.minimize")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ue("path",{d:"M6 19h12v2H6z"})],-1)]),10,Sme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Ame={class:"relative"},Tme=["content","aria-label"],Mme=rt({__name:"right",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",Ame,[At((fe(),xe("button",{type:"button",class:mi(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:$e(t)("panels.controls.moveRight"),"aria-label":$e(t)("panels.controls.moveRight")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,Tme)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),$me={class:"relative"},Ome=["content","aria-label"],Cme=rt({__name:"left",props:{active:Boolean},setup(e){const{t}=ri();return(i,r)=>{const s=Tt("tippy");return fe(),xe("div",$me,[At((fe(),xe("button",{type:"button",class:mi(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:$e(t)("panels.controls.moveLeft"),"aria-label":$e(t)("panels.controls.moveLeft")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,Ome)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Ime=rt({__name:"panel-options-menu",setup(e){const{t}=ri();return(i,r)=>(fe(),Bt(sT,{class:"flex",tooltip:$e(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Mi(()=>r[0]||(r[0]=[ue("div",{class:"p-6"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ue("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Mi(()=>[gn(i.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),Pme=va(Ime,[["__scopeId","data-v-5a275ac2"]]),Lme={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Nme={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},kme=rt({__name:"fullscreen-nav",setup(e){const{t}=ri(),i=ki("iApi"),r=()=>{i.toggleFullscreen()};return(s,n)=>{const o=wi("mapnav-button");return fe(),Bt(o,{onClickFunction:r,tooltip:$e(t)("mapnav.fullscreen")},{default:Mi(()=>[$e(i).isFullscreen?(fe(),xe("svg",Lme,n[0]||(n[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(fe(),xe("svg",Nme,n[1]||(n[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),Rme=rt({__name:"geolocator-nav",setup(e){const{t}=ri(),i=ki("iApi");let r=rr([]);const s=async()=>{if(r.length)n(r);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?i.notify.show(Ss.ERROR,t("mapnav.geolocator.error.permission")):i.notify.show(Ss.ERROR,t("mapnav.geolocator.error.internal"))});a&&(r=[a.coords.longitude,a.coords.latitude],n(r))}},n=a=>{const l=new jr("geolocation",a,Be.latLongSR(),!0);i.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=wi("mapnav-button");return fe(),Bt(c,{onClickFunction:s,tooltip:$e(t)("mapnav.geolocator")},{default:Mi(()=>l[0]||(l[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),Dme=rt({__name:"home-nav",setup(e){const{t}=ri(),i=ki("iApi"),r=()=>{const s=i.geo.map.getExtentSet();i.geo.map.zoomMapTo(s.fullExtent)};return(s,n)=>{const o=wi("mapnav-button");return fe(),Bt(o,{onClickFunction:r,tooltip:$e(t)("mapnav.home")},{default:Mi(()=>n[0]||(n[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ue("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),Fme={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},Ume=["content","aria-label"],jme=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,i)=>{const r=Tt("focus-item"),s=Tt("tippy");return fe(),xe("div",Fme,[At((fe(),xe("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:i[0]||(i[0]=n=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[gn(t.$slots,"default")],8,Ume)),[[r],[s,{placement:"left"}]])])}}}),Bme={class:"relative",tabindex:"-1"},Vme=["aria-label","content"],Gme=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=ki("iApi"),i=e,r=()=>t?.event.emit(Ce.APPBAR_BUTTON_CLICK,i.buttonId);return(s,n)=>{const o=Tt("focus-item"),a=Tt("tippy");return fe(),xe("div",Bme,[At((fe(),xe("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{e.onClickFunction(),r()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[gn(s.$slots,"default",{},void 0,!0)],8,Vme)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),zme=va(Gme,[["__scopeId","data-v-8a68fa69"]]),qme=ai("areas-of-interest",()=>({areas:X([])})),Hme=ai("export",()=>{const e=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=X("");function i(r){if(e.value[r.name]!==void 0){const s=e.value[r.name];e.value[r.name]=r.selected!==void 0?r.selected:!s}}return{componentSelectedState:e,fileName:t,toggleSelected:i}}),Wme=ai("extentguard",()=>{const e=X(!1);function t(l){e.value=l}const i=X(!1);function r(l){i.value=l}const s=X(!1);function n(l){s.value=l}const o=X([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:i,setEnforcing:r,alwaysOn:s,setAlwaysOn:n,extentSetIds:o,setExtentSetIds:a}}),jb=function e(t){function i(s,n,o){var a,l={};if(Array.isArray(s))return s.concat(n);for(a in s)l[o?a.toLowerCase():a]=s[a];for(a in n){var c=o?a.toLowerCase():a,f=n[a];l[c]=c in l&&typeof f=="object"?i(l[c],f,c=="headers"):f}return l}function r(s,n,o,a,l){var c=typeof s!="string"?(n=s).url:s,f={config:n},d=i(t,n),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:i(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(f[v]=y[v]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(b){f.data=b,f.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return t=t||{},r.request=r,r.get=function(s,n){return r(s,n,"get")},r.delete=function(s,n){return r(s,n,"delete")},r.head=function(s,n){return r(s,n,"head")},r.options=function(s,n){return r(s,n,"options")},r.post=function(s,n,o){return r(s,o,"post",n)},r.put=function(s,n,o){return r(s,o,"put",n)},r.patch=function(s,n,o){return r(s,o,"patch",n)},r.all=Promise.all.bind(Promise),r.spread=function(s){return s.apply.bind(s,s)},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=t,r.create=e,r}(),Yme={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},g2={en:{},fr:{}};class Jme{list={};listFetched=!1;constructor(t,i){jb.get(i).then(r=>{r.data.definitions.forEach(s=>g2[t][s.code]=s.description),Object.keys(g2[t]).forEach(s=>{this.list[s]=g2[t][s]}),this.listFetched=!0})}fsaToProvinces(t){const i={};let r=Yme[t.substring(0,1).toUpperCase()];return typeof r=="number"&&(r=[r]),r.forEach(s=>{i[s]=this.list[s]}),i}}function Zme(e,t){return new Jme(e,t)}const Ty={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"RÃ©gion De Tri D'Acheminement",NTS:"SystÃ¨me National De RÃ©fÃ©rence Cartographique",COORD:"Latitude/Longitude",SCALE:"Ã‰chelle"}};class Kme{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,i){jb.get(i).then(r=>{r.data.definitions.forEach(s=>{Ty[t][s.code]=s.term.split(`${s.code}-`)[1]}),Object.keys(Ty[t]).forEach(s=>{this.allTypes[s]=Ty[t][s],this.validTypes[s]=Ty[t][s]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const i of t)delete this.validTypes[i];return this.filterComplete=!0,this.validTypes}}function Xme(e,t){return new Kme(e,t)}function Qme(e,t){const i=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,r=/^\d{2,3}[A-P]/,s=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(i.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")){const n=t.slice(0,-1);return new e0e(e,n)}else return s.test(t)&&!e.disabledSearchTypes.includes("FSA")?new t0e(e,t):r.test(t)&&!e.disabledSearchTypes.includes("NTS")?new i0e(e,t.substring(0,6).toUpperCase()):new r0e(e,t)}class Bb{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(t,i){this.query=i,this.config=t}search(){return this.jsonRequest(this.getUrl()).then(t=>this.normalizeNameItems(t.items)).catch(()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}getUrl(t,i,r,s){let n="";return t?n=this.config.geoLocateUrl+"?q="+this.query:(r&&s?n=`${this.config.geoNameUrl}?lat=${r}&lon=${s}&num=${this.config.maxResults}`:n=`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(n+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(n+="&category=O")),n}normalizeNameItems(t){return t.filter(i=>this.config.types.validTypes[i.concise.code]).map(i=>({name:i.name,location:i.location,province:this.config.provinces.list[i.province.code],type:this.config.types.allTypes[i.concise.code],LatLon:{lat:i.latitude,lon:i.longitude},bbox:i.bbox,order:this.config.sortOrder.indexOf(i.concise.code)>=0?this.config.sortOrder.indexOf(i.concise.code):this.config.sortOrder.length}))}jsonRequest(t){return new Promise((i,r)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="json",s.onload=()=>{if(s.status===200){const n=typeof s.response=="string"?JSON.parse(s.response):s.response;i(n)}else r("Could not load results from remote service.")},s.send()})}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(t,i,r){return this.jsonRequest(this.getUrl(!1,r,t,i)).then(s=>this.normalizeNameItems(s.items)).catch(()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}}class e0e extends Bb{constructor(t,i){super(t,i),this.resultType="latlong";const s=i.split(/[\s|,|;|]/).filter(a=>!isNaN(a)&&a!=="").map(a=>parseFloat(a)),n=.015,o=[s[1]-n,s[0]-n,s[1]+n,s[0]+n];this.latLongResult={name:`${s[0]},${s[1]}`,location:{latitude:s[0],longitude:s[1]},type:"Latitude/Longitude",position:[s[1],s[0]],bbox:o},this.onComplete=new Promise((a,l)=>{this.nameByLatLon(s[0],s[1]).then(c=>{c?(this.results=c,a(this)):l("Given lat lon coordinates cannot be found")})})}}class t0e extends Bb{constructor(t,i){i=i.substring(0,3).toUpperCase(),super(t,i),this.resultType="fsa",this.onComplete=new Promise(r=>{this.formatLocationResult().then(s=>{s?(this.featureResults.push(s),this.nameByLatLon(s.LatLon.lat,s.LatLon.lon,Object.keys(s._provinces).map(n=>parseInt(n))).then(n=>{this.results=n,r(this)})):(console.log("FSA code given cannot be found."),r(this))})})}formatLocationResult(){return this.locateByQuery().then(t=>{if(t.length===1&&this.query){const i=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(i).map(r=>i[r]).join(","),_provinces:i,LatLon:{lat:t[0].geometry.coordinates[1],lon:t[0].geometry.coordinates[0]}}}}).catch(()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")})}}class i0e extends Bb{unitName;unit;mapSheets=[];constructor(t,i){super(t,i),this.resultType="nts",i=isNaN(parseInt(i[2]))?"0"+i:i,this.unitName=i,this.onComplete=new Promise(r=>{this.locateByQuery().then(s=>{if(s.length>0&&this.query){const n=this.locateToResult(s);this.unit=n[0],this.mapSheets=n,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then(o=>{this.results=o,r(this)})}else console.log("Given NTS code not found"),r(this)}).catch(()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),r(this)})})}locateToResult(t){return t.map(r=>{const s=r.title.split(" ");return{nts:s.shift()||"",location:s.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:r.geometry.coordinates[1],lon:r.geometry.coordinates[0]},bbox:r.bbox}})}equals(t){return this.unitName===t.unitName}}class r0e extends Bb{constructor(t,i){i=encodeURIComponent(i.trim()),super(t,i),this.resultType="address",this.onComplete=new Promise(r=>{this.locateByQuery().then(s=>{this.featureResults=this.locateToResult(s),this.search().then(n=>{this.results=n,r(this)})}).catch(()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then(s=>{this.results=s,r(this)})})})}locateToResult(t){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:t.filter(r=>r.type?.includes("Street")).map(r=>{const[s,n,o]=r.title.split(", ");return{name:s,city:n.split(" Of ").pop(),province:o,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:r.geometry.coordinates[1],lon:r.geometry.coordinates[0]}}})}}const ZC="https://geogratis.gc.ca/services/geolocation/@{language}/locate",KC="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",XC="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",QC="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",s0e={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class eI{config;constructor(t,i){let r,s,n,o;const a=i?.serviceUrls;a?(r=a.geoLocation?a.geoLocation:ZC,s=a.geoNames?a.geoNames:KC,n=a.geoProvince?a.geoProvince:XC,o=a.geoTypes?a.geoTypes:QC):(r=ZC,s=KC,n=XC,o=QC),r=r.replace("@{language}",t),s=s.replace("@{language}",t),n=n.replace("@{language}",t),o=o.replace("@{language}",t);const l=i?.settings;let c,f,d,p,y;l?(c=l.categories?l.categories:[],f=l.sortOrder?l.sortOrder:[],d=l.disabledSearchTypes?l.disabledSearchTypes:[],p=l.maxResults>0?l.maxResults:100,y=!!l.officialOnly):(c=[],f=[],d=[],p=100,y=!1),this.config={language:t,geoNameUrl:s,geoLocateUrl:r,types:Xme(t,o),provinces:Zme(t,n),categories:c,sortOrder:f,disabledSearchTypes:d,maxResults:p,officialOnly:y},this.config.types.filterValidTypes(i?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=i?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(t){this._provinceList=t}set typeList(t){this._typeList=t}levenshteinDistance(t,i){i=i.toLowerCase().trim();const r=decodeURI(t.query.toLowerCase().replace("*","")),s=[];for(let n=0;n<=i.length;n++){s[n]=[n];for(let o=1;o<=r.length;o++)s[n][o]=n===0?o:Math.min(s[n][o-1]+1,s[n-1][o]+.2,s[n-1][o-1]+(r[o-1]===i[n-1]?0:1))}return s[i.length][r.length]}findProvinceObj(t){return this.provinceList.find(i=>i.name===t)}query(t){return Qme(this.config,t.toUpperCase()).onComplete.then(i=>{let r=[];i.featureResults.length>0?i.resultType==="fsa"?r=i.featureResults.map(n=>({name:n.fsa,bbox:[n.LatLon.lon+.02,n.LatLon.lat-.02,n.LatLon.lon-.02,n.LatLon.lat+.02],type:n.desc,position:[n.LatLon.lon,n.LatLon.lat],location:{latitude:n.LatLon.lat,longitude:n.LatLon.lon,province:this.findProvinceObj(n.province)},order:-1})):i.resultType==="nts"?r=i.featureResults.map(n=>({name:n.nts,bbox:n.bbox??[n.LatLon.lon+.02,n.LatLon.lat-.02,n.LatLon.lon-.02,n.LatLon.lat+.02],type:n.desc,position:[n.LatLon.lon,n.LatLon.lat],location:{city:n.location,latitude:n.LatLon.lat,longitude:n.LatLon.lon},order:-1})):i.resultType==="address"&&(r=i.featureResults.map(n=>({name:n.name,bbox:[n.LatLon.lon+.002,n.LatLon.lat-.002,n.LatLon.lon-.002,n.LatLon.lat+.002],type:n.desc,position:[n.LatLon.lon,n.LatLon.lat],location:{city:n.city,latitude:n.LatLon.lat,longitude:n.LatLon.lon,province:this.findProvinceObj(n.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length})),this.config.sortOrder.length>0&&(r=r.sort((n,o)=>this.levenshteinDistance(i,n.name)>this.levenshteinDistance(i,o.name)?1:-1))):i.resultType==="latlong"&&(r=[i.latLongResult],r[0].order=-1);const s=i.results.map(n=>({name:n.name,bbox:n.bbox,type:n.type,position:[n.LatLon.lon,n.LatLon.lat],location:{city:n.location,latitude:n.LatLon.lat,longitude:n.LatLon.lon,province:this.findProvinceObj(n.province)},order:n.order}));return{results:r.concat(s).slice(0,this.config.maxResults).sort((n,o)=>this.config.sortOrder.length>0?n.order>o.order?1:-1:this.levenshteinDistance(i,n.name)>this.levenshteinDistance(i,o.name)?1:-1),failedServs:i.failedServs}})}fetchProvinces(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.provinces.listFetched){clearInterval(i);const r=[],s={code:-1,abbr:"...",name:"..."};r.push(s);const n=this.config.provinces.list;for(const o in n)r.push({code:o,abbr:s0e[o],name:n[o]});this.provinceList=r,t(this.provinceList)}})})}fetchTypes(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(i);const r=[],s={code:-1,name:"..."};r.push(s);const n=this.config.types.allTypes;for(const o in n)this._excludedTypes.includes(o)||r.push({code:o,name:n[o]});this.typeList=r,t(this.typeList)}},250)})}}function tI(e,t,i){return e&&t.extent&&(i=i.filter(r=>r.bbox[0]<=t.extent.xmax&&r.bbox[1]<=t.extent.ymax&&r.bbox[2]>=t.extent.xmin&&r.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(i=i.filter(r=>r.location.province?.name&&r.location.province.name===t.province)),t.type&&t.type!=="..."&&(i=i.filter(r=>r.type===t.type)),i}const n0e=ai("geosearch",()=>{const e=X(new eI("en",void 0)),t=X({type:"",province:"",extent:void 0}),i=X(!1),r=X(""),s=X(""),n=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),f=tt(()=>new Promise(w=>{e.value.fetchProvinces().then(_=>{_.sort((M,$)=>M.name>$.name?1:-1),w(_)})})),d=tt(()=>new Promise(w=>{e.value.fetchTypes().then(_=>{_.sort((M,$)=>M.name>$.name?1:-1),w(_)})}));function p(w,_){e.value=new eI(w,_)}function y(w){l.value=!0;const _=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!_)o.value=[],a.value=[],l.value=!1;else if(_&&_!==n.value||w){const M=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(M),e.value.query(`${_}*`).then($=>{c.value=$.failedServs,n.value=_,a.value=$.results;const I=tI(i.value,t.value,a.value);o.value=I||[],l.value=!1}))},250)}else{const M=tI(i.value,t.value,a.value);o.value=M||[],l.value=!1}}function v(w){t.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function b(w){t.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function E(w){n.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=w,y()}function S(w){const _={a:"Ã Ã¡Ã¢Ã£Ã¤Ã¥ÄÄƒÄ…ÇŽÈÈƒÈ§áº¡áº£áº¥áº§áº©áº«áº­áº¯áº±áº³áºµáº·",b:"á¸ƒÉ“á¸…á¸‡",c:"Ã§Ä‡Ä‰Ä‹Ä",d:"Äá¸‹á¸á¸á¸‘á¸“",e:"Ã¨Ã©ÃªÃ«Ä“Ä•Ä—Ä™Ä›È…È‡áº¹áº»áº½áº¿á»á»ƒá»…á»‡",f:"Æ’á¸Ÿ",g:"ÄÄŸÄ¡Ä£Ç§Çµá¸¡",h:"Ä¥ÈŸá¸£á¸¥á¸§á¸©á¸«áº–",i:"Ã¬Ã­Ã®Ã¯Ä©Ä«Ä­Ä¯Ä±È‰È‹á»‹á»‰Ä©",j:"ÄµÇ°É‰",k:"Ä·Ä¸Æ™á¸³á¸µ",l:"ÄºÄ¼Ä¾Å€Å‚á¸·á¸¹á¸»á¸½",m:"á¸¿á¹á¹ƒ",n:"Ã±Å„Å†ÅˆÅ‰Å‹Ç¹á¹…á¹‡á¹‰á¹‹",o:"Ã²Ã³Ã´ÃµÃ¶ÅÅÅ‘Æ¡Ç’Ç«Ç­ÈÈÈ¯á»á»á»‘á»“á»•á»—á»™á»›á»á»Ÿá»¡á»£",p:"á¹•á¹—",r:"Å•Å—Å™È‘È“á¹›á¹á¹Ÿ",s:"Å›ÅÅŸÅ¡È™á¹¡á¹£á¹¥á¹§á¹©",t:"Å£Å¥Å§È›á¹«á¹­á¹¯á¹±áº—",u:"Ã¹ÃºÃ»Ã¼Å©Å«Å­Å¯Å±Å³Æ°Ç”Ç–Ç˜ÇšÇœÈ•È—á»¥á»§á»©á»«á»­á»¯á»±",v:"á¹½á¹¿",w:"áºáºƒÅµáº…áº‡áº‰áº‹",x:"áº‹áº",y:"á»³Ã½Å·Ã¿á»¹È³áºáº™á»µá»·á»¹",z:"ÅºÅ¼Å¾áº‘áº“áº•"};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),s.value=Array.from(w).map(M=>Object.keys(_).includes(M)?"["+M+_[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(w){if(w.visible!==void 0&&(i.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=w.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:i,searchVal:r,searchRegex:s,lastSearchVal:n,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:v,setType:b,setSearchTerm:E,setSearchRegex:S,setMapExtent:T}}),o0e=ai("help",()=>({location:X("./help/")}));var P7=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(P7||{}),BS=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(BS||{});class L7 extends $i{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,i,r){super(t),this._uid=Wh.sharedUtils.generateUUID(),this._name=i.name,this._type=i.type??"placeholder",this._parent=r,this._children=[],this._loadPromise=new Ei,this._hidden=i.hidden??!1,this._expanded=i.expanded??!0,this._visibility=!0,this._exclusive=i.exclusive??!1,this._controls=i.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=i.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,i){i&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(r=>r!==t),this._controls?.push(t)):!i&&this._controls?.includes(t)&&(this._controls=this._controls.filter(r=>r!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,i=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Ha)||this._lastVisible.layerControlAvailable(vi.Visibility)))this._lastVisible.toggleVisibility(!0);else{const r=this.children.find(s=>!(s instanceof Ha)||s.layerControlAvailable(vi.Visibility));r&&r.toggleVisibility(!0)}else this._lastVisible=this.children.find(r=>r.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&i&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(i=>i.visibility&&i!==this&&i.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof Ha&&!this.layerControlAvailable(vi.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(i=>{i.uid!==t.uid&&i.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(i=>i.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(i=>i.visibility),this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Ha&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},i=[];return this.children.forEach(r=>{i.push(r.getConfig())}),this.exclusive?t.exclusiveVisibility=i:t.children=i,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Ei}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Ha extends L7{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,i,r){if(super(t,i,r),this._type=BS.Placeholder,this._layerId=i.layerId,this._layerIdx=i.sublayerIndex,this._isSublayer=i.sublayerIndex!==void 0,this._layerControls=i.layerControls??[],this._origLayerControls=i.layerControls,this._layerDisabledControls=i.disabledLayerControls??[],this._origLayerDisabledControls=i.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=i.symbologyExpanded||!1,i.coverIcon&&(this._coverIcon=i.coverIcon),i.description&&(this._description=i.description),this._symbologyRenderStyle=i.symbologyRenderStyle??"icons",this._customSymbology=!!i.symbologyStack,this._symbologyStack=i.symbologyStack?.map(s=>({uid:this.$iApi.geo.shared.generateUUID(),label:s.text,definitionClause:s.sqlQuery,imgUrl:s.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=i.maxLines&&[1,2,3,4,5,6].includes(i.maxLines)?i.maxLines:void 0,!this._name){const s=this.$iApi.getConfig()?.layers;if(s&&Array.isArray(s)){const n=s.find(o=>o.id===this._layerId);if(n)if(this._isSublayer){if(n.sublayers&&Array.isArray(n.sublayers)){const o=n.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else n.name&&(this._name=n.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,i=!0,r=!1){if(!(!this.layerControlAvailable(vi.Visibility)&&!r)&&(super.toggleVisibility(t,i),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const s=this._symbologyStack.some(n=>n.lastVisbility);this._symbologyStack.forEach(n=>{s||(n.lastVisbility=!0),n.visibility=this.visibility?n.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,i){this._symbologyStack.some(r=>((t===void 0||r.uid===t)&&(r.visibility=i,r.lastVisbility=i),t!==void 0&&r.uid===t))}load(t){const i=t instanceof ST?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);i&&(this.layer=i,this._layerRedrawing=i.mapLayer&&i.drawState!==ts.UP_TO_DATE,i.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:i.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),i.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Ce.LAYER_VISIBILITYCHANGE,r=>{r.layer.uid===this.layer.uid&&this._type===BS.Item&&this.toggleVisibility(r.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Ce.LAYER_DRAWSTATECHANGE,r=>{this.layer.uid===r.layer.uid&&(r.layer.drawState===ts.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=r.layer.drawState===ts.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?i.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Ce.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var a0e=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(a0e||{});class iI extends L7{_infoType;_content;constructor(t,i,r){super(t,i,r),this._infoType=i.infoType??"title",this._content=i.content??"",i.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(i.infoType||i.content)&&(this._controls=i.controls?.slice()??[P7.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const l0e=ai("legend",()=>{const e=X(),t=X([]),i=X([]),r=X(!0),s=X(3);function n(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof iI)&&!(l.item instanceof Ha)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof iI&&!d.children.length&&d.content==="")),f);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,f=c.indexOf(l.oldItem);f>-1&&(t.value[f]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:r,maxLines:s,children:t,headerControls:i,addItem:n,removeItem:o,replaceItem:a}}),c0e=ai("mapnav",()=>{const e=X({}),t=X([]);function i(r){r in e.value&&delete e.value[r];const s=t.value.indexOf(r);s!==-1&&t.value.splice(s,1)}return{items:e,order:t,removeItem:i}}),u0e=ai("metadata",()=>{const e=X(""),t=X({type:"LineString",coordinates:[]});return{status:e,response:t}}),h0e=ai("northarrow",()=>{const e=X(""),t=X("");return{arrowIcon:e,poleIcon:t}}),f0e=ai("overviewmap",()=>{const e=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=X({}),i=X(!0),r=X(1.5),s=X("#FF0000"),n=X(1),o=X("#000000"),a=X(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:i,expandFactor:r,borderColour:s,borderWidth:n,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),d0e=ai("scrollguard",()=>{const e=X(!1);function t(i){e.value=i}return{enabled:e,setEnabled:t}});var yr=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(yr||{});const p0e=ai("wizard",()=>{const e={id:"Placeholder",layerType:Pe.UNKNOWN,url:""},t=X(),i=X(""),r=X(""),s=X(!0),n=X(null),o=X({config:e,configOptions:[]}),a=X(yr.UPLOAD);function l(c){switch(a.value){case yr.UPLOAD:c===yr.UPLOAD?i.value="":c===yr.FORMAT&&(a.value=yr.FORMAT);break;case yr.FORMAT:c===yr.UPLOAD?(n.value&&(i.value="",n.value=null),r.value="",a.value=yr.UPLOAD):c===yr.CONFIGURE&&(a.value=yr.CONFIGURE);break;case yr.CONFIGURE:c===yr.UPLOAD?(i.value="",r.value="",n.value=null,s.value=!0,o.value={config:e,configOptions:[]},a.value=yr.UPLOAD):c===yr.FORMAT&&(o.value={config:e,configOptions:[]},s.value=!0,a.value=yr.FORMAT);break}}return{layerSource:t,url:i,typeSelection:r,nested:s,fileData:n,layerInfo:o,currStep:a,goToStep:l}});class m0e{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,i,r){this.event=new Yoe(this);const s=y0e(t,this);this.$vApp=s.app,this.$element=s.element,this.$i18n=s.i18n,this.$rootEl=s.app.$root?.$el,this.fixture=new Iye(this),this.panel=new Pye(this),this.geo=new Oye(this),this.dev=new Fye(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new nhe(this),this._isFullscreen=Gn.isEnabled&&!!this.$vApp.$root&&Gn.isFullscreen&&Gn.element===this.$vApp.$root.$el,Gn.isEnabled&&Gn.onchange(()=>{this._isFullscreen=Gn.isEnabled&&!!this.$vApp.$root&&Gn.isFullscreen&&Gn.element===this.$vApp.$root.$el}),this.initialize(!0,i,r)}initialize(t,i,r){const s=ss(this.$vApp.$pinia),n=fu(this.$vApp.$pinia),o=Hv(this.$vApp.$pinia);if(i?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);s.registerAllConfigs(i,l);const c=s.registeredConfigs[s.registeredLangs[this.$i18n.locale.value]];s.newConfig(c),s.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const f=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(f),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(E=>{const S=this.geo.layer.createLayer(E);this.geo.map.addLayer(S,b).catch(()=>{}),S.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(b=>b.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}n.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,E=>b[E])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}r||(r={});const a=ch(this.$vApp.$pinia);r?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Ce.MAP_START)),t&&(r.loadDefaultFixtures!==!1||i?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(i?.startingFixtures):t||this.fixture.restore(),r.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(t,i){const r=ch(this.$vApp.$pinia),s=vo(this.$vApp.$pinia),n=ss(this.$vApp.$pinia),o=Fs(this.$vApp.$pinia),a=lo(this.$vApp.$pinia),l=fS(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),r.started=!1,this.geo.map.destroyMap(),a.$reset(),i?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(t=JSON.parse(JSON.stringify({startingFixtures:n.startingFixtures,configs:n.registeredConfigs}))),s.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,i),c&&this.event.emit(Ce.CONFIG_CHANGE,this.getConfig())}reload(t,i){this.reloadWorker(t,i),this.event.emit(Ce.RAMP_RELOAD)}component(t,i){if(i){const r=this.$element.component(t,i);return this.event.emit(Ce.COMPONENT,t),r}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=ss(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return Vv(this.$vApp.$pinia);case"areas-of-interest":return qme(this.$vApp.$pinia);case"details":return J9(this.$vApp.$pinia);case"export":return Hme(this.$vApp.$pinia);case"extentguard":return Wme(this.$vApp.$pinia);case"geosearch":return n0e(this.$vApp.$pinia);case"grid":return fS(this.$vApp.$pinia);case"help":return o0e(this.$vApp.$pinia);case"legend":return l0e(this.$vApp.$pinia);case"mapnav":return c0e(this.$vApp.$pinia);case"metadata":return u0e(this.$vApp.$pinia);case"northarrow":return h0e(this.$vApp.$pinia);case"overviewmap":return f0e(this.$vApp.$pinia);case"scrollguard":return d0e(this.$vApp.$pinia);case"wizard":return p0e(this.$vApp.$pinia);case"config":return ss(this.$vApp.$pinia);case"fixture":return Fs(this.$vApp.$pinia);case"instance":return ch(this.$vApp.$pinia);case"layer":return lo(this.$vApp.$pinia);case"map-caption":return fl(this.$vApp.$pinia);case"maptip":return Hv(this.$vApp.$pinia);case"notification":return vo(this.$vApp.$pinia);case"panel":return fu(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const i=ss(this.$vApp.$pinia),r=vo(this.$vApp.$pinia),s=i.registeredLangs;Object.keys(i.registeredConfigs).length===1&&r.clearAll();const n=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();s[n]!==s[t]&&(this.reloadWorker(),this.event.emit(Ce.CONFIG_CHANGE,o)),this.event.emit(Ce.LANG_CHANGE,{oldLang:n,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){Gn.isEnabled&&Gn.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return ch(this.$vApp.$pinia).started}updateAlert(t){const i=this.$vApp.$el.querySelector(".screen-reader-alert");i.childNodes.length>0&&(i.innerHTML="");const r=document.createElement("span");r.setAttribute("role","alert");const s=document.createTextNode(t);r.appendChild(s),i.insertBefore(r,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=ch(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit(Ce.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function y0e(e,t){const i=Boe();i.use(({store:o})=>{const a=nC(o.$state);o.$reset=()=>o.$patch(nC(a))});const r=uce(),s=$l(rpe).use(r).use(Xde,{directive:"tippy",component:"tippy"}).use(i);s.directive("focus-container",hpe),s.directive("focus-list",ope),s.directive("focus-item",lpe),s.directive("truncate",Kpe),s.component("panel-screen",ome),s.component("pin",ume),s.component("close",dme),s.component("back",yme),s.component("expand",wme),s.component("panel-options-menu",Pme),s.component("dropdown-menu",sT),s.component("minimize",Eme),s.component("right",Mme),s.component("left",Cme),s.component("fullscreen-nav-button",kme),s.component("geolocator-nav-button",Rme),s.component("home-nav-button",Dme),s.component("mapnav-button",jme),s.component("appbar-button",zme),s.component("transition",bb),s.component("transition-group",wb),s.config.globalProperties.$iApi=t,s.config.globalProperties.$pinia=i,s.config.idPrefix=`ramp-${e.id||t.geo.shared.generateUUID()}`,s.provide("iApi",t);const n=s.mount(e);return{element:s,app:n,i18n:r.global}}class wT{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const i=new wT(t),r=t.layers.map(o=>{if(o.layerType===Pe.TILE)return $t.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===Pe.MAPIMAGE)return $t.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===Pe.OSM)return $t.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),n=(await Promise.allSettled(r)).filter(o=>o.status==="rejected"?(console.error(o.reason),i.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return i.esriBasemap=await $t.Basemap({baseLayers:n,title:t.name||"",id:t.id}),i}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class g0e extends $i{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t,i=""){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Ei,this.handlers=[],this.pointZoomScale=5e4,this.name=i}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,i){const r=l=>{this.$iApi.notify.show(Ss.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},s=t.basemaps.map(l=>wT.create(l)),o=(await Promise.all(s)).filter(l=>(l.createErr&&r(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{ar(()=>c.loadStatus,()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(r(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=pi(await $t.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=i,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,i){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,i)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Ei,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const i=this._basemapStore.find(r=>r.id===t);if(i)return i;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,i,r=!0,s=200,n="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ze.POINT&&(a.scale=i||this.pointZoomScale);const l={animate:r,duration:s,easing:n};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?ei.fromESRI(this.esriView.extent):(this.noMapErr(),ei.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),cm.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Be.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class v0e extends $i{maptipStore;constructor(t){super(t),this.maptipStore=Hv(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const i=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!i){this.clear(),this.maptipStore.maptipInstance.disable();return}const r=this.$iApi.geo.layer.getLayer(i.layerId);if(r?.geomType!=Ze.POLYGON&&this.#e&&this.#e.layerId===i.layerId&&this.#e.oid===i.oid&&this.#e.layerIdx===i.layerIdx)return;if(this.clear(),this.#e=i,!r){console.error(`graphic hit test returned non-existent layer id: ${i.layerId}`);return}if(!r.hovertips)return;const s=await r.getIcon(i.oid),n=await r.getGraphic(i.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit(Ce.MAP_GRAPHICHIT,{layer:r,graphicHit:i,attributes:n.attributes,icon:s,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.layer.tooltipValue(t.attributes)}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class b0e extends $i{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const i=fl(this.$vApp.$pinia);if(i.coords.disabled=!1,i.scale.disabled=!1,i.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)i.coords.disabled=!0;else{const r=t.mapCoords.formatter;r!==void 0&&this.setPointFormatter(r)}if(t.scaleBar)if(t.scaleBar.disabled)i.scale.disabled=!0;else{const r=t.scaleBar.imperialScale;r!==void 0&&(i.toggleScale(r),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}i.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const i={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},r={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},s={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?s.logo.disabled=!0:(s.logo.altText=t.logo.altText||r.altText,s.logo.link=t.logo.link||r.link,s.logo.value=t.logo.value||r.value):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value),t.text?t.text.disabled?s.text.disabled=!0:s.text.value=t.text.value||i.value:s.text.value=i.value,fl(this.$vApp.$pinia).setAttribution(s)):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value,s.text.value=i.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let n="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(f=>new Promise(d=>{let p=0;const y=o/a,v=setInterval(function(){f.loaded&&!f.loadError?(clearInterval(v),d(f)):p>y&&(clearInterval(v),d(null)),p++},a)})).toArray();Promise.all(c).then(f=>{n=f.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),s.text.value=n||s.text.value||i.value,fl(this.$vApp.$pinia).setAttribution(s)})}}}updateScale(){const t=fl(this.$vApp.$pinia),i=t.scale;if(i?.disabled)return;const r=i?.isImperialScale||!1,s=this.scaleHelper().find(n=>n.isImperialScale===r)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${s.pixels}px`,label:`${this.$iApi.$i18n.n(s.distance,"number")}${s.units}`,isImperialScale:r}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,i=this.$iApi.geo.map.getResolution(),r=[],s=i*t,n=1609.34,o=3.28084,a=s>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(r.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),s>1e3){const f=i*t/(c?n:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);r[l].distance=Math.ceil(f/p)*p,r[l].pixels=r[l].distance*(c?n:1e3)/i}else r[l].distance=Math.ceil(c?s*o:s),r[l].pixels=s/i}return r}wrapValue(t,i,r){return((t-i)%(r-i)+(r-i))%(r-i)+i}async formatLatLongDMS(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="Â°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.floor(Math.abs((r-o)*60)),l=Math.floor((Math.abs(r)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(s))*(s<0?-1:1),f=Math.floor(Math.abs((s-c)*60)),d=Math.floor((Math.abs(s)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${n} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDDM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="Â°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.abs((r-o)*60),l=Math.floor(Math.abs(s))*(s<0?-1:1),c=Math.abs((s-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${n} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDD(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="Â°",o=Math.abs(r),a=Math.abs(s);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatMercator(t){const i=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(i.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(i.y),"number")} m`}async formatLambert(t){const i=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(i.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>i.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(i.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(i.y>0?"north":"south"))}`}async formatUTM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n=Math.ceil((s+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+n),t);return`${this.$iApi.$i18n.n(n,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const i=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(i.x,"number")} | ${this.$iApi.$i18n.n(i.y,"number")}`}}class _0e extends g0e{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(t){super(t,"main"),this.maptip=new v0e(t),this.caption=new b0e(t),this.mapMouseThrottle=0}async createMap(t,i){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,i),this.viewPromise.then(()=>{this.$iApi.event.emit(Ce.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit(Ce.MAP_DESTROYED)}async createMapView(t){const r=ss(this.$vApp.$pinia).config.map;if(!r)throw new Error("Attempted to create map view without a map config");const s=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(r.initialBasemapId),n=r.tileSchemas.find(l=>l.id===s.tileSchemaId);if(!n)throw new Error(`Could not find tile schema for the given basemap id: ${s.id}`);const o=r.extentSets.find(l=>l.id===n.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${n.extentSetId}`);this._rampExtentSet=cm.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=r.lodSets.find(l=>l.id===n.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${n.lodSetId}`);this.esriView=pi(await $t.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:s.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:ar(()=>this.esriView.extent,l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit(Ce.MAP_EXTENTCHANGE,c),this.$iApi.event.emit(Ce.FILTER_CHANGE,{extent:c,filterKey:Dr.EXTENT})}})}),this.handlers.push({type:"scale",handler:ar(()=>this.esriView.scale,l=>{this.$iApi.event.emit(Ce.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit(Ce.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit(Ce.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit(Ce.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",Gv(100,!0,l=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",Gv(100,l=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit(Ce.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit(Ce.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit(Ce.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit(Ce.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit(Ce.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit(Ce.MAP_BLUR,l.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}):console.error("ESRI Map View is missing its container"),ar(()=>this.esriView.fatalError,()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(s),n.recoveryBasemap?.basemapId){const l=n.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(n.id)},l)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap);const r=ss(this.$vApp.$pinia);r.activeBasemapConfig=i.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const i=ss(this.$vApp.$pinia),r=await this.findBasemap(t),n=i.activeBasemapConfig.tileSchemaId!==r.tileSchemaId;if(n){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Ei,this.created=!1,this.$iApi.event.emit(Ce.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(r),await this.viewPromise.then(()=>{this.$iApi.event.emit(Ce.MAP_REFRESH_END),this.$iApi.event.emit(Ce.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(r);const o=await $t.ColorBackground({color:new fa(r.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit(Ce.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n})}return n}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const r=ss(this.$vApp.$pinia).config.map;if(r){const s=r.tileSchemas.find(n=>n.id===t);if(s?.recoveryBasemap?.basemapId){const n=await this.findBasemap(s.recoveryBasemap.basemapId);await this.applyBasemap(n)}}}addLayer(t,i=void 0){return new Promise((r,s)=>{if(this.esriMap||(this.noMapErr(),s()),t.initiationState!==Qt.INITIATING&&t.initiationState!==Qt.INITIATED&&t.layerState!==fi.ERROR&&t.initiate(),t.mapLayer&&i===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)i=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(i=p+1,d=!1)}d&&(i=0)}}lo(this.$vApp.$pinia).addLayer(t,i),this.$iApi.event.emit(Ce.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===fi.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),s()):t.initiationState===Qt.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),r())},250)})}insertToEsriMap(t){let i=0;const r=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(r>0){const s=this.$iApi.geo.layer.layerOrderIds(),n=this.$iApi.geo.layer.allLayers();for(let o=r-1;o>-1;o--){const a=s[o],l=n.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){i=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}r>-1&&this.esriMap?.add(t.esriLayer,i)}reorder(t,i,r=!1){if(i<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const s=this.$iApi.geo.layer.allLayers();let n=this.$iApi.geo.layer.layerOrderIds();if(r){if(t.isCosmetic)return;if(i>0){const l=n.filter(c=>{const f=s.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});i>=l.length&&(console.error("non-cosmetic reorder index was too high"),i=l.length-1),i=n.indexOf(l[i])}}else i>=n.length&&(console.error("reorder index was too high"),i=n.length-1);const o=n.indexOf(t.id);if(o===i)return;if(lo(this.$vApp.$pinia).reorderLayer(t,i),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(i>0){n=this.$iApi.geo.layer.layerOrderIds();for(let c=i-1;c>-1;c--){const f=n[c],d=s.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=i<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit(Ce.MAP_REORDER,{layer:t,newIndex:i})}removeSublayer(t){let i,r;if(typeof t=="string")i=t,r=this.$iApi.geo.layer.getLayer(i);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);i=t.uid,r=t}if(!r)throw new Error("Sublayer could not be found for removal.");r.visibility=!1,r.isRemoved=!0,this.$iApi.event.emit(Ce.LAYER_REMOVE,t),r.parentLayer?.sublayers.every(s=>s.isRemoved)&&this.removeLayer(r.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let i;if(t instanceof ST?i=t:i=this.$iApi.geo.layer.getLayer(t),!i)throw new Error("Layer could not be found for removal.");if(i.isSublayer){this.removeSublayer(i);return}i.supportsSublayers&&i.sublayers.forEach(s=>{s.isRemoved||this.removeSublayer(s)});const r=lo(this.$vApp.$pinia);r.removeLayer(i),r.removeLayerConfig(i.id),i.removeEsriLayer(),i.initiationState===Qt.INITIATED&&i.terminate(),i.isRemoved=!0,this.$iApi.event.emit(Ce.LAYER_REMOVE,i)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const i=this.handlers.findIndex(r=>r.type==="pointer-move");if(i!==-1){const r=this.handlers[i];this.handlers.splice(i,1),r.handler.remove()}return i!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return ol(this.mapMouseThrottle,t=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const i=t.isOffScale(this.getScale());if(!i.offScale)return;const r=this.esriView.constraints.lods;if(!r)return this.zoomMapTo(this.getExtent().center(),(i.zoomIn,t.minScale));const s=i.zoomIn?r:[...r].reverse(),n=s.find(o=>i.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||s[s.length-1];return this.zoomToLevel(n.level)}findClosestScale(t){const i=this.esriView?.constraints.lods;if(!i)return t;const r=i.map(n=>Math.abs(n.scale-t)),s=r.indexOf(Math.min(...r));return i[s].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?jr.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new jr("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const i=this.esriView.toScreen(t.toESRI());return{screenX:i.x,screenY:i.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(t,i){await this.viewPromise;const s=(await this.esriView.hitTest({x:t,y:i})).results.filter(o=>o.type==="graphic").map(async o=>{const a=o.layer;if(o.graphic.isAggregate===!0){const l=await this.esriView.whenLayerView(a),c=l.createQuery();return c.aggregateIds=[o.graphic.getObjectId()],(await l.queryFeatures(c)).features.map(d=>({layerId:a.id,layerIdx:0,oid:d.getObjectId()}))}else return{layerId:a.id,layerIdx:0,oid:o.graphic.getObjectId()}});return(await Promise.all(s)).flat()}runIdentify(t){const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let r;if(t instanceof jr){const c=this.mapPointToScreenPoint(t);r={mapPoint:t,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else r=t;if(i===void 0)return{click:r,results:[]};let s=Promise.resolve([]);i.some(c=>c.identifyMode===Vi.HYBRID||c.identifyMode===Vi.SYMBOLIC)&&(s=this.symbolIdentify(r.screenX,r.screenY));const n={geometry:r.mapPoint,hitTest:s},o=i.filter(c=>c.supportsIdentify).map(c=>(n.tolerance=r.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(n))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:r};return this.$iApi.event.emit(Ce.MAP_IDENTIFY,l),l}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Pe.GRAPHIC);if(i.length===0)return;const r=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(r.results.length===0)return;const s=r.results.filter(l=>l.type==="graphic");let n,o;const a=new Set;if(s.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=i.find(f=>f.id===l.layer.id);return c?(c.isCosmetic||c.layerType===Pe.GRAPHIC||l.graphic.isAggregate||(n=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),n&&o)return{oid:o.getObjectId(),layerId:n.id,layerIdx:n.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const i=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(s=>i.includes(s))||this.keyPan()):i.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const i=["=","-"];this._activeKeys.includes(t.key)&&!i.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(r=>i.includes(r))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),i=this.mapPointToScreenPoint(t),r=this.screenPointToMapPoint({screenX:i.screenX+5,screenY:i.screenY+5}),s=Math.abs(r.x-t.x),n=Math.abs(r.y-t.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=s;break;case"ArrowRight":o+=s;break;case"ArrowUp":a+=n;break;case"ArrowDown":a-=n;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const w0e={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},x0e={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},S0e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},E0e={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},A0e={circlePoint:w0e,solidLine:x0e,outlinedPoly:S0e,boundingBoxPoly:E0e};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var T0e=function(t,i){for(var r=0;r<t.length;r++)if(t[r]!==i[r])return!1;return!0},rI=function(t){return T0e(t[0],t[t.length-1])||t.push(t[0]),t},sI=function(t){var i=0,r=0,s=t.length,n=t[r],o;for(r;r<s-1;r++)o=t[r+1],i+=(o[0]-n[0])*(o[1]+n[1]),n=o;return i>=0},M0e=function(t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i},N7=function(t){var i=[],r=t.slice(0),s=rI(r.shift().slice(0));if(s.length>=4){sI(s)||s.reverse(),i.push(s);for(var n=0;n<r.length;n++){var o=rI(r[n].slice(0));o.length>=4&&(sI(o)&&o.reverse(),i.push(o))}}return i},$0e=function(t){for(var i=[],r=0;r<t.length;r++)for(var s=N7(t[r]),n=s.length-1;n>=0;n--){var o=s[n].slice(0);i.push(o)}return i},O0e=function e(t,i){i=i||"OBJECTID";var r={wkid:4326},s={},n;switch(t.type){case"Point":s.x=t.coordinates[0],s.y=t.coordinates[1],t.coordinates[2]!=null&&(s.z=t.coordinates[2]),s.spatialReference=r;break;case"MultiPoint":s.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"LineString":s.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiLineString":s.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Polygon":s.rings=N7(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiPolygon":s.rings=$0e(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Feature":t.geometry&&(s.geometry=e(t.geometry,i)),s.attributes=t.properties?M0e(t.properties):{},t.id&&(s.attributes[i]=t.id);break;case"FeatureCollection":for(s=[],n=0;n<t.features.length;n++)s.push(e(t.features[n],i));break;case"GeometryCollection":for(s=[],n=0;n<t.geometries.length;n++)s.push(e(t.geometries[n],i));break}return s};function k7(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+"]"}).join(",")+"}")}function C0e(e,t){var i=k7(e);return function(r,s){return t(i(r),s,e)}}function I0e(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var s in r)s in t||i.push(t[s]=s)}),i}function xT(e){var t=new RegExp('["'+e+`
]`),i=e.charCodeAt(0);function r(c,f){var d,p,y=s(c,function(v,b){if(d)return d(v,b-1);p=v,d=f?C0e(v,f):k7(v)});return y.columns=p,y}function s(c,f){var d={},p={},y=[],v=c.length,b=0,E=0,S,T;function w(){if(b>=v)return p;if(T)return T=!1,d;var M=b,$;if(c.charCodeAt(M)===34){for(var I=M;I++<v;)if(c.charCodeAt(I)===34){if(c.charCodeAt(I+1)!==34)break;++I}return b=I+2,$=c.charCodeAt(I+1),$===13?(T=!0,c.charCodeAt(I+2)===10&&++b):$===10&&(T=!0),c.slice(M+1,I).replace(/""/g,'"')}for(;b<v;){var L=1;if($=c.charCodeAt(b++),$===10)T=!0;else if($===13)T=!0,c.charCodeAt(b)===10&&(++b,++L);else if($!==i)continue;return c.slice(M,b-L)}return c.slice(M)}for(;(S=w())!==p;){for(var _=[];S!==d&&S!==p;)_.push(S),S=w();f&&(_=f(_,E++))==null||y.push(_)}return y}function n(c,f){return f==null&&(f=I0e(c)),[f.map(l).join(e)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:r,parseRows:s,format:n,formatRows:o}}var Vb=xT(","),P0e=Vb.parse,L0e=Vb.parseRows,N0e=Vb.format,k0e=Vb.formatRows,Gb=xT("	"),R0e=Gb.parse,D0e=Gb.parseRows,F0e=Gb.format,U0e=Gb.formatRows;const j0e=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:N0e,csvFormatRows:k0e,csvParse:P0e,csvParseRows:L0e,dsvFormat:xT,tsvFormat:F0e,tsvFormatRows:U0e,tsvParse:R0e,tsvParseRows:D0e},Symbol.toStringTag,{value:"Module"})),B0e=hK(j0e);var nc={exports:{}},nI;function V0e(){if(nI)return nc.exports;nI=1,nc.exports=e,nc.exports.pair=n,nc.exports.format=i,nc.exports.formatPair=t,nc.exports.coordToDMS=r;function e(a,l){var c=s(a,l);return c===null?null:c.val}function t(a){return i(a.lat,"lat")+" "+i(a.lon,"lon")}function i(a,l){var c=r(a,l);return c.whole+"Â° "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function r(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,b=Math.floor(v),E=Math.floor((v-b)*60);return{whole:p,minutes:b,seconds:E,dir:f}}function s(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\â€”|\â€•]?[0-9.]+)[Â°ÂºËš]?\s*(?:([0-9.]+)['â€™â€²â€˜]\s*)?(?:([0-9.]+)(?:''|"|â€|â€³)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,v=f[3]?parseFloat(f[3])/60:0,b=f[4]?parseFloat(f[4])/3600:0,E=y<0?-1:1;return(p==="S"||p==="W")&&(E*=-1),{val:(Math.abs(y)+v+b)*E,dim:p,matched:d,remain:a.slice(d.length)}}function n(a,l){a=a.trim();var c=s(a,l);if(!c)return null;a=c.remain.trim();var f=s(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return nc.exports}var v2,oI;function G0e(){if(oI)return v2;oI=1;var e=B0e,t=V0e(),i=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function s(E,S){var T,w,_;for(var M in E)w=M.match(S),w&&(!T||w[0].length/M.length>_)&&(_=w[0].length/M.length,T=M);return T}function n(E){return s(E,i)}function o(E){return s(E,r)}function a(E){return!!E.match(i)}function l(E){return!!E.match(r)}function c(E){return typeof E=="object"?Object.keys(E).length:0}function f(E){var S=[",",";","	","|"],T=[];return S.forEach(function(w){var _=e.dsvFormat(w).parse(E);if(_.length>=1){for(var M=c(_[0]),$=0;$<_.length;$++)if(c(_[$])!==M)return;T.push({delimiter:w,arity:Object.keys(_[0]).length})}}),T.length?T.sort(function(w,_){return _.arity-w.arity})[0].delimiter:null}function d(E){return delete E.columns,E}function p(E){var S=f(E);return S?d(e.dsvFormat(S).parse(E)):null}function y(E,S,T){T||(T=S,S={}),S.delimiter=S.delimiter||",";var w=S.latfield||"",_=S.lonfield||"",M=S.crs||"",$=[],I={type:"FeatureCollection",features:$};if(M!==""&&(I.crs={type:"name",properties:{name:M}}),S.delimiter==="auto"&&typeof E=="string"&&(S.delimiter=f(E),!S.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var L=S.numericFields?S.numericFields.split(","):null,P=typeof E=="string"?e.dsvFormat(S.delimiter).parse(E,function(C){if(L)for(var V in C)L.includes(V)&&(C[V]=+C[V]);return C}):E;if(!P.length){T(null,I);return}var F=[],z;w||(w=n(P[0])),_||(_=o(P[0]));var U=!w||!_;if(U){for(z=0;z<P.length;z++)$.push({type:"Feature",properties:P[z],geometry:null});T(F.length?F:null,I);return}for(z=0;z<P.length;z++)if(P[z][_]!==void 0&&P[z][w]!==void 0){var B=P[z][_],Z=P[z][w],u,m,x;x=t(B,"EW"),x&&(B=x),x=t(Z,"NS"),x&&(Z=x),u=parseFloat(B),m=parseFloat(Z),isNaN(u)||isNaN(m)?F.push({message:"A row contained an invalid value for latitude or longitude",row:P[z],index:z}):(S.includeLatLon||(delete P[z][_],delete P[z][w]),$.push({type:"Feature",properties:P[z],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}T(F.length?F:null,I)}function v(E){for(var S=E.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<S.length;w++)T.geometry.coordinates.push(S[w].geometry.coordinates);return T.properties=S.reduce(function(_,M){for(var $ in M.properties)_[$]||(_[$]=[]),_[$].push(M.properties[$]);return _},{}),{type:"FeatureCollection",features:[T]}}function b(E){for(var S=E.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<S.length;w++)T.geometry.coordinates[0].push(S[w].geometry.coordinates);return T.properties=S.reduce(function(_,M){for(var $ in M.properties)_[$]||(_[$]=[]),_[$].push(M.properties[$]);return _},{}),{type:"FeatureCollection",features:[T]}}return v2={isLon:l,isLat:a,guessLatHeader:n,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:v,toPolygon:b},v2}var b2=G0e();const z0e={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function q0e(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,i=!0;for(let r=0;r<e.features.length;r++){const s=e.features[r];Object.assign(s.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in s&&typeof s.id<"u"&&(s.properties.ID_FILE=s.id,t=!1),"OBJECTID"in s.properties&&(s.properties.OBJECTID_FILE=s.properties.OBJECTID,delete s.properties.OBJECTID,i=!1),s.id=r+1}if(t)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.ID_FILE;if(i)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.OBJECTID_FILE}function H0e(e,t){const i=r=>r.indexOf(" ")>-1;t.fields?.forEach(r=>{if(r.name&&i(r.name)){const s=r.name;let n,o="_",a;do n=s.replace(/ /g,o),a=t.fields?.find(l=>l.name===n),a&&(o+="_");while(a);r.alias=s,r.name=n;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[n]=c.properties[s],delete c.properties[s]}}})}function W0e(e,t){const i=e.features[t].geometry.geometries;if(i.length===1)e.features[t].geometry={type:i[0].type,coordinates:i[0].coordinates};else{const r=i.map(s=>s.coordinates);e.features[t].geometry={type:`Multi${i[0].type}`,coordinates:r}}}function Y0e(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class J0e extends $i{async fetchFileData(t,i){const r=await jb.get(t,{responseType:"arrayBuffer"});switch(i){case Pe.GEOJSON:case Pe.DATAJSON:return JSON.parse(this.arbToStr(r.data));case Pe.SHAPEFILE:case Pe.GEOJSONZIPPED:case Pe.FLATGEOBUF:case Pe.FLATGEOBUFZIPPED:return r.data;case Pe.CSV:case Pe.DATACSV:return this.arbToStr(r.data);default:console.error(`Unsupported file type passed to fetchFileData- '${i}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let i="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");W0e(t,o)}const c=Y0e(a.geometry.type);if(i==="")i=c;else if(i!==c)throw new Error("GeoJSON file contains multiple geometry types")}const r=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let s=0;const n=Object.keys(t.features[0].properties);for(;s<t.features.length;){const o=t.features[s];if(o.properties&&Object.keys(o.properties).filter(a=>n.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=r.findIndex(f=>f.name===a);r[c]={name:a,type:this.inferType(l)},n.splice(n.indexOf(a),1)}}),n.length===0)break;s++}return r}extractCsvFields(t,i=","){return b2.dsv.dsvFormat(i).parseRows(t)[0].map(s=>({name:s,type:Xo.STRING}))}filterCsvLatLonFields(t,i=","){const r=b2.dsv.dsvFormat(i).parseRows(t),s=r[0],n={lat:JSON.parse(JSON.stringify(s)),lon:JSON.parse(JSON.stringify(s))};for(let o=0;o<s.length;o++)for(let a=1;a<r.length;a++){const l=Number(r[a][o]),c=n.lat.indexOf(s[o]),f=n.lon.indexOf(s[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&n.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&n.lon.splice(f,1),c===-1&&f===-1)break}return n}async geoJsonToEsriJson(t,i){let r,s="",n;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Xo.OID}]};q0e(t);const a=t.features[0].geometry.type,l=z0e[a],c=JSON.parse(JSON.stringify(A0e[l]));if(i){if(i.sourceProjection&&(s=this.$iApi.geo.proj.normalizeProj(i.sourceProjection)),i.targetSR)r=i.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");i.layerId?n=i.layerId:n=this.$iApi.geo.shared.generateUUID(),i.colour&&(c.renderer.symbol.color=new fa(i.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");s||(s=Be.parseGeoJsonCrs(t.crs)),o.renderer=await $t.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(i.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(b=>i.fieldMetadata?.fieldInfo?.find(E=>E.name===b.name)):this.extractGeoJsonFields(t)),i.fieldMetadata?.enforceOrder&&i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,i.fieldMetadata?.fieldInfo)),H0e(t,o);const f=this.$iApi.geo.proj.normalizeProj(r);if(i){if(i.latField){const b=o.fields.find(E=>E.name===i.latField||E.alias===i.latField);b&&(b.type=Xo.DOUBLE)}if(i.lonField){const b=o.fields.find(E=>E.name===i.lonField||E.alias===i.lonField);b&&(b.type=Xo.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([s,r]);const d=Be.parseSR(r).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,s,f);const p=O0e(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(b=>b.name);for(let b=0;b<p.length;b++){const E=p[b];E.geometry.spatialReference=d,E.geometry.type=o.geometryType,Object.keys(E.attributes).forEach(S=>{y.includes(S)?(Array.isArray(E.attributes[S])||typeof E.attributes[S]=="object")&&E.attributes[S]!=null&&(E.attributes[S]=JSON.stringify(E.attributes[S])):delete E.attributes[S]})}return(i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0?i.fieldMetadata.fieldInfo.filter(b=>b.trim&&y.includes(b.name)).map(b=>b.name):[]).forEach(b=>{for(let E=0;E<p.length;E++){const S=p[E].attributes;typeof S[b]=="string"&&(S[b]=S[b].trim())}}),o.source=p,o.spatialReference=d,o.id=n,o}async csvToGeoJson(t,i){const r={latfield:"Lat",lonfield:"Long",delimiter:","};return i&&(i.latfield&&(r.latfield=i.latfield),i.lonfield&&(r.lonfield=i.lonfield),i.delimiter&&(r.delimiter=i.delimiter)),new Promise((s,n)=>{b2.csv2geojson(t,r,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),n(o)):(a.features.map(l=>{l.properties[r.lonfield]=l.geometry.coordinates[0],l.properties[r.latfield]=l.geometry.coordinates[1]}),s(a))})})}async shapefileToGeoJson(t){return(await ve(()=>import("./shp.min-CMqZNijN.js").then(r=>r.s),__vite__mapDeps([167,168]),import.meta.url)).default(t)}fgbToGeoJson(t,i){return ve(async()=>{const{geojson:s}=await import("./flatgeobuf-Xmj1HQyn.js");return{geojson:s}},[],import.meta.url).then(({geojson:s})=>new Promise(n=>{let o=!1,a=null;const l=s.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Be(a.code):a.wkt?d=new Be(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),n(l)}else c+=60,c>i&&(clearInterval(f),n({}))},60)}))}inferType(t){return typeof t=="number"?Xo.DOUBLE:Xo.STRING}rawDataJsonParser(t,i=!1){let r;return typeof t=="string"?r=JSON.parse(t):i?r=structuredClone(t):r=t,r}async unzipSingleFile(t){const i=await ve(()=>import("./jszip.min-DklpaGsS.js").then(o=>o.j),__vite__mapDeps([169,168]),import.meta.url),s=await new i.default().loadAsync(t),n=Object.keys(s.files)[0];if(n&&s.file(n))return await s.file(n).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const Z0e=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function pu(e,t){return e.then(function(i){return[null,i]}).catch(function(i){return[i,void 0]})}class K0e extends $i{async loadWfsData(t,i=-1,r=0,s=1e3,n={type:"FeatureCollection",features:[]},o=!1){let a={offset:r.toString(),limit:s.toString()};i===-1&&(a={resulttype:"hits"});const c=new hv(t).updateQuery(a),[f,d]=await pu(jb.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,f),Promise.reject(f);const p=d.data;if(i===-1)return i=d.data.numberMatched,this.loadWfsData(t,i,r,s,n,o);if(n.features=n.features.concat(p.features),p.features.length<i-r){const y=Math.min(s,i-r-p.features.length);return this.loadWfsData(c,i,p.features.length+r,y,n,o)}else return o&&n.features.length>0&&n.features[0].geometry.type===ui.POINT&&n.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),n}reversedAxisWKIDs(){return Z0e}parseCapabilities(t){const i=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new hv(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Ni(o,{responseType:"xml"}).then(a=>a.data)},r=new Promise(o=>{i().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(i())})}),s=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const b=v.Name;if(p.push(b),v.LegendURL){const S=v.LegendURL.OnlineResource["@_xlink:href"];y[b]=S.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:s(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},n=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return ve(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>r.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:s(d),queryTypes:n(d.Request.GetFeatureInfo)}}))}}class Dm{static makeRawItem(t,i){const r=Promise.resolve();return rr({format:t,data:i,started:!0,loaded:!0,loading:r,load(){return r}})}static makeOidItem(t,i){const r=new Ei,s={format:$h.ESRI,data:void 0,started:!1,loaded:!1,loading:r.getPromise(),async load(){if(!this.started){this.started=!0;const n=await i.getGraphic(t,{getAttribs:!0});this.data=n.attributes,this.loaded=!0,r.resolveMe()}return r.getPromise()}};return rr(s)}}class X0e extends $i{files;ogc;constructor(t){super(t),this.files=new J0e(t),this.ogc=new K0e(t)}createLayer(t){let i;switch(t.layerType){case Pe.FEATURE:i=aye;break;case Pe.MAPIMAGE:i=lye;break;case Pe.GRAPHIC:i=eye;break;case Pe.TILE:i=fye;break;case Pe.WFS:i=pye;break;case Pe.DATATABLE:i=yye;break;case Pe.WMS:i=dye;break;case Pe.GEOJSON:i=tye;break;case Pe.GEOJSONZIPPED:i=sye;break;case Pe.FLATGEOBUFZIPPED:i=oye;break;case Pe.CSV:i=rye;break;case Pe.DATAJSON:i=mye;break;case Pe.IMAGERY:i=hye;break;case Pe.SHAPEFILE:i=iye;break;case Pe.FLATGEOBUF:i=nye;break;case Pe.OSM:i=uye;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new i(t,this.$iApi)}sublayerId(t,i){return`${t}-${i}`}getLayer(t){return lo(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,i){const r=lo(this.$vApp.$pinia).getLayerById(t);if(r&&r.supportsSublayers&&i<r.sublayers.length)return r.sublayers[i]}async awaitLayer(t,i=!1){let r=this.getLayer(t);if(!r){const s=new Ei;let n=0;const o=300,a=setInterval(()=>{n+=o;const l=this.getLayer(t);if(l)clearInterval(a),s.resolveMe(l);else if(n>8e3){clearInterval(a);const c=setInterval(()=>{const f=this.getLayer(t);f&&(clearInterval(c),s.resolveMe(f))},1500)}},o);r=await s.getPromise()}return i&&await r.viewPromise(),r}async awaitSublayer(t,i){return this.awaitLayer(this.sublayerId(t,i))}getLayerPosition(t){const i=this.getLayer(t);if(i&&i.mapLayer){const r=i.isSublayer?i.parentLayer.id:i.id,s=this.layerOrderIds().findIndex(n=>n===r);return s===-1?void 0:s}else return}layerOrderIds(){return lo(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return lo(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==fi.ERROR&&t.initiationState===Qt.INITIATED)}allLayersOnMap(t=!0){const i=this.allLayers().filter(r=>r.mapLayer&&r.initiationState===Qt.INITIATED);if(t){const r=this.layerOrderIds(),s=new Map(r.map((n,o)=>[n,o]));i.sort((n,o)=>s.get(n.id)-s.get(o.id))}return i}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===Qt.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===fi.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===Qt.INITIATING)}getLayerControls(t){const i=this.getLayer(t);if(!i)return;const r=i.config.controls?.slice()??[vi.BoundaryZoom,vi.Datatable,vi.Identify,vi.Metadata,vi.Opacity,vi.Refresh,vi.Reload,vi.Remove,vi.Settings,vi.Symbology,vi.Visibility],s=[];return i.supportsFeatures||s.push(vi.Datatable),i.extent===void 0&&s.push(vi.BoundaryZoom),(i.config?.metadata||(i.isSublayer?i.parentLayer?.config?.metadata:{})||{}).url||s.push(vi.Metadata),!i.mapLayer&&!i.config.controls?.includes(vi.Settings)&&s.push(vi.Settings),s.forEach(o=>{const a=r?.indexOf(o)??-1;a!==-1&&r?.splice(a,1)}),{controls:r,disabledControls:i.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[i,r]=await pu(Ni(t,{query:{f:"json"}}));if(!r)throw console.error(`Service metadata load error: ${t}`,i),new Error(`Service metadata load error: ${t}`);if(!r.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const s=r.data,n={geometryType:Ze.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:lr.UNKNOWN,mapLayer:!0};if(n.name=s.name||"",n.currentVersion=s.currentVersion||-1,n.minScale=s.effectiveMinScale||s.minScale||0,n.maxScale=s.effectiveMaxScale||s.maxScale||0,n.extent=s.extent?ei.fromArcServer(s.extent,"layer_extent"):void 0,n.defaultVisibility=s.defaultVisibility??!0,n.canModifyLayer=s.canModifyLayer??!0,s.type==="Feature Layer"||s.type==="Table"){if(n.dataFormat=lr.ESRI_FEATURE,n.displayField=s.displayField||"",Array.isArray(s.fields)){const o=await Promise.all(s.fields.map(l=>$t.FieldFromJson(l)));n.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(n.objectIdField=l.name,!1):!0)&&(n.objectIdField=s.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),s.type==="Feature Layer"?(n.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(s.geometryType),s.drawingInfo?.renderer&&(n.renderer=await $t.RendererFromJson(s.drawingInfo.renderer)),s.sourceSpatialReference&&(n.sourceSR=Be.fromConfig(s.sourceSpatialReference))):n.mapLayer=!1}}else n.dataFormat=lr.ESRI_RASTER;return n}async loadFeatureCount(t,i=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const r={query:{f:"json",where:i||"1=1",returnCountOnly:!0,returnGeometry:!1}},[s,n]=await pu(Ni(`${t}/query`,r));return n?n.data?Number.isInteger(n.data.count)?n.data.count:(console.error(`Funny result (${n.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,s),0)}}class ST extends $i{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(t){}tooltipField;get tooltipArcade(){return""}async setTooltipArcade(t){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,i){super(i),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=fi.NEW,this.drawState=ts.NOT_LOADED,this.initiationState=Qt.NEW,this.layerIdx=-1,this.layerFormat=Ts.UNKNOWN,this.layerType=Pe.UNKNOWN,this.dataFormat=lr.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Vi.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.tooltipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ze.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new uv(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Be.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new tk}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(t){return""}tooltipValue(t){return""}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return Promise.resolve(new Tn(new Pl))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,i){}applySqlFilter(t=[]){}getFilterOIDs(t=[],i=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(ei.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,i=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const i=this._sublayers.findIndex(r=>r?.uid===t);if(i===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return i}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let i;if(typeof t=="string"?i=this.uidToIdx(t):i=t,this._sublayers[i]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[i]}controlAvailable(t){const i=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,i)}}class R7 extends ST{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;tooltipArcadeFormula;tooltipArcadeExecutor;constructor(t,i){super(t,i),this.name=t.name||"",this.geomType=Ze.NONE,this.dataFormat=lr.UNKNOWN,this.layerType=Pe.UNKNOWN,this.layerFormat=Ts.UNKNOWN;const r=i.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??r.draw,this.expectedTime.load=t.expectedLoadTime??r.load,this.expectedTime.fail=t.maxLoadTime||r.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=t.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Vi.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=fi.NEW,this.initiationState=Qt.NEW,this.drawState=ts.NOT_LOADED,this.loadDefProm=new Ei,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.tooltipArcadeFormula="",this.layerTree=new uv(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit(Ce.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,i=!1){this.layerState=t,this.$iApi.event.emit(Ce.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:i})}updateDrawState(t){this.drawState=t,t===ts.REFRESH?this.startTimer("draw"):t===ts.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Ce.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(Qt.INITIATING),this.startTimer("load");const t=n=>{this.layerState!==fi.ERROR&&(console.error(n),this.onError())},i=Date.now(),r=setTimeout(()=>{i>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[s]=await pu(this.onInitiate());clearTimeout(r),i>this.lastCancel&&(this.drawState!==ts.UP_TO_DATE&&this.startTimer("draw"),s?t(`Init error on layer id: ${this.id} . ${s.message}`):this.updateInitiationState(Qt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Qt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Qt.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new Ei,this.loadPromDone=!1,this.updateLayerState(fi.NEW),this.updateDrawState(ts.NOT_LOADED),this.updateInitiationState(Qt.TERMINATED)}onLoad(){const t=Date.now();let i=!1;const r=setTimeout(()=>{i=!0,this.onError()},this.expectedTime.fail);try{const s=this.onLoadActions();Promise.all(s).then(()=>{clearTimeout(r),i?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Ei),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onLoad()),this.updateLayerState(fi.LOADED)))}).catch(()=>{clearTimeout(r),this.onError()})}catch(s){console.error("Encountered error on layer load: ",s),clearTimeout(r),this.onError()}}onError(t=!0){this.layerState!==fi.ERROR&&(this.initiationState===Qt.INITIATING&&this.updateInitiationState(Qt.NEW),this.loadPromDone&&(this.loadDefProm=new Ei),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(i=>i.onError(t)),t&&this.$iApi.notify.show(Ss.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(fi.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Qt.NEW||this.initiationState===Qt.TERMINATING||this.initiationState===Qt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===fi.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return this.stubError(),Promise.resolve(new Tn(new Pl))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,i){this.stubError()}getFilterOIDs(t=[],i=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(ei.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,i,r=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(Ss.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}async arcadeGenerator(t){const i={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(r=>{const s=this.$iApi.geo.attributes.fieldTypeToArcade(r.type);return s?{name:r.name,type:s}:(console.error(`Encountered field type with no arcade support: ${r.type} [${r.name}]`),s)}).filter(r=>!!r)}]};return $t.ArcadeExecutor(t,i)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(t){this.supportsFeatures?t.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=t,this.nameArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(t,i=""){if(this.supportsFeatures){const r=(t?.nameArcade||"").trim();r&&await this.setNameArcade(r),this.nameField=(t?.nameField||"").trim()||i||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(t){if(t)if(this.nameArcade){const i={$attr:t};return this.nameArcadeExecutor?.execute(i)??"Arcade Error"}else return this.nameField?t[this.nameField]??"Name Field Error":"";else return""}get tooltipArcade(){return this.tooltipArcadeFormula}async setTooltipArcade(t){this.supportsFeatures?t.trim()===""?(this.tooltipArcadeFormula="",this.tooltipArcadeExecutor=void 0):(this.tooltipArcadeFormula=t,this.tooltipArcadeExecutor=await this.arcadeGenerator(t)):console.error("Attempted to set a tooltip arcade function on a layer that doesn't support it.")}async tooltipInitializer(t){if(this.supportsFeatures){const i=(t?.tooltipArcade||"").trim();i&&await this.setTooltipArcade(i),this.tooltipField=(t?.tooltipField||"").trim()}else console.error("Attempted to init a tooltip field on an unsupported layer.")}tooltipValue(t){if(t)if(this.tooltipArcade){const i={$attr:t};return this.tooltipArcadeExecutor?.execute(i)??"Arcade Error"}else return this.tooltipField?t[this.tooltipField]??this.nameValue(t):this.nameValue(t);else return""}}class Ou extends R7{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,i){super(t,i),this._scaleSet=new tk,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?ei.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new Ei,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(ar(()=>this.esriLayer.visible,t=>{this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(ar(()=>this.esriLayer.opacity,t=>{this.$iApi.event.emit(Ce.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(ar(()=>this.esriLayer.loadStatus,t=>{const i={"not-loaded":fi.LOADING,loading:fi.LOADING,loaded:fi.LOADED,failed:fi.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(i[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=pi(t.layerView),this.esriWatches.push(ar(()=>t.layerView.updating,i=>{this.updateDrawState(i?ts.REFRESH:ts.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Ei,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit(Ce.LAYER_RELOAD_START,this),this.sublayers.forEach(i=>this.$iApi.event.emit(Ce.LAYER_RELOAD_START,i)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Ce.LAYER_RELOAD_END,this),this.sublayers.forEach(i=>this.$iApi.event.emit(Ce.LAYER_RELOAD_END,i))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(i=>i.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();if(this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify),this.layerType!==Pe.WMS){const i=this.$iApi.geo.proj.checkProj(this.getSR()).then(r=>r?Promise.resolve():Promise.reject());t.push(i)}return t}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let i;if(typeof t>"u")if(this.mapCheck())i=this.$iApi.geo.map.getScale();else return!1;else i=t;return this.scaleSet.isOffScale(i).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===Qt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Be.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Be.latLongSR())}}class ET extends Ou{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.geomType=Ze.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new ik(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new F7}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const i=Date.now(),r=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(i<this.lastCancel))if(this.geomType=r.geometryType,this.attribs.quickCache=new j7(this.geomType),this.scaleSet.minScale=r.minScale,this.scaleSet.maxScale=r.maxScale,this.dataFormat=r.dataFormat,this.extent=this.extent??r.extent,this._serverVisibility=r.defaultVisibility,this.origRampConfig.name||(this.name=r.name??this.id),this.dataFormat===lr.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Pe.SUBLAYER?r.canModifyLayer:!0,this.fields=r.fields,this.nameField=r.displayField,this.oidField=r.objectIdField,this.sourceSR=r.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const s=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:r.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(s,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={supportsLimit:(r.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Dr.PERMANENT)};this.attribs.attLoader=new U7(this.$iApi,n)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={},s=new Pl;const n=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(i.getAttribs||i.getStyle){const f=this.attribs.quickCache.getAttribs(t);if(f)r=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();r=d.features[d.oidIndex[t]]}else o=!0}if(i.getGeom){l=n.getScale();const f=this.attribs.quickCache.getGeom(t,l);if(f)s=f;else if(this.layerType===Pe.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const v=ar(()=>this.esriView.updating,b=>{b||(v.remove(),y())})});const d=await $t.Query();d.objectIds=[t],d.returnGeometry=!0;const p=await this.esriView.queryFeatures(d);if(p.features.length){const y=p.features[0],v=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(t,v,l),s=v}else a=!0}else a=!0}if(o||a){const f={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=n.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=n.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),s=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(r=d.attributes))}const c=new Tn(s,"",i.getAttribs?r:void 0);if(i.getStyle){const f=Ge(this.renderer.getGraphicSymbol(r));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const i=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(i.attributes||{},this.renderer)}setSqlFilter(t,i){const r=this.filter.getSql(t);if(i===r)return;this.filter.setSql(t,i),this.$iApi.event.emit(Ce.FILTER_CHANGE,{uid:this.uid,filterKey:t});const s=`${this.uid}-${t}-${i}`;this._lastFilterUpdate=s,setTimeout(()=>{this._lastFilterUpdate===s&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],i=void 0){const r=this.filter.getCombinedSql(t),s=!!i;if(!(r||s))return;i&&this.filter.setExtent(i);const n=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(n,s);if(!o){const a={filterGeometry:i,filterSql:r,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,n,s)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){const i=await this.queryOIDs(t),r={getGeom:!!t.includeGeometry,getAttribs:!0};return i.map(s=>({oid:s,graphic:this.getGraphic(s,r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}configDrawOrder(t,i){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(i.orderBy=t.drawOrder.map(r=>{const s=r.ascending??!0?"ascending":"descending";return r.field?{field:r.field,order:s}:{valueExpression:r.arcade,order:s}}),this._drawOrder=t.drawOrder.slice())}}class Q0e extends Ou{constructor(t,i){super(t,i),this.dataFormat=lr.ESRI_FEATURE,this.layerFormat=Ts.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(i=>i.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(i=>i.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let i;t instanceof Array?i=t:i=[t];const r=i.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),s=this.$iApi.geo.map.getSR(),n=r.map(l=>this.$iApi.geo.proj.projectGeometry(s,l.geometry)),o=await Promise.all(n),a=r.map((l,c)=>{const f=new Tn(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let i;Array.isArray(t)?i=t:i=[t],i.map(s=>typeof s=="string"?s:s.id).forEach(s=>{const n=this.esriLayer.graphics.findIndex(a=>a.id===s);n>-1&&this.esriLayer.graphics.removeAt(n);const o=this._graphics.findIndex(a=>a.id===s);o>-1&&this._graphics.splice(o,1)})}}class eye extends Q0e{constructor(t,i){super(t,i),this.layerType=Pe.GRAPHIC}async onInitiate(){this.esriLayer=pi(await $t.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(ts.UP_TO_DATE),t}}class Cu extends ET{esriJson;sourceGeoJson;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=lr.ESRI_FEATURE,this.layerFormat=Ts.FEATURE,this.layerIdx=0,t.identifyMode&&t.identifyMode!==Vi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Vi.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=pi(await $t.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(n=>{i[n]=this.esriJson[n]}),this.origRampConfig.nameField?i.displayField=this.$iApi.geo.attributes.fieldValidator(i.fields,this.origRampConfig.nameField)||r:i.displayField=r,i.outFields=["*"],delete i.url,this.configDrawOrder(t,i),t.geomClustering&&(i.featureReduction=t.geomClustering),i}onLoadActions(){const t=super.onLoadActions(),i=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await $t.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField);const r=this.origRampConfig.tooltipField?this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField):"";await this.tooltipInitializer({tooltipArcade:this.origRampConfig.tooltipArcade,tooltipField:r}),this.featureCount=this.esriLayer?.source.length||0};return t.push(i()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const i=new Ei,r=rr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[],a=[];if(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),n=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.SYMBOLIC)&&(s=n.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([s,n]).then(()=>{o.forEach(l=>{r.items.push(Dm.makeRawItem($h.ESRI,l.attributes))}),a.forEach(l=>{r.items.push(Dm.makeOidItem(l,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??ei.fromESRI(t.fullExtent,this.id+"_extent");const i=pi(t.fields.slice());this.fields=i.map(s=>({name:s.name,alias:s.alias,type:s.type,length:s.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new bye(this.$iApi,r)}async getGraphic(t,i){let r;if(!i.getGeom&&this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=new Tn(new Pl,"",s.features[s.oidIndex[t]])}else{const s={filterOIDs:[t],includeGeometry:!!i.getGeom},n=await this.queryFeatures(s);if(n.length===0)throw new Error(`Could not find object id ${t}`);n.length!==1&&console.warn("did not get a single result on a query for a specific object id"),r=n[0]}if(i.getStyle){const s=Ge(this.renderer.getGraphicSymbol(r.attributes));r.style=this.$iApi.geo.geom.styleEsriToRamp(s)}return r}async queryFeatures(t){const i={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(i)}async queryOIDs(t){const i={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(i)).map(s=>s.attributes?s.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const i=this.filter.getCombinedSql(t);$t.FeatureFilter({where:i}).then(r=>{Ge(this.esriView).filter=r})}}class tye extends Cu{constructor(t,i){super(t,i),this.layerType=Pe.GEOJSON}async onInitiate(){let t;const i=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");i>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class iye extends Cu{constructor(t,i){super(t,i),this.layerType=Pe.SHAPEFILE}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.shapefileToGeoJson(i);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class rye extends Cu{constructor(t,i){super(t,i),this.layerType=Pe.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const i=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(i>this.lastCancel){const r=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});i>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class sye extends Cu{constructor(t,i){super(t,i),this.layerType=Pe.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(r)),await super.onInitiate())}}}class nye extends Cu{constructor(t,i){super(t,i),this.layerType=Pe.FLATGEOBUF}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class oye extends Cu{constructor(t,i){super(t,i),this.layerType=Pe.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);if(t>this.lastCancel){const s=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}}}class aye extends ET{constructor(t,i){super(t,i),this.dataFormat=lr.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=Pe.FEATURE,this.layerFormat=Ts.FEATURE,t.identifyMode&&t.identifyMode!==Vi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Vi.HYBRID}async onInitiate(){pi(this.esriLayer=await $t.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(i.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,i),t.geomClustering&&(i.featureReduction=t.geomClustering),i}onLoadActions(){const t=Date.now(),i=super.onLoadActions(),r=this.esriLayer.parsedUrl.path,n=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=n,this.serviceUrl=r;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await $t.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.tooltipInitializer(this.origRampConfig))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Dr.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=n,i.push(a,o()),i}runIdentify(t){if(!this.canIdentify())return[];const i=new Ei,r=rr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[];if(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),n=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Vi.HYBRID||this.identifyMode===Vi.SYMBOLIC)&&(s=n.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([s,n]).then(()=>{o.forEach(a=>{r.items.push(Dm.makeOidItem(a,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}applySqlFilter(t=[]){if(this.layerExists){const i=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=i}else this.noLayerErr()}getGraphicExtent(t){return new Promise((i,r)=>{if(!this.layerExists)this.noLayerErr(),r();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),r();else{const s=this.attribs.quickCache.getExtent(t);s?i(s):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(n=>{const o=ei.fromESRI(n.extent);this.attribs.quickCache.setExtent(t,o),i(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),r()})}})}}class lye extends Ou{isDynamic;origState;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Pe.MAPIMAGE,this.layerFormat=Ts.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Vi.GEOMETRIC}async onInitiate(){this.esriLayer=pi(await $t.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return this.origState={visibility:i.visible,opacity:i.opacity},i.visible=!1,t.imageFormat&&(i.imageFormat=t.imageFormat),i}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const i=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(Ss.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??ei.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const r=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},s={};this.origRampConfig.sublayers.forEach(l=>{s[l.index||0]=l});const n=[],o=(l,c)=>{const f=l.id,d=s[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new uv(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[f]||(this._sublayers[f]=new cye({id:this.$iApi.geo.layer.sublayerId(this.id,f),index:f,layerType:Pe.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",n.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new uv(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(ar(()=>l.visible,()=>{this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),ar(()=>l.opacity,y=>{this.$iApi.event.emit(Ce.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=r(l.index||0);o(c,this.layerTree)}});const a=n.map(async l=>{const c=r(l.layerIdx),f=s[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),i<this.lastCancel)return;const d={};if(l.esriSubLayer&&f?.customRenderer?.type){const y=await $t.RendererFromJson(f.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),i<this.lastCancel)return;const p=s[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(Ss.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(p,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Dr.PERMANENT));i>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!n.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,i=!1){super.updateLayerState(t,i),this.sublayers.forEach(r=>r.updateLayerState(t,i))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(i=>i.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(s=>typeof s=="number"?this.layerTree?.findChildByIdx(s)?.uid:s));const i=t.sublayerIds?this._sublayers.filter(s=>t.sublayerIds?.includes(s.uid)):this._sublayers.filter(s=>s.canIdentify());if(i.length===0)return[];let r;return t.geometry.type===Ze.POINT&&(r=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),i.map(s=>{const n=new Ei,o={},a=rr({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:s.uid,layerId:s.id,requestTime:Date.now()});return s.geomType!==Ze.POLYGON&&r?o.filterGeometry=r:o.filterGeometry=t.geometry,o.filterSql=s.getCombinedSqlFilter(),o.sourceSR=s.sourceSR,s.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(Dm.makeOidItem(c,s))}),a.loaded=!0,n.resolveMe()}).catch(()=>{a.errored=!0,n.resolveMe()}),a})}}class cye extends ET{constructor(t,i,r){if(super(t,i),this.layerType=Pe.SUBLAYER,this.layerFormat=Ts.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=r,this.isSystem=r.isSystem,this.dataFormat=lr.ESRI_FEATURE,this.supportsFeatures=!0,this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!r.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(r),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=pi(t.esriLayer.allSublayers.find(i=>i.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Qt.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Qt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const i=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=i}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?Be.fromESRI(t):Be.latLongSR()}else return this.noLayerErr(),Be.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class uye extends Ou{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.OSM,this.layerFormat=Ts.OSM,this.dataFormat=lr.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=pi(await $t.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),r={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:i.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(r),t}}class hye extends Ou{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.IMAGERY,this.layerFormat=Ts.IMAGERY,this.dataFormat=lr.ESRI_RASTER}async onInitiate(){this.esriLayer=pi(await $t.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=Date.now(),r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t}}class fye extends Ou{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Pe.TILE,this.layerFormat=Ts.TILE,this.dataFormat=lr.ESRI_TILE}async onInitiate(){this.esriLayer=pi(await $t.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),i=Date.now();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),r=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===fi.LOADED&&!r)this.$iApi.notify.show(Ss.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===fi.ERROR&&r)this.reload();else if(this.layerState!==fi.ERROR&&!r)return this.$iApi.notify.show(Ss.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class dye extends Ou{sublayerNames;mimeType;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.layerType=Pe.WMS,this.layerFormat=Ts.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=lr.OGC_RASTER,this.identifyMode=Vi.GEOMETRIC}async onInitiate(){this.esriLayer=pi(await $t.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r=t.sublayers;this.sublayerNames=r.map(n=>n.id||"error_no_wms_id");const s=r.map(n=>n.currentStyle).join();return i.customParameters={styles:s},t.url.indexOf("/geomet")!==-1&&(i.customParameters.layers=r[0].id),i}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=r=>{let s=!1;return r.forEach(n=>{this.sublayerNames.indexOf(n.name)>-1||n.sublayers&&n.sublayers.length>0&&i(n.sublayers)?s=!0:n.visible=!1}),s};return this.layerExists?i(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ze.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const i=new Ei,r=rr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(s=>{if(s){let n=!0,o;typeof s!="string"?o=$h.JSON:s.indexOf("Search returned no results")===-1&&s!==""?o=$h.TEXT:(n=!1,o=$h.UNKNOWN),n&&r.items.push(Dm.makeRawItem(o,s))}r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}setCustomParameter(t,i,r=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=i,r&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,i,r){const s=this.$iApi.geo.map,n=this.esriLayer;if(!s.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!n)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=s.getExtent(),c=n.spatialReferences,f=t.join(","),d=s.esriView.toScreen(i.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),b={"application/json":"json","text/html":"text","text/plain":"text"}[r]||"text",E=s.getSR();E.wkid?o=E.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(E.latestWkid&&c.indexOf(E.latestWkid)>-1?o=E.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),n.version==="1.3"||n.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:n.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const S={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:n.version,WIDTH:s.getPixelWidth(),HEIGHT:s.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:r},T=n.customLayerParameters;return T&&Object.keys(T).forEach(w=>{w.toLowerCase()!=="styles"&&(S[w]=T[w])}),Object.keys(S).forEach(w=>a[w]=S[w]),Ni(n.url.split("?")[0],{query:a,responseType:b})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const i=new Map;this.esriLayer.allSublayers.forEach(s=>{s.visible&&(s.legendUrl&&this.origRampConfig.sublayers?.forEach(n=>{if(n.id&&n.currentStyle&&n.id===s.name){const o=new hv(s.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==n.currentStyle&&(s.legendUrl=o.updateQuery({STYLE:n.currentStyle}))}}),i.set(s.name,s.legendUrl))});const r=t.map(s=>s.styleLegends&&s.currentStyle?s.styleLegends.find(n=>n.name===s.currentStyle).url:void 0);return r.forEach((s,n)=>{s||(r[n]=i.get(t[n].id))}),r}getWMSLayerTitle(t){if(!this.esriLayer)return"";let i;return this.esriLayer.allSublayers.some(r=>r.name===t?(i=r.title,!0):!1),i||""}loadSymbology(){const t=Date.now(),i=this.config.sublayers,r=this.getLegendUrls(i.map(s=>({id:s.id,styleLegends:s.styleLegends,currentStyle:s.currentStyle}))).map((s,n)=>{const o=i[n].name||this.getWMSLayerTitle(i[n].id)||i[n].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(s).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=r}}class pye extends Cu{constructor(t,i){super(t,i),this.layerType=Pe.WFS}async onInitiate(){const t=Date.now(),i=new hv(this.config.url),{offset:r,limit:s}=i.queryMap,n=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(r)||0,parseInt(s)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}class D7 extends R7{sourceJson;attribs;_visibility;constructor(t,i){super(t,i),this.dataFormat=lr.ESRI_FEATURE,this.layerFormat=Ts.NOLAYER,this.drawState=ts.NOT_VISUAL,this.attribs=new F7,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const i=t.fields.slice(),r=t.data[0].slice(),s=/ /gi;this.fields=i.map((c,f)=>{let d="",p=c;c.indexOf(" ")>-1&&(d=c,p=c.trim().replace(s,"-"),t.fields[f]=p);const y=this.$iApi.geo.layer.files.inferType(r[f]);return{name:p,alias:d,type:y,length:y===Xo.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Xo.OID}),t.fields.push(this.oidField),t.data.forEach((c,f)=>c.push(f+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const n={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new _ye(this.$iApi,n),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length;const o=this.origRampConfig.nameField,l={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(l,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Ce.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==fi.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Ce.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(i=>{this.legend[0].svgcode=i})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={};if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=s.features[s.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Tn(new Pl,"",r)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],i=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class mye extends D7{constructor(t,i){super(t,i),this.layerType=Pe.DATAJSON}async onInitiate(){const t=Date.now();let i;if(this.origRampConfig.rawData)i=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)i=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=i,await super.onInitiate())}}class yye extends D7{filter;serviceUrl;constructor(t,i){super(t,i),this.layerType=Pe.DATATABLE,this.serviceUrl=t.url,this.filter=new ik(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),i=Date.now(),s=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,n=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(i<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,a.displayField);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Dr.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new U7(this.$iApi,l),this.attribs.quickCache=new j7(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Dr.PERMANENT)).then(a=>{i>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=s,t.push(n,o),t}async getGraphic(t){let i={};const r=this.attribs.quickCache.getAttribs(t);if(r)i=r;else if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=n.features[n.oidIndex[t]]}else{const n={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(n);this.attribs.quickCache.setAttribs(t,o.attributes),i=o.attributes}return new Tn(new Pl,"",i)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,i){const r=this.filter.getSql(t);i!==r&&(this.filter.setSql(t,i),this.$iApi.event.emit(Ce.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const i=this.filter.getCombinedSql(t);if(!i)return;const r=this.filter.sqlActiveFilters(t);let s=this.filter.getCache(r,!1);if(!s){const n={filterSql:i,includeGeometry:!1};s=this.queryOIDs(n),this.filter.setCache(s,r,!1)}return s}queryOIDs(t){const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(r=>({oid:r,graphic:this.getGraphic(r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}}const gye=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class vye extends $i{oidIndexer(t,i){t.features.forEach((r,s)=>{t.oidIndex[r[i]]=s})}async arcGisBatchLoad(t,i){if(i.loadAbortFlag)return[];const r=t.permanentFilter?` AND ${t.permanentFilter}`:"",s={query:{where:`${t.oidField}>${t.maxId}${r}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[n,o]=await pu(Ni(t.serviceUrl+"/query",s));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){i.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const f=await this.arcGisBatchLoad(t,i);return i.loadAbortFlag?[]:a.concat(f)}else return i.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,i){t.maxId=-1,t.batchSize=-1;const s={features:(await this.arcGisBatchLoad(t,i)).map(n=>n.attributes),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,s}async loadGraphicsAttributes(t,i){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const s={features:t.sourceGraphics.map(n=>Ge(n).attributes).toArray(),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,i.loadedCount=s.features.length,s}async loadCompactJsonAttributes(t,i){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const r=t.sourceDataJson.fields,s=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[r[f]]=typeof c=="string"&&s.includes(r[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),i.loadIsDone=!0,i.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const i={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(i.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(i.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(i.query.geometryPrecision=t.geometryPrecision);const[r,s]=await pu(Ni(t.serviceUrl+"/query",i));if(!s)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,r),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!s.data||!s.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const n=s.data.features;if(n.length>0){let o;const a=this.trimFeatureSetAttributes([n[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=s.data.spatialReference;const l=TE(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Pl;return new Tn(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,i){return i.forEach(r=>{t.forEach(s=>{typeof s.attributes[r]=="string"&&(s.attributes[r]=s.attributes[r].trim())})}),t}orderFields(t,i){const r=(n,o)=>n.findIndex(a=>a.name===o),s=(n,o)=>{const a=r(i,n.name),l=r(i,o.name);return a===-1&&l===-1?r(t,n.name)-r(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(s)}applyFieldMetadata(t,i=void 0){if(!i||!i.fieldInfo){t.fieldList="*";return}const r=i.fieldInfo.filter(s=>s.trim).map(s=>s.name);if(t.fields.forEach(s=>{r.includes(s.name)&&(s.trim=!0)}),i?.enforceOrder&&i?.fieldInfo&&i?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,i.fieldInfo),t.fieldList=i.fieldInfo.map(s=>s.name).join(",")),i.exclusiveFields){i.fieldInfo.find(n=>n.name===t.oidField)||i.fieldInfo.push({name:t.oidField}),t.fieldList=i.fieldInfo.map(n=>n.name).join(",");const s=i.fieldInfo;t.fields=t.fields.filter(n=>s.find(o=>o.name===n.name))}else t.fieldList="*";i.fieldInfo.forEach(s=>{if(s.alias){const n=t.fields.find(o=>o.name===s.name);n&&(n.alias=s.alias)}})}fieldValidator(t,i){if(t.findIndex(r=>r.name===i)===-1){const r=t.find(s=>s.alias===i);return r?r.name:(console.warn(`Cannot find name field in layer field list: ${i}`),"")}else return i}async generateTabularAttributes(t,i){return i.attLoader.tabularAttributesCache||(i.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,i)),i.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,i){if(t.dataFormat===lr.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const r=await i.attLoader.getAttribs();if(!r.features||r.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const s=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(r.features[0],Ge(o).name)).map(o=>({data:Ge(o).name,title:Ge(o).alias||Ge(o).name})),n=r.features.map(o=>{const a=rk({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return s.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);n.forEach(c=>{c[l]=a})}}),{columns:s,rows:n,fields:t.fields,oidField:t.oidField}}fieldTypeToArcade(t){return gye.get(t)}}class F7{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class aI{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class AT extends $i{aac;loadPromise;details;tabularAttributesCache;constructor(t,i){super(t),this.aac=new aI,this.details=i}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new aI,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class U7 extends AT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class bye extends AT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class _ye extends AT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class j7{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ze.POINT||t===Ze.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,i){this.attribs[t]=i}getGeom(t,i=void 0){return this.getGeomStore(i)[t]}setGeom(t,i,r=void 0){const s=this.getGeomStore(r);s[t]=i}getExtent(t){return this.extents[t]}setExtent(t,i){this.extents[t]=i}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class TT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,i,r=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=r,this.type=p1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const i=this.makeSearchParams(t),r=this.symbolUnits.find(n=>n.match(i));if(r)return r;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${i}`);const s=new zb(this);return s.svgCode="",s}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,i){let r="'";if(!i||i.length===0)return r;const s=i.find(n=>n.name===t);return s&&s.type&&s.type!=="string"&&(r=""),r}cleanFieldName(t,i){if(!t)return t;let r=i.find(s=>s.name===t);if(r)return t;{const s=t.toLowerCase();return r=i.find(n=>n.name.toLowerCase()===s),r?r.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(i=>i.definitionClause).join(" OR ")}))`}}class zb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new So}match(t){return!!t}}class wye extends TT{constructor(t,i){super(t,i),this.type=p1.Simple;const r=new zb(this);r.label=t.label||"",r.symbol=t.symbol,r.definitionClause="",this.symbolUnits.push(r)}}class xye extends TT{delim;keyFields;constructor(t,i,r=!1){super(t,i,r),this.type=p1.Unique,this.delim=t.fieldDelimiter||", ";const s=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,i));const n=this.keyFields.map(o=>this.getFieldDelimiter(o,i));if(t.uniqueValueInfos.forEach(o=>{const a=new lI(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${n[d]}${s(l[d])}${n[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new lI(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(i=>{let r=t[i]===null?"":t[i];return typeof r!="string"&&(r=r.toString()),r}).join(this.delim)}}class lI extends zb{matchValue;constructor(t,i){super(t),typeof i=="number"?this.matchValue=i.toString():this.matchValue=i}match(t){return this.matchValue===t}}class Sye extends TT{valField;constructor(t,i,r=!1){if(super(t,i,r),this.valField=this.cleanFieldName(t.field,i),t.classBreakInfos.forEach((s,n)=>{const o=n===0,a=new cI(this,s.minValue,s.maxValue,o);a.label=s.label||"",a.symbol=s.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${s.minValue} AND ${this.valField} <= ${s.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const s=new cI(this,0,0,!1);s.isDefault=!0,s.label=t.defaultLabel||"",s.symbol=t.defaultSymbol,s.definitionClause=this.makeElseClause(),this.defaultUnit=s}}makeSearchParams(t){return parseFloat(t[this.valField])}}class cI extends zb{minValue;maxValue;firstBreak;constructor(t,i,r,s){super(t),this.minValue=i,this.maxValue=r,this.firstBreak=s}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var Og={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var Eye=Og.exports,uI;function Aye(){return uI||(uI=1,function(e,t){(function(i,r){e.exports=i.document?r(i,i.document):function(s){return r(s,s.document)}})(typeof window<"u"?window:Eye,function(i,r){var s=typeof this<"u"?this:i,n=s.SVG=function(u){if(n.supported)return u=new n.Doc(u),n.parser.draw||n.prepare(),u};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!r.createElementNS&&!!r.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(u){return"Svgjs"+E(u)+n.did++},n.create=function(u){var m=r.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},n.extend=function(){var u,m,x,C;for(u=[].slice.call(arguments),m=u.pop(),C=u.length-1;C>=0;C--)if(u[C])for(x in m)u[C].prototype[x]=m[x];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,n.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&n.extend(m,u.extend),u.construct&&n.extend(u.parent||n.Container,u.construct),m},n.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof i.SVGElement?new n.Nested:new n.Doc:u.nodeName=="linearGradient"?m=new n.Gradient("linear"):u.nodeName=="radialGradient"?m=new n.Gradient("radial"):n[E(u.nodeName)]?m=new n[E(u.nodeName)]:m=new n.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof n.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},n.prepare=function(){var u=r.getElementsByTagName("body")[0],m=(u?new n.Doc(u):n.adopt(r.documentElement).nested()).size(2,0);n.parser={body:u||r.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},r.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(u,m){var x,C=u.length,V=[];for(x=0;x<C;x++)V.push(m(u[x]));return V},filter:function(u,m){var x,C=u.length,V=[];for(x=0;x<C;x++)m(u[x])&&V.push(u[x]);return V},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof i.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?n.regex.isRgb.test(u)?(m=n.regex.rgb.exec(u.replace(n.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):n.regex.isHex.test(u)&&(m=n.regex.hex.exec(S(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new n.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new n.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),n.Color.test=function(u){return u+="",n.regex.isHex.test(u)||n.regex.isRgb.test(u)},n.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},n.Color.isColor=function(u){return n.Color.isRgb(u)||n.Color.test(u)},n.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},n.extend(n.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],x=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(x);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,x=[];u<m;u++)x.indexOf(this.value[u])==-1&&x.push(this.value[u]);return this.value=x},at:function(u){if(!this.destination)return this;for(var m=0,x=this.value.length,C=[];m<x;m++)C.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new n.Array(C)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=p(this.value),u}}),n.PointArray=function(u,m){n.Array.call(this,u,m||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var u=0,m=this.value.length,x=[];u<m;u++)x.push(this.value[u].join(","));return x.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,x=this.value.length,C=[];m<x;m++)C.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new n.PointArray(C)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(V){return V.slice()});if(u[0].x!=null)return u.map(function(V){return[V.x,V.y]})}else u=u.trim().split(n.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var x=0,C=u.length;x<C;x=x+2)m.push([u[x],u[x+1]]);return m},move:function(u,m){var x=this.bbox();if(u-=x.x,m-=x.y,!isNaN(u)&&!isNaN(m))for(var C=this.value.length-1;C>=0;C--)this.value[C]=[this.value[C][0]+u,this.value[C][1]+m];return this},size:function(u,m){var x,C=this.bbox();for(x=this.value.length-1;x>=0;x--)C.width&&(this.value[x][0]=(this.value[x][0]-C.x)*u/C.width+C.x),C.height&&(this.value[x][1]=(this.value[x][1]-C.y)*m/C.height+C.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var o={M:function(u,m,x){return m.x=x.x=u[0],m.y=x.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,x){return m.x=x.x,m.y=x.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,x,C){if(u=="H")m[0]=m[0]+x.x;else if(u=="V")m[0]=m[0]+x.y;else if(u=="A")m[5]=m[5]+x.x,m[6]=m[6]+x.y;else for(var V=0,Y=m.length;V<Y;++V)m[V]=m[V]+(V%2?x.y:x.x);return o[u](m,x,C)}}(a[l].toUpperCase());n.PathArray=function(u,m){n.Array.call(this,u,m||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return L(this.value)},move:function(u,m){var x=this.bbox();if(u-=x.x,m-=x.y,!isNaN(u)&&!isNaN(m))for(var C,V=this.value.length-1;V>=0;V--)C=this.value[V][0],C=="M"||C=="L"||C=="T"?(this.value[V][1]+=u,this.value[V][2]+=m):C=="H"?this.value[V][1]+=u:C=="V"?this.value[V][1]+=m:C=="C"||C=="S"||C=="Q"?(this.value[V][1]+=u,this.value[V][2]+=m,this.value[V][3]+=u,this.value[V][4]+=m,C=="C"&&(this.value[V][5]+=u,this.value[V][6]+=m)):C=="A"&&(this.value[V][6]+=u,this.value[V][7]+=m);return this},size:function(u,m){var x,C,V=this.bbox();for(x=this.value.length-1;x>=0;x--)C=this.value[x][0],C=="M"||C=="L"||C=="T"?(this.value[x][1]=(this.value[x][1]-V.x)*u/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y):C=="H"?this.value[x][1]=(this.value[x][1]-V.x)*u/V.width+V.x:C=="V"?this.value[x][1]=(this.value[x][1]-V.y)*m/V.height+V.y:C=="C"||C=="S"||C=="Q"?(this.value[x][1]=(this.value[x][1]-V.x)*u/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y,this.value[x][3]=(this.value[x][3]-V.x)*u/V.width+V.x,this.value[x][4]=(this.value[x][4]-V.y)*m/V.height+V.y,C=="C"&&(this.value[x][5]=(this.value[x][5]-V.x)*u/V.width+V.x,this.value[x][6]=(this.value[x][6]-V.y)*m/V.height+V.y)):C=="A"&&(this.value[x][1]=this.value[x][1]*u/V.width,this.value[x][2]=this.value[x][2]*m/V.height,this.value[x][6]=(this.value[x][6]-V.x)*u/V.width+V.x,this.value[x][7]=(this.value[x][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(u){var m,x,C;for(u=new n.PathArray(u),C=this.value.length===u.value.length,m=0,x=this.value.length;C&&m<x;m++)C=this.value[m][0]===u.value[m][0];return C},morph:function(u){return u=new n.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,x=this.destination.value,C=[],V=new n.PathArray,Y,de,oe,Me;for(Y=0,de=m.length;Y<de;Y++){for(C[Y]=[m[Y][0]],oe=1,Me=m[Y].length;oe<Me;oe++)C[Y][oe]=m[Y][oe]+(x[Y][oe]-m[Y][oe])*u;C[Y][0]==="A"&&(C[Y][4]=+(C[Y][4]!=0),C[Y][5]=+(C[Y][5]!=0))}return V.value=C,V},parse:function(u){if(u instanceof n.PathArray)return u.valueOf();var m,C,x={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(n.regex.numbersWithDots,d).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):u=u.reduce(function(Me,je){return[].concat.call(Me,je)},[]);var C=[],V=new n.Point,Y=new n.Point,de=0,oe=u.length;do n.regex.isPathLetter.test(u[de])?(m=u[de],++de):m=="M"?m="L":m=="m"&&(m="l"),C.push(o[m].call(null,u.slice(de,de=de+x[m.toUpperCase()]).map(parseFloat),V,Y));while(oe>de);return C},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(n.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof n.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new n.Number(u),new n.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new n.Number(u),new n.Number(this-u,this.unit||u.unit)},times:function(u){return u=new n.Number(u),new n.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new n.Number(u),new n.Number(this/u,this.unit||u.unit)},to:function(u){var m=new n.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new n.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new n.Number(this.destination).minus(this).times(u).plus(this):this}}}),n.Element=n.invent({create:function(u){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var x=w(this,u,m);return this.width(new n.Number(x.width)).height(new n.Number(x.height))},clone:function(u){this.writeDataToDom();var m=P(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var x=this.bbox();return u>x.x&&m>x.y&&u<x.x+x.width&&m<x.y+x.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(n.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return n.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=n.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof i.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=n.adopt(m.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(u){var m=[],x=this;do{if(x=x.parent(u),!x||!x.node)break;m.push(x)}while(x.parent);return m},matches:function(u){return v(this.node,u)},native:function(){return this.node},svg:function(u){var m=r.createElement("svg");if(u&&this instanceof n.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var x=0,C=m.firstChild.childNodes.length;x<C;x++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=r.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),n.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},n.morph=function(u){return function(m,x){return new n.MorphObj(m,x).at(u)}},n.Situation=n.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(u.duration).valueOf(),this.delay=new n.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,x){typeof u=="object"&&(m=u.ease,x=u.delay,u=u.duration);var C=new n.Situation({duration:u||1e3,delay:x||0,ease:n.easing[m||"-"]||m});return this.queue(C),this},delay:function(u){var m=new n.Situation({duration:u,delay:0,ease:n.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof n.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=i.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){i.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof n.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,x,C=this.situation;if(C.init)return this;for(u in C.animations)for(x=this.target()[u](),Array.isArray(x)||(x=[x]),Array.isArray(C.animations[u])||(C.animations[u]=[C.animations[u]]),m=x.length;m--;)C.animations[u][m]instanceof n.Number&&(x[m]=new n.Number(x[m])),C.animations[u][m]=x[m].morph(C.animations[u][m]);for(u in C.attrs)C.attrs[u]=new n.MorphObj(this.target().attr(u),C.attrs[u]);for(u in C.styles)C.styles[u]=new n.MorphObj(this.target().style(u),C.styles[u]);return C.initialTransformation=this.target().matrixify(),C.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var x=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!x&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var x=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*x,this.situation.finish=this.situation.start+x,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var x=this.last();return x.loops=u??!0,x.loop=0,m&&(x.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),x=function C(V){V.detail.situation==m&&(u.call(this,m),this.off("finished.fx",C))};return this.target().on("finished.fx",x),this._callStart()},during:function(u){var m=this.last(),x=function(C){C.detail.situation==m&&u.call(this,C.detail.pos,n.morph(C.detail.pos),C.detail.eased,m)};return this.target().off("during.fx",x).on("during.fx",x),this.after(function(){this.off("during.fx",x)}),this._callStart()},afterAll:function(u){var m=function x(C){u.call(this),this.off("allfinished.fx",x)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(x){u.call(this,x.detail.pos,n.morph(x.detail.pos),x.detail.eased,x.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,x){return this.last()[x||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,x,C;m=Math.max(this.absPos,0),x=Math.floor(m),this.situation.loops===!0||x<this.situation.loops?(this.pos=m-x,C=this.situation.loop,this.situation.loop=x):(this.absPos=this.situation.loops,this.pos=1,C=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-C)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=V&&(this.situation.once[Y].call(this.target(),this.pos,V),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var u,m,x,C=this,V=this.target(),Y=this.situation;for(u in Y.animations)x=[].concat(Y.animations[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(C.pos),C.pos):oe}),V[u].apply(V,x);for(u in Y.attrs)x=[u].concat(Y.attrs[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(C.pos),C.pos):oe}),V.attr.apply(V,x);for(u in Y.styles)x=[u].concat(Y.styles[u]).map(function(oe){return typeof oe!="string"&&oe.at?oe.at(Y.ease(C.pos),C.pos):oe}),V.style.apply(V,x);if(Y.transforms.length){for(x=Y.initialTransformation,u=0,m=Y.transforms.length;u<m;u++){var de=Y.transforms[u];if(de instanceof n.Matrix){de.relative?x=x.multiply(new n.Matrix().morph(de).at(Y.ease(this.pos))):x=x.morph(de).at(Y.ease(this.pos));continue}de.relative||de.undo(x.extract()),x=x.multiply(de.at(Y.ease(this.pos)))}V.matrix(x)}return this},once:function(u,m,x){var C=this.last();return x||(u=C.ease(u)),C.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(u,m,x){return(this.fx||(this.fx=new n.FX(this))).animate(u,m,x)},delay:function(u){return(this.fx||(this.fx=new n.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),n.MorphObj=n.invent({create:function(u,m){if(n.Color.isColor(m))return new n.Color(u).morph(m);if(n.regex.delimiter.test(u))return n.regex.pathLetters.test(u)?new n.PathArray(u).morph(m):new n.Array(u).morph(m);if(n.regex.numberAndUnit.test(m))return new n.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(u,m,x){if(typeof u=="object")for(var C in u)this.attr(C,u[C]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var x in u)this.style(x,u[x]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof n.G)return this.transform({x:u},m),this;var x=new n.Number(u);return x.relative=m,this.add("x",x)},y:function(u,m){if(this.target()instanceof n.G)return this.transform({y:u},m),this;var x=new n.Number(u);return x.relative=m,this.add("y",x)},cx:function(u){return this.add("cx",new n.Number(u))},cy:function(u){return this.add("cy",new n.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof n.Text)this.attr("font-size",u);else{var x;(!u||!m)&&(x=this.target().bbox()),u||(u=x.width/x.height*m),m||(m=x.height/x.width*u),this.add("width",new n.Number(u)).add("height",new n.Number(m))}return this},width:function(u){return this.add("width",new n.Number(u))},height:function(u){return this.add("height",new n.Number(u))},plot:function(u,m,x,C){return arguments.length==4?this.plot([u,m,x,C]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new n.Number(u)):this},viewbox:function(u,m,x,C){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(u,m,x,C)),this},update:function(u){if(this.target()instanceof n.Stop){if(typeof u=="number"||u instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),n.Box=n.invent({create:function(u,m,x,C){if(typeof u=="object"&&!(u instanceof n.Element))return n.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=x,this.height=C),F(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,F(m)},transform:function(u){var m=1/0,x=-1/0,C=1/0,V=-1/0,Y,de=[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)];return de.forEach(function(oe){oe=oe.transform(u),m=Math.min(m,oe.x),x=Math.max(x,oe.x),C=Math.min(C,oe.y),V=Math.max(V,oe.y)}),Y=new this.constructor,Y.x=m,Y.width=x-m,Y.y=C,Y.height=V-C,F(Y),Y}}}),n.BBox=n.invent({create:function(u){if(n.Box.apply(this,[].slice.call(arguments)),u instanceof n.Element){var m;try{if(r.documentElement.contains){if(!r.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var x=u.node;x.parentNode;)x=x.parentNode;if(x!=r)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof n.Shape){var C=u.clone(n.parser.draw.instance).show();m=C.node.getBBox(),C.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}n.Box.call(this,m)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(u){n.Box.apply(this,[].slice.call(arguments)),u instanceof n.Element&&n.Box.call(this,u.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=i.pageXOffset,this.y+=i.pageYOffset,this}},construct:{rbox:function(u){return u?new n.RBox(this).transform(u.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(u){var m,x=M([1,0,0,1,0,0]);for(u=u instanceof n.Element?u.matrixify():typeof u=="string"?M(u.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(u)?M(u):typeof u=="object"?u:x,m=B.length-1;m>=0;--m)this[B[m]]=u[B[m]]!=null?u[B[m]]:x[B[m]]},extend:{extract:function(){var u=_(this,0,1),m=_(this,1,0),x=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(x*Math.PI/180)+this.f*Math.sin(x*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(x*Math.PI/180)+this.e*Math.sin(-x*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-x,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:x,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(u){return this.destination=new n.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new n.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new n.Matrix(this.native().multiply($(u).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(u,m){return new n.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,x,C){return arguments.length==1?m=u:arguments.length==3&&(C=x,x=m,m=u),this.around(x,C,new n.Matrix(u,0,0,m,0,0))},rotate:function(u,m,x){return u=n.utils.radians(u),this.around(m,x,new n.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,x,C){return arguments.length==1?m=u:arguments.length==3&&(C=x,x=m,m=u),u=n.utils.radians(u),m=n.utils.radians(m),this.around(x,C,new n.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,x){return this.skew(u,0,m,x)},skewY:function(u,m,x){return this.skew(0,u,m,x)},around:function(u,m,x){return this.multiply(new n.Matrix(1,0,0,1,u||0,m||0)).multiply(x).multiply(new n.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=n.parser.native.createSVGMatrix(),m=B.length-1;m>=0;m--)u[B[m]]=this[B[m]];return u},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new n.Matrix(m)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(u,m){var x,C={x:0,y:0};x=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:C,this.x=x.x,this.y=x.y},extend:{clone:function(){return new n.Point(this)},morph:function(u,m){return this.destination=new n.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new n.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=n.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new n.Point(this.native().matrixTransform(u.native()))}}}),n.extend(n.Element,{point:function(u,m){return new n.Point(u,m).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(u,m,x){if(u==null){for(u={},m=this.node.attributes,x=m.length-1;x>=0;x--)u[m[x].nodeName]=n.regex.isNumber.test(m[x].nodeValue)?parseFloat(m[x].nodeValue):m[x].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?n.defaults.attrs[u]:n.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(n.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof n.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new n.Number(m):n.Color.isColor(m)?m=new n.Color(m):Array.isArray(m)&&(m=new n.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof x=="string"?this.node.setAttributeNS(x,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),n.extend(n.Element,{transform:function(u,m){var x=this,C,V;if(typeof u!="object")return C=new n.Matrix(x).extract(),typeof u=="string"?C[u]:C;if(C=new n.Matrix(x),m=!!m||!!u.relative,u.a!=null)C=m?C.multiply(new n.Matrix(u)):new n.Matrix(u);else if(u.rotation!=null)I(u,x),C=m?C.rotate(u.rotation,u.cx,u.cy):C.rotate(u.rotation-C.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(I(u,x),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var Y=C.extract();u.scaleX=u.scaleX*1/Y.scaleX,u.scaleY=u.scaleY*1/Y.scaleY}C=C.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(I(u,x),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var Y=C.extract();C=C.multiply(new n.Matrix().skew(Y.skewX,Y.skewY,u.cx,u.cy).inverse())}C=C.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?x.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=x.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,C=new n.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?C=C.translate(u.x,u.y):(u.x!=null&&(C.e=u.x),u.y!=null&&(C.f=u.y)));return this.attr("transform",C)}}),n.extend(n.FX,{transform:function(u,m){var x=this.target(),C,V;return typeof u!="object"?(C=new n.Matrix(x).extract(),typeof u=="string"?C[u]:C):(m=!!m||!!u.relative,u.a!=null?C=new n.Matrix(u):u.rotation!=null?(I(u,x),C=new n.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(I(u,x),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,C=new n.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(I(u,x),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,C=new n.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?x.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=x.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,C=new n.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(C=new n.Translate(u.x,u.y)),C?(C.relative=m,this.last().transforms.push(C),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(m){var x=m.trim().split("(");return[x[0],x[1].split(n.regex.delimiter).map(function(C){return parseFloat(C)})]}).reduce(function(m,x){return x[0]=="matrix"?m.multiply(M(x[1])):m[x[0]].apply(m,x[1])},new n.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),x=u.screenCTM().inverse();return this.addTo(u).untransform().transform(x.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var x=0,C=this.arguments.length;x<C;++x)this[this.arguments[x]]=u[x];else if(typeof u=="object")for(var x=0,C=this.arguments.length;x<C;++x)this[this.arguments[x]]=u[this.arguments[x]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],x=0,C=this.arguments.length;x<C;++x)m.push(this[this.arguments[x]]);var V=this._undo||new n.Matrix;return V=new n.Matrix().morph(n.Matrix.prototype[this.method].apply(V,m)).at(u),this.inversed?V.inverse():V},undo:function(u){for(var m=0,x=this.arguments.length;m<x;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new n[E(this.method)](u,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new n.Matrix().rotate(new n.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(n.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(x){return!!x}).map(function(x){return x.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[b(u)];else this.node.style[b(u)]=m===null||n.regex.isBlank.test(m)?"":m;return this}}),n.Parent=n.invent({create:function(u){this.constructor.call(this,u)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(u){return n.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return n.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var x,C,V=this.children();for(x=0,C=V.length;x<C;x++)V[x]instanceof n.Element&&u.apply(V[x],[x,V]),m&&V[x]instanceof n.Container&&V[x].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(u,m){return m===0||this instanceof n.Defs||this.node==n.parser.draw?this:(u=u||(this instanceof n.Doc?this:this.parent(n.Parent)),m=m||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),n.Container=n.invent({create:function(u){this.constructor.call(this,u)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(u){var m=[0,0,0,0],x,C,V,Y,de,oe,Me,je=1,ze=1,at=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof n.Element){for(oe=u,Me=u,de=(u.attr("viewBox")||"").match(at),u.bbox,V=new n.Number(u.width()),Y=new n.Number(u.height());V.unit=="%";)je*=V.value,V=new n.Number(oe instanceof n.Doc?oe.parent().offsetWidth:oe.parent().width()),oe=oe.parent();for(;Y.unit=="%";)ze*=Y.value,Y=new n.Number(Me instanceof n.Doc?Me.parent().offsetHeight:Me.parent().height()),Me=Me.parent();this.x=0,this.y=0,this.width=V*je,this.height=Y*ze,this.zoom=1,de&&(x=parseFloat(de[0]),C=parseFloat(de[1]),V=parseFloat(de[2]),Y=parseFloat(de[3]),this.zoom=this.width/this.height>V/Y?this.height/Y:this.width/V,this.x=x,this.y=C,this.width=V,this.height=Y)}else u=typeof u=="string"?u.match(at).map(function(Gt){return parseFloat(Gt)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,x,C){return this.destination=new n.ViewBox(u,m,x,C),this},at:function(u){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:n.Container,construct:{viewbox:function(u,m,x,C){return arguments.length==0?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(u,m,x,C))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){n.Element.prototype[u]=function(m){return m==null?n.off(this,u):n.on(this,u,m),this}}),n.listenerId=0,n.on=function(u,m,x,C,V){var Y=x.bind(C||u),de=u instanceof n.Element?u.node:u;de.instance=de.instance||{_events:{}};var oe=de.instance._events;x._svgjsListenerId||(x._svgjsListenerId=++n.listenerId),m.split(n.regex.delimiter).forEach(function(Me){var je=Me.split(".")[0],ze=Me.split(".")[1]||"*";oe[je]=oe[je]||{},oe[je][ze]=oe[je][ze]||{},oe[je][ze][x._svgjsListenerId]=Y,de.addEventListener(je,Y,V||!1)})},n.off=function(u,m,x,C){var V=u instanceof n.Element?u.node:u;if(V.instance&&!(typeof x=="function"&&(x=x._svgjsListenerId,!x))){var Y=V.instance._events;(m||"").split(n.regex.delimiter).forEach(function(de){var oe=de&&de.split(".")[0],Me=de&&de.split(".")[1],je,ze;if(x)Y[oe]&&Y[oe][Me||"*"]&&(V.removeEventListener(oe,Y[oe][Me||"*"][x],C||!1),delete Y[oe][Me||"*"][x]);else if(oe&&Me){if(Y[oe]&&Y[oe][Me]){for(ze in Y[oe][Me])n.off(V,[oe,Me].join("."),ze);delete Y[oe][Me]}}else if(Me)for(de in Y)for(je in Y[de])Me===je&&n.off(V,[de,Me].join("."));else if(oe){if(Y[oe]){for(je in Y[oe])n.off(V,[oe,je].join("."));delete Y[oe]}}else{for(de in Y)n.off(V,de);V.instance._events={}}})}},n.extend(n.Element,{on:function(u,m,x,C){return n.on(this,u,m,x,C),this},off:function(u,m){return n.off(this.node,u,m),this},fire:function(u,m){return u instanceof i.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new n.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(u){u&&(u=typeof u=="string"?r.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,n.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(u):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,x=P(m.cloneNode(!0));return u?(u.node||u).appendChild(x.node):m.parentNode.insertBefore(x.node,m.nextSibling),x}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof n.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof n.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(u){return this.masker=u instanceof n.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(u){return this.clipper=u instanceof n.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(u){this.constructor.call(this,n.create(u+"Gradient")),this.type=u},inherit:n.Container,extend:{at:function(u,m,x){return this.put(new n.Stop).update(u,m,x)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,x){return u=="transform"&&(u="gradientTransform"),n.Container.prototype.attr.call(this,u,m,x)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),n.extend(n.Gradient,n.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(u),fy:new n.Number(m)}):this.attr({x1:new n.Number(u),y1:new n.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(u),cy:new n.Number(m)}):this.attr({x2:new n.Number(u),y2:new n.Number(m)})}}),n.extend(n.Defs,{gradient:function(u,m){return this.put(new n.Gradient(u)).update(m)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof n.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new n.Number(u.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,x){return u=="transform"&&(u="patternTransform"),n.Container.prototype.attr.call(this,u,m,x)}},construct:{pattern:function(u,m,x){return this.defs().pattern(u,m,x)}}}),n.extend(n.Defs,{pattern:function(u,m,x){return this.put(new n.Pattern).update(x).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(u){this.constructor.call(this,u)},inherit:n.Element}),n.Bare=n.invent({create:function(u,m){if(this.constructor.call(this,n.create(u)),m)for(var x in m.prototype)typeof m.prototype[x]=="function"&&(this[x]=m.prototype[x])},inherit:n.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(r.createTextNode(u)),this}}}),n.extend(n.Parent,{element:function(u,m){return this.put(new n.Bare(u,m))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,n.xlink)}},construct:{use:function(u,m){return this.put(new n.Use).element(u,m)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(u,m){return this.put(new n.Rect).size(u,m)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(u){return this.put(new n.Circle).rx(new n.Number(u).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(u,m){return this.put(new n.Ellipse).size(u,m).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),n.extend(n.Circle,n.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new n.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new n.Number(u).divide(2))},size:function(u,m){var x=w(this,u,m);return this.rx(new n.Number(x.width).divide(2)).ry(new n.Number(x.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,x,C){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:x,y2:C}:u=new n.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var x=w(this,u,m);return this.attr(this.array().size(x.width,x.height).toLine())}},construct:{line:function(u,m,x,C){return n.Line.prototype.plot.apply(this.put(new n.Line),u!=null?[u,m,x,C]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(u){return this.put(new n.Polyline).plot(u||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(u){return this.put(new n.Polygon).plot(u||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new n.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var x=w(this,u,m);return this.attr("points",this.array().size(x.width,x.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new n.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var x=w(this,u,m);return this.attr("d",this.array().size(x.width,x.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new n.Path).plot(u||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(u){if(!u)return this;var m=this,x=new i.Image;return n.on(x,"load",function(){n.off(x);var C=m.parent(n.Pattern);C!==null&&(m.width()==0&&m.height()==0&&m.size(x.width,x.height),C&&C.width()==0&&C.height()==0&&C.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:x.width,height:x.height,ratio:x.width/x.height,url:u}))}),n.on(x,"error",function(C){n.off(x),typeof m._error=="function"&&m._error.call(m,C)}),this.attr("href",x.src=this.src=u,n.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,x){return this.put(new n.Image).load(u).size(m||0,x||m||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),x=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-x:m:this.attr("y",typeof u.valueOf()=="number"?u+x:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,x=0,C=m.length;x<C;++x)x!=0&&m[x].nodeType!=3&&n.adopt(m[x]).dom.newLined==!0&&(u+=`
`),u+=m[x].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var x=0,V=u.length;x<V;x++)this.tspan(u[x]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new n.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=n.utils.map(n.utils.filterSVGElements(u.childNodes),function(x){return n.adopt(x)});return new n.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,x=0,C=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?x+=C:(this.attr("dy",C+x),x=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new n.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new n.Text).text(u)},plain:function(u){return this.put(new n.Text).plain(u)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(n.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,x=new n.Tspan;return this._build===!1&&this.clear(),m.appendChild(x.node),x.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(u){for(var m=new n.TextPath,x=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+x,n.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),x=null;return m&&(x=m.plot(u)),u==null?x:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(u){return this.attr("href",u,n.xlink)},show:function(u){return this.attr("show",u,n.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new n.A).to(u)}}}),n.extend(n.Element,{linkTo:function(u){var m=new n.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,x){return this.defs().marker(u,m,x)}}}),n.extend(n.Defs,{marker:function(u,m,x){return this.put(new n.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(x)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(u,m,x,C){var V=["marker"];return u!="all"&&V.push(u),V=V.join("-"),u=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(m,x,C),this.attr(V,u)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,x={};x[u]=function(C){if(typeof C>"u")return this;if(typeof C=="string"||n.Color.isRgb(C)||C&&typeof C.fill=="function")this.attr(u,C);else for(m=f[u].length-1;m>=0;m--)C[f[u][m]]!=null&&this.attr(f.prefix(u,f[u][m]),C[f[u][m]]);return this},n.extend(n.Element,n.FX,x)}),n.extend(n.Element,n.FX,{rotate:function(u,m,x){return this.transform({rotation:u,cx:m,cy:x})},skew:function(u,m,x,C){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:x}):this.transform({skewX:u,skewY:m,cx:x,cy:C})},scale:function(u,m,x,C){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:x}):this.transform({scaleX:u,scaleY:m,cx:x,cy:C})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new n.Number(u).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(u){return this.y(new n.Number(u).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(u,m){var x=(this._target||this).type;return x=="radial"||x=="circle"?this.attr("r",new n.Number(u)):this.rx(u).ry(m??u)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),n.Set=n.invent({create:function(u){u instanceof n.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,x=[].slice.call(arguments);for(u=0,m=x.length;u<m;u++)this.members.push(x[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,x=this.members.length;m<x;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new n.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new n.Set(u)}}}),n.FX.Set=n.invent({create:function(u){this.set=u}}),n.Set.inherit=function(){var u,m=[];for(var u in n.Shape.prototype)typeof n.Shape.prototype[u]=="function"&&typeof n.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(x){n.Set.prototype[x]=function(){for(var C=0,V=this.members.length;C<V;C++)this.members[C]&&typeof this.members[C][x]=="function"&&this.members[C][x].apply(this.members[C],arguments);return x=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),m=[];for(var u in n.FX.prototype)typeof n.FX.prototype[u]=="function"&&typeof n.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(x){n.FX.Set.prototype[x]=function(){for(var C=0,V=this.set.members.length;C<V;C++)this.set.members[C].fx[x].apply(this.set.members[C].fx,arguments);return this}})},n.extend(n.Element,{data:function(u,m,x){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:x===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),n.extend(n.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(u){var m=r.getElementById(z(u)||u);return n.adopt(m)},n.select=function(u,m){return new n.Set(n.utils.map((m||r).querySelectorAll(u),function(x){return n.adopt(x)}))},n.extend(n.Parent,{select:function(u){return n.select(u,this.node)}});function d(u,m,x,C){return x+C.replace(n.regex.dots," .")}function p(u){for(var m=u.slice(0),x=m.length;x--;)Array.isArray(m[x])&&(m[x]=p(m[x]));return m}function y(u,m){return u instanceof m}function v(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function b(u){return u.toLowerCase().replace(/-(.)/g,function(m,x){return x.toUpperCase()})}function E(u){return u.charAt(0).toUpperCase()+u.slice(1)}function S(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function T(u){var m=u.toString(16);return m.length==1?"0"+m:m}function w(u,m,x){if(m==null||x==null){var C=u.bbox();m==null?m=C.width/C.height*x:x==null&&(x=C.height/C.width*m)}return{width:m,height:x}}function _(u,m,x){return{x:m*u.a+x*u.c+0,y:m*u.b+x*u.d+0}}function M(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function $(u){return u instanceof n.Matrix||(u=new n.Matrix(u)),u}function I(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function L(u){for(var m=0,x=u.length,C="";m<x;m++)C+=u[m][0],u[m][1]!=null&&(C+=u[m][1],u[m][2]!=null&&(C+=" ",C+=u[m][2],u[m][3]!=null&&(C+=" ",C+=u[m][3],C+=" ",C+=u[m][4],u[m][5]!=null&&(C+=" ",C+=u[m][5],C+=" ",C+=u[m][6],u[m][7]!=null&&(C+=" ",C+=u[m][7])))));return C+" "}function P(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof i.SVGElement&&P(u.childNodes[m]);return n.adopt(u).id(n.eid(u.nodeName))}function F(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function z(u){var m=(u||"").toString().match(n.regex.reference);if(m)return m[1]}function U(u){return Math.abs(u)>1e-37?u:0}var B="abcdef".split("");if(typeof i.CustomEvent!="function"){var Z=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var x=r.createEvent("CustomEvent");return x.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),x};Z.prototype=i.Event.prototype,n.CustomEvent=Z}else n.CustomEvent=i.CustomEvent;return function(u){for(var m=0,x=["moz","webkit"],C=0;C<x.length&&!i.requestAnimationFrame;++C)u.requestAnimationFrame=u[x[C]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[x[C]+"CancelAnimationFrame"]||u[x[C]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(V){var Y=new Date().getTime(),de=Math.max(0,16-(Y-m)),oe=u.setTimeout(function(){V(Y+de)},de);return m=Y+de,oe},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(i),n})}(Og)),Og.exports}var Tye=Aye();const Ju=Z1(Tye);class Mye extends $i{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,i){return i.getGraphicIcon(t)}getGraphicSymbol(t,i){return i.getGraphicSymbol(t)}makeRenderer(t,i,r=!1){switch(t.type){case this.SIMPLE:return new wye(t,i);case this.CLASS_BREAKS:return new Sye(t,i,r);case this.UNIQUE_VALUE:return new xye(t,i,r);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const i=Ju(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),r={svgcode:"",imgHeight:"",imgWidth:""};if(t){const s=await this.renderSymbologyImage(t);if(s){r.svgcode=s;const n=document.createElement("span");n.innerHTML=s;const o=n.firstElementChild?.lastElementChild;r.imgHeight=o?.getAttribute("height")||"",r.imgWidth=o?.getAttribute("width")||""}else r.svgcode=i.svg()}else r.svgcode=i.svg();return r}listToSymbology(t,i){return i.map(({text:s,image:n})=>{const o={name:s,image:n,svgcode:""};return t(n).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,i=null){i===null&&(i=Ju(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const r=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(r===t)return"";const{loader:s}=await this.svgDrawImage(i,r);return i.viewbox(0,0,s.width,s.height),i.svg()}async renderSymbologyIcon(t,i=null){if(i===null){const n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n),i=Ju(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const r=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:s}=await this.svgDrawImage(i,r);return s.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(s,this.CONTENT_IMAGE_SIZE),i.svg()}generatePlaceholderSymbology(t,i="#000"){const r=Ju(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return r.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(i),r.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:r.svg()}}async generateBlankSymbology(){return Ju(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const i=this,r=1.33333,s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s);const n=Ju(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:b}){return n.path(b).size(v*r)},circle({size:v}){return n.circle(v*r)},cross({size:v}){return n.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*r)},x({size:v}){return n.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*r)},triangle({size:v}){return n.path("M 20,20 L 10,0 0,20 Z").size(v*r)},diamond({size:v}){return n.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*r)},square({size:v}){return n.path("M 0,0 20,0 20,20 0,20 Z").size(v*r)}},a={[Zr.SOLID]:"none",[Zr.NONE]:"none",[Zr.DASH]:"5.333,4",[Zr.DOT]:"1.333,4",[Zr.DASHDOT]:"5.333,4,1.333,4",[Zr.LONGDASH]:"10.666,4",[Zr.LONGDASHDOT]:"10.666,4,1.333,4",[Zr.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[Zr.SHORTDOT]:"1.333,1.333",[Zr.SHORTDASH]:"5.333,1.333",[Zr.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[Zr.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,b)=>n.pattern(5,5,S=>S.line(0,5/2,5,5/2)).stroke(b),vertical:(v,b)=>n.pattern(5,5,S=>S.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(v,b)=>n.pattern(5,5,S=>{S.line(0,0,5,5).stroke(b),S.line(0,0,5,5).move(0,5).stroke(b),S.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(v,b)=>n.pattern(5,5,S=>{S.line(5,0,0,5).stroke(b),S.line(5,0,0,5).move(5/2,5/2).stroke(b),S.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(v,b)=>n.pattern(5,5,S=>{S.line(5/2,0,5/2,5).stroke(b),S.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(v,b)=>n.pattern(7,7,S=>{S.line(0,0,7,7).stroke(b),S.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const v=y(t.color);t.outline=t.outline||c;const b=y(t.outline.color),E=p({color:b.colour,opacity:b.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),S=o[t.style](t).fill({color:v.colour,opacity:v.opacity}).stroke(E).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0);i.fitInto(S,i.CONTENT_SIZE)},"simple-line"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),E=i.CONTENT_PADDING,S=i.CONTAINER_SIZE-i.CONTENT_PADDING;n.line(E,E,S,S).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(t.color),b=p({color:v.colour,opacity:v.opacity}),E=f[t.style](v,b);t.outline=t.outline||c;const S=y(t.outline.color),T=p({color:S.colour,opacity:S.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(E).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,b=t.width*t.xscale,E=t.height*t.yscale;t.outline=t.outline||c;const S=y(t.outline.color),T=p({color:S.colour,opacity:S.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return i.$iApi.geo.shared.convertImagetoDataURL(v).then(_=>{const M=n.pattern(b,E,$=>$.image(_,b,E));n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(M).stroke(T)})},"picture-marker"(){const v=t.source,b=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:t.url;return i.$iApi.geo.shared.convertImagetoDataURL(b).then(S=>i.svgDrawImage(n,S)).then(({image:S})=>{S.center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0),i.fitInto(S,i.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(s),n.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,i,r=0,s=0,n=!0){return new Promise((o,a)=>{const l=t.image(i,r,s,n).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,i){const r=t.node.getBoundingClientRect(),s=i/Math.max(r.width,r.height);s<1&&t.scale(s)}rendererToLegend(t){let i;const r=t.symbolUnits.slice(0);if(t.defaultUnit&&r.push(t.defaultUnit),t.falseRenderer)i=r.map(s=>[s]);else{const s=new Map;r.forEach(n=>{const o=s.get(n.label);o?o.push(n):s.set(n.label,[n])}),i=[],s.forEach(n=>i.push(n))}return i.map(s=>{const n=s[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:n.label||"",definitionClause:s.length===1?n.definitionClause:`(${s.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(n.symbol).then(a=>{o.svgcode=a,s.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const i={query:{f:"json"}},r={layers:[]},[s,n]=await pu(Ni(`${t}/legend`,i));return n?n.data?n.data:(console.error(`Error loading legend data for ${t}`),r):(console.error(`Error loading legend for ${t}`,s),r)}async mapServerLegendToRenderer(t,i){const r=t.layers.find(n=>n.layerId===i);let s;if(typeof r<"u"){s={type:"uniqueValue",field:"fakefield",uniqueValueInfos:r.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const n=await $t.RendererFromJson(s);return this.makeRenderer(n,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const i=t.layers.map(n=>n.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),r={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...i)},s=await $t.RendererFromJson(r);return this.makeRenderer(s,[],!0)}async mapServerToLocalLegend(t,i=void 0){const r=await this.getMapServerLegend(t);let s,n;return typeof i>"u"?(n=0,s=await this.mapServerLegendToRendererAll(r)):(n=parseInt(i),s=await this.mapServerLegendToRenderer(r,n)),this.rendererToLegend(s)}}class $ye extends $i{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const i=await $t.Query();i.returnGeometry=!1,t.filterSql&&(i.where=t.filterSql),t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),i.spatialRelationship="intersects");const r=await $t.QueryByIds(t.url,i);return Array.isArray(r)?r:[]}async geoJsonQuery(t){const i=await $t.Query();if(i.returnGeometry=!!t.includeGeometry,i.outFields=["*"],t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),i.spatialRelationship="intersects"),t.filterSql&&(i.where=t.filterSql),t.filterOIDs&&(i.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(i)).features.map((s,n)=>{let o;return i.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(s.geometry,`queryResult${n}`):o=new Pl,new Tn(o,"",s.attributes)})}async queryGeometryHelper(t,i,r,s){return!i&&t.type===Ze.EXTENT&&s&&!s.isEqual(t.sr)&&!(r&&r>2e7&&t.sr.wkid===3978&&s.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(s,t)).toESRI():t.toESRI()}makeClickBuffer(t,i=5){const r=this.$iApi.geo.map,s=r.getExtent(),n=i*(s.xmax-s.xmin)/r.getPixelWidth();return new ei("ze_buffer",[t.x-n,t.y-n],[t.x+n,t.y+n],t.sr)}}class Oye extends $i{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=Wh.geom,this.proj=Wh.proj,this.shared=Wh.sharedUtils,this.map=new _0e(t),this.layer=new X0e(t),this.attributes=new vye(t),this.query=new $ye(t),this.symbology=new Mye(t),Array.isArray(Ct.request.interceptors)||(Ct.request.interceptors=[]),Ct.request.interceptors.push({before:i=>{i.url.includes("?blankTile=false")&&(i.url=i.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){Ct.request.proxyUrl=t}get proxy(){return Ct.request.proxyUrl||""}}const Cye=Object.assign({"../fixtures/appbar/index.ts":()=>ve(()=>import("./index-BW4aSaNQ.js"),__vite__mapDeps([170,1,171]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>ve(()=>import("./index-ThcV9m7B.js"),__vite__mapDeps([172,173,174,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>ve(()=>import("./index-CKvT8qGi.js"),__vite__mapDeps([175,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>ve(()=>import("./index-DVxxOc14.js"),__vite__mapDeps([176,1,177]),import.meta.url),"../fixtures/details/index.ts":()=>ve(()=>import("./index-CfeIgpBs.js"),__vite__mapDeps([178,1,179]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>ve(()=>import("./index-CsxDzTyp.js"),__vite__mapDeps([180,181,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>ve(()=>import("./index-BV-yg2Rg.js"),__vite__mapDeps([182,181,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>ve(()=>import("./index-BsdV2qhX.js"),__vite__mapDeps([183,181,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>ve(()=>import("./index-BvEfa7Dz.js"),__vite__mapDeps([184,181,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>ve(()=>import("./index-DFaam5n8.js"),__vite__mapDeps([185,181,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>ve(()=>import("./index-B-RD8a3o.js"),__vite__mapDeps([186,181,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>ve(()=>import("./index-B-Xa7qn9.js"),__vite__mapDeps([187,181,1]),import.meta.url),"../fixtures/export/index.ts":()=>ve(()=>import("./index-JFYfxrEz.js"),__vite__mapDeps([188,1,189]),import.meta.url),"../fixtures/extentguard/index.ts":()=>ve(()=>import("./index-AwucS0t2.js"),__vite__mapDeps([190,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>ve(()=>import("./index-B-b4YHI0.js"),__vite__mapDeps([191,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>ve(()=>import("./index-B6rK4Nn6.js"),__vite__mapDeps([192,1]),import.meta.url),"../fixtures/grid/index.ts":()=>ve(()=>import("./index-Cq4g2Tsz.js"),__vite__mapDeps([193,1,194]),import.meta.url),"../fixtures/help/index.ts":()=>ve(()=>import("./index-DzhboU0K.js"),__vite__mapDeps([195,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>ve(()=>import("./index-CYbnDmKd.js"),__vite__mapDeps([196,179,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>ve(()=>import("./index-CbXh-FmF.js"),__vite__mapDeps([197,1]),import.meta.url),"../fixtures/legend/index.ts":()=>ve(()=>import("./index-LrcMri9P.js"),__vite__mapDeps([198,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>ve(()=>import("./index-mdDYR684.js"),__vite__mapDeps([199,1,200]),import.meta.url),"../fixtures/metadata/index.ts":()=>ve(()=>import("./index-BQny1WNG.js"),__vite__mapDeps([201,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>ve(()=>import("./index-BunTcK7q.js"),__vite__mapDeps([202,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>ve(()=>import("./index-CuTAQ9I0.js"),__vite__mapDeps([203,1,204]),import.meta.url),"../fixtures/panguard/index.ts":()=>ve(()=>import("./index-Davd0JzA.js"),__vite__mapDeps([205,1,206]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>ve(()=>import("./index-BgvxDdMt.js"),__vite__mapDeps([207,1,208]),import.meta.url),"../fixtures/settings/index.ts":()=>ve(()=>import("./index-DrzbugSz.js"),__vite__mapDeps([209,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>ve(()=>import("./index-B1cxRRgN.js"),__vite__mapDeps([210,1]),import.meta.url),"../fixtures/swipe/index.ts":()=>ve(()=>import("./index-C_QxS3EC.js"),__vite__mapDeps([211,1,212]),import.meta.url),"../fixtures/wizard/index.ts":()=>ve(()=>import("./index-D9xDNd4B.js"),__vite__mapDeps([213,1]),import.meta.url)});class Iye extends $i{constructor(t){super(t)}exists(t){return t in Fs(this.$vApp.$pinia).items}async add(t,i){let r;if(t in Fs(this.$vApp.$pinia).items)return this.get(t);if(i){if(typeof i!="function")throw new Error("malformed fixture constructor");r=MT.updateBaseToInstance(new i,t,this.$iApi)}else{const s=(await Cye[`../fixtures/${t}/index.ts`]()).default;r=new s(t,this.$iApi)}return Fs(this.$vApp.$pinia).addFixture(r),this.$iApi.event.emit(Ce.FIXTURE_ADDED,r),this.$iApi.geo.map.created&&r.initialized?.(),r}remove(t){const i=this.get(t);if(!i)throw new Error(`Could not find fixture ${t} for removal`);return Fs(this.$vApp.$pinia).removeFixture(i),this.$iApi.event.emit(Ce.FIXTURE_REMOVED,i),i}flush(){const t=Fs(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=this.get(r);s?.persist&&typeof s?.removed=="function"?s.removed():s&&this.remove(r)})}restore(){const t=Fs(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=t.items[r];typeof s.added=="function"&&s.added(),this.$iApi.geo.map.created&&typeof s.initialized=="function"&&s.initialized()})}get(t){const i=[];typeof t=="string"?i.push(t):Array.isArray(t)?i.push(...t):i.push(t.id);const r=i.map(s=>{const n=Fs(this.$vApp.$pinia).items[s];if(n)return n});return r.length===1?r[0]:r}isLoaded(t){const i=Fs(this.$vApp.$pinia),r=Array.isArray(t)?t:[t];r.forEach(n=>{i.loadPromises[n]===void 0&&i.addLoadPromise(n)});const s=i.getLoadPromises(r);return Array.isArray(t)?Promise.all(s):s[0]}addDefaultFixtures(t){Array.isArray(t)||(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const i=ss(this.$vApp.$pinia);return i.startingFixtures=t,Promise.all(t.map(r=>this.add(r)))}}class MT extends $i{static updateBaseToInstance(t,i,r){const s=new MT(i,r);return Object.defineProperties(t,{id:{value:i},$iApi:{value:r},persist:{value:t.persist??!0},$vApp:{get(){return s.$vApp}},remove:{value:s.remove},extend:{value:s.extend},config:{get(){return s.config}},mount:{value:s.mount}}),t}id;persist;constructor(t,i){super(i),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,i={}){const r=rt({extends:t,iApi:this.$iApi,data(){return{...i}}}),s=$l(r),{el:n}=this.mount(r,{props:{...i.propsData},app:s});return n}mount(t,{props:i,children:r,element:s,app:n}={}){let o=s,a=zs(t,i,r);return n&&n._context&&(a.appContext=n._context),o||(o=document.createElement("div")),qh(a,o),{vNode:a,destroy:()=>{o&&qh(null,o),o=null,a=null},el:o}}get config(){return ss(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},i=(r,s=void 0)=>{if(r.fixtures&&r.fixtures[this.id]!==void 0){let n=r.id;s!==void 0&&(n=this.$iApi.geo.layer.sublayerId(s.id,r.index)),t[n]=r.fixtures[this.id]}r.sublayers&&r.sublayers.forEach(n=>i(n,r))};return this.$iApi.geo.layer.allLayers().forEach(r=>i(r.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const i={};if(typeof this.config.panelWidth=="number")t.forEach(r=>{i[r]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(r=>{i[r]=this.config.panelWidth.default});for(const r in this.config.panelWidth)r!="default"&&(i[r]=this.config.panelWidth[r])}for(const r in i){const s=this.$iApi.panel.get(r);this.$iApi.panel.setStyle(s,{"flex-basis":`${i[r]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const i=fu(this.$vApp.$pinia),r=!!this.config.panelTeleport.target;t.forEach(s=>{i.items[s].teleport=r?this.config.panelTeleport:this.config.panelTeleport[s],i.items[s].style.width="100%"})}}}class Pye extends $i{panelStore=fu(this.$vApp.$pinia);updateHTML(t,i,r){const s=this.get(t),n=r?s.screens[r]:Object.values(s.screens)[0];if(Ak(n))for(const o in i)n[o].innerHTML=i[o]instanceof HTMLElement?i[o].outerHTML:i[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const r in t.content)if(typeof t.content[r]=="string"){const s=document.createElement("div");s.innerHTML=t.content[r],t.content[r]=s}const i={};return i[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},i[t.id].screens[t.id]=t.content,i}registerHTML(t){const i=this.get(t.id);if(i)return console.error("Panel already exist"),i;const r=this.registerHTMLConfig(t),s={i18n:{messages:t.i18nMap}};return this.register(r,s)}register(t,i){const r=Lye(t)?{[t.id]:t.config}:t;if(i){const n=i.i18n||{},o=this.$iApi.$i18n;Object.entries(n.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(n.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(n.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const s=Object.entries(r).reduce((n,[o,a])=>(n.push(new My(this.$iApi,o,a)),n),[]);return s.forEach(n=>this.panelStore.registerPanel(n)),s.length===1?s[0]:s.reduce((n,o)=>(n[o.id]=o,n),{})}async isRegistered(t){const i=Array.isArray(t)?t:[t];i.forEach(s=>{this.panelStore.regPromises[s]===void 0&&this.panelStore.addRegPromise(s)});const r=this.panelStore.getRegPromises(i);return Array.isArray(t)?Promise.all(r):r[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(t){const i=this.get(t);i&&(i.isOpen&&this.close(i),this.panelStore.removePanel(i))}get(t){const i=typeof t=="string"?t:t.id;return this.panelStore.items[i]}open(t){let i,r,s;if(typeof t=="string"||t instanceof My?i=this.get(t):(i=this.get(t.id),{screen:r,props:s}=t),!i)return i;if(i.isOpen&&!i.isVisible)i.minimize();else if(i.isOpen)return i;return r||(i.route&&!s?{screen:r,props:s}=i.route:r=Object.keys(i.screens).pop()),this.show(i,{screen:r,props:s})?(this.panelStore.openPanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit(Ce.PANEL_OPENED,i)):console.error(`Failed to open ${i.id} panel.`),i}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit(Ce.PANEL_CLOSED,i),i)}minimize(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit(Ce.PANEL_MINIMIZED,i),i)}move(t,i){const r=this.get(t);return r&&(this.panelStore.movePanel(r,i),r)}toggle(t,i){let r;return typeof t=="string"||t instanceof My?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(t):this.close(r):r)}toggleMinimize(t,i){let r;return typeof t=="string"||t instanceof My?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(r):this.minimize(r):r)}pin(t,i){const r=this.get(t);return!r||(i=typeof i<"u"?i:!r.isPinned,!r.isPinned&&!i)||(this.panelStore.pinned=i?r:void 0),r}get pinned(){return this.panelStore.pinned||void 0}show(t,i){const r=this.get(t);if(!r)return r;if(r.screens[i.screen]){if(r.screens[i.screen]?.props){const s=Object.keys(r.screens[i.screen]?.props).filter(o=>o!=="panel"),n=i.props?Object.keys(i.props):[];for(let o=0;o<s.length;o++)if(!n.includes(s[o])&&r.screens[i.screen].props[s[o]].required)return}return i.screen in this.$element._context.components||r.registerScreen(i.screen),r.teleport&&(i.props={header:!!r.teleport?.showHeader,...i.props}),this.panelStore.items[r.id].route=i,r}}setStyle(t,i,r=!1){const s=this.get(t);return s&&(this.panelStore.items[s.id].style=r?i:{...s.style,...i},s)}expand(t,i){const r=this.get(t);return r&&(this.panelStore.items[r.id].expanded=i!==void 0?i:!r.expanded,r)}}function Lye(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const Nye={};function kye(e,t){const i=wi("panel-screen");return fe(),Bt(i,{header:!1,class:"screen-spinner"},{content:Mi(()=>t[0]||(t[0]=[ue("div",{class:"loader"},null,-1)])),_:1})}const Rye=va(Nye,[["render",kye],["__scopeId","data-v-d6b3771a"]]),Dye=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>ve(()=>import("./screen-9aDF4PoB.js"),__vite__mapDeps([214,173,174,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>ve(()=>import("./screen-QC-VZt__.js"),__vite__mapDeps([215,1,216]),import.meta.url),"../fixtures/export/screen.vue":()=>ve(()=>import("./screen-CpmFa-Ly.js"),__vite__mapDeps([217,189,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>ve(()=>import("./screen-BhAMhNKQ.js"),__vite__mapDeps([218,1,219]),import.meta.url),"../fixtures/grid/screen.vue":()=>ve(()=>import("./screen-DHpb4rAQ.js"),__vite__mapDeps([220,194,1,221]),import.meta.url),"../fixtures/help/screen.vue":()=>ve(()=>import("./screen-CRiA_U05.js"),__vite__mapDeps([222,223,1,224]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>ve(()=>import("./screen-ClTY5JbL.js"),__vite__mapDeps([225,226,1,227]),import.meta.url),"../fixtures/legend/screen.vue":()=>ve(()=>import("./screen-SAGdOwgV.js"),__vite__mapDeps([228,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>ve(()=>import("./screen-Cf0c7dKF.js"),__vite__mapDeps([229,223,1,230]),import.meta.url),"../fixtures/settings/screen.vue":()=>ve(()=>import("./screen-Dl_vW2Xx.js"),__vite__mapDeps([231,226,232,233,1,234]),import.meta.url),"../fixtures/wizard/screen.vue":()=>ve(()=>import("./screen-CHyyKAFT.js"),__vite__mapDeps([235,226,1,236]),import.meta.url)});class My extends $i{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const i=this.screens[t];let r;if(yie(i)||mie(i))r=i,this.loadedScreens.push(t);else if(Ak(i))r={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let s;typeof i=="string"?s=Dye[`../fixtures/${i}`]():s=i();const n=new Promise((o,a)=>{s.then(l=>{this.loadedScreens.push(t),o(gie(l)?l.default:l)}),s.catch(l=>a(l))});r=k3({loader:()=>n,loadingComponent:Rye,delay:200})}this.$iApi.$element.component(t,r)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,i,r){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:i,style:{},expanded:!1,controls:{expand:!1,...r.controls},...r},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const i=typeof t=="string"?{screen:t}:t;return this.route=i,this.$iApi.panel.show(this,i),this}setStyles(t,i=!1){return this.$iApi.panel.setStyle(this,t,i),this}expand(t){return this.$iApi.panel.expand(this,t),this}}class Fye extends $i{constructor(t){super(t)}async easyLayer(t,i){const r=this.$iApi.geo.layer.createLayer(t);await this.$iApi.geo.map.addLayer(r);const s=this.$iApi.fixture.get("legend");return s&&(i?s.addItem(i):await s.addLayerItem(r)),r}}function Uye(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=jye(o);t[o.language]=a});const r=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let s=!1;const n=r.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return s=s||!c,c}));return s&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),n.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:n,configs:t}}function jye(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return Gye(e.services,t),Bye(e.map,t),zye(e.ui,t),e.plugins&&qye(e.plugins,t),t}function Bye(e,t){if(e.layers&&e.layers.forEach(i=>{t.layers.unshift(Vye(i))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const i={};e.components.northArrow.arrowIcon&&(i.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(i.poleIcon=e.components.northArrow.poleIcon),i&&(t.fixtures.northarrow=i,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(i=>{const r={id:i.id,default:{xmin:i.default.xmin,xmax:i.default.xmax,ymin:i.default.ymin,ymax:i.default.ymax,spatialReference:i.spatialReference}};i.full&&(r.full={xmin:i.full.xmin,xmax:i.full.xmax,ymin:i.full.ymin,ymax:i.full.ymax,spatialReference:i.spatialReference}),i.maximum&&(r.maximum={xmin:i.maximum.xmin,xmax:i.maximum.xmax,ymin:i.maximum.ymin,ymax:i.maximum.ymax,spatialReference:i.spatialReference}),t.map.extentSets.push(r)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(i=>{const r={id:i.id,name:i.name,extentSetId:i.extentSetId,lodSetId:i.lodSetId,thumbnailTileUrls:[],hasNorthPole:i.hasNorthPole||!1};i.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[i.id]={id:i.overviewUrl.id||`overviewmap-basemap-${i.id}`,tileSchemaId:i.id,layers:[{id:i.overviewUrl.id||`overviewmap-basemap-${i.id}-0`,layerType:i.overviewUrl.layerType==="esriDynamic"?Pe.MAPIMAGE:Pe.TILE,url:i.overviewUrl.url,opacity:i.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(r)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(i=>{const r={id:i.id,tileSchemaId:i.tileSchemaId,name:i.name,description:i.description,altText:i.altText,thumbnailUrl:i.thumbnailUrl,layers:[]};i.attribution&&(r.attribution={text:{},logo:{}},i.attribution.text&&(r.attribution.text.disabled=!i.attribution.text.enabled,r.attribution.text.value=i.attribution.text.value),i.attribution.logo&&(r.attribution.logo.disabled=!i.attribution.logo.enabled,r.attribution.logo.altText=i.attribution.logo.altText,r.attribution.logo.value=i.attribution.logo.value,r.attribution.logo.link=i.attribution.logo.link)),i.layers.forEach((s,n)=>{const o={id:s.id||`${i.id}-${n}`,layerType:s.layerType==="esriDynamic"?Pe.MAPIMAGE:Pe.TILE,url:s.url,opacity:s.opacity??1};r.layers.push(o)}),t.map.basemaps.push(r)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(i=>{if(i.type==="esri-map-image"||i.type==="ogc-wms"){const r={name:i.name??`${i.id} Group`,children:[]};i.sublayers.forEach(s=>{const n={layerId:i.id};s.name&&(n.name=s.name),s.controls&&(n.controls=s.controls),s.disabledControls&&(n.disabledControls=s.disabledControls),i.type==="esri-map-image"?n.sublayerIndex=s.index:(n.sublayerId=s.id,console.warn(`sublayerId property defined in legend entry ${n.layerId} is currently not supported.`)),r.children.push(n)}),t.fixtures.legend.root.children.push(r)}else{const r={layerId:i.id};i.controls&&(r.controls=i.controls),i.disabledControls&&(r.disabledControls=i.disabledControls),t.fixtures.legend.root.children.push(r)}})):t.fixtures.legend={root:VS(e.legend.root)})}function VS(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const i=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Nf(e.controls,i),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Nf(e.disabledControls,i),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(r=>{if(r.layerId)t.children.push(hI(r));else if(r.infoType)r.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:r.infoType,content:r.content}),typeof r.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(r.exclusiveVisibility){const s={name:"Visibility Set",children:[],exclusive:!0};typeof r.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),r.exclusiveVisibility.forEach(n=>{n.layerId?s.children.push(hI(n)):s.children.push(VS(n))}),t.children.push(s)}else t.children.push(VS(r))}),t}function hI(e){const t=e,i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=Nf(e.controls,i),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=Nf(e.disabledControls,i)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function Vye(e){const t=_2(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=_2(i);r.index=i.index,t.sublayers.push(r)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=_2(i);r.id=i.id,i.currentStyle&&(r.currentStyle=i.currentStyle,console.warn(`currentStyle property provided in layer entry ${i.id} of layer ${e.id} is currently not supported.`)),i.allStyles&&console.warn(`allStyles property provided in layer entry ${i.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(r)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function _2(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=Nf(e.controls,i),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=Nf(e.disabledControls,i)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),Hye(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(r=>{const s={field:r.data};r.title&&(s.title=r.title),r.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof r.visible<"u"&&(s.visible=r.visible),r.width&&(s.width=r.width),r.sort&&(s.sort=r.sort),typeof r.searchable<"u"&&(s.searchable=r.searchable),r.filter&&(s.filter=r.filter),t.fixtures.grid.columns.push(s)})))),t}function Nf(e,t){const i=[];return e.forEach(r=>{t.includes("identify")&&r==="query"?i.push("identify"):t.includes("datatable")&&r==="data"?i.push("datatable"):t.includes(r)?i.push(r):console.warn(`Ignored invalid control: ${r}`)}),i}function Gye(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(r=>r!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(r=>{typeof e[r]<"u"&&console.warn(`${r} property provided in services config cannot be mapped and will be skipped.`)})}function zye(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const s=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(n=>{const o=n.toLowerCase();s.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${n}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const s=["groupToggle","visibilityToggle"];e.legend.reorderable&&s.push("layerReorder"),e.legend.allowImport&&s.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=s:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:s,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const i=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(s=>{s.forEach(n=>{n==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):n!=="layers"&&i.includes(n)&&!t.fixtures.appbar.items.includes(n.toLowerCase())&&(t.fixtures.appbar.items.push(n.toLowerCase()),(n.toLowerCase()==="help"||n.toLowerCase()==="export"&&!t.fixturesEnabled.includes(n.toLowerCase()))&&t.fixturesEnabled.push(n.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(s=>{typeof e[s]<"u"&&console.warn(`${s} property provided in services config cannot be mapped and will be skipped.`)})}function qye(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(i=>({title:`${i["title-en-CA"]} / ${i["title-fr-CA"]}`,thumbnail:i.thumbnailUrl,altText:i.altText??"",description:i.description??"",extent:{xmin:i.xmin,xmax:i.xmax,ymin:i.ymin,ymax:i.ymax,spatialReference:{wkid:i.wkid}}}))}))}function Hye(e,t){const i=e.outfields&&e.outfields!=="*";if(!i&&!e.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(r.fieldInfo=e.fieldMetadata.map(s=>{const n={name:s.data};return s.alias&&(n.alias=s.alias),n}),i&&(e.outfields.split(",").map(n=>n.trim()).forEach(n=>{r.fieldInfo.findIndex(o=>o.name===n)===-1&&r.fieldInfo.push({name:n})}),r.exclusiveFields=!0)):i&&(r.fieldInfo=e.outfields.split(",").map(s=>({name:s.trim()})),r.exclusiveFields=!0),t.fieldMetadata=r}var hh={major:"4",minor:"12",patch:"0-beta",timestamp:"Wed May 28 13:39:34 2025 -0400",hash:"8d51cc02071b57110216d48547a234dfd4d22f7a"};console.info(`RAMP v${hh.major}.${hh.minor}.${hh.patch} [${hh.hash.slice(0,9)}] (Built on ${new Date(hh.timestamp.toString()).toLocaleString()})`);const wd=hh;function Vwe(e){return Uye(e)}const Gwe=(e,t,i)=>new m0e(e,t,i),Wh=new pie;export{j1e as $,u5 as A,tr as B,z1 as C,Xe as D,FE as E,MT as F,KV as G,Gp as H,Oo as I,ie as J,iP as K,Bp as L,y1e as M,F0 as N,Yi as O,jr as P,Ti as Q,o1e as R,l5 as S,qF as T,jp as U,mt as V,wP as W,r5 as X,WF as Y,On as Z,Bve as _,Wc as a,b5 as a$,$n as a0,hK as a1,Bwe as a2,tL as a3,rL as a4,iL as a5,eL as a6,AM as a7,N2e as a8,fbe as a9,qf as aA,zE as aB,qm as aC,ge as aD,Pi as aE,AI as aF,Kye as aG,FV as aH,yP as aI,gP as aJ,T1e as aK,O1 as aL,C1 as aM,Zye as aN,y1 as aO,Ni as aP,Wp as aQ,TB as aR,Bm as aS,kf as aT,yj as aU,k5 as aV,a5 as aW,Yt as aX,c_e as aY,kE as aZ,S4 as a_,bU as aa,g_e as ab,YH as ac,w_e as ad,x_e as ae,p_e as af,DE as ag,uW as ah,ro as ai,Ar as aj,LI as ak,In as al,__e as am,Xbe as an,Ie as ao,q0 as ap,kh as aq,Cge as ar,_o as as,tge as at,cY as au,uY as av,hY as aw,ege as ax,GE as ay,nY as az,Qj as b,Rbe as b$,JY as b0,NW as b1,TE as b2,ot as b3,T1 as b4,c1e as b5,Co as b6,lU as b7,wo as b8,e2e as b9,uwe as bA,Sge as bB,_I as bC,Js as bD,HF as bE,tu as bF,ap as bG,Y2 as bH,Wt as bI,W2 as bJ,Z2 as bK,Jg as bL,x2 as bM,pge as bN,vI as bO,L_e as bP,R_e as bQ,k_e as bR,N_e as bS,v_e as bT,b_e as bU,u6 as bV,rge as bW,Xg as bX,WI as bY,ct as bZ,x1e as b_,m1 as ba,Uf as bb,O1e as bc,Oh as bd,nge as be,oge as bf,Dbe as bg,age as bh,dt as bi,Li as bj,QY as bk,eJ as bl,tJ as bm,re as bn,Hi as bo,dve as bp,Jc as bq,ywe as br,mwe as bs,S_e as bt,zm as bu,Zg as bv,Zc as bw,Lbe as bx,Nbe as by,jm as bz,Gwe as c,Km as c$,ZH as c0,A_e as c1,JH as c2,E_e as c3,dP as c4,Hp as c5,p1e as c6,Vm as c7,Mn as c8,ar as c9,YN as cA,JN as cB,Gi as cC,Owe as cD,kZ as cE,aV as cF,a1e as cG,pP as cH,m_e as cI,Kj as cJ,cge as cK,MV as cL,PI as cM,g1 as cN,v1 as cO,Bbe as cP,Wm as cQ,Vbe as cR,Ube as cS,yu as cT,Gbe as cU,_ve as cV,vge as cW,dwe as cX,t1e as cY,f1e as cZ,S2e as c_,j2 as ca,hE as cb,M_e as cc,T_e as cd,N1e as ce,R1e as cf,k1e as cg,D1e as ch,F1e as ci,U1e as cj,rw as ck,Up as cl,Hm as cm,P1 as cn,CV as co,w1e as cp,$V as cq,Vwe as cr,hZ as cs,XN as ct,Twe as cu,kwe as cv,dd as cw,Gu as cx,FZ as cy,aZ as cz,Ye as d,Ce as d$,F2e as d0,QP as d1,bve as d2,Dy as d3,LW as d4,Cy as d5,RW as d6,DW as d7,Ct as d8,Bge as d9,fu as dA,Hme as dB,tt as dC,wi as dD,Tt as dE,At as dF,fe as dG,Bt as dH,Mi as dI,ue as dJ,xe as dK,Ul as dL,mi as dM,jt as dN,$e as dO,It as dP,ki as dQ,X as dR,Ev as dS,Gv as dT,pb as dU,Ji as dV,hr as dW,Dn as dX,yo as dY,Ht as dZ,Wme as d_,Vge as da,Gge as db,C1e as dc,I1e as dd,vve as de,xU as df,Qge as dg,Nwe as dh,bu as di,So as dj,kn as dk,tbe as dl,jf as dm,sf as dn,pve as dp,q_e as dq,dl as dr,oo as ds,U2 as dt,MW as du,yW as dv,x6 as dw,AP as dx,rt as dy,ri as dz,t3 as e,i2e as e$,ei as e0,Ke as e1,k3 as e2,zbe as e3,B1e as e4,f2e as e5,h2e as e6,vY as e7,NP as e8,uge as e9,Uve as eA,lY as eB,fh as eC,I1 as eD,Fy as eE,Pbe as eF,mu as eG,zV as eH,XV as eI,EP as eJ,Ny as eK,I2e as eL,b2e as eM,Mbe as eN,gbe as eO,Xye as eP,wI as eQ,SI as eR,EI as eS,bge as eT,Yge as eU,Zbe as eV,tE as eW,pbe as eX,XS as eY,vwe as eZ,a2e as e_,X1e as ea,E1e as eb,NV as ec,kV as ed,lge as ee,V1e as ef,LV as eg,o4 as eh,M6 as ei,h_e as ej,gW as ek,tm as el,em,r_e as en,f_e as eo,sU as ep,owe as eq,iu as er,U1 as es,fge as et,wl as eu,u1e as ev,QU as ew,Xj as ex,K2e as ey,vs as ez,xN as f,o0e as f$,Su as f0,lB as f1,lwe as f2,awe as f3,aB as f4,Jge as f5,qme as f6,pi as f7,Vv as f8,c0e as f9,XW as fA,qge as fB,GB as fC,Zh as fD,_E as fE,Hge as fF,Kp as fG,X0 as fH,Z1 as fI,WN as fJ,l0e as fK,_b as fL,va as fM,jge as fN,oB as fO,obe as fP,UI as fQ,LP as fR,J9 as fS,Dm as fT,cW as fU,fwe as fV,Fj as fW,TI as fX,g0 as fY,fA as fZ,n0e as f_,wn as fa,q5 as fb,K5 as fc,Ff as fd,Oge as fe,Zge as ff,fS as fg,u0e as fh,Kl as fi,aY as fj,A1e as fk,BV as fl,sY as fm,RV as fn,Uge as fo,L2e as fp,S1 as fq,JS as fr,Qbe as fs,O2 as ft,Ph as fu,YB as fv,Cl as fw,rbe as fx,KS as fy,n5 as fz,Wh as g,hj as g$,iI as g0,Ha as g1,L7 as g2,ST as g3,Pe as g4,h0e as g5,ss as g6,rr as g7,jo as g8,Tn as g9,eV as gA,mE as gB,b1e as gC,Jve as gD,GG as gE,dbe as gF,Abe as gG,ha as gH,oj as gI,bb as gJ,ht as gK,Kh as gL,M1 as gM,ru as gN,XF as gO,bG as gP,TG as gQ,$P as gR,Q1e as gS,i5 as gT,a4 as gU,Vve as gV,Sbe as gW,rE as gX,Ive as gY,Cve as gZ,fj as g_,hl as ga,kl as gb,wm as gc,$i as gd,jb as ge,hv as gf,p0e as gg,O3 as gh,gn as gi,vb as gj,eR as gk,O as gl,mI as gm,Jye as gn,FF as go,Yye as gp,UF as gq,e_e as gr,t5 as gs,sge as gt,c_ as gu,n_ as gv,Xw as gw,Ibe as gx,y2e as gy,R2e as gz,YF as h,Mge as h$,bbe as h0,nB as h1,gge as h2,H_e as h3,Qp as h4,fve as h5,Ige as h6,r1e as h7,AB as h8,j5 as h9,xve as hA,ai as hB,zge as hC,jbe as hD,VZ as hE,J0 as hF,jW as hG,g0e as hH,f0e as hI,$t as hJ,lm as hK,wT as hL,_r as hM,Be as hN,OP as hO,xG as hP,zs as hQ,E1 as hR,qp as hS,VV as hT,Qh as hU,$1e as hV,K1e as hW,ol as hX,G3 as hY,BB as hZ,v2e as h_,A1 as ha,h1e as hb,Q0e as hc,fye as hd,eye as he,d0e as hf,oz as hg,y_e as hh,iwe as hi,pwe as hj,ZY as hk,ii as hl,rwe as hm,nwe as hn,Ewe as ho,$M as hp,gwe as hq,zS as hr,qS as hs,Oy as ht,KP as hu,kG as hv,cbe as hw,Q6 as hx,Obe as hy,wve as hz,dp as i,U6 as i$,$ge as i0,Tge as i1,RG as i2,FP as i3,UP as i4,DP as i5,_we as i6,wwe as i7,bwe as i8,oa as i9,fi as iA,p2e as iB,m2e as iC,d2e as iD,xY as iE,Kbe as iF,dge as iG,eY as iH,QW as iI,nbe as iJ,sbe as iK,Xm as iL,Qm as iM,e0 as iN,QE as iO,tV as iP,w4 as iQ,Age as iR,ive as iS,fB as iT,gB as iU,_B as iV,Jh as iW,ZS as iX,Yve as iY,vE as iZ,i1e as i_,KE as ia,cN as ib,UY as ic,Wf as id,Jf as ie,jF as ig,Awe as ih,Rge as ii,Jbe as ij,vu as ik,Ybe as il,xH as im,hge as io,Yh as ip,Dr as iq,vi as ir,Ge as is,lo as it,BS as iu,P7 as iv,b8 as iw,a0e as ix,pu as iy,Qt as iz,dx as j,s_e as j$,UB as j0,uj as j1,Wa as j2,r2e as j3,Tf as j4,Rn as j5,Que as j6,vo as j7,Qf as j8,Ri as j9,_be as jA,D2e as jB,IG as jC,qbe as jD,ebe as jE,q1e as jF,lbe as jG,TP as jH,G1e as jI,abe as jJ,LG as jK,qh as jL,uA as jM,$h as jN,My as jO,Xo as jP,Ss as jQ,Ei as jR,H1e as jS,Q2 as jT,ZV as jU,P1e as jV,L1e as jW,aj as jX,t2e as jY,t_e as jZ,d_e as j_,khe as ja,Gpe as jb,Ze as jc,W3 as jd,xR as je,B3 as jf,yr as jg,yve as jh,xge as ji,Hbe as jj,Swe as jk,swe as jl,$r as jm,xu as jn,$ve as jo,DZ as jp,sE as jq,xl as jr,eE as js,P_e as jt,z1e as ju,i0 as jv,_u as jw,hwe as jx,Kge as jy,HE as jz,jve as k,Dve as k$,a_e as k0,n_e as k1,l_e as k2,o_e as k3,u_e as k4,Fbe as k5,GT as k6,i_e as k7,Mve as k8,l1e as k9,SN as kA,m1e as kB,rP as kC,nW as kD,Pge as kE,cwe as kF,EW as kG,vW as kH,aW as kI,im as kJ,sm as kK,BE as kL,$W as kM,OW as kN,Yf as kO,J1e as kP,oU as kQ,jT as kR,Ebe as kS,cz as kT,uV as kU,O2e as kV,C2e as kW,G6 as kX,mG as kY,qU as kZ,Rve as k_,OG as ka,Cbe as kb,qG as kc,ube as kd,CG as ke,nw as kf,hbe as kg,V2e as kh,mbe as ki,wbe as kj,EN as kk,q1 as kl,Tbe as km,z6 as kn,Nge as ko,L6 as kp,wW as kq,Ove as kr,l4 as ks,sW as kt,W1e as ku,Y1e as kv,g1e as kw,v1e as kx,b1 as ky,twe as kz,Rf as l,w1 as l$,gve as l0,Pve as l1,JU as l2,ibe as l3,uG as l4,JT as l5,mve as l6,V6 as l7,wE as l8,I_e as l9,B2e as lA,E2e as lB,Lge as lC,W2e as lD,H2e as lE,Ege as lF,_2e as lG,vbe as lH,P2e as lI,Vu as lJ,fJ as lK,kge as lL,H1 as lM,xwe as lN,yge as lO,GF as lP,mge as lQ,w2e as lR,A2e as lS,g2e as lT,ph as lU,U2e as lV,_Y as lW,ige as lX,bY as lY,Sve as lZ,g5 as l_,S1e as la,ybe as lb,$be as lc,R4 as ld,Qye as le,rV as lf,Yp as lg,n1e as lh,o5 as li,X2e as lj,Q2e as lk,ewe as ll,W5 as lm,AN as ln,xI as lo,e1e as lp,mP as lq,b4 as lr,Z5 as ls,_1e as lt,M1e as lu,Sl as lv,qM as lw,k2e as lx,x2e as ly,T2e as lz,rk as m,sV as m0,s1e as m1,d1e as m2,n2e as m3,s2e as m4,xbe as m5,M2e as m6,o2e as m7,BI as m8,Xge as m9,$2e as ma,kt as n,zW as o,Gm as p,Nn as q,YS as r,ft as s,WS as t,Vr as u,g as v,XU as w,A as x,wge as y,Jt as z};
