import{U as l}from"./main-VekDu-pG.js";async function o(a,e){const{data:t}=await l(a,{responseType:"json",query:{f:"json",...e?.customParameters,token:e?.apiKey}});return t}const p={BingMapsLayer:async()=>(await import("./BingMapsLayer-DmoXIPrN.js")).default,BuildingSceneLayer:async()=>(await import("./BuildingSceneLayer-D9gJYH5J.js")).default,CSVLayer:async()=>(await import("./CSVLayer-D25n8M1m.js")).default,CatalogLayer:async()=>(await import("./CatalogLayer-BQ2qr76W.js")).default,DimensionLayer:async()=>(await import("./DimensionLayer-Bol4_tmT.js")).default,ElevationLayer:async()=>(await import("./ElevationLayer-BKHIH8B6.js")).default,FeatureLayer:async()=>(await import("./main-VekDu-pG.js").then(a=>a.vF)).default,GeoJSONLayer:async()=>(await import("./GeoJSONLayer-_j5E5Rde.js")).default,GeoRSSLayer:async()=>(await import("./GeoRSSLayer-BmXxhYvb.js")).default,GroupLayer:async()=>(await import("./GroupLayer-BXkOyUz2.js")).default,ImageryLayer:async()=>(await import("./main-VekDu-pG.js").then(a=>a.vG)).default,ImageryTileLayer:async()=>(await import("./ImageryTileLayer-yeEOH5W1.js")).default,IntegratedMesh3DTilesLayer:async()=>(await import("./IntegratedMesh3DTilesLayer-C0XUSZFt.js")).default,IntegratedMeshLayer:async()=>(await import("./IntegratedMeshLayer-CnyMuVOq.js")).default,KMLLayer:async()=>(await import("./KMLLayer-BIZFydGh.js")).default,KnowledgeGraphLayer:async()=>(await import("./KnowledgeGraphLayer-BqTC3Ejm.js")).default,LineOfSightLayer:async()=>(await import("./LineOfSightLayer-WVJ5NA6N.js")).default,LinkChartLayer:async()=>(await import("./LinkChartLayer-Bn2Evjv-.js")).default,MapImageLayer:async()=>(await import("./main-VekDu-pG.js").then(a=>a.vH)).default,MapNotesLayer:async()=>(await import("./MapNotesLayer-Bf__zfXX.js")).default,MediaLayer:async()=>(await import("./MediaLayer-QU66H3Q8.js")).default,OGCFeatureLayer:async()=>(await import("./OGCFeatureLayer-Cq-ieC_O.js")).default,OpenStreetMapLayer:async()=>(await import("./main-VekDu-pG.js").then(a=>a.vJ)).default,OrientedImageryLayer:async()=>(await import("./OrientedImageryLayer-h6BwyAAU.js")).default,PointCloudLayer:async()=>(await import("./PointCloudLayer-CbQTH7Ql.js")).default,RouteLayer:async()=>(await import("./RouteLayer-Ns0R_rOu.js")).default,SceneLayer:async()=>(await import("./SceneLayer-BqYakx_P.js")).default,StreamLayer:async()=>(await import("./StreamLayer-DbmuhXvf.js")).default,SubtypeGroupLayer:async()=>(await import("./SubtypeGroupLayer-xEjdMGRA.js")).default,TileLayer:async()=>(await import("./main-VekDu-pG.js").then(a=>a.vK)).default,UnknownLayer:async()=>(await import("./UnknownLayer-CmATbKFE.js")).default,UnsupportedLayer:async()=>(await import("./UnsupportedLayer-DMiGH0W8.js")).default,VectorTileLayer:async()=>(await import("./VectorTileLayer-_q19Iv3z.js")).default,VideoLayer:async()=>(await import("./VideoLayer-CZFnv_F-.js")).default,ViewshedLayer:async()=>(await import("./ViewshedLayer-BdtgeOIL.js")).default,VoxelLayer:async()=>(await import("./VoxelLayer-DG0DGLIB.js")).default,WFSLayer:async()=>(await import("./WFSLayer-BoSxZwuE.js")).default,WMSLayer:async()=>(await import("./main-VekDu-pG.js").then(a=>a.vL)).default,WMTSLayer:async()=>(await import("./WMTSLayer-BgpsRK9e.js")).default,WebTileLayer:async()=>(await import("./main-VekDu-pG.js").then(a=>a.vI)).default},f=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function d(a,e){const{loadContext:t,...r}=e||{},i=t?await t.fetchServiceMetadata(a,r):await o(a,r);c(i),u(i);const n={serviceJSON:i};if((i.currentVersion??0)<10.5)return n;const s=`${a}/layers`,y=t?await t.fetchServiceMetadata(s,r):await o(s,r);return c(y),u(y),n.layersJSON={layers:y.layers,tables:y.tables},n}function L(a){const{type:e}=a;return!!e&&f.has(e)}function m(a){return a.type==="Table"}function u(a){a.layers=a.layers?.filter(L),a.tables=a.tables?.filter(m)}function w(a){a.type||="Feature Layer"}function h(a){a.type||="Table"}function c(a){a.layers?.forEach(w),a.tables?.forEach(h)}function S(a){switch(a){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{p as a,o as b,S as i,d as t};
