{"version":3,"file":"index-BHKak1h-.js","sources":["../../src/fixtures/snowman/snowman.vue","../../src/fixtures/snowman/appbar-button.vue","../../src/fixtures/snowman/index.ts"],"sourcesContent":["<template>\r\n    <div class=\"absolute top-0 right-0\" ref=\"el\">\r\n        <img style=\"width: 250px\" :src=\"url\" alt=\"Snowman\" srcset=\"\" />\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { FixtureInstance } from '@/api';\r\nimport { onMounted, ref } from 'vue';\r\n\r\nconst props = defineProps({\r\n    fixture: {\r\n        type: FixtureInstance,\r\n        required: true\r\n    },\r\n    message: String\r\n});\r\n\r\nconst el = ref();\r\n\r\nconst url = ref('https://i.imgur.com/p13yknD.png');\r\n\r\nonMounted(() => {\r\n    // console.log(this.message);\r\n\r\n    setTimeout(() => {\r\n        // console.log(`[fixture] ${this.fixture.id} self-terminates`);\r\n\r\n        // NOTE: only on-map components need this relatively complicated removal process; panels are closed much easier\r\n\r\n        // removes the snowman from DOM and destroys the instance\r\n        // this.$destroy(); // destroy Vue component (no longer supported in Vue 3)\r\n        el.value.parentNode!.removeChild(el.value); // remove DOM nodes\r\n        // you can also do it like this üëâ this.$options.iApi.$vApp.$el.removeChild(this.$el.parentNode);\r\n\r\n        // NOTE: üì¢ it's possible to call the store directly from a fixture component, but DON'T DO THIS! üõë\r\n        // always use the API, that's what it's for, let it call the store directly\r\n        // üëâ useFixtureStore(this.$iApi.$vApp.$pinia).removeFixture(this) ‚ùå\r\n\r\n        // üëá this is the correct way ‚úî\r\n        props.fixture.remove(); // or // this.$options.iApi.fixture.remove(this.fixture);\r\n    }, 6000);\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n    <appbar-button :onClickFunction=\"togglePanel\" tooltip=\"‚õÑ\">\r\n        <span class=\"block h-24\">‚õÑ</span>\r\n    </appbar-button>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { InstanceAPI } from '@/api';\r\nimport { inject } from 'vue';\r\nconst iApi = inject('iApi') as InstanceAPI;\r\n\r\nconst togglePanel = () => {\r\n    // summon the SNOWMAN!\r\n    iApi.fixture.add('snowman');\r\n\r\n    // the above will re-add the snowman fixture as it was self-terminated\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import SnowmanV from './snowman.vue'; // import on-map component\r\nimport SnowmanAppbarButtonV from './appbar-button.vue';\r\n\r\nimport { FixtureInstance } from '@/api';\r\n\r\nclass SnowmanFixture extends FixtureInstance {\r\n    added(): void {\r\n        // console.log(`[fixture] ${this.id} added`);\r\n\r\n        // register snowman appbar button\r\n        this.$iApi.component('snowman-appbar-button', SnowmanAppbarButtonV);\r\n\r\n        const { el } = this.mount(SnowmanV, {\r\n            app: this.$element,\r\n            props: { message: 'This is a snowman prop.', fixture: this }\r\n        });\r\n\r\n        this.$vApp.$el.appendChild(el.childNodes[0]);\r\n\r\n        // snowman self-terminates from its own component\r\n\r\n        // NOTE: right now Snowman terminates from inside its own component, but it can be done here as well üëá\r\n        // svInstance.$destroy(); // no longer supported in Vue 3\r\n        // this.$vApp.$el.removeChild(snowman);\r\n        // this.$iApi.fixture.remove(this);\r\n    }\r\n\r\n    removed(): void {\r\n        // console.log(`[fixture] ${this.id} removed`);\r\n    }\r\n}\r\n\r\nexport default SnowmanFixture;\r\n"],"names":["props","__props","el","ref","url","onMounted","iApi","inject","togglePanel","SnowmanFixture","FixtureInstance","SnowmanAppbarButtonV","SnowmanV"],"mappings":";;;;;;;;;;;AAUA,UAAMA,IAAQC,GAQRC,IAAKC,EAAI,GAETC,IAAMD,EAAI,iCAAiC;AAEjD,WAAAE,EAAU,MAAM;AAGZ,iBAAW,MAAM;AAOb,QAAAH,EAAG,MAAM,WAAY,YAAYA,EAAG,KAAK,GAQzCF,EAAM,QAAQ,OAAO;AAAA,SACtB,GAAI;AAAA,IAAA,CACV;;;;;;;;;;;;;;;;ACjCK,UAAAM,IAAOC,EAAO,MAAM,GAEpBC,IAAc,MAAM;AAEjB,MAAAF,EAAA,QAAQ,IAAI,SAAS;AAAA,IAG9B;;;;;;;;;;;;;;;ACXA,MAAMG,UAAuBC,EAAgB;AAAA,EACzC,QAAc;AAIL,SAAA,MAAM,UAAU,yBAAyBC,CAAoB;AAElE,UAAM,EAAE,IAAAT,EAAO,IAAA,KAAK,MAAMU,GAAU;AAAA,MAChC,KAAK,KAAK;AAAA,MACV,OAAO,EAAE,SAAS,2BAA2B,SAAS,KAAK;AAAA,IAAA,CAC9D;AAED,SAAK,MAAM,IAAI,YAAYV,EAAG,WAAW,CAAC,CAAC;AAAA,EAAA;AAAA,EAU/C,UAAgB;AAAA,EAAA;AAGpB;"}