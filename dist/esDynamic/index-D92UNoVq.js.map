{"version":3,"file":"index-D92UNoVq.js","sources":["../../src/fixtures/gazebo/appbar-button.vue","../../src/fixtures/gazebo/p2-screen-2.vue","../../src/fixtures/gazebo/p2-screen-3.vue","../../src/fixtures/gazebo/lang/lang.csv?raw","../../src/fixtures/gazebo/index.ts"],"sourcesContent":["<template>\r\n    <appbar-button :onClickFunction=\"onClick\" tooltip=\"Gazebo\">\r\n        <span :style=\"{ color: options?.colour ?? '#BDBDBD' }\">G </span>\r\n    </appbar-button>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { inject } from 'vue';\r\nimport type { PropType } from 'vue';\r\nimport type { InstanceAPI } from '@/api';\r\n\r\ndefineProps({\r\n    options: {\r\n        type: Object as PropType<{ colour: string }>\r\n    }\r\n});\r\n\r\nconst iApi = inject<InstanceAPI>('iApi')!;\r\n\r\nconst onClick = () => {\r\n    iApi.panel.toggle({ id: 'p2', screen: 'p-2-screen-2' });\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n    <panel-screen :panel=\"panel\">\r\n        <template #header> Gazebo/Panel 2/Screen B </template>\r\n\r\n        <template #content>\r\n            {{ t('gz.hello2') }}\r\n\r\n            <div class=\"flex flex-row justify-center items-center mt-16\">\r\n                <!-- ✔ this is the correct way to switch between screens in the same panel 👇 -->\r\n                <button\r\n                    type=\"button\"\r\n                    @click=\"\r\n                        panel.show({\r\n                            screen: 'p-2-screen-1',\r\n                            props: { greeting: 'Greeting from Screen B' }\r\n                        })\r\n                    \"\r\n                    class=\"bg-green-500 hover:bg-green-700 text-white font-bold py-8 px-16\"\r\n                >\r\n                    Switch to Screen A\r\n                </button>\r\n\r\n                <button\r\n                    type=\"button\"\r\n                    @click=\"enhancedCatActivities()\"\r\n                    class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-8 px-16 m-2\"\r\n                >\r\n                    See a cat\r\n                </button>\r\n            </div>\r\n\r\n            <p class=\"mt-16\">{{ greeting }}</p>\r\n        </template>\r\n    </panel-screen>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { inject } from 'vue';\r\nimport type { PropType } from 'vue';\r\nimport type { InstanceAPI, PanelInstance } from '@/api';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nconst props = defineProps({\r\n    panel: { type: Object as PropType<PanelInstance>, required: true },\r\n    greeting: { type: String }\r\n});\r\n\r\nconst { t } = useI18n();\r\nconst iApi = inject<InstanceAPI>('iApi')!;\r\n\r\nconst enhancedCatActivities = () => {\r\n    // shows a cat, also does an event API flex\r\n    props.panel.show('p-2-screen-3');\r\n    iApi.event.emit('gazebo/beholdMyText', 'I am a cat');\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n    <panel-screen :panel=\"panel\">\r\n        <template #header> Gazebo/Panel 2/Screen C </template>\r\n\r\n        <template #content>\r\n            <div class=\"flex flex-col items-center mt-16\">\r\n                <!-- ✔ this is the correct way to switch between screens in the same panel 👇 -->\r\n                <button\r\n                    type=\"button\"\r\n                    @click=\"\r\n                        panel.show({\r\n                            screen: 'p-2-screen-1',\r\n                            props: { greeting: 'Greeting from Screen C' }\r\n                        })\r\n                    \"\r\n                    class=\"bg-green-500 hover:bg-green-700 text-white font-bold py-8 px-16\"\r\n                >\r\n                    Switch to Screen A\r\n                </button>\r\n\r\n                <img class=\"my-16\" src=\"https://media.giphy.com/media/iWkHDNtcHpB5e/giphy.gif\" alt=\"\" srcset=\"\" />\r\n\r\n                <p>Locale merging:</p>\r\n                <dl>\r\n                    <dt>global locale:</dt>\r\n                    <dd class=\"ml-32 font-bold\">{{ t('lang_native') }}</dd>\r\n                    <dt>fixture locale:</dt>\r\n                    <dd class=\"ml-32 font-bold\">{{ t('gz.hello') }}</dd>\r\n                    <dt>common panels locale:</dt>\r\n                    <dd class=\"ml-32 font-bold\">{{ t('who') }}</dd>\r\n                </dl>\r\n            </div>\r\n        </template>\r\n    </panel-screen>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { PropType } from 'vue';\r\nimport type { PanelInstance } from '@/api';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\ndefineProps({\r\n    panel: { type: Object as PropType<PanelInstance>, required: true }\r\n});\r\n\r\nconst { t } = useI18n({\r\n    messages: {\r\n        en: {\r\n            lang_native: 'En',\r\n            who: '[me cat]'\r\n        },\r\n        fr: {\r\n            lang_native: 'Fr',\r\n            who: '[moi chat]'\r\n        }\r\n    }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","export default \"key,enValue,enValid,frValue,frValid\\r\\ngz.hello,I'm a simple panel - but from a locale file,1,Bonjour. Je suis un panel\\\",0\\r\\ngz.hello2,I'm a simple panel,1,Bonjour. Je suis un panel\\\",0\\r\\ngz.alert1,Gazebo,1,Gazebo,0\\r\\ngz.alert2,Gazebo two,1,Gazebo deux,0\"","import { markRaw } from 'vue';\r\nimport { FixtureInstance } from '@/api';\r\nimport type { AsyncComponentEh } from '@/stores/panel';\r\n\r\nimport GazeboAppbarButtonV from './appbar-button.vue';\r\n\r\nimport GazeboP1Screen1V from './p1-screen-1.vue';\r\nimport GazeboP1Screen2V from './p1-screen-2.vue';\r\n\r\nimport GazeboP2Screen2V from './p2-screen-2.vue';\r\nimport GazeboP2Screen3V from './p2-screen-3.vue';\r\n\r\nimport messages from './lang/lang.csv?raw';\r\n\r\nconst BEHOLD_TEXT_EVENT = 'gazebo/beholdMyText';\r\n\r\nclass GazeboFixture extends FixtureInstance {\r\n    added(): void {\r\n        // console.log(`[fixture] ${this.id} added`);\r\n\r\n        this.$iApi.event.registerEventName(BEHOLD_TEXT_EVENT);\r\n\r\n        this.$iApi.component('gazebo-appbar-button', GazeboAppbarButtonV);\r\n\r\n        /**\r\n         * -- Vue3 Migration --\r\n         * All screen loading methods have been replaced with direct component loading.\r\n         * That is, each screen component is directly loaded by importing it above\r\n         *\r\n         * // TODO: Migrate different loading techniques from Vue2 to Vue3. Refer to the TODOs below for examples\r\n         */\r\n\r\n        this.$iApi.panel.register(\r\n            {\r\n                // panel-1 has examples of how not to bind things and interact with stuff; bad panel ❌\r\n                // it generally avoids using API and goes straight to the store; fixtures/panels/screens should not do that;\r\n                id: 'p1',\r\n                config: {\r\n                    screens: {\r\n                        'p-1-screen-1': markRaw(GazeboP1Screen1V),\r\n                        'p-1-screen-2': markRaw(GazeboP1Screen2V)\r\n                    },\r\n                    style: {\r\n                        'flex-grow': '1',\r\n                        'max-width': '500px'\r\n                    },\r\n                    alertName: 'gz.alert1'\r\n                }\r\n            },\r\n            { i18n: { messages } }\r\n        );\r\n\r\n        this.$iApi.panel.register(\r\n            {\r\n                // panel-2 has examples of how properly bind things and interact with stuff; good panel ✔\r\n                // use API functions; underlying store structure might change and all the code accessing the store directly will break\r\n                id: 'p2',\r\n                config: {\r\n                    screens: {\r\n                        /**\r\n                         * // This should work:\r\n                         * manually lazy-loading a screen component\r\n                         */\r\n                        //'p-2-screen-1': () => import(/* webpackChunkName: \"p-2-screen-1\" */ `./p2-screen-1.vue`),\r\n\r\n                        /**\r\n                         * // This should work:\r\n                         * for the demo purposes, delay resolution of a component by 2 seconds\r\n                         */\r\n                        'p-2-screen-1': () => {\r\n                            return new Promise<AsyncComponentEh>(resolve =>\r\n                                setTimeout(\r\n                                    () =>\r\n                                        import(`./p2-screen-1.vue`).then(data => {\r\n                                            resolve(data);\r\n                                        }),\r\n                                    2000\r\n                                )\r\n                            );\r\n                        },\r\n\r\n                        /**\r\n                         * // This should work:\r\n                         * letting the core to lazy-load a screen component; need to provide a path relative to the fixtures home folder\r\n                         */\r\n                        'p-2-screen-2': markRaw(GazeboP2Screen2V),\r\n\r\n                        /**\r\n                         * // This should work:\r\n                         * returning a `VueConstructor` in a promise\r\n                         */\r\n                        'p-2-screen-3': () => {\r\n                            return new Promise<AsyncComponentEh>(resolve => resolve(markRaw(GazeboP2Screen3V)));\r\n                        }\r\n                    },\r\n                    style: {\r\n                        'flex-grow': '1',\r\n                        'max-width': '500px'\r\n                    },\r\n                    alertName: 'gz.alert2'\r\n                }\r\n            },\r\n            { i18n: { messages } }\r\n        );\r\n\r\n        this.handlePanelTeleports(['p1', 'p2']);\r\n    }\r\n}\r\n\r\nexport default GazeboFixture;\r\n"],"names":["iApi","inject","onClick","props","__props","t","useI18n","enhancedCatActivities","messages","BEHOLD_TEXT_EVENT","GazeboFixture","FixtureInstance","GazeboAppbarButtonV","markRaw","GazeboP1Screen1V","GazeboP1Screen2V","resolve","data","GazeboP2Screen2V","GazeboP2Screen3V"],"mappings":";;;;;;;;;AAiBM,UAAAA,IAAOC,EAAoB,MAAM,GAEjCC,IAAU,MAAM;AAClB,MAAAF,EAAK,MAAM,OAAO,EAAE,IAAI,MAAM,QAAQ,gBAAgB;AAAA,IAC1D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBA,UAAMG,IAAQC,GAKR,EAAE,GAAAC,EAAE,IAAIC,EAAQ,GAChBN,IAAOC,EAAoB,MAAM,GAEjCM,IAAwB,MAAM;AAE1B,MAAAJ,EAAA,MAAM,KAAK,cAAc,GAC1BH,EAAA,MAAM,KAAK,uBAAuB,YAAY;AAAA,IACvD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTM,UAAA,EAAE,GAAAK,EAAE,IAAIC,EAAQ;AAAA,MAClB,UAAU;AAAA,QACN,IAAI;AAAA,UACA,aAAa;AAAA,UACb,KAAK;AAAA,QACT;AAAA,QACA,IAAI;AAAA,UACA,aAAa;AAAA,UACb,KAAK;AAAA,QAAA;AAAA,MACT;AAAA,IACJ,CACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICxDDE,IAAe,EAAC,IAAK,EAAC,YAAW,+CAA8C,aAAY,sBAAqB,aAAY,UAAS,aAAY,aAAY,GAAE,IAAK,EAAC,YAAW,8BAA8B,aAAY,8BAA8B,aAAY,UAAS,aAAY,cAAa,EAAC,GCcjSC,IAAoB;AAE1B,MAAMC,UAAsBC,EAAgB;AAAA,EACxC,QAAc;AAGL,SAAA,MAAM,MAAM,kBAAkBF,CAAiB,GAE/C,KAAA,MAAM,UAAU,wBAAwBG,CAAmB,GAUhE,KAAK,MAAM,MAAM;AAAA,MACb;AAAA;AAAA;AAAA,QAGI,IAAI;AAAA,QACJ,QAAQ;AAAA,UACJ,SAAS;AAAA,YACL,gBAAgBC,EAAQC,CAAgB;AAAA,YACxC,gBAAgBD,EAAQE,CAAgB;AAAA,UAC5C;AAAA,UACA,OAAO;AAAA,YACH,aAAa;AAAA,YACb,aAAa;AAAA,UACjB;AAAA,UACA,WAAW;AAAA,QAAA;AAAA,MAEnB;AAAA,MACA,EAAE,MAAM,EAAE,UAAAP,EAAW,EAAA;AAAA,IACzB,GAEA,KAAK,MAAM,MAAM;AAAA,MACb;AAAA;AAAA;AAAA,QAGI,IAAI;AAAA,QACJ,QAAQ;AAAA,UACJ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAWL,gBAAgB,MACL,IAAI;AAAA,cAA0B,CACjCQ,MAAA;AAAA,gBACI,MACI,OAAO,2BAAmB,EAAE,KAAK,CAAQC,MAAA;AACrC,kBAAAD,EAAQC,CAAI;AAAA,gBAAA,CACf;AAAA,gBACL;AAAA,cAAA;AAAA,YAER;AAAA;AAAA;AAAA;AAAA;AAAA,YAOJ,gBAAgBJ,EAAQK,CAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,YAMxC,gBAAgB,MACL,IAAI,QAA0B,CAAAF,MAAWA,EAAQH,EAAQM,CAAgB,CAAC,CAAC;AAAA,UAE1F;AAAA,UACA,OAAO;AAAA,YACH,aAAa;AAAA,YACb,aAAa;AAAA,UACjB;AAAA,UACA,WAAW;AAAA,QAAA;AAAA,MAEnB;AAAA,MACA,EAAE,MAAM,EAAE,UAAAX,EAAW,EAAA;AAAA,IACzB,GAEA,KAAK,qBAAqB,CAAC,MAAM,IAAI,CAAC;AAAA,EAAA;AAE9C;"}