var Fs=(t=>(t.BLOB="blob",t.DATE="date",t.DOUBLE="double",t.GEOMETRY="geometry",t.GLOBAL_ID="global-id",t.GUID="guid",t.INTEGER="integer",t.LONG="long",t.OID="oid",t.RASTER="raster",t.SINGLE="single",t.SMALL_INTEGER="small-integer",t.STRING="string",t.XML="xml",t))(Fs||{}),Us=(t=>(t.CIRCLE="circle",t.CROSS="cross",t.DIAMOND="diamond",t.ICON="icon",t.PATH="path",t.SQUARE="square",t.TRIANGLE="triangle",t.X="x",t))(Us||{}),Gi=(t=>(t.DASH="dash",t.DASHDOT="dash-dot",t.DASHDOTDOT="short-dash-dot-dot",t.DOT="dot",t.LONGDASH="long-dash",t.LONGDASHDOT="long-dash-dot",t.LONGDASHDOTDOT="long-dash-dot-dot",t.NONE="none",t.NULL="none",t.SHORTDASH="short-dash",t.SHORTDASHDOT="short-dash-dot",t.SHORTDASHDOTDOT="short-dash-dot-dot",t.SHORTDOT="short-dot",t.SOLID="solid",t))(Gi||{}),q4=(t=>(t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t))(q4||{}),V4=(t=>(t.ROUND="round",t.BUTT="butt",t.SQUARE="square",t))(V4||{}),H4=(t=>(t.BDIAG="backward-diagonal",t.CROSS="cross",t.DIAG_CROSS="diagonal-cross",t.FDIAG="forward-diagonal",t.HORIZONTAL="horizontal",t.NONE="none",t.NULL="none",t.SOLID="solid",t.VERTICAL="vertical",t))(H4||{}),Zt=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t.LINEARRING="LinearRing",t.EXTENT="Extent",t.NONE="None",t.UNKNOWN="Unknown",t))(Zt||{}),b0=(t=>(t.Simple="simple",t.Unique="uniqueValue",t.ClassBreaks="classBreaks",t.Unknown="unknown",t))(b0||{}),Pt=(t=>(t.FEATURE="esri-feature",t.MAPIMAGE="esri-map-image",t.TILE="esri-tile",t.IMAGERY="esri-imagery",t.GRAPHIC="esri-graphic",t.WMS="ogc-wms",t.WFS="ogc-wfs",t.GEOJSON="file-geojson",t.GEOJSONZIPPED="file-zip-geojson",t.CSV="file-csv",t.SHAPEFILE="file-shape",t.FLATGEOBUF="file-fgb",t.FLATGEOBUFZIPPED="file-zip-fgb",t.OSM="osm-tile",t.DATACSV="data-csv",t.DATAJSON="data-json",t.DATATABLE="data-esri-table",t.UNKNOWN="unknown",t.SUBLAYER="sublayer",t))(Pt||{}),ur=(t=>(t.FEATURE="feature",t.GRAPHIC="graphic",t.IMAGERY="imagery",t.MAPIMAGE="map-image",t.NOLAYER="no-layer",t.OSM="osm-tile",t.TILE="tile",t.UNKNOWN="unknown",t.WMS="wms",t))(ur||{}),ni=(t=>(t.ESRI_FEATURE="esriFeature",t.ESRI_RASTER="esriRaster",t.ESRI_TILE="esriTile",t.OSM_TILE="osmTile",t.OGC_RASTER="ogcRaster",t.UNKNOWN="unknown",t))(ni||{}),hn=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t))(hn||{}),Un=(t=>(t.GEOMETRIC="geometric",t.SYMBOLIC="symbolic",t.HYBRID="hybrid",t.NONE="none",t))(Un||{}),Ye=(t=>(t.NEW="new",t.INITIATING="initiating",t.INITIATED="initiated",t.TERMINATING="terminating",t.TERMINATED="terminated",t))(Ye||{}),sn=(t=>(t.NEW="new",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(sn||{}),ji=(t=>(t.NOT_LOADED="not-loaded",t.NOT_VISUAL="not-visual",t.REFRESH="refresh",t.UP_TO_DATE="up-to-date",t))(ji||{}),Xl=(t=>(t.ESRI="esri",t.TEXT="text",t.IMAGE="image",t.HTML="html",t.XML="xml",t.JSON="json",t.UNKNOWN="unknown",t))(Xl||{}),di=(t=>(t.SYMBOL="symbol",t.GRID="grid",t.EXTENT="extent",t.INITIAL="initial",t.API="api",t.PERMANENT="permanent",t))(di||{}),pn=(t=>(t.BoundaryZoom="boundaryZoom",t.Datatable="datatable",t.Identify="identify",t.Metadata="metadata",t.Opacity="opacity",t.Refresh="refresh",t.Reload="reload",t.Remove="remove",t.Settings="settings",t.Symbology="symbology",t.Visibility="visibility",t))(pn||{});class Er{attributes;geometry;style;id;constructor(e,n,i){this.geometry=e,n?this.id=n:this.id=Ou.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}const _0={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function Y4(t){return!!_0[t]||!!_0[t.toLowerCase()]}function qb(t){return _0[t]??_0[t.toLowerCase()]}function KU(t){return[...qb(t)]}function Vb(t,e,n){n<0&&++n,n>1&&--n;const i=6*n;return i<1?t+(e-t)*i:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function J4(t,e,n,i=1){const r=(t%360+360)%360/360,s=n<=.5?n*(e+1):n+e-n*e,o=2*n-s;return[Math.round(255*Vb(o,s,r+1/3)),Math.round(255*Vb(o,s,r)),Math.round(255*Vb(o,s,r-1/3)),i]}function XU(t){const e=t.length>5,n=e?8:4,i=(1<<n)-1,r=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=n,a[3]=r*l/255),l=o&i,o>>=n,a[2]=r*l,l=o&i,o>>=n,a[1]=r*l,l=o&i,o>>=n,a[0]=r*l,a}const Z4=new Float32Array(1);function QU(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function ad(t,e,n){return Math.min(Math.max(t,e),n)}function t$(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function K4(t,e,n){return t+(e-t)*n}function e$(t,e,n,i,r){return K4(i,r,(t-e)/(n-e))}function n$(t){return t*Math.PI/180}function i$(t){return 180*t/Math.PI}function r$(t){return Math.acos(ad(t,-1,1))}function s$(t){return Math.asin(ad(t,-1,1))}function w0(t,e,n=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=n}const x0=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function Hb(t){return x0.setFloat64(0,t),x0.getBigInt64(0)}function o$(t){return x0.setBigInt64(0,t),x0.getFloat64(0)}const S0=BigInt("1000000"),a$=X4(1);function X4(t){const e=Hb(t=Math.abs(t)),n=o$(e<=S0?S0:e-S0);return Math.abs(t-n)}function l$(t,e,n=a$){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(n!=null&&X4(Math.min(Math.abs(t),Math.abs(e)))<n)return Math.abs(t-e)<=n;const i=Hb(t),r=Hb(e);return i<0!=r<0?!1:!((i<r?r-i:i-r)>S0)}function c$(t){return Q4(Math.max(-Yb,Math.min(t,Yb)))}function Q4(t){return Z4[0]=t,Z4[0]}function u$(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],i=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(w0(e,1)&&w0(n,1)&&w0(i,1))}const Yb=Q4(34028234663852886e22);function h$(t,e,n){if(n===void 0||+n==0)return Math[t](e);if(e=+e,n=+n,isNaN(e)||typeof n!="number"||n%1!=0)return NaN;let i=e.toString().split("e");return i=(e=Math[t](+(i[0]+"e"+(i[1]?+i[1]-n:-n)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+n:n))}let ba;function ut(t){return typeof ba[t]=="function"?ba[t]=ba[t](globalThis):ba[t]}ba=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},ut.add=(t,e,n,i)=>{(i||ba[t]===void 0)&&(ba[t]=e),n&&ut(t)},ut.cache=ba,ut.add("big-integer-warning-enabled",!0),ut.add("esri-deprecation-warnings",!0),ut.add("esri-tests-disable-screenshots",!1),ut.add("esri-tests-use-full-window",!1),ut.add("esri-tests-post-to-influx",!0),ut.add("esri-cim-animations-enable-status","enabled"),ut.add("esri-cim-animations-spotlight",!1),ut.add("esri-cim-animations-freeze-time",!1),ut.add("enable-feature:multiple-highlights",!1),(()=>{ut.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ut.add("host-browser",t),ut.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),ut.add("dom",t),ut("host-browser")){const e=navigator,n=e.userAgent,i=e.appVersion,r=parseFloat(i);if(ut.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),ut.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),ut.add("khtml",i.includes("Konqueror")?r:void 0),ut.add("edge",parseFloat(n.split("Edge/")[1])||void 0),ut.add("opr",parseFloat(n.split("OPR/")[1])||void 0),ut.add("webkit",!ut("wp")&&!ut("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),ut.add("chrome",!ut("edge")&&!ut("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),ut.add("android",!ut("wp")&&parseFloat(n.split("Android ")[1])||void 0),ut.add("safari",!i.includes("Safari")||ut("wp")||ut("chrome")||ut("android")||ut("edge")||ut("opr")?void 0:parseFloat(i.split("Version/")[1])),ut.add("mac",i.includes("Macintosh")),!ut("wp")&&/(iPhone|iPod|iPad)/.test(n)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));ut.add(s,a),ut.add("ios",a)}ut("webkit")||(!n.includes("Gecko")||ut("wp")||ut("khtml")||ut("edge")||ut.add("mozilla",r),ut("mozilla")&&ut.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),n=/iPhone/i.test(t);e&&ut.add("esri-mobile",e),n&&ut.add("esri-iPhone",n),ut.add("esri-geolocation",!!navigator.geolocation)}ut.add("esri-wasm","WebAssembly"in globalThis),ut.add("esri-performance-mode-frames-between-render",20),ut.add("esri-force-performance-mode",!1),ut.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e}),ut.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),ut.add("esri-atomics","Atomics"in globalThis),ut.add("esri-workers","Worker"in globalThis),ut.add("web-feat:cache","caches"in globalThis),ut.add("esri-workers-arraybuffer-transfer",!ut("safari")||Number(ut("safari"))>=12),ut.add("workers-pool-size",8),ut.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ut.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ut.add("featurelayer-fast-triangulation-enabled",!0),ut.add("featurelayer-animation-enabled",!0),ut.add("featurelayer-snapshot-enabled",!0),ut.add("featurelayer-snapshot-point-min-threshold",8e4),ut.add("featurelayer-snapshot-point-max-threshold",4e5),ut.add("featurelayer-snapshot-point-coverage",.1),ut.add("featurelayer-query-max-depth",4),ut.add("featurelayer-query-pausing-enabled",!1),ut.add("featurelayer-advanced-symbols",!1),ut.add("featurelayer-pbf",!0),ut.add("featurelayer-pbf-statistics",!1),ut.add("feature-layers-workers",!0),ut.add("feature-polyline-generalization-factor",1),ut.add("mapview-transitions-duration",200),ut.add("mapview-essential-goto-duration",200),ut.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ut.add("mapserver-pbf-version-support",10.81),ut.add("mapservice-popup-identify-max-tolerance",20),ut("host-webworker")||ut("host-browser")&&(ut.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ut.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{ut.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ut.add("esri-image-decode",!1,!0,!0)})}return!1}),ut.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();let ld=class Pu{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Pu._m}getInt(){return this._seed=(Pu._a*this._seed+Pu._c)%Pu._m,this._seed}getFloat(){return this.getInt()/(Pu._m-1)}getIntRange(e,n){return Math.round(this.getFloatRange(e,n))}getFloatRange(e,n){const i=n-e;return e+this.getInt()/Pu._m*i}};ld._m=2147483647,ld._a=48271,ld._c=0;const tT=1.5,p$=1/tT,d$=.5;function f$(t,e){return e?t.filter((n,i,r)=>r.findIndex(e.bind(null,n))===i):Array.from(new Set(t))}function cd(t,e,n){if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;if(n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1}else for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}function m$(t,e,n){let i,r;return n?(i=e.filter(s=>!t.some(o=>n(o,s))),r=t.filter(s=>!e.some(o=>n(o,s)))):(i=e.filter(s=>!t.includes(s)),r=t.filter(s=>!e.includes(s))),{added:i,removed:r}}function y$(t){return t&&typeof t.length=="number"}let Jb=class{constructor(){this.last=0}};const eT=new Jb;function A0(t,e,n,i){i=i||eT;const r=Math.max(0,i.last-10);for(let o=r;o<n;++o)if(t[o]===e)return i.last=o,o;const s=Math.min(r,n);for(let o=0;o<s;++o)if(t[o]===e)return i.last=o,o;return-1}function g$(t,e,n,i){const r=t.length,s=A0(t,e,r,i);if(s!==-1)return t[s]=t[r-1],t.pop(),e}const rs=new Set;function v$(t,e,n=t.length,i=e.length,r,s){if(i===0||n===0)return n;rs.clear();for(let a=0;a<i;++a)rs.add(e[a]);r=r||eT;const o=Math.max(0,r.last-10);for(let a=o;a<n;++a)if(rs.has(t[a])&&(s?.push(t[a]),rs.delete(t[a]),t[a]=t[n-1],--n,--a,rs.size===0||n===0))return rs.clear(),n;for(let a=0;a<o;++a)if(rs.has(t[a])&&(s?.push(t[a]),rs.delete(t[a]),t[a]=t[n-1],--n,--a,rs.size===0||n===0))return rs.clear(),n;return rs.clear(),n}function b$(t,e){let n=0;for(let i=0;i<t.length;++i){const r=t[i];e(r,i)&&(t[n]=r,n++)}t.length=n}function nT(t){return t?(iT.seed=t,()=>iT.getFloat()):Math.random}function _$(t,e){const n=nT(e);for(let i=t.length-1;i>0;i--){const r=Math.floor(n()*(i+1)),s=t[i];t[i]=t[r],t[r]=s}return t}const iT=new ld;function rT(t,e){const n=t.indexOf(e);return n!==-1?(t.splice(n,1),e):null}function sT(t,e){return t!=null}function oT(t){return 32+t.length}function Zb(){return 16}function w$(t){if(!t)return 0;let e=uT;for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];switch(typeof i){case"string":e+=oT(i);break;case"number":e+=Zb();break;case"boolean":e+=4}}return e}function aT(t){if(!t)return 0;if(Array.isArray(t))return x$(t);let e=uT;for(const n in t)t.hasOwnProperty(n)&&(e+=lT(t[n]));return e}function x$(t){const e=t.length;if(e===0||typeof t[0]=="number")return 32+8*e;let n=hT;for(let i=0;i<e;i++)n+=lT(t[i]);return n}function lT(t){switch(typeof t){case"object":return aT(t);case"string":return oT(t);case"number":return Zb();case"boolean":return 4;default:return 8}}function cT(t,e){return hT+t.length*e}const uT=32,hT=16;function S$(t){return t instanceof ArrayBuffer}function Kb(t){return t?.constructor?.name==="Int8Array"}function Xb(t){return t?.constructor?.name==="Uint8Array"}function Qb(t){return t?.constructor?.name==="Uint8ClampedArray"}function E0(t){return t?.constructor?.name==="Int16Array"}function t2(t){return t?.constructor?.name==="Uint16Array"}function T0(t){return t?.constructor?.name==="Int32Array"}function e2(t){return t?.constructor?.name==="Uint32Array"}function C0(t){return t?.constructor?.name==="Float32Array"}function M0(t){return t?.constructor?.name==="Float64Array"}function n2(t){return!("buffer"in t)}function A$(...t){return t.reduce((e,n)=>e+(n?n2(n)?cT(n,Zb()):n.byteLength+pT:0),0)}const pT=145,i2=1024;function E$(t){return M0(t)||C0(t)||T0(t)||E0(t)||Kb(t)}function T$(t){return M0(t)||C0(t)}function C$(t){return M0(t)?179769e303:C0(t)?3402823e32:e2(t)?4294967295:t2(t)?65535:Xb(t)||Qb(t)?255:T0(t)?2147483647:E0(t)?32767:Kb(t)?127:256}function M$(t,e){let n;for(n in t)t.hasOwnProperty(n)&&t[n]===void 0&&delete t[n];return t}function gt(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=yT(t);if(e!=null)return e;if(s2(t))return t.clone();if(dT(t))return t.map(gt);if(fT(t))return t.clone();const n={};for(const i of Object.getOwnPropertyNames(t))n[i]=gt(t[i]);return n}function r2(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=yT(t);if(e!=null)return e;if(dT(t)){let n=!0;const i=t.map(r=>{const s=r2(r);return r!=null&&s==null&&(n=!1),s});return n?i:null}if(s2(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(!fT(t)){const n=new(Object.getPrototypeOf(t)).constructor;for(const i of Object.getOwnPropertyNames(t)){const r=t[i],s=r2(r);if(r!=null&&s==null)return null;n[i]=s}return n}return null}function s2(t){return typeof t.clone=="function"}function dT(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function fT(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function mT(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function yT(t){if(Kb(t)||Xb(t)||Qb(t)||E0(t)||t2(t)||T0(t)||e2(t)||C0(t)||M0(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[n,i]of t)e.set(n,gt(i));return e}if(t instanceof Set){const e=new Set;for(const n of t)e.add(gt(n));return e}return null}function o2(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function gT(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&cd(t,e):t instanceof Set?e instanceof Set&&O$(t,e):t instanceof Map?e instanceof Map&&P$(t,e):!!mT(t)&&mT(e)&&I$(t,e))}function I$(t,e){if(t===null||e===null)return!1;const n=Object.keys(t);if(e===null||Object.keys(e).length!==n.length)return!1;for(const i of n)if(t[i]!==e[i]||!Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}function O$(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function P$(t,e){if(t.size!==e.size)return!1;for(const[n,i]of t){const r=e.get(n);if(r!==i||r===void 0&&!e.has(n))return!1}return!0}function vT(t,e,n=!1){return _T(t,e,n)}function I0(t,e){if(e!=null)return e[t]||bT(t.split("."),!1,e)}function Ql(t,e,n){const i=t.split("."),r=i.pop(),s=bT(i,!0,n);s&&r&&(s[r]=e)}function a2(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const n=e;if(t.length!==n.length)return!0;for(let i=0;i<t.length;i++)if(a2(t[i],n[i]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in t)if(a2(t[n],e[n]))return!0;return!1}return t!==e}function bT(t,e,n){let i=n;for(const r of t){if(i==null)return;if(!(r in i)){if(!e)return;i[r]={}}i=i[r]}return i}function _T(t,e,n){return e?Object.keys(e).reduce((i,r)=>{let s=i[r],o=e[r];return s===o?i:s===void 0?(i[r]=gt(o),i):(Array.isArray(o)||Array.isArray(i)?(s=s?Array.isArray(s)?i[r]=s.slice():i[r]=[s]:i[r]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach(a=>{s.includes(a)||s.push(a)}):i[r]=o.slice())):o&&typeof o=="object"?i[r]=_T(s,o,n):i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[r]=o),i)},t||{}):t}const Pe={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(vT(Pe,globalThis.esriConfig,!0),delete Pe.has),!Pe.assetsPath){{const t="4.31";Pe.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}Pe.defaultAssetsPath=Pe.assetsPath}const N$=/\{([^}]+)\}/g;function wT(t){return t??""}function l2(t,e){return e?t.replaceAll(N$,typeof e=="object"?(n,i)=>wT(I0(i,e)):(n,i)=>wT(e(i))):t}function L$(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,n=>e?.includes(n)?n:`\\${n}`)}function c2(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}let xT;function k$(t){return xT??=new DOMParser,xT.parseFromString(t||"","text/html").body.innerText||""}function R$(t,e){return new RegExp(`{${e}}`,"ig").test(t)}const ST={info:0,warn:1,error:2,none:3};let ke=class Ar{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Ar._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");n!==-1&&(this._parent=Ar.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Ar._loggers.get(e)||new Ar({module:e})}_log(e,n,...i){if(this._matchLevel(e)){if(n!=="always"&&!Ar._throttlingDisabled){const r=F$(i),s=this._loggedMessages[e].get(r);if(n==="once"&&s!=null||n==="oncePerTick"&&s&&s>=Ar._tickCounter)return;this._loggedMessages[e].set(r,Ar._tickCounter),Ar._scheduleTickCounterIncrement()}for(const r of Pe.log.interceptors)if(r(e,this.module,...i))return;this._inheritedWriter()(e,this.module,...i)}}_parentWithMember(e,n){let i=this;for(;i!=null;){const r=i[e];if(r!=null)return r;i=i.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",D$)}_matchLevel(e){const n=Pe.log.level||"warn";return ST[this._parentWithMember("level",n)]<=ST[e]}static _scheduleTickCounterIncrement(){Ar._tickCounterScheduled||(Ar._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ar._tickCounter++,Ar._tickCounterScheduled=!1}))}};function D$(t,e,...n){console[t](`[${e}]`,...n)}function F$(...t){return c2(JSON.stringify(t,(e,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}ke._loggers=new Map,ke._tickCounter=0,ke._tickCounterScheduled=!1,ke._throttlingDisabled=!1;function U$(t,e){for(const n of t.values())if(e(n))return!0;return!1}function AT(t,e,n){const i=t.get(e);if(i!==void 0)return i;const r=n();return t.set(e,r),r}function $$(t){const e=new Map;return n=>(e.has(n)||e.set(n,t(n)),e.get(n))}const Uu=()=>ke.getLogger("esri.core.accessorSupport.ensureTypes");function G$(t){return t==null?t:new Date(t)}function j$(t){return t==null?t:!!t}function ET(t){return t==null?t:t.toString()}function ud(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function O0(t){return t==null?t:Math.round(parseFloat(t))}function B$(t){return null}function TT(t,e){return n=>{let i=t(n);return e.step!=null&&(i=Math.round(i/e.step)*e.step),e.min!=null&&(i=Math.max(e.min,i)),e.max!=null&&(i=Math.min(e.max,i)),i}}function CT(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function P0(t,e){return e!=null&&t&&!(e instanceof t)}function MT(t){return t&&"isCollection"in t}function IT(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function W$(t,e){if(!e?.constructor||!MT(e.constructor))return u2(t,e)?e:new t(e);const n=IT(t.prototype.itemType),i=IT(e.constructor.prototype.itemType);return n?i?n===i?e:n.prototype.isPrototypeOf(i.prototype)?new t(e):(u2(t,e),e):new t(e):e}function u2(t,e){return!!CT(e)&&(Uu().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+N0(t)+"'"),!0)}function OT(t,e){return e==null?e:MT(t)?W$(t,e):P0(t,e)?u2(t,e)?e:new t(e):e}function N0(t){return t?.prototype?.declaredClass||"unknown"}const z$=new WeakMap;function q$(t){switch(t){case Number:return e=>ud(e);case On:return O0;case Boolean:return j$;case String:return ET;case Date:return G$;case k0:return B$;default:return AT(z$,t,()=>OT.bind(null,t))}}function Tr(t,e){const n=q$(t);return arguments.length===1?n:n(e)}function hd(t,e,n){return arguments.length===1?hd.bind(null,t):e&&(Array.isArray(e)?e.map(i=>t(i,n)):[t(e,n)])}function V$(t,e){return arguments.length===1?hd(n=>Tr(t,n)):hd(n=>Tr(t,n),e)}function PT(t,e,n){return e!==0&&Array.isArray(n)?n.map(i=>PT(t,e-1,i)):t(n)}function L0(t,e,n){if(arguments.length===2)return s=>L0(t,e,s);if(!n)return n;n=PT(t,e,n);let i=e,r=n;for(;i>0&&Array.isArray(r);)i--,r=r[0];if(r!==void 0)for(let s=0;s<i;s++)n=[n];return n}function H$(t,e,n){return arguments.length===2?L0(i=>Tr(t,i),e):L0(i=>Tr(t,i),e,n)}function NT(t){return!!Array.isArray(t)&&!t.some(e=>{const n=typeof e;return!(n==="string"||n==="number"||n==="function"&&t.length>1)})}function h2(t,e){if(arguments.length===2)return h2(t).call(null,e);const n=new Set,i=t.filter(a=>typeof a!="function"),r=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||n.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,p=c==="string"||c==="number";return p&&(n.has(a)||r.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&r.some(d=>!P0(a,d))?a:(p&&i.length?(s||(s=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),Uu().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&r.length?(o||(o=r.map(d=>N0(d)).join(", ")),Uu().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Uu().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function _a(t,e){if(arguments.length===2)return _a(t).call(null,e);const n={},i=[],r=[];for(const l in t.typeMap){const c=t.typeMap[l];n[l]=Tr(c),i.push(N0(c)),r.push(l)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${r.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!P0(t.base,l)||l==null)return l;const c=a(l)||t.defaultKeyValue,p=n[c];if(!p)return Uu().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!P0(t.typeMap[c],l))return l;if(typeof t.key=="string"&&!CT(l)){const d={};for(const f in l)f!==t.key&&(d[f]=l[f]);return p(d)}return p(l)}}let On=class{},k0=class{};const Y$={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function J$(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function LT(t){switch(t.type){case"native":return Tr(t.value);case"array":return hd(LT(t.value));case"one-of":return Z$(t);default:return null}}function Z$(t){let e=null;return(n,i)=>d2(n,t)?n:(e==null&&(e=p2(t)),Uu().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),i&&(i.valid=!1),null)}function p2(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case On:return"integer";case Date:return"date";case k0:return"null";default:return N0(t.value)}case"array":return`array of ${p2(t.value)}`;case"one-of":{const e=t.values.map(n=>p2(n));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function d2(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case On:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case k0:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(n=>!d2(n,e.value));case"one-of":return e.values.some(n=>d2(t,n))}}function R0(t){return ad(O0(t),0,255)}function D0(t,e,n){return t=Number(t),isNaN(t)?n:t<e?e:t>n?n:t}function F0(t,e){const n=t.toString(16).padStart(2,"0");return e?n.slice(0,1):n}let U0=class Yn{static blendColors(e,n,i,r=new Yn){return r.r=Math.round(e.r+(n.r-e.r)*i),r.g=Math.round(e.g+(n.g-e.g)*i),r.b=Math.round(e.b+(n.b-e.b)*i),r.a=e.a+(n.a-e.a)*i,r._sanitize()}static fromRgb(e,n){const i=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const r=i[2].split(/\s*,\s*/),s=i[1];if(s==="rgb"&&r.length===3||s==="rgba"&&r.length===4){const o=r[0];if(o.charAt(o.length-1)==="%"){const a=r.map(l=>2.56*parseFloat(l));return r.length===4&&(a[3]=parseFloat(r[3])),Yn.fromArray(a,n)}return Yn.fromArray(r.map(a=>parseFloat(a)),n)}if(s==="hsl"&&r.length===3||s==="hsla"&&r.length===4)return Yn.fromArray(J4(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100,parseFloat(r[3])),n)}return null}static fromHex(e,n=new Yn){if(e[0]!=="#"||isNaN(+`0x${e.slice(1)}`))return null;switch(e.length){case 4:case 5:{const i=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),s=parseInt(e.slice(3,4),16),o=e.length===5?15:parseInt(e.slice(4),16);return Yn.fromArray([i+16*i,r+16*r,s+16*s,(o+16*o)/255],n)}case 7:case 9:{const i=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16),o=e.length===7?255:parseInt(e.slice(7),16);return Yn.fromArray([i,r,s,o/255],n)}default:return null}}static fromArray(e,n=new Yn){return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(e,n){const i=Y4(e)?qb(e):null;return i&&Yn.fromArray(i,n)||Yn.fromRgb(e,n)||Yn.fromHex(e,n)}static fromJSON(e){return e!=null?new Yn([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Yn.fromString(e,this):Array.isArray(e)?Yn.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Yn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const n=e?.capitalize??!1,i=e?.digits??6,r=i===3||i===4,s=i===4||i===8,o=`#${F0(this.r,r)}${F0(this.g,r)}${F0(this.b,r)}${s?F0(Math.round(255*this.a),r):""}`;return n?o.toUpperCase():o}toCss(e=!1){const n=this.r+", "+this.g+", "+this.b;return e?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=Yn.AlphaMode.ALWAYS){const n=R0(this.r),i=R0(this.g),r=R0(this.b);return e===Yn.AlphaMode.ALWAYS||this.a!==1?[n,i,r,R0(255*this.a)]:[n,i,r]}clone(){return new Yn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(D0(this.r,0,255)),this.g=Math.round(D0(this.g,0,255)),this.b=Math.round(D0(this.b,0,255)),this.a=D0(this.a,0,1),this}_set(e,n,i,r){this.r=e,this.g=n,this.b=i,this.a=r}};U0.prototype.declaredClass="esri.Color",function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(U0||(U0={}));const me=U0;function v(t,e,n,i){var r,s=arguments.length,o=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,n,o):r(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function K$(t,e){return function(n,i){e(n,i,t)}}function X$(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{c(i.next(p))}catch(d){o(d)}}function l(p){try{c(i.throw(p))}catch(d){o(d)}}function c(p){p.done?s(p.value):r(p.value).then(a,l)}c((i=i.apply(t,[])).next())})}const Q$={remove:()=>{}};function dn(t){return t?{remove(){t&&(t(),t=void 0)}}:Q$}function tG(t){t.forEach(e=>e?.remove())}function $0(t){return dn(()=>tG(t))}function eG(t){return dn(()=>t?.abort())}function nG(t){return dn(t!=null?()=>t.destroy():void 0)}function Io(t){return t.__accessor__??null}function iG(t,e){return t?.metadata?.[e]!=null}function G0(t,e,n){return n?j0(t,e,{policy:n,path:""}):j0(t,e,null)}function j0(t,e,n){return e?Object.keys(e).reduce((i,r)=>{const s=r;let o=null,a="merge";if(n&&(o=n.path?`${n.path}.${r}`:r,a=n.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[s]))return i[s]=e[s],i;if(i[s]===void 0)return i[s]=gt(e[s]),i;let l=i[s],c=e[s];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[s]=l.slice():i[s]=[l]:i[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(p=>{l.includes(p)||l.push(p)}));else if(c&&typeof c=="object")if(n){const p=n.path;n.path=o,i[s]=j0(l,c,n),n.path=p}else i[s]=j0(l,c,null);else i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[s]=c);return i},t||{}):t}function kT(t){return Array.isArray(t)?t:t.split(".")}function RT(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function rG(t){if(Array.isArray(t)){const e=[];for(const n of t)e.push(...RT(n));return e}return RT(t)}function DT(t,e,n,i){const r=rG(e);if(r.length!==1){const s=r.map(o=>i(t,o,n));return $0(s)}return i(t,r[0],n)}function FT(t,e){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const r=parseInt(n,10);if(!isNaN(r))return Array.isArray(e)?e[r]:e.at(r)}const i=Io(e);return iG(i,n)?i.get(n):e[n]}function UT(t,e,n){if(t==null)return t;const i=FT(e[n],t);return!i&&n<e.length-1?void 0:n===e.length-1?i:UT(i,e,n+1)}function pd(t,e,n=0){return typeof e!="string"||e.includes(".")?UT(t,kT(e),n):FT(e,t)}function wa(t,e){return pd(t,e)}function $T(t,e){return pd(e,t)!==void 0}function dd(t){let e=t.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!n){e=Object.create(e);for(const i in e)e[i]=gt(e[i]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function fd(t,e){const n=dd(t);let i=n[e];return i||(i=n[e]={}),i}function sG(t,e){return G0(t,e,aG)}const oG=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function aG(t){return oG.test(t)?"replace":"merge"}function lG(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,i)=>i===""?"$":(I0(i,e)??"").toString())}let GT=class{constructor(t,e,n=void 0){this.name=t,this.details=n,this.message=(e&&lG(e,n))??""}toString(){return"["+this.name+"]: "+this.message}},oe=class JF extends GT{constructor(e,n,i){super(e,n,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,n)=>{if(n&&typeof n=="object"&&typeof n.toJSON=="function")return n;try{return gt(n)}catch{return"[object]"}}))}}catch(e){throw ke.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new JF(e.name,e.message,e.details)}};oe.prototype.type="error";function B0(t,e,n){if(t&&e)if(typeof e=="object")for(const i of Object.getOwnPropertyNames(e))B0(t,i,e[i]);else{if(e.includes(".")){const r=e.split("."),s=r.splice(-1,1)[0];return void B0(wa(t,r),s,n)}const i=t.__accessor__;i!=null&&cG(e,i),t[e]=n}}function cG(t,e){if(ut("esri-unknown-property-errors")&&!uG(t,e))throw new oe("set:unknown-property",hG(t,e))}function uG(t,e){return e.metadata[t]!=null}function hG(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function E(t={}){return(e,n)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${n}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(e,n),r=fd(e,n);i&&(i.get||i.set?(r.get=i.get||r.get,r.set=i.set||r.set):"value"in i&&("value"in t&&ke.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${e.constructor.name}" already defined in the metadata`,t),r.value=t.value=i.value)),t.readOnly!=null&&(r.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let p;r.dependsOn=[l],r.get=function(){let d=wa(this,l);if(typeof d=="function"){p||(p=l.split(".").slice(0,-1).join("."));const f=wa(this,p);f&&(d=d.bind(f))}return d},r.readOnly||(r.set=c?function(d){this._override(n,d)}:function(d){B0(this,l,d)})}const o=t.type,a=t.types;if(!r.cast){let l;o?l=pG(o):a&&(l=Array.isArray(a)?hd(_a(a[0])):_a(a)),t.cast=dG(t.cast,l)}sG(r,t),t.range&&(r.cast=TT(r.cast,t.range))}}function f2(t,e,n){const i=fd(t,n);i.json||(i.json={});let r=i.json;return e!==void 0&&(r.origins||(r.origins={}),r.origins[e]||(r.origins[e]={}),r=r.origins[e]),r}function pG(t){let e=0,n=t;if(J$(t))return LT(t);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!="string"&&typeof n[0]!="number";)n=n[0],e++;const i=n;if(NT(i))return e===0?h2(i):L0(h2(i),e);if(e===1)return V$(i);if(e>1)return H$(i,e);const r=t;return r.from?r.from:Tr(r)}function dG(t,e){if(t||e)return t?e?(n,i)=>e(t(n,i),i):t:e}const jT=Symbol("Accessor-beforeDestroy");var Bi;(function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CONSTRUCTING=1]="CONSTRUCTING",t[t.CONSTRUCTED=2]="CONSTRUCTED",t[t.DESTROYED=3]="DESTROYED"})(Bi||(Bi={}));var be;(function(t){t[t.Dirty=1]="Dirty",t[t.Overridden=2]="Overridden",t[t.Computing=4]="Computing",t[t.NonNullable=8]="NonNullable",t[t.HasDefaultValue=16]="HasDefaultValue",t[t.DepTrackingInitialized=32]="DepTrackingInitialized",t[t.AutoTracked=64]="AutoTracked",t[t.ExplicitlyTracking=128]="ExplicitlyTracking"})(be||(be={}));let W0=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const z0=new W0,md=[];let yd=z0;function zt(t){yd.onAccessed(t)}let q0=!1,V0=!1;function Oo(t,e,n){if(q0)return m2(t,e,n);let i=null;return BT(t),i=e.call(n),WT(),i}function fG(t,e){return Oo(z0,t,e)}function m2(t,e,n){const i=q0;q0=!0,BT(t);let r=null;try{r=e.call(n)}catch(s){V0&&ke.getLogger("esri.core.accessorSupport.tracking").error(s)}return WT(),q0=i,r}function BT(t){yd=t,md.push(t)}function WT(){const t=md.length;if(t>1){const e=md.pop();yd=md[t-2],e.onTrackingEnd()}else if(t===1){const e=md.pop();yd=z0,e.onTrackingEnd()}else yd=z0}function zT(t,e){if(e.flags&be.DepTrackingInitialized)return;e.flags|=be.DepTrackingInitialized;const n=V0;V0=!1,e.flags&be.AutoTracked?m2(e.trackingTarget,e.metadata.get,t):qT(t,e),V0=n}const mG=[];function qT(t,e){e.flags&be.ExplicitlyTracking||(e.flags|=be.ExplicitlyTracking,m2(e.trackingTarget,()=>{const n=e.metadata.dependsOn||mG;for(const i of n)if(typeof i!="string"||i.includes(".")){const r=kT(i);for(let s=0,o=t;s<r.length&&o!=null&&typeof o=="object";++s)o=VT(o,r[s],s!==r.length-1)}else VT(t,i,!1)}),e.flags&=~be.ExplicitlyTracking)}function VT(t,e,n){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=Io(t);if(r){const s=r.propertiesByName.get(i);s&&(zt(s),zT(t,s))}return n?t[i]:void 0}function yG(t){if(t.json&&t.json.origins){const e=t.json.origins,n={"web-document":["web-scene","web-map"]};for(const i in n)if(e[i]){const r=e[i];n[i].forEach(s=>{e[s]=r}),delete e[i]}}}let $u=class extends GT{constructor(t,e,n){super(t,e,n)}};$u.prototype.type="warning";function HT(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const y2=()=>ke.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function YT(t,e,n){t&&(!n&&!e.read||e.read?.reader||e.read?.enabled===!1||bG(t)&&Ql("read.reader",g2(t),e))}function g2(t){const e=t.ndimArray??0;if(e>1)return vG(t);if(e===1)return ZT(t);if("type"in t&&KT(t.type)){const n=t.type.prototype?.itemType?.Type,i=ZT(typeof n=="function"?{type:n}:{types:n});return(r,s,o)=>{const a=i(r,s,o);return a&&new t.type(a)}}return v2(t)}function v2(t){return"type"in t?gG(t.type):_G(t.types)}function gG(t){return t.prototype.read?(e,n,i)=>{if(e==null)return e;const r=typeof e;if(r!=="object")return void y2().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${r}'`);const s=new t;return s.read(e,i),s}:t.fromJSON}function JT(t,e,n,i){return i!==0&&Array.isArray(e)?e.map(r=>JT(t,r,n,i-1)):t(e,void 0,n)}function vG(t){const e=v2(t),n=JT.bind(null,e),i=t.ndimArray??0;return(r,s,o)=>{if(r==null)return r;r=n(r,o,i);let a=i,l=r;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)r=[r];return r}}function ZT(t){const e=v2(t);return(n,i,r)=>{if(n==null)return n;if(Array.isArray(n)){const o=[];for(const a of n){const l=e(a,void 0,r);l!==void 0&&o.push(l)}return o}const s=e(n,void 0,r);return s!==void 0?[s]:void 0}}function KT(t){if(!HT(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?b2(e.Type):XT(e.Type))}function bG(t){return"types"in t?XT(t.types):b2(t.type)}function b2(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||KT(t))}function XT(t){for(const e in t.typeMap)if(!b2(t.typeMap[e]))return!1;return!0}function _G(t){let e=null;const n=t.errorContext??"type",i=t.validate;return(r,s,o)=>{if(r==null)return r;const a=typeof r;if(a!=="object")return void y2().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=wG(t));const l=t.key;if(typeof l!="string")return;const c=r[l],p=c?e[c]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!p){const f=`Type '${c||"unknown"}' is not supported`;return o?.messages&&r&&o.messages.push(new $u(`${n}:unsupported`,f,{definition:r,context:o})),void y2().error(f)}const d=new p;return d.read(r,o),i?i(d):d}}function wG(t){const e={};for(const n in t.typeMap){const i=t.typeMap[n],r=dd(i.prototype);if(typeof t.key=="function")continue;const s=r[t.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){e[s.json.type[0]]=i;continue}const o=s.json?.write;if(!o?.writer){e[n]=i;continue}const a=o.target,l=typeof a=="string"?a:t.key,c={};o.writer(n,c,l),c[l]&&(e[c[l]]=i)}return e}function xG(t){if(t.json||(t.json={}),tC(t.json),eC(t.json),QT(t.json),t.json.origins)for(const e in t.json.origins)tC(t.json.origins[e]),eC(t.json.origins[e]),QT(t.json.origins[e]);return!0}function QT(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function tC(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function eC(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function nC(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const n=t?.ndimArray??0;t&&(n===1||"type"in t&&HT(t.type))?e.write.writer=EG:n>1?e.write.writer=TG(n):e.types?Array.isArray(e.types)?e.write.writer=AG(e.types[0]):e.write.writer=SG(e.types):e.write.writer=gd}function SG(t){return(e,n,i,r)=>e?iC(e,t,r)?gd(e,n,i,r):void 0:gd(e,n,i,r)}function iC(t,e,n){for(const i in e.typeMap)if(t instanceof e.typeMap[i])return!0;if(n?.messages){const i=e.errorContext??"type",r=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&t&&n.messages.push(new oe(`${i}:unsupported`,r,{definition:t,context:n})),ke.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r)}return!1}function AG(t){return(e,n,i,r)=>!e||!Array.isArray(e)?gd(e,n,i,r):gd(e.filter(s=>iC(s,t,r)),n,i,r)}function gd(t,e,n,i){Ql(n,H0(t,i),e)}function H0(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?rC(t):t}function rC(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function EG(t,e,n,i){let r;t===null?r=null:t&&typeof t.map=="function"?(r=t.map(s=>H0(s,i)),typeof r.toArray=="function"&&(r=r.toArray())):r=[H0(t,i)],Ql(n,r,e)}function sC(t,e,n){return n!==0&&Array.isArray(t)?t.map(i=>sC(i,e,n-1)):H0(t,e)}function TG(t){return(e,n,i,r)=>{let s;if(e===null)s=null;else{s=sC(e,r,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Ql(i,s,n)}}function CG(t,e){return w2(t,"any",e?.origin)}function _2(t,e){return w2(t,"read",e?.origin)}function oC(t,e){return w2(t,"write",e?.origin)}function w2(t,e,n){let i=t?.json;if(i?.origins&&n){let r;r=n==="link-chart"?i.origins[n]&&(e==="any"||e in i.origins[n])?i.origins[n]:i.origins["web-map"]:i.origins[n],r&&(e==="any"||e in r)&&(i=r)}return i}function MG(t){const e=IG(t);if(t.json.origins)for(const n in t.json.origins){const i=t.json.origins[n],r=i.types?OG(i):e;YT(r,i,!1),i.types&&!i.write&&t.json.write?.enabled&&(i.write={...t.json.write}),nC(r,i)}YT(e,t.json,!0),nC(e,t.json)}function IG(t){return t.json.types?x2(t.json):t.type?aC(t):x2(t)}function OG(t){return t.type?aC(t):x2(t)}function aC(t){if(!t.type)return;let e=0,n=t.type;for(;Array.isArray(n)&&!NT(n);)n=n[0],e++;return{type:n,ndimArray:e}}function x2(t){if(!t.types)return;let e=0,n=t.types;for(;Array.isArray(n);)n=n[0],e++;return{types:n,ndimArray:e}}function PG(t){xG(t)&&(yG(t),MG(t))}const S2=new Set,A2=new Set;function rt(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,LG(e);const n=[],i=[];let r=e.prototype;for(;r;)r.hasOwnProperty("initialize")&&!S2.has(r.initialize)&&(S2.add(r.initialize),n.push(r.initialize)),r.hasOwnProperty("destroy")&&!A2.has(r.destroy)&&(A2.add(r.destroy),i.push(r.destroy)),r=Object.getPrototypeOf(r);S2.clear(),A2.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=n.length-1;l>=0;l--)n[l].call(this)}}),i.length){let l=!1;const c=this[jT];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let p=0;p<i.length;p++)i[p].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=dd(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function NG(t,e){return e.get==null?function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i===void 0)return;n.mutable&&zt(i);const r=n.store;return r.has(t)?r.get(t):i.metadata.value}:function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i!==void 0)return i.getComputed(n)}}function LG(t){const e=t.prototype,n=dd(e),i={};for(const r of Object.getOwnPropertyNames(n)){const s=n[r];PG(s),i[r]={enumerable:!0,configurable:!0,get:NG(r,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?lC("read-only",r):a.lifecycle===Bi.CONSTRUCTED&&s.constructOnly?lC("construct-only",r):void a.set(r,o)}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,i)}const lC=(t,e)=>{ke.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)},cC=new WeakMap;function kG(t,e,n=!1){const i=`\u{1F6D1} DEPRECATED - ${e}`;if(!n)return void t.warn(i);let r=cC.get(t);r||(r=new Set,cC.set(t,r)),r.has(e)||(r.add(e),t.warn(i))}function uC(t,e,n={}){if(ut("esri-deprecation-warnings")){const{moduleName:i}=n;Gu(t,`Function: ${(i?i+"::":"")+e+"()"}`,n)}}function RG(t,e,n={}){if(ut("esri-deprecation-warnings")){const{moduleName:i}=n;Gu(t,`Property: ${(i?i+"::":"")+e}`,n)}}function DG(t,e,n={}){ut("esri-deprecation-warnings")&&Gu(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...n})}function Gu(t,e,n={}){if(ut("esri-deprecation-warnings")){const{replacement:i,version:r,see:s,warnOnce:o}=n;let a=e;i&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${i}`),r&&(a+=`
	\u2699\uFE0F Version: ${r}`),s&&(a+=`
	\u{1F517} See ${s} for more details.`),kG(t,a,o)}}function FG(t){const e=[];return function*(){yield*e;for(const n of t)e.push(n),yield n}}function UG(t,e){for(const n of t)if(n!=null&&e(n))return n}function E2(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Y0=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(e=>{t+=e.length}),t}add(t,e){if(E2(t)){const n=this._getOrCreateGroup(e);for(const i of t)pC(i)&&n.push(i)}else pC(t)&&this._getOrCreateGroup(e).push(t);return this}forEach(t,e){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&e&&n.forEach(e)}}has(t){return this._groups.has(J0(t))}remove(t){if(typeof t!="string"&&E2(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(hC(this._getGroup(t)),this._groups.delete(J0(t)),this):this}removeAll(){return this._groups.forEach(hC),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(J0(t),e),e}_getGroup(t){return this._groups.get(J0(t))}};function J0(t){return t||"_default_"}function hC(t){for(const e of t)e instanceof Y0?e.removeAll():e.remove()}function pC(t){return t!=null&&(!!t.remove||t instanceof Y0)}function dC(t,e){if(t==null)throw new Error(e??"value is None")}function vd(t){return t?.destroy(),null}function $G(t){return t?.dispose(),null}function tc(t){return t?.remove(),null}function T2(t){return t?.abort(),null}function GG(t){return t?.release(),null}function jG(t,e,n){return t!=null&&e!=null?n!=null?n(t,e):t.equals(e):t===e}function BG(t,e){let n;return t.some((i,r)=>(n=e(i,r),n!=null)),n??void 0}function WG(t){return t?.release&&typeof t.release=="function"}function zG(t){return t?.acquire&&typeof t.acquire=="function"}let ju=class N4{constructor(e,n,i,r=1,s=0){this._ctor=e,this._acquireFunction=n,this._releaseFunction=i,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let n;if(N4.test.disabled)n=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let r=0;r<i;r++)this._pool[r]=new this._ctor}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...e):zG(n)&&n.acquire(...e),n}release(e){e&&!N4.test.disabled&&(this._releaseFunction?this._releaseFunction(e):WG(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let n=e;n<this._pool.length;++n){const i=this._pool[n];this._dispose(i)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}};ju.test={disabled:!1};let qG=class{constructor(t,e){this._observers=t,this._observer=e}remove(){rT(this._observers,this._observer)}},fC=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return VG;this._observers==null&&(this._observers=[]);const e=this._observers;let n=!1,i=!1;const r=e.length;for(let s=0;s<r;++s){const o=e[s];if(o.destroyed)i=!0;else if(o===t){n=!0;break}}return n||(e.push(t),i&&this._removeDestroyedObservers()),new qG(e,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const e=t.length;let n=0;for(let i=0;i<e;++i){for(;i+n<e&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<e))break;t[i]=t[i+n]}}t.length=e-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const e of t)e.onCommitted();this._observers=null}}};const VG=dn();var ue;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(ue||(ue={}));const HG=ue.USER+1;function C2(t){switch(t){case"defaults":return ue.DEFAULTS;case"service":return ue.SERVICE;case"portal-item":return ue.PORTAL_ITEM;case"web-scene":return ue.WEB_SCENE;case"web-map":return ue.WEB_MAP;case"link-chart":return ue.LINK_CHART;case"user":return ue.USER;default:return null}}function Z0(t){switch(t){case ue.DEFAULTS:return"defaults";case ue.SERVICE:return"service";case ue.PORTAL_ITEM:return"portal-item";case ue.WEB_SCENE:return"web-scene";case ue.WEB_MAP:return"web-map";case ue.LINK_CHART:return"link-chart";case ue.USER:return"user"}}function YG(t){return Z0(t)}let mC=class extends fC{constructor(t,e){super(),this.propertyName=t,this.metadata=e,this.trackingTarget=new W0(this),this.flags=0,this.flags=be.Dirty|(e.nonNullable?be.NonNullable:0)|(e.hasOwnProperty("value")?be.HasDefaultValue:0)|(e.get===void 0?be.DepTrackingInitialized:0)|(e.dependsOn===void 0?be.AutoTracked:0)}destroy(){this.flags&be.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&zt(this);const e=t.store,n=this.propertyName,i=this.flags,r=e.get(n);if(i&be.Computing||~i&be.Dirty&&e.has(n))return r;this.flags|=be.Computing;const s=t.host;let o;i&be.AutoTracked?o=Oo(this.trackingTarget,this.metadata.get,s):(qT(s,this),o=this.metadata.get.call(s)),this.flags|=be.DepTrackingInitialized,e.set(n,o,ue.COMPUTED);const a=e.get(n);return a===r?this.flags&=~be.Dirty:fG(this.commit,this),this.flags&=~be.Computing,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~be.Dirty,this.onCommitted()}onInvalidated(){~this.flags&be.Overridden&&(this.flags|=be.Dirty);const t=this._observers;if(t&&t.length>0)for(const e of t)e.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onCommitted()}}},JG=class ZF{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new ZF;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,gt(i))}),n}get(e){return this._values.get(e)}originOf(){return ue.USER}keys(){return[...this._values.keys()]}set(e,n){this._values.set(e,n)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}};function K0(t,e,n){return t!==void 0}function yC(t,e,n,i){return t!==void 0&&(!(n==null&&t.flags&be.NonNullable)||(i.lifecycle,Bi.INITIALIZING,!1))}let ZG=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Bi.INITIALIZING,this.store=new JG,this.mutable=!0,this._origin=ue.USER;const e=this.host.constructor.__accessorMetadata__;for(const n in e){const i=new mC(n,e[n]);this.propertiesByName.set(n,i)}this.metadata=e}initialize(){this.lifecycle=Bi.CONSTRUCTING}constructed(){this.lifecycle=Bi.CONSTRUCTED}destroy(){this.lifecycle=Bi.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Bi.INITIALIZING}get(t){const e=this.propertiesByName.get(t);if(e.metadata.get)return e.getComputed(this);this.mutable&&zt(e);const n=this.store;return n.has(t)?n.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(e===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&be.HasDefaultValue)return"defaults"}return Z0(e)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const e=this.propertiesByName.get(t);if(K0(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const n=this.propertiesByName.get(t);K0(n)&&this._internalSet(n,e)}getDependsInfo(t,e,n){const i=this.propertiesByName.get(e);if(!K0(i))return"";const r=new W0,s=Oo(r,()=>i.metadata.get?.call(t));let o=`${n}${t.declaredClass.split(".").pop()}.${e}: ${s}
`;const a=r.accessed??new Set;if(a.size===0)return o;n+="  ";for(const l of a)l instanceof mC&&(o+=`${n}${l.propertyName}: undefined
`);return o}setAtOrigin(t,e,n){const i=this.propertiesByName.get(t);if(K0(i))return this._setAtOrigin(i,e,n)}isOverridden(t){const e=this.propertiesByName.get(t);return e!==void 0&&!!(e.flags&be.Overridden)}clearOverride(t){const e=this.propertiesByName.get(t);e&&e.flags&be.Overridden&&(e.flags&=~be.Overridden,e.notifyChange())}override(t,e){const n=this.propertiesByName.get(t);if(!yC(n,t,e,this))return;const i=n.metadata.cast;if(i){const r=this._cast(i,e),{valid:s,value:o}=r;if(M2.release(r),!s)return;e=o}n.flags|=be.Overridden,this._internalSet(n,e)}set(t,e){const n=this.propertiesByName.get(t);if(!yC(n,t,e,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,e),{valid:o,value:a}=s;if(M2.release(s),!o)return;e=a}const r=n.metadata.set;r?r.call(this.host,e):this._internalSet(n,e)}setDefaultOrigin(t){this._origin=C2(t)}getDefaultOrigin(){return Z0(this._origin)}notifyChange(t){const e=this.propertiesByName.get(t);e!==void 0&&e.notifyChange()}invalidate(t){const e=this.propertiesByName.get(t);e!==void 0&&e.invalidate()}commit(t){const e=this.propertiesByName.get(t);e!==void 0&&e.commit()}_internalSet(t,e){const n=this.lifecycle!==Bi.INITIALIZING?this._origin:ue.DEFAULTS;this._setAtOrigin(t,e,n)}_setAtOrigin(t,e,n){const i=this.store,r=t.propertyName;i.has(r,n)&&o2(e,i.get(r))&&~t.flags&be.Overridden&&n===i.originOf(r)||(t.invalidate(),i.set(r,e,n),t.commit(),zT(this.host,t))}_cast(t,e){const n=M2.acquire();return n.valid=!0,n.value=e,t&&(n.value=t.call(this.host,e,n)),n}},KG=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const M2=new ju(KG);let XG;function QG(){return XG}var gC;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(gC||(gC={}));function tj(t){t.length=0}let Po=class{constructor(t=50,e=50){this._pool=new ju(Array,void 0,tj,e,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return I2.acquire()}static release(t){return I2.release(t)}static prune(){I2.prune()}};const I2=new Po(100);let vC=class extends ju{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const e=super.acquire(...t);return this._set.delete(e),e}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const X0=[];function O2(t){X0.push(t),X0.length===1&&queueMicrotask(()=>{const e=X0.slice();X0.length=0;for(const n of e)n()})}let P2=class{constructor(t,e=30){this.name=t,this._counter=0,this._samples=new Array(e)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,e)=>t-e)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,e)=>t+e,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var N2;(function(t){const e=(s,o,a,l)=>{let c=o,p=o;const d=a>>>1,f=s[c-1];for(;p<=d;){p=c<<1,p<a&&l(s[p-1],s[p])<0&&++p;const y=s[p-1];if(l(y,f)<=0)break;s[c-1]=y,c=p}s[c-1]=f},n=(s,o)=>s<o?-1:s>o?1:0;function i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let p=a>>>1;p>o;p--)e(s,p,a,l);const c=o+1;for(let p=a-1;p>o;p--){const d=s[o];s[o]=s[p],s[p]=d,e(s,c,p,l)}}function*r(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let p=a>>>1;p>o;p--)e(s,p,a,l),yield;const c=o+1;for(let p=a-1;p>o;p--){const d=s[o];s[o]=s[p],s[p]=d,e(s,c,p,l),yield}}t.sort=i,t.iterableSort=r})(N2||(N2={}));const bC=N2,ej=1.5,nj=1.1;let L2=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Jb,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>_C(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const e=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&e.push(i)}return e}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,e){const n=this.data.indexOf(t,e);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let e=t;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,e=t.length){for(let n=0;n<e;n++)this.data[this._length++]=t[n]}fill(t,e){for(let n=0;n<e;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,_C(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const e=A0(this.data,t,this.length,this._hint);if(e!==-1)return this.data.splice(e,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(A0(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,e=t.length,n){this.length=v$(this.data,t,this.length,e,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,e){if(t>=this.length||e>=this.length||t===e)return;const n=this.data[t];this.data[t]=this.data[e],this.data[e]=n}sort(t){bC.sort(this.data,0,this.length,t)}iterableSort(t){return bC.iterableSort(this.data,0,this.length,t)}some(t,e){for(let n=0;n<this.length;++n)if(t.call(e,this.data[n],n,this.data))return!0;return!1}find(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)if(t.call(e,n[r]))return n[r]}filterInPlace(t,e){let n=0;for(let i=0;i<this._length;++i){const r=this.data[i];t.call(e,r,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=r,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)t.call(e,n[r],r,n)}forEach(t,e){this.data.slice(0,this.length).forEach(t,e)}map(t,e){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(e,this.data[i],i,this.data);return n}reduce(t,e){let n=e;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const e=this.length,n=this.data;for(let i=0;i<e;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function _C(t){t.data.length>ej*t.length&&(t.data.length=Math.floor(t.length*nj))}function ij(t){return{setTimeout:(e,n)=>{const i=t.setTimeout(e,n);return dn(()=>t.clearTimeout(i))}}}const wC=ij(globalThis);function Q0(t){return rj(t)||xC(t)}function rj(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function xC(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function k2(t,e,n){if(!Q0(t))throw new TypeError("target is not a Evented or EventTarget object");return xC(t)?sj(t,e,n):t.on(e,n)}function sj(t,e,n,i){if(Array.isArray(e)){const r=e.slice();for(const s of r)t.addEventListener(s,n,i);return dn(()=>{for(const s of r)t.removeEventListener(s,n,i)})}return t.addEventListener(e,n,i),dn(()=>t.removeEventListener(e,n,i))}function R2(t,e,n){if(!Q0(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,n);const i=k2(t,e,r=>{i.remove(),n.call(t,r)});return i}function Wi(t="Aborted"){return new oe("AbortError",t)}function Bu(t,e="Aborted"){if(xa(t))throw Wi(e)}function bd(t){return t instanceof AbortSignal?t:t?.signal??void 0}function xa(t){const e=bd(t);return e!=null&&e.aborted}function D2(t){if(Wu(t))throw t}function oj(t){if(!Wu(t))throw t}function Sa(t,e){const n=bd(t);if(n!=null){if(!n.aborted)return R2(n,"abort",()=>e());e()}}function SC(t,e){const n=bd(t);if(n!=null)return Bu(n),R2(n,"abort",()=>e(Wi()))}function aj(t,e){return bd(e)==null?t:new Promise((n,i)=>{let r=Sa(e,()=>i(Wi()));const s=()=>{r=tc(r)};t.then(s,s),t.then(n,i)})}function Wu(t){return t?.name==="AbortError"}async function lj(t){try{return await t}catch(e){if(!Wu(e))throw e;return}}async function ty(t){if(!t)return;if(typeof t.forEach!="function"){const n=Object.keys(t),i=n.map(o=>t[o]),r=await ty(i),s={};return n.map((o,a)=>s[o]=r[a]),s}const e=t;return Promise.allSettled(e).then(n=>Array.from(e,(i,r)=>{const s=n[r];return s.status==="fulfilled"?{promise:i,value:s.value}:{promise:i,error:s.reason}}))}async function cj(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function uj(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function AC(t,e=void 0,n){const i=new AbortController;return Sa(n,()=>i.abort()),new Promise((r,s)=>{let o=setTimeout(()=>{o=0,r(e)},t);Sa(i,()=>{o&&(clearTimeout(o),s(Wi()))})})}function hj(t,e){const n=new AbortController,i=setTimeout(()=>n.abort(),e);return Sa(t,()=>{n.abort(),clearTimeout(i)}),{...t,signal:n.signal}}function F2(t){return t&&typeof t.then=="function"}function U2(t){return F2(t)?t:Promise.resolve(t)}function pj(t,e=-1){let n,i,r,s,o=null;const a=(...l)=>{if(n){i=l,s&&s.reject(Wi()),s=ec();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(r=s||ec(),s=null,e>0){const f=new AbortController;n=U2(t(...l,f.signal));const y=n;AC(e).then(()=>{n===y&&(s?f.abort():o=f)})}else n=1,n=U2(t(...l));const c=()=>{const f=i;i=r=n=o=null,f!=null&&a(...f)},p=n,d=r;return p.then(c,c),p.then(d.resolve,d.reject),d.promise};return a}function ec(){let t,e;const n=new Promise((r,s)=>{t=r,e=s}),i=r=>{t(r)};return i.resolve=r=>t(r),i.reject=r=>e(r),i.timeout=(r,s)=>wC.setTimeout(()=>i.reject(s),r),i.promise=n,i}async function dj(t){await Promise.resolve(),Bu(t)}function fj(t){return t}function mj(t){return 1e3*t}function yj(t){return t}let gj=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},vj=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},$2=0;const _d={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},G2=["prepare","preRender","render","postRender","update","finish"],j2=[],nc=new L2;let bj=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function _j(){ic!=null&&(cancelAnimationFrame(ic),ic=requestAnimationFrame(W2))}const ey={frameTasks:nc,willDispatch:!1,clearFrameTasks:xj,dispatch:TC,executeFrameTasks:Sj,reschedule:_j};function B2(t){const e=new vj(t);return j2.push(e),ey.willDispatch||(ey.willDispatch=!0,O2(TC)),e}function wj(t){const e=new gj(t);return nc.push(e),ic==null&&($2=performance.now(),ic=requestAnimationFrame(W2)),new bj(e)}let ic=null;function xj(t=!1){nc.forAll(e=>{e.removed=!0}),t&&EC()}function W2(){const t=performance.now();ic=null,ic=nc.length>0?requestAnimationFrame(W2):null,ey.executeFrameTasks(t)}function Sj(t){const e=t-$2;$2=t;const n=1e3/60,i=Math.max(0,e-n);_d.time=t,_d.frameDuration=n-i;for(let r=0;r<G2.length;r++){const s=performance.now(),o=G2[r];nc.forAll(a=>{a.paused||a.removed||(r===0&&a.ticks++,a.phases[o]&&(_d.elapsedFrameTime=performance.now()-t,_d.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,_d)))}),Ej[r].push(performance.now()-s)}EC(),Tj.push(performance.now()-t)}const ny=new L2;function EC(){nc.forAll(t=>{t.removed&&ny.push(t)}),nc.removeUnorderedMany(ny.data,ny.length),ny.clear()}function TC(){for(;j2.length;){const t=j2.shift();t.isActive&&t.callback()}ey.willDispatch=!1}function CC(t=1,e){const n=ec(),i=()=>{xa(e)?n.reject(Wi()):t===0?n():(--t,O2(()=>i()))};return i(),n.promise}function MC(t){return CC(1,t)}async function Aj(t){await MC(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const Ej=G2.map(t=>new P2(t)),Tj=new P2("total");function IC(t,e){for(const n of t.values())if(e(n))return!0;return!1}function z2(t,e){if(!e)return t;for(const n of e)n!=null&&t.add(n);return t}function Cj(t,e){return e!=null&&t.add(e),t}function q2(t,e){const n=new Set;return z2(n,t),z2(n,e),n}function OC(t,e){const n=new Set;for(const i of e)t.has(i)&&n.add(i);return n}function Mj(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const n of t)if(!e.has(n))return!1;return!0}function Ij(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function PC(t,e){const n=new Set(t);for(const i of e)n.delete(i);return n}function Oj(t,e){return PC(q2(t,e),OC(t,e))}let Pj=0;function wd(){return++Pj}let iy=class extends W0{constructor(t){super(new Nj(t)),this._observer&&NC.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&NC.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Nj=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Lj}};const NC=new FinalizationRegistry(t=>{t.deref()?.destroy()});function Lj(){}let zu=!1;const ry=[];function LC(t,e){let n=new iy(s),i=null,r=!1;function s(){if(!n||r)return;if(zu)return void RC(s);const a=i;n.clear(),zu=!0,r=!0,i=Oo(n,t),r=!1,zu=!1,e(i,a),DC()}function o(){n&&(n.destroy(),n=null,i=null)}return r=!0,i=Oo(n,t),r=!1,dn(o)}function kC(t,e){let n=new iy(r),i=null;function r(){e(i,o)}function s(){n&&(n.destroy(),n=null),i=null}function o(){return n?(n.clear(),i=Oo(n,t),i):null}return o(),dn(s)}function kj(t,e){let n=!1,i=!1;const r=!!e?.sync;let s=new iy(()=>{n||i||(i=!0,r?o():queueMicrotask(o))});function o(){i=!1,s&&!n&&(zu?RC(o):(s.clear(),zu=!0,n=!0,Oo(s,t),n=!1,zu=!1,DC()))}function a(){s&&(s.destroy(),s=null)}return n=!0,Oo(s,t),n=!1,dn(a)}function RC(t){ry.includes(t)||ry.unshift(t)}function DC(){for(;ry.length;)ry.pop()()}var xd;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})(xd||(xd={}));let Sd=class{constructor(){this.uid=wd(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,e,n,i,r){return this.pool.acquire(xd.Untracked,t,e,n,i,r,o2)}static acquireTracked(t,e,n,i){return this.pool.acquire(xd.Tracked,t,e,n,null,null,i)}notify(t,e){this.type===xd.Untracked?this.callback.call(this.target,t,e,this.path,this.target):this.callback.call(null,t,e,void 0,void 0)}acquire(t,e,n,i,r,s,o){this.uid=wd(),this.removed=!1,this.type=t,this.oldValue=e,this.callback=n,this.getValue=i,this.target=r,this.path=s,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=wd(),this.removed=!0}};Sd.pool=new vC(Sd);const sy=new Po,No=new Set;let oy;function ay(t){No.delete(t),No.add(t),oy||(oy=B2(Fj))}function Rj(t){if(t.removed)return;const e=t.oldValue,n=t.getValue();t.equals(e,n)||(t.oldValue=n,t.notify(n,e))}function Dj(t){for(const e of No.values())e.target===t&&(e.removed=!0)}function Fj(){let t=10;for(;oy&&t--;){oy=null;const e=Uj(),n=sy.acquire();for(const i of e){const r=i.uid;Rj(i),r===i.uid&&i.removed&&n.push(i)}for(const i of No)i.removed&&(n.push(i),No.delete(i));for(const i of n)Sd.pool.release(i);sy.release(n),sy.release(e),V2.forEach(i=>i())}}function Uj(){const t=sy.acquire();t.length=No.size;let e=0;for(const n of No)t[e]=n,++e;return No.clear(),t}const V2=new Set;function $j(t){return V2.add(t),dn(()=>V2.delete(t))}function Gj(t,e,n){let i=DT(t,e,n,(r,s,o)=>{let a,l,c=kC(()=>pd(r,s),(p,d)=>{r.__accessor__?.lifecycle===Bi.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=Sd.acquireUntracked(p,o,d,r,s),l=a.uid),ay(a))});return dn(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,ay(a)),a=null),i=c=null})});return i}function jj(t,e,n){const i=DT(t,e,n,(r,s,o)=>{let a=!1;return LC(()=>pd(r,s),(l,c)=>{r.__accessor__.lifecycle!==Bi.DESTROYED?a||(a=!0,o2(c,l)||o.call(r,l,c,s,r),a=!1):i.remove()})});return i}function Bj(t,e,n,i=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Bi.DESTROYED?i?jj(t,e,n):Gj(t,e,n):dn()}function Wj(t,e,n){let i,r,s=kC(t,(o,a)=>{i&&i.uid!==r?s.remove():(i||(i=Sd.acquireTracked(o,e,a,n),r=i.uid),ay(i))});return dn(()=>{s.remove(),i&&(i.uid!==r||i.removed||(i.removed=!0,ay(i)),i=null),s=null})}function zj(t,e,n){let i=!1;return LC(t,(r,s)=>{i||(i=!0,n(s,r)||e(r,s),i=!1)})}function qj(t,e,n=!1,i=gT){return n?zj(t,e,i):Wj(t,e,i)}function Vj(t){return IC(No,e=>e.oldValue===t)}var FC,UC;function Hj(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Aa=Symbol("Accessor-Handles"),H2=Symbol("Accessor-Initialized");let $n=class Rb{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:i,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}dd(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...c){const p=this.inherited;let d;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{d=l.apply(this,c)}catch(f){throw this.inherited=p,f}return this.inherited=p,d}:e[a]}for(const a in n){const l=Hj(n[a]);E(l)(o.prototype,a)}return rt(i)(o)}static freeze(e){return e instanceof Rb?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Rb?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[FC]=null,this[UC]=!1,this.constructor===Rb)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new ZG(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),e.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,n=e.ctorArgs;e.initialize(),n&&(this.set(n),e.ctorArgs=null),e.constructed(),this.initialize(),this[H2]=!0}initialize(){}[jT](){this[Aa]=vd(this[Aa])}destroy(){this.destroyed||(Dj(this),this.__accessor__.destroy(),QG()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[H2]}get destroyed(){return this.__accessor__?.lifecycle===Bi.DESTROYED||!1}commitProperty(e){wa(this,e)}get(e){return uC(ke.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),wa(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,n){return B0(this,e,n),this}watch(e,n,i){return Bj(this,e,n,i)}addHandles(e,n){if(this.destroyed){const i=Array.isArray(e)?e:[e];for(const r of i)r.remove();return}(this[Aa]??=new Y0).add(e,n)}removeHandles(e){this[Aa]?.remove(e)}removeAllHandles(){this[Aa]?.removeAll()}removeHandlesReference(e){this[Aa]?.removeReference(e)}hasHandles(e){return this[Aa]?.has(e)===!0}_override(e,n){n===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,n){n==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,n){return this.__accessor__.internalSet(e,n),this}};FC=Aa,UC=H2;let Yj=class KF{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new KF;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,gt(i.value),i.origin)}),n}get(e,n){n=this._normalizeOrigin(n);const i=this._values.get(e);return n==null||i?.origin===n?i?.value:void 0}originOf(e){return this._values.get(e)?.origin??ue.USER}keys(e){e=this._normalizeOrigin(e);const n=[...this._values.keys()];return e==null?n:n.filter(i=>this._values.get(i)?.origin===e)}set(e,n,i){if((i=this._normalizeOrigin(i))===ue.DEFAULTS){const r=this._values.get(e);if(r?.origin!=null&&r.origin>i)return}this._values.set(e,new Jj(n,i))}delete(e,n){(n=this._normalizeOrigin(n))!=null&&this._values.get(e)?.origin!==n||this._values.delete(e)}has(e,n){return(n=this._normalizeOrigin(n))!=null?this._values.get(e)?.origin===n:this._values.has(e)}forEach(e){this._values.forEach(({value:n},i)=>e(n,i))}_normalizeOrigin(e){if(e!=null)return e===ue.DEFAULTS?e:ue.USER}},Jj=class{constructor(t,e){this.value=t,this.origin=e}};function $C(t,e,n){e.keys().forEach(r=>{n.set(r,e.get(r),ue.DEFAULTS)});const i=t.metadata;Object.keys(i).forEach(r=>{t.internalGet(r)&&n.set(r,t.internalGet(r),ue.DEFAULTS)})}function Zj(t,e,n){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const i=t.read.source;if(typeof i=="string"){if(i===e||i.includes(".")&&i.indexOf(e)===0&&$T(i,n))return!0}else for(const r of i)if(r===e||r.includes(".")&&r.indexOf(e)===0&&$T(r,n))return!0;return!1}function Kj(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function Xj(t,e,n,i,r){let s=_2(e[n],r);Kj(s)&&(t[n]=!0);for(const o of Object.getOwnPropertyNames(e))s=_2(e[o],r),Zj(s,n,i)&&(t[o]=!0)}function Qj(t,e,n,i){const r=n.metadata,s=CG(r[e],i),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,i):o;a!==void 0&&n.set(e,a)}const GC={origin:"service"};function jC(t,e,n=GC){if(!e||typeof e!="object")return;const i=Io(t),r=i.metadata,s={};for(const o of Object.getOwnPropertyNames(e))Xj(s,r,o,e,n);i.setDefaultOrigin(n.origin);for(const o of Object.getOwnPropertyNames(s)){const a=_2(r[o],n).read,l=a?.source;let c;c=l&&typeof l=="string"?pd(e,l):e[o],a?.reader&&(c=a.reader.call(t,c,e,n)),c!==void 0&&i.set(o,c)}if(!n||!n.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))s[o]||Qj(t,o,i,n)}i.setDefaultOrigin("user")}function tB(t,e,n,i=GC){const r={...i,messages:[]};n(r),r.messages?.forEach(s=>{s.type!=="warning"||t.loaded?i?.messages&&i.messages.push(s):t.loadWarnings.push(s)})}function eB(t,e,n,i,r){const s={};return e.write?.writer?.call(t,i,s,n,r),s}function BC(t,e,n,i,r,s){if(!i?.write)return!1;const o=wa(t,n);if(!r&&i.write.overridePolicy){const a=i.write.overridePolicy.call(t,o,n,s??void 0);a!==void 0&&(r=a)}if(r||(r=i.write),!r||r.enabled===!1||r.layerContainerTypes&&s?.layerContainerType&&!r.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const a=new oe("web-document-write:property-required",`Missing value for required property '${n}' on '${t.declaredClass}'`,{propertyName:n,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&ke.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||!r.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(n)===ue.DEFAULTS)&&nB(t,n,s,i,o)||!r.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(n)<C2(s.origin))}function nB(t,e,n,i,r){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(r);if(typeof s=="function"){if(Array.isArray(r)){const o=s.call(t,e,n??void 0);return cd(o,r)}return!1}return s===r}function iB(t,e,n,i){const r=Io(t),s=r.metadata,o=oC(s[e],i);return!!o&&BC(t,r,e,o,n,i)}function WC(t,e,n){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return G0(e,t.toJSON(n));const i=Io(t),r=i.metadata;for(const s in r){const o=oC(r[s],n);if(!BC(t,i,s,o,void 0,n))continue;const a=wa(t,s),l=eB(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,n);Object.keys(l).length>0&&(e=G0(e,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>G0(e,l,()=>"replace-arrays"))),n?.writtenProperties&&n.writtenProperties.push({target:t,propName:s,oldOrigin:YG(i.store.originOf(s)),newOrigin:n.origin}))}return e}const Y2=t=>{let e=class extends t{constructor(...n){super(...n);const i=Io(this),r=i.store,s=new Yj;i.store=s,$C(i,r,s)}read(n,i){jC(this,n,i)}write(n,i){return WC(this,n??{},i)}toJSON(n){return this.write({},n)}static fromJSON(n,i){return rB.call(this,n,i)}};return e=v([rt("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function rB(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(t,e),n}function ly(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}let ee=class extends Y2($n){};ee=v([rt("esri.core.JSONSupport")],ee);function Gn(t,e,n){let i,r;return e===void 0||Array.isArray(e)?(r=t,n=e,i=[void 0]):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;i.forEach(l=>{const c=f2(s,l,r);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],n&&(c.read.source=(c.read.source||[]).concat(n))})}}let $s=class{constructor(t,e={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=e,this.apiValues=[],this.jsonValues=[],this._apiToJSON=sB(t),this.apiValues=zC(this._apiToJSON),this.jsonValues=zC(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,r)=>{const s=this.toJSON(n);s!==void 0&&Ql(r,s,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const e=this._apiToJSON[t];return this._options.useNumericKeys?+e:e}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function sB(t){const e={};for(const n in t)e[t[n]]=n;return e}function zC(t){const e=[];for(const n in t)e.push(n);return e.sort(),e}function Cr(){return function(t,e){return new $s(t,{ignoreUnknown:!0,...e})}}let J2=class{constructor(t,e,n,i,r,s){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=r;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Mr=new J2(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),qu=new J2(3396190,1/169.8944472236118,23e4,6e4,.111),Ad=new J2(1737400,0,0,0,0),oB=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,aB={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function Z2(t){const e=t?.match(oB);if(!e)return null;const[,n,i,r]=e;if(!n)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:p}=aB;if(i)if(s=n,r)switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=p);else switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=p);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function qC(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function K2(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):n.test(t)?t=t.replace(n,"https://devext.arcgis.com"):i.test(t)&&(t=t.replace(i,"https://qaext.arcgis.com")),t}function VC(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer}function lB(t){const e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n)}const cB=()=>ke.getLogger("esri.core.urlUtils"),Vu=Pe.request,HC="esri/config: esriConfig.request.proxyUrl is not set.",YC=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,JC=/^\s*http:/i,uB=/^\s*https:/i,hB=/^\s*file:/i,pB=/:\d+$/,dB=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,fB=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),mB=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let rc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let e=this.uri.match(fB);this.scheme=e[2]||(e[1]?"":null),this.authority=e[4]||(e[3]?"":null),this.path=e[5],this.query=e[7]||(e[6]?"":null),this.fragment=e[9]||(e[8]?"":null),this.authority!=null&&(e=this.authority.match(mB),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}toString(){return this.uri}};const cy={},yB=new rc(Pe.applicationUrl);let fi=yB;const gB=bB();let X2=gB;const Q2=()=>fi,vB=()=>X2;function bB(){const t=fi.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${fi.scheme}://${fi.host}${fi.port!=null?`:${fi.port}`:""}`}${e}`}function Ea(t){if(!t)return null;const e={path:null,query:null},n=new rc(t),i=t.indexOf("?");return n.query===null?e.path=t:(e.path=t.slice(0,i),e.query=uy(n.query)),n.fragment&&(e.hash=n.fragment,n.query===null&&(e.path=e.path.slice(0,e.path.length-(n.fragment.length+1)))),e}function uy(t){const e=t.split("&"),n={};for(const i of e){if(!i)continue;const r=i.indexOf("=");let s,o;r<0?(s=decodeURIComponent(i),o=""):(s=decodeURIComponent(i.slice(0,r)),o=decodeURIComponent(i.slice(r+1)));let a=n[s];typeof a=="string"&&(a=n[s]=[a]),Array.isArray(a)?a.push(o):n[s]=o}return n}function Hu(t,e){return t?Object.keys(t).map(n=>{const i=t[n];if(i==null)return"";const r=encodeURIComponent(n)+"=",s=e?.[n];return s?r+encodeURIComponent(s(i)):Array.isArray(i)?i.map(o=>ly(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):ly(i)?r+encodeURIComponent(JSON.stringify(i)):r+encodeURIComponent(i)}).filter(n=>n).join("&"):""}function ZC(t=!1){let e,n=Vu.proxyUrl;if(typeof t=="string"){e=eM(t);const i=Td(t);i&&(n=i.proxyUrl)}else e=!!t;if(!n)throw cB().warn(HC),new oe("urlUtils:proxy-not-set",HC);return e&&s_()&&(n=fy(n)),Ea(n)}function _B(t,e=!1){const n=Td(t);let i,r;if(n){const s=t_(n.proxyUrl);i=s.path,r=s.query?uy(s.query):null}else if(e){const s=ZC(t);i=s.path,r=s.query}if(i){const s=Ea(t);t=i+"?"+s.path;const o=Hu({...r,...s.query});o&&(t=`${t}?${o}`)}return t}const Ed={path:"",query:""};function t_(t){const e=t.indexOf("?");return e!==-1?(Ed.path=t.slice(0,e),Ed.query=t.slice(e+1)):(Ed.path=t,Ed.query=null),Ed}function KC(t){return t=(t=my(t=nM(t=t_(t).path),!0)).toLowerCase()}function wB(t){const e={proxyUrl:t.proxyUrl,urlPrefix:KC(t.urlPrefix)},n=Vu.proxyRules,i=e.urlPrefix;let r=n.length;for(let s=0;s<n.length;s++){const o=n[s].urlPrefix;if(i.indexOf(o)===0){if(i.length===o.length)return-1;r=s;break}o.indexOf(i)===0&&(r=s+1)}return n.splice(r,0,e),r}function Td(t){const e=Vu.proxyRules,n=KC(t);for(let i=0;i<e.length;i++)if(n.indexOf(e[i].urlPrefix)===0)return e[i]}function xB(t,e){if(!t||!e)return!1;t=hy(t),e=hy(e);const n=Z2(t),i=Z2(e);return n!=null&&i!=null?n.portalHostname===i.portalHostname:n==null&&i==null&&sc(t,e,!0)}function XC(t,e){return t=hy(t),e=hy(e),my(t)===my(e)}function hy(t){const e=(t=Lo(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function e_(t,e=Vu.interceptors){const n=i=>i==null||i instanceof RegExp&&i.test(t)||typeof i=="string"&&t.startsWith(i);if(e){for(const i of e)if(Array.isArray(i.urls)){if(i.urls.some(n))return i}else if(n(i.urls))return i}return null}function sc(t,e,n=!1){if(!t||!e)return!1;const i=a_(t),r=a_(e);return!(!n&&i.scheme!==r.scheme)&&i.host!=null&&r.host!=null&&i.host.toLowerCase()===r.host.toLowerCase()&&i.port===r.port}function n_(t){if(typeof t=="string"){if(!Or(t))return!0;t=a_(t)}if(sc(t,fi))return!0;const e=Vu.trustedServers||[];for(let n=0;n<e.length;n++){const i=SB(e[n]);for(let r=0;r<i.length;r++)if(sc(t,i[r]))return!0}return!1}function SB(t){return cy[t]||(r_(t)||ko(t)?cy[t]=[new rc(Yu(t))]:cy[t]=[new rc(`http://${t}`),new rc(`https://${t}`)]),cy[t]}function Yu(t,e=X2,n){return ko(t)?n?.preserveProtocolRelative?t:fi.scheme==="http"&&fi.authority===Ir(t).slice(2)?`http:${t}`:`https:${t}`:r_(t)?t:py(t[0]==="/"?PB(e):e,t)}function i_(t,e=X2,n){if(t==null||!Or(t))return t;const i=Lo(t),r=i.toLowerCase(),s=Lo(e).toLowerCase().replace(/\/+$/,""),o=n?Lo(n).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return t;const a=(d,f,y)=>(y=d.indexOf(f,y))===-1?d.length:y;let l=a(r,"/",r.indexOf("//")+2),c=-1;for(;r.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==r.length);)l=a(r,"/",l+1);if(c===-1||o&&c<o.length)return t;t=i.slice(c);const p=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let d=0;d<p;d++)t=`../${t}`;else t=`./${t}`;return t}function Lo(t){return t=FB(t=DB(t=RB(t=Yu(t=t.trim()))))}function py(...t){const e=t.filter(sT);if(!e?.length)return;const n=[];if(Or(e[0])){const r=e[0],s=r.indexOf("//");s!==-1&&(n.push(r.slice(0,s+1)),IB(e[0])&&(n[0]+="/"),e[0]=r.slice(s+2))}else e[0][0]==="/"&&n.push("");const i=e.reduce((r,s)=>s?r.concat(s.split("/")):r,[]);for(let r=0;r<i.length;r++){const s=i[r];s===".."&&n.length>0&&n[n.length-1]!==".."?n.pop():(!s&&r===i.length-1||s&&(s!=="."||n.length===0))&&n.push(s)}return n.join("/")}function Ir(t,e=!1){if(t==null||dy(t)||oc(t))return null;let n=t.indexOf("://");if(n===-1&&ko(t))n=2;else{if(n===-1)return null;n+=3}const i=t.indexOf("/",n);return i!==-1&&(t=t.slice(0,i)),e&&(t=my(t,!0)),t}function Or(t){return ko(t)||r_(t)}function dy(t){return t!=null&&t.slice(0,5)==="blob:"}function oc(t){return t!=null&&t.slice(0,5)==="data:"}function QC(t){const e=Ju(t);return e?.isBase64?VC(e.data):null}function AB(t){return lB(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const EB=/^data:(.*?)(;base64)?,(.*)$/;function Ju(t){const e=t.match(EB);if(!e)return null;const[,n,i,r]=e;return{mediaType:n,isBase64:!!i,data:r}}function tM(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function TB(t){return(await fetch(t)).blob()}function CB(t){const e=QC(t);if(!e)return null;const n=Ju(t);return new Blob([e],{type:n.mediaType})}function ko(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function r_(t){return t!=null&&YC.test(t)}function eM(t){return t!=null&&uB.test(t)||fi.scheme==="https"&&ko(t)}function MB(t){return t!=null&&JC.test(t)||fi.scheme==="http"&&ko(t)}function IB(t){return t!=null&&hB.test(t)}function fy(t){return ko(t)?`https:${t}`:t.replace(JC,"https:")}function OB(){return fi.scheme==="http"}function s_(){return fi.scheme==="https"}function my(t,e=!1){return ko(t)?t.slice(2):(t=t.replace(YC,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function PB(t){const e=t.indexOf("//"),n=t.indexOf("/",e+2);return n===-1?t:t.slice(0,n)}function NB(t){let e=0;if(Or(t)){const i=t.indexOf("//");i!==-1&&(e=i+2)}const n=t.lastIndexOf("/");return n<e?t:t.slice(0,n+1)}function LB(t,e){if(!t)return"";const n=Ea(t).path.replace(/\/+$/,""),i=n.slice(n.lastIndexOf("/")+1);if(!e?.length)return i;const r=new RegExp(`\\.(${e.join("|")})$`,"i");return i.replace(r,"")}function nM(t){return t.endsWith("/")?t:`${t}/`}function kB(t){return t.replace(/\/+$/,"")}function RB(t){if(/^https?:\/\//i.test(t)){const e=t_(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function DB(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function FB(t){const e=Vu.httpsDomains;if(!MB(t))return t;const n=t.indexOf("/",7);let i;if(i=n===-1?t:t.slice(0,n),i=i.toLowerCase().slice(7),pB.test(i)){if(!i.endsWith(":80"))return t;i=i.slice(0,-3),t=t.replace(":80","")}return OB()&&i===fi.authority&&!dB.test(t)||(s_()&&i===fi.authority||e&&e.some(r=>i===r||i.endsWith(`.${r}`))||s_()&&!Td(t))&&(t=fy(t)),t}function o_(t,e,n){if(!(e&&n&&t&&Or(t)))return t;const i=t.indexOf("//"),r=t.indexOf("/",i+2),s=t.indexOf(":",i+2),o=Math.min(r<0?t.length:r,s<0?t.length:s);return t.slice(i+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,i+2)}${n}${t.slice(o)}`}function a_(t){return typeof t=="string"?new rc(Yu(t)):(t.scheme||(t.scheme=fi.scheme),t)}function UB(t){return WB.test(t)}function $B(t,e){const n=Ea(t),i=Object.keys(n.query||{});return i.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),n.path}function GB(t,e,n){const i=Ea(t),r=i.query||{};return r[e]=String(n),`${i.path}?${Hu(r)}`}function yy(t,e){if(!e)return t;const n=Ea(t),i=n.query||{};for(const[s,o]of Object.entries(e))o!=null&&(i[s]=o);const r=Hu(i);return r?`${n.path}?${r}`:n.path}function jB(t){if(t==null)return null;const e=t.match(rM);return e?e[2]:null}function iM(t){if(t==null)return null;const e=t.match(rM);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function BB(t){return typeof t=="string"?Ju(t)??{data:t}:new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(Ju(i.result)),i.onerror=r=>n(r)})}const rM=/([^.]*)\.([^/]*)$/,WB=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const sM="4.31";let We,oM=sM;oM="4.31.6";function zB(t){We=t}function qB(t){const e=We?.findCredential(t);return e?.token?GB(t,"token",e.token):t}ut("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ut("host-webworker");const VB=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function HB(t){const e=Ir(t,!0);return!!e&&e.endsWith(".arcgis.com")&&!VB.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function aM(t,e){return!(!Pe.apiKey||!HB(t))}function lM(t,e,n=!1,i){return new Promise((r,s)=>{if(xa(i))return void s(cM());let o=()=>{c(),s(new Error(`Unable to load ${e}`))},a=()=>{const p=t;c(),r(p)},l=()=>{if(!t)return;const p=t;c(),p.src="",s(cM())};const c=()=>{ut("esri-image-decode")||(t.removeEventListener("error",o),t.removeEventListener("load",a)),o=null,a=null,t=null,i?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(e)};i?.addEventListener("abort",l),ut("esri-image-decode")?t.decode().then(a,o):(t.addEventListener("error",o),t.addEventListener("load",a))})}function cM(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const uM="Timeout exceeded";function YB(){return new Error(uM)}function JB(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===uM}function ZB(t){Pe.request.crossOriginNoCorsDomains||(Pe.request.crossOriginNoCorsDomains={});const e=Pe.request.crossOriginNoCorsDomains;for(let n of t)n=n.toLowerCase(),/^https?:\/\//.test(n)?e[Ir(n)??""]=0:(e[Ir("http://"+n)??""]=0,e[Ir("https://"+n)??""]=0)}function KB(t){const e=Pe.request.crossOriginNoCorsDomains;if(e){let n=Ir(t);if(n)return n=n.toLowerCase(),!sc(n,Q2())&&e[n]<Date.now()-36e5}return!1}async function XB(t){const e=Ea(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const n=Pe.request.crossOriginNoCorsDomains,i=Ir(t);n&&i&&(n[i.toLowerCase()]=Date.now())}async function fn(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=uy(e.query.toString().replaceAll("+"," ")));const n=oc(t),i=dy(t);i||n||(t=Lo(t));const r={url:t,requestOptions:{...e}},s=f=>({data:f,getAllHeaders:Zu,getHeader:Zu,httpStatus:200,requestOptions:r.requestOptions,url:r.url}),o=e_(t,Pr.internalInterceptors);if(o){const f=await fM(o,r);if(f!=null)return s(f)}let a=e_(t);if(a){const f=await fM(a,r);if(f!=null)return s(f);a.after||a.error||(a=null)}if(t=r.url,(e=r.requestOptions).responseType==="image"&&(ut("host-webworker")||ut("host-node")))throw Gs("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),r);if(e.method==="head"){if(e.body)throw Gs("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),r);if(n||i)throw Gs("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),r)}if(await iW(),gy)return gy.execute(t,e);const l=new AbortController,c=Sa(e,()=>l.abort()),p={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:r,redoRequest:!1,useIdentity:Pr.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=await aW(p).finally(()=>c?.remove());return a?.after?.(d),d}let gy;const Pr=Pe.request,hM="FormData"in globalThis,QB=new Set([499,498,403,401]),tW=new Set(["COM_0056","COM_0057","SB_0008"]),eW=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Zu=()=>null,vy=Symbol();function nW(t){const e=Ir(t);e&&!fn._corsServers.includes(e)&&fn._corsServers.push(e)}function pM(t){const e=Ir(t);return!e||e.endsWith(".arcgis.com")||fn._corsServers.includes(e)||n_(e)}function Gs(t,e,n,i){let r="Error";const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:Zu,getHeader:Zu,ssl:!1};if(e instanceof oe)return e.details?(e.details=gt(e.details),e.details.url=n.url,e.details.requestOptions=n.requestOptions):e.details=s,e;if(e){const o=i&&(()=>Array.from(i.headers)),a=i&&(p=>i.headers.get(p)),l=i?.status,c=e.message;c&&(r=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?s.messages=[e.details]:s.messages=e.details,s.raw=vy in e?e[vy]:e}return Wu(e)?Wi():new oe(t,r,s)}async function iW(){ut("host-webworker")&&!gy&&(gy=await import("./request-ClX_k89y.js"))}async function l_(){We||await import("./IdentityManager-DK3botkQ.js")}async function rW(t){const e=t.params.url,n=t.params.requestOptions,i=t.controller.signal,r=n.body;let s=null,o=null;if(hM&&"HTMLFormElement"in globalThis&&(r instanceof FormData?s=r:r instanceof HTMLFormElement&&(s=new FormData(r))),typeof r=="string"&&(o=r),t.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:n.method==="head"?"HEAD":"GET",mode:"cors",priority:Pr.priority,redirect:"follow",signal:i},(s||o)&&(t.fetchOptions.body=s||o),n.authMode==="anonymous"&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||n.query?.token||s?.get("token")),!t.hasToken&&aM(e)&&(n.query||(n.query={}),n.query.token=Pe.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!dM(e)&&!xa(i)){let a;n.authMode==="immediate"?(await l_(),a=await We.getCredential(e,{signal:i}),t.credential=a):n.authMode==="no-prompt"?(await l_(),a=await We.getCredential(e,{prompt:!1,signal:i}).catch(()=>{}),t.credential=a):We&&(a=We.findCredential(e)),a&&(t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function dM(t){return eW.some(e=>e.test(t))}async function sW(t){let e=t.params.url;const n=t.params.requestOptions,i=t.fetchOptions??{},r=dy(e)||oc(e),s=n.responseType||"json",o=r?0:n.timeout!=null?n.timeout:Pr.timeout;let a=!1;if(!r){t.useSSL&&(e=fy(e));let f={...n.query};t.credentialToken&&(f.token=t.credentialToken);let y=Hu(f);ut("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=e.length+1+y.length;let _;a=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||g>Pr.maxUrlLength;const w=n.useProxy||!!Td(e);if(w){const A=ZC(e);_=A.path,!a&&_.length+1+g>Pr.maxUrlLength&&(a=!0),A.query&&(f={...A.query,...f})}if(i.method==="HEAD"&&(a||w)){if(a)throw g>Pr.maxUrlLength?Gs("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Gs("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(w)throw Gs("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}a?(i.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?e=yy(e,f):(i.body=Hu(f),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):e=yy(e,f),w&&(t.useProxy=!0,e=`${_}?${e}`),f.token&&hM&&i.body instanceof FormData&&!qC(e)&&i.body.set("token",f.token),n.hasOwnProperty("withCredentials")?t.withCredentials=n.withCredentials:sc(e,Q2())||(n_(e)||We&&We.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(i.credentials="include",KB(e)&&await XB(a?yy(e,f):e))}let l,c,p=0,d=!1;o>0&&(p=setTimeout(()=>{d=!0,t.controller.abort()},o));try{if(n.responseType==="native-request-init")c=i,c.url=e,n.signal?c.signal=n.signal:delete c.signal;else if(n.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||a||oW(n.headers)||!r&&!t.useProxy&&Pr.proxyUrl&&!pM(e)){if(fn._beforeFetch&&await fn._beforeFetch(e,i),l=await fetch(e,i),fn._afterFetch&&await fn._afterFetch(l),t.useProxy||nW(e),n.responseType==="native")c=l;else if(i.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(p&&(clearTimeout(p),p=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=mM(c,"application/xml");break;case"document":c=mM(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const f=l.headers.get("Content-Type");if(f&&/application\/json|text\/plain/i.test(f)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await yM(URL.createObjectURL(c),t,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await yM(e,t)}catch(f){if(f.name==="AbortError")throw d?YB():Wi("Request canceled");if(!(!l&&f instanceof TypeError&&Pr.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||t.useProxy||pM(e))throw f;t.redoRequest=!0,wB({proxyUrl:Pr.proxyUrl,urlPrefix:Ir(e)??""})}finally{p&&clearTimeout(p)}return[l,c]}async function fM(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let n,i;try{i=await t.before(e)}catch(r){n=Gs("request:interceptor",r,e)}if((i instanceof Error||i instanceof oe)&&(n=Gs("request:interceptor",i,e)),n)throw t.error&&t.error(n),n;return i}}function oW(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function mM(t,e){let n;try{n=new DOMParser().parseFromString(t,e)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function aW(t){let e,n;await rW(t);try{do[e,n]=await sW(t);while(!await lW(t,e,n))}catch(s){const o=Gs("request:server",s,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const i=t.params.url;if(n&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!t.hasToken&&!t.credentialToken&&n.user?.username&&!n_(i)){const s=Ir(i,!0);s&&Pr.trustedServers.push(s)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&ZB(n.authorizedCrossOriginNoCorsDomains)}const r=t.credential;if(r&&We){let s=We.findServerInfo(r.server)?.owningSystemUrl;if(s){s=s.replace(/\/?$/,"/sharing");const o=We.findCredential(s,r.userId);o&&We._getIdenticalSvcIdx(s,o)===-1&&o.resources.unshift(s)}}return{data:n,getAllHeaders:e?()=>Array.from(e.headers):Zu,getHeader:e?s=>e.headers.get(s):Zu,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function lW(t,e,n){if(t.redoRequest)return t.redoRequest=!1,!1;const i=t.params.requestOptions;if(!e||i.responseType==="native"||i.responseType==="native-request-init")return!0;let r,s;if(n&&(n.error&&typeof n.error=="object"?r=n.error:n.status==="error"&&Array.isArray(n.messages)&&(r={...n},r[vy]=n,r.details=n.messages)),!r&&!e.ok)throw r=new Error(`Unable to load ${e.url} status: ${e.status}`),r[vy]=n,r;let o,a=null;r&&(s=Number(r.code),a=r.hasOwnProperty("subcode")?Number(r.subcode):null,o=r.messageCode,o=o?.toUpperCase());const l=i.authMode;if(s===403&&(a===4||r.message?.toLowerCase().includes("ssl")&&!r.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&QB.has(s)&&!dM(t.params.url)&&(s!==403||(!o||!tW.has(o))&&(a==null||a===2&&t.credentialToken))){await l_();try{const c=await We.getCredential(t.params.url,{error:Gs("request:server",r,t.params),prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=c,t.credentialToken=c.token,t.useSSL=t.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;r=c}}if(r)throw r;return!0}function yM(t,e,n=!1){const i=e.controller.signal,r=new Image;return e.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=Pr.priority,r.src=t,lM(r,t,n,i)}fn._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],fn._beforeFetch=void 0,fn._afterFetch=void 0;function c_(t){if(!Pe.assetsPath)throw ke.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new oe("assets:path-not-set","config.assetsPath is not set");return py(Pe.assetsPath,t)}let u_,H=null;function gM(){return!!H}function cW(){return!!ut("esri-wasm")}function vM(){return u_||(u_=import("./pe-wasm-tEsgvglo.js").then(t=>t.p).then(({default:t})=>t({locateFile:e=>c_(`esri/geometry/support/${e}`)})).then(t=>{wM(t)}),u_)}var by,ze;(function(t){function e(s,o,a){H.ensureCache.prepare();const l=ac(a),c=a===l,p=H.ensureFloat64(l),d=H._pe_geog_to_proj(H.getPointer(s),o,p);return d&&Ta(a,o,p,c),d}function n(s,o,a,l){switch(l){case ze.PE_TRANSFORM_P_TO_G:return i(s,o,a);case ze.PE_TRANSFORM_G_TO_P:return e(s,o,a)}return 0}function i(s,o,a){return r(s,o,a,0)}function r(s,o,a,l){H.ensureCache.prepare();const c=ac(a),p=a===c,d=H.ensureFloat64(c),f=H._pe_proj_to_geog_center(H.getPointer(s),o,d,l);return f&&Ta(a,o,d,p),f}t.geogToProj=e,t.projGeog=n,t.projToGeog=i,t.projToGeogCenter=r})(by||(by={})),function(t){function e(){t.PE_BUFFER_MAX=H.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=H.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=H.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=H.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=H.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=H.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=H.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=H.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=H.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=H.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=H.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=H.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=H.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=H.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=H.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=H.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=H.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=H.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=H.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=H.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=H.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=H.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=H.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=H.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=H.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=H.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=H.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=H.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=H.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=H.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=H.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=H.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(ze||(ze={}));let bM=null;var _y;(function(t){const e={},n={},i=y=>{const g=y.getType();switch(g){case ze.PE_TYPE_GEOGCS:y=H.castObject(y,H.PeGeogcs);break;case ze.PE_TYPE_PROJCS:y=H.castObject(y,H.PeProjcs);break;case ze.PE_TYPE_GEOGTRAN:y=H.castObject(y,H.PeGeogtran);break;default:g&ze.PE_TYPE_UNIT&&(y=H.castObject(y,H.PeUnit))}return y};function r(){H.PeFactory.prototype.initialize(null)}function s(y){return o(ze.PE_TYPE_COORDSYS,y)}function o(y,g){let _=null,w=e[y];if(w||(w={},e[y]=w),w.hasOwnProperty(String(g))&&(_=w[g],H.compare(_,H.NULL)&&(_=null)),!_){const A=H.PeFactory.prototype.factoryByType(y,g);H.compare(A,H.NULL)||(_=i(A),w[g]=_)}return _}function a(y,g){let _=null,w=n[y];if(w||(w={},n[y]=w),w.hasOwnProperty(g)&&(_=w[g],H.compare(_,H.NULL)&&(_=null)),!_){const A=H.PeFactory.prototype.fromString(y,g);H.compare(A,H.NULL)||(_=i(A),w[g]=_)}return _}function l(y){return o(ze.PE_TYPE_GEOGCS,y)}function c(y){return o(ze.PE_TYPE_GEOGTRAN,y)}function p(y){return H.PeFactory.prototype.getCode(y)}function d(y){return o(ze.PE_TYPE_PROJCS,y)}function f(y){return o(ze.PE_TYPE_UNIT,y)}t.initialize=r,t.coordsys=s,t.factoryByType=o,t.fromString=a,t.geogcs=l,t.geogtran=c,t.getCode=p,t.projcs=d,t.unit=f})(_y||(_y={}));let _M=null;var wy,h_,xy,p_,d_,Sy,Ay,f_,Ey,Cd,m_;function wM(t){function e(s,o,a){s[o]=a(s[o])}H=t,ze.init(),wy.init(),Ay.init(),Ey.init(),Cd.init(),bM=class extends H.PeDouble{constructor(s=NaN){super(s)}destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}},_M=class extends H.PeGCSExtent{destroy(){H.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[H.PeAngunit,H.PeDatum,H.PeGeogcs,H.PeGeogtran,H.PeObject,H.PeParameter,H.PePrimem,H.PeProjcs,H.PeSpheroid,H.PeUnit];for(const s of n)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(ze.PE_NAME_MAX))});for(const s of[H.PeGeogtran,H.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(ze.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const p=H.getValue(l,"*");a[c]=p?H.wrapPointer(p,H.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(H.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Ta(l,a,s.call(this),o),l}),e(H.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=H._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const c=this.getSteps();if(c>1){const p=H.getPointer(l);for(let d=1;d<c;d++)a.push(H.wrapPointer(p+o*d,H.PeGTlistExtendedGTs))}}return a}});const i=H._pe_getPeHorizonSize(),r=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!H.compare(l,H.NULL)){a=[l];const c=l.getNump();if(c>1){const p=H.getPointer(l);for(let d=1;d<c;d++)a.push(H.wrapPointer(p+i*d,H.PeHorizon))}}return o.set(s,a),a};e(H.PeProjcs.prototype,"horizonGcsGenerate",r),e(H.PeProjcs.prototype,"horizonPcsGenerate",r),H.PeObject.prototype.toString=function(s=ze.PE_STR_OPTS_NONE){H.ensureCache.prepare();const o=H.getPointer(this),a=H.ensureInt8(new Array(ze.PE_BUFFER_MAX));return H.UTF8ToString(H._pe_object_to_string_ext(o,s,a))},H.PeGeogcs.prototype.destroy=function(){this.Delete(),ss(this),this.ptr=0},H.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},H.PeProjcs.prototype.destroy=function(){this.Delete(),ss(this),this.ptr=0},H.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ss(t){if(!t)return;const e=H.getClass(t);if(!e)return;const n=H.getCache(e);if(!n)return;const i=H.getPointer(t);i&&delete n[i]}function Ty(t,e){const n=[],i=new Array(e);for(let r=0;r<t;r++)n.push(H.ensureInt8(i));return n}function ac(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function Ta(t,e,n,i=!1){if(i)for(let r=0;r<2*e;r++)t[r]=H.getValue(n+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=t.length===0;for(let s=0;s<e;s++)r&&(t[s]=new Array(2)),t[s][0]=H.getValue(n,"double"),t[s][1]=H.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function n(){t.PE_GTLIST_OPTS_COMMON=H.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=H._pe_getPeGTlistExtendedEntrySize()}function i(r,s,o,a,l,c){let p=null;const d=new H.PeInteger(c);try{const f=H.PeGTlistExtended.prototype.getGTlist(r,s,o,a,l,d);if((c=d.val)&&(p=[f],c>1)){const y=H.getPointer(f);for(let g=1;g<c;g++)p.push(H.wrapPointer(y+e*g,H.PeGTlistExtendedEntry))}}finally{H.destroy(d)}return p}t.init=n,t.getGTlist=i})(wy||(wy={})),function(t){function e(n){if(n?.length){for(const i of n)ss(i),i.getEntries().forEach(r=>{ss(r);const s=r.getGeogtran();ss(s),s.getParameters().forEach(ss),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{ss(o);const a=o.getDatum();ss(a),ss(a.getSpheroid()),ss(o.getPrimem()),ss(o.getUnit())})});H.PeGTlistExtendedEntry.prototype.Delete(n[0])}}t.destroy=e}(h_||(h_={})),function(t){function e(n,i,r,s,o){H.ensureCache.prepare();const a=ac(r),l=r===a,c=H.ensureFloat64(a);let p=0;s&&(p=H.ensureFloat64(s));const d=H._pe_geog_to_geog(H.getPointer(n),i,c,p,o);return d&&Ta(r,i,c,l),d}t.geogToGeog=e}(xy||(xy={})),function(t){function e(s,o,a,l,c,p,d,f){H.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,p,d,f)}function n(s,o,a,l,c,p,d,f,y){H.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,p,d,f,y)}function i(s,o,a,l,c,p,d,f,y,g){H.PeLineType.prototype.geodetic_distance(s,o,a,l,c,p,d,f,y,g)}function r(s,o,a,l,c,p,d,f,y){H.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,p,d,f,y)}t.geodesicCoordinate=e,t.geodeticCoordinate=n,t.geodeticDistance=i,t.greatEllipticDistance=r}(p_||(p_={})),function(t){function e(o,a){return H.PeMath.prototype.phi_to_eta(o,a)}function n(o,a){return H.PeMath.prototype.eta_to_phi(o,a)}function i(o,a){return H.PeMath.prototype.phi_to_phig(o,a)}function r(o,a,l){return H.PeMath.prototype.q(o,a,l)}function s(o,a){return H.PeMath.prototype.q90(o,a)}t.phiToEta=e,t.etaToPhi=n,t.phiToPhig=i,t.q=r,t.q90=s}(d_||(d_={})),function(t){const e=(c,p,d,f,y,g)=>{let _,w;switch(H.ensureCache.prepare(),c){case"dd":_=H._pe_geog_to_dd,w=ze.PE_DD_MAX;break;case"ddm":_=H._pe_geog_to_ddm,w=ze.PE_DDM_MAX;break;case"dms":_=H._pe_geog_to_dms,w=ze.PE_DMS_MAX}let A=0;p&&(A=H.getPointer(p));const T=ac(f),x=H.ensureFloat64(T),b=Ty(d,w),I=_(A,d,x,y,H.ensureInt32(b));if(I)for(let O=0;O<d;O++)g[O]=H.UTF8ToString(b[O]);return I},n=(c,p,d,f,y)=>{let g;switch(H.ensureCache.prepare(),c){case"dd":g=H._pe_dd_to_geog;break;case"ddm":g=H._pe_ddm_to_geog;break;case"dms":g=H._pe_dms_to_geog}let _=0;p&&(_=H.getPointer(p));const w=f.map(b=>H.ensureString(b)),A=H.ensureInt32(w),T=H.ensureFloat64(new Array(2*d)),x=g(_,d,A,T);return x&&Ta(y,d,T),x};function i(c,p,d,f,y){return e("dms",c,p,d,f,y)}function r(c,p,d,f){return n("dms",c,p,d,f)}function s(c,p,d,f,y){return e("ddm",c,p,d,f,y)}function o(c,p,d,f){return n("ddm",c,p,d,f)}function a(c,p,d,f,y){return e("dd",c,p,d,f,y)}function l(c,p,d,f){return n("dd",c,p,d,f)}t.geogToDms=i,t.dmsToGeog=r,t.geogToDdm=s,t.ddmToGeog=o,t.geogToDd=a,t.ddToGeog=l}(Sy||(Sy={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=H.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=H.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=H.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function n(r,s,o,a,l,c,p){H.ensureCache.prepare();let d=0;r&&(d=H.getPointer(r));const f=ac(o),y=H.ensureFloat64(f),g=Ty(s,ze.PE_MGRS_MAX),_=H.ensureInt32(g),w=H._pe_geog_to_mgrs_extended(d,s,y,a,l,c,_);if(w)for(let A=0;A<s;A++)p[A]=H.UTF8ToString(g[A]);return w}function i(r,s,o,a,l){H.ensureCache.prepare();let c=0;r&&(c=H.getPointer(r));const p=o.map(g=>H.ensureString(g)),d=H.ensureInt32(p),f=H.ensureFloat64(new Array(2*s)),y=H._pe_mgrs_to_geog_extended(c,s,d,a,f);return y&&Ta(l,s,f),y}t.init=e,t.geogToMgrsExtended=n,t.mgrsToGeogExtended=i}(Ay||(Ay={})),function(t){function e(i,r,s,o,a,l,c){H.ensureCache.prepare();let p=0;i&&(p=H.getPointer(i));const d=ac(s),f=H.ensureFloat64(d),y=Ty(r,ze.PE_MGRS_MAX),g=H.ensureInt32(y),_=H._pe_geog_to_usng(p,r,f,o,a,l,g);if(_)for(let w=0;w<r;w++)c[w]=H.UTF8ToString(y[w]);return _}function n(i,r,s,o){H.ensureCache.prepare();let a=0;i&&(a=H.getPointer(i));const l=s.map(f=>H.ensureString(f)),c=H.ensureInt32(l),p=H.ensureFloat64(new Array(2*r)),d=H._pe_usng_to_geog(a,r,c,p);return d&&Ta(o,r,p),d}t.geogToUsng=e,t.usngToGeog=n}(f_||(f_={})),function(t){function e(){t.PE_UTM_OPTS_NONE=H.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=H.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=H.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function n(r,s,o,a,l){H.ensureCache.prepare();let c=0;r&&(c=H.getPointer(r));const p=ac(o),d=H.ensureFloat64(p),f=Ty(s,ze.PE_UTM_MAX),y=H.ensureInt32(f),g=H._pe_geog_to_utm(c,s,d,a,y);if(g)for(let _=0;_<s;_++)l[_]=H.UTF8ToString(f[_]);return g}function i(r,s,o,a,l){H.ensureCache.prepare();let c=0;r&&(c=H.getPointer(r));const p=o.map(g=>H.ensureString(g)),d=H.ensureInt32(p),f=H.ensureFloat64(new Array(2*s)),y=H._pe_utm_to_geog(c,s,d,a,f);return y&&Ta(l,s,f),y}t.init=e,t.geogToUtm=n,t.utmToGeog=i}(Ey||(Ey={})),function(t){const e=new Map;function n(){t.PE_PCSINFO_OPTION_NONE=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=H.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=H.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=H.PePCSInfo.prototype.PE_POLE_POINT}function i(r,s=t.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return e.has(r)&&(a=e.get(r),a[s]&&(o=a[s])),o||(o=H.PePCSInfo.prototype.generate(r,s),a||(a=[],e.set(r,a)),a[s]=o),o}t.init=n,t.generate=i}(Cd||(Cd={})),function(t){function e(){return H.PeVersion.prototype.version_string()}t.versionString=e}(m_||(m_={}));const uW=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return by},get PeDefs(){return ze},get PeDouble(){return bM},get PeFactory(){return _y},get PeGCSExtent(){return _M},get PeGTTransformations(){return xy},get PeGTlistExtended(){return wy},get PeGTlistExtendedEntry(){return h_},get PeLineType(){return p_},get PeMath(){return d_},get PeNotationDms(){return Sy},get PeNotationMgrs(){return Ay},get PeNotationUsng(){return f_},get PeNotationUtm(){return Ey},get PePCSInfo(){return Cd},get PeVersion(){return m_},_init:wM,get _pe(){return H},isLoaded:gM,isSupported:cW,load:vM},Symbol.toStringTag,{value:"Module"}));var lc;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(lc||(lc={}));let h;const P={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(h=2e3;h<=2045;h++)P[h]=0;for(h=2056;h<=2065;h++)P[h]=0;for(h=2067;h<=2135;h++)P[h]=0;for(h=2137;h<=2154;h++)P[h]=0;for(h=2161;h<=2170;h++)P[h]=0;for(h=2172;h<=2193;h++)P[h]=0;for(h=2195;h<=2198;h++)P[h]=0;for(h=2200;h<=2203;h++)P[h]=0;for(h=2205;h<=2217;h++)P[h]=0;for(h=2222;h<=2224;h++)P[h]=1;for(h=2225;h<=2250;h++)P[h]=2;for(h=2251;h<=2253;h++)P[h]=1;for(h=2257;h<=2264;h++)P[h]=2;for(h=2274;h<=2279;h++)P[h]=2;for(h=2280;h<=2282;h++)P[h]=1;for(h=2283;h<=2289;h++)P[h]=2;for(h=2290;h<=2292;h++)P[h]=0;for(h=2308;h<=2313;h++)P[h]=0;for(h=2315;h<=2491;h++)P[h]=0;for(h=2494;h<=2866;h++)P[h]=0;for(h=2867;h<=2869;h++)P[h]=1;for(h=2870;h<=2888;h++)P[h]=2;for(h=2891;h<=2895;h++)P[h]=2;for(h=2896;h<=2898;h++)P[h]=1;for(h=2902;h<=2908;h++)P[h]=2;for(h=2915;h<=2920;h++)P[h]=2;for(h=2921;h<=2923;h++)P[h]=1;for(h=2924;h<=2930;h++)P[h]=2;for(h=2931;h<=2962;h++)P[h]=0;for(h=2964;h<=2968;h++)P[h]=2;for(h=2969;h<=2973;h++)P[h]=0;for(h=2975;h<=2991;h++)P[h]=0;for(h=2995;h<=3051;h++)P[h]=0;for(h=3054;h<=3079;h++)P[h]=0;for(h=3081;h<=3088;h++)P[h]=0;for(h=3092;h<=3101;h++)P[h]=0;for(h=3106;h<=3138;h++)P[h]=0;for(h=3146;h<=3151;h++)P[h]=0;for(h=3153;h<=3166;h++)P[h]=0;for(h=3168;h<=3172;h++)P[h]=0;for(h=3174;h<=3203;h++)P[h]=0;for(h=3294;h<=3358;h++)P[h]=0;for(h=3367;h<=3403;h++)P[h]=0;for(h=3408;h<=3416;h++)P[h]=0;for(h=3417;h<=3438;h++)P[h]=2;for(h=3441;h<=3446;h++)P[h]=2;for(h=3447;h<=3450;h++)P[h]=0;for(h=3451;h<=3459;h++)P[h]=2;for(h=3460;h<=3478;h++)P[h]=0;for(h=3554;h<=3559;h++)P[h]=0;for(h=3560;h<=3570;h++)P[h]=2;for(h=3571;h<=3581;h++)P[h]=0;for(h=3594;h<=3597;h++)P[h]=0;for(h=3601;h<=3604;h++)P[h]=0;for(h=3637;h<=3639;h++)P[h]=0;for(h=3665;h<=3667;h++)P[h]=0;for(h=3693;h<=3695;h++)P[h]=0;for(h=3701;h<=3727;h++)P[h]=0;for(h=3728;h<=3739;h++)P[h]=2;for(h=3740;h<=3751;h++)P[h]=0;for(h=3753;h<=3760;h++)P[h]=2;for(h=3761;h<=3773;h++)P[h]=0;for(h=3775;h<=3777;h++)P[h]=0;for(h=3779;h<=3781;h++)P[h]=0;for(h=3783;h<=3785;h++)P[h]=0;for(h=3788;h<=3791;h++)P[h]=0;for(h=3797;h<=3802;h++)P[h]=0;for(h=3814;h<=3816;h++)P[h]=0;for(h=3825;h<=3829;h++)P[h]=0;for(h=3832;h<=3841;h++)P[h]=0;for(h=3844;h<=3852;h++)P[h]=0;for(h=3873;h<=3885;h++)P[h]=0;for(h=3890;h<=3893;h++)P[h]=0;for(h=3907;h<=3912;h++)P[h]=0;for(h=3942;h<=3950;h++)P[h]=0;for(h=3968;h<=3970;h++)P[h]=0;for(h=3973;h<=3976;h++)P[h]=0;for(h=3986;h<=3989;h++)P[h]=0;for(h=3994;h<=3997;h++)P[h]=0;for(h=4048;h<=4051;h++)P[h]=0;for(h=4056;h<=4063;h++)P[h]=0;for(h=4093;h<=4096;h++)P[h]=0;for(h=4390;h<=4398;h++)P[h]=0;for(h=4399;h<=4413;h++)P[h]=2;for(h=4418;h<=4433;h++)P[h]=2;for(h=4455;h<=4457;h++)P[h]=2;for(h=4484;h<=4489;h++)P[h]=0;for(h=4491;h<=4554;h++)P[h]=0;for(h=4568;h<=4589;h++)P[h]=0;for(h=4652;h<=4656;h++)P[h]=0;for(h=4766;h<=4800;h++)P[h]=0;for(h=5014;h<=5016;h++)P[h]=0;for(h=5069;h<=5072;h++)P[h]=0;for(h=5105;h<=5130;h++)P[h]=0;for(h=5167;h<=5188;h++)P[h]=0;for(h=5253;h<=5259;h++)P[h]=0;for(h=5269;h<=5275;h++)P[h]=0;for(h=5292;h<=5311;h++)P[h]=0;for(h=5329;h<=5331;h++)P[h]=0;for(h=5343;h<=5349;h++)P[h]=0;for(h=5355;h<=5357;h++)P[h]=0;for(h=5387;h<=5389;h++)P[h]=0;for(h=5459;h<=5463;h++)P[h]=0;for(h=5479;h<=5482;h++)P[h]=0;for(h=5518;h<=5520;h++)P[h]=0;for(h=5530;h<=5539;h++)P[h]=0;for(h=5550;h<=5552;h++)P[h]=0;for(h=5562;h<=5583;h++)P[h]=0;for(h=5623;h<=5625;h++)P[h]=2;for(h=5631;h<=5639;h++)P[h]=0;for(h=5649;h<=5653;h++)P[h]=0;for(h=5663;h<=5680;h++)P[h]=0;for(h=5682;h<=5685;h++)P[h]=0;for(h=5875;h<=5877;h++)P[h]=0;for(h=5896;h<=5899;h++)P[h]=0;for(h=5921;h<=5940;h++)P[h]=0;for(h=6050;h<=6125;h++)P[h]=0;for(h=6244;h<=6275;h++)P[h]=0;for(h=6328;h<=6348;h++)P[h]=0;for(h=6350;h<=6356;h++)P[h]=0;for(h=6366;h<=6372;h++)P[h]=0;for(h=6381;h<=6387;h++)P[h]=0;for(h=6393;h<=6404;h++)P[h]=0;for(h=6480;h<=6483;h++)P[h]=0;for(h=6511;h<=6514;h++)P[h]=0;for(h=6579;h<=6581;h++)P[h]=0;for(h=6619;h<=6624;h++)P[h]=0;for(h=6625;h<=6627;h++)P[h]=2;for(h=6628;h<=6632;h++)P[h]=0;for(h=6634;h<=6637;h++)P[h]=0;for(h=6669;h<=6692;h++)P[h]=0;for(h=6707;h<=6709;h++)P[h]=0;for(h=6720;h<=6723;h++)P[h]=0;for(h=6732;h<=6738;h++)P[h]=0;for(h=6931;h<=6933;h++)P[h]=0;for(h=6956;h<=6959;h++)P[h]=0;for(h=7005;h<=7007;h++)P[h]=0;for(h=7057;h<=7070;h++)P[h]=2;for(h=7074;h<=7082;h++)P[h]=0;for(h=7109;h<=7118;h++)P[h]=0;for(h=7119;h<=7127;h++)P[h]=1;for(h=7374;h<=7376;h++)P[h]=0;for(h=7528;h<=7586;h++)P[h]=0;for(h=7587;h<=7645;h++)P[h]=2;for(h=7692;h<=7696;h++)P[h]=0;for(h=7755;h<=7787;h++)P[h]=0;for(h=7791;h<=7795;h++)P[h]=0;for(h=7799;h<=7801;h++)P[h]=0;for(h=7803;h<=7805;h++)P[h]=0;for(h=7825;h<=7831;h++)P[h]=0;for(h=7845;h<=7859;h++)P[h]=0;for(h=8013;h<=8032;h++)P[h]=0;for(h=8065;h<=8068;h++)P[h]=1;for(h=8518;h<=8529;h++)P[h]=2;for(h=8533;h<=8536;h++)P[h]=2;for(h=8538;h<=8540;h++)P[h]=2;for(h=8677;h<=8679;h++)P[h]=0;for(h=8836;h<=8840;h++)P[h]=0;for(h=8857;h<=8859;h++)P[h]=0;for(h=8908;h<=8910;h++)P[h]=0;for(h=9154;h<=9159;h++)P[h]=0;for(h=9205;h<=9218;h++)P[h]=0;for(h=9271;h<=9273;h++)P[h]=0;for(h=9295;h<=9297;h++)P[h]=0;for(h=9356;h<=9360;h++)P[h]=0;for(h=9404;h<=9407;h++)P[h]=0;for(h=9476;h<=9482;h++)P[h]=0;for(h=9487;h<=9494;h++)P[h]=0;for(h=9697;h<=9699;h++)P[h]=0;for(h=9821;h<=9865;h++)P[h]=0;for(h=10285;h<=10291;h++)P[h]=0;for(h=10314;h<=10317;h++)P[h]=0;for(h=10448;h<=10465;h++)P[h]=0;for(h=10731;h<=10733;h++)P[h]=0;for(h=11114;h<=11118;h++)P[h]=0;for(h=20004;h<=20032;h++)P[h]=0;for(h=20047;h<=20049;h++)P[h]=0;for(h=20062;h<=20092;h++)P[h]=0;for(h=20135;h<=20138;h++)P[h]=0;for(h=20248;h<=20258;h++)P[h]=0;for(h=20348;h<=20358;h++)P[h]=0;for(h=20436;h<=20440;h++)P[h]=0;for(h=20822;h<=20824;h++)P[h]=0;for(h=20904;h<=20932;h++)P[h]=0;for(h=20934;h<=20936;h++)P[h]=0;for(h=21004;h<=21032;h++)P[h]=0;for(h=21035;h<=21037;h++)P[h]=0;for(h=21095;h<=21097;h++)P[h]=0;for(h=21148;h<=21150;h++)P[h]=0;for(h=21207;h<=21264;h++)P[h]=0;for(h=21307;h<=21364;h++)P[h]=0;for(h=21413;h<=21423;h++)P[h]=0;for(h=21453;h<=21463;h++)P[h]=0;for(h=21473;h<=21483;h++)P[h]=0;for(h=21780;h<=21782;h++)P[h]=0;for(h=21891;h<=21894;h++)P[h]=0;for(h=21896;h<=21899;h++)P[h]=0;for(h=22171;h<=22177;h++)P[h]=0;for(h=22181;h<=22187;h++)P[h]=0;for(h=22191;h<=22197;h++)P[h]=0;for(h=22207;h<=22222;h++)P[h]=0;for(h=22229;h<=22232;h++)P[h]=0;for(h=22234;h<=22236;h++)P[h]=0;for(h=22243;h<=22250;h++)P[h]=0;for(h=22262;h<=22265;h++)P[h]=0;for(h=22307;h<=22322;h++)P[h]=0;for(h=22348;h<=22357;h++)P[h]=0;for(h=22407;h<=22422;h++)P[h]=0;for(h=22462;h<=22465;h++)P[h]=0;for(h=22521;h<=22525;h++)P[h]=0;for(h=22607;h<=22622;h++)P[h]=0;for(h=22641;h<=22646;h++)P[h]=0;for(h=22648;h<=22657;h++)P[h]=0;for(h=22707;h<=22722;h++)P[h]=0;for(h=22762;h<=22765;h++)P[h]=0;for(h=22807;h<=22822;h++)P[h]=0;for(h=22991;h<=22994;h++)P[h]=0;for(h=23028;h<=23038;h++)P[h]=0;for(h=23301;h<=23333;h++)P[h]=2;for(h=23830;h<=23853;h++)P[h]=0;for(h=23866;h<=23872;h++)P[h]=0;for(h=23877;h<=23884;h++)P[h]=0;for(h=23886;h<=23894;h++)P[h]=0;for(h=23946;h<=23948;h++)P[h]=0;for(h=24311;h<=24313;h++)P[h]=0;for(h=24342;h<=24347;h++)P[h]=0;for(h=24370;h<=24374;h++)P[h]=10;for(h=24375;h<=24381;h++)P[h]=0;for(h=24718;h<=24721;h++)P[h]=0;for(h=24817;h<=24821;h++)P[h]=0;for(h=24877;h<=24882;h++)P[h]=0;for(h=24891;h<=24893;h++)P[h]=0;for(h=25391;h<=25395;h++)P[h]=0;for(h=25828;h<=25838;h++)P[h]=0;for(h=26191;h<=26195;h++)P[h]=0;for(h=26391;h<=26393;h++)P[h]=0;for(h=26701;h<=26722;h++)P[h]=0;for(h=26729;h<=26799;h++)P[h]=2;for(h=26801;h<=26803;h++)P[h]=2;for(h=26811;h<=26813;h++)P[h]=2;for(h=26847;h<=26870;h++)P[h]=2;for(h=26891;h<=26899;h++)P[h]=0;for(h=26901;h<=26923;h++)P[h]=0;for(h=26929;h<=26946;h++)P[h]=0;for(h=26948;h<=26998;h++)P[h]=0;for(h=27037;h<=27040;h++)P[h]=0;for(h=27205;h<=27232;h++)P[h]=0;for(h=27258;h<=27260;h++)P[h]=0;for(h=27391;h<=27398;h++)P[h]=0;for(h=27561;h<=27564;h++)P[h]=0;for(h=27571;h<=27574;h++)P[h]=0;for(h=27581;h<=27584;h++)P[h]=0;for(h=27591;h<=27594;h++)P[h]=0;for(h=27700;h<=27707;h++)P[h]=0;for(h=28191;h<=28193;h++)P[h]=0;for(h=28348;h<=28358;h++)P[h]=0;for(h=28402;h<=28432;h++)P[h]=0;for(h=28462;h<=28492;h++)P[h]=0;for(h=29118;h<=29122;h++)P[h]=0;for(h=29168;h<=29172;h++)P[h]=0;for(h=29177;h<=29185;h++)P[h]=0;for(h=29187;h<=29195;h++)P[h]=0;for(h=29900;h<=29903;h++)P[h]=0;for(h=30161;h<=30179;h++)P[h]=0;for(h=30491;h<=30494;h++)P[h]=0;for(h=30729;h<=30732;h++)P[h]=0;for(h=31251;h<=31259;h++)P[h]=0;for(h=31265;h<=31268;h++)P[h]=0;for(h=31275;h<=31279;h++)P[h]=0;for(h=31281;h<=31297;h++)P[h]=0;for(h=31461;h<=31469;h++)P[h]=0;for(h=31491;h<=31495;h++)P[h]=0;for(h=31917;h<=31922;h++)P[h]=0;for(h=31965;h<=32e3;h++)P[h]=0;for(h=32001;h<=32003;h++)P[h]=2;for(h=32005;h<=32031;h++)P[h]=2;for(h=32033;h<=32060;h++)P[h]=2;for(h=32064;h<=32067;h++)P[h]=2;for(h=32074;h<=32077;h++)P[h]=2;for(h=32081;h<=32086;h++)P[h]=0;for(h=32107;h<=32130;h++)P[h]=0;for(h=32133;h<=32159;h++)P[h]=0;for(h=32164;h<=32167;h++)P[h]=2;for(h=32180;h<=32199;h++)P[h]=0;for(h=32201;h<=32260;h++)P[h]=0;for(h=32301;h<=32360;h++)P[h]=0;for(h=32401;h<=32460;h++)P[h]=0;for(h=32501;h<=32560;h++)P[h]=0;for(h=32601;h<=32662;h++)P[h]=0;for(h=32664;h<=32667;h++)P[h]=2;for(h=32701;h<=32761;h++)P[h]=0;for(h=53001;h<=53004;h++)P[h]=0;for(h=53008;h<=53019;h++)P[h]=0;for(h=53021;h<=53032;h++)P[h]=0;for(h=53034;h<=53037;h++)P[h]=0;for(h=53042;h<=53046;h++)P[h]=0;for(h=53074;h<=53080;h++)P[h]=0;for(h=54001;h<=54004;h++)P[h]=0;for(h=54008;h<=54019;h++)P[h]=0;for(h=54021;h<=54032;h++)P[h]=0;for(h=54034;h<=54037;h++)P[h]=0;for(h=54042;h<=54046;h++)P[h]=0;for(h=54048;h<=54053;h++)P[h]=0;for(h=54074;h<=54080;h++)P[h]=0;for(h=54098;h<=54101;h++)P[h]=0;for(h=102001;h<=102040;h++)P[h]=0;for(h=102042;h<=102063;h++)P[h]=0;for(h=102065;h<=102067;h++)P[h]=0;for(h=102070;h<=102117;h++)P[h]=0;for(h=102122;h<=102216;h++)P[h]=0;for(h=102221;h<=102377;h++)P[h]=0;for(h=102382;h<=102388;h++)P[h]=0;for(h=102389;h<=102398;h++)P[h]=2;for(h=102399;h<=102444;h++)P[h]=0;for(h=102445;h<=102447;h++)P[h]=2;for(h=102448;h<=102458;h++)P[h]=0;for(h=102459;h<=102468;h++)P[h]=2;for(h=102469;h<=102499;h++)P[h]=0;for(h=102500;h<=102519;h++)P[h]=1;for(h=102520;h<=102524;h++)P[h]=0;for(h=102525;h<=102529;h++)P[h]=2;for(h=102530;h<=102588;h++)P[h]=0;for(h=102590;h<=102598;h++)P[h]=0;for(h=102601;h<=102603;h++)P[h]=0;for(h=102605;h<=102628;h++)P[h]=0;for(h=102629;h<=102646;h++)P[h]=2;for(h=102648;h<=102700;h++)P[h]=2;for(h=102701;h<=102703;h++)P[h]=0;for(h=102707;h<=102730;h++)P[h]=2;for(h=102733;h<=102758;h++)P[h]=2;for(h=102767;h<=102900;h++)P[h]=0;for(h=102901;h<=102933;h++)P[h]=2;for(h=102934;h<=102950;h++)P[h]=13;for(h=102951;h<=102963;h++)P[h]=0;for(h=102965;h<=102969;h++)P[h]=0;for(h=102971;h<=102973;h++)P[h]=0;for(h=102975;h<=102989;h++)P[h]=0;for(h=102990;h<=102992;h++)P[h]=1;for(h=102997;h<=103002;h++)P[h]=0;for(h=103003;h<=103008;h++)P[h]=2;for(h=103009;h<=103011;h++)P[h]=0;for(h=103012;h<=103014;h++)P[h]=2;for(h=103019;h<=103021;h++)P[h]=0;for(h=103022;h<=103024;h++)P[h]=2;for(h=103029;h<=103031;h++)P[h]=0;for(h=103032;h<=103034;h++)P[h]=2;for(h=103065;h<=103068;h++)P[h]=0;for(h=103074;h<=103076;h++)P[h]=0;for(h=103077;h<=103079;h++)P[h]=1;for(h=103080;h<=103082;h++)P[h]=0;for(h=103083;h<=103085;h++)P[h]=2;for(h=103090;h<=103093;h++)P[h]=0;for(h=103097;h<=103099;h++)P[h]=0;for(h=103100;h<=103102;h++)P[h]=2;for(h=103107;h<=103109;h++)P[h]=0;for(h=103110;h<=103112;h++)P[h]=2;for(h=103113;h<=103116;h++)P[h]=0;for(h=103117;h<=103120;h++)P[h]=2;for(h=103153;h<=103157;h++)P[h]=0;for(h=103158;h<=103162;h++)P[h]=2;for(h=103163;h<=103165;h++)P[h]=0;for(h=103166;h<=103168;h++)P[h]=1;for(h=103169;h<=103171;h++)P[h]=2;for(h=103186;h<=103188;h++)P[h]=0;for(h=103189;h<=103191;h++)P[h]=2;for(h=103192;h<=103195;h++)P[h]=0;for(h=103196;h<=103199;h++)P[h]=2;for(h=103200;h<=103224;h++)P[h]=0;for(h=103225;h<=103227;h++)P[h]=1;for(h=103232;h<=103237;h++)P[h]=0;for(h=103238;h<=103243;h++)P[h]=2;for(h=103244;h<=103246;h++)P[h]=0;for(h=103247;h<=103249;h++)P[h]=2;for(h=103254;h<=103256;h++)P[h]=0;for(h=103257;h<=103259;h++)P[h]=2;for(h=103264;h<=103266;h++)P[h]=0;for(h=103267;h<=103269;h++)P[h]=2;for(h=103300;h<=103375;h++)P[h]=0;for(h=103381;h<=103383;h++)P[h]=0;for(h=103384;h<=103386;h++)P[h]=1;for(h=103387;h<=103389;h++)P[h]=0;for(h=103390;h<=103392;h++)P[h]=2;for(h=103397;h<=103399;h++)P[h]=0;for(h=103400;h<=103471;h++)P[h]=2;for(h=103476;h<=103478;h++)P[h]=0;for(h=103479;h<=103481;h++)P[h]=2;for(h=103486;h<=103488;h++)P[h]=0;for(h=103489;h<=103491;h++)P[h]=2;for(h=103492;h<=103495;h++)P[h]=0;for(h=103496;h<=103499;h++)P[h]=2;for(h=103528;h<=103543;h++)P[h]=0;for(h=103544;h<=103548;h++)P[h]=2;for(h=103549;h<=103551;h++)P[h]=0;for(h=103552;h<=103554;h++)P[h]=1;for(h=103555;h<=103557;h++)P[h]=2;for(h=103558;h<=103560;h++)P[h]=0;for(h=103571;h<=103573;h++)P[h]=0;for(h=103574;h<=103576;h++)P[h]=2;for(h=103577;h<=103580;h++)P[h]=0;for(h=103581;h<=103583;h++)P[h]=2;for(h=103595;h<=103694;h++)P[h]=0;for(h=103696;h<=103699;h++)P[h]=0;for(h=103700;h<=103793;h++)P[h]=2;for(h=103794;h<=103890;h++)P[h]=0;for(h=103891;h<=103896;h++)P[h]=2;for(h=103900;h<=103971;h++)P[h]=2;for(h=103972;h<=103977;h++)P[h]=0;for(h=112e3;h<=112101;h++)P[h]=0;const xM=[102100,102113,3857,3785,900913],hW=[104905,104971],pW=[4326,...xM,...hW],Md=[-20037508342788905e-9,20037508342788905e-9],y_=[-20037508342787e-6,20037508342787e-6],g_={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Md,origin:y_,dx:1e-5},SM={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Md,origin:y_,dx:1e-5},102100:g_,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Md,origin:y_,dx:1e-5},3857:g_,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:g_};function Ca(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const n=t.wkid,i=e.wkid;if(n!=null||i!=null){if(n===i||Ma(t)&&Ma(e))return!0;const o=t.latestWkid;if(o!=null&&i===o)return!0;const a=e.latestWkid;return a!=null&&n===a}let r,s;return t.wkt2&&e.wkt2?(r=t.wkt2,s=e.wkt2):t.wkt&&e.wkt&&(r=t.wkt,s=e.wkt),!(!r||!s)&&r.toUpperCase()===s.toUpperCase()}function Ku(t){const e=t?.wkid;return e!=null&&e>=2e3&&SM[e]||null}function dW(t){if(!t)return;const{wkid:e,vcsWkid:n}=t;if(e)return n?JSON.stringify({wkid:e,vcsWkid:n}):String(e);const i=t.wkt||t.wkt2;return JSON.stringify(i?n?{wkt:i,vcsWkid:n}:{wkt:i}:{})}function Cy(t){if(!v_(t))return!1;const{wkid:e}=t;if(e)return P[e]==null;const n=t.wkt2||t.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function AM(t){return!(EM(t)||TM(t))}function Id(t){return t?.wkid===4326}function fW(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function mW(t){return t?.wkid===lc.CGCS2000}function Ma(t){const e=t?.wkid;return e!=null&&e>=2e3&&xM.includes(e)}function yW(t){return t?.wkid===32662}function Od(t){return t===lc.GCSMARS2000||t===lc.GCSMARS2000_SPHERE}function EM(t){return Od(t?.wkid)}function Pd(t){return t===lc.GCSMOON2000}function TM(t){return Pd(t?.wkid)}function CM(t){const e=t?.wkid;return e!=null&&e>=2e3&&pW.includes(e)}function v_(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const b_={wkid:4326,wkt:l2(SM[4326].wkTemplate,{Central_Meridian:"0.0"})},__={wkid:102100,latestWkid:3857},gW={wkid:32662};function w_(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const MM=w_(Mr),x_=w_(qu),S_=w_(Ad),vW={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Mr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},bW=x_.wkt.toUpperCase(),_W=S_.wkt.toUpperCase();function IM(t){if(t!=null&&v_(t)){const e=t.wkid,n=t.wkt2??t.wkt;if(Od(e))return qu;const i=n?.toUpperCase();if(n&&i===bW)return qu;if(Pd(e)||i&&i===_W)return Ad}return Mr}function wW(t){return Od(t)?qu:Pd(t)?Ad:Mr}function OM(t){return Ca(t,MM)}function xW(t){return OM(t)||Ca(t,x_)||Ca(t,S_)}const SW=39.37,AW=Mr.radius*Math.PI/200,PM=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,cc=P,NM=/UNIT\[([^\]]+)]/i,EW=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),TW=Cr()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),js=t=>t*t,Ia=t=>t*t*t,Nd={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:js(.001)},"square-centimeters":{inBaseUnits:js(.01)},"square-decimeters":{inBaseUnits:js(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:js(1e3)},"square-inches":{inBaseUnits:js(.0254)},"square-feet":{inBaseUnits:js(.3048)},"square-yards":{inBaseUnits:js(.9144)},"square-miles":{inBaseUnits:js(1609.344)},"square-us-feet":{inBaseUnits:js(1200/3937)},acres:{inBaseUnits:.0015625*js(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ia(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ia(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ia(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ia(1e3)},"cubic-inches":{inBaseUnits:1e3*Ia(.0254)},"cubic-feet":{inBaseUnits:1e3*Ia(.3048)},"cubic-yards":{inBaseUnits:1e3*Ia(.9144)},"cubic-miles":{inBaseUnits:1e3*Ia(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},CW=(()=>{const t={};for(const e in Nd)for(const n in Nd[e].units)t[n]=e;return t})();function MW(t,e,n){return t*Nd[n].units[e].inBaseUnits}function IW(t,e,n){return t/Nd[n].units[e].inBaseUnits}const LM=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],OW=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function My(t){const e=CW[t];if(!e)throw new Error("unknown type");return e}function kM(t,e=null){return e=e||My(t),Nd[e].baseUnit===t}function Oa(t,e,n){if(e===n)return t;const i=My(e);if(i!==My(n))throw new Error("incompatible units");const r=kM(e,i)?t:MW(t,e,i);return kM(n,i)?r:IW(r,n,i)}function RM(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function PW(t){return RM(t)}function NW(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function LW(t,e){const n=Oa(t,e,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function kW(t,e){const n=Oa(t,e,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function RW(t,e){const n=Oa(t,e,"feet");return Math.abs(n)<1e3?"feet":"miles"}function DW(t,e){const n=Oa(t,e,"feet");return Math.abs(n)<1e5?"feet":"miles"}function FW(t,e){const n=Oa(t,e,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function UW(t,e){const n=Oa(t,e,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function $W(t,e,n){return Oa(t,e,"meters")/(n*Math.PI/180)}function DM(t){return TW.fromJSON(t.toLowerCase())||null}function GW(t){if(t!=null&&!AM(t))return 1;const e=Ld(t);return e>1e5?1:e}function FM(t){return Ld(t)>=IM(t).metersPerDegree?"meters":Xu(t)}function Ld(t,e=Mr.metersPerDegree){return UM(t,!0)??e}function UM(t,e=!1){const n=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let r=null;if(n){if(Od(n))return qu.metersPerDegree;if(Pd(n))return Ad.metersPerDegree;r=cc.values[cc[n]],!r&&e&&EW.has(n)&&(r=AW)}else i&&(A_(i)?r=$M(PM.exec(i),r):jM(i)&&(r=$M(NM.exec(i),r)));return r}function jW(t){return Cy(t)?1:Ld(t)}function $M(t,e){return t?.[1]?GM(t[1]):e}function GM(t){return parseFloat(t.split(",")[1])}function Xu(t){const e=t?.wkid??null,n=t?.wkt2??t?.wkt??null;let i=null;if(e)i=cc.units[cc[e]];else if(n){const r=A_(n)?PM:jM(n)?NM:null;if(r){const s=r.exec(n);s?.[1]&&(i=VW(s[1]))}}return i!=null?DM(i):null}function BW(t){const e=Xu(t);return e!=null&&LM.includes(e)?e:null}function WW(t){const e=FM(t);return e!=null&&LM.includes(e)?e:null}function zW(t){const e=Xu(t);return e==null?null:OW.get(e)}function jM(t){return/^GEOCCS/i.test(t)}function A_(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const qW=1e-7;function VW(t){let e=/[\\"']{1}([^\\"']+)/.exec(t)?.[1];if(!e||!cc.units.includes(e)){const n=GM(t);e=null;const i=cc.values;for(let r=0;r<i.length;++r)if(Math.abs(n-i[r])<qW){e=cc.units[r];break}}return e}function HW(t){const e=Xu(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const YW={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},JW={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},ZW={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},KW=Cr()(YW),XW=Cr()(JW),QW=Cr()(ZW);function en(t,e,n){let i,r;return e===void 0?(r=t,i=[void 0]):typeof e!="string"?(r=t,i=[void 0],n=e):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of i){const c=f2(s,l,r);c.write&&typeof c.write=="object"||(c.write={}),n&&(c.write.target=n),c.write.writer=a[o]}}}var Bs;let Se=Bs=class extends ee{static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return Bs.WebMercator;if(t?.wkid===4326)return Bs.WGS84;const e=new Bs;return e.read(t),e}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Id(this)}get isWebMercator(){return Ma(this)}get isGeographic(){return Cy(this)}get isWrappable(){return CM(this)}get metersPerUnit(){return Ld(this)}get unit(){return Xu(this)||(this.isGeographic?"degrees":null)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===Bs.WGS84)return new Bs(b_);if(this===Bs.WebMercator)return new Bs(__);const t=new Bs;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=gt(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:e,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,r=this.imageCoordinateSystem;return e==null||i?JSON.stringify(r)===JSON.stringify(t.imageCoordinateSystem):n?r.id===e&&r.referenceServiceName===n:r.id===e}return Ca(this,t)}toJSON(t){return this.write(void 0,t)}};Se.GCS_NAD_1927=null,Se.WGS84=null,Se.WebMercator=null,Se.PlateCarree=null,v([E({readOnly:!0})],Se.prototype,"isWGS84",null),v([E({readOnly:!0})],Se.prototype,"isWebMercator",null),v([E({readOnly:!0})],Se.prototype,"isGeographic",null),v([E({readOnly:!0})],Se.prototype,"isWrappable",null),v([E({type:On,json:{write:!0}})],Se.prototype,"latestWkid",void 0),v([E({readOnly:!0})],Se.prototype,"metersPerUnit",null),v([E({readOnly:!0})],Se.prototype,"unit",null),v([E({type:On,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Se.prototype,"wkid",void 0),v([E({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Se.prototype,"wkt",void 0),v([en("wkt"),en("web-scene","wkt")],Se.prototype,"writeWkt",null),v([E({type:String,json:{write:!1}})],Se.prototype,"wkt2",void 0),v([E({type:On,json:{write:!0}})],Se.prototype,"vcsWkid",void 0),v([E({type:On,json:{write:!0}})],Se.prototype,"latestVcsWkid",void 0),v([E()],Se.prototype,"imageCoordinateSystem",void 0),Se=Bs=v([rt("esri.geometry.SpatialReference")],Se),Se.prototype.toJSON.isDefaultToJSON=!0,Se.GCS_NAD_1927=$n.freeze(new Se({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Se.WGS84=$n.freeze(new Se(b_)),Se.WebMercator=$n.freeze(new Se(__)),Se.PlateCarree=$n.freeze(new Se(gW));const Pn=Se;let Ws=class extends ee{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Pn.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof Pn)return t;if(t!=null){const n=new Pn;return n.read(t,e),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};v([E()],Ws.prototype,"type",void 0),v([E({readOnly:!0})],Ws.prototype,"cache",null),v([E({readOnly:!0})],Ws.prototype,"extent",null),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ws.prototype,"hasM",void 0),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ws.prototype,"hasZ",void 0),v([E({type:Pn,json:{write:!0},value:Pn.WGS84})],Ws.prototype,"spatialReference",void 0),v([Gn("spatialReference")],Ws.prototype,"readSpatialReference",null),Ws=v([rt("esri.geometry.Geometry")],Ws);const Pa=Ws,tz=Object.prototype.toString;function ez(t){const e="__accessorMetadata__"in t?Tr(t):t;return function(...n){if(n.push(e),typeof n[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return nz.apply(this,n)}}function nz(t,e,n,i){fd(t,e).cast=i}function iz(t){return(e,n)=>{fd(e,t).cast=e[n]}}function Qu(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&tz.call(t[0])==="[object Function]"?ez(t[0]):t.length===1&&typeof t[0]=="string"?iz(t[0]):void 0}const rz=57.29577951308232,sz=.017453292519943;function BM(t){return t*rz}function WM(t){return t*sz}function oz(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Mr.radius))}function E_(t){return t.wkid!=null||t.wkt!=null}const T_=[0,0];function Iy(t,e,n,i,r){const s=t,o=r;if(o.spatialReference=n,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,T_,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,T_,i),[o.xmax,o.ymax]=e(s.xmax,s.ymax,T_,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let p=0;p<a.length;p++){const d=a[p];c=[],l.push(c);for(let f=0;f<d.length;f++)c.push(e(d[f][0],d[f][1],[0,0],i)),d[f].length>2&&c[f].push(d[f][2]),d[f].length>3&&c[f].push(d[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=e(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return r}function kd(t,e){const n=t&&(E_(t)?t:t.spatialReference),i=e&&(E_(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!n||!i)&&(!!Ca(i,n)||Ma(i)&&Id(n)||Ma(n)&&Id(i))}function C_(t,e){if(t==null)return null;const n=t.spatialReference,i=e&&(E_(e)?e:e.spatialReference);return kd(n,i)?Ca(n,i)?gt(t):Ma(i)?Iy(t,uc,Pn.WebMercator,!1,gt(t)):Id(i)?Iy(t,Rd,Pn.WGS84,!1,gt(t)):null:null}function uc(t,e,n=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const i=WM(e);return n[0]=WM(t)*Mr.radius,n[1]=Mr.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),n}function Rd(t,e,n=[0,0],i=!1){if(t===Md[0])n[0]=-180;else if(t===Md[1])n[0]=180;else{const r=BM(t/Mr.radius);n[0]=i?r:r-360*Math.floor((r+180)/360)}return n[1]=BM(Math.PI/2-2*Math.atan(Math.exp(-e/Mr.radius))),n}function Oy(t,e=!1,n=gt(t)){return Iy(t,uc,Pn.WebMercator,e,n)}function Dd(t,e=!1,n=gt(t)){return Iy(t,Rd,Pn.WGS84,e,n)}function zM(t,e){const n=t.x-e.x,i=t.y-e.y,r=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(n*n+i*i+r*r)}function az(t){return M_(t,qM)?.[0]??null}function lz(t){return M_(t,qM)?.[1]??null}function M_({x:t,y:e,spatialReference:n},i=[0,0]){if(n){if(Ma(n))return Rd(t,e,i);if(Cy(n))return i[0]=t,i[1]=e,i}return null}const qM=[0,0];var Py;const I_=[0,0];function VM(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Ci=Py=class extends Pa{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const n=t._get("spatialReference");e._set("spatialReference",$n.isFrozen(n)?n:n.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,n,i,r){let s;if(Array.isArray(t))s=t,r=e,t=s[0],e=s[1],n=s[2],i=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,n=s.z,i=s.m,(r=s.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new Pn(r)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)ke.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)ke.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r?.isWebMercator){const a=uc(s.longitude,s.latitude,I_);t=a[0],e=a[1]}}}else VM(n)?(r=n,n=null):VM(i)&&(r=i,i=null);const o={x:t,y:e};return o.x==null&&o.y!=null?ke.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&ke.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),n!=null&&(o.z=n),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return lz(this)}set latitude(t){const{spatialReference:e,x:n}=this;t!=null&&e&&(e.isWebMercator?this._set("y",uc(n,t,I_)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return az(this)}set longitude(t){const{y:e,spatialReference:n}=this;t!=null&&n&&(n.isWebMercator?this._set("x",uc(t,e,I_)[0]):n.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,n){e[n]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new Py;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return Py.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:n,z:i,m:r,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:c,spatialReference:p}=t;if(!s.equals(p))if(s.isWebMercator&&p.isWGS84)[l,c]=uc(l,c),p=s;else{if(!s.isWGS84||!p.isWebMercator)return!1;[l,c]=Rd(l,c),p=s}return e===l&&n===c&&i===o&&r===a&&s.wkid===p.wkid}offset(t,e,n){return this.x+=t,this.y+=e,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const t=Ku(this.spatialReference);if(!t)return this;let e=this.x;const[n,i]=t.valid,r=2*i;let s;return e>i?(s=Math.ceil(Math.abs(e-i)/r),e-=s*r):e<n&&(s=Math.ceil(Math.abs(e-n)/r),e+=s*r),this._set("x",e),this}distance(t){return zM(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],Ci.prototype,"cache",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ci.prototype,"hasM",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ci.prototype,"hasZ",null),v([E({type:Number})],Ci.prototype,"latitude",null),v([E({type:Number})],Ci.prototype,"longitude",null),v([E({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Qu(t=>isNaN(t)?t:ud(t))],Ci.prototype,"x",void 0),v([en("x")],Ci.prototype,"writeX",null),v([Gn("x")],Ci.prototype,"readX",null),v([E({type:Number,json:{write:!0}})],Ci.prototype,"y",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ci.prototype,"z",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ci.prototype,"m",void 0),Ci=Py=v([rt("esri.geometry.Point")],Ci),Ci.prototype.toJSON.isDefaultToJSON=!0;const wn=Ci,O_=[0,0];function P_(t,e){return e!=null&&Mi(t,e.x,e.y,e.z)}function cz(t,e){if(!e.points||e.points.length)return!1;for(const n of e.points)if(!th(t,n))return!1;return!0}function uz(t,e){const{xmin:n,ymin:i,zmin:r,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?Mi(t,n,i,r)&&Mi(t,n,o,r)&&Mi(t,s,o,r)&&Mi(t,s,i,r)&&Mi(t,n,i,a)&&Mi(t,n,o,a)&&Mi(t,s,o,a)&&Mi(t,s,i,a):Mi(t,n,i)&&Mi(t,n,o)&&Mi(t,s,o)&&Mi(t,s,i)}function th(t,e){return Mi(t,e[0],e[1])}function hz(t,e){return Mi(t,e[0],e[1],e[2])}function Mi(t,e,n,i){return e>=t.xmin&&e<=t.xmax&&n>=t.ymin&&n<=t.ymax&&(i==null||!t.hasZ||i>=t.zmin&&i<=t.zmax)}function HM(t,e){return O_[1]=e.y,O_[0]=e.x,pz(t,O_)}function pz(t,e){return N_(t.rings,e)}function N_(t,e){if(!t)return!1;if(dz(t))return YM(!1,t,e);let n=!1;for(let i=0,r=t.length;i<r;i++)n=YM(n,t[i],e);return n}function dz(t){return!Array.isArray(t[0][0])}function YM(t,e,n){const[i,r]=n;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[c,p]=e[a],[d,f]=e[o];(p<r&&f>=r||f<r&&p>=r)&&c+(r-p)/(f-p)*(d-c)<i&&(s=!s)}return s}function fz(t,e){return P_(t,e)}function JM(t,e){const n=t.hasZ&&e.hasZ;let i,r,s;if(t.xmin<=e.xmin){if(i=e.xmin,t.xmax<i)return!1}else if(i=t.xmin,e.xmax<i)return!1;if(t.ymin<=e.ymin){if(r=e.ymin,t.ymax<r)return!1}else if(r=t.ymin,e.ymax<r)return!1;if(n&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function mz(t,e){const{points:n,hasZ:i}=e,r=i?hz:th;for(const s of n)if(r(t,s))return!0;return!1}const hc=[0,0],pc=[0,0],dc=[0,0],fc=[0,0],yz=[hc,pc,dc,fc],ZM=[[dc,hc],[hc,pc],[pc,fc],[fc,dc]];function KM(t,e){return gz(t,e.rings)}function gz(t,e){hc[0]=t.xmin,hc[1]=t.ymax,pc[0]=t.xmax,pc[1]=t.ymax,dc[0]=t.xmin,dc[1]=t.ymin,fc[0]=t.xmax,fc[1]=t.ymin;for(const n of yz)if(N_(e,n))return!0;for(const n of e){if(!n.length)continue;let i=n[0];if(th(t,i))return!0;for(let r=1;r<n.length;r++){const s=n[r];if(th(t,s)||XM(i,s,ZM))return!0;i=s}}return!1}function vz(t,e){hc[0]=t.xmin,hc[1]=t.ymax,pc[0]=t.xmax,pc[1]=t.ymax,dc[0]=t.xmin,dc[1]=t.ymin,fc[0]=t.xmax,fc[1]=t.ymin;const n=e.paths;for(const i of n){if(!n.length)continue;let r=i[0];if(th(t,r))return!0;for(let s=1;s<i.length;s++){const o=i[s];if(th(t,o)||XM(r,o,ZM))return!0;r=o}}return!1}const Jn=[0,0];function bz(t){for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length-1;r++){const s=n[r],o=n[r+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const c=t[a][l],p=t[a][l+1];if(Ny(s,o,c,p,Jn)&&!(Jn[0]===s[0]&&Jn[1]===s[1]||Jn[0]===c[0]&&Jn[1]===c[1]||Jn[0]===o[0]&&Jn[1]===o[1]||Jn[0]===p[0]&&Jn[1]===p[1]))return!0}}const i=n.length;if(!(i<=4))for(let r=0;r<i-3;r++){let s=i-1;r===0&&(s=i-2);const o=n[r],a=n[r+1];for(let l=r+2;l<s;l++){const c=n[l],p=n[l+1];if(Ny(o,a,c,p,Jn)&&!(Jn[0]===o[0]&&Jn[1]===o[1]||Jn[0]===c[0]&&Jn[1]===c[1]||Jn[0]===a[0]&&Jn[1]===a[1]||Jn[0]===p[0]&&Jn[1]===p[1]))return!0}}}return!1}function XM(t,e,n){for(let i=0;i<n.length;i++)if(Ny(t,e,n[i][0],n[i][1]))return!0;return!1}function Ny(t,e,n,i,r){const[s,o]=t,[a,l]=e,[c,p]=n,[d,f]=i,y=d-c,g=s-c,_=a-s,w=f-p,A=o-p,T=l-o,x=w*_-y*T;if(x===0)return!1;const b=(y*A-w*g)/x,I=(_*A-T*g)/x;return b>=0&&b<=1&&I>=0&&I<=1&&(r&&(r[0]=s+b*(a-s),r[1]=o+b*(l-o)),!0)}function QM(t){switch(t){case"esriGeometryEnvelope":case"extent":return JM;case"esriGeometryMultipoint":case"multipoint":return mz;case"esriGeometryPoint":case"point":return fz;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return KM;case"esriGeometryPolyline":case"polyline":return vz}}var Nr;function _z(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Na(t,e,n){return e==null?n:n==null?e:t(e,n)}let jn=Nr=class extends Pa{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,n,i,r){return _z(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Pn.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:n,ymax:i,spatialReference:r??Pn.WGS84}}static fromBounds(t,e){return new Nr({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}static fromPoint(t){return new Nr({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new wn({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Nr;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&kd(e,n)&&(t=e.isWebMercator?Oy(t):Dd(t,!0)),t.type==="point"?P_(this,t):t.type==="extent"&&uz(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&kd(e,n)&&(t=e.isWebMercator?Oy(t):Dd(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),n=this.width*e,i=this.height*e;if(this.xmin+=n,this.ymin+=i,this.xmax-=n,this.ymax-=i,this.hasZ){const r=(this.zmax-this.zmin)*e;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*e;this.mmin+=r,this.mmax-=r}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,n=t.spatialReference;return e&&n&&!Ca(e,n)&&kd(e,n)&&(t=e.isWebMercator?Oy(t):Dd(t,!0)),QM(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,n){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Na(Math.min,this.zmin,t.zmin),this.zmax=Na(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Na(Math.min,this.mmin,t.mmin),this.mmax=Na(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Na(Math.max,this.zmin,t.zmin),this.zmax=Na(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Na(Math.max,this.mmin,t.mmin),this.mmax=Na(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=Ku(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,n=this._getCM(t);if(n){const i=e.isWebMercator?Dd(n):n;this.xmin-=n.x,this.xmax-=n.x,e.isWebMercator||(i.x=L_(i.x,t).x),this.spatialReference=new Pn(l2((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(t){let e=null;const[n,i]=t.valid,r=this.xmin,s=this.xmax;return r>=n&&r<=i&&s>=n&&s<=i||(e=this.center),e}_normalize(t,e,n){const i=this.spatialReference;if(!i)return this;const r=n??Ku(i);if(r==null)return this;const s=this._getParts(r).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(t)return this._shiftCM(r);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const p=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:r,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let p;t=t||Ku(o);const[d,f]=t.valid;p=L_(this.xmin,t);const y=p.x,g=p.frameId;p=L_(this.xmax,t);const _=p.x,w=p.frameId,A=y===_&&a>0;if(a>2*f){const T=new Nr(l<c?y:_,r,f,s,o),x=new Nr(d,r,l<c?_:y,s,o),b=new Nr(0,r,f,s,o),I=new Nr(d,r,0,s,o),O=[],L=[];T.contains(b)&&O.push(g),T.contains(I)&&L.push(g),x.contains(b)&&O.push(w),x.contains(I)&&L.push(w);for(let R=g+1;R<w;R++)O.push(R),L.push(R);e.push({extent:T,frameIds:[g]},{extent:x,frameIds:[w]},{extent:b,frameIds:O},{extent:I,frameIds:L})}else y>_||A?e.push({extent:new Nr(y,r,f,s,o),frameIds:[g]},{extent:new Nr(d,r,_,s,o),frameIds:[w]}):e.push({extent:new Nr(y,r,_,s,o),frameIds:[g]});this.cache._parts=e}const n=this.hasZ,i=this.hasM;if(n||i){const r={};n&&(r.zmin=this.zmin,r.zmax=this.zmax),i&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(r)}return e}};function L_(t,e){const[n,i]=e.valid,r=2*i;let s,o=0;return t>i?(s=Math.ceil(Math.abs(t-i)/r),t-=s*r,o=s):t<n&&(s=Math.ceil(Math.abs(t-n)/r),t+=s*r,o=-s),{x:t,frameId:o}}v([E({readOnly:!0})],jn.prototype,"cache",null),v([E({readOnly:!0})],jn.prototype,"center",null),v([E({readOnly:!0})],jn.prototype,"extent",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jn.prototype,"hasM",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jn.prototype,"hasZ",null),v([E({readOnly:!0})],jn.prototype,"height",null),v([E({readOnly:!0})],jn.prototype,"width",null),v([E({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],jn.prototype,"xmin",void 0),v([E({type:Number,json:{write:!0}})],jn.prototype,"ymin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],jn.prototype,"mmin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jn.prototype,"zmin",void 0),v([E({type:Number,json:{write:!0}})],jn.prototype,"xmax",void 0),v([E({type:Number,json:{write:!0}})],jn.prototype,"ymax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],jn.prototype,"mmax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jn.prototype,"zmax",void 0),jn=Nr=v([rt("esri.geometry.Extent")],jn),jn.prototype.toJSON.isDefaultToJSON=!0;const hr=jn;function eh(t,e,n=!1){let{hasM:i,hasZ:r}=t;Array.isArray(e)?e.length!==4||i||r?e.length===3&&n&&!i?(r=!0,i=!1):e.length===3&&i&&r&&(i=!1,r=!1):(i=!0,r=!0):(r=!r&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!r||e.hasZ)),t.hasZ=r,t.hasM=i}var k_;function tI(t){return(e,n)=>e==null?n:n==null?e:t(e,n)}function wz(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let La=k_=class extends Pa{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const n={};Array.isArray(t)?(n.points=t,n.spatialReference=e):wz(t)?n.spatialReference=t:(t.points&&(n.points=t.points),t.spatialReference&&(n.spatialReference=t.spatialReference),t.hasZ&&(n.hasZ=t.hasZ),t.hasM&&(n.hasM=t.hasM));const i=n.points?.[0];return i&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=i.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=i.length>3:n.hasM===void 0&&(n.hasM=i.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new hr,n=this.hasZ,i=this.hasM,r=n?3:2,s=t[0],o=tI(Math.min),a=tI(Math.max);let l,c,p,d,[f,y]=s,[g,_]=s;for(let w=0,A=t.length;w<A;w++){const T=t[w],[x,b]=T;if(f=o(f,x),y=o(y,b),g=a(g,x),_=a(_,b),n&&T.length>2){const I=T[2];l=o(l,I),p=a(p,I)}if(i&&T.length>r){const I=T[r];c=o(c,I),d=a(d,I)}}return e.xmin=f,e.ymin=y,e.xmax=g,e.ymax=_,e.spatialReference=this.spatialReference,n?(e.zmin=l,e.zmax=p):(e.zmin=void 0,e.zmax=void 0),i?(e.mmin=c,e.mmax=d):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=gt(this.points)}addPoint(t){return eh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:gt(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new k_(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(n.z=e[2],i=3),this.hasM&&(n.m=e[i]),new wn(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new wn(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(eh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};v([E({readOnly:!0})],La.prototype,"cache",null),v([E()],La.prototype,"extent",null),v([E({type:[[Number]],json:{write:{isRequired:!0}}})],La.prototype,"points",void 0),v([en("points")],La.prototype,"writePoints",null),La=k_=v([rt("esri.geometry.Multipoint")],La),La.prototype.toJSON.isDefaultToJSON=!0;const Fd=La;function xz(t){const e=[];for(t.reset();t.nextPath();){const n=[];for(;t.nextPoint();)n.push([t.x,t.y]);e.push(n)}return t.reset(),e}function eI(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var Ud;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(Ud||(Ud={}));function R_(t,e){const n=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const r=t[2]-e[2];return Math.sqrt(n*n+i*i+r*r)}return Math.sqrt(n*n+i*i)}function Sz(t,e,n){const i=t[0]+n*(e[0]-t[0]),r=t[1]+n*(e[1]-t[1]);return t.length>2&&e.length>2?[i,r,t[2]+n*(e[2]-t[2])]:[i,r]}function Az(t,e,n,i){return nI(t,e,n[i],n[i+1])}function nI(t,e,n,i){const[r,s]=e,[o,a]=n,[l,c]=i,p=l-o,d=c-a,f=p*p+d*d,y=(r-o)*p+(s-a)*d,g=Math.min(1,Math.max(0,y/f));return t[0]=o+p*g,t[1]=a+d*g,t}function Ez(t,e,n,i,r,s){let o=n,a=i,l=r-o,c=s-a;if(l!==0||c!==0){const p=((t-o)*l+(e-a)*c)/(l*l+c*c);p>1?(o=r,a=s):p>0&&(o+=l*p,a+=c*p)}return l=t-o,c=e-a,l*l+c*c}function iI(t,e){return Sz(t,e,.5)}function Tz(t){const e=t.length;let n=0;for(let i=0;i<e-1;++i)n+=R_(t[i],t[i+1]);return n}function D_(t,e=Ud.X,n=Ud.Y){let i=0;const r=t.length;let s=t[0];for(let o=1;o<r;o++){const a=t[o];i+=(a[e]-s[e])*(a[n]+s[n]),s=a}if(!rI(t)){const o=t[0];i+=(o[e]-s[e])*(o[n]+s[n])}return i>=0}function rI(t){const e=t.length;return e<3||cd(t[0],t[e-1])}function Cz(t){"rings"in t&&(sI(t),Mz(t))}function sI(t){if(!("rings"in t))return!1;let e=!1;for(const n of t.rings)rI(n)||(n.push(n[0].slice()),e=!0);return e}function Mz(t){if(!("rings"in t)||t.rings.length===0||D_(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function Iz(t){return t.type!=="polygon"&&t.type!=="polyline"||oI(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function oI(t,e){const n=Ku(e);if(!n)return;const i=n.valid[0],r=n.valid[1],s=r-i;for(const o of t){let a=1/0,l=-1/0;for(const p of o){const d=Oz(p[0],i,r);a=Math.min(a,d),l=Math.max(l,d),p[0]=d}const c=l-a;s-c<c&&o.forEach(p=>{p[0]<0&&(p[0]+=s)})}}function Oz(t,e,n){const i=n-e;return t<e?n-(e-t)%i:t>n?e+(t-e)%i:t}function Pz(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[n,i]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return n.length===i.length&&n.every((r,s)=>r.length===i[s].length)}function Nz(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function aI(t){return t?lI(t.rings,t.hasZ??!1):null}function lI(t,e){if(!t?.length)return null;const n=[],i=[],r=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=cI(t[s],e,r);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],e&&(n[2]=i[0][3]),(n[0]<r[0]||n[0]>r[1]||n[1]<r[2]||n[1]>r[3]||e&&(n[2]<r[4]||n[2]>r[5]))&&(n.length=0)),!n.length){const s=t[0]&&t[0].length?kz(t[0],e):null;if(!s)return null;n[0]=s[0],n[1]=s[1],e&&s.length>2&&(n[2]=s[2])}return n}function cI(t,e,n){let i=0,r=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,c=t.length?t[0][1]:0,p=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const y=t[f],g=t[(f+1)%t.length],[_,w,A]=y,T=_-l,x=w-c,[b,I,O]=g,L=b-l,R=I-c,D=T*R-L*x;if(o+=D,i+=(T+L)*D,r+=(x+R)*D,e&&y.length>2&&g.length>2){const W=A-p,B=O-p,G=T*B-L*W;s+=(W+B)*G,a+=G}_<n[0]&&(n[0]=_),_>n[1]&&(n[1]=_),w<n[2]&&(n[2]=w),w>n[3]&&(n[3]=w),e&&(A<n[4]&&(n[4]=A),A>n[5]&&(n[5]=A))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,r/(6*o)+c,o];return e&&(n[4]===n[5]||a===0?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=s/(6*a)+p,d[4]=a)),d}function Lz(t,e){let n=0,i=0,r=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const c=[t.x,t.y],[p,d]=l,f=p-s,y=d-o,[g,_]=c,w=g-s,A=_-o,T=f*A-w*y;r+=T,n+=(f+w)*T,i+=(y+A)*T,p<e[0]&&(e[0]=p),p>e[1]&&(e[1]=p),d<e[2]&&(e[2]=d),d>e[3]&&(e[3]=d)}return r>0&&(r*=-1),r?(r*=.5,[n/(6*r)+s,i/(6*r)+o,r]):null}function kz(t,e){const n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;for(let l=0,c=t.length;l<c-1;l++){const p=t[l],d=t[l+1];if(p&&d){n[0]=p[0],n[1]=p[1],i[0]=d[0],i[1]=d[1],e&&p.length>2&&d.length>2&&(n[2]=p[2],i[2]=d[2]);const f=R_(n,i);if(f){r+=f;const y=iI(p,d);s+=f*y[0],o+=f*y[1],e&&y.length>2&&(a+=f*y[2])}}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.length?t[0]:null}function Rz(t){const{hasZ:e,totalSize:n}=t;if(n===0)return null;const i=[],r=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=cI(eI(t),t.hasZ,s);o&&r.push(o)}if(r.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){t.reset(),t.nextPath();const o=t.pathSize?Dz(t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],e&&o.length>2&&(i[2]=o[2])}return i}function Dz(t){const{hasZ:e}=t,n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,c=t.y,p=t.z;for(;t.nextPoint();){const d=t.x,f=t.y,y=t.z;n[0]=l,n[1]=c,i[0]=d,i[1]=f,e&&(n[2]=p,i[2]=y);const g=R_(n,i);if(g){r+=g;const _=iI(n,i);s+=g*_[0],o+=g*_[1],e&&_.length>2&&(a+=g*_[2])}l=d,c=f,p=y}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const Fz=1e-6;function Uz(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<Fz){const r=Rz(t);return r?[r[0],r[1]]:null}const n=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const i=[t.x,t.y];for(t.reset();t.nextPath();)Gz(n,i,t);return n[0]*=1/e,n[1]*=1/e,n[0]+=i[0],n[1]+=i[1],n}const $z=1/3;function Gz(t,e,n){if(!t||!n||n.pathSize<3)return null;n.nextPoint();const i=n.x,r=n.y;n.nextPoint();let s,o=n.x-i,a=n.y-r,l=0,c=0;for(;n.nextPoint();)l=n.x-i,c=n.y-r,s=.5*$z*(l*a-c*o),t[0]+=s*(o+l),t[1]+=s*(a+c),o=l,a=c;const p=n.getCurrentRingArea(),d=[i,r];return d[0]-=e[0],d[1]-=e[1],d[0]*=p,d[1]*=p,t[0]+=d[0],t[1]+=d[1],t}function nh(t=Qz){return[t[0],t[1],t[2],t[3]]}function uI(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function jz(t,e,n,i,r=nh()){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function Bz(t,e=nh()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function Wz(t,e){return new hr({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}function zz(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function qz(t,e,n){if(e!=null)if("length"in e)F_(e)?(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[0]),n[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":n[0]=Math.min(t[0],e.xmin),n[1]=Math.min(t[1],e.ymin),n[2]=Math.max(t[2],e.xmax),n[3]=Math.max(t[3],e.ymax);break;case"point":n[0]=Math.min(t[0],e.x),n[1]=Math.min(t[1],e.y),n[2]=Math.max(t[2],e.x),n[3]=Math.max(t[3],e.y)}else uI(n,t)}function hI(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function pI(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function Vz(t){return hI(t)*pI(t)}function Hz(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function Yz(t,e,n){return e>=t[0]&&n>=t[1]&&e<=t[2]&&n<=t[3]}function Jz(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function Zz(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function Kz(t){return t?uI(t,U_):nh(U_)}function F_(t){return t!=null&&t.length===4}function Xz(t,e){return F_(t)&&F_(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const U_=[1/0,1/0,-1/0,-1/0],Qz=[0,0,0,0];function dI(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function fI(t){return t.points!==void 0}function mI(t){return t.x!==void 0&&t.y!==void 0}function yI(t){return t.paths!==void 0}function gI(t){return t.rings!==void 0}function vI(t){function e(n,i){return n==null?i:i==null?n:t(n,i)}return e}const ka=vI(Math.min),Ra=vI(Math.max);function tq(t,e){return yI(e)?ih(t,e.paths,!1,!1):gI(e)?ih(t,e.rings,!1,!1):fI(e)?$_(t,e.points,!1,!1,!1,!1):dI(e)?_I(t,e):(mI(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function eq(t){let e,n,i,r;for(t.reset(),e=i=1/0,n=r=-1/0;t.nextPath();){const s=bI(t);e=Math.min(s[0],e),i=Math.min(s[1],i),n=Math.max(s[2],n),r=Math.max(s[3],r)}return nh([e,i,n,r])}function bI(t){let e,n,i,r;for(e=i=1/0,n=r=-1/0;t.nextPoint();)e=Math.min(t.x,e),i=Math.min(t.y,i),n=Math.max(t.x,n),r=Math.max(t.y,r);return nh([e,i,n,r])}function nq(t,e){return yI(e)?ih(t,e.paths,!0,!1):gI(e)?ih(t,e.rings,!0,!1):fI(e)?$_(t,e.points,!0,!1,!0,!1):dI(e)?_I(t,e,!0,!1,!0,!1):(mI(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function ih(t,e,n,i){const r=n?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[c,p]=e[0][0],[d,f]=e[0][0];for(let y=0;y<e.length;y++){const g=e[y];for(let _=0;_<g.length;_++){const w=g[_],[A,T]=w;if(c=ka(c,A),p=ka(p,T),d=Ra(d,A),f=Ra(f,T),n&&w.length>2){const x=w[2];s=ka(s,x),o=Ra(o,x)}if(i&&w.length>r){const x=w[r];a=ka(s,x),l=Ra(o,x)}}}return n?i?(t[0]=c,t[1]=p,t[2]=s,t[3]=a,t[4]=d,t[5]=f,t[6]=o,t[7]=l,t.length=8,t):(t[0]=c,t[1]=p,t[2]=s,t[3]=d,t[4]=f,t[5]=o,t.length=6,t):i?(t[0]=c,t[1]=p,t[2]=a,t[3]=d,t[4]=f,t[5]=l,t.length=6,t):(t[0]=c,t[1]=p,t[2]=d,t[3]=f,t.length=4,t)}function _I(t,e,n,i,r,s){const o=e.xmin,a=e.xmax,l=e.ymin,c=e.ymax;let p=e.zmin,d=e.zmax,f=e.mmin,y=e.mmax;return r?(p=p||0,d=d||0,s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=p,t[3]=f,t[4]=a,t[5]=c,t[6]=d,t[7]=y,t):(t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=c,t[5]=d,t)):s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=c,t[5]=y,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=c,t)}function $_(t,e,n,i,r,s){const o=n?3:2,a=i&&s,l=n&&r;if(!e.length||!e[0].length)return null;let c,p,d,f,[y,g]=e[0],[_,w]=e[0];for(let A=0;A<e.length;A++){const T=e[A],[x,b]=T;if(y=ka(y,x),g=ka(g,b),_=Ra(_,x),w=Ra(w,b),l&&T.length>2){const I=T[2];c=ka(c,I),p=Ra(p,I)}if(a&&T.length>o){const I=T[o];d=ka(c,I),f=Ra(p,I)}}return r?(c=c||0,p=p||0,s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=c,t[3]=d,t[4]=_,t[5]=w,t[6]=p,t[7]=f,t):(t[0]=y,t[1]=g,t[2]=c,t[3]=_,t[4]=w,t[5]=p,t)):s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=d,t[3]=_,t[4]=w,t[5]=f,t):(t[0]=y,t[1]=g,t[2]=_,t[3]=w,t)}function iq(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function rq(t){return t.points!==void 0}function sq(t){return t.x!==void 0&&t.y!==void 0}function oq(t){return t.paths!==void 0}function aq(t){return t.rings!==void 0}const G_=[];function wI(t,e,n,i){return{xmin:t,ymin:e,xmax:n,ymax:i}}function xI(t,e,n,i,r,s){return{xmin:t,ymin:e,zmin:n,xmax:i,ymax:r,zmax:s}}function SI(t,e,n,i,r,s){return{xmin:t,ymin:e,mmin:n,xmax:i,ymax:r,mmax:s}}function AI(t,e,n,i,r,s,o,a){return{xmin:t,ymin:e,zmin:n,mmin:i,xmax:r,ymax:s,zmax:o,mmax:a}}function j_(t,e=!1,n=!1){return e?n?AI(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):xI(t[0],t[1],t[2],t[3],t[4],t[5]):n?SI(t[0],t[1],t[2],t[3],t[4],t[5]):wI(t[0],t[1],t[2],t[3])}function lq(t){return t?iq(t)?t:sq(t)?uq(t):aq(t)?B_(t):oq(t)?EI(t):rq(t)?cq(t):null:null}function cq(t){const{hasZ:e,hasM:n,points:i}=t;return j_($_(G_,i,e??!1,n??!1),e,n)}function uq(t){const{x:e,y:n,z:i,m:r}=t,s=r!=null;return i!=null?s?AI(e,n,i,r,e,n,i,r):xI(e,n,i,e,n,i):s?SI(e,n,r,e,n,r):wI(e,n,e,n)}function B_(t){const{hasZ:e,hasM:n,rings:i}=t,r=ih(G_,i,e??!1,n??!1);return r?j_(r,e,n):null}function EI(t){const{hasZ:e,hasM:n,paths:i}=t,r=ih(G_,i,e??!1,n??!1);return r?j_(r,e,n):null}var Ly;function TI(t){return!Array.isArray(t[0])}function hq(t){return typeof t[0]?.[0]=="number"}function pq(t){if(!t)return;let{rings:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],hq(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Pn.WGS84,{...t,hasM:n,hasZ:i,rings:e,spatialReference:r}}let zs=Ly=class extends Pa{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:n}=t;let i=!1,r=!1;for(const o of e)o.hasZ&&(i=!0),o.hasM&&(r=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:n};return i&&(s.hasZ=!0),r&&(s.hasM=!0),new Ly(s)}constructor(t){super(pq(t)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=aI(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new wn;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=B_(this);if(!e)return null;const n=new hr(e);return n.spatialReference=t,n}get isSelfIntersecting(){return bz(this.rings)}writeRings(t,e){e.rings=gt(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(TI(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new Ly;return t.spatialReference=this.spatialReference,t.rings=gt(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;if(e!=null!=(n!=null)||e!=null&&n!=null&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const i=([r,s,o,a],[l,c,p,d])=>r===l&&s===c&&(o==null&&p==null||o===p)&&(a==null&&d==null||a===d);for(let r=0;r<this.rings.length;r++){const s=this.rings[r],o=t.rings[r];if(!cd(s,o,i))return!1}return!0}contains(t){if(!t)return!1;const e=C_(t,this.spatialReference);return HM(this,e??t)}isClockwise(t){const e=TI(t)?t.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):t;return D_(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new wn(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new wn(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new wn(n[0],n[1],n[2],n[3],this.spatialReference):new wn(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(eh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new wn(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new wn(r,n));return this.notifyChange("rings"),i}setPoint(t,e,n){return this._validateInputs(t,e)?(eh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const i=this.rings[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],zs.prototype,"cache",null),v([E({readOnly:!0})],zs.prototype,"centroid",null),v([E({readOnly:!0})],zs.prototype,"extent",null),v([E({readOnly:!0})],zs.prototype,"isSelfIntersecting",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],zs.prototype,"rings",void 0),v([en("rings")],zs.prototype,"writeRings",null),zs=Ly=v([rt("esri.geometry.Polygon")],zs);const Da=zs;zs.prototype.toJSON.isDefaultToJSON=!0;var W_;function dq(t){return!Array.isArray(t[0])}function fq(t){return typeof t[0]?.[0]=="number"}function mq(t){if(!t)return;let{paths:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],fq(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Pn.WGS84,{...t,hasM:n,hasZ:i,paths:e,spatialReference:r}}let Fa=W_=class extends Pa{constructor(t){super(mq(t)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=EI(this);if(!e)return null;const n=new hr(e);return n.spatialReference=t,n}writePaths(t,e){e.paths=gt(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(dq(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new W_;return t.spatialReference=this.spatialReference,t.paths=gt(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new wn(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new wn(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new wn(n[0],n[1],n[2],n[3],this.spatialReference):new wn(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(eh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new wn(r,n));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new wn(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(eh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const i=this.paths[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],Fa.prototype,"cache",null),v([E({readOnly:!0})],Fa.prototype,"extent",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],Fa.prototype,"paths",void 0),v([en("paths")],Fa.prototype,"writePaths",null),Fa=W_=v([rt("esri.geometry.Polyline")],Fa);const rh=Fa;Fa.prototype.toJSON.isDefaultToJSON=!0;function z_(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function q_(t){return t.points!==void 0}function V_(t){return t.x!==void 0&&t.y!==void 0}function H_(t){return t.paths!==void 0}function Y_(t){return t.rings!==void 0}function ky(t){return t==null?null:t instanceof Pa?t:V_(t)?wn.fromJSON(t):H_(t)?rh.fromJSON(t):Y_(t)?Da.fromJSON(t):q_(t)?Fd.fromJSON(t):z_(t)?hr.fromJSON(t):null}function yq(t){return t?V_(t)?"esriGeometryPoint":H_(t)?"esriGeometryPolyline":Y_(t)?"esriGeometryPolygon":z_(t)?"esriGeometryEnvelope":q_(t)?"esriGeometryMultipoint":null:null}const gq={esriGeometryPoint:wn,esriGeometryPolyline:rh,esriGeometryPolygon:Da,esriGeometryEnvelope:hr,esriGeometryMultipoint:Fd,esriGeometryMultiPatch:Da};function vq(t){return t&&gq[t]||null}const bq=Cr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),_q=Cr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),J_={base:Pa,key:"type",typeMap:{extent:hr,multipoint:Fd,point:wn,polyline:rh,polygon:Da}};_a(J_);const qs=t=>{let e=class extends t{clone(){const n=Io(this);dC(n,"unable to clone instance of non-accessor class");const i=n.metadata,r=n.store,s={},o=new Map;for(const l in i){const c=i[l],p=r?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||p!==ue.USER&&p!==ue.DEFAULTS&&p!==ue.WEB_MAP&&p!==ue.WEB_SCENE)continue;const f=this[l];let y=null;y=typeof d=="function"?d(f):d==="reference"?f:r2(f),f!=null&&y==null||(p===ue.DEFAULTS?o.set(l,y):s[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=Io(a)?.store;if(l)for(const[c,p]of o)l.set(c,p,ue.DEFAULTS)}return a}};return e=v([rt("esri.core.Clonable")],e),e};let Z_=class extends qs($n){};Z_=v([rt("esri.core.Clonable")],Z_);let Ry=class XF{constructor(){this._emitter=new XF.EventEmitter(this)}emit(e,n){return this._emitter.emit(e,n)}on(e,n){return this._emitter.on(e,n)}once(e,n){return this._emitter.once(e,n)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(r=null){this._target=r,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(r,s){let o=this._listenersMap?.get(r);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const p="deref"in c?c.deref():c;p?p?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(r,o)),o.length>0}on(r,s){if(Array.isArray(r)){const a=r.map(l=>this.on(l,s));return $0(a)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(r)||[];return o.push(s),this._listenersMap.set(r,o),dn(()=>{const a=this._listenersMap?.get(r),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(r,s){const o=this.on(r,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(r){const s=this._listenersMap?.get(r);return s!=null&&s.length>0}}t.EventEmitter=e,t.EventedMixin=i=>{let r=class extends i{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return r=v([rt("esri.core.Evented")],r),r};let n=class extends $n{constructor(){super(...arguments),this._emitter=new Ry.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,r){return this._emitter.emit(i,r)}on(i,r){return this._emitter.on(i,r)}once(i,r){return this._emitter.once(i,r)}hasEventListener(i){return this._emitter.hasEventListener(i)}};n=v([rt("esri.core.Evented.EventedAccessor")],n),t.EventedAccessor=n})(Ry||(Ry={}));const CI=Ry;var ge;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})(ge||(ge={}));function MI(t){return(e,n)=>{e[n]=t}}let II=class extends fC{notify(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onInvalidated(),n.onCommitted()}}};var Ro;let wq=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},xq=class{constructor(t,e,n,i,r){this.target=t,this.added=e,this.removed=n,this.start=i,this.deleteCount=r}};const Lr=new ju(wq,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function OI(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function K_(t){return t?t instanceof Do?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function X_(t){if(t?.length)return t[0]}function Sq(t,e,n,i){const r=Math.min(t.length-n,e.length-i);let s=0;for(;s<r&&t[n+s]===e[i+s];)s++;return s}function PI(t,e,n,i){e&&e.forEach((r,s,o)=>{t.push(r),PI(t,n.call(i,r,s,o),n,i)})}const Ua=new Set,$a=new Set,Ga=new Set,Q_=new Map;let Aq=0,Do=Ro=class extends CI.EventedAccessor{static isCollection(t){return t!=null&&t instanceof Ro}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new II,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Aq++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof Ro?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return zt(this._observable),this._items}set items(t){this._emitBeforeChanges(ge.ADD)||(this._splice(0,this.length,K_(t)),this._emitAfterChanges(ge.ADD))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(t))}on(t,e){if(this.destroyed)return dn();if(t==="change"){const n=this._chgListeners,i={removed:!1,callback:e};return n.push(i),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),dn(()=>{i.removed=!0,n.splice(n.indexOf(i),1)})}return this._emitter.on(t,e)}once(t,e){const n="deref"in e?()=>e.deref():()=>e,i=this.on(t,r=>{n()?.call(null,r),i.remove()});return i}add(t,e){if(zt(this._observable),this._emitBeforeChanges(ge.ADD))return this;const n=this.getNextIndex(e??null);return this._splice(n,0,[t]),this._emitAfterChanges(ge.ADD),this}addMany(t,e=this._items.length){if(zt(this._observable),!t?.length)return this;if(this._emitBeforeChanges(ge.ADD))return this;const n=this.getNextIndex(e);return this._splice(n,0,K_(t)),this._emitAfterChanges(ge.ADD),this}at(t){if(zt(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return[];const t=this._removeAllRaw();return this._emitAfterChanges(ge.REMOVE),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return zt(this._observable),this._createNewInstance({items:this._items.map(gt)})}concat(...t){zt(this._observable);const e=t.map(K_);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return;const n=this._splice(0,this.length),i=n.length;for(let r=0;r<i;r++)t.call(e,n[r],r,n);this._emitAfterChanges(ge.REMOVE)}destroyAll(){this.drain(OI)}destroyMany(t){const e=this.removeMany(t);return e.forEach(OI),e}every(t,e){return zt(this._observable),this._items.every(t,e)}filter(t,e){let n;return zt(this._observable),n=arguments.length===2?this._items.filter(t,e):this._items.filter(t),this._createNewInstance({items:n})}find(t,e){return zt(this._observable),this._items.find(t,e)}findIndex(t,e){return zt(this._observable),this._items.findIndex(t,e)}flatten(t,e){zt(this._observable);const n=[];return PI(n,this,t,e),new Ro(n)}forEach(t,e){return zt(this._observable),this._items.forEach(t,e)}getItemAt(t){return zt(this._observable),this._items[t]}getNextIndex(t){zt(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return zt(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return zt(this._observable),this._items.indexOf(t,e)}join(t=","){return zt(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return zt(this._observable),this._items.lastIndexOf(t,e)}map(t,e){zt(this._observable);const n=this._items.map(t,e);return new Ro({items:n})}reorder(t,e=this.length-1){zt(this._observable);const n=this.indexOf(t);if(n!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),n!==e){if(this._emitBeforeChanges(ge.MOVE))return t;this._splice(n,1),this._splice(e,0,[t]),this._emitAfterChanges(ge.MOVE)}return t}}pop(){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return;const t=X_(this._splice(this.length-1,1));return this._emitAfterChanges(ge.REMOVE),t}push(...t){return zt(this._observable),this._emitBeforeChanges(ge.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(ge.ADD)),this.length}reduce(t,e){zt(this._observable);const n=this._items;return arguments.length===2?n.reduce(t,e):n.reduce(t)}reduceRight(t,e){zt(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(t,e):n.reduceRight(t)}remove(t){return zt(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(zt(this._observable),t<0||t>=this.length||this._emitBeforeChanges(ge.REMOVE))return;const e=X_(this._splice(t,1));return this._emitAfterChanges(ge.REMOVE),e}removeMany(t){if(zt(this._observable),!t?.length||this._emitBeforeChanges(ge.REMOVE))return[];const e=t instanceof Ro?t.toArray():t,n=this._items,i=[],r=e.length;for(let s=0;s<r;s++){const o=e[s],a=n.indexOf(o);if(a>-1){const l=1+Sq(e,n,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(ge.REMOVE),i}reverse(){if(zt(this._observable),this._emitBeforeChanges(ge.MOVE))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(ge.MOVE),this}shift(){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return;const t=X_(this._splice(0,1));return this._emitAfterChanges(ge.REMOVE),t}slice(t=0,e=this.length){return zt(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return zt(this._observable),this._items.some(t,e)}sort(t){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.MOVE))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(ge.MOVE),this}splice(t,e,...n){zt(this._observable);const i=(e?ge.REMOVE:0)|(n.length?ge.ADD:0);if(this._emitBeforeChanges(i))return[];const r=this._splice(t,e,n)||[];return this._emitAfterChanges(i),r}toArray(){return zt(this._observable),this._items.slice()}toJSON(){return zt(this._observable),this.toArray()}toLocaleString(){return zt(this._observable),this._items.toLocaleString()}toString(){return zt(this._observable),this._items.toString()}unshift(...t){return zt(this._observable),!t.length||this._emitBeforeChanges(ge.ADD)||(this._splice(0,0,t),this._emitAfterChanges(ge.ADD)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,n){const i=this._items,r=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=B2(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=i.splice(t,e),this.hasEventListener("before-remove")){const a=Lr.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(t,0,s),t+=1,l-=1,c-=1);Lr.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Lr.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Lr.release(a)}}if(n?.length){if(r){const p=[];for(const d of n){const f=r.ensureType(d);f==null&&d!=null||p.push(f)}n=p}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=t===this.length;if(a||l){const p=Lr.acquire();p.target=this,p.cancellable=!0;const d=Lr.acquire();d.target=this,d.cancellable=!1;for(const f of n)a?(p.reset(f),this.emit("before-add",p),p.defaultPrevented||(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),l&&(d.reset(f),this.emit("after-add",d)))):(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),d.reset(f),this.emit("after-add",d));Lr.release(d),Lr.release(p)}else{if(c)for(const p of n)i.push(p);else i.splice(t,0,...n);this._set("length",i.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener("after-splice")){const a=new xq(this,n,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const n=Lr.acquire();n.target=this,n.cancellable=!0,n.type=t,this.emit("before-changes",n),e=n.defaultPrevented,Lr.release(n)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=Lr.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),Lr.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const n=e.changes;Ua.clear(),$a.clear(),Ga.clear();for(const{added:l,removed:c}of n){if(l)if(Ga.size===0&&$a.size===0)for(const p of l)Ua.add(p);else for(const p of l)$a.has(p)?(Ga.add(p),$a.delete(p)):Ga.has(p)||Ua.add(p);if(c)if(Ga.size===0&&Ua.size===0)for(const p of c)$a.add(p);else for(const p of c)Ua.has(p)?Ua.delete(p):(Ga.delete(p),$a.add(p))}const i=Po.acquire();Ua.forEach(l=>{i.push(l)});const r=Po.acquire();$a.forEach(l=>{r.push(l)});const s=this._items,o=e.items,a=Po.acquire();if(Ga.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(i.length||r.length||a.length)){const l={target:this,added:i,removed:r,moved:a},c=e.listeners.length;for(let p=0;p<c;p++){const d=e.listeners[p];d.removed||d.callback.call(this,l)}}Po.release(i),Po.release(r),Po.release(a)}Ua.clear(),$a.clear(),Ga.clear()}};Do.ofType=t=>{if(!t)return Ro;if(Q_.has(t))return Q_.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const i in t.typeMap){const r=t.typeMap[i].prototype.declaredClass;e?e+=` | ${r}`:e=r}let n=class extends Ro{};return v([MI({Type:t,ensureType:typeof t=="function"?Tr(t):_a(t)})],n.prototype,"itemType",void 0),n=v([rt(`esri.core.Collection<${e}>`)],n),Q_.set(t,n),n},v([E()],Do.prototype,"_updating",void 0),v([E()],Do.prototype,"length",void 0),v([E()],Do.prototype,"items",null),v([E({readOnly:!0})],Do.prototype,"updating",null),Do=Ro=v([rt("esri.core.Collection")],Do);const Ue=Do;async function NI(t,e){const{WhereClause:n}=await import("./WhereClause-SLBXDHVV.js").then(i=>i.W);return n.create(t,{fieldsIndex:e})}function Eq(t,e){return t==="1=1"?e??t:e==="1=1"?t??e:t!=null&&t!==""?e!=null&&e!==""?`(${t}) AND (${e})`:t:e}let $d;const Tq=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,tw=globalThis.document?.documentElement;function LI(){const t=tw?.getAttribute("lang"),e=globalThis.navigator?.language;return Tq??t??e??"en"}function os(){return $d===void 0&&($d=LI()),$d}function Cq(t=os()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(t)?.[1].toLowerCase()}const Dy=[];function Mq(t){return Dy.push(t),dn(()=>Dy.splice(Dy.indexOf(t),1))}const Fy=[];function ew(t){return Fy.push(t),dn(()=>Fy.splice(Fy.indexOf(t),1))}function kI(){const t=LI();$d!==t&&([...Fy].forEach(e=>e(t)),$d=t,[...Dy].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",kI),tw&&new MutationObserver(()=>{kI()}).observe(tw,{attributeFilter:["lang"]});const RI=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class mc extends Error{}class Iq extends mc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Oq extends mc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Pq extends mc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class sh extends mc{}class DI extends mc{constructor(e){super(`Invalid unit ${e}`)}}class mi extends mc{}class ja extends mc{constructor(){super("Zone is an abstract class")}}const vt="numeric",as="short",pr="long",Uy={year:vt,month:vt,day:vt},FI={year:vt,month:as,day:vt},Nq={year:vt,month:as,day:vt,weekday:as},UI={year:vt,month:pr,day:vt},$I={year:vt,month:pr,day:vt,weekday:pr},GI={hour:vt,minute:vt},jI={hour:vt,minute:vt,second:vt},BI={hour:vt,minute:vt,second:vt,timeZoneName:as},WI={hour:vt,minute:vt,second:vt,timeZoneName:pr},zI={hour:vt,minute:vt,hourCycle:"h23"},qI={hour:vt,minute:vt,second:vt,hourCycle:"h23"},VI={hour:vt,minute:vt,second:vt,hourCycle:"h23",timeZoneName:as},HI={hour:vt,minute:vt,second:vt,hourCycle:"h23",timeZoneName:pr},YI={year:vt,month:vt,day:vt,hour:vt,minute:vt},JI={year:vt,month:vt,day:vt,hour:vt,minute:vt,second:vt},ZI={year:vt,month:as,day:vt,hour:vt,minute:vt},KI={year:vt,month:as,day:vt,hour:vt,minute:vt,second:vt},Lq={year:vt,month:as,day:vt,weekday:as,hour:vt,minute:vt},XI={year:vt,month:pr,day:vt,hour:vt,minute:vt,timeZoneName:as},QI={year:vt,month:pr,day:vt,hour:vt,minute:vt,second:vt,timeZoneName:as},tO={year:vt,month:pr,day:vt,weekday:pr,hour:vt,minute:vt,timeZoneName:pr},eO={year:vt,month:pr,day:vt,weekday:pr,hour:vt,minute:vt,second:vt,timeZoneName:pr};class oh{get type(){throw new ja}get name(){throw new ja}get ianaName(){return this.name}get isUniversal(){throw new ja}offsetName(e,n){throw new ja}formatOffset(e,n){throw new ja}offset(e){throw new ja}equals(e){throw new ja}get isValid(){throw new ja}}let nw=null;class Db extends oh{static get instance(){return nw===null&&(nw=new Db),nw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return TO(e,n,i)}formatOffset(e,n){return Bd(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let $y={};function kq(t){return $y[t]||($y[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),$y[t]}const Rq={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Dq(t,e){const n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,s,o,a,l,c,p]=i;return[o,r,s,a,l,c,p]}function Fq(t,e){const n=t.formatToParts(e),i=[];for(let r=0;r<n.length;r++){const{type:s,value:o}=n[r],a=Rq[s];s==="era"?i[a]=o:Wt(a)||(i[a]=parseInt(o,10))}return i}let Gy={};class Ao extends oh{static create(e){return Gy[e]||(Gy[e]=new Ao(e)),Gy[e]}static resetCache(){Gy={},$y={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ao.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return TO(e,n,i,this.name)}formatOffset(e,n){return Bd(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const i=kq(this.name);let[r,s,o,a,l,c,p]=i.formatToParts?Fq(i,n):Dq(i,n);a==="BC"&&(r=-Math.abs(r)+1);const d=Vy({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:p,millisecond:0});let f=+n;const y=f%1e3;return f-=y>=0?y:1e3+y,(d-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let nO={};function Uq(t,e={}){const n=JSON.stringify([t,e]);let i=nO[n];return i||(i=new Intl.ListFormat(t,e),nO[n]=i),i}let iw={};function rw(t,e={}){const n=JSON.stringify([t,e]);let i=iw[n];return i||(i=new Intl.DateTimeFormat(t,e),iw[n]=i),i}let sw={};function $q(t,e={}){const n=JSON.stringify([t,e]);let i=sw[n];return i||(i=new Intl.NumberFormat(t,e),sw[n]=i),i}let ow={};function Gq(t,e={}){const{base:n,...i}=e,r=JSON.stringify([t,i]);let s=ow[r];return s||(s=new Intl.RelativeTimeFormat(t,e),ow[r]=s),s}let jy=null;function jq(){return jy||(jy=new Intl.DateTimeFormat().resolvedOptions().locale,jy)}let iO={};function Bq(t){let e=iO[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,iO[t]=e}return e}function Wq(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let i,r;try{i=rw(t).resolvedOptions(),r=t}catch{const a=t.substring(0,n);i=rw(a).resolvedOptions(),r=a}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function zq(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function qq(t){const e=[];for(let n=1;n<=12;n++){const i=Ut.utc(2009,n,1);e.push(t(i))}return e}function Vq(t){const e=[];for(let n=1;n<=7;n++){const i=Ut.utc(2016,11,13+n);e.push(t(i))}return e}function By(t,e,n,i){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):i(e)}function Hq(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Yq{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=$q(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):fw(e,3);return Nn(n,this.padTo)}}}class Jq{constructor(e,n,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ao.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=rw(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:i}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Zq{constructor(e,n,i){this.opts={style:"long",...i},!n&&xO()&&(this.rtf=Gq(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):bV(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const Kq={firstDay:1,minimalDays:4,weekend:[6,7]};class Me{static fromOpts(e){return Me.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,i,r,s=!1){const o=e||mn.defaultLocale,a=o||(s?"en-US":jq()),l=n||mn.defaultNumberingSystem,c=i||mn.defaultOutputCalendar,p=pw(r)||mn.defaultWeekSettings;return new Me(a,l,c,p,o)}static resetCache(){jy=null,iw={},sw={},ow={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:i,weekSettings:r}={}){return Me.create(e,n,i,r)}constructor(e,n,i,r,s){const[o,a,l]=Wq(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=zq(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Hq(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Me.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,pw(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return By(this,e,IO,()=>{const i=n?{month:e,day:"numeric"}:{month:e},r=n?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=qq(s=>this.extract(s,i,"month"))),this.monthsCache[r][e]})}weekdays(e,n=!1){return By(this,e,NO,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=Vq(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return By(this,void 0,()=>LO,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ut.utc(2016,11,13,9),Ut.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return By(this,e,kO,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ut.utc(-40,1,1),Ut.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,n,i){const r=this.dtFormatter(e,n),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new Yq(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Jq(e,this.intl,n)}relFormatter(e={}){return new Zq(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Uq(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:SO()?Bq(this.locale):Kq}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let aw=null;class ci extends oh{static get utcInstance(){return aw===null&&(aw=new ci(0)),aw}static instance(e){return e===0?ci.utcInstance:new ci(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ci(Hy(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Bd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Bd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Bd(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Xq extends oh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ba(t,e){if(Wt(t)||t===null)return e;if(t instanceof oh)return t;if(rV(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Db.instance:n==="utc"||n==="gmt"?ci.utcInstance:ci.parseSpecifier(n)||Ao.create(t)}else return Wa(t)?ci.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Xq(t)}const lw={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},rO={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Qq=lw.hanidec.replace(/[\[|\]]/g,"").split("");function tV(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(t[n].search(lw.hanidec)!==-1)e+=Qq.indexOf(t[n]);else for(const r in rO){const[s,o]=rO[r];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}let ah={};function eV(){ah={}}function ls({numberingSystem:t},e=""){const n=t||"latn";return ah[n]||(ah[n]={}),ah[n][e]||(ah[n][e]=new RegExp(`${lw[n]}${e}`)),ah[n][e]}let sO=()=>Date.now(),oO="system",aO=null,lO=null,cO=null,uO=60,hO,pO=null;class mn{static get now(){return sO}static set now(e){sO=e}static set defaultZone(e){oO=e}static get defaultZone(){return Ba(oO,Db.instance)}static get defaultLocale(){return aO}static set defaultLocale(e){aO=e}static get defaultNumberingSystem(){return lO}static set defaultNumberingSystem(e){lO=e}static get defaultOutputCalendar(){return cO}static set defaultOutputCalendar(e){cO=e}static get defaultWeekSettings(){return pO}static set defaultWeekSettings(e){pO=pw(e)}static get twoDigitCutoffYear(){return uO}static set twoDigitCutoffYear(e){uO=e%100}static get throwOnInvalid(){return hO}static set throwOnInvalid(e){hO=e}static resetCaches(){Me.resetCache(),Ao.resetCache(),Ut.resetCache(),eV()}}class cs{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const dO=[0,31,59,90,120,151,181,212,243,273,304,334],fO=[0,31,60,91,121,152,182,213,244,274,305,335];function kr(t,e){return new cs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function cw(t,e,n){const i=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function mO(t,e,n){return n+(Gd(t)?fO:dO)[e-1]}function yO(t,e){const n=Gd(t)?fO:dO,i=n.findIndex(s=>s<e),r=e-n[i];return{month:i+1,day:r}}function uw(t,e){return(t-e+7)%7+1}function Wy(t,e=4,n=1){const{year:i,month:r,day:s}=t,o=mO(i,r,s),a=uw(cw(i,r,s),n);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=i-1,l=jd(c,e,n)):l>jd(i,e,n)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...Jy(t)}}function gO(t,e=4,n=1){const{weekYear:i,weekNumber:r,weekday:s}=t,o=uw(cw(i,1,e),n),a=ch(i);let l=r*7+s-o-7+e,c;l<1?(c=i-1,l+=ch(c)):l>a?(c=i+1,l-=ch(i)):c=i;const{month:p,day:d}=yO(c,l);return{year:c,month:p,day:d,...Jy(t)}}function hw(t){const{year:e,month:n,day:i}=t,r=mO(e,n,i);return{year:e,ordinal:r,...Jy(t)}}function vO(t){const{year:e,ordinal:n}=t,{month:i,day:r}=yO(e,n);return{year:e,month:i,day:r,...Jy(t)}}function bO(t,e){if(!Wt(t.localWeekday)||!Wt(t.localWeekNumber)||!Wt(t.localWeekYear)){if(!Wt(t.weekday)||!Wt(t.weekNumber)||!Wt(t.weekYear))throw new sh("Cannot mix locale-based week fields with ISO-based week fields");return Wt(t.localWeekday)||(t.weekday=t.localWeekday),Wt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Wt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function nV(t,e=4,n=1){const i=zy(t.weekYear),r=Rr(t.weekNumber,1,jd(t.weekYear,e,n)),s=Rr(t.weekday,1,7);return i?r?s?!1:kr("weekday",t.weekday):kr("week",t.weekNumber):kr("weekYear",t.weekYear)}function iV(t){const e=zy(t.year),n=Rr(t.ordinal,1,ch(t.year));return e?n?!1:kr("ordinal",t.ordinal):kr("year",t.year)}function _O(t){const e=zy(t.year),n=Rr(t.month,1,12),i=Rr(t.day,1,qy(t.year,t.month));return e?n?i?!1:kr("day",t.day):kr("month",t.month):kr("year",t.year)}function wO(t){const{hour:e,minute:n,second:i,millisecond:r}=t,s=Rr(e,0,23)||e===24&&n===0&&i===0&&r===0,o=Rr(n,0,59),a=Rr(i,0,59),l=Rr(r,0,999);return s?o?a?l?!1:kr("millisecond",r):kr("second",i):kr("minute",n):kr("hour",e)}function Wt(t){return typeof t>"u"}function Wa(t){return typeof t=="number"}function zy(t){return typeof t=="number"&&t%1===0}function rV(t){return typeof t=="string"}function sV(t){return Object.prototype.toString.call(t)==="[object Date]"}function xO(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function SO(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function oV(t){return Array.isArray(t)?t:[t]}function AO(t,e,n){if(t.length!==0)return t.reduce((i,r)=>{const s=[e(r),r];return i&&n(i[0],s[0])===i[0]?i:s},null)[1]}function aV(t,e){return e.reduce((n,i)=>(n[i]=t[i],n),{})}function lh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pw(t){if(t==null)return null;if(typeof t!="object")throw new mi("Week settings must be an object");if(!Rr(t.firstDay,1,7)||!Rr(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Rr(e,1,7)))throw new mi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Rr(t,e,n){return zy(t)&&t>=e&&t<=n}function lV(t,e){return t-e*Math.floor(t/e)}function Nn(t,e=2){const n=t<0;let i;return n?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function za(t){if(!(Wt(t)||t===null||t===""))return parseInt(t,10)}function yc(t){if(!(Wt(t)||t===null||t===""))return parseFloat(t)}function dw(t){if(!(Wt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function fw(t,e,n=!1){const i=10**e;return(n?Math.trunc:Math.round)(t*i)/i}function Gd(t){return t%4===0&&(t%100!==0||t%400===0)}function ch(t){return Gd(t)?366:365}function qy(t,e){const n=lV(e-1,12)+1,i=t+(e-n)/12;return n===2?Gd(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Vy(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function EO(t,e,n){return-uw(cw(t,1,e),n)+e-1}function jd(t,e=4,n=1){const i=EO(t,e,n),r=EO(t+1,e,n);return(ch(t)-i+r)/7}function mw(t){return t>99?t:t>mn.twoDigitCutoffYear?1900+t:2e3+t}function TO(t,e,n,i=null){const r=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Hy(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const i=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-i:i;return n*60+r}function CO(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new mi(`Invalid unit value ${t}`);return e}function Yy(t,e){const n={};for(const i in t)if(lh(t,i)){const r=t[i];if(r==null)continue;n[e(i)]=CO(r)}return n}function Bd(t,e){const n=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${Nn(n,2)}:${Nn(i,2)}`;case"narrow":return`${r}${n}${i>0?`:${i}`:""}`;case"techie":return`${r}${Nn(n,2)}${Nn(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Jy(t){return aV(t,["hour","minute","second","millisecond"])}const cV=["January","February","March","April","May","June","July","August","September","October","November","December"],MO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],uV=["J","F","M","A","M","J","J","A","S","O","N","D"];function IO(t){switch(t){case"narrow":return[...uV];case"short":return[...MO];case"long":return[...cV];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const OO=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],PO=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],hV=["M","T","W","T","F","S","S"];function NO(t){switch(t){case"narrow":return[...hV];case"short":return[...PO];case"long":return[...OO];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const LO=["AM","PM"],pV=["Before Christ","Anno Domini"],dV=["BC","AD"],fV=["B","A"];function kO(t){switch(t){case"narrow":return[...fV];case"short":return[...dV];case"long":return[...pV];default:return null}}function mV(t){return LO[t.hour<12?0:1]}function yV(t,e){return NO(e)[t.weekday-1]}function gV(t,e){return IO(e)[t.month-1]}function vV(t,e){return kO(e)[t.year<0?0:1]}function bV(t,e,n="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${r[t][0]}`;case-1:return d?"yesterday":`last ${r[t][0]}`;case 0:return d?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[t],p=i?l?c[1]:c[2]||c[1]:l?r[t][0]:t;return o?`${a} ${p} ago`:`in ${a} ${p}`}function RO(t,e){let n="";for(const i of t)i.literal?n+=i.val:n+=e(i.val);return n}const _V={D:Uy,DD:FI,DDD:UI,DDDD:$I,t:GI,tt:jI,ttt:BI,tttt:WI,T:zI,TT:qI,TTT:VI,TTTT:HI,f:YI,ff:ZI,fff:XI,ffff:tO,F:JI,FF:KI,FFF:QI,FFFF:eO};class Ti{static create(e,n={}){return new Ti(e,n)}static parseFormat(e){let n=null,i="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),n=null,i="",r=!r):r||a===n?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,n=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return _V[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Nn(e,n);const i={...this.opts};return n>0&&(i.padTo=n),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,n){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(e,y,g),o=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",a=()=>i?mV(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>i?gV(e,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>i?yV(e,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),p=y=>{const g=Ti.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(e,g):y},d=y=>i?vV(e,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(y)}};return RO(Ti.parseFormat(n),f)}formatDurationFromString(e,n){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const p=i(c);return p?this.num(l.get(p),c.length):c},s=Ti.parseFormat(n),o=s.reduce((l,{literal:c,val:p})=>c?l:l.concat(p),[]),a=e.shiftTo(...o.map(i).filter(l=>l));return RO(s,r(a))}}const DO=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function uh(...t){const e=t.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function hh(...t){return e=>t.reduce(([n,i,r],s)=>{const[o,a,l]=s(e,r);return[{...n,...o},a||i,l]},[{},null,1]).slice(0,2)}function ph(t,...e){if(t==null)return[null,null];for(const[n,i]of e){const r=n.exec(t);if(r)return i(r)}return[null,null]}function FO(...t){return(e,n)=>{const i={};let r;for(r=0;r<t.length;r++)i[t[r]]=za(e[n+r]);return[i,null,n+r]}}const UO=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,wV=`(?:${UO.source}?(?:\\[(${DO.source})\\])?)?`,yw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,$O=RegExp(`${yw.source}${wV}`),gw=RegExp(`(?:T${$O.source})?`),xV=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,SV=/(\d{4})-?W(\d\d)(?:-?(\d))?/,AV=/(\d{4})-?(\d{3})/,EV=FO("weekYear","weekNumber","weekDay"),TV=FO("year","ordinal"),CV=/(\d{4})-(\d\d)-(\d\d)/,GO=RegExp(`${yw.source} ?(?:${UO.source}|(${DO.source}))?`),MV=RegExp(`(?: ${GO.source})?`);function dh(t,e,n){const i=t[e];return Wt(i)?n:za(i)}function IV(t,e){return[{year:dh(t,e),month:dh(t,e+1,1),day:dh(t,e+2,1)},null,e+3]}function fh(t,e){return[{hours:dh(t,e,0),minutes:dh(t,e+1,0),seconds:dh(t,e+2,0),milliseconds:dw(t[e+3])},null,e+4]}function Wd(t,e){const n=!t[e]&&!t[e+1],i=Hy(t[e+1],t[e+2]),r=n?null:ci.instance(i);return[{},r,e+3]}function zd(t,e){const n=t[e]?Ao.create(t[e]):null;return[{},n,e+1]}const OV=RegExp(`^T?${yw.source}$`),PV=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function NV(t){const[e,n,i,r,s,o,a,l,c]=t,p=e[0]==="-",d=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&p)?-y:y;return[{years:f(yc(n)),months:f(yc(i)),weeks:f(yc(r)),days:f(yc(s)),hours:f(yc(o)),minutes:f(yc(a)),seconds:f(yc(l),l==="-0"),milliseconds:f(dw(c),d)}]}const LV={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vw(t,e,n,i,r,s,o){const a={year:e.length===2?mw(za(e)):za(e),month:MO.indexOf(n)+1,day:za(i),hour:za(r),minute:za(s)};return o&&(a.second=za(o)),t&&(a.weekday=t.length>3?OO.indexOf(t)+1:PO.indexOf(t)+1),a}const kV=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function RV(t){const[,e,n,i,r,s,o,a,l,c,p,d]=t,f=vw(e,r,i,n,s,o,a);let y;return l?y=LV[l]:c?y=0:y=Hy(p,d),[f,new ci(y)]}function DV(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const FV=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,UV=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$V=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function jO(t){const[,e,n,i,r,s,o,a]=t;return[vw(e,r,i,n,s,o,a),ci.utcInstance]}function GV(t){const[,e,n,i,r,s,o,a]=t;return[vw(e,a,n,i,r,s,o),ci.utcInstance]}const jV=uh(xV,gw),BV=uh(SV,gw),WV=uh(AV,gw),zV=uh($O),BO=hh(IV,fh,Wd,zd),qV=hh(EV,fh,Wd,zd),VV=hh(TV,fh,Wd,zd),HV=hh(fh,Wd,zd);function YV(t){return ph(t,[jV,BO],[BV,qV],[WV,VV],[zV,HV])}function JV(t){return ph(DV(t),[kV,RV])}function ZV(t){return ph(t,[FV,jO],[UV,jO],[$V,GV])}function KV(t){return ph(t,[PV,NV])}const XV=hh(fh);function QV(t){return ph(t,[OV,XV])}const tH=uh(CV,MV),eH=uh(GO),nH=hh(fh,Wd,zd);function iH(t){return ph(t,[tH,BO],[eH,nH])}const WO="Invalid Duration",zO={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},rH={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...zO},Dr=146097/400,mh=146097/4800,sH={years:{quarters:4,months:12,weeks:Dr/7,days:Dr,hours:Dr*24,minutes:Dr*24*60,seconds:Dr*24*60*60,milliseconds:Dr*24*60*60*1e3},quarters:{months:3,weeks:Dr/28,days:Dr/4,hours:Dr*24/4,minutes:Dr*24*60/4,seconds:Dr*24*60*60/4,milliseconds:Dr*24*60*60*1e3/4},months:{weeks:mh/7,days:mh,hours:mh*24,minutes:mh*24*60,seconds:mh*24*60*60,milliseconds:mh*24*60*60*1e3},...zO},gc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],oH=gc.slice(0).reverse();function qa(t,e,n=!1){const i={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new ye(i)}function qO(t,e){let n=e.milliseconds??0;for(const i of oH.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function VO(t,e){const n=qO(t,e)<0?-1:1;gc.reduceRight((i,r)=>{if(Wt(e[r]))return i;if(i){const s=e[i]*n,o=t[r][i],a=Math.floor(s/o);e[r]+=a*n,e[i]-=a*o*n}return r},null),gc.reduce((i,r)=>{if(Wt(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*t[i][r]}return r},null)}function aH(t){const e={};for(const[n,i]of Object.entries(t))i!==0&&(e[n]=i);return e}class ye{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let i=n?sH:rH;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Me.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,n){return ye.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new mi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ye({values:Yy(e,ye.normalizeUnit),loc:Me.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Wa(e))return ye.fromMillis(e);if(ye.isDuration(e))return e;if(typeof e=="object")return ye.fromObject(e);throw new mi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[i]=KV(e);return i?ye.fromObject(i,n):ye.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[i]=QV(e);return i?ye.fromObject(i,n):ye.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new mi("need to specify a reason the Duration is invalid");const i=e instanceof cs?e:new cs(e,n);if(mn.throwOnInvalid)throw new Pq(i);return new ye({invalid:i})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new DI(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ti.create(this.loc,i).formatDurationFromString(this,e):WO}toHuman(e={}){if(!this.isValid)return WO;const n=gc.map(i=>{const r=this.values[i];return Wt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=fw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ut.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?qO(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e),i={};for(const r of gc)(lh(n.values,r)||lh(this.values,r))&&(i[r]=n.get(r)+this.get(r));return qa(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const i of Object.keys(this.values))n[i]=CO(e(this.values[i],i));return qa(this,{values:n},!0)}get(e){return this[ye.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Yy(e,ye.normalizeUnit)};return qa(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i,matrix:r}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:i};return qa(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return VO(this.matrix,e),qa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=aH(this.normalize().shiftToAll().toObject());return qa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>ye.normalizeUnit(o));const n={},i={},r=this.toObject();let s;for(const o of gc)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;Wa(r[o])&&(a+=r[o]);const l=Math.trunc(a);n[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else Wa(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(n[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return VO(this.matrix,n),qa(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return qa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of gc)if(!n(this.values[i],e.values[i]))return!1;return!0}}const yh="Invalid Interval";function lH(t,e){return!t||!t.isValid?_n.invalid("missing or invalid start"):!e||!e.isValid?_n.invalid("missing or invalid end"):e<t?_n.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class _n{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new mi("need to specify a reason the Interval is invalid");const i=e instanceof cs?e:new cs(e,n);if(mn.throwOnInvalid)throw new Oq(i);return new _n({invalid:i})}static fromDateTimes(e,n){const i=Vd(e),r=Vd(n);return lH(i,r)??new _n({start:i,end:r})}static after(e,n){const i=ye.fromDurationLike(n),r=Vd(e);return _n.fromDateTimes(r,r.plus(i))}static before(e,n){const i=ye.fromDurationLike(n),r=Vd(e);return _n.fromDateTimes(r.minus(i),r)}static fromISO(e,n){const[i,r]=(e||"").split("/",2);if(i&&r){let s,o;try{s=Ut.fromISO(i,n),o=s.isValid}catch{o=!1}let a,l;try{a=Ut.fromISO(r,n),l=a.isValid}catch{l=!1}if(o&&l)return _n.fromDateTimes(s,a);if(o){const c=ye.fromISO(r,n);if(c.isValid)return _n.after(s,c)}else if(l){const c=ye.fromISO(i,n);if(c.isValid)return _n.before(a,c)}}return _n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const i=this.start.startOf(e,n);let r;return n?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,n),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?_n.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Vd).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=n[s]||this.e,a=+o>+this.e?this.e:o;i.push(_n.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(e){const n=ye.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(_n.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:_n.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return _n.fromDateTimes(n,i)}static merge(e){const[n,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?n=l.time:(n&&+n!=+l.time&&r.push(_n.fromDateTimes(n,l.time)),n=null);return _n.merge(r)}difference(...e){return _n.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:yh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Uy,n={}){return this.isValid?Ti.create(this.s.loc.clone(n),e).formatInterval(this):yh}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:yh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:yh}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:yh}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:yh}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):ye.invalid(this.invalidReason)}mapEndpoints(e){return _n.fromDateTimes(e(this.s),e(this.e))}}class Zy{static hasDST(e=mn.defaultZone){const n=Ut.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Ao.isValidZone(e)}static normalizeZone(e){return Ba(e,mn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Me.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Me.create(n,i,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Me.create(n,i,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Me.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Me.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Me.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Me.create(n,null,"gregory").eras(e)}static features(){return{relative:xO(),localeWeek:SO()}}}function HO(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(t);return Math.floor(ye.fromMillis(i).as("days"))}function cH(t,e,n){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const p=HO(l,c);return(p-p%7)/7}],["days",HO]],r={},s=t;let o,a;for(const[l,c]of i)n.indexOf(l)>=0&&(o=l,r[l]=c(t,e),a=s.plus(r),a>e?(r[l]--,t=s.plus(r),t>e&&(a=t,r[l]--,t=s.plus(r))):t=a);return[t,r,a,o]}function uH(t,e,n,i){let[r,s,o,a]=cH(t,e,n);const l=e-r,c=n.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const p=ye.fromObject(s,i);return c.length>0?ye.fromMillis(l,i).shiftTo(...c).plus(p):p}const hH="missing Intl.DateTimeFormat.formatToParts support";function _e(t,e=n=>n){return{regex:t,deser:([n])=>e(tV(n))}}const pH="\xA0",YO=`[ ${pH}]`,JO=new RegExp(YO,"g");function dH(t){return t.replace(/\./g,"\\.?").replace(JO,YO)}function ZO(t){return t.replace(/\./g,"").replace(JO," ").toLowerCase()}function us(t,e){return t===null?null:{regex:RegExp(t.map(dH).join("|")),deser:([n])=>t.findIndex(i=>ZO(n)===ZO(i))+e}}function KO(t,e){return{regex:t,deser:([,n,i])=>Hy(n,i),groups:e}}function Ky(t){return{regex:t,deser:([e])=>e}}function fH(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function mH(t,e){const n=ls(e),i=ls(e,"{2}"),r=ls(e,"{3}"),s=ls(e,"{4}"),o=ls(e,"{6}"),a=ls(e,"{1,2}"),l=ls(e,"{1,3}"),c=ls(e,"{1,6}"),p=ls(e,"{1,9}"),d=ls(e,"{2,4}"),f=ls(e,"{4,6}"),y=_=>({regex:RegExp(fH(_.val)),deser:([w])=>w,literal:!0}),g=(_=>{if(t.literal)return y(_);switch(_.val){case"G":return us(e.eras("short"),0);case"GG":return us(e.eras("long"),0);case"y":return _e(c);case"yy":return _e(d,mw);case"yyyy":return _e(s);case"yyyyy":return _e(f);case"yyyyyy":return _e(o);case"M":return _e(a);case"MM":return _e(i);case"MMM":return us(e.months("short",!0),1);case"MMMM":return us(e.months("long",!0),1);case"L":return _e(a);case"LL":return _e(i);case"LLL":return us(e.months("short",!1),1);case"LLLL":return us(e.months("long",!1),1);case"d":return _e(a);case"dd":return _e(i);case"o":return _e(l);case"ooo":return _e(r);case"HH":return _e(i);case"H":return _e(a);case"hh":return _e(i);case"h":return _e(a);case"mm":return _e(i);case"m":return _e(a);case"q":return _e(a);case"qq":return _e(i);case"s":return _e(a);case"ss":return _e(i);case"S":return _e(l);case"SSS":return _e(r);case"u":return Ky(p);case"uu":return Ky(a);case"uuu":return _e(n);case"a":return us(e.meridiems(),0);case"kkkk":return _e(s);case"kk":return _e(d,mw);case"W":return _e(a);case"WW":return _e(i);case"E":case"c":return _e(n);case"EEE":return us(e.weekdays("short",!1),1);case"EEEE":return us(e.weekdays("long",!1),1);case"ccc":return us(e.weekdays("short",!0),1);case"cccc":return us(e.weekdays("long",!0),1);case"Z":case"ZZ":return KO(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return KO(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Ky(/[a-z_+-/]{1,256}?/i);case" ":return Ky(/[^\S\n\r]/);default:return y(_)}})(t)||{invalidReason:hH};return g.token=t,g}const yH={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function gH(t,e,n){const{type:i,value:r}=t;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=yH[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function vH(t){return[`^${t.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,t]}function bH(t,e,n){const i=t.match(e);if(i){const r={};let s=1;for(const o in n)if(lh(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function _H(t){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,i;return Wt(t.z)||(n=Ao.create(t.z)),Wt(t.Z)||(n||(n=new ci(t.Z)),i=t.Z),Wt(t.q)||(t.M=(t.q-1)*3+1),Wt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Wt(t.u)||(t.S=dw(t.u)),[Object.keys(t).reduce((r,s)=>{const o=e(s);return o&&(r[o]=t[s]),r},{}),n,i]}let bw=null;function wH(){return bw||(bw=Ut.fromMillis(1555555555555)),bw}function xH(t,e){if(t.literal)return t;const n=Ti.macroTokenToFormatOpts(t.val),i=e6(n,e);return i==null||i.includes(void 0)?t:i}function XO(t,e){return Array.prototype.concat(...t.map(n=>xH(n,e)))}class QO{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=XO(Ti.parseFormat(n),e),this.units=this.tokens.map(i=>mH(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=vH(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[n,i]=bH(e,this.regex,this.handlers),[r,s,o]=i?_H(i):[null,null,void 0];if(lh(i,"a")&&lh(i,"H"))throw new sh("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:i,result:r,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function t6(t,e,n){return new QO(t,n).explainFromTokens(e)}function SH(t,e,n){const{result:i,zone:r,specificOffset:s,invalidReason:o}=t6(t,e,n);return[i,r,s,o]}function e6(t,e){if(!t)return null;const n=Ti.create(e,t).dtFormatter(wH()),i=n.formatToParts(),r=n.resolvedOptions();return i.map(s=>gH(s,t,r))}const _w="Invalid DateTime",n6=864e13;function qd(t){return new cs("unsupported zone",`the zone "${t.name}" is not supported`)}function ww(t){return t.weekData===null&&(t.weekData=Wy(t.c)),t.weekData}function xw(t){return t.localWeekData===null&&(t.localWeekData=Wy(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function vc(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Ut({...n,...e,old:n})}function i6(t,e,n){let i=t-e*60*1e3;const r=n.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=n.offset(i);return r===s?[i,r]:[t-Math.min(r,s)*60*1e3,Math.max(r,s)]}function Xy(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Qy(t,e,n){return i6(Vy(t),e,n)}function r6(t,e){const n=t.o,i=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:i,month:r,day:Math.min(t.c.day,qy(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=ye.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Vy(s);let[l,c]=i6(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function gh(t,e,n,i,r,s){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=Ut.fromObject(t,{...n,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Ut.invalid(new cs("unparsable",`the input "${r}" can't be parsed as ${i}`))}function tg(t,e,n=!0){return t.isValid?Ti.create(Me.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Sw(t,e){const n=t.c.year>9999||t.c.year<0;let i="";return n&&t.c.year>=0&&(i+="+"),i+=Nn(t.c.year,n?6:4),e?(i+="-",i+=Nn(t.c.month),i+="-",i+=Nn(t.c.day)):(i+=Nn(t.c.month),i+=Nn(t.c.day)),i}function s6(t,e,n,i,r,s){let o=Nn(t.c.hour);return e?(o+=":",o+=Nn(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Nn(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Nn(t.c.second),(t.c.millisecond!==0||!i)&&(o+=".",o+=Nn(t.c.millisecond,3))),r&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Nn(Math.trunc(-t.o/60)),o+=":",o+=Nn(Math.trunc(-t.o%60))):(o+="+",o+=Nn(Math.trunc(t.o/60)),o+=":",o+=Nn(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const o6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},AH={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},EH={ordinal:1,hour:0,minute:0,second:0,millisecond:0},a6=["year","month","day","hour","minute","second","millisecond"],TH=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],CH=["year","ordinal","hour","minute","second","millisecond"];function MH(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new DI(t);return e}function l6(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return MH(t)}}function IH(t){return ng[t]||(eg===void 0&&(eg=mn.now()),ng[t]=t.offset(eg)),ng[t]}function c6(t,e){const n=Ba(e.zone,mn.defaultZone);if(!n.isValid)return Ut.invalid(qd(n));const i=Me.fromObject(e);let r,s;if(Wt(t.year))r=mn.now();else{for(const l of a6)Wt(t[l])&&(t[l]=o6[l]);const o=_O(t)||wO(t);if(o)return Ut.invalid(o);const a=IH(n);[r,s]=Qy(t,a,n)}return new Ut({ts:r,zone:n,loc:i,o:s})}function u6(t,e,n){const i=Wt(n.round)?!0:n.round,r=(o,a)=>(o=fw(o,i||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,a)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return r(s(n.unit),n.unit);for(const o of n.units){const a=s(o);if(Math.abs(a)>=1)return r(a,o)}return r(t>e?-0:0,n.units[n.units.length-1])}function h6(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let eg,ng={};class Ut{constructor(e){const n=e.zone||mn.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new cs("invalid input"):null)||(n.isValid?null:qd(n));this.ts=Wt(e.ts)?mn.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,s]=[e.old.c,e.old.o];else{const o=Wa(e.o)&&!e.old?e.o:n.offset(this.ts);r=Xy(this.ts,o),i=Number.isNaN(r.year)?new cs("invalid input"):null,r=i?null:r,s=i?null:o}this._zone=n,this.loc=e.loc||Me.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ut({})}static local(){const[e,n]=h6(arguments),[i,r,s,o,a,l,c]=n;return c6({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=h6(arguments),[i,r,s,o,a,l,c]=n;return e.zone=ci.utcInstance,c6({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const i=sV(e)?e.valueOf():NaN;if(Number.isNaN(i))return Ut.invalid("invalid input");const r=Ba(n.zone,mn.defaultZone);return r.isValid?new Ut({ts:i,zone:r,loc:Me.fromObject(n)}):Ut.invalid(qd(r))}static fromMillis(e,n={}){if(Wa(e))return e<-n6||e>n6?Ut.invalid("Timestamp out of range"):new Ut({ts:e,zone:Ba(n.zone,mn.defaultZone),loc:Me.fromObject(n)});throw new mi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Wa(e))return new Ut({ts:e*1e3,zone:Ba(n.zone,mn.defaultZone),loc:Me.fromObject(n)});throw new mi("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const i=Ba(n.zone,mn.defaultZone);if(!i.isValid)return Ut.invalid(qd(i));const r=Me.fromObject(n),s=Yy(e,l6),{minDaysInFirstWeek:o,startOfWeek:a}=bO(s,r),l=mn.now(),c=Wt(n.specificOffset)?i.offset(l):n.specificOffset,p=!Wt(s.ordinal),d=!Wt(s.year),f=!Wt(s.month)||!Wt(s.day),y=d||f,g=s.weekYear||s.weekNumber;if((y||p)&&g)throw new sh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&p)throw new sh("Can't mix ordinal dates with month/day");const _=g||s.weekday&&!y;let w,A,T=Xy(l,c);_?(w=TH,A=AH,T=Wy(T,o,a)):p?(w=CH,A=EH,T=hw(T)):(w=a6,A=o6);let x=!1;for(const W of w){const B=s[W];Wt(B)?x?s[W]=A[W]:s[W]=T[W]:x=!0}const b=_?nV(s,o,a):p?iV(s):_O(s),I=b||wO(s);if(I)return Ut.invalid(I);const O=_?gO(s,o,a):p?vO(s):s,[L,R]=Qy(O,c,i),D=new Ut({ts:L,zone:i,o:R,loc:r});return s.weekday&&y&&e.weekday!==D.weekday?Ut.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${D.toISO()}`):D.isValid?D:Ut.invalid(D.invalid)}static fromISO(e,n={}){const[i,r]=YV(e);return gh(i,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[i,r]=JV(e);return gh(i,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[i,r]=ZV(e);return gh(i,r,n,"HTTP",n)}static fromFormat(e,n,i={}){if(Wt(e)||Wt(n))throw new mi("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=Me.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,p]=SH(o,e,n);return p?Ut.invalid(p):gh(a,l,i,`format ${n}`,e,c)}static fromString(e,n,i={}){return Ut.fromFormat(e,n,i)}static fromSQL(e,n={}){const[i,r]=iH(e);return gh(i,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new mi("need to specify a reason the DateTime is invalid");const i=e instanceof cs?e:new cs(e,n);if(mn.throwOnInvalid)throw new Iq(i);return new Ut({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const i=e6(e,Me.fromObject(n));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return XO(Ti.parseFormat(e),Me.fromObject(n)).map(i=>i.val).join("")}static resetCache(){eg=void 0,ng={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ww(this).weekYear:NaN}get weekNumber(){return this.isValid?ww(this).weekNumber:NaN}get weekday(){return this.isValid?ww(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?xw(this).weekday:NaN}get localWeekNumber(){return this.isValid?xw(this).weekNumber:NaN}get localWeekYear(){return this.isValid?xw(this).weekYear:NaN}get ordinal(){return this.isValid?hw(this.c).ordinal:NaN}get monthShort(){return this.isValid?Zy.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Zy.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Zy.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Zy.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,i=Vy(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-r*n),a=this.zone.offset(i-s*n);if(o===a)return[this];const l=i-o*n,c=i-a*n,p=Xy(l,o),d=Xy(c,a);return p.hour===d.hour&&p.minute===d.minute&&p.second===d.second&&p.millisecond===d.millisecond?[vc(this,{ts:l}),vc(this,{ts:c})]:[this]}get isInLeapYear(){return Gd(this.year)}get daysInMonth(){return qy(this.year,this.month)}get daysInYear(){return this.isValid?ch(this.year):NaN}get weeksInWeekYear(){return this.isValid?jd(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?jd(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:i,calendar:r}=Ti.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(ci.instance(e),n)}toLocal(){return this.setZone(mn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=Ba(e,mn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||i){const s=e.offset(this.ts),o=this.toObject();[r]=Qy(o,s,e)}return vc(this,{ts:r,zone:e})}else return Ut.invalid(qd(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return vc(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Yy(e,l6),{minDaysInFirstWeek:i,startOfWeek:r}=bO(n,this.loc),s=!Wt(n.weekYear)||!Wt(n.weekNumber)||!Wt(n.weekday),o=!Wt(n.ordinal),a=!Wt(n.year),l=!Wt(n.month)||!Wt(n.day),c=a||l,p=n.weekYear||n.weekNumber;if((c||o)&&p)throw new sh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new sh("Can't mix ordinal dates with month/day");let d;s?d=gO({...Wy(this.c,i,r),...n},i,r):Wt(n.ordinal)?(d={...this.toObject(),...n},Wt(n.day)&&(d.day=Math.min(qy(d.year,d.month),d.day))):d=vO({...hw(this.c),...n});const[f,y]=Qy(d,this.o,this.zone);return vc(this,{ts:f,o:y})}plus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e);return vc(this,r6(this,n))}minus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e).negate();return vc(this,r6(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const i={},r=ye.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Ti.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):_w}toLocaleString(e=Uy,n={}){return this.isValid?Ti.create(this.loc.clone(n),e).formatDateTime(this):_w}toLocaleParts(e={}){return this.isValid?Ti.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Sw(this,o);return a+="T",a+=s6(this,o,n,i,r,s),a}toISODate({format:e="extended"}={}){return this.isValid?Sw(this,e==="extended"):null}toISOWeekDate(){return tg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+s6(this,o==="extended",n,e,i,s):null}toRFC2822(){return tg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return tg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Sw(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(i&&(r+=" "),n?r+="z":e&&(r+="ZZ")),tg(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():_w}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return ye.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=oV(n).map(ye.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=uH(a,l,s,r);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(Ut.now(),e,n)}until(e){return this.isValid?_n.fromDateTimes(this,e):this}hasSame(e,n,i){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,i)<=r&&r<=s.endOf(n,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Ut.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),u6(n,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?u6(e.base||Ut.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ut.isDateTime))throw new mi("min requires all arguments be DateTimes");return AO(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Ut.isDateTime))throw new mi("max requires all arguments be DateTimes");return AO(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=Me.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return t6(o,e,n)}static fromStringExplain(e,n,i={}){return Ut.fromFormatExplain(e,n,i)}static buildFormatParser(e,n={}){const{locale:i=null,numberingSystem:r=null}=n,s=Me.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new QO(s,e)}static fromFormatParser(e,n,i={}){if(Wt(e)||Wt(n))throw new mi("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:s=null}=i,o=Me.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new mi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:p}=n.explainFromTokens(e);return p?Ut.invalid(p):gh(a,l,i,`format ${n.format}`,e,c)}static get DATE_SHORT(){return Uy}static get DATE_MED(){return FI}static get DATE_MED_WITH_WEEKDAY(){return Nq}static get DATE_FULL(){return UI}static get DATE_HUGE(){return $I}static get TIME_SIMPLE(){return GI}static get TIME_WITH_SECONDS(){return jI}static get TIME_WITH_SHORT_OFFSET(){return BI}static get TIME_WITH_LONG_OFFSET(){return WI}static get TIME_24_SIMPLE(){return zI}static get TIME_24_WITH_SECONDS(){return qI}static get TIME_24_WITH_SHORT_OFFSET(){return VI}static get TIME_24_WITH_LONG_OFFSET(){return HI}static get DATETIME_SHORT(){return YI}static get DATETIME_SHORT_WITH_SECONDS(){return JI}static get DATETIME_MED(){return ZI}static get DATETIME_MED_WITH_SECONDS(){return KI}static get DATETIME_MED_WITH_WEEKDAY(){return Lq}static get DATETIME_FULL(){return XI}static get DATETIME_FULL_WITH_SECONDS(){return QI}static get DATETIME_HUGE(){return tO}static get DATETIME_HUGE_WITH_SECONDS(){return eO}}function Vd(t){if(Ut.isDateTime(t))return t;if(t&&t.valueOf&&Wa(t.valueOf()))return Ut.fromJSDate(t);if(t&&typeof t=="object")return Ut.fromObject(t);throw new mi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const vh="system",ig="unknown",bh="UTC",OH=Intl.DateTimeFormat().resolvedOptions().timeZone,PH="shortOffset";function NH(t){return"timeZoneIANA"in t}function LH(t){return t.startsWith("UTC")}function kH(t,e=!1){return{json:{read:{source:t,reader:(n,i)=>i[t]?p6(i[t]):null},write:!!e&&{allowNull:!0,writer(n,i){i[t]=n?RH(n):null}}}}}function p6(t,e=vh){return t?NH(t)?t.timeZoneIANA:DH(t,e):e}function RH(t){return{timeZoneIANA:t}}function DH(t,e=vh){if(!t||!RI.has(t.timeZone))return e;const n=RI.get(t.timeZone);return LH(t.timeZone)||t.respectsDaylightSaving?n:FH(n)}function FH(t){const e=Ut.local().setZone(t),n=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return n===0?"Etc/UTC":`Etc/GMT${ci.instance(-n).formatOffset(0,"narrow")}`}function UH(t,e,n,i,r){if(e&&r==="date")return{timeZone:bh,timeZoneName:void 0};const s=i.timeStyle||i.hour,o=n===ig;return{timeZone:o?r==="timestamp-offset"?void 0:t??bh:n,timeZoneName:o&&s?PH:void 0}}function $H(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map(i=>i.toLowerCase()));return t===vh||t===ig||e.has(t.toLowerCase())||n.has(t.toLowerCase())}const GH={year:void 0,month:void 0,day:void 0,weekday:void 0},jH={hour:void 0,minute:void 0,second:void 0},d6={timeZone:bh},Vs={year:"numeric",month:"numeric",day:"numeric"},Hd={year:"numeric",month:"long",day:"numeric"},Yd={year:"numeric",month:"short",day:"numeric"},Jd={year:"numeric",month:"long",weekday:"long",day:"numeric"},Va={hour:"numeric",minute:"numeric"},bc={...Va,second:"numeric"},f6={hourCycle:"h23"},Zd={...Va,...f6},Kd={...bc,...f6},m6={"short-date":Vs,"short-date-short-time":{...Vs,...Va},"short-date-short-time-24":{...Vs,...Zd},"short-date-long-time":{...Vs,...bc},"short-date-long-time-24":{...Vs,...Kd},"short-date-le":Vs,"short-date-le-short-time":{...Vs,...Va},"short-date-le-short-time-24":{...Vs,...Zd},"short-date-le-long-time":{...Vs,...bc},"short-date-le-long-time-24":{...Vs,...Kd},"long-month-day-year":Hd,"long-month-day-year-short-time":{...Hd,...Va},"long-month-day-year-short-time-24":{...Hd,...Zd},"long-month-day-year-long-time":{...Hd,...bc},"long-month-day-year-long-time-24":{...Hd,...Kd},"day-short-month-year":Yd,"day-short-month-year-short-time":{...Yd,...Va},"day-short-month-year-short-time-24":{...Yd,...Zd},"day-short-month-year-long-time":{...Yd,...bc},"day-short-month-year-long-time-24":{...Yd,...Kd},"long-date":Jd,"long-date-short-time":{...Jd,...Va},"long-date-short-time-24":{...Jd,...Zd},"long-date-long-time":{...Jd,...bc},"long-date-long-time-24":{...Jd,...Kd},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Va,"long-time":bc},BH=Cr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),y6={ar:"ar-u-nu-latn-ca-gregory"};let Aw=new WeakMap;const rg=m6["short-date-short-time"];function WH(t){let e=Aw.get(t);if(!e){const n=os(),i=y6[n]||n,r=g6(t.timeZone??vh),s={...t,timeZone:r};e=new Intl.DateTimeFormat(i,s),Aw.set(t,e)}return e}function zH(t){return m6[t]}function sg(t,e=rg){return WH(e).format(t)}function qH(t,e=rg){return sg(new Date(t),{...e,...d6,...jH})}function VH(t,e=rg){return sg(new Date(`1970-01-01T${t}Z`),{...e,...d6,...GH})}function HH(t,e=rg){if(e.timeZone)return sg(new Date(t),e);const n=Ut.fromISO(t,{setZone:!0}),i=os(),r=y6[i]??i,s=n.offset===0?bh:e.timeZone,o={...e,timeZone:s};return n.toLocaleString(o,{locale:r})}function g6(t){switch(t){case vh:return OH;case ig:return bh;default:return t}}ew(()=>{Aw=new WeakMap});const YH={ar:"ar-u-nu-latn"};let og=new WeakMap,v6={};function Ew(t){const e=t||v6;if(!og.has(e)){const n=os(),i=YH[os()]||n;og.set(e,new Intl.NumberFormat(i,t))}return og.get(e)}function JH(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function ZH(t,e){return Object.is(t,-0)&&(t=0),Ew(e).format(t)}function KH(t,e=os()){if(!t)return null;let n=b6.get(e);if(!n){const i=Ew().formatToParts(12345.6),r=[...Ew({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(r.map((d,f)=>[d,f])),o=new RegExp(`[${i.find(d=>d.type==="group")?.value}]`,"g"),a=new RegExp(`[${i.find(d=>d.type==="decimal")?.value}]`),l=new RegExp(`[${r.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,p=/[-\u2212\u2013\u2014\u2015]/g;n=d=>{if((d=d.trim().replaceAll(o,"").replace(a,".").replace(l,y=>String(s.get(y))).replaceAll(c,"").replaceAll(p,"-"))==="")return null;const f=Number(d);return isNaN(f)?null:f},b6.set(e,n)}return n(t)}ew(()=>{og=new WeakMap,v6={}});const b6=new Map,_6=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,XH={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function w6(t){return t in XH}const Xd=[],_h=new Map;function x6(t){for(const e of _h.keys())S6(t.pattern,e)&&_h.delete(e)}function QH(t){return Xd.includes(t)||(x6(t),Xd.unshift(t)),dn(()=>{const e=Xd.indexOf(t);e>-1&&(Xd.splice(e,1),x6(t))})}async function tY(t){const e=os();_h.has(t)||_h.set(t,nY(t,e));const n=_h.get(t);return n&&await iY.add(n),n}function eY(t){if(!_6.test(t))return null;const e=_6.exec(t);if(e===null)return null;const[,n,i]=e,r=n+(i?"-"+i.toUpperCase():"");return w6(r)?r:w6(n)?n:null}async function nY(t,e){const n=[];for(const i of Xd)if(S6(i.pattern,t))try{return await i.fetchMessageBundle(t,e)}catch(r){n.push(r)}throw n.length?new oe("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:n}):new oe("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function S6(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}ew(()=>{_h.clear()});const iY=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=ec())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function rY(t,e,n,i){const r=e.exec(n);if(!r)throw new oe("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${e}"`);const s=r[1]?`${r[1]}/`:"",o=r[2],a=eY(i),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let p;try{p=await A6(t(c))}catch(d){if(c===l)throw new oe("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:d});try{p=await A6(t(l))}catch(f){throw new oe("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:f})}}return p}async function A6(t){if(E6.fetchBundleAsset!=null)return E6.fetchBundleAsset(t);const e=await fn(t,{responseType:"text"});return JSON.parse(e.data)}let sY=class{constructor({base:t="",pattern:e,location:n=new URL(window.location.href)}){let i;i=typeof n=="string"?r=>new URL(r,new URL(n,window.location.href)).href:n instanceof URL?r=>new URL(r,n).href:n,this.pattern=typeof e=="string"?new RegExp(`^${e}`):e,this.getAssetUrl=i,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,e){return rY(this.getAssetUrl,this.matcher,t,e)}};function oY(t){return new sY(t)}const E6={};QH(oY({pattern:"esri/",location:c_}));function Tw(t){return typeof t=="string"||t instanceof String}var wh;(function(t){t.HM="HH:mm",t.HMS="HH:mm:ss",t.HMS_MS="HH:mm:ss.SSS"})(wh||(wh={}));const aY=[wh.HMS_MS,wh.HMS,wh.HM,"TT"],lY="yyyy-MM-dd";wh.HMS;function T6(t){if(!t||!Tw(t))return null;const e=Ut.fromFormat(t,lY);return e.isValid?e:null}function C6(t){return t&&Tw(t)?BG(aY,e=>{const n=Ut.fromFormat(t,e);return n.isValid?n:null})??null:null}function M6(t){if(!t||!Tw(t))return null;const e=Ut.fromISO(t);return e.isValid?e:null}var xh;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(xh||(xh={}));const cY=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function uY(t){return t!=null&&cY.has(t.type)}function I6(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function O6(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function P6(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function hY(t,e,n){const i=t?.domain;if(!i)return null;switch(i.type){case"range":{const{min:r,max:s}=N6(t);if(r!=null&&+e<r||s!=null&&+e>s)return xh.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(i.codedValues==null||i.codedValues.every(r=>r==null||r.code!==e))return xh.INVALID_CODED_VALUE}return null}function N6(t,e){const n=t?.domain;if(!n||n.type!=="range")return;const i="range"in n?n.range[0]:n.minValue,r="range"in n?n.range[1]:n.maxValue,s=uY(t);return I6(t)||P6(t)||O6(t)?{...pY(t,r,i),isInteger:s}:{min:i!=null&&typeof i=="number"?i:null,max:r!=null&&typeof r=="number"?r:null,rawMin:i,rawMax:r,isInteger:s}}function pY(t,e,n){return I6(t)?{min:T6(n)?.toMillis(),max:T6(e)?.toMillis(),rawMin:n,rawMax:e}:P6(t)?{min:C6(n)?.toMillis(),max:C6(e)?.toMillis(),rawMin:n,rawMax:e}:O6(t)?{min:M6(n)?.toMillis(),max:M6(e)?.toMillis(),rawMin:n,rawMax:e}:{max:null,min:null}}const dY=()=>ke.getLogger("esri.support.arcadeOnDemand");let Cw;function Mw(){return Cw||(Cw=(async()=>{const t=await import("./arcadeUtils-B9C2xJKY.js").then(e=>e.i);return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature}})()),Cw}const fY=(t,e,n)=>L6.create(t,e,n,null,["$feature","$view"],[]),mY=(t,e,n,i)=>L6.create(t,e,n,i,["$feature","$view"],[]);let L6=class QF{constructor(e,n,i,r,s,o,a){this.services=null,this.script=e,this.evaluate=r;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=i,this._arcade=n,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=n.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,n,i,r,s,o){const{arcade:a,Feature:l,Dictionary:c}=await Mw(),p=n instanceof Pn?n:Pn.fromJSON(n);let d;try{d=a.parseScript(e,o)}catch(R){return dY().error(new oe("arcade-bad-expression","Failed to parse arcade script",{script:e,error:R})),null}const f=s.reduce((R,D)=>({...R,[D]:null}),{});let y=null;r!=null&&(y=new c(r),y.immutable=!0,f.$config=null);const g=a.scriptUsesGeometryEngine(d),_=g&&a.enableGeometrySupport(),w=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),A=a.scriptIsAsync(d),T=A&&a.enableAsyncSupport(),x={vars:f,spatialReference:p,useAsync:!!T};await Promise.all([_,w,T]);const b=new Set;await a.loadDependentModules(b,d,null,A,g);const I=new c;I.immutable=!1,I.setField("scale",0);const O=a.compileScript(d,x),L=(R,D)=>{const W=R.$view?.timeZone;return"$view"in R&&R.$view&&(I.setField("scale",typeof R.$view=="object"&&"scale"in R.$view?R.$view.scale:void 0),R.$view=I),y&&(R.$config=y),O({vars:R,spatialReference:p,services:D,timeZone:W})};return new QF(e,a,d,L,new l,i,p)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const yY=/^([0-9_])/,gY=/[^a-z0-9_\u0080-\uffff]+/gi;function vY(t){return t==null?null:t.trim().replaceAll(gY,"_").replace(yY,"F$1")||null}const bY=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],_Y=["field","normalizationField"];function wY(t,e){if(t!=null&&e!=null){for(const n of Array.isArray(t)?t:[t])if(k6(bY,n,e),"visualVariables"in n&&n.visualVariables)for(const i of n.visualVariables)k6(_Y,i,e)}}function k6(t,e,n){if(t)for(const i of t){const r=I0(i,e),s=r&&typeof r!="function"&&n.get(r);s&&Ql(i,s.name,e)}}function xY(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const n=e.get(t.startField),i=e.get(t.endField);t.startField=n?.name??null,t.endField=i?.name??null}else{const n=e.get(t.startTimeField),i=e.get(t.endTimeField);t.startTimeField=n?.name??null,t.endTimeField=i?.name??null}}const Iw=new Set;function ag(t,e){return t&&e?(Iw.clear(),Sh(Iw,t,e),Array.from(Iw).sort()):[]}function Sh(t,e,n){if(n)if(e?.fields?.length)if(n.includes("*"))for(const{name:i}of e.fields)t.add(i);else for(const i of n)Qd(t,e,i);else{if(n.includes("*"))return t.clear(),void t.add("*");for(const i of n)i!=null&&t.add(i)}}function Qd(t,e,n){if(typeof n=="string")if(e){const i=e.get(n);i&&t.add(i.name)}else t.add(n)}function SY(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(n=>n.name):e}function AY(t,e,n=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const i=ag(t,e);return i.length/t.fields.length>=n?["*"]:i}async function Ha(t,e,n){if(!n)return;const{arcadeUtils:i}=await Mw(),r=i.extractFieldNames(n,e?.fields?.map(s=>s.name));for(const s of r)Qd(t,e,s)}async function R6(t,e,n){if(n&&n!=="1=1"){const i=await NI(n,e);if(!i.isStandardized)throw new oe("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});Sh(t,e,i.fieldNames)}}function EY({displayField:t,fields:e}){return t||(e?.length?Ow(e,"name-or-title")||Ow(e,"unique-identifier")||Ow(e,"type-or-category")||TY(e):null)}function TY(t){for(const e of t){if(!e?.name)continue;const n=e.name.toLowerCase();if(n.includes("name")||n.includes("title"))return e.name}return null}function Ow(t,e){for(const n of t)if(n?.valueType&&n.valueType===e)return n.name;return null}async function CY(t,e){if(!e)return;const n=e.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(t,e.fieldsIndex):void 0}function MY(t,e,n){n.onStatisticExpression?Ha(t,e,n.onStatisticExpression.expression):t.add(n.onStatisticField)}async function IY(t,e,n){if(!e||!n||!("fields"in n))return;const i=[],r=n.popupTemplate;i.push(OY(t,e,r)),n.fields&&i.push(...n.fields.map(async s=>MY(t,e.fieldsIndex,s))),await Promise.all(i)}async function OY(t,e,n){const i=[];n?.expressionInfos&&i.push(...n.expressionInfos.map(s=>Ha(t,e.fieldsIndex,s.expression)));const r=n?.content;if(Array.isArray(r))for(const s of r)s.type==="expression"&&s.expressionInfo&&i.push(Ha(t,e.fieldsIndex,s.expressionInfo.expression));await Promise.all(i)}async function PY(t,e,n){e&&(e.timeInfo&&n?.timeExtent&&Sh(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Sh(t,e.fieldsIndex,[e.floorInfo.floorField]),n?.where!=null&&await R6(t,e.fieldsIndex,n.where))}async function NY(t,e,n){e&&n&&await Promise.all(n.map(i=>LY(t,e,i)))}async function LY(t,e,n){e&&n&&(n.valueExpression?await Ha(t,e.fieldsIndex,n.valueExpression):n.field&&Qd(t,e.fieldsIndex,n.field))}function kY(t){return t?ag(t.fieldsIndex,D6(t)):[]}function RY(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?ag(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}const DY=new Set(["oid","global-id","guid"]),FY=new Set(["oid","global-id"]),UY=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function $Y(t){const e=new Set;F6(t).forEach(i=>e.add(i)),RY(t).forEach(i=>e.add(i.toLowerCase()));const n=t&&"infoFor3D"in t?t.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(i=>e.add(i.toLowerCase())),Object.values(n.transformFieldRoles).forEach(i=>e.add(i.toLowerCase()))),Array.from(e)}function D6(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:n,creatorField:i,editDateField:r,editorField:s}=e;return[n,i,r,s].filter(Boolean)}function F6(t){return D6(t).map(e=>e.toLowerCase())}function GY(t,e){return t.editable&&!DY.has(t.type)&&!F6(e).includes(t.name?.toLowerCase()??"")}function jY(t,e){const n=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&n===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&n===e.globalIdField.toLowerCase()||$Y(e).includes(n)||FY.has(t.type)||UY.some(i=>i.test(n)))}async function BY(t,e){const{labelingInfo:n,fieldsIndex:i}=e;n?.length&&await Promise.all(n.map(r=>WY(t,i,r)))}async function WY(t,e,n){if(!n)return;const i=n.getLabelExpression(),r=n.where;if(i.type==="arcade")await Ha(t,e,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Qd(t,e,o.slice(1,-1))})}await R6(t,e,r)}function zY(t){const e=t.defaultValue;return e!==void 0&&G6(t,e)?e:t.nullable?null:void 0}function qY(t){const e=typeof t=="string"?{type:t}:t;return W6(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function U6(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function VY(t){return t===null||U6(t)}function HY(t){return t===null||Number.isInteger(t)}function $6(t){return t!=null&&typeof t=="string"}function YY(t){return t===null||$6(t)}function JY(){return!0}function G6(t,e){let n;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=t.nullable?HY:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=t.nullable?VY:U6;break;case"string":case"esriFieldTypeString":n=t.nullable?YY:$6;break;default:n=JY}return arguments.length===1?n:n(e)}const ZY=["integer","small-integer","big-integer"],KY=["single","double"],XY=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],QY=["esriFieldTypeSingle","esriFieldTypeDouble"],j6=new Set([...ZY,...XY]),tJ=new Set([...KY,...QY]),eJ=q2(j6,tJ);function nJ(t){return t!=null&&j6.has(t.type)}function B6(t){return t!=null&&eJ.has(t.type)}function W6(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function iJ(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function rJ(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function sJ(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function oJ(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function aJ(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function lJ(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function cJ(t,e){return z6(t,e)===null}var lg,cg;function uJ(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function z6(t,e){return t==null||t.nullable&&e===null?null:B6(t)&&!hJ(t.type,Number(e))?lg.OUT_OF_RANGE:G6(t,e)?t.domain?hY(t,e):null:cg.INVALID_TYPE}function hJ(t,e){const n=typeof t=="string"?q6(t):t;if(!n)return!1;const i=n.min,r=n.max;return n.isInteger?Number.isInteger(e)&&e>=i&&e<=r:e>=i&&e<=r}function q6(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return pJ;case"esriFieldTypeInteger":case"integer":return dJ;case"esriFieldTypeBigInteger":case"big-integer":return fJ;case"esriFieldTypeSingle":case"single":return mJ;case"esriFieldTypeDouble":case"double":return yJ}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(lg||(lg={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(cg||(cg={}));const pJ={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},dJ={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},fJ={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},mJ={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},yJ={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function gJ(t,e,n){switch(t){case xh.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case xh.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case cg.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case lg.OUT_OF_RANGE:{const{min:i,max:r}=q6(e.type);return`Value ${n} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${i} to ${r}`}}}function vJ(t,e){return!bJ(t,e,null)}function bJ(t,e,n){if(!e?.attributes||!t)return!0;const i=new Set(Object.keys(e.attributes));let r=!1;for(const s of t)if(!i.has(s)&&(r=!0,n==null))break;return r}function _J(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function V6(t){const e=t?.match(/{[^}]+}/g);return e?e.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}let ug=class extends ee{constructor(t){super(t),this.type=null}};v([E({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],ug.prototype,"type",void 0),ug=v([rt("esri.popup.content.Content")],ug);const Fo=ug;var Pw;let _c=Pw=class extends Fo{constructor(t){super(t),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new Pw({description:this.description,displayType:this.displayType,title:this.title})}};v([E({type:String,json:{write:!0}})],_c.prototype,"description",void 0),v([E({type:["auto","preview","list"],json:{write:!0}})],_c.prototype,"displayType",void 0),v([E({type:String,json:{write:!0}})],_c.prototype,"title",void 0),v([E({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],_c.prototype,"type",void 0),_c=Pw=v([rt("esri.popup.content.AttachmentsContent")],_c);const Ah=_c;var Nw;let wc=Nw=class extends Fo{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Nw({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?gt(this.outFields):null})}};v([E()],wc.prototype,"creator",void 0),v([E()],wc.prototype,"destroyer",void 0),v([E()],wc.prototype,"outFields",void 0),v([E({type:["custom"],readOnly:!0})],wc.prototype,"type",void 0),wc=Nw=v([rt("esri.popup.content.CustomContent")],wc);const wJ=wc;var Lw;let Eh=Lw=class extends ee{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Lw({title:this.title,expression:this.expression})}};v([E({type:String,json:{write:!0}})],Eh.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],Eh.prototype,"expression",void 0),v([E({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Eh.prototype,"returnType",void 0),Eh=Lw=v([rt("esri.popup.ElementExpressionInfo")],Eh);const H6=Eh;var kw;let tf=kw=class extends Fo{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new kw({expressionInfo:this.expressionInfo?.clone()})}};v([E({type:H6,json:{write:!0}})],tf.prototype,"expressionInfo",void 0),v([E({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],tf.prototype,"type",void 0),tf=kw=v([rt("esri.popup.content.ExpressionContent")],tf);const hg=tf;function ae(t,e={}){const n=t instanceof $s?t:new $s(t,e),{alwaysWriteDefaults:i,default:r,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return E({type:s?n.apiValues:String,json:{type:n.jsonValues,default:r,name:o,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let Th=class extends qs(ee){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};v([ae(BH)],Th.prototype,"dateFormat",void 0),v([E({type:Boolean,json:{write:!0}})],Th.prototype,"digitSeparator",void 0),v([E({type:On,json:{write:!0}})],Th.prototype,"places",void 0),Th=v([rt("esri.popup.support.FieldInfoFormat")],Th);const Y6=Th;var Rw;let hs=Rw=class extends ee{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Rw({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};v([E({type:String,json:{write:!0}})],hs.prototype,"fieldName",void 0),v([E({type:Y6,json:{write:!0}})],hs.prototype,"format",void 0),v([E({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],hs.prototype,"isEditable",void 0),v([E({type:String,json:{write:!0}})],hs.prototype,"label",void 0),v([ae(new $s({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],hs.prototype,"stringFieldOption",void 0),v([E({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],hs.prototype,"statisticType",void 0),v([E({type:String,json:{write:!0}})],hs.prototype,"tooltip",void 0),v([E({type:Boolean,json:{write:!0}})],hs.prototype,"visible",void 0),hs=Rw=v([rt("esri.popup.FieldInfo")],hs);const Dw=hs;var Fw;let Uo=Fw=class extends Fo{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(n=>n.toJSON())}clone(){return new Fw(gt({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};v([E({type:Object,json:{write:!0}})],Uo.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],Uo.prototype,"description",void 0),v([E({type:[Dw]})],Uo.prototype,"fieldInfos",void 0),v([en("fieldInfos")],Uo.prototype,"writeFieldInfos",null),v([E({type:String,json:{write:!0}})],Uo.prototype,"title",void 0),v([E({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Uo.prototype,"type",void 0),Uo=Fw=v([rt("esri.popup.content.FieldsContent")],Uo);const Ch=Uo;let xc=class extends ee{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};v([E({type:String,json:{write:!0}})],xc.prototype,"altText",void 0),v([E({type:String,json:{write:!0}})],xc.prototype,"caption",void 0),v([E({type:String,json:{write:!0}})],xc.prototype,"title",void 0),v([E({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],xc.prototype,"type",void 0),xc=v([rt("esri.popup.content.mixins.MediaInfo")],xc);const Uw=xc;var $w;let Sc=$w=class extends $n{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new $w({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};v([E()],Sc.prototype,"color",void 0),v([E()],Sc.prototype,"fieldName",void 0),v([E()],Sc.prototype,"tooltip",void 0),v([E()],Sc.prototype,"value",void 0),Sc=$w=v([rt("esri.popup.content.support.ChartMediaInfoValueSeries")],Sc);const J6=Sc;var Gw;let Ya=Gw=class extends ee{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Gw({colors:gt(this.colors),fields:gt(this.fields),normalizeField:this.normalizeField,series:gt(this.series),tooltipField:this.tooltipField})}};v([E({type:[me],json:{type:[[On]],write:!0}})],Ya.prototype,"colors",void 0),v([E({type:[String],json:{write:!0}})],Ya.prototype,"fields",void 0),v([E({type:String,json:{write:!0}})],Ya.prototype,"normalizeField",void 0),v([E({type:[J6],json:{read:!1}})],Ya.prototype,"series",void 0),v([E({type:String,json:{write:!0}})],Ya.prototype,"tooltipField",void 0),Ya=Gw=v([rt("esri.popup.content.support.ChartMediaInfoValue")],Ya);const xJ=Ya;let ef=class extends Uw{constructor(t){super(t),this.type=null,this.value=void 0}};v([E({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ef.prototype,"type",void 0),v([E({type:xJ,json:{write:!0}})],ef.prototype,"value",void 0),ef=v([rt("esri.popup.content.mixins.ChartMediaInfo")],ef);const pg=ef,dg=Cr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var jw;let fg=jw=class extends pg{constructor(t){super(t),this.type="bar-chart"}clone(){return new jw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:dg.write}})],fg.prototype,"type",void 0),fg=jw=v([rt("esri.popup.content.BarChartMediaInfo")],fg);const Z6=fg;var Bw;let mg=Bw=class extends pg{constructor(t){super(t),this.type="column-chart"}clone(){return new Bw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:dg.write}})],mg.prototype,"type",void 0),mg=Bw=v([rt("esri.popup.content.ColumnChartMediaInfo")],mg);const K6=mg;var Ww;let nf=Ww=class extends ee{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new Ww({linkURL:this.linkURL,sourceURL:this.sourceURL})}};v([E({type:String,json:{write:!0}})],nf.prototype,"linkURL",void 0),v([E({type:String,json:{write:!0}})],nf.prototype,"sourceURL",void 0),nf=Ww=v([rt("esri.popup.content.support.ImageMediaInfoValue")],nf);const SJ=nf;var zw;let Mh=zw=class extends Uw{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new zw({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};v([E({type:Number,json:{write:!0}})],Mh.prototype,"refreshInterval",void 0),v([E({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Mh.prototype,"type",void 0),v([E({type:SJ,json:{write:!0}})],Mh.prototype,"value",void 0),Mh=zw=v([rt("esri.popup.content.ImageMediaInfo")],Mh);const X6=Mh;var qw;let yg=qw=class extends pg{constructor(t){super(t),this.type="line-chart"}clone(){return new qw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:dg.write}})],yg.prototype,"type",void 0),yg=qw=v([rt("esri.popup.content.LineChartMediaInfo")],yg);const Q6=yg;var Vw;let gg=Vw=class extends pg{constructor(t){super(t),this.type="pie-chart"}clone(){return new Vw({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:dg.write}})],gg.prototype,"type",void 0),gg=Vw=v([rt("esri.popup.content.PieChartMediaInfo")],gg);const tP=gg,Hw={base:Uw,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":Z6,"column-chart":K6,"line-chart":Q6,"pie-chart":tP,image:X6}};var Yw;let ps=Yw=class extends Fo{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?X6.fromJSON(e):e.type==="barchart"?Z6.fromJSON(e):e.type==="columnchart"?K6.fromJSON(e):e.type==="linechart"?Q6.fromJSON(e):e.type==="piechart"?tP.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(n=>n.toJSON())}clone(){return new Yw(gt({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};v([E()],ps.prototype,"activeMediaInfoIndex",void 0),v([E({type:Object,json:{write:!0}})],ps.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],ps.prototype,"description",void 0),v([E({types:[Hw]})],ps.prototype,"mediaInfos",void 0),v([Gn("mediaInfos")],ps.prototype,"readMediaInfos",null),v([en("mediaInfos")],ps.prototype,"writeMediaInfos",null),v([E({type:String,json:{write:!0}})],ps.prototype,"title",void 0),v([E({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],ps.prototype,"type",void 0),ps=Yw=v([rt("esri.popup.content.MediaContent")],ps);const Ih=ps;var Jw;let rf=Jw=class extends ee{constructor(t){super(t),this.field=null,this.order=null}clone(){return new Jw({field:this.field,order:this.order})}};v([E({type:String,json:{write:!0}})],rf.prototype,"field",void 0),v([E({type:["asc","desc"],json:{write:!0}})],rf.prototype,"order",void 0),rf=Jw=v([rt("esri.popup.support.RelatedRecordsInfoFieldOrder")],rf);const Zw=rf;let Hs=class extends qs(Fo){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};v([E({type:String,json:{write:!0}})],Hs.prototype,"description",void 0),v([E({type:Number,json:{type:On,write:!0}})],Hs.prototype,"displayCount",void 0),v([E({type:["list"],json:{write:!0}})],Hs.prototype,"displayType",void 0),v([E({type:[Zw],json:{write:!0}})],Hs.prototype,"orderByFields",void 0),v([E({type:Number,json:{type:On,write:!0}})],Hs.prototype,"relationshipId",void 0),v([E({type:String,json:{write:!0}})],Hs.prototype,"title",void 0),v([E({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Hs.prototype,"type",void 0),Hs=v([rt("esri.popup.content.RelationshipContent")],Hs);const sf=Hs;var Kw;let of=Kw=class extends Fo{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new Kw({text:this.text})}};v([E({type:String,json:{write:!0}})],of.prototype,"text",void 0),v([E({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],of.prototype,"type",void 0),of=Kw=v([rt("esri.popup.content.TextContent")],of);const Oh=of;let Ys=class extends qs(ee){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};v([E({type:String,json:{write:!0}})],Ys.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],Ys.prototype,"description",void 0),v([E({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ys.prototype,"type",void 0),v([E({type:Boolean,json:{read:!1}})],Ys.prototype,"open",void 0),v([E({type:Number,json:{type:On,write:!0}})],Ys.prototype,"associatedNetworkSourceId",void 0),v([E({type:Number,json:{type:On,write:!0}})],Ys.prototype,"associatedAssetGroup",void 0),v([E({type:Number,json:{type:On,write:!0}})],Ys.prototype,"associatedAssetType",void 0),Ys=v([rt("esri.popup.support.UtilityNetworkAssociationType")],Ys);const AJ=Ys;let Ac=class extends qs(Fo){constructor(t){super(t),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};v([E({type:String,json:{write:!0}})],Ac.prototype,"description",void 0),v([E({type:String,json:{write:!0}})],Ac.prototype,"title",void 0),v([E({type:[AJ],json:{write:!0}})],Ac.prototype,"associationTypes",void 0),v([ae({utilityNetworkAssociations:"utility-network-associations"})],Ac.prototype,"type",void 0),Ac=v([rt("esri.popup.content.UtilityNetworkAssociationsContent")],Ac);const Xw=Ac,EJ={base:null,key:"type",typeMap:{attachment:Ah,media:Ih,text:Oh,expression:hg,field:Ch,relationship:sf,utilityNetworkAssociations:Xw}},TJ={base:null,key:"type",typeMap:{attachment:Ah,media:Ih,text:Oh,expression:hg,field:Ch,relationship:sf}};var Qw;let Ec=Qw=class extends ee{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Qw({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};v([E({type:String,json:{write:!0}})],Ec.prototype,"name",void 0),v([E({type:String,json:{write:!0}})],Ec.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],Ec.prototype,"expression",void 0),v([E({type:["string","number"],json:{write:!0}})],Ec.prototype,"returnType",void 0),Ec=Qw=v([rt("esri.popup.ExpressionInfo")],Ec);const eP=Ec;var tx;let af=tx=class extends ee{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new tx({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};v([E({type:Boolean,json:{write:!0}})],af.prototype,"returnTopmostRaster",void 0),v([E({type:Boolean,json:{write:!0}})],af.prototype,"showNoDataRecords",void 0),af=tx=v([rt("esri.popup.LayerOptions")],af);const CJ=af;var ex;let lf=ex=class extends ee{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new ex({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?gt(this.orderByFields):null})}};v([E({type:Boolean,json:{write:!0}})],lf.prototype,"showRelatedRecords",void 0),v([E({type:[Zw],json:{write:!0}})],lf.prototype,"orderByFields",void 0),lf=ex=v([rt("esri.popup.RelatedRecordsInfo")],lf);const nP=lf;let iP=0;const nx=t=>{let e=class extends t{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+iP++})}};return e=v([rt("esri.core.Identifiable")],e),e},MJ=t=>{let e=class extends t{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:iP++})}};return e=v([rt("esri.core.Identifiable.NumericIdentifiable")],e),e};let rP=class extends nx(class{}){};rP=v([rt("esri.core.Identifiable")],rP);var ix;let Fr=ix=class extends nx($n){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new ix({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};v([E()],Fr.prototype,"active",void 0),v([E()],Fr.prototype,"className",void 0),v([E()],Fr.prototype,"disabled",void 0),v([E()],Fr.prototype,"icon",void 0),v([E()],Fr.prototype,"id",void 0),v([E()],Fr.prototype,"indicator",void 0),v([E()],Fr.prototype,"title",void 0),v([E()],Fr.prototype,"type",void 0),v([E()],Fr.prototype,"visible",void 0),Fr=ix=v([rt("esri.support.actions.ActionBase")],Fr);const vg=Fr;var rx;let bg=rx=class extends vg{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new rx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};v([E()],bg.prototype,"image",void 0),bg=rx=v([rt("esri.support.actions.ActionButton")],bg);const sP=bg;var sx;let cf=sx=class extends vg{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new sx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};v([E()],cf.prototype,"image",void 0),v([E()],cf.prototype,"value",void 0),cf=sx=v([rt("esri.support.actions.ActionToggle")],cf);const oP=cf,uf="relationships/",aP="expression/",IJ=Ue.ofType({key:"type",defaultKeyValue:"button",base:vg,typeMap:{button:sP,toggle:oP}}),OJ={base:Fo,key:"type",typeMap:{media:Ih,custom:wJ,text:Oh,attachments:Ah,fields:Ch,expression:hg,relationship:sf,utilityNetworkAssociations:Xw}},lP=new Set(["attachments","fields","media","text","expression","relationship"]),PJ=new Set([...lP,"utility-network-associations"]);let Ln=class extends qs(ee){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(e=>_a(OJ,e)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||F2(t)?t:(ke.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,e){const{popupElements:n}=e;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e.description,e.mediaInfos,n):this._readPopupInfo(e)}writeWebSceneContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeWebMapContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeFieldInfos(t,e,n,i){const{content:r}=this,s=Array.isArray(r)?r:null;if(t){const o=s?s.filter(l=>l.type==="fields"):[],a=o.length&&o.every(l=>l.fieldInfos?.length);e.fieldInfos=t.filter(Boolean).map(l=>{const c=l.toJSON(i);return a&&(c.visible=!1),c})}if(s)for(const o of s)o.type==="fields"&&this._writeFieldsContent(o,e)}writeLayerOptions(t,e,n,i){e[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,e){e.title=t||""}async collectRequiredFields(t,e){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,e,[...n,...this._getContentExpressionInfos(this.content,n)]),Sh(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const e=new Set;return await this.collectRequiredFields(e,t),[...e].sort()}_writePopupTemplateContent(t,e,n){typeof t!="string"?Array.isArray(t)&&(e.popupElements=t.filter(i=>n?.origin==="web-scene"?lP.has(i.type):PJ.has(i.type)).map(i=>i?.toJSON(n)),e.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(e):i.type==="media"?this._writeMediaContent(i,e):i.type==="text"?this._writeTextContent(i,e):i.type==="relationship"&&this._writeRelationshipContent(i,e)})):e.description=t}_writeFieldsContent(t,e){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=gt(t.fieldInfos);Array.isArray(e.fieldInfos)?n.forEach(i=>{const r=e.fieldInfos.find(s=>s.fieldName?.toLowerCase()===i.fieldName?.toLowerCase());r?r.visible=!0:e.fieldInfos.push(i)}):e.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,e){const n=t.orderByFields?.map(r=>this._toFieldOrderJSON(r,t.relationshipId))||[],i=[...e.relatedRecordsInfo?.orderByFields||[],...n];e.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=gt(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[...e.mediaInfos,...n]:e.mediaInfos=n}_readPopupInfoElements(t,e,n){const i={description:!1,mediaInfos:!1};return n.map(r=>r.type==="media"?(r.mediaInfos||!e||i.mediaInfos||(r.mediaInfos=e,i.mediaInfos=!0),Ih.fromJSON(r)):r.type==="text"?(r.text||!t||i.description||(r.text=t,i.description=!0),Oh.fromJSON(r)):r.type==="attachments"?Ah.fromJSON(r):r.type==="fields"?Ch.fromJSON(r):r.type==="expression"?hg.fromJSON(r):r.type==="relationship"?sf.fromJSON(r):r.type==="utilityNetworkAssociations"?Xw.fromJSON(r):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:e,order:n}=t;if(!e?.startsWith(uf))return null;const i=e.replace(uf,"").split("/");if(i.length!==2)return null;const r=parseInt(i[0],10),s=i[1];return typeof r=="number"&&s?sf.fromJSON({relationshipId:r,orderByFields:[{field:s,order:n}]}):null}_toFieldOrderJSON(t,e){const{order:n,field:i}=t;return{field:`${uf}${e}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:e,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const r=[];t?r.push(new Oh({text:t})):r.push(new Ch),Array.isArray(e)&&e.length&&r.push(Ih.fromJSON({mediaInfos:e})),n&&r.push(Ah.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=i;return s&&o?.length&&o.forEach(a=>{const l=this._toRelationshipContent(a);l&&r.push(l)}),r.length?r:t}_getContentElementFields(t){const e=t?.type;if(e==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(e==="custom")return t.outFields||[];if(e==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(e==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,r)=>[...i,...this._getMediaInfoFields(r)],[])]}return e==="text"?this._extractFieldNames(t.text):e==="relationship"||e==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:e,title:n,value:i}=t,r=i||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:c}=r,p=[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(l),...this._extractFieldNames(c),...s??[]];return o&&p.push(o),a&&p.push(a),p}_getContentExpressionInfos(t,e){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],e):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((e,n)=>[...e,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,e,n){n&&await Promise.all(n.map(i=>Ha(t,e,i.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:e,visible:n})=>!(n!==void 0&&!n||!e||e.startsWith(uf)||e.startsWith(aP))).map(e=>e.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((e,n)=>[...e,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:e,title:n,type:i}=t,r=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(r)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return V6(t).filter(e=>!(e.indexOf(uf)===0||e.indexOf(aP)===0))}};v([E({type:IJ})],Ln.prototype,"actions",void 0),v([E()],Ln.prototype,"content",void 0),v([Qu("content")],Ln.prototype,"castContent",null),v([Gn("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ln.prototype,"readContent",null),v([en("web-scene","content",{popupElements:{type:Ue.ofType(TJ)},showAttachments:{type:Boolean},mediaInfos:{type:Ue.ofType(Hw)},description:{type:String},relatedRecordsInfo:{type:nP}})],Ln.prototype,"writeWebSceneContent",null),v([en("content",{popupElements:{type:Ue.ofType(EJ)},showAttachments:{type:Boolean},mediaInfos:{type:Ue.ofType(Hw)},description:{type:String},relatedRecordsInfo:{type:nP}})],Ln.prototype,"writeWebMapContent",null),v([E({type:[eP],json:{write:!0}})],Ln.prototype,"expressionInfos",void 0),v([E({type:[Dw]})],Ln.prototype,"fieldInfos",void 0),v([en("fieldInfos")],Ln.prototype,"writeFieldInfos",null),v([E({type:CJ})],Ln.prototype,"layerOptions",void 0),v([en("layerOptions")],Ln.prototype,"writeLayerOptions",null),v([E({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ln.prototype,"lastEditInfoEnabled",void 0),v([E()],Ln.prototype,"outFields",void 0),v([E()],Ln.prototype,"overwriteActions",void 0),v([E()],Ln.prototype,"returnGeometry",void 0),v([E({json:{type:String}})],Ln.prototype,"title",void 0),v([en("title")],Ln.prototype,"writeTitle",null),Ln=v([rt("esri.PopupTemplate")],Ln);const cP=Ln,uP=new $s({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let NJ=0,Ph=class extends ee{constructor(t){super(t),this.id="sym"+NJ++,this.type=null,this.color=new me([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};v([E({type:uP.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:uP.write}}})],Ph.prototype,"type",void 0),v([E({type:me,json:{write:{allowNull:!0}}})],Ph.prototype,"color",void 0),v([Gn("color")],Ph.prototype,"readColor",null),Ph=v([rt("esri.symbols.Symbol")],Ph);const ii=Ph;var ox;let Ja=ox=class extends ii{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(r=>{const s=r.valueExpressionInfo;return s?Ha(t,e,s.expression):null});await Promise.all(i)}}}clone(){return new ox({data:gt(this.data)})}hash(){return c2(JSON.stringify(this.data)).toString()}};v([E({json:{write:!1}})],Ja.prototype,"color",void 0),v([E({json:{write:!0}})],Ja.prototype,"data",void 0),v([Gn("data",["symbol"])],Ja.prototype,"readData",null),v([en("data",{})],Ja.prototype,"writeData",null),v([ae({CIMSymbolReference:"cim"},{readOnly:!0})],Ja.prototype,"type",void 0),Ja=ox=v([rt("esri.symbols.CIMSymbol")],Ja);const Za=Ja;let Nh=class extends ee{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,e,n){t||(e[n]=t)}};v([E({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Nh.prototype,"enabled",void 0),v([en("enabled")],Nh.prototype,"writeEnabled",null),v([E({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Nh.prototype,"type",void 0),Nh=v([rt("esri.symbols.Symbol3DLayer")],Nh);const Js=Nh,LJ=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,kJ="screenUtils.toPt: input not recognized!",hP=96;function RJ(t){return t?t/72*hP:0}function ds(t){return t?72*t/hP:0}function Je(t){if(typeof t=="string"){const e=t.match(LJ);if(e){const n=Number(e[1]),i=e[3]&&e[3].toLowerCase(),r=t.charAt(0)==="-",s=i==="px"?ds(n):n;return r?-s:s}return console.warn(kJ),null}return t}function pP(t=0,e=0){return{x:t,y:e}}function DJ(t){return t?pP(t.x,t.y):null}function FJ(t=0,e=0){return[t,e]}function UJ(t=0,e=0,n=0){return[t,e,n]}function $J(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function dP(t){const e=O0(100*(1-t));return Math.max(0,Math.min(e,100))}function fP(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function GJ(t,e){const n=e.transparency!=null?fP(e.transparency):1,i=e.color;return i&&Array.isArray(i)?new me([i[0]||0,i[1]||0,i[2]||0,n]):null}function jJ(t,e){e.color=t.toJSON().slice(0,3);const n=dP(t.a);n!==0&&(e.transparency=n)}const Ka={type:me,json:{type:[On],default:null,read:{source:["color","transparency"],reader:GJ},write:{target:{color:{type:[On]},transparency:{type:On}},writer:jJ}}},Zs={type:Number,cast:Je,json:{write:!0}};let Tc=class extends ee{constructor(t){super(t),this.color=new me([0,0,0,1]),this.extensionLength=0,this.size=ds(1)}clone(){}cloneProperties(){return{color:gt(this.color),size:this.size,extensionLength:this.extensionLength}}};v([E({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Tc.prototype,"type",void 0),v([E(Ka)],Tc.prototype,"color",void 0),v([E({...Zs,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],Tc.prototype,"extensionLength",void 0),v([E(Zs)],Tc.prototype,"size",void 0),Tc=v([rt("esri.symbols.edges.Edges3D")],Tc);const ax=Tc;var lx;let _g=lx=class extends ax{constructor(t){super(t),this.type="sketch"}clone(){return new lx(this.cloneProperties())}};v([ae({sketch:"sketch"},{readOnly:!0})],_g.prototype,"type",void 0),_g=lx=v([rt("esri.symbols.edges.SketchEdges3D")],_g);const BJ=_g;var cx;let wg=cx=class extends ax{constructor(t){super(t),this.type="solid"}clone(){return new cx(this.cloneProperties())}};v([ae({solid:"solid"},{readOnly:!0})],wg.prototype,"type",void 0),wg=cx=v([rt("esri.symbols.edges.SolidEdges3D")],wg);const mP=wg,ux={types:{key:"type",base:ax,typeMap:{solid:mP,sketch:BJ}},json:{write:!0}};function xg(){return[0,0,0]}function Sg(t){return[t[0],t[1],t[2]]}function Cc(t,e,n){return[t,e,n]}function yP(t,e,n){return[t,e,n]}function gP(t,e=xg()){const n=Math.min(3,t.length);for(let i=0;i<n;++i)e[i]=t[i];return e}function WJ(t,e){return new Float64Array(t,e,3)}function vP(){return xg()}function bP(){return Cc(1,1,1)}function _P(){return Cc(1,0,0)}function wP(){return Cc(0,1,0)}function xP(){return Cc(0,0,1)}const SP=vP(),AP=bP(),EP=_P(),TP=wP(),CP=xP();Object.freeze(Object.defineProperty({__proto__:null,ONES:AP,UNIT_X:EP,UNIT_Y:TP,UNIT_Z:CP,ZEROS:SP,clone:Sg,create:xg,createView:WJ,freeze:yP,fromArray:gP,fromValues:Cc,ones:bP,unitX:_P,unitY:wP,unitZ:xP,zeros:vP},Symbol.toStringTag,{value:"Module"}));var hx;let zi=hx=class extends ee{constructor(t){super(t),this.color=null,this.emissiveFactor=null}clone(){const t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Sg(this.emissiveFactor):null};return new hx(t)}};v([E(Ka)],zi.prototype,"color",void 0),v([E({type:[Number],json:{write:!1}})],zi.prototype,"emissiveFactor",void 0),zi=hx=v([rt("esri.symbols.support.Symbol3DMaterial")],zi);var px;let Xa=px=class extends Js{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new px({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};v([ae({Extrude:"extrude"},{readOnly:!0})],Xa.prototype,"type",void 0),v([E({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Xa.prototype,"size",void 0),v([E({type:zi,json:{write:!0}})],Xa.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Xa.prototype,"castShadows",void 0),v([E(ux)],Xa.prototype,"edges",void 0),Xa=px=v([rt("esri.symbols.ExtrudeSymbol3DLayer")],Xa);const MP=Xa;let hf=class extends ii{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};v([ae({esriSLS:"simple-line"},{readOnly:!0})],hf.prototype,"type",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],hf.prototype,"width",void 0),hf=v([rt("esri.symbols.LineSymbol")],hf);const zJ=hf,qJ=["begin","end","begin-end"],IP=["arrow","circle","square","diamond","cross","x"];var dx;let Ks=dx=class extends ee{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,n,i){e[n]=i?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,n,i){i?.origin==="web-map"||(e[n]=t)}clone(){return new dx({color:gt(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};v([E({type:["begin","end","begin-end"],json:{write:!0}})],Ks.prototype,"placement",void 0),v([ae({"line-marker":"line-marker"},{readOnly:!0}),E({json:{origins:{"web-map":{write:!1}}}})],Ks.prototype,"type",void 0),v([E({type:IP})],Ks.prototype,"style",void 0),v([en("style")],Ks.prototype,"writeStyle",null),v([E({type:me,value:null,json:{write:{allowNull:!0}}})],Ks.prototype,"color",null),v([Gn("color")],Ks.prototype,"readColor",null),v([en("color")],Ks.prototype,"writeColor",null),Ks=dx=v([rt("esri.symbols.LineSymbolMarker")],Ks);const VJ=Ks;var fx;const mx=new $s({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let $o=fx=class extends zJ{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,n,i,r,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),n!=null&&(o.width=Je(n)),i!=null&&(o.cap=i),r!=null&&(o.join=r),s!=null&&(o.miterLimit=Je(s)),o}clone(){return new fx({color:gt(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};v([ae({esriSLS:"simple-line"},{readOnly:!0})],$o.prototype,"type",void 0),v([E({type:mx.apiValues,json:{read:mx.read,write:mx.write}})],$o.prototype,"style",void 0),v([E({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],$o.prototype,"cap",void 0),v([E({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],$o.prototype,"join",void 0),v([E({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":VJ}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],$o.prototype,"marker",void 0),v([E({type:Number,json:{read:!1,write:!1}})],$o.prototype,"miterLimit",void 0),$o=fx=v([rt("esri.symbols.SimpleLineSymbol")],$o);const Ur=$o;let pf=class extends ii{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ur}},json:{default:null,write:!0}})],pf.prototype,"outline",void 0),v([E({type:["simple-fill","picture-fill"],readOnly:!0})],pf.prototype,"type",void 0),pf=v([rt("esri.symbols.FillSymbol")],pf);const OP=pf;let Ag=class extends ee{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ag.prototype,"type",void 0),Ag=v([rt("esri.symbols.patterns.LinePattern3D")],Ag);const PP=Ag,HJ=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var yx;const YJ=Cr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let df=yx=class extends PP{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new yx(t)}};v([E({type:["style"]})],df.prototype,"type",void 0),v([ae(YJ),E({type:HJ})],df.prototype,"style",void 0),df=yx=v([rt("esri.symbols.patterns.LineStylePattern3D")],df);const gx=df;let Eg=class extends ee{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Eg.prototype,"type",void 0),Eg=v([rt("esri.symbols.patterns.Pattern3D")],Eg);const NP=Eg,JJ=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var vx;let ff=vx=class extends NP{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new vx({style:this.style})}};v([E({type:["style"]})],ff.prototype,"type",void 0),v([E({type:JJ,json:{read:!0,write:!0}})],ff.prototype,"style",void 0),ff=vx=v([rt("esri.symbols.patterns.StylePattern3D")],ff);const LP=ff,ZJ={types:{key:"type",base:NP,typeMap:{style:LP}},json:{write:!0}},kP={types:{key:"type",base:PP,typeMap:{style:gx}},json:{write:!0}},mf=new me("white");new me("black");const KJ=new me([255,255,255,0]);function XJ(t){return t.r===0&&t.g===0&&t.b===0}var bx;let yf=bx=class extends zi{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Sg(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new bx(t)}};v([ae({multiply:"multiply",replace:"replace",tint:"tint"})],yf.prototype,"colorMixMode",void 0),yf=bx=v([rt("esri.symbols.support.Symbol3DFillMaterial")],yf);function RP(t,e=!1){return t<=i2?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function QJ(t){return(n2(t)?t.length:t.byteLength/8)<=i2?Array.from(t):new Float64Array(t)}function tZ(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function Lh(t=DP){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function Tg(t,e,n,i,r,s,o=Lh()){return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o[4]=r,o[5]=s,o}function eZ(t,e=Lh()){return nZ(t,0,t.length/3,e)}function nZ(t,e,n,i=Lh()){return Sx(i,Cg),aZ(i,t,e,n),i}function iZ(t,e=RP(24)){const[n,i,r,s,o,a]=t;return e[0]=n,e[1]=i,e[2]=r,e[3]=n,e[4]=i,e[5]=a,e[6]=n,e[7]=o,e[8]=r,e[9]=n,e[10]=o,e[11]=a,e[12]=s,e[13]=i,e[14]=r,e[15]=s,e[16]=i,e[17]=a,e[18]=s,e[19]=o,e[20]=r,e[21]=s,e[22]=o,e[23]=a,e}function rZ(t,e){const n=isFinite(t[2])||isFinite(t[5]);return new hr(n?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function sZ(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function oZ(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function aZ(t,e,n=0,i=e.length/3){let r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let p=0;p<i;p++)r=Math.min(r,e[n+3*p]),s=Math.min(s,e[n+3*p+1]),o=Math.min(o,e[n+3*p+2]),a=Math.max(a,e[n+3*p]),l=Math.max(l,e[n+3*p+1]),c=Math.max(c,e[n+3*p+2]);t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function _x(t){return t[0]>=t[3]?0:t[3]-t[0]}function wx(t){return t[1]>=t[4]?0:t[4]-t[1]}function xx(t){return t[2]>=t[5]?0:t[5]-t[2]}function lZ(t){const e=_x(t),n=xx(t),i=wx(t);return Math.sqrt(e*e+n*n+i*i)}function cZ(t,e=[0,0,0]){return e[0]=t[0]+_x(t)/2,e[1]=t[1]+wx(t)/2,e[2]=t[2]+xx(t)/2,e}function uZ(t,e=[0,0,0]){return e[0]=_x(t),e[1]=wx(t),e[2]=xx(t),e}function hZ(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function pZ(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function Sx(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function dZ(t){return t?Sx(t,Cg):Lh(Cg)}function fZ(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function mZ(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=Number.NEGATIVE_INFINITY,t[3]=i,t[4]=r,t[5]=Number.POSITIVE_INFINITY,t}function Ax(t){return t.length===6}function yZ(t,e,n){if(t==null||e==null)return t===e;if(!Ax(t)||!Ax(e))return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const Cg=[1/0,1/0,1/0,-1/0,-1/0,-1/0],DP=[0,0,0,0,0,0];Lh();function gZ(t,{isPrimitive:e,width:n,depth:i,height:r}){const s=e?10:1;if(n==null&&r==null&&i==null)return[s*t[0],s*t[1],s*t[2]];const o=Cc(n,i,r);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const vZ=Tg(-.5,-.5,-.5,.5,.5,.5),bZ=Tg(-.5,-.5,0,.5,.5,1),_Z=Tg(-.5,-.5,0,.5,.5,.5);function wZ(t){switch(t){case"sphere":case"cube":case"diamond":return vZ;case"cylinder":case"cone":case"inverted-cone":return bZ;case"tetrahedron":return _Z;default:return}}const Ex=["butt","square","round"],xZ=[...Ex,"none"],FP=["miter","bevel","round"];var Tx;let Mc=Tx=class extends ee{constructor(t){super(t),this.color=new me([0,0,0,1]),this.size=ds(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Tx(t)}};v([E(Ka)],Mc.prototype,"color",void 0),v([E(Zs)],Mc.prototype,"size",void 0),v([E(kP)],Mc.prototype,"pattern",void 0),v([E({type:Ex,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Mc.prototype,"patternCap",void 0),Mc=Tx=v([rt("esri.symbols.support.Symbol3DOutline")],Mc);var Mg;let Go=Mg=class extends Js{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Mg(t)}static fromSimpleFillSymbol(t){const e=t.outline&&t.outline.style&&t.outline.style!=="solid"?new gx({style:t.outline.style}):null,n={size:t.outline?.width??0,color:(t.outline?.color??mf).clone(),pattern:e};return e&&t.outline?.cap&&(n.patternCap=t.outline.cap),new Mg({material:new yf({color:(t.color??KJ).clone()}),pattern:t.style&&t.style!=="solid"?new LP({style:t.style}):null,outline:n})}};v([ae({Fill:"fill"},{readOnly:!0})],Go.prototype,"type",void 0),v([E({type:yf,json:{write:!0}})],Go.prototype,"material",void 0),v([E(ZJ)],Go.prototype,"pattern",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Go.prototype,"castShadows",void 0),v([E({type:Mc,json:{write:!0}})],Go.prototype,"outline",void 0),v([E(ux)],Go.prototype,"edges",void 0),Go=Mg=v([rt("esri.symbols.FillSymbol3DLayer")],Go);const Ic=Go,SZ=["none","underline","line-through"],AZ=["normal","italic","oblique"],EZ=["normal","lighter","bold","bolder"],UP={type:Number,cast:t=>{const e=ud(t);return e===0?1:ad(e,.1,4)},nonNullable:!0},TZ=["left","right","center"],CZ=["baseline","top","middle","bottom"],$P={type:TZ,nonNullable:!0},GP={type:CZ,nonNullable:!0},MZ=8;var Cx;let jo=Cx=class extends ee{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Je(t)}clone(){return new Cx({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};v([E({type:SZ,json:{default:"none",write:!0}})],jo.prototype,"decoration",void 0),v([E({type:String,json:{write:!0}})],jo.prototype,"family",void 0),v([E({type:Number,json:{write:{overridePolicy:(t,e,n)=>({enabled:!n||!n.textSymbol3D})}}})],jo.prototype,"size",void 0),v([Qu("size")],jo.prototype,"castSize",null),v([E({type:AZ,json:{default:"normal",write:!0}})],jo.prototype,"style",void 0),v([E({type:EZ,json:{default:"normal",write:!0}})],jo.prototype,"weight",void 0),jo=Cx=v([rt("esri.symbols.Font")],jo);const gf=jo;function kh(t,e){const n=e?.url?.path;if(t&&n&&(t=Yu(t,n,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const i=i_(t,e.portalItem.itemUrl);i!=null&&IZ.test(i)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(i).path)}return(t=Ix(t,e?.portal))&&Og.test(t)?Ox(t):t}function vf(t,e,n=Dh.YES){if((t=t&&Og.test(t)?WP(t):t)==null)return t;!Or(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let i=Yu(t);if(e){const r=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(r){const s=Ix(r,e.portal),o=Ix(i,e.portal);i=i_(o,s,s),i!=null&&i!==o&&i!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=Mx(i,e?.portal),Or(i)&&(i=Lo(i)),e?.resources&&e?.portalItem&&!Or(i)&&!oc(i)&&n===Dh.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(i),compress:!1}),i}function Ig(t,e,n){return kh(t,n)}function Rh(t,e,n,i){const r=vf(t,i);r!==void 0&&(e[n]=r)}const Og=/\/items\/([^/]+)\/resources\/(.*)/,IZ=/^\.\/resources\//;function jP(t){return(t?.match(Og)??null)?.[1]??null}function BP(t){const e=t?.match(Og)??null;if(e==null)return null;const n=e[2],i=n.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=iM(n);return{prefix:null,filename:o,extension:a}}const{path:r,extension:s}=iM(n.slice(i+1));return{prefix:n.slice(0,i),filename:r,extension:s}}function Mx(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?o_(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function Ix(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const n=`${e.urlKey}.${e.customBaseUrl}`,i=Q2();return sc(i,`${i.scheme}://${n}`)?o_(t,e.portalHostname,n):o_(t,n,e.portalHostname)}function Ox(t){if(!t)return t||null;let e=t;return e&&We&&!We.findCredential(e)&&(e=K2(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function WP(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&We&&!We.findCredential(e)&&(e=K2(e)),e}var Dh;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(Dh||(Dh={}));const OZ=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Dh},ensureMainOnlineDomain:Mx,fromCDNUrl:WP,fromJSON:kh,itemIdFromResourceUrl:jP,prefixAndFilenameFromResourceUrl:BP,read:Ig,toCDNUrl:Ox,toJSON:vf,write:Rh},Symbol.toStringTag,{value:"Module"}));var Px;const PZ=Cr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Oc=Px=class extends ee{constructor(t){super(t)}readHref(t,e,n){return t?kh(t,n):e.dataURI}writeHref(t,e,n,i){t&&(oc(t)?e.dataURI=t:(e.href=vf(t,i),Or(e.href)&&(e.href=Lo(e.href))))}clone(){return new Px({href:this.href,primitive:this.primitive})}};v([E({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Oc.prototype,"href",void 0),v([Gn("href")],Oc.prototype,"readHref",null),v([en("href",{href:{type:String},dataURI:{type:String}})],Oc.prototype,"writeHref",null),v([ae(PZ)],Oc.prototype,"primitive",void 0),Oc=Px=v([rt("esri.symbols.support.IconSymbol3DLayerResource")],Oc);var Nx;let Fh=Nx=class extends $n{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Nx({x:this.x,y:this.y})}};v([E({type:Number})],Fh.prototype,"x",void 0),v([E({type:Number})],Fh.prototype,"y",void 0),Fh=Nx=v([rt("esri.symbols.support.Symbol3DAnchorPosition2D")],Fh);var Lx;let bf=Lx=class extends ee{constructor(t){super(t),this.color=new me([0,0,0,1]),this.size=ds(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new Lx(t)}};v([E(Ka)],bf.prototype,"color",void 0),v([E(Zs)],bf.prototype,"size",void 0),bf=Lx=v([rt("esri.symbols.support.Symbol3DIconOutline")],bf);var Uh;const zP="esri.symbols.IconSymbol3DLayer";let fs=Uh=class extends Js{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Uh({anchor:this.anchor,anchorPosition:gt(this.anchorPosition),enabled:this.enabled,material:gt(this.material),outline:gt(this.outline),resource:gt(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(t){const e=t.color||mf,n=qP(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||mf).clone()}:null;return new Uh({size:t.size,angle:t.angle,resource:{primitive:LZ(t.style)},material:{color:e},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(t){const e=!t.color||XJ(t.color)?mf:t.color,n=qP(t);return new Uh({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:e.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(t){return new Uh({resource:{href:tM({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};v([E({type:zi,json:{write:!0}})],fs.prototype,"material",void 0),v([E({type:Oc,json:{write:!0}})],fs.prototype,"resource",void 0),v([ae({Icon:"icon"},{readOnly:!0})],fs.prototype,"type",void 0),v([E(Zs)],fs.prototype,"size",void 0),v([ae({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],fs.prototype,"anchor",void 0),v([E({type:Fh,json:{type:[Number],read:{reader:t=>new Fh({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],fs.prototype,"anchorPosition",void 0),v([E({type:bf,json:{write:!0}})],fs.prototype,"outline",void 0),v([E({type:Number,json:{write:!0,default:0}})],fs.prototype,"angle",void 0),fs=Uh=v([rt(zP)],fs);const Pc=fs;function qP(t){const e="width"in t?t.width:t.size,n="height"in t?t.height:t.size,i=VP(t.xoffset),r=VP(t.yoffset);return(i||r)&&e&&n?{x:-i/e,y:r/n}:null}function VP(t){return isFinite(t)?t:0}const NZ={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function LZ(t){return NZ[t]||(ke.getLogger(zP).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}function HP(t,e,n=Ue){return e||(e=new n),e===t||(e.removeAll(),kZ(t)?e.addMany(t):t&&e.add(t)),e}function YP(t){return t}function kZ(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}var Qa;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(Qa||(Qa={}));let RZ=class{constructor(){this._resolver=ec(),this._status=Qa.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Qa.RESOLVED,this._cleanUp()},()=>{this._status=Qa.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Qa.RESOLVED}isRejected(){return this._status===Qa.REJECTED}isFulfilled(){return this._status!==Qa.PENDING}abort(){this._resolver.reject(Wi())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=ec(),e=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(e);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||Wu(i)||this._resolver.reject(i)}),t.resolve()}};const JP=t=>{let e=class extends t{constructor(...n){super(...n),this._promiseProps=new RZ,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(n,i){return this._promiseProps.promise.then(()=>this).then(n,i)}catch(n){return this.when(null,n)}addResolvingPromise(n){n&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in n?n.when():n)}};return e=v([rt("esri.core.Promise")],e),e};let Pg=class extends JP($n){};Pg=v([rt("esri.core.Promise")],Pg);const DZ="not-loaded",FZ="loading",UZ="failed",ZP="loaded",KP=t=>{let e=class extends t{constructor(...n){super(...n),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const r=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=SC(s,l);this.destroyed&&l(new oe("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===DZ){this._set("loadStatus",FZ);const a=this._loadController=new AbortController;r({signal:a.signal})}return i(),o}})),this.when(()=>{this._set("loadStatus",ZP),this._loadController=null},i=>{this._set("loadStatus",UZ),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=T2(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===ZP}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new oe("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return v([E({readOnly:!0})],e.prototype,"loaded",null),v([E({readOnly:!0})],e.prototype,"loadError",void 0),v([E({clonable:!1})],e.prototype,"loadStatus",void 0),v([E({type:[$u],readOnly:!0})],e.prototype,"loadWarnings",null),e=v([rt("esri.core.Loadable")],e),e};let _f=class extends KP(Pg){};_f=v([rt("esri.core.Loadable")],_f),function(t){function e(n){return!(!n||!n.load)}t.LoadableMixin=KP,t.isLoadable=e}(_f||(_f={}));const XP=_f;let Ng;function $Z(t){return Ng&&!Ng.destroyed||(Ng=t()),Ng}var kx;const GZ=new $s({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let $r=kx=class extends $n{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new kx({categories:this.categories?gt(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let n=[];this.categories&&(n=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=C_(this.extent,Pn.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&t.extraQuery&&(r="("+r+")"+t.extraQuery);const s={categories:n,bbox:i,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>GZ.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};v([E()],$r.prototype,"categories",void 0),v([E()],$r.prototype,"disableExtraQuery",void 0),v([E({type:hr})],$r.prototype,"extent",void 0),v([E()],$r.prototype,"filter",void 0),v([E()],$r.prototype,"num",void 0),v([E()],$r.prototype,"query",void 0),v([E()],$r.prototype,"sortField",void 0),v([E()],$r.prototype,"sortOrder",null),v([E()],$r.prototype,"start",void 0),$r=kx=v([rt("esri.portal.PortalQueryParams")],$r);const ms=$r;var Rx;let kn=Rx=class extends ee{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const n=e.categorySchema||[];return n.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):n})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new oe("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Rx({sourceJSON:t});return e.read(t),e}queryItems(t,e){let n=Tr(ms,t);const i=this.portal;return parseFloat(i.currentVersion)>5?(n=n||new ms,i.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",e)):(n=n?n.clone():new ms,n.query="group:"+this.id+(n.query?" "+n.query:""),i.queryItems(n,e))}_fetchCategorySchemaSet(t,e){const n=this.portal;return n.fetchSelf(n.authMode,!0,e).then(i=>{const r=i.contentCategorySetsGroupQuery;if(r){const s=new ms({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(s,e)}throw new oe("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const r=i.results[0],s=new ms({num:1,query:`typekeywords:"${t}"`});return r.queryItems(s,e)}throw new oe("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",e).then(r=>{const s=r?.categorySchema;return s?.length?s:[]}):[])}};v([E()],kn.prototype,"access",void 0),v([E({type:Date})],kn.prototype,"created",void 0),v([E()],kn.prototype,"description",void 0),v([E()],kn.prototype,"id",void 0),v([E()],kn.prototype,"isInvitationOnly",void 0),v([E({type:Date})],kn.prototype,"modified",void 0),v([E()],kn.prototype,"owner",void 0),v([E()],kn.prototype,"portal",void 0),v([E()],kn.prototype,"snippet",void 0),v([E()],kn.prototype,"sortField",void 0),v([E()],kn.prototype,"sortOrder",void 0),v([E()],kn.prototype,"sourceJSON",void 0),v([E()],kn.prototype,"tags",void 0),v([E()],kn.prototype,"thumbnail",void 0),v([E({readOnly:!0})],kn.prototype,"thumbnailUrl",null),v([E()],kn.prototype,"title",void 0),v([E({readOnly:!0})],kn.prototype,"url",null),kn=Rx=v([rt("esri.portal.PortalGroup")],kn);const Dx=kn;let Nc=class extends $n{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};v([E()],Nc.prototype,"nextQueryParams",void 0),v([E()],Nc.prototype,"queryParams",void 0),v([E()],Nc.prototype,"results",void 0),v([E()],Nc.prototype,"total",void 0),Nc=v([rt("esri.portal.PortalQueryResult")],Nc);const jZ=Nc;let Bo=class extends ee{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new oe("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};v([E({type:Date})],Bo.prototype,"created",void 0),v([E()],Bo.prototype,"id",void 0),v([E()],Bo.prototype,"portal",void 0),v([E()],Bo.prototype,"title",void 0),v([E({readOnly:!0})],Bo.prototype,"url",null),v([E()],Bo.prototype,"username",void 0),Bo=v([rt("esri.portal.PortalFolder")],Bo);const BZ=Bo;var Fx;let $e=Fx=class extends ee{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,n=t?.data,i=t?.folder,r={method:"post"};e&&(r.query=e.createPostQuery(),n!=null&&(typeof n=="string"?r.query.text=n:typeof n=="object"&&(r.query.text=JSON.stringify(n))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal.request(s+"/addItem",r).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let n=this.userContentUrl;t.ownerFolder&&(n+="/"+t.ownerFolder);const i=e?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${t.id}/delete`,{method:"post",query:i}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const n=this.userContentUrl+"/deleteItems",i=[],r=t.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(","),permanentDelete:e}},o=await this.portal.request(n,s);for(const a of o.results){const l=t.find(d=>a.itemId===d.id),c=a.success;let p=null;c?(l.id=null,l.portal=null):a.error&&(p=new oe("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:p})}}return i}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let n;return n=e&&e.folders?e.folders.map(i=>{const r=BZ.fromJSON(i);return r.portal=this.portal,r}):[],n})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(n=>{const i=Dx.fromJSON(n);return i.portal=this.portal,i}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:n}=await import("./PortalItem-GB_qzSm2.js"),i={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},r=await this.portal.request(e,{query:i});let s;return r?.items?(s=r.items.map(o=>{const a=n.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:r.nextStart,total:r.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new Dx({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new oe("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const n=this.userContentUrl,i=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(n+`/items/${t.id}/restore`,{method:"post",query:i})}toJSON(){throw new oe("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Fx({sourceJSON:t});return e.read(t),e}};v([E()],$e.prototype,"access",void 0),v([E({type:Date})],$e.prototype,"created",void 0),v([E()],$e.prototype,"culture",void 0),v([E()],$e.prototype,"description",void 0),v([E()],$e.prototype,"email",void 0),v([E()],$e.prototype,"favGroupId",void 0),v([E()],$e.prototype,"fullName",void 0),v([E({type:Date})],$e.prototype,"modified",void 0),v([E()],$e.prototype,"orgId",void 0),v([E()],$e.prototype,"portal",void 0),v([E()],$e.prototype,"preferredView",void 0),v([E()],$e.prototype,"privileges",void 0),v([E()],$e.prototype,"region",void 0),v([E()],$e.prototype,"role",void 0),v([E()],$e.prototype,"roleId",void 0),v([E()],$e.prototype,"sourceJSON",void 0),v([E()],$e.prototype,"thumbnail",void 0),v([E({readOnly:!0})],$e.prototype,"thumbnailUrl",null),v([E()],$e.prototype,"units",void 0),v([E({readOnly:!0})],$e.prototype,"userContentUrl",null),v([E({readOnly:!0})],$e.prototype,"url",null),v([E()],$e.prototype,"username",void 0),v([E()],$e.prototype,"userLicenseTypeId",void 0),v([E()],$e.prototype,"userType",void 0),$e=Fx=v([rt("esri.portal.PortalUser")],$e);const Ux=$e;var dr;let wf;const QP={PortalGroup:()=>Promise.resolve({default:Dx}),PortalItem:()=>import("./PortalItem-GB_qzSm2.js"),PortalUser:()=>Promise.resolve({default:Ux})};let dt=dr=class extends Y2(XP){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Pe.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){tN.unregister(this),this.defaultBasemap=vd(this.defaultBasemap),this.defaultDevBasemap=vd(this.defaultDevBasemap),this.defaultVectorBasemap=vd(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=tc(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)Pe.request.trustedServers.includes(e)||Pe.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,e=!t||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get hasAPIKey(){return aM(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.slice(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let e=null;return t&&(e=Ux.fromJSON(t),e.portal=this),e}load(t){const e=import("./Basemap-DRYWTc2e.js").then(n=>n.B).then(({default:n})=>{Bu(t),wf=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(n=>{if(!this.hasAPIKey&&We){const i=We;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==dr.AUTH_MODE_AUTO&&this.authMode!==dr.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",WZ(new WeakRef(this))),tN.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await import("./ElevationLayer-BynmScld.js")).default;return t?t.map(n=>new e({id:n.id,url:n.url})):[]}async fetchBasemaps(t,e){const n=await this._fetchBasemaps(t,e);if(e?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(t,e);n.unshift(...i)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const e=new ms;e.query=this.default3DBasemapQuery,e.disableExtraQuery=!0;const n=(await this.queryItems(e,t)).results.find(i=>i.type==="Web Scene");return n?new wf({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(e=>e.categorySchema):xa(t)?Promise.reject(Wi()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,n=new ms({num:100,sortField:"title"});if(e?.length){const i=[];for(const r of e)i.push(`(title:"${r.title}" AND owner:${r.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,t).then(r=>r.results)}return xa(t)?Promise.reject(Wi()):Promise.resolve([])}fetchRegions(t){const e=this.user?.culture||this.culture||os();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}fetchSettings(t){const e=this.user?.culture||this.culture||os();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:e}})}static getDefault(){return $Z(()=>new dr)}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,n){const i=this.restUrl+"/portals/self",r={authMode:t,query:{culture:os().toLowerCase()},withCredentials:!0,...n};return r.authMode==="auto"&&(r.authMode="no-prompt"),e&&(r.query.default=!0),this.request(i,r)}queryPortal(t,e,n,i){const r=Tr(ms,e),s=o=>this.request(this.restUrl+t,{...r.toRequestOptions(this),...i}).then(a=>{const l=r.clone();return l.start=a.nextStart,new jZ({nextQueryParams:l,queryParams:r,total:a.total,results:dr._resultsToTypedArray(o,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(D2(l),a)));return n&&QP[n]?QP[n]().then(({default:o})=>(Bu(i),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new oe("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===dr.AUTH_MODE_ANONYMOUS||this.authMode===dr.AUTH_MODE_NO_PROMPT&&!We)return Promise.reject(new oe("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=e=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(e||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate"))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return We?We.getCredential(this.restUrl,{prompt:this.authMode!==dr.AUTH_MODE_NO_PROMPT}).then(e=>t(e)):t(this.credential)}normalizeUrl(t){const e=this.credential?.token;return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,n){return this.request(t,e).then(i=>{const r=dr._resultsToTypedArray(n,{portal:this},i);return Promise.all(r.map(s=>typeof s.when=="function"?s.when():i)).then(()=>r,()=>r)})}request(t,e={}){const n={f:"json",...e.query},{authMode:i=this.authMode===dr.AUTH_MODE_ANONYMOUS||this.authMode===dr.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:r=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=e,c={authMode:i,body:r,cacheBust:s,method:o,query:n,responseType:a,timeout:0,signal:l};return e.withCredentials&&(c.withCredentials=!0),fn(this._normalizeSSL(t),c).then(p=>p.data)}toJSON(){throw new oe("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new dr({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t];if(!e)throw new oe("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}async _fetchBasemaps(t,e){const n=new ms;n.query=t||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,e);if(!i.total)return[];const r=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=r.sortField||"name",n.sortOrder=r.sortOrder||"desc";const s=await r.queryItems(n,e);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new wf({portalItem:o})):[]}async _fetchBasemaps3D(t,e){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];const i=new ms({query:n,disableExtraQuery:!0}),r=await this.queryGroups(i,e);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,e);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new wf({portalItem:a})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=wf.fromJSON(t);return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,n,i){let r;if(n){const s=i!=null?i.signal:null;r=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||e)&&(r=r.map(o=>{const a=Object.assign(t?t.fromJSON(o):o,e);return typeof a.load=="function"&&a.load(s),a}))}else r=[];return r}};dt.AUTH_MODE_ANONYMOUS="anonymous",dt.AUTH_MODE_AUTO="auto",dt.AUTH_MODE_IMMEDIATE="immediate",dt.AUTH_MODE_NO_PROMPT="no-prompt",v([E()],dt.prototype,"access",void 0),v([E()],dt.prototype,"allSSL",void 0),v([E()],dt.prototype,"authMode",void 0),v([E()],dt.prototype,"authorizedCrossOriginDomains",void 0),v([Gn("authorizedCrossOriginDomains")],dt.prototype,"readAuthorizedCrossOriginDomains",null),v([E()],dt.prototype,"basemapGalleryGroupQuery",void 0),v([E({json:{name:"3DBasemapGalleryGroupQuery"}})],dt.prototype,"basemapGalleryGroupQuery3D",void 0),v([E()],dt.prototype,"bingKey",void 0),v([E()],dt.prototype,"canListApps",void 0),v([E()],dt.prototype,"canListData",void 0),v([E()],dt.prototype,"canListPreProvisionedItems",void 0),v([E()],dt.prototype,"canProvisionDirectPurchase",void 0),v([E()],dt.prototype,"canSearchPublic",void 0),v([E()],dt.prototype,"canShareBingPublic",void 0),v([E()],dt.prototype,"canSharePublic",void 0),v([E()],dt.prototype,"canSignInArcGIS",void 0),v([E()],dt.prototype,"canSignInIDP",void 0),v([E()],dt.prototype,"colorSetsGroupQuery",void 0),v([E()],dt.prototype,"commentsEnabled",void 0),v([E({type:Date})],dt.prototype,"created",void 0),v([E()],dt.prototype,"credential",void 0),v([E()],dt.prototype,"culture",void 0),v([E()],dt.prototype,"currentVersion",void 0),v([E()],dt.prototype,"customBaseUrl",void 0),v([E()],dt.prototype,"default3DBasemapQuery",void 0),v([E()],dt.prototype,"defaultBasemap",void 0),v([Gn("defaultBasemap")],dt.prototype,"readDefaultBasemap",null),v([E()],dt.prototype,"defaultDevBasemap",void 0),v([Gn("defaultDevBasemap")],dt.prototype,"readDefaultDevBasemap",null),v([E({type:hr})],dt.prototype,"defaultExtent",void 0),v([E()],dt.prototype,"defaultVectorBasemap",void 0),v([Gn("defaultVectorBasemap")],dt.prototype,"readDefaultVectorBasemap",null),v([E()],dt.prototype,"description",void 0),v([E()],dt.prototype,"devBasemapGalleryGroupQuery",void 0),v([E()],dt.prototype,"eueiEnabled",void 0),v([E({readOnly:!0})],dt.prototype,"extraQuery",null),v([E()],dt.prototype,"featuredGroups",void 0),v([E()],dt.prototype,"featuredItemsGroupQuery",void 0),v([E()],dt.prototype,"galleryTemplatesGroupQuery",void 0),v([E()],dt.prototype,"layoutGroupQuery",void 0),v([E()],dt.prototype,"livingAtlasGroupQuery",void 0),v([E({readOnly:!0})],dt.prototype,"hasAPIKey",null),v([E()],dt.prototype,"hasCategorySchema",void 0),v([E()],dt.prototype,"hasClassificationSchema",void 0),v([E()],dt.prototype,"helpBase",void 0),v([E()],dt.prototype,"helperServices",void 0),v([E()],dt.prototype,"helpMap",void 0),v([E()],dt.prototype,"homePageFeaturedContent",void 0),v([E()],dt.prototype,"homePageFeaturedContentCount",void 0),v([E()],dt.prototype,"httpPort",void 0),v([E()],dt.prototype,"httpsPort",void 0),v([E()],dt.prototype,"id",void 0),v([E()],dt.prototype,"ipCntryCode",void 0),v([E({readOnly:!0})],dt.prototype,"isOrganization",null),v([E()],dt.prototype,"isPortal",void 0),v([E()],dt.prototype,"isReadOnly",void 0),v([E({readOnly:!0})],dt.prototype,"itemPageUrl",null),v([E()],dt.prototype,"layerTemplatesGroupQuery",void 0),v([E()],dt.prototype,"maxTokenExpirationMinutes",void 0),v([E({type:Date})],dt.prototype,"modified",void 0),v([E()],dt.prototype,"name",void 0),v([E()],dt.prototype,"portalHostname",void 0),v([E()],dt.prototype,"portalMode",void 0),v([E()],dt.prototype,"portalProperties",void 0),v([E()],dt.prototype,"region",void 0),v([E()],dt.prototype,"recycleBinEnabled",void 0),v([E({readOnly:!0})],dt.prototype,"restUrl",null),v([E()],dt.prototype,"rotatorPanels",void 0),v([E()],dt.prototype,"showHomePageDescription",void 0),v([E()],dt.prototype,"sourceJSON",void 0),v([E()],dt.prototype,"staticImagesUrl",void 0),v([E({json:{name:"2DStylesGroupQuery"}})],dt.prototype,"stylesGroupQuery2d",void 0),v([E({json:{name:"stylesGroupQuery"}})],dt.prototype,"stylesGroupQuery3d",void 0),v([E()],dt.prototype,"supportsHostedServices",void 0),v([E()],dt.prototype,"symbolSetsGroupQuery",void 0),v([E()],dt.prototype,"templatesGroupQuery",void 0),v([E()],dt.prototype,"thumbnail",void 0),v([E({readOnly:!0})],dt.prototype,"thumbnailUrl",null),v([E()],dt.prototype,"units",void 0),v([E()],dt.prototype,"url",void 0),v([E()],dt.prototype,"urlKey",void 0),v([Gn("urlKey")],dt.prototype,"readUrlKey",null),v([E()],dt.prototype,"user",void 0),v([Gn("user")],dt.prototype,"readUser",null),v([E()],dt.prototype,"use3dBasemaps",void 0),v([E()],dt.prototype,"useDefault3dBasemap",void 0),v([E()],dt.prototype,"useStandardizedQuery",void 0),v([E()],dt.prototype,"useVectorBasemaps",void 0),v([E()],dt.prototype,"vectorBasemapGalleryGroupQuery",void 0),dt=dr=v([rt("esri.portal.Portal")],dt);const xf=dt,tN=new FinalizationRegistry(t=>{t.remove()});function WZ(t){const e=We;return()=>{const n=t.deref();n&&e.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}let Lc=class extends qs(ee){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Lc.prototype,"type",void 0),v([E({type:qJ,json:{default:"begin-end",write:!0}})],Lc.prototype,"placement",void 0),v([E({type:IP,json:{default:"arrow",write:!0}})],Lc.prototype,"style",void 0),v([E({type:me,json:{type:[On],default:null,write:!0}})],Lc.prototype,"color",void 0),Lc=v([rt("esri.symbols.LineStyleMarker3D")],Lc);const $x=Lc;var Lg;let Xs=Lg=class extends Js{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=ds(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Lg(t)}static fromSimpleLineSymbol(t){const e={enabled:!0,size:t.width??ds(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new gx({style:t.style}):null,material:new zi({color:(t.color||mf).clone()}),marker:t.marker?new $x({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new Lg(e)}};v([E({type:zi,json:{write:!0}})],Xs.prototype,"material",void 0),v([ae({Line:"line"},{readOnly:!0})],Xs.prototype,"type",void 0),v([E({type:FP,json:{write:!0,default:"miter"}})],Xs.prototype,"join",void 0),v([E({type:Ex,json:{write:!0,default:"butt"}})],Xs.prototype,"cap",void 0),v([E(Zs)],Xs.prototype,"size",void 0),v([E(kP)],Xs.prototype,"pattern",void 0),v([E({types:{key:"type",base:$x,typeMap:{style:$x}},json:{write:!0}})],Xs.prototype,"marker",void 0),Xs=Lg=v([rt("esri.symbols.LineSymbol3DLayer")],Xs);const $h=Xs;var Gx;const zZ=Cr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Sf=Gx=class extends ee{clone(){return new Gx({href:this.href,primitive:this.primitive})}};v([E({type:String,json:{read:Ig,write:Rh}})],Sf.prototype,"href",void 0),v([ae(zZ)],Sf.prototype,"primitive",void 0),Sf=Gx=v([rt("esri.symbols.support.ObjectSymbol3DLayerResource")],Sf);var jx;let kc=jx=class extends $n{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new jx({x:this.x,y:this.y,z:this.z})}};v([E({type:Number})],kc.prototype,"x",void 0),v([E({type:Number})],kc.prototype,"y",void 0),v([E({type:Number})],kc.prototype,"z",void 0),kc=jx=v([rt("esri.symbols.support.Symbol3DAnchorPosition3D")],kc);var Bx;let yi=Bx=class extends Js{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new Bx({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};v([E({type:zi,json:{write:!0}})],yi.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],yi.prototype,"castShadows",void 0),v([E({type:Sf,json:{write:!0}})],yi.prototype,"resource",void 0),v([ae({Object:"object"},{readOnly:!0})],yi.prototype,"type",void 0),v([E({type:Number,json:{write:!0}})],yi.prototype,"width",void 0),v([E({type:Number,json:{write:!0}})],yi.prototype,"height",void 0),v([E({type:Number,json:{write:!0}})],yi.prototype,"depth",void 0),v([ae({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],yi.prototype,"anchor",void 0),v([E({type:kc,json:{type:[Number],read:{reader:t=>new kc({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],yi.prototype,"anchorPosition",void 0),v([E({type:Number,json:{write:!0}})],yi.prototype,"heading",void 0),v([E({type:Number,json:{write:!0}})],yi.prototype,"tilt",void 0),v([E({type:Number,json:{write:!0}})],yi.prototype,"roll",void 0),v([E({readOnly:!0})],yi.prototype,"isPrimitive",null),yi=Bx=v([rt("esri.symbols.ObjectSymbol3DLayer")],yi);const Wx=yi;var zx;let Ii=zx=class extends Js{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new zx({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};v([E({type:zi,json:{write:!0}})],Ii.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ii.prototype,"castShadows",void 0),v([ae({Path:"path"},{readOnly:!0})],Ii.prototype,"type",void 0),v([E({type:["circle","quad"],json:{write:!0,default:"circle"}})],Ii.prototype,"profile",void 0),v([E({type:FP,json:{write:!0,default:"miter"}})],Ii.prototype,"join",void 0),v([E({type:xZ,json:{write:!0,default:"butt"}})],Ii.prototype,"cap",void 0),v([E({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Ii.prototype,"width",void 0),v([Gn("width",["width","size","height"])],Ii.prototype,"readWidth",null),v([E({type:Number,json:{write:!0}})],Ii.prototype,"height",void 0),v([Gn("height",["height","size","width"])],Ii.prototype,"readHeight",null),v([E({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Ii.prototype,"anchor",void 0),v([E({type:["heading","all"],json:{write:!0,default:"all"}})],Ii.prototype,"profileRotation",void 0),Ii=zx=v([rt("esri.symbols.PathSymbol3DLayer")],Ii);const qx=Ii;var Vx;let Gh=Vx=class extends ee{constructor(){super(...arguments),this.color=new me([0,0,0,1]),this.size=0}clone(){const t={color:gt(this.color),size:this.size};return new Vx(t)}};v([E(Ka)],Gh.prototype,"color",void 0),v([E(Zs)],Gh.prototype,"size",void 0),Gh=Vx=v([rt("esri.symbols.support.Symbol3DHalo")],Gh);let Af=class extends qs(ee){constructor(t){super(t),this.color=null}};v([E(Ka)],Af.prototype,"color",void 0),Af=v([rt("esri.symbols.support.Symbol3DTextBackground")],Af);var kg;let qi=kg=class extends Js{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,n,i){const r={...i,textSymbol3D:!0};e.font=t.write({},r),delete e.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new kg({enabled:this.enabled,font:this.font&&gt(this.font),halo:this.halo&&gt(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:gt(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new kg({font:t.font!=null?t.font.clone():new gf,halo:qZ(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new zi({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new Af({color:t.backgroundColor.clone()}):null})}};function qZ(t,e){return t&&e!=null&&e>0?new Gh({color:gt(t),size:e}):null}v([E({type:gf,json:{write:!0}})],qi.prototype,"font",null),v([en("font")],qi.prototype,"writeFont",null),v([E({type:Gh,json:{write:!0}})],qi.prototype,"halo",void 0),v([E({...$P,json:{default:"center",write:!0}})],qi.prototype,"horizontalAlignment",void 0),v([E({...UP,json:{default:1,write:!0}})],qi.prototype,"lineHeight",void 0),v([E({type:zi,json:{write:!0}})],qi.prototype,"material",void 0),v([E({type:Af,json:{write:!0}})],qi.prototype,"background",void 0),v([E(Zs)],qi.prototype,"size",null),v([E({type:String,json:{write:!0}})],qi.prototype,"text",void 0),v([ae({Text:"text"},{readOnly:!0})],qi.prototype,"type",void 0),v([E({...GP,json:{default:"baseline",write:!0}})],qi.prototype,"verticalAlignment",void 0),qi=kg=v([rt("esri.symbols.TextSymbol3DLayer")],qi);const jh=qi;var Hx;let tl=Hx=class extends Js{constructor(t){super(t),this.color=Yx.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Hx({color:gt(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};v([E({type:me,nonNullable:!0,json:{type:[On],write:(t,e,n)=>e[n]=t.toArray(me.AlphaMode.UNLESS_OPAQUE),default:()=>Yx.clone(),defaultEquals:t=>t.toCss(!0)===Yx.toCss(!0)}})],tl.prototype,"color",void 0),v([ae({Water:"water"},{readOnly:!0})],tl.prototype,"type",void 0),v([E({type:["small","medium","large"],json:{write:!0,default:"medium"}})],tl.prototype,"waterbodySize",void 0),v([E({type:Number,json:{write:!0,default:null}})],tl.prototype,"waveDirection",void 0),v([E({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],tl.prototype,"waveStrength",void 0),tl=Hx=v([rt("esri.symbols.WaterSymbol3DLayer")],tl);const eN=tl,Yx=new me([0,119,190]);var Jx;let Rc=Jx=class extends $n{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Jx({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};v([E({type:String})],Rc.prototype,"name",void 0),v([E({type:String})],Rc.prototype,"styleUrl",void 0),v([E({type:String})],Rc.prototype,"styleName",void 0),v([E({type:xf})],Rc.prototype,"portal",void 0),Rc=Jx=v([rt("esri.symbols.support.StyleOrigin")],Rc);const Rg=Rc;var Zx;let Bh=Zx=class extends $n{constructor(){super(...arguments),this.url=""}clone(){return new Zx({url:this.url})}};v([E({type:String})],Bh.prototype,"url",void 0),Bh=Zx=v([rt("esri.symbols.support.Thumbnail")],Bh);const nN={icon:Pc,object:Wx,line:$h,path:qx,fill:Ic,extrude:MP,text:jh,water:eN},VZ=Ue.ofType({base:Js,key:"type",typeMap:nN,errorContext:"symbol-layer"});let Qs=class extends ii{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=e?.type,i=n||Ue;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&ke.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){HP(t,this._get("symbolLayers"))}readStyleOrigin(t,e,n){if(t.styleUrl&&t.name){const i=kh(t.styleUrl,n);return new Rg({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new Rg({portal:n?.portal||xf.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new $u("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,e,n,i){if(t.styleUrl&&t.name){let r=vf(t.styleUrl,i);Or(r)&&(r=Lo(r)),e.styleOrigin={styleUrl:r,name:t.name}}else t.styleName&&t.name&&(t.portal&&i?.portal&&!XC(t.portal.restUrl,i.portal.restUrl)?i?.messages&&i.messages.push(new $u("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Js||t&&nN[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};v([E({json:{read:!1,write:!1}})],Qs.prototype,"color",null),v([E({type:VZ,nonNullable:!0,json:{write:!0}}),Qu(YP)],Qs.prototype,"symbolLayers",null),v([E({type:Rg})],Qs.prototype,"styleOrigin",void 0),v([Gn("styleOrigin")],Qs.prototype,"readStyleOrigin",null),v([en("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Qs.prototype,"writeStyleOrigin",null),v([E({type:Bh,json:{read:!1}})],Qs.prototype,"thumbnail",void 0),v([E({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Qs.prototype,"type",void 0),Qs=v([rt("esri.symbols.Symbol3D")],Qs);const Dc=Qs;let Ef=class extends ee{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};v([E({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Ef.prototype,"type",void 0),v([E({readOnly:!0})],Ef.prototype,"visible",void 0),Ef=v([rt("esri.symbols.callouts.Callout3D")],Ef);const iN=Ef;var Kx;let Dg=Kx=class extends ee{constructor(t){super(t),this.color=new me("white")}clone(){return new Kx({color:gt(this.color)})}};v([E(Ka)],Dg.prototype,"color",void 0),Dg=Kx=v([rt("esri.symbols.callouts.LineCallout3DBorder")],Dg);const HZ=Dg;var Xx;let el=Xx=class extends iN{constructor(t){super(t),this.type="line",this.color=new me([0,0,0,1]),this.size=ds(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Xx({color:gt(this.color),size:this.size,border:gt(this.border)})}};v([ae({line:"line"})],el.prototype,"type",void 0),v([E(Ka)],el.prototype,"color",void 0),v([E(Zs)],el.prototype,"size",void 0),v([E({type:HZ,json:{write:!0}})],el.prototype,"border",void 0),v([E({readOnly:!0})],el.prototype,"visible",null),el=Xx=v([rt("esri.symbols.callouts.LineCallout3D")],el);const rN=el;function Qx(t){if(!t)return!1;const e=t.verticalOffset;return!!e&&!(e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function sN(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!e&&!!e.visible&&!!Qx(t)}const oN={types:{key:"type",base:iN,typeMap:{line:rN}},json:{write:!0}};var tS;let Wh=tS=class extends ee{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new tS({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};v([E(Zs)],Wh.prototype,"screenLength",void 0),v([E({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Wh.prototype,"minWorldLength",void 0),v([E({type:Number,json:{write:!0}})],Wh.prototype,"maxWorldLength",void 0),Wh=tS=v([rt("esri.symbols.support.Symbol3DVerticalOffset")],Wh);const eS=Wh;var Fg;const aN=Ue.ofType({base:null,key:"type",typeMap:{text:jh}});let nl=Fg=class extends Dc{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new aN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return sN(this)}hasVisibleVerticalOffset(){return Qx(this)}clone(){return new Fg({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail),callout:gt(this.callout),verticalOffset:gt(this.verticalOffset)})}static fromTextSymbol(t){return new Fg({symbolLayers:new Ue([jh.fromTextSymbol(t)])})}};v([E({type:eS,json:{write:!0}})],nl.prototype,"verticalOffset",void 0),v([E(oN)],nl.prototype,"callout",void 0),v([E({json:{read:!1,write:!1}})],nl.prototype,"styleOrigin",void 0),v([E({type:aN})],nl.prototype,"symbolLayers",void 0),v([ae({LabelSymbol3D:"label-3d"},{readOnly:!0})],nl.prototype,"type",void 0),nl=Fg=v([rt("esri.symbols.LabelSymbol3D")],nl);const Ug=nl;var $g;const lN=Ue.ofType({base:null,key:"type",typeMap:{line:$h,path:qx}}),YZ=Ue.ofType({base:null,key:"type",typeMap:{line:$h,path:qx}});let Tf=$g=class extends Dc{constructor(t){super(t),this.symbolLayers=new lN,this.type="line-3d"}clone(){return new $g({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromSimpleLineSymbol(t){return new $g({symbolLayers:new Ue([$h.fromSimpleLineSymbol(t)])})}};v([E({type:lN,json:{type:YZ}})],Tf.prototype,"symbolLayers",void 0),v([ae({LineSymbol3D:"line-3d"},{readOnly:!0})],Tf.prototype,"type",void 0),Tf=$g=v([rt("esri.symbols.LineSymbol3D")],Tf);const Fc=Tf;let il=class extends ii{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],il.prototype,"angle",void 0),v([E({type:["simple-marker","picture-marker"],readOnly:!0})],il.prototype,"type",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],il.prototype,"xoffset",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],il.prototype,"yoffset",void 0),v([E({cast:t=>t==="auto"?t:ud(Je(t)),json:{write:!0}})],il.prototype,"size",void 0),il=v([rt("esri.symbols.MarkerSymbol")],il);const cN=il;var Gg;const uN=Ue.ofType({base:null,key:"type",typeMap:{fill:Ic}});let Cf=Gg=class extends Dc{constructor(t){super(t),this.symbolLayers=new uN,this.type="mesh-3d"}clone(){return new Gg({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromSimpleFillSymbol(t){return new Gg({symbolLayers:new Ue([Ic.fromSimpleFillSymbol(t)])})}};v([E({type:uN})],Cf.prototype,"symbolLayers",void 0),v([ae({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Cf.prototype,"type",void 0),Cf=Gg=v([rt("esri.symbols.MeshSymbol3D")],Cf);const Mf=Cf;function JZ(t,e,n){return e.imageData?tM({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):hN(e.url,n)}function hN(t,e){if(!Or(t)){const n=KZ(e);if(n)return py(n,"images",t)}return kh(t,e)}function ZZ(t,e,n,i){if(oc(t)){const r=Ju(t);if(!r)return;e.contentType=r.mediaType,e.imageData=r.data,n&&n.imageData===e.imageData&&n.url&&Rh(n.url,e,"url",i)}else Rh(t,e,"url",i)}const pN={json:{read:{source:["imageData","url"],reader:JZ},write:{writer(t,e,n,i){ZZ(t,e,this.source,i)}}}},dN={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,n){const i={};return e.imageData&&(i.imageData=e.imageData),e.contentType&&(i.contentType=e.contentType),e.url&&(i.url=hN(e.url,n)),i}}}};function KZ(t){if(!t)return null;const{origin:e,layer:n}=t;if(e!=="service"&&e!=="portal-item")return null;const i=n?.type;return i==="feature"||i==="stream"?n.parsedUrl?.path:i==="map-image"||i==="tile"?t.url?.path:null}var nS;let Gr=nS=class extends OP{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e&&(r.outline=e),n!=null&&(r.width=Je(n)),i!=null&&(r.height=Je(i)),r}clone(){const t=new nS({color:gt(this.color),height:this.height,outline:gt(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",gt(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};v([ae({esriPFS:"picture-fill"},{readOnly:!0})],Gr.prototype,"type",void 0),v([E(pN)],Gr.prototype,"url",void 0),v([E({type:Number,json:{write:!0}})],Gr.prototype,"xscale",void 0),v([E({type:Number,json:{write:!0}})],Gr.prototype,"yscale",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],Gr.prototype,"width",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],Gr.prototype,"height",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],Gr.prototype,"xoffset",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],Gr.prototype,"yoffset",void 0),v([E(dN)],Gr.prototype,"source",void 0),Gr=nS=v([rt("esri.symbols.PictureFillSymbol")],Gr);const iS=Gr;var rS;let ys=rS=class extends cN{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),e!=null&&(i.width=Je(e)),n!=null&&(i.height=Je(n)),i}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new rS({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",gt(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};v([E({json:{write:!1}})],ys.prototype,"color",void 0),v([ae({esriPMS:"picture-marker"},{readOnly:!0})],ys.prototype,"type",void 0),v([E(pN)],ys.prototype,"url",void 0),v([E(dN)],ys.prototype,"source",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],ys.prototype,"height",void 0),v([Gn("height",["height","size"])],ys.prototype,"readHeight",null),v([E({type:Number,cast:Je,json:{write:!0}})],ys.prototype,"width",void 0),v([E({json:{write:!1}})],ys.prototype,"size",void 0),ys=rS=v([rt("esri.symbols.PictureMarkerSymbol")],ys);const Uc=ys;var $c;const fN=Ue.ofType({base:null,key:"type",typeMap:{icon:Pc,object:Wx,text:jh}});let Gc=$c=class extends Dc{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new fN,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return sN(this)}hasVisibleVerticalOffset(){return Qx(this)}clone(){return new $c({verticalOffset:gt(this.verticalOffset),callout:gt(this.callout),styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new $c({symbolLayers:new Ue([Pc.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new $c({symbolLayers:new Ue([Pc.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const e=t.data.symbol;return new $c(e?.callout?{symbolLayers:new Ue([Pc.fromCIMSymbol(t)]),callout:new rN({size:.5,color:new me([0,0,0])}),verticalOffset:new eS({screenLength:40})}:{symbolLayers:new Ue([Pc.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new $c({symbolLayers:new Ue([jh.fromTextSymbol(t)])})}};v([E({type:eS,json:{write:!0}})],Gc.prototype,"verticalOffset",void 0),v([E(oN)],Gc.prototype,"callout",void 0),v([E({type:fN,json:{origins:{"web-scene":{write:!0}}}})],Gc.prototype,"symbolLayers",void 0),v([ae({PointSymbol3D:"point-3d"},{readOnly:!0})],Gc.prototype,"type",void 0),Gc=$c=v([rt("esri.symbols.PointSymbol3D")],Gc);const Wo=Gc;function XZ(t,e,n){return ty(t.map((i,r)=>e.apply(n,[i,r])))}async function QZ(t,e,n){return(await ty(t.map((i,r)=>e.apply(n,[i,r])))).map(i=>i.value)}function sS(t){return{ok:!0,value:t}}function oS(t){return{ok:!1,error:t}}function tK(t){return t!=null&&t.ok===!0?t.value:null}function eK(t){return t!=null&&t.ok===!1?t.error:null}async function nK(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return sS(await t)}catch(e){return oS(e)}}async function iK(t){try{return sS(await t)}catch(e){return D2(e),oS(e)}}function rK(t,e){return new rl(t,e)}let rl=class extends $n{get value(){return tK(this._result)}get error(){return eK(this._result)}get finished(){return this._result!=null}constructor(t,e){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=T2(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(i=>{this._result=sS(i),this._cleanup()},i=>{this._result=oS(i),this._cleanup()}),this._abortHandle=Sa(e,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=tc(this._abortHandle),this._abortController=null}};v([E()],rl.prototype,"value",null),v([E()],rl.prototype,"error",null),v([E()],rl.prototype,"finished",null),v([E()],rl.prototype,"promise",void 0),v([E()],rl.prototype,"_result",void 0),rl=v([rt("esri.core.asyncUtils.ReactiveTask")],rl);function mN(t,e,n={}){return lS(t,e,n,gN)}function aS(t,e,n={}){return lS(t,e,n,vN)}function lS(t,e,n={},i){let r=null;const s=n.once?(o,a)=>{i(o)&&(tc(r),e(o,a))}:(o,a)=>{i(o)&&e(o,a)};if(r=qj(t,s,n.sync,n.equals),n.initial){const o=t();s(o,o)}return r}function yN(t,e,n,i={}){let r=null,s=null,o=null;function a(){r&&s&&(s.remove(),i.onListenerRemove?.(r),r=null,s=null)}function l(p){i.once&&i.once&&tc(o),n(p)}const c=mN(t,(p,d)=>{a(),Q0(p)&&(r=p,s=k2(p,e,l),i.onListenerAdd?.(p))},{sync:i.sync,initial:!0});return o=dn(()=>{c.remove(),a()}),o}function sK(t,e){return oK(t,vN,e)}function oK(t,e,n){if(xa(n))return Promise.reject(Wi());const i=t();if(e?.(i))return Promise.resolve(i);let r=null;function s(){r=tc(r)}return new Promise((o,a)=>{r=$0([Sa(n,()=>{s(),a(Wi())}),lS(t,l=>{s(),o(l)},{sync:!1,once:!0},e??gN)])})}function gN(t){return!0}function vN(t){return!!t}const bN={sync:!0},aK={initial:!0},lK={sync:!0,initial:!0};var If;const _N=Ue.ofType({base:null,key:"type",typeMap:{extrude:MP,fill:Ic,icon:Pc,line:$h,object:Wx,text:jh,water:eN}});let Of=If=class extends Dc{constructor(t){super(t),this.symbolLayers=new _N,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Gu(ke.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Gu(ke.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(yN(()=>this.symbolLayers,"after-add",({item:e})=>t(e),bN))}clone(){return new If({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromJSON(t){const e=new If;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const n=e.symbolLayers.at(0),i=e.symbolLayers.at(1);!i.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new If({symbolLayers:new Ue([Ic.fromSimpleFillSymbol(t)])})}};v([E({type:_N,json:{write:!0}})],Of.prototype,"symbolLayers",void 0),v([ae({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Of.prototype,"type",void 0),Of=If=v([rt("esri.symbols.PolygonSymbol3D")],Of);const sl=Of;var cS;const uS=new $s({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let jc=cS=class extends OP{constructor(...t){super(...t),this.color=new me([0,0,0,.25]),this.outline=new Ur,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),e&&(i.outline=e),n&&(i.color=n),i}clone(){return new cS({color:gt(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};v([E()],jc.prototype,"color",void 0),v([E()],jc.prototype,"outline",void 0),v([ae({esriSFS:"simple-fill"},{readOnly:!0})],jc.prototype,"type",void 0),v([E({type:uS.apiValues,json:{read:uS.read,write:uS.write}})],jc.prototype,"style",void 0),jc=cS=v([rt("esri.symbols.SimpleFillSymbol")],jc);const ol=jc;var hS;const pS=new $s({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let to=hS=class extends cN{constructor(...t){super(...t),this.color=new me([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Ur}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e!=null&&(r.size=Je(e)),n&&(r.outline=n),i&&(r.color=i),r}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new hS({angle:this.angle,color:gt(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};v([E()],to.prototype,"color",void 0),v([en("color")],to.prototype,"writeColor",null),v([ae({esriSMS:"simple-marker"},{readOnly:!0})],to.prototype,"type",void 0),v([E()],to.prototype,"size",void 0),v([E({type:pS.apiValues,json:{read:pS.read,write:pS.write}})],to.prototype,"style",void 0),v([E({type:String,json:{write:!0}})],to.prototype,"path",null),v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Ur}},json:{default:null,write:!0}})],to.prototype,"outline",void 0),to=hS=v([rt("esri.symbols.SimpleMarkerSymbol")],to);const gs=to;var dS;let Ze=dS=class extends ii{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new gf,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),e&&(i.font=e),n&&(i.color=n),i}writeLineWidth(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}castLineWidth(t){return Je(t)}writeLineHeight(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}clone(){return new dS({angle:this.angle,backgroundColor:gt(this.backgroundColor),borderLineColor:gt(this.borderLineColor),borderLineSize:this.borderLineSize,color:gt(this.color),font:this.font&&this.font.clone(),haloColor:gt(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};v([E({type:me,json:{write:!0}})],Ze.prototype,"backgroundColor",void 0),v([E({type:me,json:{write:!0}})],Ze.prototype,"borderLineColor",void 0),v([E({type:Number,json:{write:!0},cast:Je})],Ze.prototype,"borderLineSize",void 0),v([E({type:gf,json:{write:!0}})],Ze.prototype,"font",void 0),v([E({...$P,json:{write:!0}})],Ze.prototype,"horizontalAlignment",void 0),v([E({type:Boolean,json:{write:!0}})],Ze.prototype,"kerning",void 0),v([E({type:me,json:{write:!0}})],Ze.prototype,"haloColor",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],Ze.prototype,"haloSize",void 0),v([E({type:Boolean,json:{write:!0}})],Ze.prototype,"rightToLeft",void 0),v([E({type:Boolean,json:{write:!0}})],Ze.prototype,"rotated",void 0),v([E({type:String,json:{write:!0}})],Ze.prototype,"text",void 0),v([ae({esriTS:"text"},{readOnly:!0})],Ze.prototype,"type",void 0),v([E({...GP,json:{write:!0}})],Ze.prototype,"verticalAlignment",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],Ze.prototype,"xoffset",void 0),v([E({type:Number,cast:Je,json:{write:!0}})],Ze.prototype,"yoffset",void 0),v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Ze.prototype,"angle",void 0),v([E({type:Number,json:{write:!0}})],Ze.prototype,"width",void 0),v([E({type:Number})],Ze.prototype,"lineWidth",void 0),v([en("lineWidth")],Ze.prototype,"writeLineWidth",null),v([Qu("lineWidth")],Ze.prototype,"castLineWidth",null),v([E(UP)],Ze.prototype,"lineHeight",void 0),v([en("lineHeight")],Ze.prototype,"writeLineHeight",null),Ze=dS=v([rt("esri.symbols.TextSymbol")],Ze);const Bc=Ze;var fS;let vs=fS=class extends ii{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:xf.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new fS({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,e){const n=e!=null?e.cache:null,i=n?this._fetchCacheKey:null;if(n!=null){const a=i&&n.get(i);if(a)return a.clone()}const{resolveWebStyleSymbol:r}=await import("./webStyleSymbolUtils-DMfe9VdH.js");Bu(e);const s=r(this,{portal:this.portal},t,e);s.catch(a=>{ke.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return t==="webRef"&&o.type==="point-3d"||t==="cimRef"&&o.type==="cim"?(n?.set(i,o.clone()),o):null}};v([E({json:{write:!1}})],vs.prototype,"color",void 0),v([E({type:String,json:{write:!0}})],vs.prototype,"styleName",void 0),v([E({type:xf,json:{write:!1}})],vs.prototype,"portal",void 0),v([E({type:String,json:{read:Ig,write:Rh}})],vs.prototype,"styleUrl",void 0),v([E({type:Bh,json:{read:!1}})],vs.prototype,"thumbnail",void 0),v([E({type:String,json:{write:!0}})],vs.prototype,"name",void 0),v([ae({styleSymbolReference:"web-style"},{readOnly:!0})],vs.prototype,"type",void 0),v([E()],vs.prototype,"_fetchCacheKey",null),vs=fS=v([rt("esri.symbols.WebStyleSymbol")],vs);const Wc=vs;function cK(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function mS(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const jg={base:ii,key:"type",typeMap:{"simple-fill":ol,"picture-fill":iS,"picture-marker":Uc,"simple-line":Ur,"simple-marker":gs,text:Bc,"label-3d":Ug,"line-3d":Fc,"mesh-3d":Mf,"point-3d":Wo,"polygon-3d":sl,"web-style":Wc,cim:Za},errorContext:"symbol"},uK={base:ii,key:"type",typeMap:{"picture-marker":Uc,"simple-marker":gs,"point-3d":Wo,cim:Za},errorContext:"symbol"},hK={base:ii,key:"type",typeMap:{"simple-line":Ur,"line-3d":Fc,cim:Za},errorContext:"symbol"},pK={base:ii,key:"type",typeMap:{"simple-fill":ol,"picture-fill":iS,"polygon-3d":sl,cim:Za},errorContext:"symbol"},dK={base:ii,key:"type",typeMap:{"picture-marker":Uc,"simple-marker":gs,text:Bc,"web-style":Wc,cim:Za},errorContext:"symbol"},fK=g2({types:jg}),mK={base:ii,key:"type",typeMap:{"simple-fill":ol,"picture-fill":iS,"picture-marker":Uc,"simple-line":Ur,"simple-marker":gs,text:Bc,"line-3d":Fc,"mesh-3d":Mf,"point-3d":Wo,"polygon-3d":sl,"web-style":Wc,cim:Za},errorContext:"symbol"},yK={base:ii,key:"type",typeMap:{text:Bc,"label-3d":Ug},errorContext:"symbol"},gK={base:ii,key:"type",typeMap:{"line-3d":Fc,"mesh-3d":Mf,"point-3d":Wo,"polygon-3d":sl,"web-style":Wc,cim:Za},errorContext:"symbol"},vK={base:ii,key:"type",typeMap:{"label-3d":Ug},errorContext:"symbol"},bK=_a(jg);var yS;function _K(t){if(!t)return null;const e={};for(const n in t){const i=ky(t[n]);i&&(e[n]=i)}return Object.keys(e).length!==0?e:null}function wK(t){if(t==null)return null;const e={};for(const n in t){const i=t[n];i&&(e[n]=i.toJSON())}return Object.keys(e).length!==0?e:null}let Vi=yS=class extends qs(ee){constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:wd(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&DG(ke.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}get version(){return this._version}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}cloneShallow(){return new yS({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const e=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[e,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(t&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,e){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",n,e,t)}else this.attributes={[t]:e},this._notifyLayer("attributes",void 0,e,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:wK(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:ly(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:e}=this;if(e?.type==="mesh"){const n={origin:e.origin,transform:e.transform};this._notifyLayer("origin-transform",n,n,t.action)}}_notifyLayer(t,e,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:t,oldValue:e,newValue:n};t==="origin-transform"&&(r.action=i),t==="attributes"&&(r.attributeName=i),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([aS(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:e})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===e||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=e,this.notifyMeshTransformChanged())}),aS(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,e)=>t===e,sync:!0})])}};v([E({value:null,json:{read:_K}})],Vi.prototype,"aggregateGeometries",null),v([E({value:null})],Vi.prototype,"attributes",null),v([E({value:null,types:J_,json:{read:ky}})],Vi.prototype,"geometry",null),v([E({type:Boolean})],Vi.prototype,"isAggregate",void 0),v([E({clonable:"reference"})],Vi.prototype,"layer",void 0),v([E({clonable:"reference"})],Vi.prototype,"origin",void 0),v([E({type:cP})],Vi.prototype,"popupTemplate",void 0),v([E({clonable:"reference"})],Vi.prototype,"sourceLayer",void 0),v([E({value:null,types:jg})],Vi.prototype,"symbol",null),v([E({clonable:!1,json:{read:!1,write:!1}})],Vi.prototype,"_version",void 0),v([E({type:Boolean,value:!0})],Vi.prototype,"visible",null),Vi=yS=v([rt("esri.Graphic")],Vi);const wN=Vi;function xK(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function SK(t){return t?.type==="subtype-sublayer"}const AK={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function gS(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function EK(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function TK(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t.source?.type==="feature-layer"}async function CK(t,e){const n=We?.findServerInfo(t);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const i=t.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const r=`${t.slice(0,i)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await fn(r,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function MK(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function IK(t){return MK(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function OK(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function PK(t){return!!OK(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}const vS=[252,146,31,255],NK=[153,153,153,255],xN={type:"esriSMS",style:"esriSMSCircle",size:6,color:vS,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},SN={type:"esriSLS",style:"esriSLSSolid",width:.75,color:vS},AN={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},LK={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},kK={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},RK={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},DK={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},bS=gs.fromJSON(xN),_S=Ur.fromJSON(SN),wS=ol.fromJSON(AN),FK=Bc.fromJSON(LK);function UK(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return bS;case"polyline":return _S;case"polygon":case"extent":return wS}return null}const $K=gs.fromJSON(kK),GK=Ur.fromJSON(RK),jK=ol.fromJSON(DK);Wo.fromSimpleMarkerSymbol(bS),Fc.fromSimpleLineSymbol(_S),sl.fromSimpleFillSymbol(wS),new Mf({symbolLayers:new Ue([new Ic({material:{color:vS},edges:new mP({size:ds(1),color:new me(NK)})})])});const BK=new Fc({symbolLayers:new Ue([new $h({material:{color:new me([0,0,0])},size:ds(1)})])}),WK=new sl({symbolLayers:new Ue([new Ic({outline:{color:new me([0,0,0]),size:ds(1)}})])}),EN="#useCIMFallbackSymbology()",zh={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function zK(t,e=zh){if(!t)return{symbol:null};const{retainId:n=zh.retainId,ignoreDrivers:i=zh.ignoreDrivers,hasLabelingContext:r=zh.hasLabelingContext,retainCIM:s=zh.retainCIM,cimFallbackEnabled:o=zh.cimFallbackEnabled}=e;let a=null;if(mS(t)||t instanceof Wc)a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?t.clone():Wo.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=BK.clone(),e?.logWarning?.(EN,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=WK.clone(),e?.logWarning?.(EN,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new oe("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof Ur)a=Fc.fromSimpleLineSymbol(t);else if(t instanceof gs)a=Wo.fromSimpleMarkerSymbol(t);else if(t instanceof Uc)a=Wo.fromPictureMarkerSymbol(t);else if(t instanceof ol)a=e.geometryType&&e.geometryType==="mesh"?Mf.fromSimpleFillSymbol(t):sl.fromSimpleFillSymbol(t);else{if(!(t instanceof Bc))return{error:new oe("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=r?Ug.fromTextSymbol(t):Wo.fromTextSymbol(t)}return n&&a&&a.type!=="cim"&&(a.id=t.id),i&&mS(a)&&a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function qK(t,e,n,i){const r=CN(t,{},{context:i,isLabelSymbol:!1});r!=null&&(e[n]=r)}function VK(t,e,n,i){const r=CN(t,{},{context:i,isLabelSymbol:!0});r!=null&&(e[n]=r)}function TN(t){return t instanceof Dc||t instanceof Wc}function HK(t){return t instanceof Dc&&(t.type==="polygon-3d"||t.type==="line-3d")}function CN(t,e,n){if(t==null)return null;const{context:i,isLabelSymbol:r}=n,s=i?.origin,o=i?.messages;if(s==="web-scene"&&!TN(t)){const a=zK(t,{retainCIM:!0,hasLabelingContext:r});return a.symbol!=null?a.symbol.write(e,i):(o?.push(new oe("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:i,error:a.error})),null)}return gS(i?.layer)&&HK(t)?(o?.push(new oe("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:t,context:i})),null):(s==="web-map"||s==="portal-item"&&!gS(i?.layer))&&TN(t)?(o?.push(new oe("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:i})),null):t.write(e,i)}function Bg(t,e){return fK(t,null,e)}class Re{static async Basemap(e){const n=await import("./Basemap-DRYWTc2e.js").then(i=>i.B);return Reflect.construct(n.default,[e])}static async Map(e){const n=await import("./Map-CAYmd5sT.js");return Reflect.construct(n.default,[e])}static async MapView(e){const n=await import("./MapView-t3HOWX2l.js").then(i=>i.V);return Reflect.construct(n.default,[e])}static async FeatureLayer(e){const n=await import("./FeatureLayer-CDZaNJFA.js");return Reflect.construct(n.default,[e])}static async GraphicsLayer(e){const n=await import("./GraphicsLayer-BEshv325.js");return Reflect.construct(n.default,[e])}static async ImageryLayer(e){const n=await import("./ImageryLayer-BHDdEcKS.js");return Reflect.construct(n.default,[e])}static async MapImageLayer(e){const n=await import("./MapImageLayer-DYrEbt80.js");return Reflect.construct(n.default,[e])}static async OpenStreetMapLayer(e){const n=await import("./OpenStreetMapLayer-C1l3f6LO.js");return Reflect.construct(n.default,[e])}static async TileLayer(e){const n=await import("./TileLayer-CvlTDzq_.js");return Reflect.construct(n.default,[e])}static async WMSLayer(e){const n=await import("./WMSLayer-D1KsbP_y.js");return Reflect.construct(n.default,[e])}static async ColorBackground(e){const n=await import("./ColorBackground-Be_JJ-Iw.js");return Reflect.construct(n.default,[e])}static async FeatureFilter(e){const n=await import("./FeatureFilter-Brmt6TRx.js");return Reflect.construct(n.default,[e])}static async FieldFromJson(e){return(await import("./Field-Dz3oIXgm.js").then(n=>n.F)).default.fromJSON(e)}static async Query(){const e=await import("./Query-BQmVRhcj.js").then(n=>n.Q);return Reflect.construct(e.default,[])}static async QueryByIds(e,n,i){const{executeForIds:r}=await import("./query-B1D853KN.js");return r(e,n,i)}static async RendererFromJson(e){const{fromJSON:n}=await import("./jsonUtils-BEiO7NdR.js").then(i=>i.j);return n(e)}}class Bt{wkid;latestWkid;wkt;constructor(e,n){typeof e=="string"?this.wkt=e:(this.wkid=e,this.latestWkid=n)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new Bt("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new Bt(4326)}static fromConfig(e){if(e.wkt)return new Bt(e.wkt);if(e.wkid)return new Bt(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof Bt?e.clone():typeof e=="string"&&e.startsWith("EPSG:")?new Bt(parseInt(e.substring(5).trim())):new Bt(e):Bt.latLongSR()}static fromESRI(e){if(e.wkt)return new Bt(e.wkt);{const n=e.toJSON().latestWkid,i=new Bt(e.wkid);return n&&(i.latestWkid=n),i}}toESRI(){return new Pn(this.lean())}static fromGeoJSON(e){const n=Bt.parseGeoJsonCrs(e);return n.substring(0,5)==="EPSG:"?new Bt(parseInt(n.slice(5))):new Bt(n)}static parseGeoJsonCrs(e){if(e){if(e.type==="name"){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=e.properties.name,r=i.match(n);if(r)return"EPSG:"+r[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class zc{sr;id;constructor(e,n){this.id=e?e.toString():"",this.sr=Bt.parseSR(n)}get type(){return Zt.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Zt.NONE||this.type===Zt.UNKNOWN}geoJsonFactory(e,n){const i={type:e,coordinates:n};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class al extends zc{constructor(){super("no_geometry")}get type(){return Zt.NONE}}let gi=class p0 extends zc{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=n.slice():this.rawArray=p0.parseXY(n)}get type(){return Zt.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(e){let n;if(Array.isArray(e)&&e.length===2)n=e;else{if(e instanceof p0)return e.toArray();n=[e.x,e.y]}if(isNaN(n[0])||isNaN(n[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(n[0]),parseFloat(n[1])]}static fromESRI(e,n){return new p0(n,[e.x,e.y],Bt.fromESRI(e.spatialReference),!0)}toESRI(){return new wn({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new p0(n,e.coordinates,Bt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.POINT,this.toArray())}};class cr extends zc{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=cr.arrayDeepCopy(n):n instanceof cr?this.rawArray=n.toArray():this.rawArray=cr.parsePointSet(n)}get pointArray(){return this.rawArray.map((e,n)=>new gi(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new gi(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=gi.parseXY(e)}get length(){return this.rawArray.length}toArray(){return cr.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(e.length===0)throw new Error("no verticies provided");return e.map(n=>gi.parseXY(n))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map(n=>n.slice())}}class rd extends cr{constructor(e,n,i,r){super(e,n,i,r)}get type(){return Zt.MULTIPOINT}static fromESRI(e,n){return new rd(n,e.points,Bt.fromESRI(e.spatialReference),!0)}toESRI(){return new Fd({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new rd(n,e.coordinates,Bt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.MULTIPOINT,this.toArray())}}class Hl extends cr{constructor(e,n,i,r){if(super(e,n,i,r),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Zt.LINESTRING}static fromESRI(e,n){return new Hl(n,e.paths[0],Bt.fromESRI(e.spatialReference),!0)}toESRI(){return new rh({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Hl(n,e.coordinates,Bt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.LINESTRING,this.toArray())}}class ks extends zc{rawArray;constructor(e,n,i,r){if(super(e,n.sr||i),r)this.rawArray=ks.arrayDeepCopy(n);else if(n instanceof ks)this.rawArray=n.toArray();else if(n instanceof cr)this.rawArray=[n.toArray()];else if(Array.isArray(n)){if(n.length===0)throw new Error("no lines provided");this.rawArray=n.map(s=>cr.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((e,n)=>new Hl(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new Hl(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=cr.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return Zt.MULTILINESTRING}toArray(){return ks.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new ks(n,e.paths,Bt.fromESRI(e.spatialReference),!0)}toESRI(){return new rh({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new ks(n,e.coordinates,Bt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.MULTILINESTRING,this.toArray())}}class Nu extends cr{constructor(e,n,i,r){if(super(e,n,i,r),Nu.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Zt.LINEARRING}updateAt(e,n){const i=this.length-1;n===0?super.updateAt(e,i):n===i&&super.updateAt(e,0),super.updateAt(e,n)}static closeRing(e){const n=e[0],i=e[e.length-1];(n[0]!==i[0]||n[1]!==i[1])&&e.push(n.slice())}static fromESRI(e,n){return new Nu(n,e.rings[0],Bt.fromESRI(e.spatialReference),!0)}toESRI(){return new Da({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Nu(n,e.coordinates,Bt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.POLYGON,[this.toArray()])}}class ui extends zc{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=ui.arrayDeepCopy(n):this.rawArray=ui.parsePolygon(n)}addLinearRings(e){e.forEach(n=>this.rawArray.push(n.toArray()))}get ringArray(){return this.rawArray.map((e,n)=>new Nu(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Zt.POLYGON}toArray(){return ui.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let n=[];if(e instanceof ui)return e.toArray();if(e instanceof ks)n=e.toArray();else if(e instanceof cr)n=[e.toArray()];else if(Array.isArray(e)){if(e.length===0)throw new Error("no rings provided");n=e.map(i=>cr.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return n.forEach(i=>Nu.closeRing(i)),n}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new ui(n,e.rings,Bt.fromESRI(e.spatialReference),!0)}toESRI(){return new Da({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new ui(n,e.coordinates,Bt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.POLYGON,this.toArray())}}class ma extends zc{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=ma.arrayDeepCopy(n):this.rawArray=ma.parseMultiPolygon(n)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map((e,n)=>new ui(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Zt.MULTIPOLYGON}toArray(){return ma.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof ma)return e.toArray();if(e instanceof ui)return[e.toArray()];if(e instanceof ks||e instanceof cr)return[ui.parsePolygon(e)];if(Array.isArray(e)){if(e.length===0)throw new Error("no polygons provided");return e.map(n=>ui.parsePolygon(n))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.map(r=>r.slice())))}static fromESRI(e,n){return new ma(n,[e.rings],Bt.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach(n=>{n.forEach(i=>e.push(i))}),new Da({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new ma(n,e.coordinates,Bt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(hn.MULTIPOLYGON,this.toArray())}}class tn extends zc{rawMin;rawMax;constructor(e,n,i,r){super(e,n.sr||r),this.rawMin=gi.parseXY(n),this.rawMax=gi.parseXY(i)}get type(){return Zt.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new gi(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return tn.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new tn(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new ui(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,n,i,r,s,o){return new tn(e,[n,i],[r,s],o)}static fromConfig(e,n){return new tn(e,[n.xmin,n.ymin],[n.xmax,n.ymax],Bt.fromConfig(n.spatialReference))}isEqual(e){return e?this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax:!1}static fromESRI(e,n){return tn.fromParams(n,e.xmin,e.ymin,e.xmax,e.ymax,Bt.fromESRI(e.spatialReference))}toESRI(){return new hr({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,n){return tn.fromESRI(hr.fromJSON(e),n)}static fromGeoJSON(e,n){if(e.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=e.coordinates[0].slice(),r=i.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=e.coordinates[s];i[o]>a[o]&&(i[o]=a[o]),r[o]<a[o]&&(r[o]=a[o])})}),new tn(n,i,r,Bt.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(hn.POLYGON,this.toPolygonArray())}}class ya{c;constructor(e){if(!e){this.c=[0,0,0,1];return}if(Array.isArray(e)){const n=e.length;if(n<3||n>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=e.map((i,r)=>r===3?i:parseInt(i)),n===3&&this.c.push(1)}else if(typeof e=="string"){const n=e.substring(0,1)==="#"?e.substring(1):e;this.c=[0,2,4,6].map(i=>{const r=n.substring(i,i+2);return ya.hexToInt(r)})}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach((n,i)=>{n<0&&(console.error("Negative value passed to colour"),this.c[i]=0),n>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=e[3]*255,`#${e.map(n=>ya.intToHex(n)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new me(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return e.length===0?255:parseInt(e,16)}static intToHex(e){const n=e.toString(16);return n.length===1?`0${n}`:n}}class zo{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u"))if(typeof e=="string"){let n;const i=e.length;if(i===0)return;const r=e.substring(i-2);return r==="px"?n=parseFloat(e.substring(0,i-2))*1.333333:r==="pt"?n=parseFloat(e.substring(0,i-2)):n=parseFloat(e),n}else return e}}class ga extends zo{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:Us.CIRCLE},super(),this._style=e.style||Us.CIRCLE,e.style===Us.ICON){const n=e;this._icon=n.icon||"",this._height=zo.convToPoints(n.height)||16.5,this._width=zo.convToPoints(n.width)||16.5,this._size=0,this._colour=new ya,this._outline=new Eo,this._path=""}else{const n=e;this._size=zo.convToPoints(n.size)||12,this._colour=new ya(n.colour??"#ffffff40"),this._outline=new Eo(n.outline),this._path=this._style===Us.PATH&&n.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=zo.convToPoints(e.xOffset)||0,this._yOffset=zo.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===Us.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Us.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===Us.ICON?ga.isImageUrl(this.icon)?(e=new Uc,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new gs,e.color=new me(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new gs,e.color=new me(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const n={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if(e.type==="simple-marker"){const i=n;i.style=e.style,i.colour=e.color.toRgba(),i.size=e.size,i.path=e.path,i.outline=Eo.fromESRI(e.outline).toOptions()}else{const i=n;i.style=Us.ICON,i.width=e.width,i.height=e.height,i.icon=e.url}return new ga(n)}static fromArcServer(e){return ga.fromESRI(Bg(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class Eo extends zo{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||Gi.SOLID;const n=zo.convToPoints(e.width);this._width=typeof n>"u"||n<0?.75:n,this._colour=new ya(e.colour),this._miter=e.miter??2,this._cap=e.cap||V4.ROUND,this._join=e.join||q4.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new Ur;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const n={width:e.width,colour:e.color.toRgba(),style:e.style};return new Eo(n)}static fromArcServer(e){return Eo.fromESRI(Bg(e))}}class sd extends zo{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new ya(e.fill.colour),this._fillStyle=e.fill.style||H4.SOLID,this._outlineStyle=new Eo(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),n=new me(this.fillColour.rgba),i=new ol;return i.style=this.fillStyleType,i.color=n,i.outline=e,i}static fromESRI(e){const n={fill:{colour:e.color.toRgba(),style:e.style},outline:Eo.fromESRI(e.outline).toOptions()};return new sd(n)}static fromArcServer(e){return sd.fromESRI(Bg(e))}}class YK{Extent=tn;Graphic=Er;LineString=Hl;LineStyle=Eo;LinearRing=Nu;MultiLineString=ks;MultiPoint=rd;MultiPolygon=ma;Point=gi;PointStyle=ga;Polygon=ui;PolygonStyle=sd;SpatialReference=Bt;esriMapClickToRamp(e,n){return{mapPoint:gi.fromESRI(e.mapPoint,n),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,n){switch(e.type){case"point":return gi.fromESRI(e,n);case"polyline":{const i=e;return i.paths.length===1?Hl.fromESRI(i,n):ks.fromESRI(i,n)}case"polygon":return ui.fromESRI(e,n);case"extent":return tn.fromESRI(e,n);case"multipoint":return rd.fromESRI(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,n){switch(e.type){case hn.POINT:return gi.fromGeoJSON(e,n);case hn.LINESTRING:return Hl.fromGeoJSON(e,n);case hn.POLYGON:return ui.fromGeoJSON(e,n);case hn.MULTIPOINT:return rd.fromGeoJSON(e,n);case hn.MULTILINESTRING:return ks.fromGeoJSON(e,n);case hn.MULTIPOLYGON:return ma.fromGeoJSON(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const n={},i={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:n};return Object.keys(e.attributes).forEach(r=>i.properties[r]=e.attributes[r]),i}graphicGeoJsonToRamp(e,n){if(e.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(e.geometry,n),r={};return Object.keys(e.properties.forEach(s=>r[s]=e.properties[s])),new Er(i,"",r)}graphicRampToEsri(e){const n={attributes:{},id:e.id};return n.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach(i=>n.attributes[i]=e.attributes[i]),e.style&&(n.symbol=this.styleRampToEsri(e.style)),new wN(n)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return ga.fromESRI(e);case"simple-line":return Eo.fromESRI(e);case"simple-fill":return sd.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new ga}}serverGeomTypeToRampGeomType(e){if(!e)return Zt.NONE;switch(e){case"esriGeometryPolygon":return Zt.POLYGON;case"esriGeometryPolyline":return Zt.LINESTRING;case"esriGeometryPoint":return Zt.POINT;case"esriGeometryMultipoint":return Zt.MULTIPOINT;case"esriGeometryEnvelope":return Zt.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),Zt.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return Zt.NONE;switch(e){case"polygon":return Zt.POLYGON;case"polyline":return Zt.LINESTRING;case"point":return Zt.POINT;case"multipoint":return Zt.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),Zt.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case hn.POINT:return"point";case hn.LINESTRING:case hn.MULTILINESTRING:return"polyline";case hn.POLYGON:case hn.MULTIPOLYGON:return"polygon";case hn.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return ga.isImageUrl(e)}}class Wg{layerIdx;name;children;uid;isRoot;constructor(e,n,i="",r=!0){this.layerIdx=e,this.name=i,this.isRoot=r,this.children=[],this.uid=n}findChildByUid(e){if(this.uid===e)return this;{let n;return this.children.some(i=>n=i.findChildByUid(e)),n}}findChildByIdx(e){if(this.layerIdx===e)return this;{let n;return this.children.some(i=>n=i.findChildByIdx(e)),n}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class MN{minScale;maxScale;constructor(e=0,n=0){this.minScale=e,this.maxScale=n}isOffScale(e){const n={offScale:!1,zoomIn:!1};return e<this.maxScale&&this.maxScale!==0?(n.offScale=!0,n.zoomIn=!1):e>this.minScale&&this.minScale!==0&&(n.offScale=!0,n.zoomIn=!0),n}}class IN{sql;cache;extent;constructor(e="",n=""){this.sql={[di.PERMANENT]:e,[di.INITIAL]:n},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const n=this.sql,i=Object.keys(n).filter(r=>n[r]);return e.length===0?i:i.filter(r=>e.indexOf(r)===-1)}isActive(){return this.sqlActiveFilters([di.PERMANENT]).length>0}getCombinedSql(e=[]){const n=this.sqlActiveFilters(e),i=n.length;return i===0?"":i===1?this.sql[n[0]]:n.map(r=>`(${this.sql[r]})`).join(" AND ")}setSql(e,n){e===di.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=n,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(di.EXTENT))}getCacheKey(e,n){return`_cache$${e.sort().join("$")}${n?"$"+di.EXTENT:""}$`}getCache(e,n){const i=this.getCacheKey(e,n);return this.cache[i]}setCache(e,n,i){const r=this.getCacheKey(n,i);this.cache[r]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter(n=>e[n])}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach(n=>{n.indexOf(`$${e}$`)>-1&&delete this.cache[n]})}clearAll(){this.sql={[di.PERMANENT]:this.sql[di.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class f0{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,n,i=void 0,r=void 0){this.id=e,this.sr=n.sr.clone(),this._defaultExtent=n.clone(),this._fullExtent=i?.clone(),this._maximumExtent=r?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),r&&!r.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${r.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new f0(e.id,tn.fromConfig(`${e.id}-extent-default`,e.default),e.full!==void 0?tn.fromConfig(`${e.id}-extent-full`,e.full):void 0,e.maximum!==void 0?tn.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new f0(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class xn{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((e,n)=>{this.resolveMe=i=>{e(i)},this.rejectMe=n})}}var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ON(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var xS,PN;function JK(){if(PN)return xS;PN=1;var t=function(A){return e(A)&&!n(A)};function e(A){return!!A&&typeof A=="object"}function n(A){var T=Object.prototype.toString.call(A);return T==="[object RegExp]"||T==="[object Date]"||s(A)}var i=typeof Symbol=="function"&&Symbol.for,r=i?Symbol.for("react.element"):60103;function s(A){return A.$$typeof===r}function o(A){return Array.isArray(A)?[]:{}}function a(A,T){return T.clone!==!1&&T.isMergeableObject(A)?_(o(A),A,T):A}function l(A,T,x){return A.concat(T).map(function(b){return a(b,x)})}function c(A,T){if(!T.customMerge)return _;var x=T.customMerge(A);return typeof x=="function"?x:_}function p(A){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(A).filter(function(T){return Object.propertyIsEnumerable.call(A,T)}):[]}function d(A){return Object.keys(A).concat(p(A))}function f(A,T){try{return T in A}catch{return!1}}function y(A,T){return f(A,T)&&!(Object.hasOwnProperty.call(A,T)&&Object.propertyIsEnumerable.call(A,T))}function g(A,T,x){var b={};return x.isMergeableObject(A)&&d(A).forEach(function(I){b[I]=a(A[I],x)}),d(T).forEach(function(I){y(A,I)||(f(A,I)&&x.isMergeableObject(T[I])?b[I]=c(I,x)(A[I],T[I],x):b[I]=a(T[I],x))}),b}function _(A,T,x){x=x||{},x.arrayMerge=x.arrayMerge||l,x.isMergeableObject=x.isMergeableObject||t,x.cloneUnlessOtherwiseSpecified=a;var b=Array.isArray(T),I=Array.isArray(A),O=b===I;return O?b?x.arrayMerge(A,T,x):g(A,T,x):a(T,x)}_.all=function(A,T){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(x,b){return _(x,b,T)},{})};var w=_;return xS=w,xS}var ZK=JK();const SS=qh(ZK);class KK{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(e,n,i=!0){const r=n??document.createElement("canvas"),s=document.createElement("img");i&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{r.width=s.width,r.height=s.height,r.getContext("2d")?.drawImage(s,0,0),a(r)}),s.addEventListener("error",c=>l(c))});return s.src=e,o}async convertImagetoDataURL(e,n="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then(i=>i.toDataURL(n)).catch(i=>(console.error("Failed to load crossorigin image",e,i),e))}parseUrlIndex(e){const n={rootUrl:e,index:0},i=/\/(\d+)\/?$/,r=e.match(i);if(r){const s=r[1];n.index=isNaN(parseInt(s))?void 0:parseInt(s),n.rootUrl=e.substr(0,e.length-r[0].length)}else console.warn("Cannot extract layer index from url "+e);return n}controlAvailable(e,n){return n?.disabledControls?.includes(e)?!1:n?.controls?n?.controls?.includes(e):!0}}class Nf{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce((n,i)=>{const[r,s]=i.split("=");return n[r]=s,n},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const n=SS.all([{},this.queryMap,e]);return`${this.base}${Object.entries(n).filter(([,i])=>i!==void 0).map(([i,r],s)=>`${s===0?"?":""}${i}=${r}`).join("&")}`}}var AS={exports:{}},XK=AS.exports,NN;function LN(){return NN||(NN=1,function(t,e){(function(n,i){t.exports=i(),typeof window=="object"&&(n.Terraformer=i())})(XK,function(){var n={},i=6378137,r=57.29577951308232,s=.017453292519943,o={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},a={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}};function l(M){return Object.prototype.toString.call(M)==="[object Array]"}function c(){var M=Array.prototype.slice.apply(arguments);typeof console!==void 0&&console.warn&&console.warn.apply(console,M)}function p(M,$){for(var C in $)$.hasOwnProperty(C)&&(M[C]=$[C]);return M}function d(M){if(M.type)switch(M.type){case"Point":return[M.coordinates[0],M.coordinates[1],M.coordinates[0],M.coordinates[1]];case"MultiPoint":return g(M.coordinates);case"LineString":return g(M.coordinates);case"MultiLineString":return f(M.coordinates);case"Polygon":return f(M.coordinates);case"MultiPolygon":return y(M.coordinates);case"Feature":return M.geometry?d(M.geometry):null;case"FeatureCollection":return _(M);case"GeometryCollection":return w(M);default:throw new Error("Unknown type: "+M.type)}return null}function f(M){for(var $=null,C=null,k=null,j=null,Z=0;Z<M.length;Z++)for(var z=M[Z],Y=0;Y<z.length;Y++){var ct=z[Y],yt=ct[0],Dt=ct[1];($===null||yt<$)&&($=yt),(C===null||yt>C)&&(C=yt),(k===null||Dt<k)&&(k=Dt),(j===null||Dt>j)&&(j=Dt)}return[$,k,C,j]}function y(M){for(var $=null,C=null,k=null,j=null,Z=0;Z<M.length;Z++)for(var z=M[Z],Y=0;Y<z.length;Y++)for(var ct=z[Y],yt=0;yt<ct.length;yt++){var Dt=ct[yt],Yt=Dt[0],Oe=Dt[1];($===null||Yt<$)&&($=Yt),(C===null||Yt>C)&&(C=Yt),(k===null||Oe<k)&&(k=Oe),(j===null||Oe>j)&&(j=Oe)}return[$,k,C,j]}function g(M){for(var $=null,C=null,k=null,j=null,Z=0;Z<M.length;Z++){var z=M[Z],Y=z[0],ct=z[1];($===null||Y<$)&&($=Y),(C===null||Y>C)&&(C=Y),(k===null||ct<k)&&(k=ct),(j===null||ct>j)&&(j=ct)}return[$,k,C,j]}function _(M){for(var $=[],C,k=M.features.length-1;k>=0;k--)C=d(M.features[k].geometry),$.push([C[0],C[1]]),$.push([C[2],C[3]]);return g($)}function w(M){for(var $=[],C,k=M.geometries.length-1;k>=0;k--)C=d(M.geometries[k]),$.push([C[0],C[1]]),$.push([C[2],C[3]]);return g($)}function A(M){var $=d(M);return{x:$[0],y:$[1],w:Math.abs($[0]-$[2]),h:Math.abs($[1]-$[3])}}function T(M){return M*r}function x(M){return M*s}function b(M,$){for(var C=0;C<M.length;C++)typeof M[C][0]=="number"&&(M[C]=$(M[C])),typeof M[C]=="object"&&(M[C]=b(M[C],$));return M}function I(M){var $=M[0],C=M[1];return[T($/i)-Math.floor((T($/i)+180)/360)*360,T(Math.PI/2-2*Math.atan(Math.exp(-1*C/i)))]}function O(M){var $=M[0],C=Math.max(Math.min(M[1],89.99999),-89.99999);return[x($)*i,i/2*Math.log((1+Math.sin(x(C)))/(1-Math.sin(x(C))))]}function L(M,$,C){if(M.type==="Point")M.coordinates=$(M.coordinates);else if(M.type==="Feature")M.geometry=L(M.geometry,$,!0);else if(M.type==="FeatureCollection")for(var k=0;k<M.features.length;k++)M.features[k]=L(M.features[k],$,!0);else if(M.type==="GeometryCollection")for(var j=0;j<M.geometries.length;j++)M.geometries[j]=L(M.geometries[j],$,!0);else M.coordinates=b(M.coordinates,$);return C||$===O&&(M.crs=o),$===I&&delete M.crs,M}function R(M){return L(M,O)}function D(M){return L(M,I)}function W(M,$){return M<$?-1:M>$?1:0}function B(M,$){return M[0]>$[0]?-1:M[0]<$[0]?1:M[1]>$[1]?-1:M[1]<$[1]?1:0}function G(M,$,C){return W(($[0]-M[0])*(C[1]-M[1])-(C[0]-M[0])*($[1]-M[1]),0)}function J(M,$){var C=$[0]-M[0],k=$[1]-M[1];return C*C+k*k}function it(M,$){var C=$;for(var k in M){var j=G($,C,M[k]);(j===-1||j===0&&J($,M[k])>J($,C))&&(C=M[k])}return C}function u(M){if(M.length===0)return[];if(M.length===1)return M;for(var $=[M.sort(B)[0]],C=0;C<$.length;C++){var k=it(M,$[C]);k!==$[0]&&$.push(k)}return $}function m(M){for(var $,C=0;C<M.length-3;C++){var k=M[C],j=M[C+1],Z=M[C+2],z=[j[0]-k[0],j[1]-k[1]],Y=Z[0]*z[1]-Z[1]*z[0]+z[0]*k[1]-z[1]*k[0];if(C===0)Y<0?$=!0:$=!1;else if($&&Y>0||!$&&Y<0)return!1}return!0}function S(M,$){for(var C=!1,k=-1,j=M.length,Z=j-1;++k<j;Z=k)(M[k][1]<=$[1]&&$[1]<M[Z][1]||M[Z][1]<=$[1]&&$[1]<M[k][1])&&$[0]<(M[Z][0]-M[k][0])*($[1]-M[k][1])/(M[Z][1]-M[k][1])+M[k][0]&&(C=!C);return C}function N(M,$){if(M&&M.length){if(M.length===1)return S(M[0],$);if(S(M[0],$)){for(var C=1;C<M.length;C++)if(S(M[C],$))return!1;return!0}else return!1}else return!1}function V(M,$,C,k){var j=(k[0]-C[0])*(M[1]-C[1])-(k[1]-C[1])*(M[0]-C[0]),Z=($[0]-M[0])*(M[1]-C[1])-($[1]-M[1])*(M[0]-C[0]),z=(k[1]-C[1])*($[0]-M[0])-(k[0]-C[0])*($[1]-M[1]);if(z!==0){var Y=j/z,ct=Z/z;if(0<=Y&&Y<=1&&0<=ct&&ct<=1)return!0}return!1}function X(M){return!isNaN(parseFloat(M))&&isFinite(M)}function ft(M,$){if(X(M[0][0])){if(X($[0][0])){for(var C=0;C<M.length-1;C++)for(var k=0;k<$.length-1;k++)if(V(M[C],M[C+1],$[k],$[k+1]))return!0}else for(var j=0;j<$.length;j++)if(ft(M,$[j]))return!0}else for(var Z=0;Z<M.length;Z++)if(ft(M[Z],$))return!0;return!1}function ot(M){for(var $=[],C=0;C<M.length;C++){var k=M[C].slice();At(k[0],k[k.length-1])===!1&&k.push(k[0]),$.push(k)}return $}function At(M,$){for(var C=0;C<M.length;C++)if(M[C]!==$[C])return!1;return!0}function Rt(M,$){if(M.length!==$.length)return!1;for(var C=M.slice().sort(B),k=$.slice().sort(B),j=0;j<C.length;j++){if(C[j].length!==k[j].length)return!1;for(var Z=0;Z<C.length;Z++)if(C[j][Z]!==k[j][Z])return!1}return!0}var $t=["length"];function It(M){if(M)switch(M.type){case"Point":return new ce(M);case"MultiPoint":return new ie(M);case"LineString":return new Ie(M);case"MultiLineString":return new fe(M);case"Polygon":return new re(M);case"MultiPolygon":return new Fe(M);case"Feature":return new q(M);case"FeatureCollection":return new F(M);case"GeometryCollection":return new K(M);default:throw new Error("Unknown type: "+M.type)}}It.prototype.toMercator=function(){return R(this)},It.prototype.toGeographic=function(){return D(this)},It.prototype.envelope=function(){return A(this)},It.prototype.bbox=function(){return d(this)},It.prototype.convexHull=function(){var M=[],$,C;if(this.type==="Point")return null;if(this.type==="LineString"||this.type==="MultiPoint")if(this.coordinates&&this.coordinates.length>=3)M=this.coordinates;else return null;else if(this.type==="Polygon"||this.type==="MultiLineString")if(this.coordinates&&this.coordinates.length>0){for($=0;$<this.coordinates.length;$++)M=M.concat(this.coordinates[$]);if(M.length<3)return null}else return null;else if(this.type==="MultiPolygon")if(this.coordinates&&this.coordinates.length>0){for($=0;$<this.coordinates.length;$++)for(C=0;C<this.coordinates[$].length;C++)M=M.concat(this.coordinates[$][C]);if(M.length<3)return null}else return null;else if(this.type==="Feature"){var k=new It(this.geometry);return k.convexHull()}return new re({type:"Polygon",coordinates:ot([u(M)])})},It.prototype.toJSON=function(){var M={};for(var $ in this)this.hasOwnProperty($)&&$t.indexOf($)===-1&&(M[$]=this[$]);return M.bbox=d(this),M},It.prototype.contains=function(M){return new It(M).within(this)},It.prototype.within=function(M){var $,C,k,j;if(M.type==="Feature"&&(M=M.geometry),M.type==="Point"&&this.type==="Point")return At(this.coordinates,M.coordinates);if(M.type==="MultiLineString"&&this.type==="Point")for(C=0;C<M.coordinates.length;C++){var Z={type:"LineString",coordinates:M.coordinates[C]};if(this.within(Z))return!0}if((M.type==="LineString"||M.type==="MultiPoint")&&this.type==="Point")for(C=0;C<M.coordinates.length;C++){if(this.coordinates.length!==M.coordinates[C].length)return!1;if(At(this.coordinates,M.coordinates[C]))return!0}if(M.type==="Polygon")if(this.type==="Polygon"){if(M.coordinates.length===this.coordinates.length){for(C=0;C<this.coordinates.length;C++)if(Rt(this.coordinates[C],M.coordinates[C]))return!0}return this.coordinates.length&&N(M.coordinates,this.coordinates[0][0])?!ft(ot(this.coordinates),ot(M.coordinates)):!1}else{if(this.type==="Point")return N(M.coordinates,this.coordinates);if(this.type==="LineString"||this.type==="MultiPoint"){if(!this.coordinates||this.coordinates.length===0)return!1;for(C=0;C<this.coordinates.length;C++)if(N(M.coordinates,this.coordinates[C])===!1)return!1;return!0}else if(this.type==="MultiLineString"){for(C=0;C<this.coordinates.length;C++){var z=new Ie(this.coordinates[C]);if(z.within(M)===!1)return j++,!1}return!0}else if(this.type==="MultiPolygon"){for(C=0;C<this.coordinates.length;C++){var Y=new It({type:"Polygon",coordinates:this.coordinates[C]});if(Y.within(M)===!1)return!1}return!0}}if(M.type==="MultiPolygon"){if(this.type==="Point"){if(M.coordinates.length){for(C=0;C<M.coordinates.length;C++)if($=M.coordinates[C],N($,this.coordinates)&&ft([this.coordinates],M.coordinates)===!1)return!0}return!1}else if(this.type==="Polygon"){for(C=0;C<this.coordinates.length;C++)if(M.coordinates[C].length===this.coordinates.length){for(k=0;k<this.coordinates.length;k++)if(Rt(this.coordinates[k],M.coordinates[C][k]))return!0}if(ft(this.coordinates,M.coordinates)===!1&&M.coordinates.length){for(C=0;C<M.coordinates.length;C++)$=M.coordinates[C],N($,this.coordinates[0][0])===!1?j=!1:j=!0;return j}}else if(this.type==="LineString"||this.type==="MultiPoint")for(C=0;C<M.coordinates.length;C++){var ct={type:"Polygon",coordinates:M.coordinates[C]};return!!this.within(ct)}else if(this.type==="MultiLineString"){for(C=0;C<this.coordinates.length;C++){var yt=new Ie(this.coordinates[C]);if(yt.within(M)===!1)return!1}return!0}else if(this.type==="MultiPolygon"){for(C=0;C<M.coordinates.length;C++){var Dt={type:"Polygon",coordinates:M.coordinates[C]};if(this.within(Dt)===!1)return!1}return!0}}return!1},It.prototype.intersects=function(M){M.type==="Feature"&&(M=M.geometry);var $=new It(M);if(this.within(M)||$.within(this))return!0;if(this.type!=="Point"&&this.type!=="MultiPoint"&&M.type!=="Point"&&M.type!=="MultiPoint")return ft(this.coordinates,M.coordinates);if(this.type==="Feature"){var C=new It(this.geometry);return C.intersects(M)}return c("Type "+this.type+" to "+M.type+" intersection is not supported by intersects"),!1};function ce(M){var $=Array.prototype.slice.call(arguments);if(M&&M.type==="Point"&&M.coordinates)p(this,M);else if(M&&l(M))this.coordinates=M;else if($.length>=2)this.coordinates=$;else throw"Terraformer: invalid input for Terraformer.Point";this.type="Point"}ce.prototype=new It,ce.prototype.constructor=ce;function ie(M){if(M&&M.type==="MultiPoint"&&M.coordinates)p(this,M);else if(l(M))this.coordinates=M;else throw"Terraformer: invalid input for Terraformer.MultiPoint";this.type="MultiPoint"}ie.prototype=new It,ie.prototype.constructor=ie,ie.prototype.forEach=function(M){for(var $=0;$<this.coordinates.length;$++)M.apply(this,[this.coordinates[$],$,this.coordinates]);return this},ie.prototype.addPoint=function(M){return this.coordinates.push(M),this},ie.prototype.insertPoint=function(M,$){return this.coordinates.splice($,0,M),this},ie.prototype.removePoint=function(M){return typeof M=="number"?this.coordinates.splice(M,1):this.coordinates.splice(this.coordinates.indexOf(M),1),this},ie.prototype.get=function(M){return new ce(this.coordinates[M])};function Ie(M){if(M&&M.type==="LineString"&&M.coordinates)p(this,M);else if(l(M))this.coordinates=M;else throw"Terraformer: invalid input for Terraformer.LineString";this.type="LineString"}Ie.prototype=new It,Ie.prototype.constructor=Ie,Ie.prototype.addVertex=function(M){return this.coordinates.push(M),this},Ie.prototype.insertVertex=function(M,$){return this.coordinates.splice($,0,M),this},Ie.prototype.removeVertex=function(M){return this.coordinates.splice(M,1),this};function fe(M){if(M&&M.type==="MultiLineString"&&M.coordinates)p(this,M);else if(l(M))this.coordinates=M;else throw"Terraformer: invalid input for Terraformer.MultiLineString";this.type="MultiLineString"}fe.prototype=new It,fe.prototype.constructor=fe,fe.prototype.forEach=function(M){for(var $=0;$<this.coordinates.length;$++)M.apply(this,[this.coordinates[$],$,this.coordinates])},fe.prototype.get=function(M){return new Ie(this.coordinates[M])};function re(M){if(M&&M.type==="Polygon"&&M.coordinates)p(this,M);else if(l(M))this.coordinates=M;else throw"Terraformer: invalid input for Terraformer.Polygon";this.type="Polygon"}re.prototype=new It,re.prototype.constructor=re,re.prototype.addVertex=function(M){return this.insertVertex(M,this.coordinates[0].length-1),this},re.prototype.insertVertex=function(M,$){return this.coordinates[0].splice($,0,M),this},re.prototype.removeVertex=function(M){return this.coordinates[0].splice(M,1),this},re.prototype.close=function(){this.coordinates=ot(this.coordinates)},re.prototype.hasHoles=function(){return this.coordinates.length>1},re.prototype.holes=function(){var M=[];if(this.hasHoles())for(var $=1;$<this.coordinates.length;$++)M.push(new re([this.coordinates[$]]));return M};function Fe(M){if(M&&M.type==="MultiPolygon"&&M.coordinates)p(this,M);else if(l(M))this.coordinates=M;else throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.type="MultiPolygon"}Fe.prototype=new It,Fe.prototype.constructor=Fe,Fe.prototype.forEach=function(M){for(var $=0;$<this.coordinates.length;$++)M.apply(this,[this.coordinates[$],$,this.coordinates])},Fe.prototype.get=function(M){return new re(this.coordinates[M])},Fe.prototype.close=function(){var M=[];return this.forEach(function($){M.push(ot($))}),this.coordinates=M,this};function q(M){if(M&&M.type==="Feature")p(this,M);else if(M&&M.type&&M.coordinates)this.geometry=M;else throw"Terraformer: invalid input for Terraformer.Feature";this.type="Feature"}q.prototype=new It,q.prototype.constructor=q;function F(M){if(M&&M.type==="FeatureCollection"&&M.features)p(this,M);else if(l(M))this.features=M;else throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.type="FeatureCollection"}F.prototype=new It,F.prototype.constructor=F,F.prototype.forEach=function(M){for(var $=0;$<this.features.length;$++)M.apply(this,[this.features[$],$,this.features])},F.prototype.get=function(M){var $;return this.forEach(function(C){C.id===M&&($=C)}),new q($)};function K(M){if(M&&M.type==="GeometryCollection"&&M.geometries)p(this,M);else if(l(M))this.geometries=M;else if(M.coordinates&&M.type)this.type="GeometryCollection",this.geometries=[M];else throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection"}K.prototype=new It,K.prototype.constructor=K,K.prototype.forEach=function(M){for(var $=0;$<this.geometries.length;$++)M.apply(this,[this.geometries[$],$,this.geometries])},K.prototype.get=function(M){return new It(this.geometries[M])};function st(M,$,C){for(var k=O(M),j=C||64,Z={type:"Polygon",coordinates:[[]]},z=1;z<=j;z++){var Y=z*(360/j)*Math.PI/180;Z.coordinates[0].push([k[0]+$*Math.cos(Y),k[1]+$*Math.sin(Y)])}return Z.coordinates=ot(Z.coordinates),D(Z)}function nt(M,$,C){var k=C||64,j=$||250;if(!M||M.length<2||!j||!k)throw new Error("Terraformer: missing parameter for Terraformer.Circle");p(this,new q({type:"Feature",geometry:st(M,j,k),properties:{radius:j,center:M,steps:k}}))}return nt.prototype=new It,nt.prototype.constructor=nt,nt.prototype.recalculate=function(){return this.geometry=st(this.properties.center,this.properties.radius,this.properties.steps),this},nt.prototype.center=function(M){return M&&(this.properties.center=M,this.recalculate()),this.properties.center},nt.prototype.radius=function(M){return M&&(this.properties.radius=M,this.recalculate()),this.properties.radius},nt.prototype.steps=function(M){return M&&(this.properties.steps=M,this.recalculate()),this.properties.steps},nt.prototype.toJSON=function(){var M=It.prototype.toJSON.call(this);return M},n.Primitive=It,n.Point=ce,n.MultiPoint=ie,n.LineString=Ie,n.MultiLineString=fe,n.Polygon=re,n.MultiPolygon=Fe,n.Feature=q,n.FeatureCollection=F,n.GeometryCollection=K,n.Circle=nt,n.toMercator=R,n.toGeographic=D,n.Tools={},n.Tools.positionToMercator=O,n.Tools.positionToGeographic=I,n.Tools.applyConverter=L,n.Tools.toMercator=R,n.Tools.toGeographic=D,n.Tools.createCircle=st,n.Tools.calculateBounds=d,n.Tools.calculateEnvelope=A,n.Tools.coordinatesContainPoint=S,n.Tools.polygonContainsPoint=N,n.Tools.arraysIntersectArrays=ft,n.Tools.coordinatesContainPoint=S,n.Tools.coordinatesEqual=Rt,n.Tools.convexHull=u,n.Tools.isConvex=m,n.MercatorCRS=o,n.GeographicCRS=a,n})}(AS)),AS.exports}var QK=LN();function tX(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var qc=1,Vc=2,Vh=3,eX=4,ES=5,kN=6378137,nX=6356752314e-3,RN=.0066943799901413165,Lf=484813681109536e-20,ht=Math.PI/2,iX=.16666666666666666,rX=.04722222222222222,sX=.022156084656084655,bt=1e-10,ri=.017453292519943295,eo=57.29577951308232,Ae=Math.PI/4,kf=Math.PI*2,Sn=3.14159265359,Hi={};Hi.greenwich=0,Hi.lisbon=-9.131906111111,Hi.paris=2.337229166667,Hi.bogota=-74.080916666667,Hi.madrid=-3.687938888889,Hi.rome=12.452333333333,Hi.bern=7.439583333333,Hi.jakarta=106.807719444444,Hi.ferro=-17.666666666667,Hi.brussels=4.367975,Hi.stockholm=18.058277777778,Hi.athens=23.7163375,Hi.oslo=10.722916666667;const oX={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var DN=/[\s_\-\/\(\)]/g;function ll(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(DN,""),r=-1,s,o;++r<n.length;)if(s=n[r],o=s.toLowerCase().replace(DN,""),o===i)return t[s]}function TS(t){var e={},n=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,r,s,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*ri},lat_1:function(a){e.lat1=a*ri},lat_2:function(a){e.lat2=a*ri},lat_ts:function(a){e.lat_ts=a*ri},lon_0:function(a){e.long0=a*ri},lon_1:function(a){e.long1=a*ri},lon_2:function(a){e.long2=a*ri},alpha:function(a){e.alpha=parseFloat(a)*ri},gamma:function(a){e.rectified_grid_angle=parseFloat(a)},lonc:function(a){e.longc=a*ri},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=ll(oX,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*ri},pm:function(a){var l=ll(Hi,a);e.from_greenwich=(l||parseFloat(a))*ri},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(i in n)r=n[i],i in o?(s=o[i],typeof s=="function"?s(r):e[s]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Rf=1,FN=2,UN=3,zg=4,$N=5,CS=-1,aX=/\s/,lX=/[A-Za-z]/,cX=/[A-Za-z84_]/,qg=/[,\]]/,GN=/[\d\.E\-\+]/;function qo(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Rf}qo.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==zg)for(;aX.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Rf:return this.neutral(t);case FN:return this.keyword(t);case zg:return this.quoted(t);case $N:return this.afterquote(t);case UN:return this.number(t);case CS:return}},qo.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=zg;return}if(qg.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},qo.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Rf;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Rf,this.currentObject=this.stack.pop(),this.currentObject||(this.state=CS);return}},qo.prototype.number=function(t){if(GN.test(t)){this.word+=t;return}if(qg.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},qo.prototype.quoted=function(t){if(t==='"'){this.state=$N;return}this.word+=t},qo.prototype.keyword=function(t){if(cX.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Rf;return}if(qg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},qo.prototype.neutral=function(t){if(lX.test(t)){this.word=t,this.state=FN;return}if(t==='"'){this.word="",this.state=zg;return}if(GN.test(t)){this.word=t,this.state=UN;return}if(qg.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},qo.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===CS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function uX(t){var e=new qo(t);return e.output()}function jN(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(s,o){return Hh(o,s),s},i);e&&(t[e]=r)}function Hh(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},Hh(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Hh(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Hh(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],jN(e,n,t);return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return Hh(t,e[n]);return jN(e,n,t)}}var hX=.017453292519943295;function pX(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function no(t){return t*hX}function dX(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,i=t.AXIS.length;n<i;++n){var r=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];r[0].indexOf("north")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="north"?e+="n":r[0].indexOf("south")!==-1||(r[0]==="y"||r[0]==="lat")&&r[1]==="south"?e+="s":r[0].indexOf("east")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="east"?e+="e":(r[0].indexOf("west")!==-1||(r[0]==="x"||r[0]==="lon")&&r[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(c){var p=t.to_meter||1;return c*p}var a=function(c){return pX(t,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",no],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",no],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",no],["lat0","latitude_of_origin",no],["lat0","standard_parallel_1",no],["lat1","standard_parallel_1",no],["lat2","standard_parallel_2",no],["azimuth","Azimuth"],["alpha","azimuth",no],["srsCode","name"]];l.forEach(a),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=no(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=no(t.lat0>0?90:-90))}function BN(t){var e=uX(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return Hh(e,r),dX(r),r}function Oi(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Oi[t]=TS(arguments[1]):Oi[t]=BN(arguments[1]):Oi[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){Array.isArray(i)?Oi.apply(e,i):Oi(i)});if(typeof t=="string"){if(t in Oi)return Oi[t]}else"EPSG"in t?Oi["EPSG:"+t.EPSG]=t:"ESRI"in t?Oi["ESRI:"+t.ESRI]=t:"IAU2000"in t?Oi["IAU2000:"+t.IAU2000]=t:console.log(t);return}}tX(Oi);function fX(t){return typeof t=="string"}function mX(t){return t in Oi}var yX=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function gX(t){return yX.some(function(e){return t.indexOf(e)>-1})}var vX=["3857","900913","3785","102113"];function bX(t){var e=ll(t,"authority");if(e){var n=ll(e,"epsg");return n&&vX.indexOf(n)>-1}}function _X(t){var e=ll(t,"extension");if(e)return ll(e,"proj4")}function wX(t){return t[0]==="+"}function xX(t){if(fX(t)){if(mX(t))return Oi[t];if(gX(t)){var e=BN(t);if(bX(e))return Oi["EPSG:3857"];var n=_X(e);return n?TS(n):e}if(wX(t))return TS(t)}else return t}function WN(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function io(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function Df(t){return t<0?-1:1}function _t(t){return Math.abs(t)<=Sn?t:t-Df(t)*kf}function bs(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(ht-e))/i}function Ff(t,e){for(var n=.5*t,i,r,s=ht-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(s),r=ht-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}function SX(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=io(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function AX(t){var e=t.x,n=t.y;if(n*eo>90&&n*eo<-90&&e*eo>180&&e*eo<-180)return null;var i,r;if(Math.abs(Math.abs(n)-ht)<=bt)return null;if(this.sphere)i=this.x0+this.a*this.k0*_t(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(Ae+.5*n));else{var s=Math.sin(n),o=bs(this.e,n,s);i=this.x0+this.a*this.k0*_t(e-this.long0),r=this.y0-this.a*this.k0*Math.log(o)}return t.x=i,t.y=r,t}function EX(t){var e=t.x-this.x0,n=t.y-this.y0,i,r;if(this.sphere)r=ht-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(r=Ff(this.e,s),r===-9999)return null}return i=_t(this.long0+e/(this.a*this.k0)),t.x=i,t.y=r,t}var TX=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const CX={init:SX,forward:AX,inverse:EX,names:TX};function MX(){}function zN(t){return t}var IX=["longlat","identity"];const OX={init:MX,forward:zN,inverse:zN,names:IX};var PX=[CX,OX],Vg={},Hg=[];function qN(t,e){var n=Hg.length;return t.names?(Hg[n]=t,t.names.forEach(function(i){Vg[i.toLowerCase()]=n}),this):(console.log(e),!0)}function NX(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Vg[e]<"u"&&Hg[Vg[e]])return Hg[Vg[e]]}function LX(){PX.forEach(qN)}const kX={start:LX,add:qN,get:NX};var qt={};qt.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},qt.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},qt.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},qt.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},qt.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},qt.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},qt.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},qt.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},qt.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},qt.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},qt.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},qt.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},qt.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},qt.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},qt.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},qt.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},qt.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},qt.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},qt.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},qt.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},qt.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},qt.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},qt.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},qt.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},qt.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},qt.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},qt.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},qt.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},qt.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},qt.hough={a:6378270,rf:297,ellipseName:"Hough"},qt.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},qt.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},qt.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},qt.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},qt.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},qt.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},qt.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},qt.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},qt.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},qt.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},qt.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},qt.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var RX=qt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};qt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function DX(t,e,n,i){var r=t*t,s=e*e,o=(r-s)/r,a=0;i?(t*=1-o*(iX+o*(rX+o*sX)),r=t*t,o=0):a=Math.sqrt(o);var l=(r-s)/s;return{es:o,e:a,ep2:l}}function FX(t,e,n,i,r){if(!t){var s=ll(qt,i);s||(s=RX),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<bt)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}var Bn={};Bn.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Bn.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Bn.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Bn.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Bn.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Bn.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Bn.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Bn.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Bn.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Bn.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Bn.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Bn.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Bn.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Bn.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Bn.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Bn.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Bn.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Bn.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function UX(t,e,n,i,r,s,o){var a={};return t===void 0||t==="none"?a.datum_type=ES:a.datum_type=eX,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=qc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Vc,a.datum_params[3]*=Lf,a.datum_params[4]*=Lf,a.datum_params[5]*=Lf,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=Vh,a.grids=o),a.a=n,a.b=i,a.es=r,a.ep2=s,a}var VN={};function $X(t,e){var n=new DataView(e),i=BX(n),r=WX(n,i),s=zX(n,r,i),o={header:r,subgrids:s};return VN[t]=o,o}function GX(t){if(t===void 0)return null;var e=t.split(",");return e.map(jX)}function jX(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:VN[t]||null,isNull:!1}}function Yh(t){return t/3600*Math.PI/180}function BX(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function WX(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:MS(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function MS(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function zX(t,e,n){for(var i=176,r=[],s=0;s<e.nSubgrids;s++){var o=VX(t,i,n),a=HX(t,i,o,n),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);r.push({ll:[Yh(o.lowerLongitude),Yh(o.lowerLatitude)],del:[Yh(o.longitudeInterval),Yh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:qX(a)}),i+=176+o.gridNodeCount*16}return r}function qX(t){return t.map(function(e){return[Yh(e.longitudeShift),Yh(e.latitudeShift)]})}function VX(t,e,n){return{name:MS(t,e+8,e+16).trim(),parent:MS(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function HX(t,e,n,i){for(var r=e+176,s=16,o=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:t.getFloat32(r+a*s,i),longitudeShift:t.getFloat32(r+a*s+4,i),latitudeAccuracy:t.getFloat32(r+a*s+8,i),longitudeAccuracy:t.getFloat32(r+a*s+12,i)};o.push(l)}return o}function ro(t,e){if(!(this instanceof ro))return new ro(t);e=e||function(c){if(c)throw c};var n=xX(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var i=ro.projections.get(n.projName);if(!i){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var r=ll(Bn,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=FX(n.a,n.b,n.rf,n.ellps,n.sphere),o=DX(s.a,s.b,s.rf,n.R_A),a=GX(n.nadgrids),l=n.datum||UX(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);WN(this,n),WN(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),e(null,this)}ro.projections=kX,ro.projections.start();function YX(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===qc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Vc?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function HN(t,e,n){var i=t.x,r=t.y,s=t.z?t.z:0,o,a,l,c;if(r<-ht&&r>-1.001*ht)r=-ht;else if(r>ht&&r<1.001*ht)r=ht;else{if(r<-ht)return{x:-1/0,y:-1/0,z:t.z};if(r>ht)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(r),c=Math.cos(r),l=a*a,o=n/Math.sqrt(1-e*l),{x:(o+s)*c*Math.cos(i),y:(o+s)*c*Math.sin(i),z:(o*(1-e)+s)*a}}function YN(t,e,n,i){var r=1e-12,s=r*r,o=30,a,l,c,p,d,f,y,g,_,w,A,T,x,b=t.x,I=t.y,O=t.z?t.z:0,L,R,D;if(a=Math.sqrt(b*b+I*I),l=Math.sqrt(b*b+I*I+O*O),a/n<r){if(L=0,l/n<r)return R=ht,D=-i,{x:t.x,y:t.y,z:t.z}}else L=Math.atan2(I,b);c=O/l,p=a/l,d=1/Math.sqrt(1-e*(2-e)*p*p),g=p*(1-e)*d,_=c*d,x=0;do x++,y=n/Math.sqrt(1-e*_*_),D=a*g+O*_-y*(1-e*_*_),f=e*y/(y+D),d=1/Math.sqrt(1-f*(2-f)*p*p),w=p*(1-f)*d,A=c*d,T=A*g-w*_,g=w,_=A;while(T*T>s&&x<o);return R=Math.atan(A/Math.abs(w)),{x:L,y:R,z:D}}function JX(t,e,n){if(e===qc)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Vc){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+i,y:c*(l*t.x+t.y-o*t.z)+r,z:c*(-a*t.x+o*t.y+t.z)+s}}}function ZX(t,e,n){if(e===qc)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Vc){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],p=(t.x-i)/c,d=(t.y-r)/c,f=(t.z-s)/c;return{x:p+l*d-a*f,y:-l*p+d+o*f,z:a*p-o*d+f}}}function Yg(t){return t===qc||t===Vc}function KX(t,e,n){if(YX(t,e)||t.datum_type===ES||e.datum_type===ES)return n;var i=t.a,r=t.es;if(t.datum_type===Vh){var s=JN(t,!1,n);if(s!==0)return;i=kN,r=RN}var o=e.a,a=e.b,l=e.es;if(e.datum_type===Vh&&(o=kN,a=nX,l=RN),r===l&&i===o&&!Yg(t.datum_type)&&!Yg(e.datum_type))return n;if(n=HN(n,r,i),Yg(t.datum_type)&&(n=JX(n,t.datum_type,t.datum_params)),Yg(e.datum_type)&&(n=ZX(n,e.datum_type,e.datum_params)),n=YN(n,l,o,a),e.datum_type===Vh){var c=JN(e,!0,n);if(c!==0)return}return n}function JN(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},s=[];t:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(s.push(a.name),a.isNull){r=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,p=l.length;c<p;c++){var d=l[c],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-f,g=d.ll[1]-f,_=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,w=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(g>i.y||y>i.x||w<i.y||_<i.x)&&(r=XX(i,e,d),!isNaN(r.x)))break t}}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*eo+" "+i.y*eo+" tried: '"+s+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function XX(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=_t(r.x-Math.PI)+Math.PI;var s=ZN(r,n);if(e){if(isNaN(s.x))return i;s.x=r.x-s.x,s.y=r.y-s.y;var o=9,a=1e-12,l,c;do{if(c=ZN(s,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(c.x+s.x),y:r.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=_t(s.x+n.ll[0]),i.y=s.y+n.ll[1]}else isNaN(s.x)||(i.x=t.x+s.x,i.y=t.y+s.y);return i}function ZN(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},r={x:n.x-1*i.x,y:n.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return s;o=i.y*e.lim[0]+i.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var c={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var p={x:e.cvs[o][0],y:e.cvs[o][1]},d=r.x*r.y,f=r.x*(1-r.y),y=(1-r.x)*(1-r.y),g=(1-r.x)*r.y;return s.x=y*a.x+f*l.x+g*p.x+d*c.x,s.y=y*a.y+f*l.y+g*p.y+d*c.y,s}function KN(t,e,n){var i=n.x,r=n.y,s=n.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(o=i,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=r,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),t.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":n[a]!==void 0&&(c.z=o);break;case"d":n[a]!==void 0&&(c.z=-o);break;default:return null}return c}function XN(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function QX(t){QN(t.x),QN(t.y)}function QN(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function tQ(t,e){return(t.datum.datum_type===qc||t.datum.datum_type===Vc||t.datum.datum_type===Vh)&&e.datumCode!=="WGS84"||(e.datum.datum_type===qc||e.datum.datum_type===Vc||e.datum.datum_type===Vh)&&t.datumCode!=="WGS84"}function Jg(t,e,n,i){var r;Array.isArray(n)?n=XN(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(QX(n),t.datum&&e.datum&&tQ(t,e)&&(r=new ro("WGS84"),n=Jg(t,r,n,i),t=r),i&&t.axis!=="enu"&&(n=KN(t,!1,n)),t.projName==="longlat")n={x:n.x*ri,y:n.y*ri,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=KX(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*eo,y:n.y*eo,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?KN(e,!0,n):(n&&!s&&delete n.z,n)}var t5=ro("WGS84");function IS(t,e,n,i){var r,s,o;return Array.isArray(n)?(r=Jg(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(n.slice(3)):[r.x,r.y,n[2]].concat(n.slice(3)):[r.x,r.y].concat(n.slice(2)):[r.x,r.y]):(s=Jg(t,e,n,i),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function e5(t){return t instanceof ro?t:t.oProj?t.oProj:ro(t)}function Ge(t,e,n){t=e5(t);var i=!1,r;return typeof e>"u"?(e=t,t=t5,i=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=t5,i=!0),e=e5(e),n?IS(t,e,n):(r={forward:function(s,o){return IS(t,e,s,o)},inverse:function(s,o){return IS(e,t,s,o)}},i&&(r.oProj=e),r)}var n5=6,i5="AJSAJS",r5="AFAFAF",Jh=65,Yi=73,jr=79,Uf=86,$f=90;const eQ={forward:s5,inverse:nQ,toPoint:o5};function s5(t,e){return e=e||5,sQ(iQ({lat:t[1],lon:t[0]}),e)}function nQ(t){var e=PS(c5(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function o5(t){var e=PS(c5(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function OS(t){return t*(Math.PI/180)}function a5(t){return 180*(t/Math.PI)}function iQ(t){var e=t.lat,n=t.lon,i=6378137,r=.00669438,s=.9996,o,a,l,c,p,d,f,y=OS(e),g=OS(n),_,w;w=Math.floor((n+180)/6)+1,n===180&&(w=60),e>=56&&e<64&&n>=3&&n<12&&(w=32),e>=72&&e<84&&(n>=0&&n<9?w=31:n>=9&&n<21?w=33:n>=21&&n<33?w=35:n>=33&&n<42&&(w=37)),o=(w-1)*6-180+3,_=OS(o),a=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),p=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(g-_),f=i*((1-r/4-3*r*r/64-5*r*r*r/256)*y-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*y)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*y)-35*r*r*r/3072*Math.sin(6*y));var A=s*l*(d+(1-c+p)*d*d*d/6+(5-18*c+c*c+72*p-58*a)*d*d*d*d*d/120)+5e5,T=s*(f+l*Math.tan(y)*(d*d/2+(5-c+9*p+4*p*p)*d*d*d*d/24+(61-58*c+c*c+600*p-330*a)*d*d*d*d*d*d/720));return e<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(A),zoneNumber:w,zoneLetter:rQ(e)}}function PS(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),p,d,f,y,g,_,w,A,T,x=n-5e5,b=e;i<"N"&&(b-=1e7),w=(r-1)*6-180+3,l=a/(1-a),_=b/s,A=_/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=A+(3*c/2-27*c*c*c/32)*Math.sin(2*A)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*A)+151*c*c*c/96*Math.sin(6*A),p=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),f=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),g=x/(p*s);var I=T-p*Math.tan(T)/y*(g*g/2-(5+3*d+10*f-4*f*f-9*l)*g*g*g*g/24+(61+90*d+298*f+45*d*d-252*l-3*f*f)*g*g*g*g*g*g/720);I=a5(I);var O=(g-(1+2*d+f)*g*g*g/6+(5-2*f+28*d-3*f*f+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(T);O=w+a5(O);var L;if(t.accuracy){var R=PS({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});L={top:R.lat,right:R.lon,bottom:I,left:O}}else L={lat:I,lon:O};return L}function rQ(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function sQ(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+oQ(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function oQ(t,e,n){var i=l5(n),r=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return aQ(r,s,i)}function l5(t){var e=t%n5;return e===0&&(e=n5),e}function aQ(t,e,n){var i=n-1,r=i5.charCodeAt(i),s=r5.charCodeAt(i),o=r+t-1,a=s+e,l=!1;o>$f&&(o=o-$f+Jh-1,l=!0),(o===Yi||r<Yi&&o>Yi||(o>Yi||r<Yi)&&l)&&o++,(o===jr||r<jr&&o>jr||(o>jr||r<jr)&&l)&&(o++,o===Yi&&o++),o>$f&&(o=o-$f+Jh-1),a>Uf?(a=a-Uf+Jh-1,l=!0):l=!1,(a===Yi||s<Yi&&a>Yi||(a>Yi||s<Yi)&&l)&&a++,(a===jr||s<jr&&a>jr||(a>jr||s<jr)&&l)&&(a++,a===Yi&&a++),a>Uf&&(a=a-Uf+Jh-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function c5(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",r,s=0;!/[A-Z]/.test(r=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;i+=r,s++}var o=parseInt(i,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var l=l5(o),c=lQ(n.charAt(0),l),p=cQ(n.charAt(1),l);p<uQ(a);)p+=2e6;var d=e-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var f=d/2,y=0,g=0,_,w,A,T,x;return f>0&&(_=1e5/Math.pow(10,f),w=t.substring(s,s+f),y=parseFloat(w)*_,A=t.substring(s+f),g=parseFloat(A)*_),T=y+c,x=g+p,{easting:T,northing:x,zoneLetter:a,zoneNumber:o,accuracy:_}}function lQ(t,e){for(var n=i5.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===Yi&&n++,n===jr&&n++,n>$f){if(r)throw"Bad character: "+t;n=Jh,r=!0}i+=1e5}return i}function cQ(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=r5.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===Yi&&n++,n===jr&&n++,n>Uf){if(r)throw"Bad character: "+t;n=Jh,r=!0}i+=1e5}return i}function uQ(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Zh(t,e,n){if(!(this instanceof Zh))return new Zh(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Zh.fromMGRS=function(t){return new Zh(o5(t))},Zh.prototype.toMGRS=function(t){return s5([this.x,this.y],t)};var hQ=1,pQ=.25,u5=.046875,h5=.01953125,p5=.01068115234375,dQ=.75,fQ=.46875,mQ=.013020833333333334,yQ=.007120768229166667,gQ=.3645833333333333,vQ=.005696614583333333,bQ=.3076171875;function NS(t){var e=[];e[0]=hQ-t*(pQ+t*(u5+t*(h5+t*p5))),e[1]=t*(dQ-t*(u5+t*(h5+t*p5)));var n=t*t;return e[2]=n*(fQ-t*(mQ+t*yQ)),n*=t,e[3]=n*(gQ-t*vQ),e[4]=n*t*bQ,e}function Kh(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var _Q=20;function LS(t,e,n){for(var i=1/(1-e),r=t,s=_Q;s;--s){var o=Math.sin(r),a=1-e*o*o;if(a=(Kh(r,o,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<bt)return r}return r}function wQ(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=NS(this.es),this.ml0=Kh(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function xQ(t){var e=t.x,n=t.y,i=_t(e-this.long0),r,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*i,p=Math.pow(c,2),d=this.ep2*Math.pow(l,2),f=Math.pow(d,2),y=Math.abs(l)>bt?Math.tan(n):0,g=Math.pow(y,2),_=Math.pow(g,2);r=1-this.es*Math.pow(a,2),c=c/Math.sqrt(r);var w=Kh(n,a,l,this.en);s=this.a*(this.k0*c*(1+p/6*(1-g+d+p/20*(5-18*g+_+14*d-58*g*d+p/42*(61+179*_-_*g-479*g)))))+this.x0,o=this.a*(this.k0*(w-this.ml0+a*i*c/2*(1+p/12*(5-g+9*d+4*f+p/30*(61+_-58*g+270*d-330*g*d+p/56*(1385+543*_-_*g-3111*g))))))+this.y0}else{var A=l*Math.sin(i);if(Math.abs(Math.abs(A)-1)<bt)return 93;if(s=.5*this.a*this.k0*Math.log((1+A)/(1-A))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(A,2)),A=Math.abs(o),A>=1){if(A-1>bt)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=s,t.y=o,t}function SQ(t){var e,n,i,r,s=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,n=LS(e,this.es,this.en),Math.abs(n)<ht){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>bt?Math.tan(n):0,p=this.ep2*Math.pow(l,2),d=Math.pow(p,2),f=Math.pow(c,2),y=Math.pow(f,2);e=1-this.es*Math.pow(a,2);var g=s*Math.sqrt(e)/this.k0,_=Math.pow(g,2);e=e*c,i=n-e*_/(1-this.es)*.5*(1-_/12*(5+3*f-9*p*f+p-4*d-_/30*(61+90*f-252*p*f+45*y+46*p-_/56*(1385+3633*f+4095*y+1574*y*f)))),r=_t(this.long0+g*(1-_/6*(1+2*f+p-_/20*(5+28*f+24*y+8*p*f+6*p-_/42*(61+662*f+1320*y+720*y*f))))/l)}else i=ht*Df(o),r=0;else{var w=Math.exp(s/this.k0),A=.5*(w-1/w),T=this.lat0+o/this.k0,x=Math.cos(T);e=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(A,2))),i=Math.asin(e),o<0&&(i=-i),A===0&&x===0?r=0:r=_t(Math.atan2(A,x)+this.long0)}return t.x=r,t.y=i,t}var AQ=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Zg={init:wQ,forward:xQ,inverse:SQ,names:AQ};function d5(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function Ji(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function EQ(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function TQ(t){var e=Math.abs(t);return e=EQ(e*(1+e/(Ji(1,e)+1))),t<0?-e:e}function kS(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return e+o*Math.sin(2*e)}function CQ(t,e){for(var n=2*Math.cos(e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return Math.sin(e)*o}function MQ(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function f5(t,e,n){for(var i=Math.sin(e),r=Math.cos(e),s=d5(n),o=MQ(n),a=2*r*o,l=-2*i*s,c=t.length-1,p=t[c],d=0,f=0,y=0,g,_;--c>=0;)g=f,_=d,f=p,d=y,p=-g+a*f-l*d+t[c],y=-_+l*f+a*d;return a=i*o,l=r*s,[a*p-l*y,a*y+l*p]}function IQ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Zg.init.apply(this),this.forward=Zg.forward,this.inverse=Zg.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=kS(this.cbg,this.lat0);this.Zb=-this.Qn*(i+CQ(this.gtu,2*i))}function OQ(t){var e=_t(t.x-this.long0),n=t.y;n=kS(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),s=Math.sin(e),o=Math.cos(e);n=Math.atan2(i,o*r),e=Math.atan2(s*r,Ji(i,r*o)),e=TQ(Math.tan(e));var a=f5(this.gtu,2*n,2*e);n=n+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function PQ(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var s=f5(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(d5(e));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(e),c=Math.cos(e);n=Math.atan2(o*c,Ji(l,c*a)),e=Math.atan2(l,c*a),i=_t(e+this.long0),r=kS(this.cgb,n)}else i=1/0,r=1/0;return t.x=i,t.y=r,t}var NQ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Kg={init:IQ,forward:OQ,inverse:PQ,names:NQ};function LQ(t,e){if(t===void 0){if(t=Math.floor((_t(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var kQ="etmerc";function RQ(){var t=LQ(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*ri,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Kg.init.apply(this),this.forward=Kg.forward,this.inverse=Kg.inverse}var DQ=["Universal Transverse Mercator System","utm"];const FQ={init:RQ,names:DQ,dependsOn:kQ};function RS(t,e){return Math.pow((1-t)/(1+t),e)}var UQ=20;function $Q(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ae)/(Math.pow(Math.tan(.5*this.lat0+Ae),this.C)*RS(this.e*t,this.ratexp))}function GQ(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ae),this.C)*RS(this.e*Math.sin(n),this.ratexp))-ht,t.x=this.C*e,t}function jQ(t){for(var e=1e-14,n=t.x/this.C,i=t.y,r=Math.pow(Math.tan(.5*i+Ae)/this.K,1/this.C),s=UQ;s>0&&(i=2*Math.atan(r*RS(this.e*Math.sin(t.y),-.5*this.e))-ht,!(Math.abs(i-t.y)<e));--s)t.y=i;return s?(t.x=n,t.y=i,t):null}var BQ=["gauss"];const DS={init:$Q,forward:GQ,inverse:jQ,names:BQ};function WQ(){DS.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function zQ(t){var e,n,i,r;return t.x=_t(t.x-this.long0),DS.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function qQ(t){var e,n,i,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Ji(t.x,t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),i=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,DS.inverse.apply(this,[t]),t.x=_t(t.x+this.long0),t}var VQ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const HQ={init:WQ,forward:zQ,inverse:qQ,names:VQ};function YQ(t,e,n){return e*=n,Math.tan(.5*(ht+t))*Math.pow((1-e)/(1+e),.5*n)}function JQ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=bt&&(this.k0=.5*(1+Df(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=bt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=bt&&Math.abs(Math.cos(this.lat_ts))>bt&&(this.k0=.5*this.cons*io(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/bs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=io(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ht,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function ZQ(t){var e=t.x,n=t.y,i=Math.sin(n),r=Math.cos(n),s,o,a,l,c,p,d=_t(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=bt&&Math.abs(n+this.lat0)<=bt?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(d)),t.x=this.a*s*r*Math.sin(d)+this.x0,t.y=this.a*s*(this.coslat0*i-this.sinlat0*r*Math.cos(d))+this.y0,t):(o=2*Math.atan(this.ssfn_(n,i,this.e))-ht,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=bt?(c=bs(this.e,n*this.con,this.con*i),p=2*this.a*this.k0*c/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<bt?(s=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),t.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),t.x=s*l*Math.sin(d)+this.x0,t))}function KQ(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=bt?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<bt?this.lat0>0?e=_t(this.long0+Math.atan2(t.x,-1*t.y)):e=_t(this.long0+Math.atan2(t.x,t.y)):e=_t(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=bt){if(o<=bt)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),n=this.con*Ff(this.e,i),e=this.con*_t(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=bt?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o),e=_t(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*Ff(this.e,Math.tan(.5*(ht+s)));return t.x=e,t.y=n,t}var XQ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const QQ={init:JQ,forward:ZQ,inverse:KQ,names:XQ,ssfn_:YQ};function ttt(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,s=2*r-Math.pow(r,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*c}function ett(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function ntt(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+o/this.alpha,l=0,c=s,p=-1e3,d=0;Math.abs(c-p)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),p=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var itt=["somerc"];const rtt={init:ttt,forward:ett,inverse:ntt,names:itt};var Xh=1e-7;function stt(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function ott(){var t,e,n,i,r,s,o,a,l,c,p=0,d,f=0,y=0,g=0,_=0,w=0,A=0;this.no_off=stt(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var x=!1;if("rectified_grid_angle"in this&&(x=!0),T&&(A=this.alpha),x&&(p=this.rectified_grid_angle*ri),T||x)f=this.longc;else if(y=this.long1,_=this.lat1,g=this.long2,w=this.lat2,Math.abs(_-w)<=Xh||(t=Math.abs(_))<=Xh||Math.abs(t-ht)<=Xh||Math.abs(Math.abs(this.lat0)-ht)<=Xh||Math.abs(Math.abs(w)-ht)<=Xh)throw new Error;var b=1-this.es;e=Math.sqrt(b),Math.abs(this.lat0)>bt?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(bs(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),T||x?(T?(d=Math.asin(Math.sin(A)/i),x||(p=A)):(d=p,A=Math.asin(i*Math.sin(d))),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(d))/this.B):(s=Math.pow(bs(this.e,_,Math.sin(_)),this.B),o=Math.pow(bs(this.e,w,Math.sin(w)),this.B),r=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),t=y-g,t<-Math.pi?g-=kf:t>Math.pi&&(g+=kf),this.lam0=_t(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B),d=Math.atan(2*Math.sin(this.B*_t(y-this.lam0))/(r-1/r)),p=A=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(A))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Ae-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ae+r))}function att(t){var e={},n,i,r,s,o,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-ht)>bt){if(o=this.E/Math.pow(bs(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,n=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*t.x),r=(n*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(r)-1)<bt)throw new Error;c=.5*this.ArB*Math.log((1-r)/(1+r)),a=Math.cos(this.B*t.x),Math.abs(a)<Xh?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function ltt(t){var e,n,i,r,s,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*e),a=(o*this.cosgam+r*this.singam)/s,Math.abs(Math.abs(a)-1)<bt)l.x=0,l.y=a<0?-ht:ht;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Ff(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var ctt=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const utt={init:ott,forward:att,inverse:ltt,names:ctt};function htt(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<bt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=io(this.e,e,n),r=bs(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=io(this.e,s,o),l=bs(this.e,this.lat2,s),c=bs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>bt?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function ptt(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=bt&&(n=Df(n)*(ht-2*bt));var i=Math.abs(Math.abs(n)-ht),r,s;if(i>bt)r=bs(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(r,this.ns);else{if(i=n*this.ns,i<=0)return null;s=0}var o=this.ns*_t(e-this.long0);return t.x=this.k0*(s*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,t}function dtt(t){var e,n,i,r,s,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),n=1):(e=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*o,n*a)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),r=Ff(this.e,i),r===-9999)return null}else r=-ht;return s=_t(l/this.ns+this.long0),t.x=s,t.y=r,t}var ftt=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const mtt={init:htt,forward:ptt,inverse:dtt,names:ftt};function ytt(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function gtt(t){var e,n,i,r,s,o,a,l=t.x,c=t.y,p=_t(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-p*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),s=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function vtt(t){var e,n,i,r,s,o,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),r=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,p+=1;while(l===0&&p<15);return p>=15?null:t}var btt=["Krovak","krovak"];const _tt={init:ytt,forward:gtt,inverse:vtt,names:btt};function Pi(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function Gf(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function jf(t){return .375*t*(1+.25*t*(1+.46875*t))}function Bf(t){return .05859375*t*t*(1+.75*t)}function Wf(t){return t*t*t*(35/3072)}function Qh(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function cl(t){return Math.abs(t)<ht?t:t-Df(t)*Math.PI}function Xg(t,e,n,i,r){var s,o;s=t/e;for(var a=0;a<15;a++)if(o=(t-(e*s-n*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*i*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function wtt(){this.sphere||(this.e0=Gf(this.es),this.e1=jf(this.es),this.e2=Bf(this.es),this.e3=Wf(this.es),this.ml0=this.a*Pi(this.e0,this.e1,this.e2,this.e3,this.lat0))}function xtt(t){var e,n,i=t.x,r=t.y;if(i=_t(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=Qh(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),p=c*c,d=this.es*o*o/(1-this.es),f=this.a*Pi(this.e0,this.e1,this.e2,this.e3,r);e=a*c*(1-p*l*(1/6-(8-l+8*d)*p/120)),n=f-this.ml0+a*s/o*p*(.5+(5-l+6*d)*p/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function Stt(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r;if(this.sphere){var s=n+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(s))}else{var o=this.ml0/this.a+n,a=Xg(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-ht)<=bt)return t.x=this.long0,t.y=ht,n<0&&(t.y*=-1),t;var l=Qh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(a),2),d=e*this.a/l,f=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*p)*d*d/24),r=d*(1-f*(p/3+(1+3*p)*p*f/15))/Math.cos(a)}return t.x=_t(r+this.long0),t.y=cl(i),t}var Att=["Cassini","Cassini_Soldner","cass"];const Ett={init:wtt,forward:xtt,inverse:Stt,names:Att};function ul(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var Ttt=1,Ctt=2,Mtt=3,Itt=4;function Ott(){var t=Math.abs(this.lat0);if(Math.abs(t-ht)<bt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<bt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=ul(this.e,1),this.mmf=.5/(1-this.es),this.apa=$tt(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=ul(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Ptt(t){var e,n,i,r,s,o,a,l,c,p,d=t.x,f=t.y;if(d=_t(d-this.long0),this.sphere){if(s=Math.sin(f),p=Math.cos(f),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+p*i:1+this.sinph0*s+this.cosph0*p*i,n<=bt)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(d),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<bt)return null;n=Ae-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(d),n*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),r=Math.sin(d),s=Math.sin(f),o=ul(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=ht+f,o=this.qp-o;break;case this.S_POLE:c=f-ht,o=this.qp+o;break}if(Math.abs(c)<bt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):n=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(c=Math.sqrt(o))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function Ntt(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r,s,o,a,l,c;if(this.sphere){var p=0,d,f=0;if(d=Math.sqrt(e*e+n*n),r=d*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(r),p=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(d)<=bt?0:Math.asin(n*f/d),e*=f,n=p*d;break;case this.OBLIQ:r=Math.abs(d)<=bt?this.lat0:Math.asin(p*this.sinph0+n*f*this.cosph0/d),e*=f*this.cosph0,n=(p-Math.sin(r)*this.sinph0)*d;break;case this.N_POLE:n=-n,r=ht-r;break;case this.S_POLE:r-=ht;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<bt)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*c,n=l*this.cosb1*s-n*this.sinb1*o):(c=n*o/l,a=this.qp*c,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=e*e+n*n,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,n),r=Gtt(Math.asin(c),this.apa)}return t.x=_t(this.long0+i),t.y=r,t}var Ltt=.3333333333333333,ktt=.17222222222222222,Rtt=.10257936507936508,Dtt=.06388888888888888,Ftt=.0664021164021164,Utt=.016415012942191543;function $tt(t){var e,n=[];return n[0]=t*Ltt,e=t*t,n[0]+=e*ktt,n[1]=e*Dtt,e*=t,n[0]+=e*Rtt,n[1]+=e*Ftt,n[2]=e*Utt,n}function Gtt(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var jtt=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Btt={init:Ott,forward:Ptt,inverse:Ntt,names:jtt,S_POLE:Ttt,N_POLE:Ctt,EQUIT:Mtt,OBLIQ:Itt};function hl(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Wtt(){Math.abs(this.lat1+this.lat2)<bt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=io(this.e3,this.sin_po,this.cos_po),this.qs1=ul(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=io(this.e3,this.sin_po,this.cos_po),this.qs2=ul(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ul(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>bt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function ztt(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=ul(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*_t(e-this.long0),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return t.x=o,t.y=a,t}function qtt(t){var e,n,i,r,s,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,n)),s=_t(r/this.ns0+this.long0),t.x=s,t.y=o,t}function Vtt(t,e){var n,i,r,s,o,a=hl(.5*e);if(t<bt)return a;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(a),i=Math.cos(a),r=t*n,s=1-r*r,o=.5*s*s/i*(e/(1-l)-n/s+.5/t*Math.log((1-r)/(1+r))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var Htt=["Albers_Conic_Equal_Area","Albers","aea"];const Ytt={init:Wtt,forward:ztt,inverse:qtt,names:Htt,phi1z:Vtt};function Jtt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Ztt(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=_t(c-this.long0),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,o>0||Math.abs(o)<=bt?(a=this.x0+this.a*s*n*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function Ktt(t){var e,n,i,r,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),o=hl(i*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),s=_t(this.long0+s)):(o=this.phic0,s=0),t.x=s,t.y=o,t}var Xtt=["gnom"];const Qtt={init:Jtt,forward:Ztt,inverse:Ktt,names:Xtt};function tet(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*ht:ht;for(var i=Math.asin(.5*e),r,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=t*s,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function eet(){this.sphere||(this.k0=io(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function net(t){var e=t.x,n=t.y,i,r,s=_t(e-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=ul(this.e,Math.sin(n));i=this.x0+this.a*this.k0*s,r=this.y0+this.a*o*.5/this.k0}return t.x=i,t.y=r,t}function iet(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=_t(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=tet(this.e,2*t.y*this.k0/this.a),e=_t(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var ret=["cea"];const set={init:eet,forward:net,inverse:iet,names:ret};function oet(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function aet(t){var e=t.x,n=t.y,i=_t(e-this.long0),r=cl(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function cet(t){var e=t.x,n=t.y;return t.x=_t(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=cl(this.lat0+(n-this.y0)/this.a),t}var uet=["Equirectangular","Equidistant_Cylindrical","eqc"];const het={init:oet,forward:aet,inverse:cet,names:uet};var m5=20;function pet(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Gf(this.es),this.e1=jf(this.es),this.e2=Bf(this.es),this.e3=Wf(this.es),this.ml0=this.a*Pi(this.e0,this.e1,this.e2,this.e3,this.lat0)}function det(t){var e=t.x,n=t.y,i,r,s,o=_t(e-this.long0);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=bt?(i=this.a*o,r=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(n),r=this.a*(cl(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=bt)i=this.a*o,r=-1*this.ml0;else{var a=Qh(this.a,this.e,Math.sin(n))/Math.tan(n);i=a*Math.sin(s),r=this.a*Pi(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return t.x=i+this.x0,t.y=r+this.y0,t}function fet(t){var e,n,i,r,s,o,a,l,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=bt)e=_t(i/this.a+this.long0),n=0;else{o=this.lat0+r/this.a,a=i*i/this.a/this.a+o*o,l=o;var p;for(s=m5;s;--s)if(p=Math.tan(l),c=-1*(o*(l*p+1)-l-.5*(l*l+a)*p)/((l-o)/p-1),l+=c,Math.abs(c)<=bt){n=l;break}e=_t(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=bt)n=0,e=_t(this.long0+i/this.a);else{o=(this.ml0+r)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,f,y,g,_;for(s=m5;s;--s)if(_=this.e*Math.sin(l),d=Math.sqrt(1-_*_)*Math.tan(l),f=this.a*Pi(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=f/this.a,c=(o*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*d)+(o-g)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=bt){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=_t(this.long0+Math.asin(i*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var met=["Polyconic","poly"];const yet={init:pet,forward:det,inverse:fet,names:met};function get(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function vet(t){var e,n=t.x,i=t.y,r=i-this.lat0,s=n-this.long0,o=r/Lf*1e-5,a=s,l=1,c=0;for(e=1;e<=10;e++)l=l*o,c=c+this.A[e]*l;var p=c,d=a,f=1,y=0,g,_,w=0,A=0;for(e=1;e<=6;e++)g=f*p-y*d,_=y*p+f*d,f=g,y=_,w=w+this.B_re[e]*f-this.B_im[e]*y,A=A+this.B_im[e]*f+this.B_re[e]*y;return t.x=A*this.a+this.x0,t.y=w*this.a+this.y0,t}function bet(t){var e,n=t.x,i=t.y,r=n-this.x0,s=i-this.y0,o=s/this.a,a=r/this.a,l=1,c=0,p,d,f=0,y=0;for(e=1;e<=6;e++)p=l*o-c*a,d=c*o+l*a,l=p,c=d,f=f+this.C_re[e]*l-this.C_im[e]*c,y=y+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var _=f,w=y,A,T,x=o,b=a;for(e=2;e<=6;e++)A=_*f-w*y,T=w*f+_*y,_=A,w=T,x=x+(e-1)*(this.B_re[e]*_-this.B_im[e]*w),b=b+(e-1)*(this.B_im[e]*_+this.B_re[e]*w);_=1,w=0;var I=this.B_re[1],O=this.B_im[1];for(e=2;e<=6;e++)A=_*f-w*y,T=w*f+_*y,_=A,w=T,I=I+e*(this.B_re[e]*_-this.B_im[e]*w),O=O+e*(this.B_im[e]*_+this.B_re[e]*w);var L=I*I+O*O;f=(x*I+b*O)/L,y=(b*I-x*O)/L}var R=f,D=y,W=1,B=0;for(e=1;e<=9;e++)W=W*R,B=B+this.D[e]*W;var G=this.lat0+B*Lf*1e5,J=this.long0+D;return t.x=J,t.y=G,t}var _et=["New_Zealand_Map_Grid","nzmg"];const wet={init:get,forward:vet,inverse:bet,names:_et};function xet(){}function Aet(t){var e=t.x,n=t.y,i=_t(e-this.long0),r=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=s,t}function Eet(t){t.x-=this.x0,t.y-=this.y0;var e=_t(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var Tet=["Miller_Cylindrical","mill"];const Cet={init:xet,forward:Aet,inverse:Eet,names:Tet};var Met=20;function Iet(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=NS(this.es)}function Oet(t){var e,n,i=t.x,r=t.y;if(i=_t(i-this.long0),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var s=this.n*Math.sin(r),o=Met;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<bt)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*Kh(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function Pet(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=hl((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=hl(Math.sin(e)/this.n)),i=_t(i+this.long0),e=cl(e)):(e=LS(t.y/this.a,this.es,this.en),r=Math.abs(e),r<ht?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=_t(n)):r-bt<ht&&(i=this.long0)),t.x=i,t.y=e,t}var Net=["Sinusoidal","sinu"];const Let={init:Iet,forward:Oet,inverse:Pet,names:Net};function ket(){}function Ret(t){for(var e=t.x,n=t.y,i=_t(e-this.long0),r=n,s=Math.PI*Math.sin(n);;){var o=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=o,Math.abs(o)<bt)break}r/=2,Math.PI/2-Math.abs(n)<bt&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t}function Det(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=_t(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}var Fet=["Mollweide","moll"];const Uet={init:ket,forward:Ret,inverse:Det,names:Fet};function $et(){Math.abs(this.lat1+this.lat2)<bt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Gf(this.es),this.e1=jf(this.es),this.e2=Bf(this.es),this.e3=Wf(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=io(this.e,this.sinphi,this.cosphi),this.ml1=Pi(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<bt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=io(this.e,this.sinphi,this.cosphi),this.ml2=Pi(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Pi(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Get(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var r=Pi(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-r)}var s=this.ns*_t(e-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return t.x=o,t.y=a,t}function jet(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=_t(this.long0+s/this.ns),i=cl(this.g-n/this.a),t.x=r,t.y=i,t;var o=this.g-n/this.a;return i=Xg(o,this.e0,this.e1,this.e2,this.e3),r=_t(this.long0+s/this.ns),t.x=r,t.y=i,t}var Bet=["Equidistant_Conic","eqdc"];const Wet={init:$et,forward:Get,inverse:jet,names:Bet};function zet(){this.R=this.a}function qet(t){var e=t.x,n=t.y,i=_t(e-this.long0),r,s;Math.abs(n)<=bt&&(r=this.x0+this.R*i,s=this.y0);var o=hl(2*Math.abs(n/Math.PI));(Math.abs(i)<=bt||Math.abs(Math.abs(n)-ht)<=bt)&&(r=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),p=Math.cos(o),d=p/(c+p-1),f=d*d,y=d*(2/c-1),g=y*y,_=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(f-g)))/(g+l);i<0&&(_=-_),r=this.x0+_;var w=l+d;return _=Math.PI*this.R*(y*w-a*Math.sqrt((g+l)*(l+1)-w*w))/(g+l),n>=0?s=this.y0+_:s=this.y0-_,t.x=r,t.y=s,t}function Vet(t){var e,n,i,r,s,o,a,l,c,p,d,f,y;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,i=t.x/d,r=t.y/d,s=i*i+r*r,o=-Math.abs(r)*(1+s),a=o-2*r*r+i*i,l=-2*o+1+2*r*r+s*s,y=r*r/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,p=2*Math.sqrt(-c/3),d=3*y/c/p,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,t.y>=0?n=(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<bt?e=this.long0:e=_t(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-r*r)+s*s))/2/i),t.x=e,t.y=n,t}var Het=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Yet={init:zet,forward:qet,inverse:Vet,names:Het};function Jet(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Zet(t){var e=t.x,n=t.y,i=Math.sin(t.y),r=Math.cos(t.y),s=_t(e-this.long0),o,a,l,c,p,d,f,y,g,_,w,A,T,x,b,I,O,L,R,D,W,B,G;return this.sphere?Math.abs(this.sin_p12-1)<=bt?(t.x=this.x0+this.a*(ht-n)*Math.sin(s),t.y=this.y0-this.a*(ht-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=bt?(t.x=this.x0+this.a*(ht+n)*Math.sin(s),t.y=this.y0+this.a*(ht+n)*Math.cos(s),t):(L=this.sin_p12*i+this.cos_p12*r*Math.cos(s),I=Math.acos(L),O=I?I/Math.sin(I):1,t.x=this.x0+this.a*O*r*Math.sin(s),t.y=this.y0+this.a*O*(this.cos_p12*i-this.sin_p12*r*Math.cos(s)),t):(o=Gf(this.es),a=jf(this.es),l=Bf(this.es),c=Wf(this.es),Math.abs(this.sin_p12-1)<=bt?(p=this.a*Pi(o,a,l,c,ht),d=this.a*Pi(o,a,l,c,n),t.x=this.x0+(p-d)*Math.sin(s),t.y=this.y0-(p-d)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=bt?(p=this.a*Pi(o,a,l,c,ht),d=this.a*Pi(o,a,l,c,n),t.x=this.x0+(p+d)*Math.sin(s),t.y=this.y0+(p+d)*Math.cos(s),t):(f=i/r,y=Qh(this.a,this.e,this.sin_p12),g=Qh(this.a,this.e,i),_=Math.atan((1-this.es)*f+this.es*y*this.sin_p12/(g*r)),w=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(s)),w===0?R=Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(w)-Math.PI)<=bt?R=-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):R=Math.asin(Math.sin(s)*Math.cos(_)/Math.sin(w)),A=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(w)/Math.sqrt(1-this.es),x=A*T,b=T*T,D=R*R,W=D*R,B=W*R,G=B*R,I=y*R*(1-D*b*(1-b)/6+W/8*x*(1-2*b)+B/120*(b*(4-7*b)-3*A*A*(1-7*b))-G/48*x),t.x=this.x0+I*Math.sin(w),t.y=this.y0+I*Math.cos(w),t))}function Ket(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o,a,l,c,p,d,f,y,g,_,w,A,T,x,b,I,O,L,R;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*ht*this.a?void 0:(n=e/this.a,i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=bt?o=this.lat0:(o=hl(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-ht,Math.abs(a)<=bt?this.lat0>=0?s=_t(this.long0+Math.atan2(t.x,-t.y)):s=_t(this.long0-Math.atan2(-t.x,t.y)):s=_t(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=s,t.y=o,t)):(l=Gf(this.es),c=jf(this.es),p=Bf(this.es),d=Wf(this.es),Math.abs(this.sin_p12-1)<=bt?(f=this.a*Pi(l,c,p,d,ht),e=Math.sqrt(t.x*t.x+t.y*t.y),y=f-e,o=Xg(y/this.a,l,c,p,d),s=_t(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=o,t):Math.abs(this.sin_p12+1)<=bt?(f=this.a*Pi(l,c,p,d,ht),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-f,o=Xg(y/this.a,l,c,p,d),s=_t(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),w=Math.atan2(t.x,t.y),g=Qh(this.a,this.e,this.sin_p12),A=Math.cos(w),T=this.e*this.cos_p12*A,x=-T*T/(1-this.es),b=3*this.es*(1-x)*this.sin_p12*this.cos_p12*A/(1-this.es),I=e/g,O=I-x*(1+x)*Math.pow(I,3)/6-b*(1+3*x)*Math.pow(I,4)/24,L=1-x*O*O/2-I*O*O*O/6,_=Math.asin(this.sin_p12*Math.cos(O)+this.cos_p12*Math.sin(O)*A),s=_t(this.long0+Math.asin(Math.sin(w)*Math.sin(O)/Math.cos(_))),R=Math.sin(_),o=Math.atan2((R-this.es*L*this.sin_p12)*Math.tan(_),R*(1-this.es)),t.x=s,t.y=o,t))}var Xet=["Azimuthal_Equidistant","aeqd"];const Qet={init:Jet,forward:Zet,inverse:Ket,names:Xet};function tnt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function ent(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=_t(c-this.long0),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,(o>0||Math.abs(o)<=bt)&&(a=this.a*s*n*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function nnt(t){var e,n,i,r,s,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=hl(e/this.a),i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=bt?(a=this.lat0,t.x=o,t.y=a,t):(a=hl(r*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.abs(this.lat0)-ht,Math.abs(s)<=bt?(this.lat0>=0?o=_t(this.long0+Math.atan2(t.x,-t.y)):o=_t(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=_t(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=o,t.y=a,t))}var int=["ortho"];const rnt={init:tnt,forward:ent,inverse:nnt,names:int};var on={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ee={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function snt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ht-Ae/2?this.face=on.TOP:this.lat0<=-(ht-Ae/2)?this.face=on.BOTTOM:Math.abs(this.long0)<=Ae?this.face=on.FRONT:Math.abs(this.long0)<=ht+Ae?this.face=this.long0>0?on.RIGHT:on.LEFT:this.face=on.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function ont(t){var e={x:0,y:0},n,i,r,s,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===on.TOP)s=ht-n,i>=Ae&&i<=ht+Ae?(l.value=Ee.AREA_0,r=i-ht):i>ht+Ae||i<=-(ht+Ae)?(l.value=Ee.AREA_1,r=i>0?i-Sn:i+Sn):i>-(ht+Ae)&&i<=-Ae?(l.value=Ee.AREA_2,r=i+ht):(l.value=Ee.AREA_3,r=i);else if(this.face===on.BOTTOM)s=ht+n,i>=Ae&&i<=ht+Ae?(l.value=Ee.AREA_0,r=-i+ht):i<Ae&&i>=-Ae?(l.value=Ee.AREA_1,r=-i):i<-Ae&&i>=-(ht+Ae)?(l.value=Ee.AREA_2,r=-i-ht):(l.value=Ee.AREA_3,r=i>0?-i+Sn:-i-Sn);else{var c,p,d,f,y,g,_;this.face===on.RIGHT?i=tp(i,+ht):this.face===on.BACK?i=tp(i,+Sn):this.face===on.LEFT&&(i=tp(i,-ht)),f=Math.sin(n),y=Math.cos(n),g=Math.sin(i),_=Math.cos(i),c=y*_,p=y*g,d=f,this.face===on.FRONT?(s=Math.acos(c),r=Qg(s,d,p,l)):this.face===on.RIGHT?(s=Math.acos(p),r=Qg(s,d,-c,l)):this.face===on.BACK?(s=Math.acos(-c),r=Qg(s,d,-p,l)):this.face===on.LEFT?(s=Math.acos(-p),r=Qg(s,d,c,l)):(s=r=0,l.value=Ee.AREA_0)}return a=Math.atan(12/Sn*(r+Math.acos(Math.sin(r)*Math.cos(Ae))-ht)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Ee.AREA_1?a+=ht:l.value===Ee.AREA_2?a+=Sn:l.value===Ee.AREA_3&&(a+=1.5*Sn),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function ant(t){var e={lam:0,phi:0},n,i,r,s,o,a,l,c,p,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Ee.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Ee.AREA_1,n-=ht):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Ee.AREA_2,n=n<0?n+Sn:n-Sn):(d.value=Ee.AREA_3,n+=ht),p=Sn/12*Math.tan(n),o=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(n),s=Math.tan(i),l=1-r*r*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===on.TOP)c=Math.acos(l),e.phi=ht-c,d.value===Ee.AREA_0?e.lam=a+ht:d.value===Ee.AREA_1?e.lam=a<0?a+Sn:a-Sn:d.value===Ee.AREA_2?e.lam=a-ht:e.lam=a;else if(this.face===on.BOTTOM)c=Math.acos(l),e.phi=c-ht,d.value===Ee.AREA_0?e.lam=-a+ht:d.value===Ee.AREA_1?e.lam=-a:d.value===Ee.AREA_2?e.lam=-a-ht:e.lam=a<0?-a-Sn:-a+Sn;else{var f,y,g;f=l,p=f*f,p>=1?g=0:g=Math.sqrt(1-p)*Math.sin(a),p+=g*g,p>=1?y=0:y=Math.sqrt(1-p),d.value===Ee.AREA_1?(p=y,y=-g,g=p):d.value===Ee.AREA_2?(y=-y,g=-g):d.value===Ee.AREA_3&&(p=y,y=g,g=-p),this.face===on.RIGHT?(p=f,f=-y,y=p):this.face===on.BACK?(f=-f,y=-y):this.face===on.LEFT&&(p=f,f=y,y=-p),e.phi=Math.acos(-g)-ht,e.lam=Math.atan2(y,f),this.face===on.RIGHT?e.lam=tp(e.lam,-ht):this.face===on.BACK?e.lam=tp(e.lam,-Sn):this.face===on.LEFT&&(e.lam=tp(e.lam,+ht))}if(this.es!==0){var _,w,A;_=e.phi<0?1:0,w=Math.tan(e.phi),A=this.b/Math.sqrt(w*w+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-A*A)/(this.one_minus_f*A)),_&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function Qg(t,e,n,i){var r;return t<bt?(i.value=Ee.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=Ae?i.value=Ee.AREA_0:r>Ae&&r<=ht+Ae?(i.value=Ee.AREA_1,r-=ht):r>ht+Ae||r<=-(ht+Ae)?(i.value=Ee.AREA_2,r=r>=0?r-Sn:r+Sn):(i.value=Ee.AREA_3,r+=ht)),r}function tp(t,e){var n=t+e;return n<-Sn?n+=kf:n>+Sn&&(n-=kf),n}var lnt=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const cnt={init:snt,forward:ont,inverse:ant,names:lnt};var FS=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],zf=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],y5=.8487,g5=1.3523,v5=eo/5,unt=1/v5,ep=18,t1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},hnt=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function pnt(t,e,n,i){for(var r=e;i;--i){var s=t(r);if(r-=s,Math.abs(s)<n)break}return r}function dnt(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function fnt(t){var e=_t(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*v5);i<0?i=0:i>=ep&&(i=ep-1),n=eo*(n-unt*i);var r={x:t1(FS[i],n)*e,y:t1(zf[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*y5+this.x0,r.y=r.y*this.a*g5+this.y0,r}function mnt(t){var e={x:(t.x-this.x0)/(this.a*y5),y:Math.abs(t.y-this.y0)/(this.a*g5)};if(e.y>=1)e.x/=FS[ep][0],e.y=t.y<0?-ht:ht;else{var n=Math.floor(e.y*ep);for(n<0?n=0:n>=ep&&(n=ep-1);;)if(zf[n][0]>e.y)--n;else if(zf[n+1][0]<=e.y)++n;else break;var i=zf[n],r=5*(e.y-i[0])/(zf[n+1][0]-i[0]);r=pnt(function(s){return(t1(i,s)-e.y)/hnt(i,s)},r,bt,100),e.x/=t1(FS[n],r),e.y=(5*n+r)*ri,t.y<0&&(e.y=-e.y)}return e.x=_t(e.x+this.long0),e}var ynt=["Robinson","robin"];const gnt={init:dnt,forward:fnt,inverse:mnt,names:ynt};function vnt(){this.name="geocent"}function bnt(t){var e=HN(t,this.es,this.a);return e}function _nt(t){var e=YN(t,this.es,this.a,this.b);return e}var wnt=["Geocentric","geocentric","geocent","Geocent"];const xnt={init:vnt,forward:bnt,inverse:_nt,names:wnt};var vi={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},qf={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Snt(){if(Object.keys(qf).forEach(function(n){if(typeof this[n]>"u")this[n]=qf[n].def;else{if(qf[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);qf[n].num&&(this[n]=parseFloat(this[n]))}qf[n].degrees&&(this[n]=this[n]*ri)}.bind(this)),Math.abs(Math.abs(this.lat0)-ht)<bt?this.mode=this.lat0<0?vi.S_POLE:vi.N_POLE:Math.abs(this.lat0)<bt?this.mode=vi.EQUIT:(this.mode=vi.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Ant(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r,s;switch(this.mode){case vi.OBLIQ:s=this.sinph0*e+this.cosph0*n*i;break;case vi.EQUIT:s=n*i;break;case vi.S_POLE:s=-e;break;case vi.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),r=s*n*Math.sin(t.x),this.mode){case vi.OBLIQ:s*=this.cosph0*e-this.sinph0*n*i;break;case vi.EQUIT:s*=e;break;case vi.N_POLE:s*=-(n*i);break;case vi.S_POLE:s*=n*i;break}var o,a;return o=s*this.cg+r*this.sg,a=1/(o*this.sw*this.h1+this.cw),r=(r*this.cg-s*this.sg)*this.cw*a,s=o*a,t.x=r*this.a,t.y=s*this.a,t}function Ent(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,r;r=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*r,i=this.pn1*t.y*this.cw*r,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var s=Ji(t.x,t.y);if(Math.abs(s)<bt)e.x=0,e.y=t.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case vi.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/s),t.y=(o-this.sinph0*Math.sin(e.y))*s,t.x*=a*this.cosph0;break;case vi.EQUIT:e.y=Math.asin(t.y*a/s),t.y=o*s,t.x*=a;break;case vi.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case vi.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var Tnt=["Tilted_Perspective","tpers"];const Cnt={init:Snt,forward:Ant,inverse:Ent,names:Tnt};function Mnt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Int(t){var e=t.x,n=t.y,i,r,s,o;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/Ji(this.radius_p*Math.cos(n),Math.sin(n));if(r=a*Math.cos(e)*Math.cos(n),s=a*Math.sin(e)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-r)*r-s*s-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ji(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/Ji(s,i)))}else this.shape==="sphere"&&(i=Math.cos(n),r=Math.cos(e)*i,s=Math.sin(e)*i,o=Math.sin(n),i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/Ji(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/Ji(s,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Ont(t){var e=-1,n=0,i=0,r,s,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Ji(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Ji(1,n));var l=i/this.radius_p;if(r=n*n+l*l+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),r=n*n+i*i+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var Pnt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const Nnt={init:Mnt,forward:Int,inverse:Ont,names:Pnt};var Vf=1.340264,Hf=-.081106,Yf=893e-6,Jf=.003796,e1=Math.sqrt(3)/2;function Lnt(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function knt(t){var e=_t(t.x-this.long0),n=t.y,i=Math.asin(e1*Math.sin(n)),r=i*i,s=r*r*r;return t.x=e*Math.cos(i)/(e1*(Vf+3*Hf*r+s*(7*Yf+9*Jf*r))),t.y=i*(Vf+Hf*r+s*(Yf+Jf*r)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Rnt(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,r,s,o,a,l,c;for(c=0;c<n&&(r=i*i,s=r*r*r,o=i*(Vf+Hf*r+s*(Yf+Jf*r))-t.y,a=Vf+3*Hf*r+s*(7*Yf+9*Jf*r),i-=l=o/a,!(Math.abs(l)<e));++c);return r=i*i,s=r*r*r,t.x=e1*t.x*(Vf+3*Hf*r+s*(7*Yf+9*Jf*r))/Math.cos(i),t.y=Math.asin(Math.sin(i)/e1),t.x=_t(t.x+this.long0),t}var Dnt=["eqearth","Equal Earth","Equal_Earth"];const Fnt={init:Lnt,forward:knt,inverse:Rnt,names:Dnt};var Zf=1e-10;function Unt(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Zf)throw new Error;this.es?(this.en=NS(this.es),this.m1=Kh(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Gnt,this.forward=$nt):(Math.abs(this.phi1)+Zf>=ht?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Bnt,this.forward=jnt)}function $nt(t){var e=_t(t.x-(this.long0||0)),n=t.y,i,r,s;return i=this.am1+this.m1-Kh(n,r=Math.sin(n),s=Math.cos(n),this.en),r=s*e/(i*Math.sqrt(1-this.es*r*r)),t.x=i*Math.sin(r),t.y=this.am1-i*Math.cos(r),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Gnt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i,r;if(n=Ji(t.x,t.y=this.am1-t.y),r=LS(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(r))<ht)e=Math.sin(r),i=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(r);else if(Math.abs(e-ht)<=Zf)i=0;else throw new Error;return t.x=_t(i+(this.long0||0)),t.y=cl(r),t}function jnt(t){var e=_t(t.x-(this.long0||0)),n=t.y,i,r;return r=this.cphi1+this.phi1-n,Math.abs(r)>Zf?(t.x=r*Math.sin(i=e*Math.cos(n)/r),t.y=this.cphi1-r*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Bnt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i=Ji(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-i,Math.abs(n)>ht)throw new Error;return Math.abs(Math.abs(n)-ht)<=Zf?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(n),t.x=_t(e+(this.long0||0)),t.y=cl(n),t}var Wnt=["bonne","Bonne (Werner lat_1=90)"];const znt={init:Unt,names:Wnt};function qnt(t){t.Proj.projections.add(Zg),t.Proj.projections.add(Kg),t.Proj.projections.add(FQ),t.Proj.projections.add(HQ),t.Proj.projections.add(QQ),t.Proj.projections.add(rtt),t.Proj.projections.add(utt),t.Proj.projections.add(mtt),t.Proj.projections.add(_tt),t.Proj.projections.add(Ett),t.Proj.projections.add(Btt),t.Proj.projections.add(Ytt),t.Proj.projections.add(Qtt),t.Proj.projections.add(set),t.Proj.projections.add(het),t.Proj.projections.add(yet),t.Proj.projections.add(wet),t.Proj.projections.add(Cet),t.Proj.projections.add(Let),t.Proj.projections.add(Uet),t.Proj.projections.add(Wet),t.Proj.projections.add(Yet),t.Proj.projections.add(Qet),t.Proj.projections.add(rnt),t.Proj.projections.add(cnt),t.Proj.projections.add(gnt),t.Proj.projections.add(xnt),t.Proj.projections.add(Cnt),t.Proj.projections.add(Nnt),t.Proj.projections.add(Fnt),t.Proj.projections.add(znt)}Ge.defaultDatum="WGS84",Ge.Proj=ro,Ge.WGS84=new Ge.Proj("WGS84"),Ge.Point=Zh,Ge.toPoint=XN,Ge.defs=Oi,Ge.nadgrid=$X,Ge.transform=Jg,Ge.mgrs=eQ,Ge.version="__VERSION__",qnt(Ge);const Vnt="EPSG:4326";class Hnt{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Ge.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ge.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ge.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Ge.defs("EPSG:102100",Ge.defs("EPSG:3857")),Ge.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ge.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const n=e<10?`0${e}`:e;Ge.defs(`EPSG:326${n}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,n){e=typeof e=="number"?`EPSG:${e}`:e,Ge.defs(e,n)}defaultEpsgLookup(e){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,r=String(e).match(n)||String(e).match(i)||[];if(r.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${r[1]}.proj4`;fn(a,{responseType:"text"}).then(l=>{l.data?s(l.data):o()},l=>{o(l)})})}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if(typeof e=="object"){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if(typeof e=="number")return"EPSG:"+e;if(typeof e=="string")return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let n,i="";try{n=this.normalizeProj(e)}catch{return!1}if(!n.startsWith("EPSG:"))return!0;typeof e=="object"&&e.latestWkid&&(i=this.normalizeProj(e.latestWkid));const r=(o,a)=>{o!==a&&Ge.defs(a,Ge.defs(o))};if(Ge.defs(n))return!0;if(i&&Ge.defs(i))return r(i,n),!0;const s=async o=>{try{const a=await this.epsgLookup(o);return a===null||a===""?!1:(Ge.defs(o,a),!0)}catch{return!1}};return await(i?s(i):Promise.resolve(!1))?(r(i,n),!0):s(n)}async checkProjBomber(e){if(e.length>0){const n=e.pop();if(await this.checkProj(n))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",n),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,n,i){let r,s;if(n?r=this.normalizeProj(n):r=Bt.parseGeoJsonCrs(e.crs),i?s=this.normalizeProj(i):s=Vnt,s===r)return e;await this.checkProjBomber([r,s]);const o=Ge(r,s).forward;return QK.Tools.applyConverter(e,o)}async projectGeometry(e,n){if(n.type===Zt.EXTENT)return this.projectExtent(e,n);await this.checkProjBomber([e,n.sr]);const i=n.toGeoJSON(),r=await this.projectGeoJson(i,this.normalizeProj(n.sr),this.normalizeProj(e)),s=Ou.geom.geomGeoJsonToRamp(r,n.id);return s.sr=Bt.parseSR(e),s}async projectExtent(e,n){const i=(_,w,A)=>{if(A===0)return[_,w];const T=[(_[0]+w[0])/2,(_[1]+w[1])/2];if(A===1)return[_,T,w];if(A>1){const x=i(_,T,A-1),b=i(T,w,A-1);return x.concat(b.slice(1))}return[[]]},r=n.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(_=>i(r[_],r[_+1],3).slice(1)).forEach(_=>s=s.concat(_));const o=new ui("warpy",[s],n.sr,!0),a=await this.projectGeometry(e,o),l=a.toArray().pop()||[],c=l.map(_=>_[0]),p=l.map(_=>_[1]),d=Math.min.apply(null,c),f=Math.max.apply(null,c),y=Math.min.apply(null,p),g=Math.max.apply(null,p);return tn.fromParams(n.id+"_projected",d,y,f,g,a.sr)}}class Ynt{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new Hnt,this.geom=new YK,this.sharedUtils=new KK}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const n=i=>i.map(r=>({level:r[0],resolution:r[1],scale:r[2]}));if(e===this.DEFAULT_LAMBERT)return n([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return n([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class An{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function Jnt(t){return typeof t=="function"&&t.render&&typeof t.render=="function"}function Znt(t){const e=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof t=="object"&&!t.functional&&e.some(n=>t[n]!==void 0)}function b5(t){return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string")&&Object.values(t).every(e=>e instanceof HTMLElement)}function Knt(t){return typeof t=="object"&&t.default!==void 0}var n1={exports:{}},_5;function Xnt(){if(_5)return n1.exports;_5=1;function t(){}return t.prototype={on:function(e,n,i){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:n,ctx:i}),this},once:function(e,n,i){var r=this;function s(){r.off(e,s),n.apply(i,arguments)}return s._=n,this.on(e,s,i)},emit:function(e){var n=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),r=0,s=i.length;for(r;r<s;r++)i[r].fn.apply(i[r].ctx,n);return this},off:function(e,n){var i=this.e||(this.e={}),r=i[e],s=[];if(r&&n)for(var o=0,a=r.length;o<a;o++)r[o].fn!==n&&r[o].fn._!==n&&s.push(r[o]);return s.length?i[e]=s:delete i[e],this}},n1.exports=t,n1.exports.TinyEmitter=t,n1.exports}var Qnt=Xnt();function fr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const le={},np=[],si=()=>{},Kf=()=>!1,Hc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),US=t=>t.startsWith("onUpdate:"),he=Object.assign,$S=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},tit=Object.prototype.hasOwnProperty,we=(t,e)=>tit.call(t,e),St=Array.isArray,ip=t=>rp(t)==="[object Map]",Yc=t=>rp(t)==="[object Set]",w5=t=>rp(t)==="[object Date]",eit=t=>rp(t)==="[object RegExp]",Ft=t=>typeof t=="function",Vt=t=>typeof t=="string",mr=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",GS=t=>(Ne(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),x5=Object.prototype.toString,rp=t=>x5.call(t),nit=t=>rp(t).slice(8,-1),i1=t=>rp(t)==="[object Object]",jS=t=>Vt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,pl=fr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),iit=fr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),r1=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},rit=/-(\w)/g,Ke=r1(t=>t.replace(rit,(e,n)=>n?n.toUpperCase():"")),sit=/\B([A-Z])/g,Zi=r1(t=>t.replace(sit,"-$1").toLowerCase()),dl=r1(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jc=r1(t=>t?`on${dl(t)}`:""),Ni=(t,e)=>!Object.is(t,e),sp=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},S5=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},s1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},o1=t=>{const e=Vt(t)?Number(t):NaN;return isNaN(e)?t:e};let A5;const E5=()=>A5||(A5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function oit(t,e){return t+JSON.stringify(e,(n,i)=>typeof i=="function"?i.toString():i)}const ait="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",lit=fr(ait);function Vo(t){if(St(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=Vt(i)?T5(i):Vo(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(Vt(t)||Ne(t))return t}const cit=/;(?![^(]*\))/g,uit=/:([^]+)/,hit=/\/\*[^]*?\*\//g;function T5(t){const e={};return t.replace(hit,"").split(cit).forEach(n=>{if(n){const i=n.split(uit);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function an(t){let e="";if(Vt(t))e=t;else if(St(t))for(let n=0;n<t.length;n++){const i=an(t[n]);i&&(e+=i+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function C5(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Vt(e)&&(t.class=an(e)),n&&(t.style=Vo(n)),t}const pit="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",dit="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",fit="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",mit="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",yit=fr(pit),git=fr(dit),vit=fr(fit),bit=fr(mit),_it="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wit=fr(_it);function M5(t){return!!t||t===""}function xit(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=fl(t[i],e[i]);return n}function fl(t,e){if(t===e)return!0;let n=w5(t),i=w5(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=mr(t),i=mr(e),n||i)return t===e;if(n=St(t),i=St(e),n||i)return n&&i?xit(t,e):!1;if(n=Ne(t),i=Ne(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!fl(t[o],e[o]))return!1}}return String(t)===String(e)}function a1(t,e){return t.findIndex(n=>fl(n,e))}const I5=t=>!!(t&&t.__v_isRef===!0),je=t=>Vt(t)?t:t==null?"":St(t)||Ne(t)&&(t.toString===x5||!Ft(t.toString))?I5(t)?je(t.value):JSON.stringify(t,O5,2):String(t),O5=(t,e)=>I5(e)?O5(t,e.value):ip(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[BS(i,s)+" =>"]=r,n),{})}:Yc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>BS(n))}:mr(e)?BS(e):Ne(e)&&!St(e)&&!i1(e)?String(e):e,BS=(t,e="")=>{var n;return mr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};var Sit={ACLOCAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\aclocal;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\sohali\\AppData\\Roaming",COLOR:"0",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"WONTN774838",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Users/sohali/AppData/Local/Programs/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_10308:"1",EXEPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\sohali",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\sohali",HOSTNAME:"WONTN774838",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAcSLJDp5EnUix/9MY4sVhIwQAAAACAAAAAAAQZgAAAAEAACAAAAAiq9m3rZnEtR0T5qLUcZihMsmEhOLjt6G+Xqi+Ok2S5gAAAAAOgAAAAAIAACAAAADCxNy3yQ+KYFBAPvcA1r7Qy48hk+aO9uPLMsGhi+/QwWAAAADy7LIbedUFqhdwateNq7QzyZutl/bqjJvFag7nA0L2buSz1oQ+393+Bl/4w2kmBsH2yG7X/TdFYlOR7Dj0bqz5WT1jS9H10a5kFNvuNmMKaE+0DA8CI2i21fOlhS5UiNdAAAAADq4NXGuElclFnBW9BecWXn8YzOmMZBghNm4aWNgTnwvoJL1B7skfdnyqZE8QWpJ4Czuino+qS1KN3i1ep0yPNQ==",INFOPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\info",INIT_CWD:"C:\\Users\\sohali\\ramp4-pcar4",LC_CTYPE:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\sohali\\AppData\\Local",LOGONSERVER:"\\\\ECONM3HWVDCP001",MANPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",MSYS:"disable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",NODE:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\sohali\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_init_module:"C:\\Users\\sohali\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\sohali\\ramp4-pcar4",npm_config_loglevel:"silent",npm_config_node_gyp:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_userconfig:"C:\\Users\\sohali\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:esDynamic",npm_lifecycle_script:"vite build --mode esDynamic",npm_node_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",npm_package_engines_node:"=22.12.0",npm_package_json:"C:\\Users\\sohali\\ramp4-pcar4\\package.json",npm_package_name:"ramp-pcar",npm_package_version:"4.11.0-beta",NUMBER_OF_PROCESSORS:"12",OLDPWD:"C:/Users/sohali",OneDrive:"C:\\Users\\sohali\\OneDrive - EC-EC",OneDriveCommercial:"C:\\Users\\sohali\\OneDrive - EC-EC",ORIGINAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",ORIGINAL_TEMP:"C:/Users/sohali/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/sohali/AppData/Local/Temp",OS:"Windows_NT",PATH:"C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\vendor_perl;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PKG_CONFIG_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\lib\\pkgconfig;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 186 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"ba03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:/Users/sohali/ramp4-pcar4",SESSIONNAME:"Console",SHELL:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TERM:"xterm",TERM_PROGRAM:"mintty",TERM_PROGRAM_VERSION:"3.7.1",TMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\sohali\\AppData\\Local\\Temp",UATDATA:"C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.INT.EC.GC.CA",USERDOMAIN:"EC_ONTARIO",USERDOMAIN_ROAMINGPROFILE:"EC_ONTARIO",USERNAME:"SohalI",USERPROFILE:"C:\\Users\\sohali",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Users/sohali/node-v20.17.0-win-x64/node-v20.17.0-win-x64/node.exe"};let Li;class l1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Li,!e&&Li&&(this.index=(Li.scopes||(Li.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Li;try{return Li=this,e()}finally{Li=n}}}on(){Li=this}off(){Li=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Xf(t){return new l1(t)}function c1(){return Li}function WS(t,e=!1){Li&&Li.cleanups.push(t)}let qe;const zS=new WeakSet;class op{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Li&&Li.active&&Li.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,zS.has(this)&&(zS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||N5(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$5(this),L5(this);const e=qe,n=_s;qe=this,_s=!0;try{return this.fn()}finally{k5(this),qe=e,_s=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)YS(e);this.deps=this.depsTail=void 0,$5(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?zS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){HS(this)&&this.run()}get dirty(){return HS(this)}}let P5=0,ap;function N5(t){t.flags|=8,t.next=ap,ap=t}function qS(){P5++}function VS(){if(--P5>0)return;let t;for(;ap;){let e=ap,n;for(;e;)e.flags&=-9,e=e.next;for(e=ap,ap=void 0;e;){if(e.flags&1)try{e.trigger()}catch(i){t||(t=i)}n=e.next,e.next=void 0,e=n}}if(t)throw t}function L5(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function k5(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),YS(i),Ait(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function HS(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(R5(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function R5(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Qf))return;t.globalVersion=Qf;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!HS(t)){t.flags&=-3;return}const n=qe,i=_s;qe=t,_s=!0;try{L5(t);const r=t.fn(t._value);(e.version===0||Ni(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{qe=n,_s=i,k5(t),t.flags&=-3}}function YS(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i),!n.subs&&n.computed){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)YS(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ait(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function D5(t,e){t.effect instanceof op&&(t=t.effect.fn);const n=new op(t);e&&he(n,e);try{n.run()}catch(r){throw n.stop(),r}const i=n.run.bind(n);return i.effect=n,i}function F5(t){t.effect.stop()}let _s=!0;const U5=[];function Ho(){U5.push(_s),_s=!1}function Yo(){const t=U5.pop();_s=t===void 0?!0:t}function $5(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=qe;qe=void 0;try{e()}finally{qe=n}}}let Qf=0;class Eit{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class u1{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!qe||!_s||qe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==qe)n=this.activeLink=new Eit(qe,this),qe.deps?(n.prevDep=qe.depsTail,qe.depsTail.nextDep=n,qe.depsTail=n):qe.deps=qe.depsTail=n,G5(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=qe.depsTail,n.nextDep=void 0,qe.depsTail.nextDep=n,qe.depsTail=n,qe.deps===n&&(qe.deps=i)}return n}trigger(e){this.version++,Qf++,this.notify(e)}notify(e){qS();try{Sit.NODE_ENV;for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{VS()}}}function G5(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)G5(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const h1=new WeakMap,Zc=Symbol(""),JS=Symbol(""),tm=Symbol("");function bi(t,e,n){if(_s&&qe){let i=h1.get(t);i||h1.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new u1),r.target=t,r.map=i,r.key=n),r.track()}}function Jo(t,e,n,i,r,s){const o=h1.get(t);if(!o){Qf++;return}const a=l=>{l&&l.trigger()};if(qS(),e==="clear")o.forEach(a);else{const l=St(t),c=l&&jS(n);if(l&&n==="length"){const p=Number(i);o.forEach((d,f)=>{(f==="length"||f===tm||!mr(f)&&f>=p)&&a(d)})}else switch(n!==void 0&&a(o.get(n)),c&&a(o.get(tm)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Zc)),ip(t)&&a(o.get(JS)));break;case"delete":l||(a(o.get(Zc)),ip(t)&&a(o.get(JS)));break;case"set":ip(t)&&a(o.get(Zc));break}}VS()}function Tit(t,e){const n=h1.get(t);return n&&n.get(e)}function lp(t){const e=Gt(t);return e===t?e:(bi(e,"iterate",tm),Ki(t)?e:e.map(_i))}function p1(t){return bi(t=Gt(t),"iterate",tm),t}const Cit={__proto__:null,[Symbol.iterator](){return ZS(this,Symbol.iterator,_i)},concat(...t){return lp(this).concat(...t.map(e=>St(e)?lp(e):e))},entries(){return ZS(this,"entries",t=>(t[1]=_i(t[1]),t))},every(t,e){return Zo(this,"every",t,e,void 0,arguments)},filter(t,e){return Zo(this,"filter",t,e,n=>n.map(_i),arguments)},find(t,e){return Zo(this,"find",t,e,_i,arguments)},findIndex(t,e){return Zo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Zo(this,"findLast",t,e,_i,arguments)},findLastIndex(t,e){return Zo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Zo(this,"forEach",t,e,void 0,arguments)},includes(...t){return KS(this,"includes",t)},indexOf(...t){return KS(this,"indexOf",t)},join(t){return lp(this).join(t)},lastIndexOf(...t){return KS(this,"lastIndexOf",t)},map(t,e){return Zo(this,"map",t,e,void 0,arguments)},pop(){return em(this,"pop")},push(...t){return em(this,"push",t)},reduce(t,...e){return j5(this,"reduce",t,e)},reduceRight(t,...e){return j5(this,"reduceRight",t,e)},shift(){return em(this,"shift")},some(t,e){return Zo(this,"some",t,e,void 0,arguments)},splice(...t){return em(this,"splice",t)},toReversed(){return lp(this).toReversed()},toSorted(t){return lp(this).toSorted(t)},toSpliced(...t){return lp(this).toSpliced(...t)},unshift(...t){return em(this,"unshift",t)},values(){return ZS(this,"values",_i)}};function ZS(t,e,n){const i=p1(t),r=i[e]();return i!==t&&!Ki(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const Mit=Array.prototype;function Zo(t,e,n,i,r,s){const o=p1(t),a=o!==t&&!Ki(t),l=o[e];if(l!==Mit[e]){const d=l.apply(t,s);return a?_i(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,_i(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const p=l.call(o,c,i);return a&&r?r(p):p}function j5(t,e,n,i){const r=p1(t);let s=n;return r!==t&&(Ki(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,_i(a),l,t)}),r[e](s,...i)}function KS(t,e,n){const i=Gt(t);bi(i,"iterate",tm);const r=i[e](...n);return(r===-1||r===!1)&&nm(n[0])?(n[0]=Gt(n[0]),i[e](...n)):r}function em(t,e,n=[]){Ho(),qS();const i=Gt(t)[e].apply(t,n);return VS(),Yo(),i}const Iit=fr("__proto__,__v_isRef,__isVue"),B5=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mr));function Oit(t){mr(t)||(t=String(t));const e=Gt(this);return bi(e,"has",t),e.hasOwnProperty(t)}class W5{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?Q5:X5:s?K5:Z5).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=St(e);if(!r){let l;if(o&&(l=Cit[n]))return l;if(n==="hasOwnProperty")return Oit}const a=Reflect.get(e,n,pe(e)?e:i);return(mr(n)?B5.has(n):Iit(n))||(r||bi(e,"get",n),s)?a:pe(a)?o&&jS(n)?a:a.value:Ne(a)?r?_1(a):Wn(a):a}}class z5 extends W5{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=Ko(s);if(!Ki(i)&&!Ko(i)&&(s=Gt(s),i=Gt(i)),!St(e)&&pe(s)&&!pe(i))return l?!1:(s.value=i,!0)}const o=St(e)&&jS(n)?Number(n)<e.length:we(e,n),a=Reflect.set(e,n,i,pe(e)?e:r);return e===Gt(r)&&(o?Ni(i,s)&&Jo(e,"set",n,i):Jo(e,"add",n,i)),a}deleteProperty(e,n){const i=we(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Jo(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!mr(n)||!B5.has(n))&&bi(e,"has",n),i}ownKeys(e){return bi(e,"iterate",St(e)?"length":Zc),Reflect.ownKeys(e)}}class q5 extends W5{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Pit=new z5,Nit=new q5,Lit=new z5(!0),kit=new q5(!0),XS=t=>t,d1=t=>Reflect.getPrototypeOf(t);function f1(t,e,n=!1,i=!1){t=t.__v_raw;const r=Gt(t),s=Gt(e);n||(Ni(e,s)&&bi(r,"get",e),bi(r,"get",s));const{has:o}=d1(r),a=i?XS:n?tA:_i;if(o.call(r,e))return a(t.get(e));if(o.call(r,s))return a(t.get(s));t!==r&&t.get(e)}function m1(t,e=!1){const n=this.__v_raw,i=Gt(n),r=Gt(t);return e||(Ni(t,r)&&bi(i,"has",t),bi(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function y1(t,e=!1){return t=t.__v_raw,!e&&bi(Gt(t),"iterate",Zc),Reflect.get(t,"size",t)}function V5(t,e=!1){!e&&!Ki(t)&&!Ko(t)&&(t=Gt(t));const n=Gt(this);return d1(n).has.call(n,t)||(n.add(t),Jo(n,"add",t,t)),this}function H5(t,e,n=!1){!n&&!Ki(e)&&!Ko(e)&&(e=Gt(e));const i=Gt(this),{has:r,get:s}=d1(i);let o=r.call(i,t);o||(t=Gt(t),o=r.call(i,t));const a=s.call(i,t);return i.set(t,e),o?Ni(e,a)&&Jo(i,"set",t,e):Jo(i,"add",t,e),this}function Y5(t){const e=Gt(this),{has:n,get:i}=d1(e);let r=n.call(e,t);r||(t=Gt(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&Jo(e,"delete",t,void 0),s}function J5(){const t=Gt(this),e=t.size!==0,n=t.clear();return e&&Jo(t,"clear",void 0,void 0),n}function g1(t,e){return function(n,i){const r=this,s=r.__v_raw,o=Gt(s),a=e?XS:t?tA:_i;return!t&&bi(o,"iterate",Zc),s.forEach((l,c)=>n.call(i,a(l),a(c),r))}}function v1(t,e,n){return function(...i){const r=this.__v_raw,s=Gt(r),o=ip(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),p=n?XS:e?tA:_i;return!e&&bi(s,"iterate",l?JS:Zc),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[p(d[0]),p(d[1])]:p(d),done:f}},[Symbol.iterator](){return this}}}}function ml(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Rit(){const t={get(r){return f1(this,r)},get size(){return y1(this)},has:m1,add:V5,set:H5,delete:Y5,clear:J5,forEach:g1(!1,!1)},e={get(r){return f1(this,r,!1,!0)},get size(){return y1(this)},has:m1,add(r){return V5.call(this,r,!0)},set(r,s){return H5.call(this,r,s,!0)},delete:Y5,clear:J5,forEach:g1(!1,!0)},n={get(r){return f1(this,r,!0)},get size(){return y1(this,!0)},has(r){return m1.call(this,r,!0)},add:ml("add"),set:ml("set"),delete:ml("delete"),clear:ml("clear"),forEach:g1(!0,!1)},i={get(r){return f1(this,r,!0,!0)},get size(){return y1(this,!0)},has(r){return m1.call(this,r,!0)},add:ml("add"),set:ml("set"),delete:ml("delete"),clear:ml("clear"),forEach:g1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=v1(r,!1,!1),n[r]=v1(r,!0,!1),e[r]=v1(r,!1,!0),i[r]=v1(r,!0,!0)}),[t,n,e,i]}const[Dit,Fit,Uit,$it]=Rit();function b1(t,e){const n=e?t?$it:Uit:t?Fit:Dit;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(we(n,r)&&r in i?n:i,r,s)}const Git={get:b1(!1,!1)},jit={get:b1(!1,!0)},Bit={get:b1(!0,!1)},Wit={get:b1(!0,!0)},Z5=new WeakMap,K5=new WeakMap,X5=new WeakMap,Q5=new WeakMap;function zit(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qit(t){return t.__v_skip||!Object.isExtensible(t)?0:zit(nit(t))}function Wn(t){return Ko(t)?t:w1(t,!1,Pit,Git,Z5)}function QS(t){return w1(t,!1,Lit,jit,K5)}function _1(t){return w1(t,!0,Nit,Bit,X5)}function cp(t){return w1(t,!0,kit,Wit,Q5)}function w1(t,e,n,i,r){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=qit(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function yr(t){return Ko(t)?yr(t.__v_raw):!!(t&&t.__v_isReactive)}function Ko(t){return!!(t&&t.__v_isReadonly)}function Ki(t){return!!(t&&t.__v_isShallow)}function nm(t){return t?!!t.__v_raw:!1}function Gt(t){const e=t&&t.__v_raw;return e?Gt(e):t}function yn(t){return!we(t,"__v_skip")&&Object.isExtensible(t)&&S5(t,"__v_skip",!0),t}const _i=t=>Ne(t)?Wn(t):t,tA=t=>Ne(t)?_1(t):t;function pe(t){return t?t.__v_isRef===!0:!1}function tt(t){return tL(t,!1)}function up(t){return tL(t,!0)}function tL(t,e){return pe(t)?t:new Vit(t,e)}class Vit{constructor(e,n){this.dep=new u1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Gt(e),this._value=n?e:_i(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||Ki(e)||Ko(e);e=i?e:Gt(e),Ni(e,n)&&(this._rawValue=e,this._value=i?e:_i(e),this.dep.trigger())}}function eL(t){t.dep&&t.dep.trigger()}function Ct(t){return pe(t)?t.value:t}function nL(t){return Ft(t)?t():Ct(t)}const Hit={get:(t,e,n)=>e==="__v_raw"?t:Ct(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return pe(r)&&!pe(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function x1(t){return yr(t)?t:new Proxy(t,Hit)}class Yit{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new u1,{get:i,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function eA(t){return new Yit(t)}function S1(t){const e=St(t)?new Array(t.length):{};for(const n in t)e[n]=iL(t,n);return e}class Jit{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Tit(Gt(this._object),this._key)}}class Zit{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function nA(t,e,n){return pe(t)?t:Ft(t)?new Zit(t):Ne(t)&&arguments.length>1?iL(t,e,n):tt(t)}function iL(t,e,n){const i=t[e];return pe(i)?i:new Jit(t,e,n)}class Kit{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new u1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qf-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&qe!==this)return N5(this),!0}get value(){const e=this.dep.track();return R5(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xit(t,e,n=!1){let i,r;return Ft(t)?i=t:(i=t.get,r=t.set),new Kit(i,r,n)}const rL={GET:"get",HAS:"has",ITERATE:"iterate"},sL={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},A1={},E1=new WeakMap;let yl;function oL(){return yl}function iA(t,e=!1,n=yl){if(n){let i=E1.get(n);i||E1.set(n,i=[]),i.push(t)}}function Qit(t,e,n=le){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=b=>r?b:Ki(b)||r===!1||r===0?Xo(b,1):Xo(b);let p,d,f,y,g=!1,_=!1;if(pe(t)?(d=()=>t.value,g=Ki(t)):yr(t)?(d=()=>c(t),g=!0):St(t)?(_=!0,g=t.some(b=>yr(b)||Ki(b)),d=()=>t.map(b=>{if(pe(b))return b.value;if(yr(b))return c(b);if(Ft(b))return l?l(b,2):b()})):Ft(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Ho();try{f()}finally{Yo()}}const b=yl;yl=p;try{return l?l(t,3,[y]):t(y)}finally{yl=b}}:d=si,e&&r){const b=d,I=r===!0?1/0:r;d=()=>Xo(b(),I)}const w=c1(),A=()=>{p.stop(),w&&$S(w.effects,p)};if(s&&e){const b=e;e=(...I)=>{b(...I),A()}}let T=_?new Array(t.length).fill(A1):A1;const x=b=>{if(!(!(p.flags&1)||!p.dirty&&!b))if(e){const I=p.run();if(r||g||(_?I.some((O,L)=>Ni(O,T[L])):Ni(I,T))){f&&f();const O=yl;yl=p;try{const L=[I,T===A1?void 0:_&&T[0]===A1?[]:T,y];l?l(e,3,L):e(...L),T=I}finally{yl=O}}}else p.run()};return a&&a(x),p=new op(d),p.scheduler=o?()=>o(x,!1):x,y=b=>iA(b,!1,p),f=p.onStop=()=>{const b=E1.get(p);if(b){if(l)l(b,4);else for(const I of b)I();E1.delete(p)}},e?i?x(!0):T=p.run():o?o(x.bind(null,!0),!0):p.run(),A.pause=p.pause.bind(p),A.resume=p.resume.bind(p),A.stop=A,A}function Xo(t,e=1/0,n){if(e<=0||!Ne(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,pe(t))Xo(t.value,e,n);else if(St(t))for(let i=0;i<t.length;i++)Xo(t[i],e,n);else if(Yc(t)||ip(t))t.forEach(i=>{Xo(i,e,n)});else if(i1(t)){for(const i in t)Xo(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Xo(t[i],e,n)}return t}var gl={ACLOCAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\aclocal;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\sohali\\AppData\\Roaming",COLOR:"0",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"WONTN774838",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Users/sohali/AppData/Local/Programs/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_10308:"1",EXEPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\sohali",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\sohali",HOSTNAME:"WONTN774838",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAcSLJDp5EnUix/9MY4sVhIwQAAAACAAAAAAAQZgAAAAEAACAAAAAiq9m3rZnEtR0T5qLUcZihMsmEhOLjt6G+Xqi+Ok2S5gAAAAAOgAAAAAIAACAAAADCxNy3yQ+KYFBAPvcA1r7Qy48hk+aO9uPLMsGhi+/QwWAAAADy7LIbedUFqhdwateNq7QzyZutl/bqjJvFag7nA0L2buSz1oQ+393+Bl/4w2kmBsH2yG7X/TdFYlOR7Dj0bqz5WT1jS9H10a5kFNvuNmMKaE+0DA8CI2i21fOlhS5UiNdAAAAADq4NXGuElclFnBW9BecWXn8YzOmMZBghNm4aWNgTnwvoJL1B7skfdnyqZE8QWpJ4Czuino+qS1KN3i1ep0yPNQ==",INFOPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\info",INIT_CWD:"C:\\Users\\sohali\\ramp4-pcar4",LC_CTYPE:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\sohali\\AppData\\Local",LOGONSERVER:"\\\\ECONM3HWVDCP001",MANPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",MSYS:"disable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",NODE:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\sohali\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_init_module:"C:\\Users\\sohali\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\sohali\\ramp4-pcar4",npm_config_loglevel:"silent",npm_config_node_gyp:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_userconfig:"C:\\Users\\sohali\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:esDynamic",npm_lifecycle_script:"vite build --mode esDynamic",npm_node_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",npm_package_engines_node:"=22.12.0",npm_package_json:"C:\\Users\\sohali\\ramp4-pcar4\\package.json",npm_package_name:"ramp-pcar",npm_package_version:"4.11.0-beta",NUMBER_OF_PROCESSORS:"12",OLDPWD:"C:/Users/sohali",OneDrive:"C:\\Users\\sohali\\OneDrive - EC-EC",OneDriveCommercial:"C:\\Users\\sohali\\OneDrive - EC-EC",ORIGINAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",ORIGINAL_TEMP:"C:/Users/sohali/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/sohali/AppData/Local/Temp",OS:"Windows_NT",PATH:"C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\vendor_perl;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PKG_CONFIG_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\lib\\pkgconfig;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 186 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"ba03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:/Users/sohali/ramp4-pcar4",SESSIONNAME:"Console",SHELL:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TERM:"xterm",TERM_PROGRAM:"mintty",TERM_PROGRAM_VERSION:"3.7.1",TMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\sohali\\AppData\\Local\\Temp",UATDATA:"C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.INT.EC.GC.CA",USERDOMAIN:"EC_ONTARIO",USERDOMAIN_ROAMINGPROFILE:"EC_ONTARIO",USERNAME:"SohalI",USERPROFILE:"C:\\Users\\sohali",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Users/sohali/node-v20.17.0-win-x64/node-v20.17.0-win-x64/node.exe"};const Kc=[];function trt(t){Kc.push(t)}function ert(){Kc.pop()}let rA=!1;function nrt(t,...e){if(rA)return;rA=!0,Ho();const n=Kc.length?Kc[Kc.length-1].component:null,i=n&&n.appContext.config.warnHandler,r=irt();if(i)vl(i,n,11,[t+e.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),n&&n.proxy,r.map(({vnode:s})=>`at <${Uk(n,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${t}`,...e];r.length&&s.push(`
`,...rrt(r)),console.warn(...s)}Yo(),rA=!1}function irt(){let t=Kc[Kc.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function rrt(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...srt(n))}),e}function srt({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,r=` at <${Uk(t.component,t.type,i)}`,s=">"+n;return t.props?[r,...ort(t.props),s]:[r+s]}function ort(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(...aL(i,t[i]))}),n.length>3&&e.push(" ..."),e}function aL(t,e,n){return Vt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:pe(e)?(e=aL(t,Gt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Ft(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Gt(e),n?e:[`${t}=`,e])}function lL(t,e){}const cL={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},art={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function vl(t,e,n,i){try{return i?t(...i):t()}catch(r){bl(r,e,n)}}function gr(t,e,n,i){if(Ft(t)){const r=vl(t,e,n,i);return r&&GS(r)&&r.catch(s=>{bl(s,e,n)}),r}if(St(t)){const r=[];for(let s=0;s<t.length;s++)r.push(gr(t[s],e,n,i));return r}}function bl(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||le;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const p=a.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,l,c)===!1)return}a=a.parent}if(s){Ho(),vl(s,null,10,[t,l,c]),Yo();return}}lrt(t,n,r,i,o)}function lrt(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}let im=!1,sA=!1;const ki=[];let so=0;const hp=[];let _l=null,pp=0;const uL=Promise.resolve();let oA=null;function Br(t){const e=oA||uL;return t?e.then(this?t.bind(this):t):e}function crt(t){let e=im?so+1:0,n=ki.length;for(;e<n;){const i=e+n>>>1,r=ki[i],s=sm(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function aA(t){if(!(t.flags&1)){const e=sm(t),n=ki[ki.length-1];!n||!(t.flags&2)&&e>=sm(n)?ki.push(t):ki.splice(crt(e),0,t),t.flags|=1,hL()}}function hL(){!im&&!sA&&(sA=!0,oA=uL.then(dL))}function rm(t){St(t)?hp.push(...t):_l&&t.id===-1?_l.splice(pp+1,0,t):t.flags&1||(hp.push(t),t.flags|=1),hL()}function pL(t,e,n=im?so+1:0){for(;n<ki.length;n++){const i=ki[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;ki.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function T1(t){if(hp.length){const e=[...new Set(hp)].sort((n,i)=>sm(n)-sm(i));if(hp.length=0,_l){_l.push(...e);return}for(_l=e,pp=0;pp<_l.length;pp++){const n=_l[pp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}_l=null,pp=0}}const sm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function dL(t){sA=!1,im=!0;const e=si;try{for(so=0;so<ki.length;so++){const n=ki[so];n&&!(n.flags&8)&&(gl.NODE_ENV!=="production"&&e(n),n.flags&4&&(n.flags&=-2),vl(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;so<ki.length;so++){const n=ki[so];n&&(n.flags&=-2)}so=0,ki.length=0,T1(),im=!1,oA=null,(ki.length||hp.length)&&dL()}}let dp,C1=[];function fL(t,e){var n,i;dp=t,dp?(dp.enabled=!0,C1.forEach(({event:r,args:s})=>dp.emit(r,...s)),C1=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{fL(r,e)}),setTimeout(()=>{dp||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,C1=[])},3e3)):C1=[]}let zn=null,M1=null;function om(t){const e=zn;return zn=t,M1=t&&t.type.__scopeId||null,e}function mL(t){M1=t}function yL(){M1=null}const gL=t=>gn;function gn(t,e=zn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Y1(-1);const s=om(e);let o;try{o=t(...r)}finally{om(s),i._d&&Y1(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Te(t,e){if(zn===null)return t;const n=_m(zn),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=le]=e[r];s&&(Ft(s)&&(s={mounted:s,updated:s}),s.deep&&Xo(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function oo(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Ho(),gr(l,n,8,[t.el,a,t,e]),Yo())}}const vL=Symbol("_vte"),bL=t=>t.__isTeleport,am=t=>t&&(t.disabled||t.disabled===""),urt=t=>t&&(t.defer||t.defer===""),_L=t=>typeof SVGElement<"u"&&t instanceof SVGElement,wL=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,lA=(t,e)=>{const n=t&&t.to;return Vt(n)?e?e(n):null:n},hrt={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,o,a,l,c){const{mc:p,pc:d,pbc:f,o:{insert:y,querySelector:g,createText:_,createComment:w}}=c,A=am(e.props);let{shapeFlag:T,children:x,dynamicChildren:b}=e;if(t==null){const I=e.el=_(""),O=e.anchor=_("");y(I,n,i),y(O,n,i);const L=(D,W)=>{T&16&&(r&&r.isCE&&(r.ce._teleportTarget=D),p(x,D,W,r,s,o,a,l))},R=()=>{const D=e.target=lA(e.props,g),W=xL(D,e,_,y);D&&(o!=="svg"&&_L(D)?o="svg":o!=="mathml"&&wL(D)&&(o="mathml"),A||(L(D,W),O1(e)))};A&&(L(n,O),O1(e)),urt(e.props)?Kn(R,s):R()}else{e.el=t.el,e.targetStart=t.targetStart;const I=e.anchor=t.anchor,O=e.target=t.target,L=e.targetAnchor=t.targetAnchor,R=am(t.props),D=R?n:O,W=R?I:L;if(o==="svg"||_L(O)?o="svg":(o==="mathml"||wL(O))&&(o="mathml"),b?(f(t.dynamicChildren,b,D,r,s,o,a),DA(t,e,!0)):l||d(t,e,D,W,r,s,o,a,!1),A)R?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):I1(e,n,I,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=lA(e.props,g);B&&I1(e,B,null,c,0)}else R&&I1(e,O,L,c,1);O1(e)}},remove(t,e,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:p,target:d,props:f}=t;if(d&&(r(c),r(p)),s&&r(l),o&16){const y=s||!am(f);for(let g=0;g<a.length;g++){const _=a[g];i(_,e,n,y,!!_.dynamicChildren)}}},move:I1,hydrate:prt};function I1(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:p}=t,d=s===2;if(d&&i(o,e,n),(!d||am(p))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);d&&i(a,e,n)}function prt(t,e,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:p}},d){const f=e.target=lA(e.props,l);if(f){const y=f._lpa||f.firstChild;if(e.shapeFlag&16)if(am(e.props))e.anchor=d(o(t),e,a(t),n,i,r,s),e.targetStart=y,e.targetAnchor=y&&o(y);else{e.anchor=o(t);let g=y;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||xL(f,e,p,c),d(y&&o(y),e,f,n,i,r,s)}O1(e)}return e.anchor&&o(e.anchor)}const cA=hrt;function O1(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function xL(t,e,n,i){const r=e.targetStart=n(""),s=e.targetAnchor=n("");return r[vL]=s,t&&(i(r,t),i(s,t)),s}const wl=Symbol("_leaveCb"),P1=Symbol("_enterCb");function N1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zn(()=>{t.isMounted=!0}),zr(()=>{t.isUnmounting=!0}),t}const Wr=[Function,Array],L1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wr,onEnter:Wr,onAfterEnter:Wr,onEnterCancelled:Wr,onBeforeLeave:Wr,onLeave:Wr,onAfterLeave:Wr,onLeaveCancelled:Wr,onBeforeAppear:Wr,onAppear:Wr,onAfterAppear:Wr,onAppearCancelled:Wr},SL=t=>{const e=t.subTree;return e.component?SL(e.component):e},drt={name:"BaseTransition",props:L1,setup(t,{slots:e}){const n=Cn(),i=N1();return()=>{const r=e.default&&lm(e.default(),!0);if(!r||!r.length)return;const s=AL(r),o=Gt(t),{mode:a}=o;if(i.isLeaving)return hA(s);const l=TL(s);if(!l)return hA(s);let c=Xc(l,o,i,n,f=>c=f);l.type!==En&&ao(l,c);const p=n.subTree,d=p&&TL(p);if(d&&d.type!==En&&!xs(l,d)&&SL(n).type!==En){const f=Xc(d,o,i,n);if(ao(d,f),a==="out-in"&&l.type!==En)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},hA(s);a==="in-out"&&l.type!==En&&(f.delayLeave=(y,g,_)=>{const w=EL(i,d);w[String(d.key)]=d,y[wl]=()=>{g(),y[wl]=void 0,delete c.delayedLeave},c.delayedLeave=_})}return s}}};function AL(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==En){e=n;break}}return e}const uA=drt;function EL(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Xc(t,e,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:y,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:w,onAppear:A,onAfterAppear:T,onAppearCancelled:x}=e,b=String(t.key),I=EL(n,t),O=(D,W)=>{D&&gr(D,i,9,W)},L=(D,W)=>{const B=W[1];O(D,W),St(D)?D.every(G=>G.length<=1)&&B():D.length<=1&&B()},R={mode:o,persisted:a,beforeEnter(D){let W=l;if(!n.isMounted)if(s)W=w||l;else return;D[wl]&&D[wl](!0);const B=I[b];B&&xs(t,B)&&B.el[wl]&&B.el[wl](),O(W,[D])},enter(D){let W=c,B=p,G=d;if(!n.isMounted)if(s)W=A||c,B=T||p,G=x||d;else return;let J=!1;const it=D[P1]=u=>{J||(J=!0,u?O(G,[D]):O(B,[D]),R.delayedLeave&&R.delayedLeave(),D[P1]=void 0)};W?L(W,[D,it]):it()},leave(D,W){const B=String(t.key);if(D[P1]&&D[P1](!0),n.isUnmounting)return W();O(f,[D]);let G=!1;const J=D[wl]=it=>{G||(G=!0,W(),it?O(_,[D]):O(g,[D]),D[wl]=void 0,I[B]===t&&delete I[B])};I[B]=t,y?L(y,[D,J]):J()},clone(D){const W=Xc(D,e,n,i,r);return r&&r(W),W}};return R}function hA(t){if(um(t))return t=Ss(t),t.children=null,t}function TL(t){if(!um(t))return bL(t.type)&&t.children?AL(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ft(n.default))return n.default()}}function ao(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ao(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function lm(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Le?(o.patchFlag&128&&r++,i=i.concat(lm(o.children,e,a))):(e||o.type!==En)&&i.push(a!=null?Ss(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function ne(t,e){return Ft(t)?he({name:t.name},e,{setup:t}):t}function CL(){const t=Cn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function pA(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function cm(t){const e=Cn(),n=up(null);if(e){const i=e.refs===le?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function k1(t,e,n,i,r=!1){if(St(t)){t.forEach((g,_)=>k1(g,e&&(St(e)?e[_]:e),n,i,r));return}if(xl(i)&&!r)return;const s=i.shapeFlag&4?_m(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,p=a.refs===le?a.refs={}:a.refs,d=a.setupState,f=Gt(d),y=d===le?()=>!1:g=>we(f,g);if(c!=null&&c!==l&&(Vt(c)?(p[c]=null,y(c)&&(d[c]=null)):pe(c)&&(c.value=null)),Ft(l))vl(l,a,12,[o,p]);else{const g=Vt(l),_=pe(l);if(g||_){const w=()=>{if(t.f){const A=g?y(l)?d[l]:p[l]:l.value;r?St(A)&&$S(A,s):St(A)?A.includes(s)||A.push(s):g?(p[l]=[s],y(l)&&(d[l]=p[l])):(l.value=[s],t.k&&(p[t.k]=l.value))}else g?(p[l]=o,y(l)&&(d[l]=o)):_&&(l.value=o,t.k&&(p[t.k]=o))};o?(w.id=-1,Kn(w,n)):w()}}}let ML=!1;const fp=()=>{ML||(console.error("Hydration completed but contains mismatches."),ML=!0)},frt=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",mrt=t=>t.namespaceURI.includes("MathML"),R1=t=>{if(t.nodeType===1){if(frt(t))return"svg";if(mrt(t))return"mathml"}},mp=t=>t.nodeType===8;function yrt(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=t,p=(x,b)=>{if(!b.hasChildNodes()){n(null,x,b),T1(),b._vnode=x;return}d(b.firstChild,x,null,null,null),T1(),b._vnode=x},d=(x,b,I,O,L,R=!1)=>{R=R||!!b.dynamicChildren;const D=mp(x)&&x.data==="[",W=()=>_(x,b,I,O,L,D),{type:B,ref:G,shapeFlag:J,patchFlag:it}=b;let u=x.nodeType;b.el=x,it===-2&&(R=!1,b.dynamicChildren=null);let m=null;switch(B){case lo:u!==3?b.children===""?(l(b.el=r(""),o(x),x),m=x):m=W():(x.data!==b.children&&(fp(),x.data=b.children),m=s(x));break;case En:T(x)?(m=s(x),A(b.el=x.content.firstChild,x,I)):u!==8||D?m=W():m=s(x);break;case Sl:if(D&&(x=s(x),u=x.nodeType),u===1||u===3){m=x;const S=!b.children.length;for(let N=0;N<b.staticCount;N++)S&&(b.children+=m.nodeType===1?m.outerHTML:m.data),N===b.staticCount-1&&(b.anchor=m),m=s(m);return D?s(m):m}else W();break;case Le:D?m=g(x,b,I,O,L,R):m=W();break;default:if(J&1)(u!==1||b.type.toLowerCase()!==x.tagName.toLowerCase())&&!T(x)?m=W():m=f(x,b,I,O,L,R);else if(J&6){b.slotScopeIds=L;const S=o(x);if(D?m=w(x):mp(x)&&x.data==="teleport start"?m=w(x,x.data,"teleport end"):m=s(x),e(b,S,null,I,O,R1(S),R),xl(b)){let N;D?(N=Kt(Le),N.anchor=m?m.previousSibling:S.lastChild):N=x.nodeType===3?As(""):Kt("div"),N.el=x,b.component.subTree=N}}else J&64?u!==8?m=W():m=b.type.hydrate(x,b,I,O,L,R,t,y):J&128&&(m=b.type.hydrate(x,b,I,O,R1(o(x)),L,R,t,d))}return G!=null&&k1(G,null,O,b),m},f=(x,b,I,O,L,R)=>{R=R||!!b.dynamicChildren;const{type:D,props:W,patchFlag:B,shapeFlag:G,dirs:J,transition:it}=b,u=D==="input"||D==="option";if(u||B!==-1){J&&oo(b,null,I,"created");let m=!1;if(T(x)){m=yk(O,it)&&I&&I.vnode.props&&I.vnode.props.appear;const N=x.content.firstChild;m&&it.beforeEnter(N),A(N,x,I),b.el=x=N}if(G&16&&!(W&&(W.innerHTML||W.textContent))){let N=y(x.firstChild,b,x,I,O,L,R);for(;N;){D1(x,1)||fp();const V=N;N=N.nextSibling,a(V)}}else if(G&8){let N=b.children;N[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(N=N.slice(1)),x.textContent!==N&&(D1(x,0)||fp(),x.textContent=b.children)}if(W){if(u||!R||B&48){const N=x.tagName.includes("-");for(const V in W)(u&&(V.endsWith("value")||V==="indeterminate")||Hc(V)&&!pl(V)||V[0]==="."||N)&&i(x,V,null,W[V],void 0,I)}else if(W.onClick)i(x,"onClick",null,W.onClick,void 0,I);else if(B&4&&yr(W.style))for(const N in W.style)W.style[N]}let S;(S=W&&W.onVnodeBeforeMount)&&Qi(S,I,b),J&&oo(b,null,I,"beforeMount"),((S=W&&W.onVnodeMounted)||J||m)&&Ck(()=>{S&&Qi(S,I,b),m&&it.enter(x),J&&oo(b,null,I,"mounted")},O)}return x.nextSibling},y=(x,b,I,O,L,R,D)=>{D=D||!!b.dynamicChildren;const W=b.children,B=W.length;for(let G=0;G<B;G++){const J=D?W[G]:W[G]=Xi(W[G]),it=J.type===lo;x?(it&&!D&&G+1<B&&Xi(W[G+1]).type===lo&&(l(r(x.data.slice(J.children.length)),I,s(x)),x.data=J.children),x=d(x,J,O,L,R,D)):it&&!J.children?l(J.el=r(""),I):(D1(I,1)||fp(),n(null,J,I,null,O,L,R1(I),R))}return x},g=(x,b,I,O,L,R)=>{const{slotScopeIds:D}=b;D&&(L=L?L.concat(D):D);const W=o(x),B=y(s(x),b,W,I,O,L,R);return B&&mp(B)&&B.data==="]"?s(b.anchor=B):(fp(),l(b.anchor=c("]"),W,B),B)},_=(x,b,I,O,L,R)=>{if(D1(x.parentElement,1)||fp(),b.el=null,R){const B=w(x);for(;;){const G=s(x);if(G&&G!==B)a(G);else break}}const D=s(x),W=o(x);return a(x),n(null,b,W,D,I,O,R1(W),L),D},w=(x,b="[",I="]")=>{let O=0;for(;x;)if(x=s(x),x&&mp(x)&&(x.data===b&&O++,x.data===I)){if(O===0)return s(x);O--}return x},A=(x,b,I)=>{const O=b.parentNode;O&&O.replaceChild(x,b);let L=I;for(;L;)L.vnode.el===b&&(L.vnode.el=L.subTree.el=x),L=L.parent},T=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[p,d]}const IL="data-allow-mismatch",grt={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function D1(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(IL);)t=t.parentElement;const n=t&&t.getAttribute(IL);if(n==null)return!1;if(n==="")return!0;{const i=n.split(",");return e===0&&i.includes("children")?!0:n.split(",").includes(grt[e])}}const OL=(t=1e4)=>e=>{const n=requestIdleCallback(e,{timeout:t});return()=>cancelIdleCallback(n)};function vrt(t){const{top:e,left:n,bottom:i,right:r}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||i>0&&i<s)&&(n>0&&n<o||r>0&&r<o)}const PL=t=>(e,n)=>{const i=new IntersectionObserver(r=>{for(const s of r)if(s.isIntersecting){i.disconnect(),e();break}},t);return n(r=>{if(r instanceof Element){if(vrt(r))return e(),i.disconnect(),!1;i.observe(r)}}),()=>i.disconnect()},NL=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},LL=(t=[])=>(e,n)=>{Vt(t)&&(t=[t]);let i=!1;const r=o=>{i||(i=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,r)})};return n(o=>{for(const a of t)o.addEventListener(a,r,{once:!0})}),s};function brt(t,e){if(mp(t)&&t.data==="["){let n=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(mp(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else e(t)}const xl=t=>!!t.type.__asyncLoader;function F1(t){Ft(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,p,d=0;const f=()=>(d++,c=null,y()),y=()=>{let g;return c||(g=c=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((w,A)=>{l(_,()=>w(f()),()=>A(_),d+1)});throw _}).then(_=>g!==c&&c?c:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),p=_,_)))};return ne({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,_,w){const A=s?()=>{const T=s(w,x=>brt(g,x));T&&(_.bum||(_.bum=[])).push(T)}:w;p?A():y().then(()=>!_.isUnmounted&&A())},get __asyncResolved(){return p},setup(){const g=Tn;if(pA(g),p)return()=>dA(p,g);const _=x=>{c=null,bl(x,g,13,!i)};if(a&&g.suspense||bm)return y().then(x=>()=>dA(x,g)).catch(x=>(_(x),()=>i?Kt(i,{error:x}):null));const w=tt(!1),A=tt(),T=tt(!!r);return r&&setTimeout(()=>{T.value=!1},r),o!=null&&setTimeout(()=>{if(!w.value&&!A.value){const x=new Error(`Async component timed out after ${o}ms.`);_(x),A.value=x}},o),y().then(()=>{w.value=!0,g.parent&&um(g.parent.vnode)&&g.parent.update()}).catch(x=>{_(x),A.value=x}),()=>{if(w.value&&p)return dA(p,g);if(A.value&&i)return Kt(i,{error:A.value});if(n&&!T.value)return Kt(n)}}})}function dA(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,o=Kt(t,i,r);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const um=t=>t.type.__isKeepAlive,_rt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Cn(),i=n.ctx;if(!i.renderer)return()=>{const T=e.default&&e.default();return T&&T.length===1?T[0]:T};const r=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:p,o:{createElement:d}}}=i,f=d("div");i.activate=(T,x,b,I,O)=>{const L=T.component;c(T,x,b,0,a),l(L.vnode,T,x,b,L,a,I,T.slotScopeIds,O),Kn(()=>{L.isDeactivated=!1,L.a&&sp(L.a);const R=T.props&&T.props.onVnodeMounted;R&&Qi(R,L.parent,T)},a)},i.deactivate=T=>{const x=T.component;z1(x.m),z1(x.a),c(T,f,null,1,a),Kn(()=>{x.da&&sp(x.da);const b=T.props&&T.props.onVnodeUnmounted;b&&Qi(b,x.parent,T),x.isDeactivated=!0},a)};function y(T){yA(T),p(T,n,a,!0)}function g(T){r.forEach((x,b)=>{const I=X1(x.type);I&&!T(I)&&_(b)})}function _(T){const x=r.get(T);x&&(!o||!xs(x,o))?y(x):o&&yA(o),r.delete(T),s.delete(T)}qn(()=>[t.include,t.exclude],([T,x])=>{T&&g(b=>hm(T,b)),x&&g(b=>!hm(x,b))},{flush:"post",deep:!0});let w=null;const A=()=>{w!=null&&(H1(n.subTree.type)?Kn(()=>{r.set(w,U1(n.subTree))},n.subTree.suspense):r.set(w,U1(n.subTree)))};return Zn(A),Qc(A),zr(()=>{r.forEach(T=>{const{subTree:x,suspense:b}=n,I=U1(x);if(T.type===I.type&&T.key===I.key){yA(I);const O=I.component.da;O&&Kn(O,b);return}y(T)})}),()=>{if(w=null,!e.default)return o=null;const T=e.default(),x=T[0];if(T.length>1)return o=null,T;if(!ws(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let b=U1(x);if(b.type===En)return o=null,b;const I=b.type,O=X1(xl(b)?b.type.__asyncResolved||{}:I),{include:L,exclude:R,max:D}=t;if(L&&(!O||!hm(L,O))||R&&O&&hm(R,O))return b.shapeFlag&=-257,o=b,x;const W=b.key==null?I:b.key,B=r.get(W);return b.el&&(b=Ss(b),x.shapeFlag&128&&(x.ssContent=b)),w=W,B?(b.el=B.el,b.component=B.component,b.transition&&ao(b,b.transition),b.shapeFlag|=512,s.delete(W),s.add(W)):(s.add(W),D&&s.size>parseInt(D,10)&&_(s.values().next().value)),b.shapeFlag|=256,o=b,H1(x.type)?x:b}}},kL=_rt;function hm(t,e){return St(t)?t.some(n=>hm(n,e)):Vt(t)?t.split(",").includes(e):eit(t)?(t.lastIndex=0,t.test(e)):!1}function fA(t,e){RL(t,"a",e)}function mA(t,e){RL(t,"da",e)}function RL(t,e,n=Tn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if($1(e,i,n),n){let r=n.parent;for(;r&&r.parent;)um(r.parent.vnode)&&wrt(i,e,n,r),r=r.parent}}function wrt(t,e,n,i){const r=$1(e,t,i,!0);tu(()=>{$S(i[e],r)},n)}function yA(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function U1(t){return t.shapeFlag&128?t.ssContent:t}function $1(t,e,n=Tn,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ho();const a=ru(n),l=gr(e,n,t,o);return a(),Yo(),l});return i?r.unshift(s):r.push(s),s}}const Qo=t=>(e,n=Tn)=>{(!bm||t==="sp")&&$1(t,(...i)=>e(...i),n)},yp=Qo("bm"),Zn=Qo("m"),gA=Qo("bu"),Qc=Qo("u"),zr=Qo("bum"),tu=Qo("um"),vA=Qo("sp"),bA=Qo("rtg"),_A=Qo("rtc");function G1(t,e=Tn){$1("ec",t,e)}const wA="components",xrt="directives";function vn(t,e){return xA(wA,t,!0,e)||t}const DL=Symbol.for("v-ndc");function j1(t){return Vt(t)?xA(wA,t,!1)||t:t||DL}function Ce(t){return xA(xrt,t)}function xA(t,e,n=!0,i=!1){const r=zn||Tn;if(r){const s=r.type;if(t===wA){const a=X1(s,!1);if(a&&(a===e||a===Ke(e)||a===dl(Ke(e))))return s}const o=FL(r[t]||s[t],e)||FL(r.appContext[t],e);return!o&&i?s:o}}function FL(t,e){return t&&(t[e]||t[Ke(e)]||t[dl(Ke(e))])}function ta(t,e,n,i){let r;const s=n&&n[i],o=St(t);if(o||Vt(t)){const a=o&&yr(t);let l=!1;a&&(l=!Ki(t),t=p1(t)),r=new Array(t.length);for(let c=0,p=t.length;c<p;c++)r[c]=e(l?_i(t[c]):t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(Ne(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const p=a[l];r[l]=e(t[p],p,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}function UL(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(St(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return t}function qr(t,e,n={},i,r){if(zn.ce||zn.parent&&xl(zn.parent)&&zn.parent.ce)return e!=="default"&&(n.name=e),pt(),Be(Le,null,[Kt("slot",n,i&&i())],64);let s=t[e];s&&s._c&&(s._d=!1),pt();const o=s&&SA(s(n)),a=Be(Le,{key:(n.key||o&&o.key||`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function SA(t){return t.some(e=>ws(e)?!(e.type===En||e.type===Le&&!SA(e.children)):!0)?t:null}function $L(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:Jc(i)]=t[i];return n}const AA=t=>t?Lk(t)?_m(t):AA(t.parent):null,pm=he(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>AA(t.parent),$root:t=>AA(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>MA(t),$forceUpdate:t=>t.f||(t.f=()=>{aA(t.update)}),$nextTick:t=>t.n||(t.n=Br.bind(t.proxy)),$watch:t=>Urt.bind(t)}),EA=(t,e)=>t!==le&&!t.__isScriptSetup&&we(t,e),TA={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(EA(i,e))return o[e]=1,i[e];if(r!==le&&we(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&we(c,e))return o[e]=3,s[e];if(n!==le&&we(n,e))return o[e]=4,n[e];CA&&(o[e]=0)}}const p=pm[e];let d,f;if(p)return e==="$attrs"&&bi(t.attrs,"get",""),p(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==le&&we(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,we(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return EA(r,e)?(r[e]=n,!0):i!==le&&we(i,e)?(i[e]=n,!0):we(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==le&&we(t,o)||EA(e,o)||(a=s[0])&&we(a,o)||we(i,o)||we(pm,o)||we(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:we(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Srt=he({},TA,{get(t,e){if(e!==Symbol.unscopables)return TA.get(t,e,t)},has(t,e){return e[0]!=="_"&&!lit(e)}});function GL(){return null}function jL(){return null}function BL(t){}function WL(t){}function zL(){return null}function qL(){}function VL(t,e){return null}function HL(){return JL().slots}function YL(){return JL().attrs}function JL(){const t=Cn();return t.setupContext||(t.setupContext=Fk(t))}function dm(t){return St(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function ZL(t,e){const n=dm(t);for(const i in e){if(i.startsWith("__skip"))continue;let r=n[i];r?St(r)||Ft(r)?r=n[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(r=n[i]={default:e[i]}),r&&e[`__skip_${i}`]&&(r.skipFactory=!0)}return n}function KL(t,e){return!t||!e?t||e:St(t)&&St(e)?t.concat(e):he({},dm(t),dm(e))}function XL(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function QL(t){const e=Cn();let n=t();return HA(),GS(n)&&(n=n.catch(i=>{throw ru(e),i})),[n,()=>ru(e)]}let CA=!0;function Art(t){const e=MA(t),n=t.proxy,i=t.ctx;CA=!1,e.beforeCreate&&tk(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:p,beforeMount:d,mounted:f,beforeUpdate:y,updated:g,activated:_,deactivated:w,beforeDestroy:A,beforeUnmount:T,destroyed:x,unmounted:b,render:I,renderTracked:O,renderTriggered:L,errorCaptured:R,serverPrefetch:D,expose:W,inheritAttrs:B,components:G,directives:J,filters:it}=e;if(c&&Ert(c,i,null),o)for(const m in o){const S=o[m];Ft(S)&&(i[m]=S.bind(n))}if(r){const m=r.call(n,n);Ne(m)&&(t.data=Wn(m))}if(CA=!0,s)for(const m in s){const S=s[m],N=Ft(S)?S.bind(n,n):Ft(S.get)?S.get.bind(n,n):si,V=!Ft(S)&&Ft(S.set)?S.set.bind(n):si,X=te({get:N,set:V});Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>X.value,set:ft=>X.value=ft})}if(a)for(const m in a)ek(a[m],i,n,m);if(l){const m=Ft(l)?l.call(n):l;Reflect.ownKeys(m).forEach(S=>{W1(S,m[S])})}p&&tk(p,t,"c");function u(m,S){St(S)?S.forEach(N=>m(N.bind(n))):S&&m(S.bind(n))}if(u(yp,d),u(Zn,f),u(gA,y),u(Qc,g),u(fA,_),u(mA,w),u(G1,R),u(_A,O),u(bA,L),u(zr,T),u(tu,b),u(vA,D),St(W))if(W.length){const m=t.exposed||(t.exposed={});W.forEach(S=>{Object.defineProperty(m,S,{get:()=>n[S],set:N=>n[S]=N})})}else t.exposed||(t.exposed={});I&&t.render===si&&(t.render=I),B!=null&&(t.inheritAttrs=B),G&&(t.components=G),J&&(t.directives=J),D&&pA(t)}function Ert(t,e,n=si){St(t)&&(t=IA(t));for(const i in t){const r=t[i];let s;Ne(r)?"default"in r?s=Rn(r.from||i,r.default,!0):s=Rn(r.from||i):s=Rn(r),pe(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function tk(t,e,n){gr(St(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function ek(t,e,n,i){let r=i.includes(".")?bk(n,i):()=>n[i];if(Vt(t)){const s=e[t];Ft(s)&&qn(r,s)}else if(Ft(t))qn(r,t.bind(n));else if(Ne(t))if(St(t))t.forEach(s=>ek(s,e,n,i));else{const s=Ft(t.handler)?t.handler.bind(n):e[t.handler];Ft(s)&&qn(r,s,t)}}function MA(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>B1(l,c,o,!0)),B1(l,e,o)),Ne(e)&&s.set(e,l),l}function B1(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&B1(t,s,n,!0),r&&r.forEach(o=>B1(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=Trt[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Trt={data:nk,props:ik,emits:ik,methods:fm,computed:fm,beforeCreate:Ri,created:Ri,beforeMount:Ri,mounted:Ri,beforeUpdate:Ri,updated:Ri,beforeDestroy:Ri,beforeUnmount:Ri,destroyed:Ri,unmounted:Ri,activated:Ri,deactivated:Ri,errorCaptured:Ri,serverPrefetch:Ri,components:fm,directives:fm,watch:Mrt,provide:nk,inject:Crt};function nk(t,e){return e?t?function(){return he(Ft(t)?t.call(this,this):t,Ft(e)?e.call(this,this):e)}:e:t}function Crt(t,e){return fm(IA(t),IA(e))}function IA(t){if(St(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ri(t,e){return t?[...new Set([].concat(t,e))]:e}function fm(t,e){return t?he(Object.create(null),t,e):e}function ik(t,e){return t?St(t)&&St(e)?[...new Set([...t,...e])]:he(Object.create(null),dm(t),dm(e??{})):e}function Mrt(t,e){if(!t)return e;if(!e)return t;const n=he(Object.create(null),t);for(const i in e)n[i]=Ri(t[i],e[i]);return n}function rk(){return{app:null,config:{isNativeTag:Kf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Irt=0;function Ort(t,e){return function(n,i=null){Ft(n)||(n=he({},n)),i!=null&&!Ne(i)&&(i=null);const r=rk(),s=new WeakSet,o=[];let a=!1;const l=r.app={_uid:Irt++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:XA,get config(){return r.config},set config(c){},use(c,...p){return s.has(c)||(c&&Ft(c.install)?(s.add(c),c.install(l,...p)):Ft(c)&&(s.add(c),c(l,...p))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,p){return p?(r.components[c]=p,l):r.components[c]},directive(c,p){return p?(r.directives[c]=p,l):r.directives[c]},mount(c,p,d){if(!a){const f=l._ceVNode||Kt(n,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),p&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,_m(f.component)}},onUnmount(c){o.push(c)},unmount(){a&&(gr(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,p){return r.provides[c]=p,l},runWithContext(c){const p=eu;eu=l;try{return c()}finally{eu=p}}};return l}}let eu=null;function W1(t,e){if(Tn){let n=Tn.provides;const i=Tn.parent&&Tn.parent.provides;i===n&&(n=Tn.provides=Object.create(i)),n[t]=e}}function Rn(t,e,n=!1){const i=Tn||zn;if(i||eu){const r=eu?eu._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Ft(e)?e.call(i&&i.proxy):e}}function OA(){return!!(Tn||zn||eu)}const sk={},ok=()=>Object.create(sk),ak=t=>Object.getPrototypeOf(t)===sk;function Prt(t,e,n,i=!1){const r={},s=ok();t.propsDefaults=Object.create(null),lk(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:QS(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function Nrt(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=Gt(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let d=0;d<p.length;d++){let f=p[d];if(q1(t.emitsOptions,f))continue;const y=e[f];if(l)if(we(s,f))y!==s[f]&&(s[f]=y,c=!0);else{const g=Ke(f);r[g]=PA(l,a,g,y,t,!1)}else y!==s[f]&&(s[f]=y,c=!0)}}}else{lk(t,e,r,s)&&(c=!0);let p;for(const d in a)(!e||!we(e,d)&&((p=Zi(d))===d||!we(e,p)))&&(l?n&&(n[d]!==void 0||n[p]!==void 0)&&(r[d]=PA(l,a,d,void 0,t,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!we(e,d))&&(delete s[d],c=!0)}c&&Jo(t.attrs,"set","")}function lk(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(pl(l))continue;const c=e[l];let p;r&&we(r,p=Ke(l))?!s||!s.includes(p)?n[p]=c:(a||(a={}))[p]=c:q1(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Gt(n),c=a||le;for(let p=0;p<s.length;p++){const d=s[p];n[d]=PA(r,l,d,c[d],t,!we(c,d))}}return o}function PA(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=we(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ft(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const p=ru(r);i=c[n]=l.call(null,e),p()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Zi(n))&&(i=!0))}return i}const Lrt=new WeakMap;function ck(t,e,n=!1){const i=n?Lrt:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!Ft(t)){const p=d=>{l=!0;const[f,y]=ck(d,e,!0);he(o,f),y&&a.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!l)return Ne(t)&&i.set(t,np),np;if(St(s))for(let p=0;p<s.length;p++){const d=Ke(s[p]);uk(d)&&(o[d]=le)}else if(s)for(const p in s){const d=Ke(p);if(uk(d)){const f=s[p],y=o[d]=St(f)||Ft(f)?{type:f}:he({},f),g=y.type;let _=!1,w=!0;if(St(g))for(let A=0;A<g.length;++A){const T=g[A],x=Ft(T)&&T.name;if(x==="Boolean"){_=!0;break}else x==="String"&&(w=!1)}else _=Ft(g)&&g.name==="Boolean";y[0]=_,y[1]=w,(_||we(y,"default"))&&a.push(d)}}const c=[o,a];return Ne(t)&&i.set(t,c),c}function uk(t){return t[0]!=="$"&&!pl(t)}const hk=t=>t[0]==="_"||t==="$stable",NA=t=>St(t)?t.map(Xi):[Xi(t)],krt=(t,e,n)=>{if(e._n)return e;const i=gn((...r)=>(gl.NODE_ENV!=="production"&&Tn&&(!n||(n.root,Tn.root)),NA(e(...r))),n);return i._c=!1,i},pk=(t,e,n)=>{const i=t._ctx;for(const r in t){if(hk(r))continue;const s=t[r];if(Ft(s))e[r]=krt(r,s,i);else if(s!=null){const o=NA(s);e[r]=()=>o}}},dk=(t,e)=>{const n=NA(e);t.slots.default=()=>n},fk=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},Rrt=(t,e,n)=>{const i=t.slots=ok();if(t.vnode.shapeFlag&32){const r=e._;r?(fk(i,e,n),n&&S5(i,"_",r,!0)):pk(e,i)}else e&&dk(t,e)},Drt=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=le;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:fk(r,e,n):(s=!e.$stable,pk(e,r)),o=e}else e&&(dk(t,e),o={default:1});if(s)for(const a in r)!hk(a)&&o[a]==null&&delete r[a]},Kn=Ck;function LA(t){return mk(t)}function kA(t){return mk(t,yrt)}function mk(t,e){const n=E5();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:p,parentNode:d,nextSibling:f,setScopeId:y=si,insertStaticContent:g}=t,_=(q,F,K,st=null,nt=null,M=null,$=void 0,C=null,k=!!F.dynamicChildren)=>{if(q===F)return;q&&!xs(q,F)&&(st=ce(q),ot(q,nt,M,!0),q=null),F.patchFlag===-2&&(k=!1,F.dynamicChildren=null);const{type:j,ref:Z,shapeFlag:z}=F;switch(j){case lo:w(q,F,K,st);break;case En:A(q,F,K,st);break;case Sl:q==null&&T(F,K,st,$);break;case Le:G(q,F,K,st,nt,M,$,C,k);break;default:z&1?I(q,F,K,st,nt,M,$,C,k):z&6?J(q,F,K,st,nt,M,$,C,k):(z&64||z&128)&&j.process(q,F,K,st,nt,M,$,C,k,fe)}Z!=null&&nt&&k1(Z,q&&q.ref,M,F||q,!F)},w=(q,F,K,st)=>{if(q==null)i(F.el=a(F.children),K,st);else{const nt=F.el=q.el;F.children!==q.children&&c(nt,F.children)}},A=(q,F,K,st)=>{q==null?i(F.el=l(F.children||""),K,st):F.el=q.el},T=(q,F,K,st)=>{[q.el,q.anchor]=g(q.children,F,K,st,q.el,q.anchor)},x=({el:q,anchor:F},K,st)=>{let nt;for(;q&&q!==F;)nt=f(q),i(q,K,st),q=nt;i(F,K,st)},b=({el:q,anchor:F})=>{let K;for(;q&&q!==F;)K=f(q),r(q),q=K;r(F)},I=(q,F,K,st,nt,M,$,C,k)=>{F.type==="svg"?$="svg":F.type==="math"&&($="mathml"),q==null?O(F,K,st,nt,M,$,C,k):D(q,F,nt,M,$,C,k)},O=(q,F,K,st,nt,M,$,C)=>{let k,j;const{props:Z,shapeFlag:z,transition:Y,dirs:ct}=q;if(k=q.el=o(q.type,M,Z&&Z.is,Z),z&8?p(k,q.children):z&16&&R(q.children,k,null,st,nt,RA(q,M),$,C),ct&&oo(q,null,st,"created"),L(k,q,q.scopeId,$,st),Z){for(const Dt in Z)Dt!=="value"&&!pl(Dt)&&s(k,Dt,null,Z[Dt],M,st);"value"in Z&&s(k,"value",null,Z.value,M),(j=Z.onVnodeBeforeMount)&&Qi(j,st,q)}ct&&oo(q,null,st,"beforeMount");const yt=yk(nt,Y);yt&&Y.beforeEnter(k),i(k,F,K),((j=Z&&Z.onVnodeMounted)||yt||ct)&&Kn(()=>{j&&Qi(j,st,q),yt&&Y.enter(k),ct&&oo(q,null,st,"mounted")},nt)},L=(q,F,K,st,nt)=>{if(K&&y(q,K),st)for(let M=0;M<st.length;M++)y(q,st[M]);if(nt){let M=nt.subTree;if(F===M||H1(M.type)&&(M.ssContent===F||M.ssFallback===F)){const $=nt.vnode;L(q,$,$.scopeId,$.slotScopeIds,nt.parent)}}},R=(q,F,K,st,nt,M,$,C,k=0)=>{for(let j=k;j<q.length;j++){const Z=q[j]=C?Al(q[j]):Xi(q[j]);_(null,Z,F,K,st,nt,M,$,C)}},D=(q,F,K,st,nt,M,$)=>{const C=F.el=q.el;let{patchFlag:k,dynamicChildren:j,dirs:Z}=F;k|=q.patchFlag&16;const z=q.props||le,Y=F.props||le;let ct;if(K&&nu(K,!1),(ct=Y.onVnodeBeforeUpdate)&&Qi(ct,K,F,q),Z&&oo(F,q,K,"beforeUpdate"),K&&nu(K,!0),(z.innerHTML&&Y.innerHTML==null||z.textContent&&Y.textContent==null)&&p(C,""),j?W(q.dynamicChildren,j,C,K,st,RA(F,nt),M):$||N(q,F,C,null,K,st,RA(F,nt),M,!1),k>0){if(k&16)B(C,z,Y,K,nt);else if(k&2&&z.class!==Y.class&&s(C,"class",null,Y.class,nt),k&4&&s(C,"style",z.style,Y.style,nt),k&8){const yt=F.dynamicProps;for(let Dt=0;Dt<yt.length;Dt++){const Yt=yt[Dt],Oe=z[Yt],un=Y[Yt];(un!==Oe||Yt==="value")&&s(C,Yt,Oe,un,nt,K)}}k&1&&q.children!==F.children&&p(C,F.children)}else!$&&j==null&&B(C,z,Y,K,nt);((ct=Y.onVnodeUpdated)||Z)&&Kn(()=>{ct&&Qi(ct,K,F,q),Z&&oo(F,q,K,"updated")},st)},W=(q,F,K,st,nt,M,$)=>{for(let C=0;C<F.length;C++){const k=q[C],j=F[C],Z=k.el&&(k.type===Le||!xs(k,j)||k.shapeFlag&70)?d(k.el):K;_(k,j,Z,null,st,nt,M,$,!0)}},B=(q,F,K,st,nt)=>{if(F!==K){if(F!==le)for(const M in F)!pl(M)&&!(M in K)&&s(q,M,F[M],null,nt,st);for(const M in K){if(pl(M))continue;const $=K[M],C=F[M];$!==C&&M!=="value"&&s(q,M,C,$,nt,st)}"value"in K&&s(q,"value",F.value,K.value,nt)}},G=(q,F,K,st,nt,M,$,C,k)=>{const j=F.el=q?q.el:a(""),Z=F.anchor=q?q.anchor:a("");let{patchFlag:z,dynamicChildren:Y,slotScopeIds:ct}=F;ct&&(C=C?C.concat(ct):ct),q==null?(i(j,K,st),i(Z,K,st),R(F.children||[],K,Z,nt,M,$,C,k)):z>0&&z&64&&Y&&q.dynamicChildren?(W(q.dynamicChildren,Y,K,nt,M,$,C),(F.key!=null||nt&&F===nt.subTree)&&DA(q,F,!0)):N(q,F,K,Z,nt,M,$,C,k)},J=(q,F,K,st,nt,M,$,C,k)=>{F.slotScopeIds=C,q==null?F.shapeFlag&512?nt.ctx.activate(F,K,st,$,k):it(F,K,st,nt,M,$,k):u(q,F,k)},it=(q,F,K,st,nt,M,$)=>{const C=q.component=Nk(q,st,nt);if(um(q)&&(C.ctx.renderer=fe),kk(C,!1,$),C.asyncDep){if(nt&&nt.registerDep(C,m,$),!q.el){const k=C.subTree=Kt(En);A(null,k,F,K)}}else m(C,q,F,K,nt,M,$)},u=(q,F,K)=>{const st=F.component=q.component;if(Wrt(q,F,K))if(st.asyncDep&&!st.asyncResolved){S(st,F,K);return}else st.next=F,st.update();else F.el=q.el,st.vnode=F},m=(q,F,K,st,nt,M,$)=>{const C=()=>{if(q.isMounted){let{next:z,bu:Y,u:ct,parent:yt,vnode:Dt}=q;{const ti=gk(q);if(ti){z&&(z.el=Dt.el,S(q,z,$)),ti.asyncDep.then(()=>{q.isUnmounted||C()});return}}let Yt=z,Oe;nu(q,!1),z?(z.el=Dt.el,S(q,z,$)):z=Dt,Y&&sp(Y),(Oe=z.props&&z.props.onVnodeBeforeUpdate)&&Qi(Oe,yt,z,Dt),nu(q,!0);const un=V1(q),hi=q.subTree;q.subTree=un,_(hi,un,d(hi.el),ce(hi),q,nt,M),z.el=un.el,Yt===null&&jA(q,un.el),ct&&Kn(ct,nt),(Oe=z.props&&z.props.onVnodeUpdated)&&Kn(()=>Qi(Oe,yt,z,Dt),nt)}else{let z;const{el:Y,props:ct}=F,{bm:yt,m:Dt,parent:Yt,root:Oe,type:un}=q,hi=xl(F);if(nu(q,!1),yt&&sp(yt),!hi&&(z=ct&&ct.onVnodeBeforeMount)&&Qi(z,Yt,F),nu(q,!0),Y&&Fe){const ti=()=>{q.subTree=V1(q),Fe(Y,q.subTree,q,nt,null)};hi&&un.__asyncHydrate?un.__asyncHydrate(Y,q,ti):ti()}else{Oe.ce&&Oe.ce._injectChildStyle(un);const ti=q.subTree=V1(q);_(null,ti,K,st,q,nt,M),F.el=ti.el}if(Dt&&Kn(Dt,nt),!hi&&(z=ct&&ct.onVnodeMounted)){const ti=F;Kn(()=>Qi(z,Yt,ti),nt)}(F.shapeFlag&256||Yt&&xl(Yt.vnode)&&Yt.vnode.shapeFlag&256)&&q.a&&Kn(q.a,nt),q.isMounted=!0,F=K=st=null}};q.scope.on();const k=q.effect=new op(C);q.scope.off();const j=q.update=k.run.bind(k),Z=q.job=k.runIfDirty.bind(k);Z.i=q,Z.id=q.uid,k.scheduler=()=>aA(Z),nu(q,!0),j()},S=(q,F,K)=>{F.component=q;const st=q.vnode.props;q.vnode=F,q.next=null,Nrt(q,F.props,st,K),Drt(q,F.children,K),Ho(),pL(q),Yo()},N=(q,F,K,st,nt,M,$,C,k=!1)=>{const j=q&&q.children,Z=q?q.shapeFlag:0,z=F.children,{patchFlag:Y,shapeFlag:ct}=F;if(Y>0){if(Y&128){X(j,z,K,st,nt,M,$,C,k);return}else if(Y&256){V(j,z,K,st,nt,M,$,C,k);return}}ct&8?(Z&16&&It(j,nt,M),z!==j&&p(K,z)):Z&16?ct&16?X(j,z,K,st,nt,M,$,C,k):It(j,nt,M,!0):(Z&8&&p(K,""),ct&16&&R(z,K,st,nt,M,$,C,k))},V=(q,F,K,st,nt,M,$,C,k)=>{q=q||np,F=F||np;const j=q.length,Z=F.length,z=Math.min(j,Z);let Y;for(Y=0;Y<z;Y++){const ct=F[Y]=k?Al(F[Y]):Xi(F[Y]);_(q[Y],ct,K,null,nt,M,$,C,k)}j>Z?It(q,nt,M,!0,!1,z):R(F,K,st,nt,M,$,C,k,z)},X=(q,F,K,st,nt,M,$,C,k)=>{let j=0;const Z=F.length;let z=q.length-1,Y=Z-1;for(;j<=z&&j<=Y;){const ct=q[j],yt=F[j]=k?Al(F[j]):Xi(F[j]);if(xs(ct,yt))_(ct,yt,K,null,nt,M,$,C,k);else break;j++}for(;j<=z&&j<=Y;){const ct=q[z],yt=F[Y]=k?Al(F[Y]):Xi(F[Y]);if(xs(ct,yt))_(ct,yt,K,null,nt,M,$,C,k);else break;z--,Y--}if(j>z){if(j<=Y){const ct=Y+1,yt=ct<Z?F[ct].el:st;for(;j<=Y;)_(null,F[j]=k?Al(F[j]):Xi(F[j]),K,yt,nt,M,$,C,k),j++}}else if(j>Y)for(;j<=z;)ot(q[j],nt,M,!0),j++;else{const ct=j,yt=j,Dt=new Map;for(j=yt;j<=Y;j++){const Tt=F[j]=k?Al(F[j]):Xi(F[j]);Tt.key!=null&&Dt.set(Tt.key,j)}let Yt,Oe=0;const un=Y-yt+1;let hi=!1,ti=0;const et=new Array(un);for(j=0;j<un;j++)et[j]=0;for(j=ct;j<=z;j++){const Tt=q[j];if(Oe>=un){ot(Tt,nt,M,!0);continue}let Jt;if(Tt.key!=null)Jt=Dt.get(Tt.key);else for(Yt=yt;Yt<=Y;Yt++)if(et[Yt-yt]===0&&xs(Tt,F[Yt])){Jt=Yt;break}Jt===void 0?ot(Tt,nt,M,!0):(et[Jt-yt]=j+1,Jt>=ti?ti=Jt:hi=!0,_(Tt,F[Jt],K,null,nt,M,$,C,k),Oe++)}const Et=hi?Frt(et):np;for(Yt=Et.length-1,j=un-1;j>=0;j--){const Tt=yt+j,Jt=F[Tt],Xt=Tt+1<Z?F[Tt+1].el:st;et[j]===0?_(null,Jt,K,Xt,nt,M,$,C,k):hi&&(Yt<0||j!==Et[Yt]?ft(Jt,K,Xt,2):Yt--)}}},ft=(q,F,K,st,nt=null)=>{const{el:M,type:$,transition:C,children:k,shapeFlag:j}=q;if(j&6){ft(q.component.subTree,F,K,st);return}if(j&128){q.suspense.move(F,K,st);return}if(j&64){$.move(q,F,K,fe);return}if($===Le){i(M,F,K);for(let Z=0;Z<k.length;Z++)ft(k[Z],F,K,st);i(q.anchor,F,K);return}if($===Sl){x(q,F,K);return}if(st!==2&&j&1&&C)if(st===0)C.beforeEnter(M),i(M,F,K),Kn(()=>C.enter(M),nt);else{const{leave:Z,delayLeave:z,afterLeave:Y}=C,ct=()=>i(M,F,K),yt=()=>{Z(M,()=>{ct(),Y&&Y()})};z?z(M,ct,yt):yt()}else i(M,F,K)},ot=(q,F,K,st=!1,nt=!1)=>{const{type:M,props:$,ref:C,children:k,dynamicChildren:j,shapeFlag:Z,patchFlag:z,dirs:Y,cacheIndex:ct}=q;if(z===-2&&(nt=!1),C!=null&&k1(C,null,K,q,!0),ct!=null&&(F.renderCache[ct]=void 0),Z&256){F.ctx.deactivate(q);return}const yt=Z&1&&Y,Dt=!xl(q);let Yt;if(Dt&&(Yt=$&&$.onVnodeBeforeUnmount)&&Qi(Yt,F,q),Z&6)$t(q.component,K,st);else{if(Z&128){q.suspense.unmount(K,st);return}yt&&oo(q,null,F,"beforeUnmount"),Z&64?q.type.remove(q,F,K,fe,st):j&&!j.hasOnce&&(M!==Le||z>0&&z&64)?It(j,F,K,!1,!0):(M===Le&&z&384||!nt&&Z&16)&&It(k,F,K),st&&At(q)}(Dt&&(Yt=$&&$.onVnodeUnmounted)||yt)&&Kn(()=>{Yt&&Qi(Yt,F,q),yt&&oo(q,null,F,"unmounted")},K)},At=q=>{const{type:F,el:K,anchor:st,transition:nt}=q;if(F===Le){Rt(K,st);return}if(F===Sl){b(q);return}const M=()=>{r(K),nt&&!nt.persisted&&nt.afterLeave&&nt.afterLeave()};if(q.shapeFlag&1&&nt&&!nt.persisted){const{leave:$,delayLeave:C}=nt,k=()=>$(K,M);C?C(q.el,M,k):k()}else M()},Rt=(q,F)=>{let K;for(;q!==F;)K=f(q),r(q),q=K;r(F)},$t=(q,F,K)=>{const{bum:st,scope:nt,job:M,subTree:$,um:C,m:k,a:j}=q;z1(k),z1(j),st&&sp(st),nt.stop(),M&&(M.flags|=8,ot($,q,F,K)),C&&Kn(C,F),Kn(()=>{q.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},It=(q,F,K,st=!1,nt=!1,M=0)=>{for(let $=M;$<q.length;$++)ot(q[$],F,K,st,nt)},ce=q=>{if(q.shapeFlag&6)return ce(q.component.subTree);if(q.shapeFlag&128)return q.suspense.next();const F=f(q.anchor||q.el),K=F&&F[vL];return K?f(K):F};let ie=!1;const Ie=(q,F,K)=>{q==null?F._vnode&&ot(F._vnode,null,null,!0):_(F._vnode||null,q,F,null,null,null,K),F._vnode=q,ie||(ie=!0,pL(),T1(),ie=!1)},fe={p:_,um:ot,m:ft,r:At,mt:it,mc:R,pc:N,pbc:W,n:ce,o:t};let re,Fe;return e&&([re,Fe]=e(fe)),{render:Ie,hydrate:re,createApp:Ort(Ie,re)}}function RA({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function nu({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function yk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function DA(t,e,n=!1){const i=t.children,r=e.children;if(St(i)&&St(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Al(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&DA(o,a)),a.type===lo&&(a.el=o.el)}}function Frt(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function gk(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:gk(e)}function z1(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const FA=Symbol.for("v-scx"),UA=()=>Rn(FA);function vk(t,e){return mm(t,null,e)}function $A(t,e){return mm(t,null,{flush:"post"})}function GA(t,e){return mm(t,null,{flush:"sync"})}function qn(t,e,n){return mm(t,e,n)}function mm(t,e,n=le){const{immediate:i,deep:r,flush:s,once:o}=n,a=he({},n);let l;if(bm)if(s==="sync"){const f=UA();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!e||i)a.once=!0;else{const f=()=>{};return f.stop=si,f.resume=si,f.pause=si,f}const c=Tn;a.call=(f,y,g)=>gr(f,c,y,g);let p=!1;s==="post"?a.scheduler=f=>{Kn(f,c&&c.suspense)}:s!=="sync"&&(p=!0,a.scheduler=(f,y)=>{y?f():aA(f)}),a.augmentJob=f=>{e&&(f.flags|=4),p&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const d=Qit(t,e,a);return l&&l.push(d),d}function Urt(t,e,n){const i=this.proxy,r=Vt(t)?t.includes(".")?bk(i,t):()=>i[t]:t.bind(i,i);let s;Ft(e)?s=e:(s=e.handler,n=e);const o=ru(this),a=mm(r,s.bind(i),n);return o(),a}function bk(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function _k(t,e,n=le){const i=Cn(),r=Ke(e),s=Zi(e),o=wk(t,e),a=eA((l,c)=>{let p,d=le,f;return GA(()=>{const y=t[e];Ni(p,y)&&(p=y,c())}),{get(){return l(),n.get?n.get(p):p},set(y){const g=n.set?n.set(y):y;if(!Ni(g,p)&&!(d!==le&&Ni(y,d)))return;const _=i.vnode.props;_&&(e in _||r in _||s in _)&&(`onUpdate:${e}`in _||`onUpdate:${r}`in _||`onUpdate:${s}`in _)||(p=y,c()),i.emit(`update:${e}`,g),Ni(y,g)&&Ni(y,d)&&!Ni(g,f)&&c(),d=y,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||le:a,done:!1}:{done:!0}}}},a}const wk=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ke(e)}Modifiers`]||t[`${Zi(e)}Modifiers`];function $rt(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||le;let r=n;const s=e.startsWith("update:"),o=s&&wk(i,e.slice(7));o&&(o.trim&&(r=n.map(p=>Vt(p)?p.trim():p)),o.number&&(r=n.map(s1)));let a,l=i[a=Jc(e)]||i[a=Jc(Ke(e))];!l&&s&&(l=i[a=Jc(Zi(e))]),l&&gr(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,gr(c,t,6,r)}}function xk(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!Ft(t)){const l=c=>{const p=xk(c,e,!0);p&&(a=!0,he(o,p))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ne(t)&&i.set(t,null),null):(St(s)?s.forEach(l=>o[l]=null):he(o,s),Ne(t)&&i.set(t,o),o)}function q1(t,e){return!t||!Hc(e)?!1:(e=e.slice(2).replace(/Once$/,""),we(t,e[0].toLowerCase()+e.slice(1))||we(t,Zi(e))||we(t,e))}function V1(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:p,props:d,data:f,setupState:y,ctx:g,inheritAttrs:_}=t,w=om(t);let A,T;try{if(n.shapeFlag&4){const b=r||i,I=gl.NODE_ENV!=="production"&&y.__isScriptSetup?new Proxy(b,{get(O,L,R){return nrt(`Property '${String(L)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(O,L,R)}}):b;A=Xi(c.call(I,b,p,gl.NODE_ENV!=="production"?cp(d):d,y,f,g)),T=a}else{const b=e;gl.NODE_ENV,A=Xi(b.length>1?b(gl.NODE_ENV!=="production"?cp(d):d,gl.NODE_ENV!=="production"?{get attrs(){return cp(a)},slots:o,emit:l}:{attrs:a,slots:o,emit:l}):b(gl.NODE_ENV!=="production"?cp(d):d,null)),T=e.props?a:jrt(a)}}catch(b){gm.length=0,bl(b,t,1),A=Kt(En)}let x=A;if(T&&_!==!1){const b=Object.keys(T),{shapeFlag:I}=x;b.length&&I&7&&(s&&b.some(US)&&(T=Brt(T,s)),x=Ss(x,T,!1,!0))}return n.dirs&&(x=Ss(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&ao(x,n.transition),A=x,om(w),A}function Grt(t,e=!0){let n;for(let i=0;i<t.length;i++){const r=t[i];if(ws(r)){if(r.type!==En||r.children==="v-if"){if(n)return;n=r}}else return}return n}const jrt=t=>{let e;for(const n in t)(n==="class"||n==="style"||Hc(n))&&((e||(e={}))[n]=t[n]);return e},Brt=(t,e)=>{const n={};for(const i in t)(!US(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function Wrt(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Sk(i,o,c):!!o;if(l&8){const p=e.dynamicProps;for(let d=0;d<p.length;d++){const f=p[d];if(o[f]!==i[f]&&!q1(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Sk(i,o,c):!0:!!o;return!1}function Sk(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!q1(n,s))return!0}return!1}function jA({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const H1=t=>t.__isSuspense;let BA=0;const zrt={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,o,a,l,c){if(t==null)qrt(e,n,i,r,s,o,a,l,c);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Vrt(t,e,n,i,r,o,a,l,c)}},hydrate:Hrt,normalize:Yrt},Ak=zrt;function ym(t,e){const n=t.props&&t.props[e];Ft(n)&&n()}function qrt(t,e,n,i,r,s,o,a,l){const{p:c,o:{createElement:p}}=l,d=p("div"),f=t.suspense=Ek(t,r,i,e,d,n,s,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,i,f,s,o),f.deps>0?(ym(t,"onPending"),ym(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,s,o),gp(f,t.ssFallback)):f.resolve(!1,!0)}function Vrt(t,e,n,i,r,s,o,a,{p:l,um:c,o:{createElement:p}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,y=e.ssFallback,{activeBranch:g,pendingBranch:_,isInFallback:w,isHydrating:A}=d;if(_)d.pendingBranch=f,xs(f,_)?(l(_,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():w&&(A||(l(g,y,n,i,r,null,s,o,a),gp(d,y)))):(d.pendingId=BA++,A?(d.isHydrating=!1,d.activeBranch=_):c(_,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=p("div"),w?(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():(l(g,y,n,i,r,null,s,o,a),gp(d,y))):g&&xs(f,g)?(l(g,f,n,i,r,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&xs(f,g))l(g,f,n,i,r,d,s,o,a),gp(d,f);else if(ym(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=BA++,l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:x}=d;T>0?setTimeout(()=>{d.pendingId===x&&d.fallback(y)},T):T===0&&d.fallback(y)}}function Ek(t,e,n,i,r,s,o,a,l,c,p=!1){const{p:d,m:f,um:y,n:g,o:{parentNode:_,remove:w}}=c;let A;const T=Jrt(t);T&&e&&e.pendingBranch&&(A=e.pendingId,e.deps++);const x=t.props?o1(t.props.timeout):void 0,b=s,I={vnode:t,parent:e,parentComponent:n,namespace:o,container:i,hiddenContainer:r,deps:0,pendingId:BA++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!p,isHydrating:p,isUnmounted:!1,effects:[],resolve(O=!1,L=!1){const{vnode:R,activeBranch:D,pendingBranch:W,pendingId:B,effects:G,parentComponent:J,container:it}=I;let u=!1;I.isHydrating?I.isHydrating=!1:O||(u=D&&W.transition&&W.transition.mode==="out-in",u&&(D.transition.afterLeave=()=>{B===I.pendingId&&(f(W,it,s===b?g(D):s,0),rm(G))}),D&&(_(D.el)===it&&(s=g(D)),y(D,J,I,!0)),u||f(W,it,s,0)),gp(I,W),I.pendingBranch=null,I.isInFallback=!1;let m=I.parent,S=!1;for(;m;){if(m.pendingBranch){m.effects.push(...G),S=!0;break}m=m.parent}!S&&!u&&rm(G),I.effects=[],T&&e&&e.pendingBranch&&A===e.pendingId&&(e.deps--,e.deps===0&&!L&&e.resolve()),ym(R,"onResolve")},fallback(O){if(!I.pendingBranch)return;const{vnode:L,activeBranch:R,parentComponent:D,container:W,namespace:B}=I;ym(L,"onFallback");const G=g(R),J=()=>{I.isInFallback&&(d(null,O,W,G,D,null,B,a,l),gp(I,O))},it=O.transition&&O.transition.mode==="out-in";it&&(R.transition.afterLeave=J),I.isInFallback=!0,y(R,D,null,!0),it||J()},move(O,L,R){I.activeBranch&&f(I.activeBranch,O,L,R),I.container=O},next(){return I.activeBranch&&g(I.activeBranch)},registerDep(O,L,R){const D=!!I.pendingBranch;D&&I.deps++;const W=O.vnode.el;O.asyncDep.catch(B=>{bl(B,O,0)}).then(B=>{if(O.isUnmounted||I.isUnmounted||I.pendingId!==O.suspenseId)return;O.asyncResolved=!0;const{vnode:G}=O;YA(O,B,!1),W&&(G.el=W);const J=!W&&O.subTree.el;L(O,G,_(W||O.subTree.el),W?null:g(O.subTree),I,o,R),J&&w(J),jA(O,G.el),D&&--I.deps===0&&I.resolve()})},unmount(O,L){I.isUnmounted=!0,I.activeBranch&&y(I.activeBranch,n,O,L),I.pendingBranch&&y(I.pendingBranch,n,O,L)}};return I}function Hrt(t,e,n,i,r,s,o,a,l){const c=e.suspense=Ek(e,i,n,t.parentNode,document.createElement("div"),null,r,s,o,a,!0),p=l(t,c.pendingBranch=e.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),p}function Yrt(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=Tk(i?n.default:n),t.ssFallback=i?Tk(n.fallback):Kt(En)}function Tk(t){let e;if(Ft(t)){const n=iu&&t._c;n&&(t._d=!1,pt()),t=t(),n&&(t._d=!0,e=wi,Mk())}return St(t)&&(t=Grt(t)),t=Xi(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Ck(t,e){e&&e.pendingBranch?St(t)?e.effects.push(...t):e.effects.push(t):rm(t)}function gp(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,jA(i,r))}function Jrt(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Le=Symbol.for("v-fgt"),lo=Symbol.for("v-txt"),En=Symbol.for("v-cmt"),Sl=Symbol.for("v-stc"),gm=[];let wi=null;function pt(t=!1){gm.push(wi=t?null:[])}function Mk(){gm.pop(),wi=gm[gm.length-1]||null}let iu=1;function Y1(t){iu+=t,t<0&&wi&&(wi.hasOnce=!0)}function Ik(t){return t.dynamicChildren=iu>0?wi||np:null,Mk(),iu>0&&wi&&wi.push(t),t}function wt(t,e,n,i,r,s){return Ik(lt(t,e,n,i,r,s,!0))}function Be(t,e,n,i,r){return Ik(Kt(t,e,n,i,r,!0))}function ws(t){return t?t.__v_isVNode===!0:!1}function xs(t,e){return t.type===e.type&&t.key===e.key}function Ok(t){}const Pk=({key:t})=>t??null,J1=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Vt(t)||pe(t)||Ft(t)?{i:zn,r:t,k:e,f:!!n}:t:null);function lt(t,e=null,n=null,i=0,r=null,s=t===Le?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pk(e),ref:e&&J1(e),scopeId:M1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:zn};return a?(qA(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Vt(n)?8:16),iu>0&&!o&&wi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&wi.push(l),l}const Kt=Zrt;function Zrt(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===DL)&&(t=En),ws(t)){const a=Ss(t,e,!0);return n&&qA(a,n),iu>0&&!s&&wi&&(a.shapeFlag&6?wi[wi.indexOf(t)]=a:wi.push(a)),a.patchFlag=-2,a}if(ist(t)&&(t=t.__vccOpts),e){e=WA(e);let{class:a,style:l}=e;a&&!Vt(a)&&(e.class=an(a)),Ne(l)&&(nm(l)&&!St(l)&&(l=he({},l)),e.style=Vo(l))}const o=Vt(t)?1:H1(t)?128:bL(t)?64:Ne(t)?4:Ft(t)?2:0;return lt(t,e,n,i,r,o,s,!0)}function WA(t){return t?nm(t)||ak(t)?he({},t):t:null}function Ss(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?vm(r||{},e):r,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Pk(c),ref:e&&e.ref?n&&s?St(s)?s.concat(J1(e)):[s,J1(e)]:J1(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Le?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ss(t.ssContent),ssFallback:t.ssFallback&&Ss(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ao(p,l.clone(p)),p}function As(t=" ",e=0){return Kt(lo,null,t,e)}function zA(t,e){const n=Kt(Sl,null,t);return n.staticCount=e,n}function Ve(t="",e=!1){return e?(pt(),Be(En,null,t)):Kt(En,null,t)}function Xi(t){return t==null||typeof t=="boolean"?Kt(En):St(t)?Kt(Le,null,t.slice()):ws(t)?Al(t):Kt(lo,null,String(t))}function Al(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ss(t)}function qA(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(St(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),qA(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!ak(e)?e._ctx=zn:r===3&&zn&&(zn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ft(e)?(e={default:e,_ctx:zn},n=32):(e=String(e),i&64?(n=16,e=[As(e)]):n=8);t.children=e,t.shapeFlag|=n}function vm(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=an([e.class,i.class]));else if(r==="style")e.style=Vo([e.style,i.style]);else if(Hc(r)){const s=e[r],o=i[r];o&&s!==o&&!(St(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function Qi(t,e,n,i=null){gr(t,e,7,[n,i])}const Krt=rk();let Xrt=0;function Nk(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Krt,s={uid:Xrt++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new l1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ck(i,r),emitsOptions:xk(i,r),emit:null,emitted:null,propsDefaults:le,inheritAttrs:i.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=$rt.bind(null,s),t.ce&&t.ce(s),s}let Tn=null;const Cn=()=>Tn||zn;let Z1,VA;{const t=E5(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Z1=e("__VUE_INSTANCE_SETTERS__",n=>Tn=n),VA=e("__VUE_SSR_SETTERS__",n=>bm=n)}const ru=t=>{const e=Tn;return Z1(t),t.scope.on(),()=>{t.scope.off(),Z1(e)}},HA=()=>{Tn&&Tn.scope.off(),Z1(null)};function Lk(t){return t.vnode.shapeFlag&4}let bm=!1;function kk(t,e=!1,n=!1){e&&VA(e);const{props:i,children:r}=t.vnode,s=Lk(t);Prt(t,i,s,e),Rrt(t,r,n);const o=s?Qrt(t,e):void 0;return e&&VA(!1),o}function Qrt(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,TA);const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?Fk(t):null,s=ru(t);Ho();const o=vl(i,t,0,[t.props,r]);if(Yo(),s(),GS(o)){if(xl(t)||pA(t),o.then(HA,HA),e)return o.then(a=>{YA(t,a,e)}).catch(a=>{bl(a,t,0)});t.asyncDep=o}else YA(t,o,e)}else Dk(t,e)}function YA(t,e,n){Ft(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=x1(e)),Dk(t,n)}let K1,JA;function ZA(t){K1=t,JA=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Srt))}}const Rk=()=>!K1;function Dk(t,e,n){const i=t.type;if(!t.render){if(!e&&K1&&!i.render){const r=i.template||MA(t).template;if(r){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=he(he({isCustomElement:s,delimiters:a},o),l);i.render=K1(r,c)}}t.render=i.render||si,JA&&JA(t)}{const r=ru(t);Ho();try{Art(t)}finally{Yo(),r()}}}const tst={get(t,e){return bi(t,"get",""),t[e]}};function Fk(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,tst),slots:t.slots,emit:t.emit,expose:e}}function _m(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(x1(yn(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in pm)return pm[n](t)},has(e,n){return n in e||n in pm}})):t.proxy}const est=/(?:^|[-_])(\w)/g,nst=t=>t.replace(est,e=>e.toUpperCase()).replace(/[-_]/g,"");function X1(t,e=!0){return Ft(t)?t.displayName||t.name:t.name||e&&t.__name}function Uk(t,e,n=!1){let i=X1(e);if(!i&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&t&&t.parent){const r=s=>{for(const o in s)if(s[o]===e)return o};i=r(t.components||t.parent.type.components)||r(t.appContext.components)}return i?nst(i):n?"App":"Anonymous"}function ist(t){return Ft(t)&&"__vccOpts"in t}const te=(t,e)=>Xit(t,e,bm);function vr(t,e,n){const i=arguments.length;return i===2?Ne(e)&&!St(e)?ws(e)?Kt(t,null,[e]):Kt(t,e):Kt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&ws(n)&&(n=[n]),Kt(t,e,n))}function $k(){}function Gk(t,e,n,i){const r=n[i];if(r&&KA(r,t))return r;const s=e();return s.memo=t.slice(),s.cacheIndex=i,n[i]=s}function KA(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(Ni(n[i],e[i]))return!1;return iu>0&&wi&&wi.push(t),!0}const XA="3.5.9",jk=si,Bk=art,Wk=dp,zk=fL,rst={createComponentInstance:Nk,setupComponent:kk,renderComponentRoot:V1,setCurrentRenderingInstance:om,isVNode:ws,normalizeVNode:Xi,getComponentPublicInstance:_m,ensureValidVNode:SA,pushWarningContext:trt,popWarningContext:ert},qk=rst,Vk=null,Hk=null,Yk=null;let QA;const Jk=typeof window<"u"&&window.trustedTypes;if(Jk)try{QA=Jk.createPolicy("vue",{createHTML:t=>t})}catch{}const Zk=QA?t=>QA.createHTML(t):t=>t,sst="http://www.w3.org/2000/svg",ost="http://www.w3.org/1998/Math/MathML",ea=typeof document<"u"?document:null,Kk=ea&&ea.createElement("template"),ast={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?ea.createElementNS(sst,t):e==="mathml"?ea.createElementNS(ost,t):n?ea.createElement(t,{is:n}):ea.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>ea.createTextNode(t),createComment:t=>ea.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ea.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Kk.innerHTML=Zk(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Kk.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},El="transition",wm="animation",vp=Symbol("_vtc"),Xk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Qk=he({},L1,Xk),lst=t=>(t.displayName="Transition",t.props=Qk,t),xm=lst((t,{slots:e})=>vr(uA,e8(t),e)),su=(t,e=[])=>{St(t)?t.forEach(n=>n(...e)):t&&t(...e)},t8=t=>t?St(t)?t.some(e=>e.length>1):t.length>1:!1;function e8(t){const e={};for(const G in t)G in Xk||(e[G]=t[G]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:p=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,g=cst(r),_=g&&g[0],w=g&&g[1],{onBeforeEnter:A,onEnter:T,onEnterCancelled:x,onLeave:b,onLeaveCancelled:I,onBeforeAppear:O=A,onAppear:L=T,onAppearCancelled:R=x}=e,D=(G,J,it)=>{Tl(G,J?p:a),Tl(G,J?c:o),it&&it()},W=(G,J)=>{G._isLeaving=!1,Tl(G,d),Tl(G,y),Tl(G,f),J&&J()},B=G=>(J,it)=>{const u=G?L:T,m=()=>D(J,G,it);su(u,[J,m]),n8(()=>{Tl(J,G?l:s),na(J,G?p:a),t8(u)||i8(J,i,_,m)})};return he(e,{onBeforeEnter(G){su(A,[G]),na(G,s),na(G,o)},onBeforeAppear(G){su(O,[G]),na(G,l),na(G,c)},onEnter:B(!1),onAppear:B(!0),onLeave(G,J){G._isLeaving=!0;const it=()=>W(G,J);na(G,d),na(G,f),a8(),n8(()=>{G._isLeaving&&(Tl(G,d),na(G,y),t8(b)||i8(G,i,w,it))}),su(b,[G,it])},onEnterCancelled(G){D(G,!1),su(x,[G])},onAppearCancelled(G){D(G,!0),su(R,[G])},onLeaveCancelled(G){W(G),su(I,[G])}})}function cst(t){if(t==null)return null;if(Ne(t))return[t3(t.enter),t3(t.leave)];{const e=t3(t);return[e,e]}}function t3(t){return o1(t)}function na(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[vp]||(t[vp]=new Set)).add(e)}function Tl(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[vp];n&&(n.delete(e),n.size||(t[vp]=void 0))}function n8(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ust=0;function i8(t,e,n,i){const r=t._endId=++ust,s=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=r8(t,e);if(!o)return i();const c=o+"end";let p=0;const d=()=>{t.removeEventListener(c,f),s()},f=y=>{y.target===t&&++p>=l&&d()};setTimeout(()=>{p<l&&d()},a+1),t.addEventListener(c,f)}function r8(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),r=i(`${El}Delay`),s=i(`${El}Duration`),o=s8(r,s),a=i(`${wm}Delay`),l=i(`${wm}Duration`),c=s8(a,l);let p=null,d=0,f=0;e===El?o>0&&(p=El,d=o,f=s.length):e===wm?c>0&&(p=wm,d=c,f=l.length):(d=Math.max(o,c),p=d>0?o>c?El:wm:null,f=p?p===El?s.length:l.length:0);const y=p===El&&/\b(transform|all)(,|$)/.test(i(`${El}Property`).toString());return{type:p,timeout:d,propCount:f,hasTransform:y}}function s8(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>o8(n)+o8(t[i])))}function o8(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function a8(){return document.body.offsetHeight}function hst(t,e,n){const i=t[vp];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Q1=Symbol("_vod"),l8=Symbol("_vsh"),Sm={beforeMount(t,{value:e},{transition:n}){t[Q1]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Am(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Am(t,!0),i.enter(t)):i.leave(t,()=>{Am(t,!1)}):Am(t,e))},beforeUnmount(t,{value:e}){Am(t,e)}};function Am(t,e){t.style.display=e?t[Q1]:"none",t[l8]=!e}function pst(){Sm.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const c8=Symbol("");function u8(t){const e=Cn();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>tv(s,r))},i=()=>{const r=t(e.proxy);e.ce?tv(e.ce,r):e3(e.subTree,r),n(r)};yp(()=>{$A(i)}),Zn(()=>{const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),tu(()=>r.disconnect())})}function e3(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{e3(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)tv(t.el,e);else if(t.type===Le)t.children.forEach(n=>e3(n,e));else if(t.type===Sl){let{el:n,anchor:i}=t;for(;n&&(tv(n,e),n!==i);)n=n.nextSibling}}function tv(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const r in e)n.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;n[c8]=i}}const dst=/(^|;)\s*display\s*:/;function fst(t,e,n){const i=t.style,r=Vt(n);let s=!1;if(n&&!r){if(e)if(Vt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ev(i,a,"")}else for(const o in e)n[o]==null&&ev(i,o,"");for(const o in n)o==="display"&&(s=!0),ev(i,o,n[o])}else if(r){if(e!==n){const o=i[c8];o&&(n+=";"+o),i.cssText=n,s=dst.test(n)}}else e&&t.removeAttribute("style");Q1 in t&&(t[Q1]=s?i.display:"",t[l8]&&(i.display="none"))}const h8=/\s*!important$/;function ev(t,e,n){if(St(n))n.forEach(i=>ev(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=mst(t,e);h8.test(n)?t.setProperty(Zi(i),n.replace(h8,""),"important"):t[i]=n}}const p8=["Webkit","Moz","ms"],n3={};function mst(t,e){const n=n3[e];if(n)return n;let i=Ke(e);if(i!=="filter"&&i in t)return n3[e]=i;i=dl(i);for(let r=0;r<p8.length;r++){const s=p8[r]+i;if(s in t)return n3[e]=s}return e}const d8="http://www.w3.org/1999/xlink";function f8(t,e,n,i,r,s=wit(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(d8,e.slice(6,e.length)):t.setAttributeNS(d8,e,n):n==null||s&&!M5(n)?t.removeAttribute(e):t.setAttribute(e,s?"":mr(n)?String(n):n)}function yst(t,e,n,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Zk(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=M5(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(e)}function ia(t,e,n,i){t.addEventListener(e,n,i)}function gst(t,e,n,i){t.removeEventListener(e,n,i)}const m8=Symbol("_vei");function vst(t,e,n,i,r=null){const s=t[m8]||(t[m8]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=bst(e);if(i){const c=s[e]=xst(i,r);ia(t,a,c,l)}else o&&(gst(t,a,o,l),s[e]=void 0)}}const y8=/(?:Once|Passive|Capture)$/;function bst(t){let e;if(y8.test(t)){e={};let n;for(;n=t.match(y8);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zi(t.slice(2)),e]}let i3=0;const _st=Promise.resolve(),wst=()=>i3||(_st.then(()=>i3=0),i3=Date.now());function xst(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;gr(Sst(i,n.value),e,5,[i])};return n.value=t,n.attached=wst(),n}function Sst(t,e){if(St(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const g8=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ast=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?hst(t,i,o):e==="style"?fst(t,n,i):Hc(e)?US(e)||vst(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Est(t,e,i,o))?(yst(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&f8(t,e,i,o,s,e!=="value")):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),f8(t,e,i,o))};function Est(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&g8(e)&&Ft(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return g8(e)&&Vt(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!Vt(n)))}const v8={};function r3(t,e,n){const i=ne(t,e);i1(i)&&he(i,e);class r extends d0{constructor(o){super(i,o,n)}}return r.def=i,r}const b8=(t,e)=>r3(t,e,a3),Tst=typeof HTMLElement<"u"?HTMLElement:class{};class d0 extends Tst{constructor(e,n={},i=Ml){super(),this._def=e,this._props=n,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Ml?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof d0){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Br(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=i;let a;if(s&&!St(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=o1(this._props[l])),(a||(a=Object.create(null)))[Ke(l)]=!0)}this._numberProps=a,r&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const i in n)we(this,i)||Object.defineProperty(this,i,{get:()=>Ct(n[i])})}_resolveProps(e){const{props:n}=e,i=St(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&i.includes(r)&&this._setProp(r,this[r]);for(const r of i.map(Ke))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(s){this._setProp(r,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let i=n?this.getAttribute(e):v8;const r=Ke(e);n&&this._numberProps&&this._numberProps[r]&&(i=o1(i)),this._setProp(r,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,r=!1){n!==this._props[e]&&(n===v8?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),r&&this._instance&&this._update(),i&&(n===!0?this.setAttribute(Zi(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Zi(e),n+""):n||this.removeAttribute(Zi(e))))}_update(){ou(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Kt(this._def,he(e,this._props));return this._instance||(n.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,i1(o[0])?he({detail:o},o[0]):{detail:o}))};i.emit=(s,...o)=>{r(s,o),Zi(s)!==s&&r(Zi(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const i=this._nonce;for(let r=e.length-1;r>=0;r--){const s=document.createElement("style");i&&s.setAttribute("nonce",i),s.textContent=e[r],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const i=n.nodeType===1&&n.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const r=e[i],s=r.getAttribute("name")||"default",o=this._slots[s],a=r.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const c=n+"-s",p=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=p.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function s3(t){const e=Cn();return e&&e.ce||null}function _8(){const t=s3();return t&&t.shadowRoot}function w8(t="$style"){{const e=Cn();if(!e)return le;const n=e.type.__cssModules;return n&&n[t]||le}}const x8=new WeakMap,S8=new WeakMap,nv=Symbol("_moveCb"),A8=Symbol("_enterCb"),Cst=t=>(delete t.props.mode,t),Mst=Cst({name:"TransitionGroup",props:he({},Qk,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Cn(),i=N1();let r,s;return Qc(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Nst(r[0].el,n.vnode.el,o))return;r.forEach(Ist),r.forEach(Ost);const a=r.filter(Pst);a8(),a.forEach(l=>{const c=l.el,p=c.style;na(c,o),p.transform=p.webkitTransform=p.transitionDuration="";const d=c[nv]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[nv]=null,Tl(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Gt(t),a=e8(o);let l=o.tag||Le;if(r=[],s)for(let c=0;c<s.length;c++){const p=s[c];p.el&&p.el instanceof Element&&(r.push(p),ao(p,Xc(p,a,i,n)),x8.set(p,p.el.getBoundingClientRect()))}s=e.default?lm(e.default()):[];for(let c=0;c<s.length;c++){const p=s[c];p.key!=null&&ao(p,Xc(p,a,i,n))}return Kt(l,null,s)}}}),iv=Mst;function Ist(t){const e=t.el;e[nv]&&e[nv](),e[A8]&&e[A8]()}function Ost(t){S8.set(t,t.el.getBoundingClientRect())}function Pst(t){const e=x8.get(t),n=S8.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function Nst(t,e,n){const i=t.cloneNode(),r=t[vp];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:o}=r8(i);return s.removeChild(i),o}const Cl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return St(e)?n=>sp(e,n):e};function Lst(t){t.target.composing=!0}function E8(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vr=Symbol("_assign"),bp={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[Vr]=Cl(r);const s=i||r.props&&r.props.type==="number";ia(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=s1(a)),t[Vr](a)}),n&&ia(t,"change",()=>{t.value=t.value.trim()}),e||(ia(t,"compositionstart",Lst),ia(t,"compositionend",E8),ia(t,"change",E8))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(t[Vr]=Cl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?s1(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},rv={deep:!0,created(t,e,n){t[Vr]=Cl(n),ia(t,"change",()=>{const i=t._modelValue,r=_p(t),s=t.checked,o=t[Vr];if(St(i)){const a=a1(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Yc(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(M8(t,s))})},mounted:T8,beforeUpdate(t,e,n){t[Vr]=Cl(n),T8(t,e,n)}};function T8(t,{value:e},n){t._modelValue=e;let i;St(e)?i=a1(e,n.props.value)>-1:Yc(e)?i=e.has(n.props.value):i=fl(e,M8(t,!0)),t.checked!==i&&(t.checked=i)}const sv={created(t,{value:e},n){t.checked=fl(e,n.props.value),t[Vr]=Cl(n),ia(t,"change",()=>{t[Vr](_p(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[Vr]=Cl(i),e!==n&&(t.checked=fl(e,i.props.value))}},ov={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=Yc(e);ia(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?s1(_p(o)):_p(o));t[Vr](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,Br(()=>{t._assigning=!1})}),t[Vr]=Cl(i)},mounted(t,{value:e}){C8(t,e)},beforeUpdate(t,e,n){t[Vr]=Cl(n)},updated(t,{value:e}){t._assigning||C8(t,e)}};function C8(t,e){const n=t.multiple,i=St(e);if(!(n&&!i&&!Yc(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=_p(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=a1(e,a)>-1}else o.selected=e.has(a);else if(fl(_p(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function _p(t){return"_value"in t?t._value:t.value}function M8(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const o3={created(t,e,n){av(t,e,n,null,"created")},mounted(t,e,n){av(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){av(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){av(t,e,n,i,"updated")}};function I8(t,e){switch(t){case"SELECT":return ov;case"TEXTAREA":return bp;default:switch(e){case"checkbox":return rv;case"radio":return sv;default:return bp}}}function av(t,e,n,i,r){const s=I8(t.tagName,n.props&&n.props.type)[r];s&&s(t,e,n,i)}function kst(){bp.getSSRProps=({value:t})=>({value:t}),sv.getSSRProps=({value:t},e)=>{if(e.props&&fl(e.props.value,t))return{checked:!0}},rv.getSSRProps=({value:t},e)=>{if(St(t)){if(e.props&&a1(t,e.props.value)>-1)return{checked:!0}}else if(Yc(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},o3.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=I8(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const Rst=["ctrl","shift","alt","meta"],Dst={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Rst.some(n=>t[`${n}Key`]&&!e.includes(n))},wp=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=Dst[e[o]];if(a&&a(r,e))return}return t(r,...s)})},Fst={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},lv=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=Zi(r.key);if(e.some(o=>o===s||Fst[o]===s))return t(r)})},O8=he({patchProp:Ast},ast);let Em,P8=!1;function N8(){return Em||(Em=LA(O8))}function L8(){return Em=P8?Em:kA(O8),P8=!0,Em}const ou=(...t)=>{N8().render(...t)},k8=(...t)=>{L8().hydrate(...t)},Ml=(...t)=>{const e=N8().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=D8(i);if(!r)return;const s=e._component;!Ft(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,R8(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},a3=(...t)=>{const e=L8().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=D8(i);if(r)return n(r,!0,R8(r))},e};function R8(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function D8(t){return Vt(t)?document.querySelector(t):t}let F8=!1;const U8=()=>{F8||(F8=!0,kst(),pst())},Ust=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:uA,BaseTransitionPropsValidators:L1,Comment:En,DeprecationTypes:Yk,EffectScope:l1,ErrorCodes:cL,ErrorTypeStrings:Bk,Fragment:Le,KeepAlive:kL,ReactiveEffect:op,Static:Sl,Suspense:Ak,Teleport:cA,Text:lo,TrackOpTypes:rL,Transition:xm,TransitionGroup:iv,TriggerOpTypes:sL,VueElement:d0,assertNumber:lL,callWithAsyncErrorHandling:gr,callWithErrorHandling:vl,camelize:Ke,capitalize:dl,cloneVNode:Ss,compatUtils:Hk,computed:te,createApp:Ml,createBlock:Be,createCommentVNode:Ve,createElementBlock:wt,createElementVNode:lt,createHydrationRenderer:kA,createPropsRestProxy:XL,createRenderer:LA,createSSRApp:a3,createSlots:UL,createStaticVNode:zA,createTextVNode:As,createVNode:Kt,customRef:eA,defineAsyncComponent:F1,defineComponent:ne,defineCustomElement:r3,defineEmits:jL,defineExpose:BL,defineModel:qL,defineOptions:WL,defineProps:GL,defineSSRCustomElement:b8,defineSlots:zL,devtools:Wk,effect:D5,effectScope:Xf,getCurrentInstance:Cn,getCurrentScope:c1,getCurrentWatcher:oL,getTransitionRawChildren:lm,guardReactiveProps:WA,h:vr,handleError:bl,hasInjectionContext:OA,hydrate:k8,hydrateOnIdle:OL,hydrateOnInteraction:LL,hydrateOnMediaQuery:NL,hydrateOnVisible:PL,initCustomFormatter:$k,initDirectivesForSSR:U8,inject:Rn,isMemoSame:KA,isProxy:nm,isReactive:yr,isReadonly:Ko,isRef:pe,isRuntimeOnly:Rk,isShallow:Ki,isVNode:ws,markRaw:yn,mergeDefaults:ZL,mergeModels:KL,mergeProps:vm,nextTick:Br,normalizeClass:an,normalizeProps:C5,normalizeStyle:Vo,onActivated:fA,onBeforeMount:yp,onBeforeUnmount:zr,onBeforeUpdate:gA,onDeactivated:mA,onErrorCaptured:G1,onMounted:Zn,onRenderTracked:_A,onRenderTriggered:bA,onScopeDispose:WS,onServerPrefetch:vA,onUnmounted:tu,onUpdated:Qc,onWatcherCleanup:iA,openBlock:pt,popScopeId:yL,provide:W1,proxyRefs:x1,pushScopeId:mL,queuePostFlushCb:rm,reactive:Wn,readonly:_1,ref:tt,registerRuntimeCompiler:ZA,render:ou,renderList:ta,renderSlot:qr,resolveComponent:vn,resolveDirective:Ce,resolveDynamicComponent:j1,resolveFilter:Vk,resolveTransitionHooks:Xc,setBlockTracking:Y1,setDevtoolsHook:zk,setTransitionHooks:ao,shallowReactive:QS,shallowReadonly:cp,shallowRef:up,ssrContextKey:FA,ssrUtils:qk,stop:F5,toDisplayString:je,toHandlerKey:Jc,toHandlers:$L,toRaw:Gt,toRef:nA,toRefs:S1,toValue:nL,transformVNodeArgs:Ok,triggerRef:eL,unref:Ct,useAttrs:YL,useCssModule:w8,useCssVars:u8,useHost:s3,useId:CL,useModel:_k,useSSRContext:UA,useShadowRoot:_8,useSlots:HL,useTemplateRef:cm,useTransitionState:N1,vModelCheckbox:rv,vModelDynamic:o3,vModelRadio:sv,vModelSelect:ov,vModelText:bp,vShow:Sm,version:XA,warn:jk,watch:qn,watchEffect:vk,watchPostEffect:$A,watchSyncEffect:GA,withAsyncContext:QL,withCtx:gn,withDefaults:VL,withDirectives:Te,withKeys:lv,withMemo:Gk,withModifiers:wp,withScopeId:gL},Symbol.toStringTag,{value:"Module"}));var l3={ACLOCAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\aclocal;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\sohali\\AppData\\Roaming",COLOR:"0",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"WONTN774838",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Users/sohali/AppData/Local/Programs/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_10308:"1",EXEPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\sohali",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\sohali",HOSTNAME:"WONTN774838",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAcSLJDp5EnUix/9MY4sVhIwQAAAACAAAAAAAQZgAAAAEAACAAAAAiq9m3rZnEtR0T5qLUcZihMsmEhOLjt6G+Xqi+Ok2S5gAAAAAOgAAAAAIAACAAAADCxNy3yQ+KYFBAPvcA1r7Qy48hk+aO9uPLMsGhi+/QwWAAAADy7LIbedUFqhdwateNq7QzyZutl/bqjJvFag7nA0L2buSz1oQ+393+Bl/4w2kmBsH2yG7X/TdFYlOR7Dj0bqz5WT1jS9H10a5kFNvuNmMKaE+0DA8CI2i21fOlhS5UiNdAAAAADq4NXGuElclFnBW9BecWXn8YzOmMZBghNm4aWNgTnwvoJL1B7skfdnyqZE8QWpJ4Czuino+qS1KN3i1ep0yPNQ==",INFOPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\info",INIT_CWD:"C:\\Users\\sohali\\ramp4-pcar4",LC_CTYPE:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\sohali\\AppData\\Local",LOGONSERVER:"\\\\ECONM3HWVDCP001",MANPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",MSYS:"disable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",NODE:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\sohali\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_init_module:"C:\\Users\\sohali\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\sohali\\ramp4-pcar4",npm_config_loglevel:"silent",npm_config_node_gyp:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_userconfig:"C:\\Users\\sohali\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:esDynamic",npm_lifecycle_script:"vite build --mode esDynamic",npm_node_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",npm_package_engines_node:"=22.12.0",npm_package_json:"C:\\Users\\sohali\\ramp4-pcar4\\package.json",npm_package_name:"ramp-pcar",npm_package_version:"4.11.0-beta",NUMBER_OF_PROCESSORS:"12",OLDPWD:"C:/Users/sohali",OneDrive:"C:\\Users\\sohali\\OneDrive - EC-EC",OneDriveCommercial:"C:\\Users\\sohali\\OneDrive - EC-EC",ORIGINAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",ORIGINAL_TEMP:"C:/Users/sohali/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/sohali/AppData/Local/Temp",OS:"Windows_NT",PATH:"C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\vendor_perl;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PKG_CONFIG_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\lib\\pkgconfig;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 186 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"ba03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:/Users/sohali/ramp4-pcar4",SESSIONNAME:"Console",SHELL:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TERM:"xterm",TERM_PROGRAM:"mintty",TERM_PROGRAM_VERSION:"3.7.1",TMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\sohali\\AppData\\Local\\Temp",UATDATA:"C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.INT.EC.GC.CA",USERDOMAIN:"EC_ONTARIO",USERDOMAIN_ROAMINGPROFILE:"EC_ONTARIO",USERNAME:"SohalI",USERPROFILE:"C:\\Users\\sohali",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Users/sohali/node-v20.17.0-win-x64/node-v20.17.0-win-x64/node.exe"};const Tm=Symbol(""),Cm=Symbol(""),c3=Symbol(""),cv=Symbol(""),$8=Symbol(""),au=Symbol(""),G8=Symbol(""),j8=Symbol(""),u3=Symbol(""),h3=Symbol(""),Mm=Symbol(""),p3=Symbol(""),B8=Symbol(""),d3=Symbol(""),f3=Symbol(""),m3=Symbol(""),y3=Symbol(""),g3=Symbol(""),v3=Symbol(""),W8=Symbol(""),z8=Symbol(""),uv=Symbol(""),hv=Symbol(""),b3=Symbol(""),_3=Symbol(""),Im=Symbol(""),Om=Symbol(""),w3=Symbol(""),x3=Symbol(""),$st=Symbol(""),S3=Symbol(""),pv=Symbol(""),Gst=Symbol(""),jst=Symbol(""),A3=Symbol(""),Bst=Symbol(""),Wst=Symbol(""),E3=Symbol(""),q8=Symbol(""),xp={[Tm]:"Fragment",[Cm]:"Teleport",[c3]:"Suspense",[cv]:"KeepAlive",[$8]:"BaseTransition",[au]:"openBlock",[G8]:"createBlock",[j8]:"createElementBlock",[u3]:"createVNode",[h3]:"createElementVNode",[Mm]:"createCommentVNode",[p3]:"createTextVNode",[B8]:"createStaticVNode",[d3]:"resolveComponent",[f3]:"resolveDynamicComponent",[m3]:"resolveDirective",[y3]:"resolveFilter",[g3]:"withDirectives",[v3]:"renderList",[W8]:"renderSlot",[z8]:"createSlots",[uv]:"toDisplayString",[hv]:"mergeProps",[b3]:"normalizeClass",[_3]:"normalizeStyle",[Im]:"normalizeProps",[Om]:"guardReactiveProps",[w3]:"toHandlers",[x3]:"camelize",[$st]:"capitalize",[S3]:"toHandlerKey",[pv]:"setBlockTracking",[Gst]:"pushScopeId",[jst]:"popScopeId",[A3]:"withCtx",[Bst]:"unref",[Wst]:"isRef",[E3]:"withMemo",[q8]:"isMemoSame"};function zst(t){Object.getOwnPropertySymbols(t).forEach(e=>{xp[e]=t[e]})}const br={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function qst(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:br}}function Pm(t,e,n,i,r,s,o,a=!1,l=!1,c=!1,p=br){return t&&(a?(t.helper(au),t.helper(Ep(t.inSSR,c))):t.helper(Ap(t.inSSR,c)),o&&t.helper(g3)),{type:13,tag:e,props:n,children:i,patchFlag:r,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:p}}function lu(t,e=br){return{type:17,loc:e,elements:t}}function Hr(t,e=br){return{type:15,loc:e,properties:t}}function Mn(t,e){return{type:16,loc:br,key:Vt(t)?Qt(t,!0):t,value:e}}function Qt(t,e=!1,n=br,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function Es(t,e=br){return{type:8,loc:e,children:t}}function Vn(t,e=[],n=br){return{type:14,loc:n,callee:t,arguments:e}}function Sp(t,e=void 0,n=!1,i=!1,r=br){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:r}}function T3(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:br}}function Vst(t,e,n=!1){return{type:20,index:t,value:e,needPauseTracking:n,needArraySpread:!1,loc:br}}function Hst(t){return{type:21,body:t,loc:br}}function Ap(t,e){return t||e?u3:h3}function Ep(t,e){return t||e?G8:j8}function C3(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(Ap(i,t.isComponent)),e(au),e(Ep(i,t.isComponent)))}const V8=new Uint8Array([123,123]),H8=new Uint8Array([125,125]);function Y8(t){return t>=97&&t<=122||t>=65&&t<=90}function _r(t){return t===32||t===10||t===9||t===12||t===13}function Il(t){return t===47||t===62||_r(t)}function dv(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const xi={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Yst=class{constructor(t,e){this.stack=t,this.cbs=e,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=V8,this.delimiterClose=H8,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=V8,this.delimiterClose=H8}getPos(t){let e=1,n=t+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(t>r){e=i+2,n=t-r;break}}return{column:n,line:e,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?Il(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||_r(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const n=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=n}this.sectionStart=e+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===xi.TitleEnd||this.currentSequence===xi.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===xi.Cdata[this.sequenceIndex]?++this.sequenceIndex===xi.Cdata.length&&(this.state=28,this.currentSequence=xi.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);if(e===10&&this.newlines.push(this.index),e===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===xi.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,e){this.enterRCDATA(t,e),this.state=31}enterRCDATA(t,e){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=e}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Y8(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Il(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Il(t)){const e=this.buffer.slice(this.sectionStart,this.index);e!=="template"&&this.enterRCDATA(dv("</"+e),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){_r(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Y8(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||_r(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):_r(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):_r(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Il(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Il(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Il(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Il(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Il(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):_r(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):_r(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,e){(t===e||this.fastForwardTo(e))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){_r(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=xi.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===xi.ScriptEnd[3]?this.startSpecial(xi.ScriptEnd,4):t===xi.StyleEnd[3]?this.startSpecial(xi.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===xi.TitleEnd[3]?this.startSpecial(xi.TitleEnd,4):t===xi.TextareaEnd[3]?this.startSpecial(xi.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(e===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(e);break}case 2:{this.stateInterpolationOpen(e);break}case 3:{this.stateInterpolation(e);break}case 4:{this.stateInterpolationClose(e);break}case 31:{this.stateSpecialStartSequence(e);break}case 32:{this.stateInRCDATA(e);break}case 26:{this.stateCDATASequence(e);break}case 19:{this.stateInAttrValueDoubleQuotes(e);break}case 12:{this.stateInAttrName(e);break}case 13:{this.stateInDirName(e);break}case 14:{this.stateInDirArg(e);break}case 15:{this.stateInDynamicDirArg(e);break}case 16:{this.stateInDirModifier(e);break}case 28:{this.stateInCommentLike(e);break}case 27:{this.stateInSpecialComment(e);break}case 11:{this.stateBeforeAttrName(e);break}case 6:{this.stateInTagName(e);break}case 34:{this.stateInSFCRootTagName(e);break}case 9:{this.stateInClosingTagName(e);break}case 5:{this.stateBeforeTagName(e);break}case 17:{this.stateAfterAttrName(e);break}case 20:{this.stateInAttrValueSingleQuotes(e);break}case 18:{this.stateBeforeAttrValue(e);break}case 8:{this.stateBeforeClosingTagName(e);break}case 10:{this.stateAfterClosingTagName(e);break}case 29:{this.stateBeforeSpecialS(e);break}case 30:{this.stateBeforeSpecialT(e);break}case 21:{this.stateInAttrValueNoQuotes(e);break}case 7:{this.stateInSelfClosingTag(e);break}case 23:{this.stateInDeclaration(e);break}case 22:{this.stateBeforeDeclaration(e);break}case 25:{this.stateBeforeComment(e);break}case 24:{this.stateInProcessingInstruction(e);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===xi.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){}};function J8(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function cu(t,e){const n=J8("MODE",e),i=J8(t,e);return n===3?i===!0:i!==!1}function Nm(t,e,n,...i){return cu(t,e)}function M3(t){throw t}function Z8(t){}function nn(t,e,n,i){const r=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(r));return s.code=t,s.loc=e,s}const tr=t=>t.type===4&&t.isStatic;function K8(t){switch(t){case"Teleport":case"teleport":return Cm;case"Suspense":case"suspense":return c3;case"KeepAlive":case"keep-alive":return cv;case"BaseTransition":case"base-transition":return $8}}const Jst=/^\d|[^\$\w\xA0-\uFFFF]/,I3=t=>!Jst.test(t),Zst=/[A-Za-z_$\xA0-\uFFFF]/,Kst=/[\.\?\w$\xA0-\uFFFF]/,Xst=/\s+[.[]\s*|\s*[.[]\s+/g,X8=t=>t.type===4?t.content:t.loc.source,Qst=t=>{const e=X8(t).trim().replace(Xst,a=>a.trim());let n=0,i=[],r=0,s=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(n){case 0:if(l==="[")i.push(n),n=1,r++;else if(l==="(")i.push(n),n=2,s++;else if(!(a===0?Zst:Kst).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(n),n=3,o=l):l==="["?r++:l==="]"&&(--r||(n=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(n),n=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===e.length-1)return!1;--s||(n=i.pop())}break;case 3:l===o&&(n=i.pop(),o=null);break}}return!r&&!s},Q8=Qst,tot=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,eot=t=>tot.test(X8(t)),not=eot;function Yr(t,e,n=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===7&&(n||r.exp)&&(Vt(e)?r.name===e:e.test(r.name)))return r}}function fv(t,e,n=!1,i=!1){for(let r=0;r<t.props.length;r++){const s=t.props[r];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&uu(s.arg,e))return s}}function uu(t,e){return!!(t&&tr(t)&&t.content===e)}function iot(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function O3(t){return t.type===5||t.type===2}function rot(t){return t.type===7&&t.name==="slot"}function mv(t){return t.type===1&&t.tagType===3}function yv(t){return t.type===1&&t.tagType===2}const sot=new Set([Im,Om]);function tR(t,e=[]){if(t&&!Vt(t)&&t.type===14){const n=t.callee;if(!Vt(n)&&sot.has(n))return tR(t.arguments[0],e.concat(t))}return[t,e]}function gv(t,e,n){let i,r=t.type===13?t.props:t.arguments[2],s=[],o;if(r&&!Vt(r)&&r.type===14){const a=tR(r);r=a[0],s=a[1],o=s[s.length-1]}if(r==null||Vt(r))i=Hr([e]);else if(r.type===14){const a=r.arguments[0];!Vt(a)&&a.type===15?eR(e,a)||a.properties.unshift(e):r.callee===w3?i=Vn(n.helper(hv),[Hr([e]),r]):r.arguments.unshift(Hr([e])),!i&&(i=r)}else r.type===15?(eR(e,r)||r.properties.unshift(e),i=r):(i=Vn(n.helper(hv),[Hr([e]),r]),o&&o.callee===Om&&(o=s[s.length-2]));t.type===13?o?o.arguments[0]=i:t.props=i:o?o.arguments[0]=i:t.arguments[2]=i}function eR(t,e){let n=!1;if(t.key.type===4){const i=t.key.content;n=e.properties.some(r=>r.key.type===4&&r.key.content===i)}return n}function Lm(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,i)=>n==="-"?"_":t.charCodeAt(i).toString())}`}function oot(t){return t.type===14&&t.callee===E3?t.arguments[1].returns:t}const aot=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,nR={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Kf,isPreTag:Kf,isIgnoreNewlineTag:Kf,isCustomElement:Kf,onError:M3,onWarn:Z8,comments:l3.NODE_ENV!=="production",prefixIdentifiers:!1};let xe=nR,km=null,ra="",Si=null,de=null,er="",sa=-1,hu=-1,P3=0,Ol=!1,N3=null;const rn=[],bn=new Yst(rn,{onerr:oa,ontext(t,e){vv(oi(t,e),t,e)},ontextentity(t,e,n){vv(t,e,n)},oninterpolation(t,e){if(Ol)return vv(oi(t,e),t,e);let n=t+bn.delimiterOpen.length,i=e-bn.delimiterClose.length;for(;_r(ra.charCodeAt(n));)n++;for(;_r(ra.charCodeAt(i-1));)i--;let r=oi(n,i);r.includes("&")&&(r=xe.decodeEntities(r,!1)),L3({type:5,content:_v(r,!1,Dn(n,i)),loc:Dn(t,e)})},onopentagname(t,e){const n=oi(t,e);Si={type:1,tag:n,ns:xe.getNamespace(n,rn[0],xe.ns),tagType:0,props:[],children:[],loc:Dn(t-1,e),codegenNode:void 0}},onopentagend(t){rR(t)},onclosetag(t,e){const n=oi(t,e);if(!xe.isVoidTag(n)){let i=!1;for(let r=0;r<rn.length;r++)if(rn[r].tag.toLowerCase()===n.toLowerCase()){i=!0,r>0&&oa(24,rn[0].loc.start.offset);for(let s=0;s<=r;s++){const o=rn.shift();bv(o,e,s<r)}break}i||oa(23,sR(t,60))}},onselfclosingtag(t){const e=Si.tag;Si.isSelfClosing=!0,rR(t),rn[0]&&rn[0].tag===e&&bv(rn.shift(),t)},onattribname(t,e){de={type:6,name:oi(t,e),nameLoc:Dn(t,e),value:void 0,loc:Dn(t)}},ondirname(t,e){const n=oi(t,e),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Ol&&i===""&&oa(26,t),Ol||i==="")de={type:6,name:n,nameLoc:Dn(t,e),value:void 0,loc:Dn(t)};else if(de={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Qt("prop")]:[],loc:Dn(t)},i==="pre"){Ol=bn.inVPre=!0,N3=Si;const r=Si.props;for(let s=0;s<r.length;s++)r[s].type===7&&(r[s]=got(r[s]))}},ondirarg(t,e){if(t===e)return;const n=oi(t,e);if(Ol)de.name+=n,pu(de.nameLoc,e);else{const i=n[0]!=="[";de.arg=_v(i?n:n.slice(1,-1),i,Dn(t,e),i?3:0)}},ondirmodifier(t,e){const n=oi(t,e);if(Ol)de.name+="."+n,pu(de.nameLoc,e);else if(de.name==="slot"){const i=de.arg;i&&(i.content+="."+n,pu(i.loc,e))}else{const i=Qt(n,!0,Dn(t,e));de.modifiers.push(i)}},onattribdata(t,e){er+=oi(t,e),sa<0&&(sa=t),hu=e},onattribentity(t,e,n){er+=t,sa<0&&(sa=e),hu=n},onattribnameend(t){const e=de.loc.start.offset,n=oi(e,t);de.type===7&&(de.rawName=n),Si.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&oa(2,e)},onattribend(t,e){if(Si&&de){if(pu(de.loc,e),t!==0)if(er.includes("&")&&(er=xe.decodeEntities(er,!0)),de.type===6)de.name==="class"&&(er=lR(er).trim()),t===1&&!er&&oa(13,e),de.value={type:2,content:er,loc:t===1?Dn(sa,hu):Dn(sa-1,hu+1)},bn.inSFCRoot&&Si.tag==="template"&&de.name==="lang"&&er&&er!=="html"&&bn.enterRCDATA(dv("</template"),0);else{let n=0;de.exp=_v(er,!1,Dn(sa,hu),0,n),de.name==="for"&&(de.forParseResult=cot(de.exp));let i=-1;de.name==="bind"&&(i=de.modifiers.findIndex(r=>r.content==="sync"))>-1&&Nm("COMPILER_V_BIND_SYNC",xe,de.loc,de.rawName)&&(de.name="model",de.modifiers.splice(i,1))}(de.type!==7||de.name!=="pre")&&Si.props.push(de)}er="",sa=hu=-1},oncomment(t,e){xe.comments&&L3({type:3,content:oi(t,e),loc:Dn(t-4,e+3)})},onend(){const t=ra.length;for(let e=0;e<rn.length;e++)bv(rn[e],t-1),oa(24,rn[e].loc.start.offset)},oncdata(t,e){rn[0].ns!==0?vv(oi(t,e),t,e):oa(1,t-9)},onprocessinginstruction(t){(rn[0]?rn[0].ns:xe.ns)===0&&oa(21,t-1)}}),iR=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,lot=/^\(|\)$/g;function cot(t){const e=t.loc,n=t.content,i=n.match(aot);if(!i)return;const[,r,s]=i,o=(d,f,y=!1)=>{const g=e.start.offset+f,_=g+d.length;return _v(d,!1,Dn(g,_),0,y?1:0)},a={source:o(s.trim(),n.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(lot,"").trim();const c=r.indexOf(l),p=l.match(iR);if(p){l=l.replace(iR,"").trim();const d=p[1].trim();let f;if(d&&(f=n.indexOf(d,c+l.length),a.key=o(d,f,!0)),p[2]){const y=p[2].trim();y&&(a.index=o(y,n.indexOf(y,a.key?f+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function oi(t,e){return ra.slice(t,e)}function rR(t){bn.inSFCRoot&&(Si.innerLoc=Dn(t+1,t+1)),L3(Si);const{tag:e,ns:n}=Si;n===0&&xe.isPreTag(e)&&P3++,xe.isVoidTag(e)?bv(Si,t):(rn.unshift(Si),(n===1||n===2)&&(bn.inXML=!0)),Si=null}function vv(t,e,n){{const s=rn[0]&&rn[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=xe.decodeEntities(t,!1))}const i=rn[0]||km,r=i.children[i.children.length-1];r&&r.type===2?(r.content+=t,pu(r.loc,n)):i.children.push({type:2,content:t,loc:Dn(e,n)})}function bv(t,e,n=!1){n?pu(t.loc,sR(e,60)):pu(t.loc,uot(e,62)+1),bn.inSFCRoot&&(t.children.length?t.innerLoc.end=he({},t.children[t.children.length-1].loc.end):t.innerLoc.end=he({},t.innerLoc.start),t.innerLoc.source=oi(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:r,children:s}=t;if(Ol||(i==="slot"?t.tagType=2:oR(t)?t.tagType=3:pot(t)&&(t.tagType=1)),bn.inRCDATA||(t.children=aR(s)),r===0&&xe.isIgnoreNewlineTag(i)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}r===0&&xe.isPreTag(i)&&P3--,N3===t&&(Ol=bn.inVPre=!1,N3=null),bn.inXML&&(rn[0]?rn[0].ns:xe.ns)===0&&(bn.inXML=!1);{const o=t.props;if(!bn.inSFCRoot&&cu("COMPILER_NATIVE_TEMPLATE",xe)&&t.tag==="template"&&!oR(t)){const l=rn[0]||km,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Nm("COMPILER_INLINE_TEMPLATE",xe,a.loc)&&t.children.length&&(a.value={type:2,content:oi(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function uot(t,e){let n=t;for(;ra.charCodeAt(n)!==e&&n<ra.length-1;)n++;return n}function sR(t,e){let n=t;for(;ra.charCodeAt(n)!==e&&n>=0;)n--;return n}const hot=new Set(["if","else","else-if","for","slot"]);function oR({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&hot.has(e[n].name))return!0}return!1}function pot({tag:t,props:e}){if(xe.isCustomElement(t))return!1;if(t==="component"||dot(t.charCodeAt(0))||K8(t)||xe.isBuiltInComponent&&xe.isBuiltInComponent(t)||xe.isNativeTag&&!xe.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const i=e[n];if(i.type===6){if(i.name==="is"&&i.value&&(i.value.content.startsWith("vue:")||Nm("COMPILER_IS_ON_ELEMENT",xe,i.loc)))return!0}else if(i.name==="bind"&&uu(i.arg,"is")&&Nm("COMPILER_IS_ON_ELEMENT",xe,i.loc))return!0}return!1}function dot(t){return t>64&&t<91}const fot=/\r\n/g;function aR(t,e){const n=xe.whitespace!=="preserve";let i=!1;for(let r=0;r<t.length;r++){const s=t[r];if(s.type===2)if(P3)s.content=s.content.replace(fot,`
`);else if(mot(s.content)){const o=t[r-1]&&t[r-1].type,a=t[r+1]&&t[r+1].type;!o||!a||n&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&yot(s.content)))?(i=!0,t[r]=null):s.content=" "}else n&&(s.content=lR(s.content))}return i?t.filter(Boolean):t}function mot(t){for(let e=0;e<t.length;e++)if(!_r(t.charCodeAt(e)))return!1;return!0}function yot(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function lR(t){let e="",n=!1;for(let i=0;i<t.length;i++)_r(t.charCodeAt(i))?n||(e+=" ",n=!0):(e+=t[i],n=!1);return e}function L3(t){(rn[0]||km).children.push(t)}function Dn(t,e){return{start:bn.getPos(t),end:e==null?e:bn.getPos(e),source:e==null?e:oi(t,e)}}function pu(t,e){t.end=bn.getPos(e),t.source=oi(t.start.offset,e)}function got(t){const e={type:6,name:t.rawName,nameLoc:Dn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function _v(t,e=!1,n,i=0,r=0){return Qt(t,e,n,i)}function oa(t,e,n){xe.onError(nn(t,Dn(e,e)))}function vot(){bn.reset(),Si=null,de=null,er="",sa=-1,hu=-1,rn.length=0}function bot(t,e){if(vot(),ra=t,xe=he({},nR),e){let r;for(r in e)e[r]!=null&&(xe[r]=e[r])}bn.mode=xe.parseMode==="html"?1:xe.parseMode==="sfc"?2:0,bn.inXML=xe.ns===1||xe.ns===2;const n=e&&e.delimiters;n&&(bn.delimiterOpen=dv(n[0]),bn.delimiterClose=dv(n[1]));const i=km=qst([],t);return bn.parse(ra),i.loc=Dn(0,t.length),i.children=aR(i.children),km=null,i}function _ot(t,e){wv(t,void 0,e,cR(t,t.children[0]))}function cR(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!yv(e)}function wv(t,e,n,i=!1,r=!1){const{children:s}=t,o=[];for(let p=0;p<s.length;p++){const d=s[p];if(d.type===1&&d.tagType===0){const f=i?0:wr(d,n);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&hR(d,n)>=2){const _=pR(d);_&&(y.props=n.hoist(_))}y.dynamicProps&&(y.dynamicProps=n.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:wr(d,n))>=2){o.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&n.scopes.vSlot++,wv(d,t,n,!1,r),f&&n.scopes.vSlot--}else if(d.type===11)wv(d,t,n,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)wv(d.branches[f],t,n,d.branches[f].children.length===1,r)}let a=!1;if(o.length===s.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&St(t.codegenNode.children))t.codegenNode.children=l(lu(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!St(t.codegenNode.children)&&t.codegenNode.children.type===15){const p=c(t.codegenNode,"default");p&&(p.returns=l(lu(p.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!St(e.codegenNode.children)&&e.codegenNode.children.type===15){const p=Yr(t,"slot",!0),d=p&&p.arg&&c(e.codegenNode,p.arg);d&&(d.returns=l(lu(d.returns)),a=!0)}}if(!a)for(const p of o)p.codegenNode=n.cache(p.codegenNode);function l(p){const d=n.cache(p);return r&&n.hmr&&(d.needArraySpread=!0),d}function c(p,d){if(p.children&&!St(p.children)&&p.children.type===15){const f=p.children.properties.find(y=>y.key===d||y.key.content===d);return f&&f.value}}o.length&&n.transformHoist&&n.transformHoist(s,n,t)}function wr(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=n.get(t);if(i!==void 0)return i;const r=t.codegenNode;if(r.type!==13||r.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(r.patchFlag===void 0){let o=3;const a=hR(t,e);if(a===0)return n.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const c=wr(t.children[l],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const p=wr(c.exp,e);if(p===0)return n.set(t,0),0;p<o&&(o=p)}}if(r.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return n.set(t,0),0;e.removeHelper(au),e.removeHelper(Ep(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Ap(e.inSSR,r.isComponent))}return n.set(t,o),o}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return wr(t.content,e);case 4:return t.constType;case 8:let s=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Vt(a)||mr(a))continue;const l=wr(a,e);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const wot=new Set([b3,_3,Im,Om]);function uR(t,e){if(t.type===14&&!Vt(t.callee)&&wot.has(t.callee)){const n=t.arguments[0];if(n.type===4)return wr(n,e);if(n.type===14)return uR(n,e)}return 0}function hR(t,e){let n=3;const i=pR(t);if(i&&i.type===15){const{properties:r}=i;for(let s=0;s<r.length;s++){const{key:o,value:a}=r[s],l=wr(o,e);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=wr(a,e):a.type===14?c=uR(a,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function pR(t){const e=t.codegenNode;if(e.type===13)return e.props}function xot(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:r=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=si,isCustomElement:p=si,expressionPlugins:d=[],scopeId:f=null,slotted:y=!0,ssr:g=!1,inSSR:_=!1,ssrCssVars:w="",bindingMetadata:A=le,inline:T=!1,isTS:x=!1,onError:b=M3,onWarn:I=Z8,compatConfig:O}){const L=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),R={filename:e,selfName:L&&dl(Ke(L[1])),prefixIdentifiers:n,hoistStatic:i,hmr:r,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:p,expressionPlugins:d,scopeId:f,slotted:y,ssr:g,inSSR:_,ssrCssVars:w,bindingMetadata:A,inline:T,isTS:x,onError:b,onWarn:I,compatConfig:O,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(D){const W=R.helpers.get(D)||0;return R.helpers.set(D,W+1),D},removeHelper(D){const W=R.helpers.get(D);if(W){const B=W-1;B?R.helpers.set(D,B):R.helpers.delete(D)}},helperString(D){return`_${xp[R.helper(D)]}`},replaceNode(D){R.parent.children[R.childIndex]=R.currentNode=D},removeNode(D){const W=R.parent.children,B=D?W.indexOf(D):R.currentNode?R.childIndex:-1;!D||D===R.currentNode?(R.currentNode=null,R.onNodeRemoved()):R.childIndex>B&&(R.childIndex--,R.onNodeRemoved()),R.parent.children.splice(B,1)},onNodeRemoved:si,addIdentifiers(D){},removeIdentifiers(D){},hoist(D){Vt(D)&&(D=Qt(D)),R.hoists.push(D);const W=Qt(`_hoisted_${R.hoists.length}`,!1,D.loc,2);return W.hoisted=D,W},cache(D,W=!1){const B=Vst(R.cached.length,D,W);return R.cached.push(B),B}};return R.filters=new Set,R}function Sot(t,e){const n=xot(t,e);xv(t,n),e.hoistStatic&&_ot(t,n),e.ssr||Aot(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function Aot(t,e){const{helper:n}=e,{children:i}=t;if(i.length===1){const r=i[0];if(cR(t,r)&&r.codegenNode){const s=r.codegenNode;s.type===13&&C3(s,e),t.codegenNode=s}else t.codegenNode=r}else if(i.length>1){let r=64;t.codegenNode=Pm(e,n(Tm),void 0,t.children,r,void 0,void 0,!0,void 0,!1)}}function Eot(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];Vt(r)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=i,xv(r,e))}}function xv(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let s=0;s<n.length;s++){const o=n[s](t,e);if(o&&(St(o)?i.push(...o):i.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Mm);break;case 5:e.ssr||e.helper(uv);break;case 9:for(let s=0;s<t.branches.length;s++)xv(t.branches[s],e);break;case 10:case 11:case 1:case 0:Eot(t,e);break}e.currentNode=t;let r=i.length;for(;r--;)i[r]()}function dR(t,e){const n=Vt(t)?i=>i===t:i=>t.test(i);return(i,r)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(rot))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&n(l.name)){s.splice(a,1),a--;const c=e(i,l,r);c&&o.push(c)}}return o}}}const Sv="/*@__PURE__*/",fR=t=>`${xp[t]}: _${xp[t]}`;function Tot(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:p=!1,isTS:d=!1,inSSR:f=!1}){const y={mode:e,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:p,isTS:d,inSSR:f,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(_){return`_${xp[_]}`},push(_,w=-2,A){y.code+=_},indent(){g(++y.indentLevel)},deindent(_=!1){_?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(_){y.push(`
`+"  ".repeat(_),0)}return y}function Cot(t,e={}){const n=Tot(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:p}=n,d=Array.from(t.helpers),f=d.length>0,y=!s&&i!=="module";Mot(t,n);const g=p?"ssrRender":"render",_=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${g}(${_}) {`),o(),y&&(r("with (_ctx) {"),o(),f&&(r(`const { ${d.map(fR).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(k3(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(k3(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),k3(t.filters,"filter",n),l()),t.temps>0){r("let ");for(let w=0;w<t.temps;w++)r(`${w>0?", ":""}_temp${w}`)}return(t.components.length||t.directives.length||t.temps)&&(r(`
`,0),l()),p||r("return "),t.codegenNode?Ai(t.codegenNode,n):r("null"),y&&(a(),r("}")),a(),r("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function Mot(t,e){const{ssr:n,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,p=Array.from(t.helpers);if(p.length>0&&(r(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[u3,h3,Mm,p3,B8].filter(f=>p.includes(f)).map(fR).join(", ");r(`const { ${d} } = _Vue
`,-1)}Iot(t.hoists,e),s(),r("return ")}function k3(t,e,{helper:n,push:i,newline:r,isTS:s}){const o=n(e==="filter"?y3:e==="component"?d3:m3);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${Lm(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<t.length-1&&r()}}function Iot(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i}=e;i();for(let r=0;r<t.length;r++){const s=t[r];s&&(n(`const _hoisted_${r+1} = `),Ai(s,e),i())}e.pure=!1}function R3(t,e){const n=t.length>3||l3.NODE_ENV!=="production";e.push("["),n&&e.indent(),Rm(t,e,n),n&&e.deindent(),e.push("]")}function Rm(t,e,n=!1,i=!0){const{push:r,newline:s}=e;for(let o=0;o<t.length;o++){const a=t[o];Vt(a)?r(a,-3):St(a)?R3(a,e):Ai(a,e),o<t.length-1&&(n?(i&&r(","),s()):i&&r(", "))}}function Ai(t,e){if(Vt(t)){e.push(t,-3);return}if(mr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Ai(t.codegenNode,e);break;case 2:Oot(t,e);break;case 4:mR(t,e);break;case 5:Pot(t,e);break;case 12:Ai(t.codegenNode,e);break;case 8:yR(t,e);break;case 3:Lot(t,e);break;case 13:kot(t,e);break;case 14:Dot(t,e);break;case 15:Fot(t,e);break;case 17:Uot(t,e);break;case 18:$ot(t,e);break;case 19:Got(t,e);break;case 20:jot(t,e);break;case 21:Rm(t.body,e,!0,!1);break}}function Oot(t,e){e.push(JSON.stringify(t.content),-3,t)}function mR(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,-3,t)}function Pot(t,e){const{push:n,helper:i,pure:r}=e;r&&n(Sv),n(`${i(uv)}(`),Ai(t.content,e),n(")")}function yR(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];Vt(i)?e.push(i,-3):Ai(i,e)}}function Not(t,e){const{push:n}=e;if(t.type===8)n("["),yR(t,e),n("]");else if(t.isStatic){const i=I3(t.content)?t.content:JSON.stringify(t.content);n(i,-2,t)}else n(`[${t.content}]`,-3,t)}function Lot(t,e){const{push:n,helper:i,pure:r}=e;r&&n(Sv),n(`${i(Mm)}(${JSON.stringify(t.content)})`,-3,t)}function kot(t,e){const{push:n,helper:i,pure:r}=e,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:p,isBlock:d,disableTracking:f,isComponent:y}=t;let g;l&&(g=String(l)),p&&n(i(g3)+"("),d&&n(`(${i(au)}(${f?"true":""}), `),r&&n(Sv);const _=d?Ep(e.inSSR,y):Ap(e.inSSR,y);n(i(_)+"(",-2,t),Rm(Rot([s,o,a,g,c]),e),n(")"),d&&n(")"),p&&(n(", "),Ai(p,e),n(")"))}function Rot(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function Dot(t,e){const{push:n,helper:i,pure:r}=e,s=Vt(t.callee)?t.callee:i(t.callee);r&&n(Sv),n(s+"(",-2,t),Rm(t.arguments,e),n(")")}function Fot(t,e){const{push:n,indent:i,deindent:r,newline:s}=e,{properties:o}=t;if(!o.length){n("{}",-2,t);return}const a=o.length>1||l3.NODE_ENV!=="production";n(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:p}=o[l];Not(c,e),n(": "),Ai(p,e),l<o.length-1&&(n(","),s())}a&&r(),n(a?"}":" }")}function Uot(t,e){R3(t.elements,e)}function $ot(t,e){const{push:n,indent:i,deindent:r}=e,{params:s,returns:o,body:a,newline:l,isSlot:c}=t;c&&n(`_${xp[A3]}(`),n("(",-2,t),St(s)?Rm(s,e):s&&Ai(s,e),n(") => "),(l||a)&&(n("{"),i()),o?(l&&n("return "),St(o)?R3(o,e):Ai(o,e)):a&&Ai(a,e),(l||a)&&(r(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function Got(t,e){const{test:n,consequent:i,alternate:r,newline:s}=t,{push:o,indent:a,deindent:l,newline:c}=e;if(n.type===4){const d=!I3(n.content);d&&o("("),mR(n,e),d&&o(")")}else o("("),Ai(n,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),Ai(i,e),e.indentLevel--,s&&c(),s||o(" "),o(": ");const p=r.type===19;p||e.indentLevel++,Ai(r,e),p||e.indentLevel--,s&&l(!0)}function jot(t,e){const{push:n,helper:i,indent:r,deindent:s,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&n("[...("),n(`_cache[${t.index}] || (`),a&&(r(),n(`${i(pv)}(-1),`),o(),n("(")),n(`_cache[${t.index}] = `),Ai(t.value,e),a&&(n(`).cacheIndex = ${t.index},`),o(),n(`${i(pv)}(1),`),o(),n(`_cache[${t.index}]`),s()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Bot=dR(/^(if|else|else-if)$/,(t,e,n)=>Wot(t,e,n,(i,r,s)=>{const o=n.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)i.codegenNode=vR(r,l,n);else{const c=zot(i.codegenNode);c.alternate=vR(r,l+i.branches.length-1,n)}}}));function Wot(t,e,n,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:t.loc;n.onError(nn(28,e.loc)),e.exp=Qt("true",!1,r)}if(e.name==="if"){const r=gR(t,e),s={type:9,loc:t.loc,branches:[r]};if(n.replaceNode(s),i)return i(s,r,!0)}else{const r=n.parent.children;let s=r.indexOf(t);for(;s-->=-1;){const o=r[s];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(nn(30,t.loc)),n.removeNode();const a=gR(t,e);o.branches.push(a);const l=i&&i(o,a,!1);xv(a,n),l&&l(),n.currentNode=null}else n.onError(nn(30,t.loc));break}}}function gR(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Yr(t,"for")?t.children:[t],userKey:fv(t,"key"),isTemplateIf:n}}function vR(t,e,n){return t.condition?T3(t.condition,bR(t,e,n),Vn(n.helper(Mm),['""',"true"])):bR(t,e,n)}function bR(t,e,n){const{helper:i}=n,r=Mn("key",Qt(`${e}`,!1,br,2)),{children:s}=t,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const a=o.codegenNode;return gv(a,r,n),a}else return Pm(n,i(Tm),Hr([r]),s,64,void 0,void 0,!0,!1,!1,t.loc);else{const a=o.codegenNode,l=oot(a);return l.type===13&&C3(l,n),gv(l,r,n),a}}function zot(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const qot=(t,e,n)=>{const{modifiers:i,loc:r}=t,s=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return n.onError(nn(52,s.loc)),{props:[Mn(s,Qt("",!0,r))]};_R(t),o=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=Ke(s.content):s.content=`${n.helperString(x3)}(${s.content})`:(s.children.unshift(`${n.helperString(x3)}(`),s.children.push(")"))),n.inSSR||(i.some(a=>a.content==="prop")&&wR(s,"."),i.some(a=>a.content==="attr")&&wR(s,"^")),{props:[Mn(s,o)]}},_R=(t,e)=>{const n=t.arg,i=Ke(n.content);t.exp=Qt(i,!1,n.loc)},wR=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Vot=dR("for",(t,e,n)=>{const{helper:i,removeHelper:r}=n;return Hot(t,e,n,s=>{const o=Vn(i(v3),[s.source]),a=mv(t),l=Yr(t,"memo"),c=fv(t,"key",!1,!0);c&&c.type===7&&!c.exp&&_R(c);const p=c&&(c.type===6?c.value?Qt(c.value.content,!0):void 0:c.exp),d=c&&p?Mn("key",p):null,f=s.source.type===4&&s.source.constType>0,y=f?64:c?128:256;return s.codegenNode=Pm(n,i(Tm),void 0,o,y,void 0,void 0,!0,!f,!1,t.loc),()=>{let g;const{children:_}=s,w=_.length!==1||_[0].type!==1,A=yv(t)?t:a&&t.children.length===1&&yv(t.children[0])?t.children[0]:null;if(A?(g=A.codegenNode,a&&d&&gv(g,d,n)):w?g=Pm(n,i(Tm),d?Hr([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(g=_[0].codegenNode,a&&d&&gv(g,d,n),g.isBlock!==!f&&(g.isBlock?(r(au),r(Ep(n.inSSR,g.isComponent))):r(Ap(n.inSSR,g.isComponent))),g.isBlock=!f,g.isBlock?(i(au),i(Ep(n.inSSR,g.isComponent))):i(Ap(n.inSSR,g.isComponent))),l){const T=Sp(D3(s.parseResult,[Qt("_cached")]));T.body=Hst([Es(["const _memo = (",l.exp,")"]),Es(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${n.helperString(q8)}(_cached, _memo)) return _cached`]),Es(["const _item = ",g]),Qt("_item.memo = _memo"),Qt("return _item")]),o.arguments.push(T,Qt("_cache"),Qt(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(Sp(D3(s.parseResult),g,!0))}})});function Hot(t,e,n,i){if(!e.exp){n.onError(nn(31,e.loc));return}const r=e.forParseResult;if(!r){n.onError(nn(32,e.loc));return}xR(r);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:p,index:d}=r,f={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:p,objectIndexAlias:d,parseResult:r,children:mv(t)?t.children:[t]};n.replaceNode(f),a.vFor++;const y=i&&i(f);return()=>{a.vFor--,y&&y()}}function xR(t,e){t.finalized||(t.finalized=!0)}function D3({value:t,key:e,index:n},i=[]){return Yot([t,e,n,...i])}function Yot(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,i)=>n||Qt("_".repeat(i+1),!1))}const SR=Qt("undefined",!1),Jot=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Yr(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},Zot=(t,e,n,i)=>Sp(t,n,!1,!0,n.length?n[0].loc:i);function Kot(t,e,n=Zot){e.helper(A3);const{children:i,loc:r}=t,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=Yr(t,"slot",!0);if(l){const{arg:w,exp:A}=l;w&&!tr(w)&&(a=!0),s.push(Mn(w||Qt("default",!0),n(A,void 0,i,r)))}let c=!1,p=!1;const d=[],f=new Set;let y=0;for(let w=0;w<i.length;w++){const A=i[w];let T;if(!mv(A)||!(T=Yr(A,"slot",!0))){A.type!==3&&d.push(A);continue}if(l){e.onError(nn(37,T.loc));break}c=!0;const{children:x,loc:b}=A,{arg:I=Qt("default",!0),exp:O,loc:L}=T;let R;tr(I)?R=I?I.content:"default":a=!0;const D=Yr(A,"for"),W=n(O,D,x,b);let B,G;if(B=Yr(A,"if"))a=!0,o.push(T3(B.exp,Av(I,W,y++),SR));else if(G=Yr(A,/^else(-if)?$/,!0)){let J=w,it;for(;J--&&(it=i[J],it.type===3););if(it&&mv(it)&&Yr(it,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=G.exp?T3(G.exp,Av(I,W,y++),SR):Av(I,W,y++)}else e.onError(nn(30,G.loc))}else if(D){a=!0;const J=D.forParseResult;J?(xR(J),o.push(Vn(e.helper(v3),[J.source,Sp(D3(J),Av(I,W),!0)]))):e.onError(nn(32,D.loc))}else{if(R){if(f.has(R)){e.onError(nn(38,L));continue}f.add(R),R==="default"&&(p=!0)}s.push(Mn(I,W))}}if(!l){const w=(A,T)=>{const x=n(A,void 0,T,r);return e.compatConfig&&(x.isNonScopedSlot=!0),Mn("default",x)};c?d.length&&d.some(A=>AR(A))&&(p?e.onError(nn(39,d[0].loc)):s.push(w(void 0,d))):s.push(w(void 0,i))}const g=a?2:Ev(t.children)?3:1;let _=Hr(s.concat(Mn("_",Qt(g+"",!1))),r);return o.length&&(_=Vn(e.helper(z8),[_,lu(o)])),{slots:_,hasDynamicSlots:a}}function Av(t,e,n){const i=[Mn("name",t),Mn("fn",e)];return n!=null&&i.push(Mn("key",Qt(String(n),!0))),Hr(i)}function Ev(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||Ev(n.children))return!0;break;case 9:if(Ev(n.branches))return!0;break;case 10:case 11:if(Ev(n.children))return!0;break}}return!1}function AR(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():AR(t.content)}const ER=new WeakMap,Xot=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:i}=t,r=t.tagType===1;let s=r?Qot(t,e):`"${n}"`;const o=Ne(s)&&s.callee===f3;let a,l,c=0,p,d,f,y=o||s===Cm||s===c3||!r&&(n==="svg"||n==="foreignObject"||n==="math");if(i.length>0){const g=TR(t,e,void 0,r,o);a=g.props,c=g.patchFlag,d=g.dynamicPropNames;const _=g.directives;f=_&&_.length?lu(_.map(w=>eat(w,e))):void 0,g.shouldUseBlock&&(y=!0)}if(t.children.length>0)if(s===cv&&(y=!0,c|=1024),r&&s!==Cm&&s!==cv){const{slots:g,hasDynamicSlots:_}=Kot(t,e);l=g,_&&(c|=1024)}else if(t.children.length===1&&s!==Cm){const g=t.children[0],_=g.type,w=_===5||_===8;w&&wr(g,e)===0&&(c|=1),w||_===2?l=g:l=t.children}else l=t.children;d&&d.length&&(p=nat(d)),t.codegenNode=Pm(e,s,a,l,c===0?void 0:c,p,f,!!y,!1,r,t.loc)};function Qot(t,e,n=!1){let{tag:i}=t;const r=F3(i),s=fv(t,"is",!1,!0);if(s)if(r||cu("COMPILER_IS_ON_ELEMENT",e)){let a;if(s.type===6?a=s.value&&Qt(s.value.content,!0):(a=s.exp,a||(a=Qt("is",!1,s.arg.loc))),a)return Vn(e.helper(f3),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const o=K8(i)||e.isBuiltInComponent(i);return o?(n||e.helper(o),o):(e.helper(d3),e.components.add(i),Lm(i,"component"))}function TR(t,e,n=t.props,i,r,s=!1){const{tag:o,loc:a,children:l}=t;let c=[];const p=[],d=[],f=l.length>0;let y=!1,g=0,_=!1,w=!1,A=!1,T=!1,x=!1,b=!1;const I=[],O=W=>{c.length&&(p.push(Hr(CR(c),a)),c=[]),W&&p.push(W)},L=()=>{e.scopes.vFor>0&&c.push(Mn(Qt("ref_for",!0),Qt("true")))},R=({key:W,value:B})=>{if(tr(W)){const G=W.content,J=Hc(G);if(J&&(!i||r)&&G.toLowerCase()!=="onclick"&&G!=="onUpdate:modelValue"&&!pl(G)&&(T=!0),J&&pl(G)&&(b=!0),J&&B.type===14&&(B=B.arguments[0]),B.type===20||(B.type===4||B.type===8)&&wr(B,e)>0)return;G==="ref"?_=!0:G==="class"?w=!0:G==="style"?A=!0:G!=="key"&&!I.includes(G)&&I.push(G),i&&(G==="class"||G==="style")&&!I.includes(G)&&I.push(G)}else x=!0};for(let W=0;W<n.length;W++){const B=n[W];if(B.type===6){const{loc:G,name:J,nameLoc:it,value:u}=B;let m=!0;if(J==="ref"&&(_=!0,L()),J==="is"&&(F3(o)||u&&u.content.startsWith("vue:")||cu("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(Mn(Qt(J,!0,it),Qt(u?u.content:"",m,u?u.loc:G)))}else{const{name:G,arg:J,exp:it,loc:u,modifiers:m}=B,S=G==="bind",N=G==="on";if(G==="slot"){i||e.onError(nn(40,u));continue}if(G==="once"||G==="memo"||G==="is"||S&&uu(J,"is")&&(F3(o)||cu("COMPILER_IS_ON_ELEMENT",e))||N&&s)continue;if((S&&uu(J,"key")||N&&f&&uu(J,"vue:before-update"))&&(y=!0),S&&uu(J,"ref")&&L(),!J&&(S||N)){if(x=!0,it)if(S){if(L(),O(),cu("COMPILER_V_BIND_OBJECT_ORDER",e)){p.unshift(it);continue}p.push(it)}else O({type:14,loc:u,callee:e.helper(w3),arguments:i?[it]:[it,"true"]});else e.onError(nn(S?34:35,u));continue}S&&m.some(X=>X.content==="prop")&&(g|=32);const V=e.directiveTransforms[G];if(V){const{props:X,needRuntime:ft}=V(B,t,e);!s&&X.forEach(R),N&&J&&!tr(J)?O(Hr(X,a)):c.push(...X),ft&&(d.push(B),mr(ft)&&ER.set(B,ft))}else iit(G)||(d.push(B),f&&(y=!0))}}let D;if(p.length?(O(),p.length>1?D=Vn(e.helper(hv),p,a):D=p[0]):c.length&&(D=Hr(CR(c),a)),x?g|=16:(w&&!i&&(g|=2),A&&!i&&(g|=4),I.length&&(g|=8),T&&(g|=32)),!y&&(g===0||g===32)&&(_||b||d.length>0)&&(g|=512),!e.inSSR&&D)switch(D.type){case 15:let W=-1,B=-1,G=!1;for(let u=0;u<D.properties.length;u++){const m=D.properties[u].key;tr(m)?m.content==="class"?W=u:m.content==="style"&&(B=u):m.isHandlerKey||(G=!0)}const J=D.properties[W],it=D.properties[B];G?D=Vn(e.helper(Im),[D]):(J&&!tr(J.value)&&(J.value=Vn(e.helper(b3),[J.value])),it&&(A||it.value.type===4&&it.value.content.trim()[0]==="["||it.value.type===17)&&(it.value=Vn(e.helper(_3),[it.value])));break;case 14:break;default:D=Vn(e.helper(Im),[Vn(e.helper(Om),[D])]);break}return{props:D,directives:d,patchFlag:g,dynamicPropNames:I,shouldUseBlock:y}}function CR(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const s=r.key.content,o=e.get(s);o?(s==="style"||s==="class"||Hc(s))&&tat(o,r):(e.set(s,r),n.push(r))}return n}function tat(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=lu([t.value,e.value],t.loc)}function eat(t,e){const n=[],i=ER.get(t);i?n.push(e.helperString(i)):(e.helper(m3),e.directives.add(t.name),n.push(Lm(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=Qt("true",!1,r);n.push(Hr(t.modifiers.map(o=>Mn(o,s)),r))}return lu(n,t.loc)}function nat(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function F3(t){return t==="component"||t==="Component"}const iat=(t,e)=>{if(yv(t)){const{children:n,loc:i}=t,{slotName:r,slotProps:s}=rat(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),n.length&&(o[3]=Sp([],n,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Vn(e.helper(W8),o,i)}};function rat(t,e){let n='"default"',i;const r=[];for(let s=0;s<t.props.length;s++){const o=t.props[s];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=Ke(o.name),r.push(o)));else if(o.name==="bind"&&uu(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=Ke(o.arg.content);n=o.exp=Qt(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&tr(o.arg)&&(o.arg.content=Ke(o.arg.content)),r.push(o)}if(r.length>0){const{props:s,directives:o}=TR(t,e,r,!1,!1);i=s,o.length&&e.onError(nn(36,o[0].loc))}return{slotName:n,slotProps:i}}const MR=(t,e,n,i)=>{const{loc:r,modifiers:s,arg:o}=t;!t.exp&&!s.length&&n.onError(nn(35,r));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Jc(Ke(d)):`on:${d}`;a=Qt(f,!0,o.loc)}else a=Es([`${n.helperString(S3)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(S3)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const d=Q8(l),f=!(d||not(l)),y=l.content.includes(";");(f||c&&d)&&(l=Es([`${f?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let p={props:[Mn(a,l||Qt("() => {}",!1,r))]};return i&&(p=i(p)),c&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(d=>d.key.isHandlerKey=!0),p},sat=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let i,r=!1;for(let s=0;s<n.length;s++){const o=n[s];if(O3(o)){r=!0;for(let a=s+1;a<n.length;a++){const l=n[a];if(O3(l))i||(i=n[s]=Es([o],o.loc)),i.children.push(" + ",l),n.splice(a,1),a--;else{i=void 0;break}}}}if(!(!r||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const o=n[s];if(O3(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&wr(o,e)===0&&a.push("1"),n[s]={type:12,content:o,loc:o.loc,codegenNode:Vn(e.helper(p3),a)}}}}},IR=new WeakSet,oat=(t,e)=>{if(t.type===1&&Yr(t,"once",!0))return IR.has(t)||e.inVOnce||e.inSSR?void 0:(IR.add(t),e.inVOnce=!0,e.helper(pv),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},OR=(t,e,n)=>{const{exp:i,arg:r}=t;if(!i)return n.onError(nn(41,t.loc)),Tv();const s=i.loc.source.trim(),o=i.type===4?i.content:s,a=n.bindingMetadata[s];if(a==="props"||a==="props-aliased")return n.onError(nn(44,i.loc)),Tv();if(!o.trim()||!Q8(i))return n.onError(nn(42,i.loc)),Tv();const l=r||Qt("modelValue",!0),c=r?tr(r)?`onUpdate:${Ke(r.content)}`:Es(['"onUpdate:" + ',r]):"onUpdate:modelValue";let p;const d=n.isTS?"($event: any)":"$event";p=Es([`${d} => ((`,i,") = $event)"]);const f=[Mn(l,t.exp),Mn(c,p)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(_=>_.content).map(_=>(I3(_)?_:JSON.stringify(_))+": true").join(", "),g=r?tr(r)?`${r.content}Modifiers`:Es([r,' + "Modifiers"']):"modelModifiers";f.push(Mn(g,Qt(`{ ${y} }`,!1,t.loc,2)))}return Tv(f)};function Tv(t=[]){return{props:t}}const aat=/[\w).+\-_$\]]/,lat=(t,e)=>{cu("COMPILER_FILTERS",e)&&(t.type===5?Cv(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Cv(n.exp,e)}))};function Cv(t,e){if(t.type===4)PR(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];typeof i=="object"&&(i.type===4?PR(i,e):i.type===8?Cv(t,e):i.type===5&&Cv(i.content,e))}}function PR(t,e){const n=t.content;let i=!1,r=!1,s=!1,o=!1,a=0,l=0,c=0,p=0,d,f,y,g,_=[];for(y=0;y<n.length;y++)if(f=d,d=n.charCodeAt(y),i)d===39&&f!==92&&(i=!1);else if(r)d===34&&f!==92&&(r=!1);else if(s)d===96&&f!==92&&(s=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(p=y+1,g=n.slice(0,y).trim()):w();else{switch(d){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let A=y-1,T;for(;A>=0&&(T=n.charAt(A),T===" ");A--);(!T||!aat.test(T))&&(o=!0)}}g===void 0?g=n.slice(0,y).trim():p!==0&&w();function w(){_.push(n.slice(p,y).trim()),p=y+1}if(_.length){for(y=0;y<_.length;y++)g=cat(g,_[y],e);t.content=g,t.ast=void 0}}function cat(t,e,n){n.helper(y3);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${Lm(e,"filter")}(${t})`;{const r=e.slice(0,i),s=e.slice(i+1);return n.filters.add(r),`${Lm(r,"filter")}(${t}${s!==")"?","+s:s}`}}const NR=new WeakSet,uat=(t,e)=>{if(t.type===1){const n=Yr(t,"memo");return!n||NR.has(t)?void 0:(NR.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&C3(i,e),t.codegenNode=Vn(e.helper(E3),[n.exp,Sp(void 0,i),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function hat(t){return[[oat,Bot,uat,Vot,lat,iat,Xot,Jot,sat],{on:MR,bind:qot,model:OR}]}function pat(t,e={}){const n=e.onError||M3,i=e.mode==="module";e.prefixIdentifiers===!0?n(nn(47)):i&&n(nn(48));const r=!1;e.cacheHandlers&&n(nn(49)),e.scopeId&&!i&&n(nn(50));const s=he({},e,{prefixIdentifiers:r}),o=Vt(t)?bot(t,s):t,[a,l]=hat();return Sot(o,he({},s,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:he({},l,e.directiveTransforms||{})})),Cot(o,s)}const dat=()=>({props:[]}),LR=Symbol(""),kR=Symbol(""),RR=Symbol(""),DR=Symbol(""),U3=Symbol(""),FR=Symbol(""),UR=Symbol(""),$R=Symbol(""),GR=Symbol(""),jR=Symbol("");zst({[LR]:"vModelRadio",[kR]:"vModelCheckbox",[RR]:"vModelText",[DR]:"vModelSelect",[U3]:"vModelDynamic",[FR]:"withModifiers",[UR]:"withKeys",[$R]:"vShow",[GR]:"Transition",[jR]:"TransitionGroup"});let Tp;function fat(t,e=!1){return Tp||(Tp=document.createElement("div")),e?(Tp.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Tp.children[0].getAttribute("foo")):(Tp.innerHTML=t,Tp.textContent)}const mat={parseMode:"html",isVoidTag:bit,isNativeTag:t=>yit(t)||git(t)||vit(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:fat,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return GR;if(t==="TransitionGroup"||t==="transition-group")return jR},getNamespace(t,e,n){let i=e?e.ns:n;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},yat=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Qt("style",!0,e.loc),exp:gat(e.value.content,e.loc),modifiers:[],loc:e.loc})})},gat=(t,e)=>{const n=T5(t);return Qt(JSON.stringify(n),!1,e,3)};function Pl(t,e){return nn(t,e)}const vat=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Pl(53,r)),e.children.length&&(n.onError(Pl(54,r)),e.children.length=0),{props:[Mn(Qt("innerHTML",!0,r),i||Qt("",!0))]}},bat=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Pl(55,r)),e.children.length&&(n.onError(Pl(56,r)),e.children.length=0),{props:[Mn(Qt("textContent",!0),i?wr(i,n)>0?i:Vn(n.helperString(uv),[i],r):Qt("",!0))]}},_at=(t,e,n)=>{const i=OR(t,e,n);if(!i.props.length||e.tagType===1)return i;t.arg&&n.onError(Pl(58,t.arg.loc));const{tag:r}=e,s=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let o=RR,a=!1;if(r==="input"||s){const l=fv(e,"type");if(l){if(l.type===7)o=U3;else if(l.value)switch(l.value.content){case"radio":o=LR;break;case"checkbox":o=kR;break;case"file":a=!0,n.onError(Pl(59,t.loc));break}}else iot(e)&&(o=U3)}else r==="select"&&(o=DR);a||(i.needRuntime=n.helper(o))}else n.onError(Pl(57,t.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},wat=fr("passive,once,capture"),xat=fr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Sat=fr("left,right"),BR=fr("onkeyup,onkeydown,onkeypress"),Aat=(t,e,n,i)=>{const r=[],s=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&Nm("COMPILER_V_ON_NATIVE",n)||wat(l)?o.push(l):Sat(l)?tr(t)?BR(t.content.toLowerCase())?r.push(l):s.push(l):(r.push(l),s.push(l)):xat(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:o}},WR=(t,e)=>tr(t)&&t.content.toLowerCase()==="onclick"?Qt(e,!0):t.type!==4?Es(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Eat=(t,e,n)=>MR(t,e,n,i=>{const{modifiers:r}=t;if(!r.length)return i;let{key:s,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Aat(s,r,n,t.loc);if(l.includes("right")&&(s=WR(s,"onContextmenu")),l.includes("middle")&&(s=WR(s,"onMouseup")),l.length&&(o=Vn(n.helper(FR),[o,JSON.stringify(l)])),a.length&&(!tr(s)||BR(s.content.toLowerCase()))&&(o=Vn(n.helper(UR),[o,JSON.stringify(a)])),c.length){const p=c.map(dl).join("");s=tr(s)?Qt(`${s.content}${p}`,!0):Es(["(",s,`) + "${p}"`])}return{props:[Mn(s,o)]}}),Tat=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Pl(61,r)),{props:[],needRuntime:n.helper($R)}},Cat=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},Mat=[yat],Iat={cloak:dat,html:vat,text:bat,model:_at,on:Eat,show:Tat};function Oat(t,e={}){return pat(t,he({},mat,e,{nodeTransforms:[Cat,...Mat,...e.nodeTransforms||[]],directiveTransforms:he({},Iat,e.directiveTransforms||{}),transformHoist:null}))}const zR=Object.create(null);function qR(t,e){if(!Vt(t))if(t.nodeType)t=t.innerHTML;else return si;const n=oit(t,e),i=zR[n];if(i)return i;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const r=he({hoistStatic:!0,onError:void 0,onWarn:si},e);!r.isCustomElement&&typeof customElements<"u"&&(r.isCustomElement=a=>!!customElements.get(a));const{code:s}=Oat(t,r),o=new Function("Vue",s)(Ust);return o._rc=!0,zR[n]=o}ZA(qR);const Pat=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:uA,BaseTransitionPropsValidators:L1,Comment:En,DeprecationTypes:Yk,EffectScope:l1,ErrorCodes:cL,ErrorTypeStrings:Bk,Fragment:Le,KeepAlive:kL,ReactiveEffect:op,Static:Sl,Suspense:Ak,Teleport:cA,Text:lo,TrackOpTypes:rL,Transition:xm,TransitionGroup:iv,TriggerOpTypes:sL,VueElement:d0,assertNumber:lL,callWithAsyncErrorHandling:gr,callWithErrorHandling:vl,camelize:Ke,capitalize:dl,cloneVNode:Ss,compatUtils:Hk,compile:qR,computed:te,createApp:Ml,createBlock:Be,createCommentVNode:Ve,createElementBlock:wt,createElementVNode:lt,createHydrationRenderer:kA,createPropsRestProxy:XL,createRenderer:LA,createSSRApp:a3,createSlots:UL,createStaticVNode:zA,createTextVNode:As,createVNode:Kt,customRef:eA,defineAsyncComponent:F1,defineComponent:ne,defineCustomElement:r3,defineEmits:jL,defineExpose:BL,defineModel:qL,defineOptions:WL,defineProps:GL,defineSSRCustomElement:b8,defineSlots:zL,devtools:Wk,effect:D5,effectScope:Xf,getCurrentInstance:Cn,getCurrentScope:c1,getCurrentWatcher:oL,getTransitionRawChildren:lm,guardReactiveProps:WA,h:vr,handleError:bl,hasInjectionContext:OA,hydrate:k8,hydrateOnIdle:OL,hydrateOnInteraction:LL,hydrateOnMediaQuery:NL,hydrateOnVisible:PL,initCustomFormatter:$k,initDirectivesForSSR:U8,inject:Rn,isMemoSame:KA,isProxy:nm,isReactive:yr,isReadonly:Ko,isRef:pe,isRuntimeOnly:Rk,isShallow:Ki,isVNode:ws,markRaw:yn,mergeDefaults:ZL,mergeModels:KL,mergeProps:vm,nextTick:Br,normalizeClass:an,normalizeProps:C5,normalizeStyle:Vo,onActivated:fA,onBeforeMount:yp,onBeforeUnmount:zr,onBeforeUpdate:gA,onDeactivated:mA,onErrorCaptured:G1,onMounted:Zn,onRenderTracked:_A,onRenderTriggered:bA,onScopeDispose:WS,onServerPrefetch:vA,onUnmounted:tu,onUpdated:Qc,onWatcherCleanup:iA,openBlock:pt,popScopeId:yL,provide:W1,proxyRefs:x1,pushScopeId:mL,queuePostFlushCb:rm,reactive:Wn,readonly:_1,ref:tt,registerRuntimeCompiler:ZA,render:ou,renderList:ta,renderSlot:qr,resolveComponent:vn,resolveDirective:Ce,resolveDynamicComponent:j1,resolveFilter:Vk,resolveTransitionHooks:Xc,setBlockTracking:Y1,setDevtoolsHook:zk,setTransitionHooks:ao,shallowReactive:QS,shallowReadonly:cp,shallowRef:up,ssrContextKey:FA,ssrUtils:qk,stop:F5,toDisplayString:je,toHandlerKey:Jc,toHandlers:$L,toRaw:Gt,toRef:nA,toRefs:S1,toValue:nL,transformVNodeArgs:Ok,triggerRef:eL,unref:Ct,useAttrs:YL,useCssModule:w8,useCssVars:u8,useHost:s3,useId:CL,useModel:_k,useSSRContext:UA,useShadowRoot:_8,useSlots:HL,useTemplateRef:cm,useTransitionState:N1,vModelCheckbox:rv,vModelDynamic:o3,vModelRadio:sv,vModelSelect:ov,vModelText:bp,vShow:Sm,version:XA,warn:jk,watch:qn,watchEffect:vk,watchPostEffect:$A,watchSyncEffect:GA,withAsyncContext:QL,withCtx:gn,withDefaults:VL,withDirectives:Te,withKeys:lv,withMemo:Gk,withModifiers:wp,withScopeId:gL},Symbol.toStringTag,{value:"Module"}));var Nat=!1,VR={ACLOCAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\aclocal;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\sohali\\AppData\\Roaming",COLOR:"0",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"WONTN774838",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Users/sohali/AppData/Local/Programs/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_10308:"1",EXEPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\sohali",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\sohali",HOSTNAME:"WONTN774838",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAcSLJDp5EnUix/9MY4sVhIwQAAAACAAAAAAAQZgAAAAEAACAAAAAiq9m3rZnEtR0T5qLUcZihMsmEhOLjt6G+Xqi+Ok2S5gAAAAAOgAAAAAIAACAAAADCxNy3yQ+KYFBAPvcA1r7Qy48hk+aO9uPLMsGhi+/QwWAAAADy7LIbedUFqhdwateNq7QzyZutl/bqjJvFag7nA0L2buSz1oQ+393+Bl/4w2kmBsH2yG7X/TdFYlOR7Dj0bqz5WT1jS9H10a5kFNvuNmMKaE+0DA8CI2i21fOlhS5UiNdAAAAADq4NXGuElclFnBW9BecWXn8YzOmMZBghNm4aWNgTnwvoJL1B7skfdnyqZE8QWpJ4Czuino+qS1KN3i1ep0yPNQ==",INFOPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\info",INIT_CWD:"C:\\Users\\sohali\\ramp4-pcar4",LC_CTYPE:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\sohali\\AppData\\Local",LOGONSERVER:"\\\\ECONM3HWVDCP001",MANPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",MSYS:"disable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",NODE:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\sohali\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_init_module:"C:\\Users\\sohali\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\sohali\\ramp4-pcar4",npm_config_loglevel:"silent",npm_config_node_gyp:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_userconfig:"C:\\Users\\sohali\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:esDynamic",npm_lifecycle_script:"vite build --mode esDynamic",npm_node_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",npm_package_engines_node:"=22.12.0",npm_package_json:"C:\\Users\\sohali\\ramp4-pcar4\\package.json",npm_package_name:"ramp-pcar",npm_package_version:"4.11.0-beta",NUMBER_OF_PROCESSORS:"12",OLDPWD:"C:/Users/sohali",OneDrive:"C:\\Users\\sohali\\OneDrive - EC-EC",OneDriveCommercial:"C:\\Users\\sohali\\OneDrive - EC-EC",ORIGINAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",ORIGINAL_TEMP:"C:/Users/sohali/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/sohali/AppData/Local/Temp",OS:"Windows_NT",PATH:"C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\vendor_perl;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PKG_CONFIG_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\lib\\pkgconfig;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 186 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"ba03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:/Users/sohali/ramp4-pcar4",SESSIONNAME:"Console",SHELL:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TERM:"xterm",TERM_PROGRAM:"mintty",TERM_PROGRAM_VERSION:"3.7.1",TMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\sohali\\AppData\\Local\\Temp",UATDATA:"C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.INT.EC.GC.CA",USERDOMAIN:"EC_ONTARIO",USERDOMAIN_ROAMINGPROFILE:"EC_ONTARIO",USERNAME:"SohalI",USERPROFILE:"C:\\Users\\sohali",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Users/sohali/node-v20.17.0-win-x64/node-v20.17.0-win-x64/node.exe"};let HR;const Mv=t=>HR=t,YR=Symbol();function $3(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Dm;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Dm||(Dm={}));function Lat(){const t=Xf(!0),e=t.run(()=>tt({}));let n=[],i=[];const r=yn({install(s){Mv(r),r._a=s,s.provide(YR,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!Nat?i.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const JR=()=>{};function ZR(t,e,n,i=JR){t.push(e);const r=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),i())};return!n&&c1()&&WS(r),r}function Cp(t,...e){t.slice().forEach(n=>{n(...e)})}const kat=t=>t();function G3(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];$3(r)&&$3(i)&&t.hasOwnProperty(n)&&!pe(i)&&!yr(i)?t[n]=G3(r,i):t[n]=i}return t}const Rat=Symbol();function Dat(t){return!$3(t)||!t.hasOwnProperty(Rat)}const{assign:Nl}=Object;function Fat(t){return!!(pe(t)&&t.effect)}function Uat(t,e,n,i){const{state:r,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){!a&&VR.NODE_ENV==="production"&&(n.state.value[t]=r?r():{});const p=S1(n.state.value[t]);return Nl(p,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=yn(te(()=>{Mv(n);const y=n._s.get(t);return o[f].call(y,y)})),d),{}))}return l=KR(t,c,e,n,i,!0),l}function KR(t,e,n={},i,r,s){let o;const a=Nl({actions:{}},n),l={deep:!0};let c,p,d=[],f=[],y;const g=i.state.value[t];!s&&!g&&VR.NODE_ENV==="production"&&(i.state.value[t]={}),tt({});let _;function w(L){let R;c=p=!1,typeof L=="function"?(L(i.state.value[t]),R={type:Dm.patchFunction,storeId:t,events:y}):(G3(i.state.value[t],L),R={type:Dm.patchObject,payload:L,storeId:t,events:y});const D=_=Symbol();Br().then(()=>{_===D&&(c=!0)}),p=!0,Cp(d,R,i.state.value[t])}const A=s?function(){const{state:L}=n,R=L?L():{};this.$patch(D=>{Nl(D,R)})}:JR;function T(){o.stop(),d=[],f=[],i._s.delete(t)}function x(L,R){return function(){Mv(i);const D=Array.from(arguments),W=[],B=[];function G(u){W.push(u)}function J(u){B.push(u)}Cp(f,{args:D,name:L,store:I,after:G,onError:J});let it;try{it=R.apply(this&&this.$id===t?this:I,D)}catch(u){throw Cp(B,u),u}return it instanceof Promise?it.then(u=>(Cp(W,u),u)).catch(u=>(Cp(B,u),Promise.reject(u))):(Cp(W,it),it)}}const b={_p:i,$id:t,$onAction:ZR.bind(null,f),$patch:w,$reset:A,$subscribe(L,R={}){const D=ZR(d,L,R.detached,()=>W()),W=o.run(()=>qn(()=>i.state.value[t],B=>{(R.flush==="sync"?p:c)&&L({storeId:t,type:Dm.direct,events:y},B)},Nl({},l,R)));return D},$dispose:T},I=Wn(b);i._s.set(t,I);const O=(i._a&&i._a.runWithContext||kat)(()=>i._e.run(()=>(o=Xf()).run(e)));for(const L in O){const R=O[L];if(pe(R)&&!Fat(R)||yr(R))s||(g&&Dat(R)&&(pe(R)?R.value=g[L]:G3(R,g[L])),i.state.value[t][L]=R);else if(typeof R=="function"){const D=x(L,R);O[L]=D,a.actions[L]=R}}return Nl(I,O),Nl(Gt(I),O),Object.defineProperty(I,"$state",{get:()=>i.state.value[t],set:L=>{w(R=>{Nl(R,L)})}}),i._p.forEach(L=>{Nl(I,o.run(()=>L({store:I,app:i._a,pinia:i,options:a})))}),g&&s&&n.hydrate&&n.hydrate(I.$state,g),c=!0,p=!0,I}function ln(t,e,n){let i,r;const s=typeof e=="function";typeof t=="string"?(i=t,r=s?n:e):(r=t,i=t.id);function o(a,l){const c=OA();return a=a||(c?Rn(YR,null):null),a&&Mv(a),a=HR,a._s.has(i)||(s?KR(i,e,r,a):Uat(i,r,a)),a._s.get(i)}return o.$id=i,o}const Fm=ln("appbar",()=>{const t=tt({}),e=tt([]),n=tt([]),i=te(()=>e.value.map(o=>o.map(a=>t.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function r(o){n.value.includes(o)||n.value.push(o)}function s(o){const a=n.value.indexOf(o);a!==-1&&n.value.splice(a,1),o in t.value&&delete t.value[o],e.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:t,order:e,temporary:n,visible:i,addTempButton:r,removeButton:s}}),Iv=ln("grid",()=>{const t=tt({}),e=tt(),n=tt();function i(a){t.value={...t.value,[a.id]:a}}function r(a){t.value[a]!==void 0&&delete t.value[a]}function s(a){return Object.keys(t.value).find(l=>t.value[l].layerIds.includes(a))}function o(a,l){t.value[a].layerIds=t.value[a].layerIds.filter(c=>c!==l)}return{grids:t,panel:e,currentId:n,addGrid:i,removeGrid:r,getGridId:s,removeLayer:o}});function Ll(t,e,n,i){var r,s=!1,o=0;function a(){r&&clearTimeout(r)}function l(){a(),s=!0}typeof e!="boolean"&&(i=n,n=e,e=void 0);function c(){for(var p=arguments.length,d=new Array(p),f=0;f<p;f++)d[f]=arguments[f];var y=this,g=Date.now()-o;if(s)return;function _(){o=Date.now(),n.apply(y,d)}function w(){r=void 0}i&&!r&&_(),a(),i===void 0&&g>t?_():e!==!0&&(r=setTimeout(i?w:_,i===void 0?t-g:t))}return c.cancel=l,c}function Um(t,e,n){return n===void 0?Ll(t,e,!1):Ll(t,n,e!==!1)}const kl=ln("map-caption",()=>{const t=tt({text:{},logo:{}}),e=tt({}),n=tt({}),i=tt({});function r(o){o!==void 0?e.value.isImperialScale=o:e.value.isImperialScale=!e.value.isImperialScale}function s(o){t.value.text.value=o.text.value,t.value.text.disabled=o.text.disabled,t.value.logo.altText=o.logo.altText,t.value.logo.link=o.logo.link,t.value.logo.value=o.logo.value,t.value.logo.disabled=o.logo.disabled}return{attribution:t,scale:e,coords:n,langtoggle:i,toggleScale:r,setAttribution:s}}),j3=(t,e)=>{const n=[...t];for(;n.length>0;){const i=n.shift();if(e(i))return i;i&&n.push(...i.sublayers)}},Ts=ln("layer",()=>{const t=tt([]),e=tt([]),n=tt([]);function i(d){return j3(t.value,f=>f?.uid===d)}function r(d){return j3(t.value,f=>f?.id===d)}function s(d){return j3(t.value,f=>f!==void 0&&(f.id===d||f.uid===d))}function o(d){e.value=[...e.value,d]}function a(d,f=void 0){t.value=[...t.value,d],d.mapLayer&&((f===void 0||f<0)&&(console.error("Map layer added to store with invalid index!"),f=n.value.length),n.value.splice(f,0,d.id),n.value=[...n.value])}function l(d,f){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(f<0){console.error("Negative index passed to layer store reorder");return}f>=n.value.length&&(f=n.value.length-1);const y=n.value.findIndex(g=>g===d.id);y!==-1&&y!==f&&(n.value.splice(y,1),n.value.splice(f,0,d.id),n.value=[...n.value])}function c(d){const f=t.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(t.value=f,d.mapLayer){const y=n.value.filter(g=>g!==d.id);n.value=y}}function p(d){const f=e.value.filter(y=>y.id!==d);e.value=f}return{layers:t,mapOrder:n,layerConfigs:e,getLayerByUid:i,getLayerById:r,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:p}}),Di=ln("config",()=>{const t=tt({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),e=tt([]),n=tt(),i=tt({}),r=tt({});function s(l){if(i.value[r.value[l]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[r.value[l]]}function o(l){const c={...t.value,...l};if(t.value=c,Array.isArray(t.value.layers)){const p=Ts();p.layerConfigs=[...p.layerConfigs,t.value.layers]}}function a(l){const c=l.configLangs,p=l.config,d=l.allLangs;c!==void 0&&c.length>0&&c.forEach(f=>{i.value[f]=p,r.value[f]=f}),d!==void 0&&d.length>0&&d.forEach(f=>{r.value[f]=Object.keys(i.value)[0]})}return{config:t,startingFixtures:e,activeBasemapConfig:n,registeredConfigs:i,registeredLangs:r,getActiveConfig:s,newConfig:o,registerConfig:a}}),B3=ln("details",()=>{const t=tt([]),e=tt({}),n=tt({}),i=tt(),r=tt(0),s=tt(0),o=tt(!0),a=tt();function l(p){const d=t.value.findIndex(f=>f.uid===p.uid);d!==-1&&t.value.splice(d,1)}function c(p){e.value={...e.value,[p.id]:p}}return{payload:t,properties:e,defaultTemplates:n,currentFeatureId:i,activeGreedy:r,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Jr=ln("fixture",()=>{const t=tt({}),e=tt({});function n(o){return o.map(a=>e.value[a].getPromise())}function i(o){if(t.value={...t.value,[o.id]:yn(o)},o.id in e.value)e.value[o.id].resolveMe(yn(o));else{const a=new xn;a.resolveMe(yn(o)),e.value={...e.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function r(o){delete t.value[o.id],t.value={...t.value},delete e.value[o.id],e.value={...e.value},typeof o.removed=="function"&&o.removed()}function s(o){e.value={...e.value,[o]:new xn}}return{items:t,loadPromises:e,getLoadPromises:n,addFixture:i,removeFixture:r,addLoadPromise:s}});var Mt=(t=>(t.APPBAR_BUTTON_CLICK="appbar/click",t.COMPONENT="ramp/component",t.CONFIG_CHANGE="config/configchanged",t.DETAILS_TOGGLE="details/toggle",t.FILTER_CHANGE="filter/change",t.FIXTURE_ADDED="fixture/added",t.FIXTURE_REMOVED="fixture/removed",t.GRID_TOGGLE="grid/toggle",t.HELP_TOGGLE="help/toggle",t.LANG_CHANGE="lang/change",t.LAYER_DRAWSTATECHANGE="layer/drawstatechange",t.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",t.LAYER_LAYERSTATECHANGE="layer/layerstatechange",t.LAYER_OPACITYCHANGE="layer/opacitychange",t.LAYER_REGISTERED="layer/registered",t.LAYER_RELOAD_END="layer/reloadend",t.LAYER_RELOAD_START="layer/reloadstart",t.LAYER_REMOVE="layer/remove",t.LAYER_VISIBILITYCHANGE="layer/visibilitychange",t.MAP_BASEMAPCHANGE="map/basemapchanged",t.MAP_BLUR="map/blur",t.MAP_CLICK="map/click",t.MAP_CREATED="map/created",t.MAP_DESTROYED="map/destroyed",t.MAP_DOUBLECLICK="map/doubleclick",t.MAP_EXTENTCHANGE="map/extentchanged",t.MAP_FOCUS="map/focus",t.MAP_GRAPHICHIT="map/graphichit",t.MAP_IDENTIFY="map/identify",t.MAP_KEYDOWN="map/keydown",t.MAP_KEYUP="map/keyup",t.MAP_MOUSEDOWN="map/mousedown",t.MAP_MOUSELEAVE="map/mouseleave",t.MAP_MOUSEMOVE="map/mousemove",t.MAP_MOUSEMOVE_END="map/mousemoveend",t.MAP_MOUSEMOVE_START="map/mousemovestart",t.MAP_REFRESH_END="map/refreshend",t.MAP_REFRESH_START="map/refreshstart",t.MAP_REORDER="map/reorder",t.MAP_RESIZED="map/resized",t.MAP_SCALECHANGE="map/scalechanged",t.MAP_START="map/start",t.METADATA_TOGGLE="metadata/toggle",t.PANEL_CLOSED="panel/closed",t.PANEL_MINIMIZED="panel/minimized",t.PANEL_OPENED="panel/opened",t.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",t.REORDER_TOGGLE="reorder/toggle",t.SETTINGS_TOGGLE="settings/toggle",t.USER_LAYER_ADDED="user/layeradded",t.WIZARD_TOGGLE="wizard/toggle",t))(Mt||{}),W3=(t=>(t.CONFIG_CHANGE_UPDATES_MAP_ATTRIBS="ramp_config_change_updates_map_attribs",t.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",t.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",t.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",t.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",t.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",t.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",t.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",t.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",t.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",t.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",t.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",t.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",t.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",t.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",t.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",t.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",t.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",t.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",t.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",t.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",t.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",t.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",t.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",t.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",t.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",t.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",t.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",t.TOGGLE_DETAILS="ramp_toggle_details",t.TOGGLE_GRID="ramp_toggle_grid",t.TOGGLE_HELP="ramp_toggle_help",t.TOGGLE_METADATA="ramp_toggle_metadata",t.TOGGLE_REORDER="ramp_toggle_reorder",t.TOGGLE_SETTINGS="ramp_toggle_settings",t.TOGGLE_WIZARD="ramp_toggle_wizard",t))(W3||{});class $at{eventName;handlerName;handlerFunc;constructor(e,n,i){this.eventName=e,this.handlerName=n,this.handlerFunc=i}}class Gat extends An{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new Qnt.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Mt).filter(n=>typeof n=="string"&&n.indexOf("/")>-1)}findHandler(e){return this._eventRegister.find(n=>n.handlerName===e)}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach(n=>{this._nameRegister.indexOf(n)===-1&&this._nameRegister.push(n)})}eventNames(){return this._nameRegister.slice()}on(e,n,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(e));const r=new $at(e,i,n);return this._eventRegister.push(r),this._eventBus.on(e,n),i}off(e){const n=this.findHandler(e);n&&(this._eventRegister.splice(this._eventRegister.indexOf(n),1),this._eventBus.off(n.eventName,n.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach(n=>this.off(n))}removeDefaultEvents(){Object.values(W3).forEach(e=>{this.off(e)})}emit(e,...n){this._eventBus.emit(e,...n)}once(e,n,i=""){i||(i=this.handlerNamer(e));const r=(...s)=>{n(...s),this.off(i)};return this.on(e,r,i)}activeHandlers(e=""){return e===""?this._eventRegister.map(n=>n.handlerName):this._eventRegister.filter(n=>n.eventName===e).map(n=>n.handlerName)}addDefaultEvents(e){return(!Array.isArray(e)||e.length===0)&&(e=Object.values(W3)),e.map(n=>this.defaultHandlerFactory(n))}defaultHandlerFactory(e){let n;switch(e){case"ramp_config_change_updates_map_attribs":n=i=>{const r=i.map.basemaps.find(s=>s.id===this.$iApi.geo.map.getCurrentBasemapId());this.$iApi.geo.map.caption.updateAttribution(r?.attribution)},this.$iApi.event.on("config/configchanged",n,e);break;case"ramp_layer_error_updates_legend":n=i=>{if(i.layer.layerState===sn.ERROR){const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",n,e);break;case"ramp_layer_register_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/registered",n,e);break;case"ramp_layer_reload_end_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/reloadend",n,e);break;case"ramp_layer_reload_start_updates_legend":n=i=>{if(!i.isSublayer){const r=this.$iApi.fixture.get("legend");r&&r.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",n,e);break;case"ramp_layer_remove_checks_grid":n=i=>{if(this.$iApi.fixture.get("grid")){const r=Iv(this.$vApp.$pinia),s=r.getGridId(i.id);if(s===void 0)return;if(r.removeLayer(s,i.id),r.grids[s].layerIds.length===0){r.removeGrid(s);const o=r.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),r.currentId=void 0}}}},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_details":n=i=>{const r=B3(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&r.removeLayer(i)},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&(r.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_useradd_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.addLayerItem(i)},this.$iApi.event.on("user/layeradded",n,e);break;case"ramp_map_basemap_checks_tile_proj":n=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(r=>r.layerType===Pt.TILE).forEach(r=>{r.checkProj()})},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_basemap_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(Di(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_blur_updates_key_handler":n=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",n,e);break;case"ramp_map_click_runs_identify":n=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",n,e);break;case"ramp_map_created_initializes_fixtures":n=()=>{const i=Jr(this.$vApp.$pinia).items;Object.keys(i).forEach(r=>{i[r].initialized?.()})},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_created_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(Di(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_extent_updates_maptip":n=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",Ll(50,!0,()=>n()),e);break;case"ramp_map_graphichit_creates_maptip":n=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",n,e);break;case"ramp_map_identify_opens_identify_results":n=i=>{const r=this.$iApi.fixture.get("details");r&&r.openDetails(i.results)},this.on("map/identify",n,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",Ll(50,()=>{const i=kl(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(r=>{i.coords={formattedString:r}})}),e);break;case"ramp_map_keydown_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",n,e);break;case"ramp_map_keyup_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",n,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",Ll(50,i=>{const r=kl(this.$vApp.$pinia);r.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(s=>{r.coords={formattedString:s}})}),e);break;case"ramp_map_mouse_updates_maptip":n=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",Ll(50,i=>n(i)),e);break;case"ramp_map_mouseleave_removes_maptip":n=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",n);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",Um(100,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",Um(300,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_panel_close_updates_appbar":n=i=>{const r=Fm(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!r.order.flat().find(s=>s===i.id)&&r.removeButton(i.id)},this.on("panel/closed",n,e);break;case"ramp_panel_open_updates_appbar":n=i=>{const r=Fm(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!r.order.flat().find(s=>s===i.id)&&r.addTempButton(i.id)},this.on("panel/opened",n,e);break;case"ramp_toggle_details":n=(i,r)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(i,r)},this.$iApi.event.on("details/toggle",n,e);break;case"ramp_toggle_grid":n=(i,r)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(i.id,r)},this.$iApi.event.on("grid/toggle",n,e);break;case"ramp_toggle_help":n=i=>{const r=this.$iApi.fixture.get("help");r&&r.toggleHelp(i)},this.$iApi.event.on("help/toggle",n,e);break;case"ramp_toggle_metadata":n=(i,r)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(i,r)},this.$iApi.event.on("metadata/toggle",n,e);break;case"ramp_toggle_reorder":n=i=>{const r=this.$iApi.fixture.get("layer-reorder");r&&r.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",n,e);break;case"ramp_toggle_settings":n=(i,r)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(i,r)},this.$iApi.event.on("settings/toggle",n,e);break;case"ramp_toggle_wizard":n=i=>{const r=this.$iApi.fixture.get("wizard");r&&r.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",n,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}const Ov=typeof window<"u",Rl=(t,e=!1)=>e?Symbol.for(t):Symbol(t),jat=(t,e,n)=>Bat({l:t,k:e,s:n}),Bat=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),In=t=>typeof t=="number"&&isFinite(t),Wat=t=>eD(t)==="[object Date]",Dl=t=>eD(t)==="[object RegExp]",Pv=t=>Ht(t)&&Object.keys(t).length===0,ai=Object.assign,zat=Object.create,De=(t=null)=>zat(t);let XR;const aa=()=>XR||(XR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:De());function QR(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const qat=Object.prototype.hasOwnProperty;function Cs(t,e){return qat.call(t,e)}const Xe=Array.isArray,He=t=>typeof t=="function",xt=t=>typeof t=="string",se=t=>typeof t=="boolean",ve=t=>t!==null&&typeof t=="object",Vat=t=>ve(t)&&He(t.then)&&He(t.catch),tD=Object.prototype.toString,eD=t=>tD.call(t),Ht=t=>{if(!ve(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Hat=t=>t==null?"":Xe(t)||Ht(t)&&t.toString===tD?JSON.stringify(t,null,2):String(t);function Yat(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function Nv(t){let e=t;return()=>++e}function Jat(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Lv=t=>!ve(t)||Xe(t);function kv(t,e){if(Lv(t)||Lv(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:i,des:r}=n.pop();Object.keys(i).forEach(s=>{s!=="__proto__"&&(ve(i[s])&&!ve(r[s])&&(r[s]=Array.isArray(i[s])?[]:De()),Lv(r[s])||Lv(i[s])?r[s]=i[s]:n.push({src:i[s],des:r[s]}))})}}function Zat(t,e,n){return{line:t,column:e,offset:n}}function Rv(t,e,n){return{start:t,end:e}}const Kat=/\{([0-9a-zA-Z]+)\}/g;function nD(t,...e){return e.length===1&&Xat(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(Kat,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const iD=Object.assign,rD=t=>typeof t=="string",Xat=t=>t!==null&&typeof t=="object";function sD(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}const z3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Qat={[z3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function tlt(t,e,...n){const i=nD(Qat[t],...n||[]),r={message:String(i),code:t};return e&&(r.location=e),r}const jt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},elt={[jt.EXPECTED_TOKEN]:"Expected token: '{0}'",[jt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[jt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[jt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[jt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[jt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[jt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[jt.EMPTY_PLACEHOLDER]:"Empty placeholder",[jt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[jt.INVALID_LINKED_FORMAT]:"Invalid linked format",[jt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[jt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[jt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[jt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[jt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[jt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Mp(t,e,n={}){const{domain:i,messages:r,args:s}=n,o=nD((r||elt)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=i,a}function nlt(t){throw t}const la=" ",ilt="\r",nr=`
`,rlt="\u2028",slt="\u2029";function olt(t){const e=t;let n=0,i=1,r=1,s=0;const o=L=>e[L]===ilt&&e[L+1]===nr,a=L=>e[L]===nr,l=L=>e[L]===slt,c=L=>e[L]===rlt,p=L=>o(L)||a(L)||l(L)||c(L),d=()=>n,f=()=>i,y=()=>r,g=()=>s,_=L=>o(L)||l(L)||c(L)?nr:e[L],w=()=>_(n),A=()=>_(n+s);function T(){return s=0,p(n)&&(i++,r=0),o(n)&&n++,n++,r++,e[n]}function x(){return o(n+s)&&s++,s++,e[n+s]}function b(){n=0,i=1,r=1,s=0}function I(L=0){s=L}function O(){const L=n+s;for(;L!==n;)T();s=0}return{index:d,line:f,column:y,peekOffset:g,charAt:_,currentChar:w,currentPeek:A,next:T,peek:x,reset:b,resetPeek:I,skipToPeek:O}}const Fl=void 0,ggt=".",oD="'",alt="tokenizer";function llt(t,e={}){const n=e.location!==!1,i=olt(t),r=()=>i.index(),s=()=>Zat(i.line(),i.column(),i.index()),o=s(),a=r(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:p}=e;function d(C,k,j,...Z){const z=c();if(k.column+=j,k.offset+=j,p){const Y=n?Rv(z.startLoc,k):null,ct=Mp(C,Y,{domain:alt,args:Z});p(ct)}}function f(C,k,j){C.endLoc=s(),C.currentType=k;const Z={type:k};return n&&(Z.loc=Rv(C.startLoc,C.endLoc)),j!=null&&(Z.value=j),Z}const y=C=>f(C,14);function g(C,k){return C.currentChar()===k?(C.next(),k):(d(jt.EXPECTED_TOKEN,s(),0,k),"")}function _(C){let k="";for(;C.currentPeek()===la||C.currentPeek()===nr;)k+=C.currentPeek(),C.peek();return k}function w(C){const k=_(C);return C.skipToPeek(),k}function A(C){if(C===Fl)return!1;const k=C.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function T(C){if(C===Fl)return!1;const k=C.charCodeAt(0);return k>=48&&k<=57}function x(C,k){const{currentType:j}=k;if(j!==2)return!1;_(C);const Z=A(C.currentPeek());return C.resetPeek(),Z}function b(C,k){const{currentType:j}=k;if(j!==2)return!1;_(C);const Z=C.currentPeek()==="-"?C.peek():C.currentPeek(),z=T(Z);return C.resetPeek(),z}function I(C,k){const{currentType:j}=k;if(j!==2)return!1;_(C);const Z=C.currentPeek()===oD;return C.resetPeek(),Z}function O(C,k){const{currentType:j}=k;if(j!==8)return!1;_(C);const Z=C.currentPeek()===".";return C.resetPeek(),Z}function L(C,k){const{currentType:j}=k;if(j!==9)return!1;_(C);const Z=A(C.currentPeek());return C.resetPeek(),Z}function R(C,k){const{currentType:j}=k;if(!(j===8||j===12))return!1;_(C);const Z=C.currentPeek()===":";return C.resetPeek(),Z}function D(C,k){const{currentType:j}=k;if(j!==10)return!1;const Z=()=>{const Y=C.currentPeek();return Y==="{"?A(C.peek()):Y==="@"||Y==="%"||Y==="|"||Y===":"||Y==="."||Y===la||!Y?!1:Y===nr?(C.peek(),Z()):G(C,!1)},z=Z();return C.resetPeek(),z}function W(C){_(C);const k=C.currentPeek()==="|";return C.resetPeek(),k}function B(C){const k=_(C),j=C.currentPeek()==="%"&&C.peek()==="{";return C.resetPeek(),{isModulo:j,hasSpace:k.length>0}}function G(C,k=!0){const j=(z=!1,Y="",ct=!1)=>{const yt=C.currentPeek();return yt==="{"?Y==="%"?!1:z:yt==="@"||!yt?Y==="%"?!0:z:yt==="%"?(C.peek(),j(z,"%",!0)):yt==="|"?Y==="%"||ct?!0:!(Y===la||Y===nr):yt===la?(C.peek(),j(!0,la,ct)):yt===nr?(C.peek(),j(!0,nr,ct)):!0},Z=j();return k&&C.resetPeek(),Z}function J(C,k){const j=C.currentChar();return j===Fl?Fl:k(j)?(C.next(),j):null}function it(C){const k=C.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function u(C){return J(C,it)}function m(C){const k=C.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function S(C){return J(C,m)}function N(C){const k=C.charCodeAt(0);return k>=48&&k<=57}function V(C){return J(C,N)}function X(C){const k=C.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function ft(C){return J(C,X)}function ot(C){let k="",j="";for(;k=V(C);)j+=k;return j}function At(C){w(C);const k=C.currentChar();return k!=="%"&&d(jt.EXPECTED_TOKEN,s(),0,k),C.next(),"%"}function Rt(C){let k="";for(;;){const j=C.currentChar();if(j==="{"||j==="}"||j==="@"||j==="|"||!j)break;if(j==="%")if(G(C))k+=j,C.next();else break;else if(j===la||j===nr)if(G(C))k+=j,C.next();else{if(W(C))break;k+=j,C.next()}else k+=j,C.next()}return k}function $t(C){w(C);let k="",j="";for(;k=S(C);)j+=k;return C.currentChar()===Fl&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),j}function It(C){w(C);let k="";return C.currentChar()==="-"?(C.next(),k+=`-${ot(C)}`):k+=ot(C),C.currentChar()===Fl&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),k}function ce(C){return C!==oD&&C!==nr}function ie(C){w(C),g(C,"'");let k="",j="";for(;k=J(C,ce);)k==="\\"?j+=Ie(C):j+=k;const Z=C.currentChar();return Z===nr||Z===Fl?(d(jt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),Z===nr&&(C.next(),g(C,"'")),j):(g(C,"'"),j)}function Ie(C){const k=C.currentChar();switch(k){case"\\":case"'":return C.next(),`\\${k}`;case"u":return fe(C,k,4);case"U":return fe(C,k,6);default:return d(jt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,k),""}}function fe(C,k,j){g(C,k);let Z="";for(let z=0;z<j;z++){const Y=ft(C);if(!Y){d(jt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${k}${Z}${C.currentChar()}`);break}Z+=Y}return`\\${k}${Z}`}function re(C){return C!=="{"&&C!=="}"&&C!==la&&C!==nr}function Fe(C){w(C);let k="",j="";for(;k=J(C,re);)j+=k;return j}function q(C){let k="",j="";for(;k=u(C);)j+=k;return j}function F(C){const k=j=>{const Z=C.currentChar();return Z==="{"||Z==="%"||Z==="@"||Z==="|"||Z==="("||Z===")"||!Z||Z===la?j:(j+=Z,C.next(),k(j))};return k("")}function K(C){w(C);const k=g(C,"|");return w(C),k}function st(C,k){let j=null;switch(C.currentChar()){case"{":return k.braceNest>=1&&d(jt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),C.next(),j=f(k,2,"{"),w(C),k.braceNest++,j;case"}":return k.braceNest>0&&k.currentType===2&&d(jt.EMPTY_PLACEHOLDER,s(),0),C.next(),j=f(k,3,"}"),k.braceNest--,k.braceNest>0&&w(C),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),j;case"@":return k.braceNest>0&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),j=nt(C,k)||y(k),k.braceNest=0,j;default:{let Z=!0,z=!0,Y=!0;if(W(C))return k.braceNest>0&&d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),j=f(k,1,K(C)),k.braceNest=0,k.inLinked=!1,j;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return d(jt.UNTERMINATED_CLOSING_BRACE,s(),0),k.braceNest=0,M(C,k);if(Z=x(C,k))return j=f(k,5,$t(C)),w(C),j;if(z=b(C,k))return j=f(k,6,It(C)),w(C),j;if(Y=I(C,k))return j=f(k,7,ie(C)),w(C),j;if(!Z&&!z&&!Y)return j=f(k,13,Fe(C)),d(jt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,j.value),w(C),j;break}}return j}function nt(C,k){const{currentType:j}=k;let Z=null;const z=C.currentChar();switch((j===8||j===9||j===12||j===10)&&(z===nr||z===la)&&d(jt.INVALID_LINKED_FORMAT,s(),0),z){case"@":return C.next(),Z=f(k,8,"@"),k.inLinked=!0,Z;case".":return w(C),C.next(),f(k,9,".");case":":return w(C),C.next(),f(k,10,":");default:return W(C)?(Z=f(k,1,K(C)),k.braceNest=0,k.inLinked=!1,Z):O(C,k)||R(C,k)?(w(C),nt(C,k)):L(C,k)?(w(C),f(k,12,q(C))):D(C,k)?(w(C),z==="{"?st(C,k)||Z:f(k,11,F(C))):(j===8&&d(jt.INVALID_LINKED_FORMAT,s(),0),k.braceNest=0,k.inLinked=!1,M(C,k))}}function M(C,k){let j={type:14};if(k.braceNest>0)return st(C,k)||y(k);if(k.inLinked)return nt(C,k)||y(k);switch(C.currentChar()){case"{":return st(C,k)||y(k);case"}":return d(jt.UNBALANCED_CLOSING_BRACE,s(),0),C.next(),f(k,3,"}");case"@":return nt(C,k)||y(k);default:{if(W(C))return j=f(k,1,K(C)),k.braceNest=0,k.inLinked=!1,j;const{isModulo:Z,hasSpace:z}=B(C);if(Z)return z?f(k,0,Rt(C)):f(k,4,At(C));if(G(C))return f(k,0,Rt(C));break}}return j}function $(){const{currentType:C,offset:k,startLoc:j,endLoc:Z}=l;return l.lastType=C,l.lastOffset=k,l.lastStartLoc=j,l.lastEndLoc=Z,l.offset=r(),l.startLoc=s(),i.currentChar()===Fl?f(l,14):M(i,l)}return{nextToken:$,currentOffset:r,currentPosition:s,context:c}}const clt="parser",ult=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function hlt(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"\uFFFD"}}}function plt(t={}){const e=t.location!==!1,{onError:n,onWarn:i}=t;function r(x,b,I,O,...L){const R=x.currentPosition();if(R.offset+=O,R.column+=O,n){const D=e?Rv(I,R):null,W=Mp(b,D,{domain:clt,args:L});n(W)}}function s(x,b,I,O,...L){const R=x.currentPosition();if(R.offset+=O,R.column+=O,i){const D=e?Rv(I,R):null;i(tlt(b,D,L))}}function o(x,b,I){const O={type:x};return e&&(O.start=b,O.end=b,O.loc={start:I,end:I}),O}function a(x,b,I,O){e&&(x.end=b,x.loc&&(x.loc.end=I))}function l(x,b){const I=x.context(),O=o(3,I.offset,I.startLoc);return O.value=b,a(O,x.currentOffset(),x.currentPosition()),O}function c(x,b){const I=x.context(),{lastOffset:O,lastStartLoc:L}=I,R=o(5,O,L);return R.index=parseInt(b,10),x.nextToken(),a(R,x.currentOffset(),x.currentPosition()),R}function p(x,b,I){const O=x.context(),{lastOffset:L,lastStartLoc:R}=O,D=o(4,L,R);return D.key=b,I===!0&&(D.modulo=!0),x.nextToken(),a(D,x.currentOffset(),x.currentPosition()),D}function d(x,b){const I=x.context(),{lastOffset:O,lastStartLoc:L}=I,R=o(9,O,L);return R.value=b.replace(ult,hlt),x.nextToken(),a(R,x.currentOffset(),x.currentPosition()),R}function f(x){const b=x.nextToken(),I=x.context(),{lastOffset:O,lastStartLoc:L}=I,R=o(8,O,L);return b.type!==12?(r(x,jt.UNEXPECTED_EMPTY_LINKED_MODIFIER,I.lastStartLoc,0),R.value="",a(R,O,L),{nextConsumeToken:b,node:R}):(b.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ms(b)),R.value=b.value||"",a(R,x.currentOffset(),x.currentPosition()),{node:R})}function y(x,b){const I=x.context(),O=o(7,I.offset,I.startLoc);return O.value=b,a(O,x.currentOffset(),x.currentPosition()),O}function g(x){const b=x.context(),I=o(6,b.offset,b.startLoc);let O=x.nextToken();if(O.type===9){const L=f(x);I.modifier=L.node,O=L.nextConsumeToken||x.nextToken()}switch(O.type!==10&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(O)),O=x.nextToken(),O.type===2&&(O=x.nextToken()),O.type){case 11:O.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(O)),I.key=y(x,O.value||"");break;case 5:O.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(O)),I.key=p(x,O.value||"");break;case 6:O.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(O)),I.key=c(x,O.value||"");break;case 7:O.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(O)),I.key=d(x,O.value||"");break;default:{r(x,jt.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const L=x.context(),R=o(7,L.offset,L.startLoc);return R.value="",a(R,L.offset,L.startLoc),I.key=R,a(I,L.offset,L.startLoc),{nextConsumeToken:O,node:I}}}return a(I,x.currentOffset(),x.currentPosition()),{node:I}}function _(x){const b=x.context(),I=b.currentType===1?x.currentOffset():b.offset,O=b.currentType===1?b.endLoc:b.startLoc,L=o(2,I,O);L.items=[];let R=null,D=null;do{const G=R||x.nextToken();switch(R=null,G.type){case 0:G.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(G)),L.items.push(l(x,G.value||""));break;case 6:G.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(G)),L.items.push(c(x,G.value||""));break;case 4:D=!0;break;case 5:G.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(G)),L.items.push(p(x,G.value||"",!!D)),D&&(s(x,z3.USE_MODULO_SYNTAX,b.lastStartLoc,0,Ms(G)),D=null);break;case 7:G.value==null&&r(x,jt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ms(G)),L.items.push(d(x,G.value||""));break;case 8:{const J=g(x);L.items.push(J.node),R=J.nextConsumeToken||null;break}}}while(b.currentType!==14&&b.currentType!==1);const W=b.currentType===1?b.lastOffset:x.currentOffset(),B=b.currentType===1?b.lastEndLoc:x.currentPosition();return a(L,W,B),L}function w(x,b,I,O){const L=x.context();let R=O.items.length===0;const D=o(1,b,I);D.cases=[],D.cases.push(O);do{const W=_(x);R||(R=W.items.length===0),D.cases.push(W)}while(L.currentType!==14);return R&&r(x,jt.MUST_HAVE_MESSAGES_IN_PLURAL,I,0),a(D,x.currentOffset(),x.currentPosition()),D}function A(x){const b=x.context(),{offset:I,startLoc:O}=b,L=_(x);return b.currentType===14?L:w(x,I,O,L)}function T(x){const b=llt(x,iD({},t)),I=b.context(),O=o(0,I.offset,I.startLoc);return e&&O.loc&&(O.loc.source=x),O.body=A(b),t.onCacheKey&&(O.cacheKey=t.onCacheKey(x)),I.currentType!==14&&r(b,jt.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,x[I.offset]||""),a(O,b.currentOffset(),b.currentPosition()),O}return{parse:T}}function Ms(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"\u2026":e}function dlt(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function aD(t,e){for(let n=0;n<t.length;n++)q3(t[n],e)}function q3(t,e){switch(t.type){case 1:aD(t.cases,e),e.helper("plural");break;case 2:aD(t.items,e);break;case 6:{q3(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function flt(t,e={}){const n=dlt(t);n.helper("normalize"),t.body&&q3(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function mlt(t){const e=t.body;return e.type===2?lD(e):e.cases.forEach(n=>lD(n)),t}function lD(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=sD(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}const ylt="minifier";function Ip(t){switch(t.t=t.type,t.type){case 0:{const e=t;Ip(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let i=0;i<n.length;i++)Ip(n[i]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let i=0;i<n.length;i++)Ip(n[i]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Ip(e.key),e.k=e.key,delete e.key,e.modifier&&(Ip(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Mp(jt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:ylt,args:[t.type]})}delete t.type}const glt="parser";function vlt(t,e){const{sourceMap:n,filename:i,breakLineCode:r,needIndent:s}=e,o=e.location!==!1,a={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const l=()=>a;function c(g,_){a.code+=g}function p(g,_=!0){const w=_?r:"";c(s?w+"  ".repeat(g):w)}function d(g=!0){const _=++a.indentLevel;g&&p(_)}function f(g=!0){const _=--a.indentLevel;g&&p(_)}function y(){p(a.indentLevel)}return{context:l,push:c,indent:d,deindent:f,newline:y,helper:g=>`_${g}`,needIndent:()=>a.needIndent}}function blt(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Op(t,e.key),e.modifier?(t.push(", "),Op(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function _lt(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(Op(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function wlt(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(Op(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function xlt(t,e){e.body?Op(t,e.body):t.push("null")}function Op(t,e){const{helper:n}=t;switch(e.type){case 0:xlt(t,e);break;case 1:wlt(t,e);break;case 2:_lt(t,e);break;case 6:blt(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Mp(jt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:glt,args:[e.type]})}}const Slt=(t,e={})=>{const n=rD(e.mode)?e.mode:"normal",i=rD(e.filename)?e.filename:"message.intl",r=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],l=vlt(t,{mode:n,filename:i,sourceMap:r,breakLineCode:s,needIndent:o});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${sD(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),Op(l,t),l.deindent(o),l.push("}"),delete t.helpers;const{code:c,map:p}=l.context();return{ast:t,code:c,map:p?p.toJSON():void 0}};function Alt(t,e={}){const n=iD({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=plt(n).parse(t);return i?(s&&mlt(o),r&&Ip(o),{ast:o,code:""}):(flt(o,n),Slt(o,n))}var Elt={ACLOCAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\aclocal;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\sohali\\AppData\\Roaming",COLOR:"0",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"WONTN774838",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Users/sohali/AppData/Local/Programs/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_10308:"1",EXEPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\sohali",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\sohali",HOSTNAME:"WONTN774838",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAcSLJDp5EnUix/9MY4sVhIwQAAAACAAAAAAAQZgAAAAEAACAAAAAiq9m3rZnEtR0T5qLUcZihMsmEhOLjt6G+Xqi+Ok2S5gAAAAAOgAAAAAIAACAAAADCxNy3yQ+KYFBAPvcA1r7Qy48hk+aO9uPLMsGhi+/QwWAAAADy7LIbedUFqhdwateNq7QzyZutl/bqjJvFag7nA0L2buSz1oQ+393+Bl/4w2kmBsH2yG7X/TdFYlOR7Dj0bqz5WT1jS9H10a5kFNvuNmMKaE+0DA8CI2i21fOlhS5UiNdAAAAADq4NXGuElclFnBW9BecWXn8YzOmMZBghNm4aWNgTnwvoJL1B7skfdnyqZE8QWpJ4Czuino+qS1KN3i1ep0yPNQ==",INFOPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\info",INIT_CWD:"C:\\Users\\sohali\\ramp4-pcar4",LC_CTYPE:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\sohali\\AppData\\Local",LOGONSERVER:"\\\\ECONM3HWVDCP001",MANPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",MSYS:"disable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",NODE:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\sohali\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_init_module:"C:\\Users\\sohali\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\sohali\\ramp4-pcar4",npm_config_loglevel:"silent",npm_config_node_gyp:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_userconfig:"C:\\Users\\sohali\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:esDynamic",npm_lifecycle_script:"vite build --mode esDynamic",npm_node_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",npm_package_engines_node:"=22.12.0",npm_package_json:"C:\\Users\\sohali\\ramp4-pcar4\\package.json",npm_package_name:"ramp-pcar",npm_package_version:"4.11.0-beta",NUMBER_OF_PROCESSORS:"12",OLDPWD:"C:/Users/sohali",OneDrive:"C:\\Users\\sohali\\OneDrive - EC-EC",OneDriveCommercial:"C:\\Users\\sohali\\OneDrive - EC-EC",ORIGINAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",ORIGINAL_TEMP:"C:/Users/sohali/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/sohali/AppData/Local/Temp",OS:"Windows_NT",PATH:"C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\vendor_perl;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PKG_CONFIG_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\lib\\pkgconfig;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 186 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"ba03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:/Users/sohali/ramp4-pcar4",SESSIONNAME:"Console",SHELL:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TERM:"xterm",TERM_PROGRAM:"mintty",TERM_PROGRAM_VERSION:"3.7.1",TMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\sohali\\AppData\\Local\\Temp",UATDATA:"C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.INT.EC.GC.CA",USERDOMAIN:"EC_ONTARIO",USERDOMAIN_ROAMINGPROFILE:"EC_ONTARIO",USERNAME:"SohalI",USERPROFILE:"C:\\Users\\sohali",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Users/sohali/node-v20.17.0-win-x64/node-v20.17.0-win-x64/node.exe"};function Tlt(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(aa().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(aa().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(aa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Ul=[];Ul[0]={w:[0],i:[3,0],"[":[4],o:[7]},Ul[1]={w:[1],".":[2],"[":[4],o:[7]},Ul[2]={w:[2],i:[3,0],0:[3,0]},Ul[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Ul[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Ul[5]={"'":[4,0],o:8,l:[5,0]},Ul[6]={'"':[4,0],o:8,l:[6,0]};const Clt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Mlt(t){return Clt.test(t)}function Ilt(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function Olt(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Plt(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:Mlt(e)?Ilt(e):"*"+e}function Nlt(t){const e=[];let n=-1,i=0,r=0,s,o,a,l,c,p,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,i=4,f[0]();else{if(r=0,o===void 0||(o=Plt(o),o===!1))return!1;f[1]()}};function y(){const g=t[n+1];if(i===5&&g==="'"||i===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&y())){if(l=Olt(s),d=Ul[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(p=f[c[1]],p&&(a=s,p()===!1))))return;if(i===7)return e}}const cD=new Map;function Llt(t,e){return ve(t)?t[e]:null}function klt(t,e){if(!ve(t))return null;let n=cD.get(e);if(n||(n=Nlt(e),n&&cD.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const o=r[n[s]];if(o===void 0||He(r))return null;r=o,s++}return r}const Rlt=t=>t,Dlt=t=>"",Flt="text",Ult=t=>t.length===0?"":Yat(t),$lt=Hat;function uD(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Glt(t){const e=In(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(In(t.named.count)||In(t.named.n))?In(t.named.count)?t.named.count:In(t.named.n)?t.named.n:e:e}function jlt(t,e){e.count||(e.count=t),e.n||(e.n=t)}function Blt(t={}){const e=t.locale,n=Glt(t),i=ve(t.pluralRules)&&xt(e)&&He(t.pluralRules[e])?t.pluralRules[e]:uD,r=ve(t.pluralRules)&&xt(e)&&He(t.pluralRules[e])?uD:void 0,s=w=>w[i(n,w.length,r)],o=t.list||[],a=w=>o[w],l=t.named||De();In(t.pluralIndex)&&jlt(n,l);const c=w=>l[w];function p(w){return(He(t.messages)?t.messages(w):ve(t.messages)?t.messages[w]:!1)||(t.parent?t.parent.message(w):Dlt)}const d=w=>t.modifiers?t.modifiers[w]:Rlt,f=Ht(t.processor)&&He(t.processor.normalize)?t.processor.normalize:Ult,y=Ht(t.processor)&&He(t.processor.interpolate)?t.processor.interpolate:$lt,g=Ht(t.processor)&&xt(t.processor.type)?t.processor.type:Flt,_={list:a,named:c,plural:s,linked:(w,...A)=>{const[T,x]=A;let b="text",I="";A.length===1?ve(T)?(I=T.modifier||I,b=T.type||b):xt(T)&&(I=T||I):A.length===2&&(xt(T)&&(I=T||I),xt(x)&&(b=x||b));const O=p(w)(_),L=b==="vnode"&&Xe(O)&&I?O[0]:O;return I?d(I)(L,b):L},message:p,type:g,interpolate:y,normalize:f,values:ai(De(),o,l)};return _}let $m=null;function Wlt(t){$m=t}function zlt(t,e,n){$m&&$m.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const qlt=Vlt("function:translate");function Vlt(t){return e=>$m&&$m.emit(t,e)}const hD=z3.__EXTEND_POINT__,du=Nv(hD),Hlt={NOT_FOUND_KEY:hD,FALLBACK_TO_TRANSLATE:du(),CANNOT_FORMAT_NUMBER:du(),FALLBACK_TO_NUMBER_FORMAT:du(),CANNOT_FORMAT_DATE:du(),FALLBACK_TO_DATE_FORMAT:du(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:du(),__EXTEND_POINT__:du()},pD=jt.__EXTEND_POINT__,fu=Nv(pD),Is={INVALID_ARGUMENT:pD,INVALID_DATE_ARGUMENT:fu(),INVALID_ISO_DATE_ARGUMENT:fu(),NOT_SUPPORT_NON_STRING_MESSAGE:fu(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:fu(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:fu(),NOT_SUPPORT_LOCALE_TYPE:fu(),__EXTEND_POINT__:fu()};function co(t){return Mp(t,null,void 0)}function V3(t,e){return e.locale!=null?dD(e.locale):dD(t.locale)}let H3;function dD(t){if(xt(t))return t;if(He(t)){if(t.resolvedOnce&&H3!=null)return H3;if(t.constructor.name==="Function"){const e=t();if(Vat(e))throw co(Is.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return H3=e}else throw co(Is.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw co(Is.NOT_SUPPORT_LOCALE_TYPE)}function Ylt(t,e,n){return[...new Set([n,...Xe(e)?e:ve(e)?Object.keys(e):xt(e)?[e]:[n]])]}function fD(t,e,n){const i=xt(n)?n:Pp,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let o=[n];for(;Xe(o);)o=mD(s,o,e);const a=Xe(e)||!Ht(e)?e:e.default?e.default:null;o=xt(a)?[a]:a,Xe(o)&&mD(s,o,!1),r.__localeChainCache.set(i,s)}return s}function mD(t,e,n){let i=!0;for(let r=0;r<e.length&&se(i);r++){const s=e[r];xt(s)&&(i=Jlt(t,e[r],n))}return i}function Jlt(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=Zlt(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function Zlt(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(Xe(n)||Ht(n))&&n[r]&&(i=n[r])}return i}const Klt="9.14.2",Dv=-1,Pp="en-US",yD="",gD=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Xlt(){return{upper:(t,e)=>e==="text"&&xt(t)?t.toUpperCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&xt(t)?t.toLowerCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&xt(t)?gD(t):e==="vnode"&&ve(t)&&"__v_isVNode"in t?gD(t.children):t}}let vD;function bD(t){vD=t}let _D;function Qlt(t){_D=t}let wD;function tct(t){wD=t}let xD=null;const vgt=t=>{xD=t},ect=()=>xD;let SD=null;const AD=t=>{SD=t},nct=()=>SD;let ED=0;function ict(t={}){const e=He(t.onWarn)?t.onWarn:Jat,n=xt(t.version)?t.version:Klt,i=xt(t.locale)||He(t.locale)?t.locale:Pp,r=He(i)?Pp:i,s=Xe(t.fallbackLocale)||Ht(t.fallbackLocale)||xt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,o=Ht(t.messages)?t.messages:Y3(r),a=Ht(t.datetimeFormats)?t.datetimeFormats:Y3(r),l=Ht(t.numberFormats)?t.numberFormats:Y3(r),c=ai(De(),t.modifiers,Xlt()),p=t.pluralRules||De(),d=He(t.missing)?t.missing:null,f=se(t.missingWarn)||Dl(t.missingWarn)?t.missingWarn:!0,y=se(t.fallbackWarn)||Dl(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,_=!!t.unresolving,w=He(t.postTranslation)?t.postTranslation:null,A=Ht(t.processor)?t.processor:null,T=se(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter,b=He(t.messageCompiler)?t.messageCompiler:vD,I=He(t.messageResolver)?t.messageResolver:_D||Llt,O=He(t.localeFallbacker)?t.localeFallbacker:wD||Ylt,L=ve(t.fallbackContext)?t.fallbackContext:void 0,R=t,D=ve(R.__datetimeFormatters)?R.__datetimeFormatters:new Map,W=ve(R.__numberFormatters)?R.__numberFormatters:new Map,B=ve(R.__meta)?R.__meta:{};ED++;const G={version:n,cid:ED,locale:i,fallbackLocale:s,messages:o,modifiers:c,pluralRules:p,missing:d,missingWarn:f,fallbackWarn:y,fallbackFormat:g,unresolving:_,postTranslation:w,processor:A,warnHtmlMessage:T,escapeParameter:x,messageCompiler:b,messageResolver:I,localeFallbacker:O,fallbackContext:L,onWarn:e,__meta:B};return G.datetimeFormats=a,G.numberFormats=l,G.__datetimeFormatters=D,G.__numberFormatters=W,__INTLIFY_PROD_DEVTOOLS__&&zlt(G,n,B),G}const Y3=t=>({[t]:De()});function J3(t,e,n,i,r){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,n,e,r);return xt(a)?a:e}else return e}function Gm(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function rct(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function sct(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let i=n+1;i<e.length;i++)if(rct(t,e[i]))return!0;return!1}function Z3(t){return e=>oct(e,t)}function oct(t,e){const n=lct(e);if(n==null)throw jm(0);if(X3(n)===1){const i=uct(n);return t.plural(i.reduce((r,s)=>[...r,TD(t,s)],[]))}else return TD(t,n)}const act=["b","body"];function lct(t){return $l(t,act)}const cct=["c","cases"];function uct(t){return $l(t,cct,[])}function TD(t,e){const n=pct(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const i=fct(e).reduce((r,s)=>[...r,K3(t,s)],[]);return t.normalize(i)}}const hct=["s","static"];function pct(t){return $l(t,hct)}const dct=["i","items"];function fct(t){return $l(t,dct,[])}function K3(t,e){const n=X3(e);switch(n){case 3:return Fv(e,n);case 9:return Fv(e,n);case 4:{const i=e;if(Cs(i,"k")&&i.k)return t.interpolate(t.named(i.k));if(Cs(i,"key")&&i.key)return t.interpolate(t.named(i.key));throw jm(n)}case 5:{const i=e;if(Cs(i,"i")&&In(i.i))return t.interpolate(t.list(i.i));if(Cs(i,"index")&&In(i.index))return t.interpolate(t.list(i.index));throw jm(n)}case 6:{const i=e,r=vct(i),s=_ct(i);return t.linked(K3(t,s),r?K3(t,r):void 0,t.type)}case 7:return Fv(e,n);case 8:return Fv(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const mct=["t","type"];function X3(t){return $l(t,mct)}const yct=["v","value"];function Fv(t,e){const n=$l(t,yct);if(n)return n;throw jm(e)}const gct=["m","modifier"];function vct(t){return $l(t,gct)}const bct=["k","key"];function _ct(t){const e=$l(t,bct);if(e)return e;throw jm(6)}function $l(t,e,n){for(let i=0;i<e.length;i++){const r=e[i];if(Cs(t,r)&&t[r]!=null)return t[r]}return n}function jm(t){return new Error(`unhandled node type: ${t}`)}const CD=t=>t;let Np=De();function Lp(t){return ve(t)&&X3(t)===0&&(Cs(t,"b")||Cs(t,"body"))}function MD(t,e={}){let n=!1;const i=e.onError||nlt;return e.onError=r=>{n=!0,i(r)},{...Alt(t,e),detectError:n}}const wct=(t,e)=>{if(!xt(t))throw co(Is.NOT_SUPPORT_NON_STRING_MESSAGE);{se(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||CD)(t),i=Np[n];if(i)return i;const{code:r,detectError:s}=MD(t,e),o=new Function(`return ${r}`)();return s?o:Np[n]=o}};function xct(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&xt(t)){se(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||CD)(t),i=Np[n];if(i)return i;const{ast:r,detectError:s}=MD(t,{...e,location:Elt.NODE_ENV!=="production",jit:!0}),o=Z3(r);return s?o:Np[n]=o}else{const n=t.cacheKey;return n?Np[n]||(Np[n]=Z3(t)):Z3(t)}}const ID=()=>"",Zr=t=>He(t);function OD(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:o,messages:a}=t,[l,c]=Q3(...e),p=se(c.missingWarn)?c.missingWarn:t.missingWarn,d=se(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=se(c.escapeParameter)?c.escapeParameter:t.escapeParameter,y=!!c.resolvedMessage,g=xt(c.default)||se(c.default)?se(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",_=n||g!=="",w=V3(t,c);f&&Sct(c);let[A,T,x]=y?[l,w,a[w]||De()]:PD(t,l,w,o,d,p),b=A,I=l;if(!y&&!(xt(b)||Lp(b)||Zr(b))&&_&&(b=g,I=b),!y&&(!(xt(b)||Lp(b)||Zr(b))||!xt(T)))return r?Dv:l;let O=!1;const L=()=>{O=!0},R=Zr(b)?b:ND(t,l,T,b,I,L);if(O)return b;const D=Tct(t,T,x,c),W=Blt(D),B=Act(t,R,W),G=i?i(B,l):B;if(__INTLIFY_PROD_DEVTOOLS__){const J={timestamp:Date.now(),key:xt(l)?l:Zr(b)?b.key:"",locale:T||(Zr(b)?b.locale:""),format:xt(b)?b:Zr(b)?b.source:"",message:G};J.meta=ai({},t.__meta,ect()||{}),qlt(J)}return G}function Sct(t){Xe(t.list)?t.list=t.list.map(e=>xt(e)?QR(e):e):ve(t.named)&&Object.keys(t.named).forEach(e=>{xt(t.named[e])&&(t.named[e]=QR(t.named[e]))})}function PD(t,e,n,i,r,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,p=c(t,i,n);let d=De(),f,y=null;const g="translate";for(let _=0;_<p.length&&(f=p[_],d=o[f]||De(),(y=l(d,e))===null&&(y=d[e]),!(xt(y)||Lp(y)||Zr(y)));_++)if(!sct(f,p)){const w=J3(t,e,f,s,g);w!==e&&(y=w)}return[y,f,d]}function ND(t,e,n,i,r,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Zr(i)){const c=i;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=n,c.key=e,c}const l=o(i,Ect(t,n,r,i,a,s));return l.locale=n,l.key=e,l.source=i,l}function Act(t,e,n){return e(n)}function Q3(...t){const[e,n,i]=t,r=De();if(!xt(e)&&!In(e)&&!Zr(e)&&!Lp(e))throw co(Is.INVALID_ARGUMENT);const s=In(e)?String(e):(Zr(e),e);return In(n)?r.plural=n:xt(n)?r.default=n:Ht(n)&&!Pv(n)?r.named=n:Xe(n)&&(r.list=n),In(i)?r.plural=i:xt(i)?r.default=i:Ht(i)&&ai(r,i),[s,r]}function Ect(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:o=>{throw s&&s(o),o},onCacheKey:o=>jat(e,n,o)}}function Tct(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:p}=t,d={locale:e,modifiers:r,pluralRules:s,messages:f=>{let y=o(n,f);if(y==null&&p){const[,,g]=PD(p,f,e,a,l,c);y=o(g,f)}if(xt(y)||Lp(y)){let g=!1;const _=ND(t,f,e,y,f,()=>{g=!0});return g?ID:_}else return Zr(y)?y:ID}};return t.processor&&(d.processor=t.processor),i.list&&(d.list=i.list),i.named&&(d.named=i.named),In(i.plural)&&(d.pluralIndex=i.plural),d}function LD(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,p,d]=tE(...e),f=se(p.missingWarn)?p.missingWarn:t.missingWarn;se(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=V3(t,p),_=o(t,r,g);if(!xt(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let w={},A,T=null;const x="datetime format";for(let O=0;O<_.length&&(A=_[O],w=n[A]||{},T=w[l],!Ht(T));O++)J3(t,l,A,f,x);if(!Ht(T)||!xt(A))return i?Dv:l;let b=`${A}__${l}`;Pv(d)||(b=`${b}__${JSON.stringify(d)}`);let I=a.get(b);return I||(I=new Intl.DateTimeFormat(A,ai({},T,d)),a.set(b,I)),y?I.formatToParts(c):I.format(c)}const kD=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function tE(...t){const[e,n,i,r]=t,s=De();let o=De(),a;if(xt(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw co(Is.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw co(Is.INVALID_ISO_DATE_ARGUMENT)}}else if(Wat(e)){if(isNaN(e.getTime()))throw co(Is.INVALID_DATE_ARGUMENT);a=e}else if(In(e))a=e;else throw co(Is.INVALID_ARGUMENT);return xt(n)?s.key=n:Ht(n)&&Object.keys(n).forEach(l=>{kD.includes(l)?o[l]=n[l]:s[l]=n[l]}),xt(i)?s.locale=i:Ht(i)&&(o=i),Ht(r)&&(o=r),[s.key||"",a,s,o]}function RD(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function DD(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,p,d]=eE(...e),f=se(p.missingWarn)?p.missingWarn:t.missingWarn;se(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=V3(t,p),_=o(t,r,g);if(!xt(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let w={},A,T=null;const x="number format";for(let O=0;O<_.length&&(A=_[O],w=n[A]||{},T=w[l],!Ht(T));O++)J3(t,l,A,f,x);if(!Ht(T)||!xt(A))return i?Dv:l;let b=`${A}__${l}`;Pv(d)||(b=`${b}__${JSON.stringify(d)}`);let I=a.get(b);return I||(I=new Intl.NumberFormat(A,ai({},T,d)),a.set(b,I)),y?I.formatToParts(c):I.format(c)}const FD=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function eE(...t){const[e,n,i,r]=t,s=De();let o=De();if(!In(e))throw co(Is.INVALID_ARGUMENT);const a=e;return xt(n)?s.key=n:Ht(n)&&Object.keys(n).forEach(l=>{FD.includes(l)?o[l]=n[l]:s[l]=n[l]}),xt(i)?s.locale=i:Ht(i)&&(o=i),Ht(r)&&(o=r),[s.key||"",a,s,o]}function UD(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}Tlt();var Cct={ACLOCAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\aclocal;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\aclocal",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\sohali\\AppData\\Roaming",COLOR:"0",COMMONPROGRAMFILES:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"WONTN774838",COMSPEC:"C:\\WINDOWS\\system32\\cmd.exe",CONFIG_SITE:"C:/Users/sohali/AppData/Local/Programs/Git/etc/config.site",DISPLAY:"needs-to-be-defined",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_10308:"1",EXEPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",HOME:"C:\\Users\\sohali",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\sohali",HOSTNAME:"WONTN774838",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAAcSLJDp5EnUix/9MY4sVhIwQAAAACAAAAAAAQZgAAAAEAACAAAAAiq9m3rZnEtR0T5qLUcZihMsmEhOLjt6G+Xqi+Ok2S5gAAAAAOgAAAAAIAACAAAADCxNy3yQ+KYFBAPvcA1r7Qy48hk+aO9uPLMsGhi+/QwWAAAADy7LIbedUFqhdwateNq7QzyZutl/bqjJvFag7nA0L2buSz1oQ+393+Bl/4w2kmBsH2yG7X/TdFYlOR7Dj0bqz5WT1jS9H10a5kFNvuNmMKaE+0DA8CI2i21fOlhS5UiNdAAAAADq4NXGuElclFnBW9BecWXn8YzOmMZBghNm4aWNgTnwvoJL1B7skfdnyqZE8QWpJ4Czuino+qS1KN3i1ep0yPNQ==",INFOPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\info;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\info",INIT_CWD:"C:\\Users\\sohali\\ramp4-pcar4",LC_CTYPE:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\sohali\\AppData\\Local",LOGONSERVER:"\\\\ECONM3HWVDCP001",MANPATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\share\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\man;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\share\\man",MINGW_CHOST:"x86_64-w64-mingw32",MINGW_PACKAGE_PREFIX:"mingw-w64-x86_64",MINGW_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",MSYS:"disable_pcon",MSYSTEM:"MINGW64",MSYSTEM_CARCH:"x86_64",MSYSTEM_CHOST:"x86_64-w64-mingw32",MSYSTEM_PREFIX:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64",NODE:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",NODE_ENV:"production",npm_command:"run-script",npm_config_cache:"C:\\Users\\sohali\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_init_module:"C:\\Users\\sohali\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\sohali\\ramp4-pcar4",npm_config_loglevel:"silent",npm_config_node_gyp:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.2",npm_config_prefix:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",npm_config_userconfig:"C:\\Users\\sohali\\.npmrc",npm_config_user_agent:"npm/10.8.2 node/v20.17.0 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build:esDynamic",npm_lifecycle_script:"vite build --mode esDynamic",npm_node_execpath:"C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node.exe",npm_package_engines_node:"=22.12.0",npm_package_json:"C:\\Users\\sohali\\ramp4-pcar4\\package.json",npm_package_name:"ramp-pcar",npm_package_version:"4.11.0-beta",NUMBER_OF_PROCESSORS:"12",OLDPWD:"C:/Users/sohali",OneDrive:"C:\\Users\\sohali\\OneDrive - EC-EC",OneDriveCommercial:"C:\\Users\\sohali\\OneDrive - EC-EC",ORIGINAL_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64",ORIGINAL_TEMP:"C:/Users/sohali/AppData/Local/Temp",ORIGINAL_TMP:"C:/Users/sohali/AppData/Local/Temp",OS:"Windows_NT",PATH:"C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\ramp4-pcar4\\node_modules\\.bin;C:\\Users\\sohali\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\sohali\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\local\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin;C:\\Users\\sohali\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files (x86)\\Microsoft SQL Server\\160\\DTS\\Binn;C:\\Users\\sohali\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\sohali\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\cmd;C:\\Users\\sohali\\node-v20.17.0-win-x64\\node-v20.17.0-win-x64;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\vendor_perl;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\core_perl",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC",PKG_CONFIG_PATH:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\lib\\pkgconfig;C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\mingw64\\share\\pkgconfig",PKG_CONFIG_SYSTEM_INCLUDE_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/include",PKG_CONFIG_SYSTEM_LIBRARY_PATH:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/lib",PLINK_PROTOCOL:"ssh",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 186 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"ba03",ProgramData:"C:\\ProgramData",PROGRAMFILES:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",PWD:"C:/Users/sohali/ramp4-pcar4",SESSIONNAME:"Console",SHELL:"C:\\Users\\sohali\\AppData\\Local\\Programs\\Git\\usr\\bin\\bash.exe",SHLVL:"2",SSH_ASKPASS:"C:/Users/sohali/AppData/Local/Programs/Git/mingw64/bin/git-askpass.exe",SYSTEMDRIVE:"C:",SYSTEMROOT:"C:\\WINDOWS",TEMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TERM:"xterm",TERM_PROGRAM:"mintty",TERM_PROGRAM_VERSION:"3.7.1",TMP:"C:\\Users\\sohali\\AppData\\Local\\Temp",TMPDIR:"C:\\Users\\sohali\\AppData\\Local\\Temp",UATDATA:"C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",USERDNSDOMAIN:"ONTARIO.INT.EC.GC.CA",USERDOMAIN:"EC_ONTARIO",USERDOMAIN_ROAMINGPROFILE:"EC_ONTARIO",USERNAME:"SohalI",USERPROFILE:"C:\\Users\\sohali",WINDIR:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1",_:"C:/Users/sohali/node-v20.17.0-win-x64/node-v20.17.0-win-x64/node.exe"};const Mct="9.14.2";function Ict(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(aa().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(aa().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(aa().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(aa().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(aa().__INTLIFY_PROD_DEVTOOLS__=!1)}const Oct=Hlt.__EXTEND_POINT__,ca=Nv(Oct);ca(),ca(),ca(),ca(),ca(),ca(),ca(),ca(),ca();const $D=Is.__EXTEND_POINT__,ir=Nv($D),Hn={UNEXPECTED_RETURN_TYPE:$D,INVALID_ARGUMENT:ir(),MUST_BE_CALL_SETUP_TOP:ir(),NOT_INSTALLED:ir(),NOT_AVAILABLE_IN_LEGACY_MODE:ir(),REQUIRED_VALUE:ir(),INVALID_VALUE:ir(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ir(),NOT_INSTALLED_WITH_PROVIDE:ir(),UNEXPECTED_ERROR:ir(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ir(),BRIDGE_SUPPORT_VUE_2_ONLY:ir(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ir(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ir(),__EXTEND_POINT__:ir()};function Xn(t,...e){return Mp(t,null,void 0)}const nE=Rl("__translateVNode"),iE=Rl("__datetimeParts"),rE=Rl("__numberParts"),GD=Rl("__setPluralRules"),jD=Rl("__injectWithOption"),sE=Rl("__dispose");function Bm(t){if(!ve(t))return t;for(const e in t)if(Cs(t,e))if(!e.includes("."))ve(t[e])&&Bm(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let o=0;o<i;o++){if(n[o]in r||(r[n[o]]=De()),!ve(r[n[o]])){s=!0;break}r=r[n[o]]}s||(r[n[i]]=t[e],delete t[e]),ve(r[n[i]])&&Bm(r[n[i]])}return t}function Uv(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,o=Ht(n)?n:Xe(i)?De():{[t]:De()};if(Xe(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||De(),kv(c,o[l])):kv(c,o)}else xt(a)&&kv(JSON.parse(a),o)}),r==null&&s)for(const a in o)Cs(o,a)&&Bm(o[a]);return o}function BD(t){return t.type}function WD(t,e,n){let i=ve(e.messages)?e.messages:De();"__i18nGlobal"in n&&(i=Uv(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(ve(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(ve(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function zD(t){return Kt(lo,null,t,0)}const qD="__INTLIFY_META__",VD=()=>[],Pct=()=>!1;let HD=0;function YD(t){return(e,n,i,r)=>t(n,i,Cn()||void 0,r)}const bgt=()=>{const t=Cn();let e=null;return t&&(e=BD(t)[qD])?{[qD]:e}:null};function oE(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0,s=t.flatJson,o=Ov?tt:up,a=!!t.translateExistCompatible;let l=se(t.inheritLocale)?t.inheritLocale:!0;const c=o(n&&l?n.locale.value:xt(t.locale)?t.locale:Pp),p=o(n&&l?n.fallbackLocale.value:xt(t.fallbackLocale)||Xe(t.fallbackLocale)||Ht(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(Uv(c.value,t)),f=o(Ht(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),y=o(Ht(t.numberFormats)?t.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:se(t.missingWarn)||Dl(t.missingWarn)?t.missingWarn:!0,_=n?n.fallbackWarn:se(t.fallbackWarn)||Dl(t.fallbackWarn)?t.fallbackWarn:!0,w=n?n.fallbackRoot:se(t.fallbackRoot)?t.fallbackRoot:!0,A=!!t.fallbackFormat,T=He(t.missing)?t.missing:null,x=He(t.missing)?YD(t.missing):null,b=He(t.postTranslation)?t.postTranslation:null,I=n?n.warnHtmlMessage:se(t.warnHtmlMessage)?t.warnHtmlMessage:!0,O=!!t.escapeParameter;const L=n?n.modifiers:Ht(t.modifiers)?t.modifiers:{};let R=t.pluralRules||n&&n.pluralRules,D;D=(()=>{r&&AD(null);const z={version:Mct,locale:c.value,fallbackLocale:p.value,messages:d.value,modifiers:L,pluralRules:R,missing:x===null?void 0:x,missingWarn:g,fallbackWarn:_,fallbackFormat:A,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:I,escapeParameter:O,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};z.datetimeFormats=f.value,z.numberFormats=y.value,z.__datetimeFormatters=Ht(D)?D.__datetimeFormatters:void 0,z.__numberFormatters=Ht(D)?D.__numberFormatters:void 0;const Y=ict(z);return r&&AD(Y),Y})(),Gm(D,c.value,p.value);function W(){return[c.value,p.value,d.value,f.value,y.value]}const B=te({get:()=>c.value,set:z=>{c.value=z,D.locale=c.value}}),G=te({get:()=>p.value,set:z=>{p.value=z,D.fallbackLocale=p.value,Gm(D,c.value,z)}}),J=te(()=>d.value),it=te(()=>f.value),u=te(()=>y.value);function m(){return He(b)?b:null}function S(z){b=z,D.postTranslation=z}function N(){return T}function V(z){z!==null&&(x=YD(z)),T=z,D.missing=x}const X=(z,Y,ct,yt,Dt,Yt)=>{W();let Oe;try{Cct.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,r||(D.fallbackContext=n?nct():void 0),Oe=z(D)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(D.fallbackContext=void 0)}if(ct!=="translate exists"&&In(Oe)&&Oe===Dv||ct==="translate exists"&&!Oe){const[un,hi]=Y();return n&&w?yt(n):Dt(un)}else{if(Yt(Oe))return Oe;throw Xn(Hn.UNEXPECTED_RETURN_TYPE)}};function ft(...z){return X(Y=>Reflect.apply(OD,null,[Y,...z]),()=>Q3(...z),"translate",Y=>Reflect.apply(Y.t,Y,[...z]),Y=>Y,Y=>xt(Y))}function ot(...z){const[Y,ct,yt]=z;if(yt&&!ve(yt))throw Xn(Hn.INVALID_ARGUMENT);return ft(Y,ct,ai({resolvedMessage:!0},yt||{}))}function At(...z){return X(Y=>Reflect.apply(LD,null,[Y,...z]),()=>tE(...z),"datetime format",Y=>Reflect.apply(Y.d,Y,[...z]),()=>yD,Y=>xt(Y))}function Rt(...z){return X(Y=>Reflect.apply(DD,null,[Y,...z]),()=>eE(...z),"number format",Y=>Reflect.apply(Y.n,Y,[...z]),()=>yD,Y=>xt(Y))}function $t(z){return z.map(Y=>xt(Y)||In(Y)||se(Y)?zD(String(Y)):Y)}const It={normalize:$t,interpolate:z=>z,type:"vnode"};function ce(...z){return X(Y=>{let ct;const yt=Y;try{yt.processor=It,ct=Reflect.apply(OD,null,[yt,...z])}finally{yt.processor=null}return ct},()=>Q3(...z),"translate",Y=>Y[nE](...z),Y=>[zD(Y)],Y=>Xe(Y))}function ie(...z){return X(Y=>Reflect.apply(DD,null,[Y,...z]),()=>eE(...z),"number format",Y=>Y[rE](...z),VD,Y=>xt(Y)||Xe(Y))}function Ie(...z){return X(Y=>Reflect.apply(LD,null,[Y,...z]),()=>tE(...z),"datetime format",Y=>Y[iE](...z),VD,Y=>xt(Y)||Xe(Y))}function fe(z){R=z,D.pluralRules=R}function re(z,Y){return X(()=>{if(!z)return!1;const ct=xt(Y)?Y:c.value,yt=F(ct),Dt=D.messageResolver(yt,z);return a?Dt!=null:Lp(Dt)||Zr(Dt)||xt(Dt)},()=>[z],"translate exists",ct=>Reflect.apply(ct.te,ct,[z,Y]),Pct,ct=>se(ct))}function Fe(z){let Y=null;const ct=fD(D,p.value,c.value);for(let yt=0;yt<ct.length;yt++){const Dt=d.value[ct[yt]]||{},Yt=D.messageResolver(Dt,z);if(Yt!=null){Y=Yt;break}}return Y}function q(z){return Fe(z)??(n?n.tm(z)||{}:{})}function F(z){return d.value[z]||{}}function K(z,Y){if(s){const ct={[z]:Y};for(const yt in ct)Cs(ct,yt)&&Bm(ct[yt]);Y=ct[z]}d.value[z]=Y,D.messages=d.value}function st(z,Y){d.value[z]=d.value[z]||{};const ct={[z]:Y};if(s)for(const yt in ct)Cs(ct,yt)&&Bm(ct[yt]);Y=ct[z],kv(Y,d.value[z]),D.messages=d.value}function nt(z){return f.value[z]||{}}function M(z,Y){f.value[z]=Y,D.datetimeFormats=f.value,RD(D,z,Y)}function $(z,Y){f.value[z]=ai(f.value[z]||{},Y),D.datetimeFormats=f.value,RD(D,z,Y)}function C(z){return y.value[z]||{}}function k(z,Y){y.value[z]=Y,D.numberFormats=y.value,UD(D,z,Y)}function j(z,Y){y.value[z]=ai(y.value[z]||{},Y),D.numberFormats=y.value,UD(D,z,Y)}HD++,n&&Ov&&(qn(n.locale,z=>{l&&(c.value=z,D.locale=z,Gm(D,c.value,p.value))}),qn(n.fallbackLocale,z=>{l&&(p.value=z,D.fallbackLocale=z,Gm(D,c.value,p.value))}));const Z={id:HD,locale:B,fallbackLocale:G,get inheritLocale(){return l},set inheritLocale(z){l=z,z&&n&&(c.value=n.locale.value,p.value=n.fallbackLocale.value,Gm(D,c.value,p.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:J,get modifiers(){return L},get pluralRules(){return R||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(z){g=z,D.missingWarn=g},get fallbackWarn(){return _},set fallbackWarn(z){_=z,D.fallbackWarn=_},get fallbackRoot(){return w},set fallbackRoot(z){w=z},get fallbackFormat(){return A},set fallbackFormat(z){A=z,D.fallbackFormat=A},get warnHtmlMessage(){return I},set warnHtmlMessage(z){I=z,D.warnHtmlMessage=z},get escapeParameter(){return O},set escapeParameter(z){O=z,D.escapeParameter=z},t:ft,getLocaleMessage:F,setLocaleMessage:K,mergeLocaleMessage:st,getPostTranslationHandler:m,setPostTranslationHandler:S,getMissingHandler:N,setMissingHandler:V,[GD]:fe};return Z.datetimeFormats=it,Z.numberFormats=u,Z.rt=ot,Z.te=re,Z.tm=q,Z.d=At,Z.n=Rt,Z.getDateTimeFormat=nt,Z.setDateTimeFormat=M,Z.mergeDateTimeFormat=$,Z.getNumberFormat=C,Z.setNumberFormat=k,Z.mergeNumberFormat=j,Z[jD]=i,Z[nE]=ce,Z[iE]=Ie,Z[rE]=ie,Z}function Nct(t){const e=xt(t.locale)?t.locale:Pp,n=xt(t.fallbackLocale)||Xe(t.fallbackLocale)||Ht(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=He(t.missing)?t.missing:void 0,r=se(t.silentTranslationWarn)||Dl(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=se(t.silentFallbackWarn)||Dl(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=se(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Ht(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,p=He(t.postTranslation)?t.postTranslation:void 0,d=xt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,y=se(t.sync)?t.sync:!0;let g=t.messages;if(Ht(t.sharedMessages)){const O=t.sharedMessages;g=Object.keys(O).reduce((L,R)=>{const D=L[R]||(L[R]={});return ai(D,O[R]),L},g||{})}const{__i18n:_,__root:w,__injectWithOption:A}=t,T=t.datetimeFormats,x=t.numberFormats,b=t.flatJson,I=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:b,datetimeFormats:T,numberFormats:x,missing:i,missingWarn:r,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:p,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:y,translateExistCompatible:I,__i18n:_,__root:w,__injectWithOption:A}}function aE(t={},e){{const n=oE(Nct(t)),{__extender:i}=t,r={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return se(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=se(s)?!s:s},get silentFallbackWarn(){return se(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=se(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[o,a,l]=s,c={};let p=null,d=null;if(!xt(o))throw Xn(Hn.INVALID_ARGUMENT);const f=o;return xt(a)?c.locale=a:Xe(a)?p=a:Ht(a)&&(d=a),Xe(l)?p=l:Ht(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let p=null,d=null;if(!xt(o))throw Xn(Hn.INVALID_ARGUMENT);const f=o;return xt(a)?c.locale=a:In(a)?c.plural=a:Xe(a)?p=a:Ht(a)&&(d=a),xt(l)?c.locale=l:Xe(l)?p=l:Ht(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},te(s,o){return n.te(s,o)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,o){n.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){n.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,o){n.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){n.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,o){n.setNumberFormat(s,o)},mergeNumberFormat(s,o){n.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return r.__extender=i,r}}const lE={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Lct({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===Le?i.children:[i]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},De())}function JD(t){return Le}const kct=ne({name:"i18n-t",props:ai({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>In(t)||!isNaN(t)}},lE),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||Qe({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d!=="_"),o=De();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=xt(t.plural)?+t.plural:t.plural);const a=Lct(e,s),l=r[nE](t.keypath,a,o),c=ai(De(),i),p=xt(t.tag)||ve(t.tag)?t.tag:JD();return vr(p,c,l)}}}),ZD=kct;function Rct(t){return Xe(t)&&!xt(t[0])}function KD(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const o={part:!0};let a=De();t.locale&&(o.locale=t.locale),xt(t.format)?o.key=t.format:ve(t.format)&&(xt(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,y)=>n.includes(y)?ai(De(),f,{[y]:t.format[y]}):f,De()));const l=i(t.value,o,a);let c=[o.key];Xe(l)?c=l.map((f,y)=>{const g=r[f.type],_=g?g({[f.type]:f.value,index:y,parts:l}):[f.value];return Rct(_)&&(_[0].key=`${f.type}-${y}`),_}):xt(l)&&(c=[l]);const p=ai(De(),s),d=xt(t.tag)||ve(t.tag)?t.tag:JD();return vr(d,p,c)}}const Dct=ne({name:"i18n-n",props:ai({value:{type:Number,required:!0},format:{type:[String,Object]}},lE),setup(t,e){const n=t.i18n||Qe({useScope:t.scope,__useComponent:!0});return KD(t,e,FD,(...i)=>n[rE](...i))}}),XD=Dct,Fct=ne({name:"i18n-d",props:ai({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},lE),setup(t,e){const n=t.i18n||Qe({useScope:t.scope,__useComponent:!0});return KD(t,e,kD,(...i)=>n[iE](...i))}}),QD=Fct;function Uct(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function $ct(t){const e=n=>{const{instance:i,modifiers:r,value:s}=n;if(!i||!i.$)throw Xn(Hn.UNEXPECTED_ERROR);const o=Uct(t,i.$),a=t7(s);return[Reflect.apply(o.t,o,[...e7(a)]),o]};return{created:(n,i)=>{const[r,s]=e(i);Ov&&t.global===s&&(n.__i18nWatcher=qn(s.locale,()=>{i.instance&&i.instance.$forceUpdate()})),n.__composer=s,n.textContent=r},unmounted:n=>{Ov&&n.__i18nWatcher&&(n.__i18nWatcher(),n.__i18nWatcher=void 0,delete n.__i18nWatcher),n.__composer&&(n.__composer=void 0,delete n.__composer)},beforeUpdate:(n,{value:i})=>{if(n.__composer){const r=n.__composer,s=t7(i);n.textContent=Reflect.apply(r.t,r,[...e7(s)])}},getSSRProps:n=>{const[i]=e(n);return{textContent:i}}}}function t7(t){if(xt(t))return{path:t};if(Ht(t)){if(!("path"in t))throw Xn(Hn.REQUIRED_VALUE,"path");return t}else throw Xn(Hn.INVALID_VALUE)}function e7(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,o={},a=i||{};return xt(n)&&(o.locale=n),In(r)&&(o.plural=r),In(s)&&(o.plural=s),[e,a,o]}function Gct(t,e,...n){const i=Ht(n[0])?n[0]:{},r=!!i.useI18nComponentName;(!se(i.globalInstall)||i.globalInstall)&&([r?"i18n":ZD.name,"I18nT"].forEach(s=>t.component(s,ZD)),[XD.name,"I18nN"].forEach(s=>t.component(s,XD)),[QD.name,"I18nD"].forEach(s=>t.component(s,QD))),t.directive("t",$ct(e))}function jct(t,e,n){return{beforeCreate(){const i=Cn();if(!i)throw Xn(Hn.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const s=r.i18n;if(r.__i18n&&(s.__i18n=r.__i18n),s.__root=e,this===this.$root)this.$i18n=n7(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=aE(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=n7(t,r);else{this.$i18n=aE({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&WD(e,r,r),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=Cn();if(!i)throw Xn(Hn.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(i),delete this.$i18n}}}function n7(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[GD](e.pluralizationRules||t.pluralizationRules);const n=Uv(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const Bct=Rl("global-vue-i18n");function Wct(t={},e){const n=__VUE_I18N_LEGACY_API__&&se(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=se(t.globalInjection)?t.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[o,a]=zct(t,n),l=Rl("");function c(f){return s.get(f)||null}function p(f,y){s.set(f,y)}function d(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,f),Ht(g[0])){const A=g[0];f.__composerExtend=A.__composerExtend,f.__vueI18nExtend=A.__vueI18nExtend}let _=null;!n&&i&&(_=Qct(y,f.global)),__VUE_I18N_FULL_INSTALL__&&Gct(y,f,...g),__VUE_I18N_LEGACY_API__&&n&&y.mixin(jct(a,a.__composer,f));const w=y.unmount;y.unmount=()=>{_&&_(),f.dispose(),w()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:p,__deleteInstance:d};return f}}function Qe(t={}){const e=Cn();if(e==null)throw Xn(Hn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Xn(Hn.NOT_INSTALLED);const n=qct(e),i=Hct(n),r=BD(e),s=Vct(t,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw Xn(Hn.NOT_AVAILABLE_IN_LEGACY_MODE);return Kct(e,s,i,t)}if(s==="global")return WD(i,t,r),i;if(s==="parent"){let l=Yct(n,e,t.__useComponent);return l==null&&(l=i),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=ai({},t);"__i18n"in r&&(l.__i18n=r.__i18n),i&&(l.__root=i),a=oE(l),o.__composerExtend&&(a[sE]=o.__composerExtend(a)),Zct(o,e,a),o.__setInstance(e,a)}return a}function zct(t,e,n){const i=Xf();{const r=__VUE_I18N_LEGACY_API__&&e?i.run(()=>aE(t)):i.run(()=>oE(t));if(r==null)throw Xn(Hn.UNEXPECTED_ERROR);return[i,r]}}function qct(t){{const e=Rn(t.isCE?Bct:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Xn(t.isCE?Hn.NOT_INSTALLED_WITH_PROVIDE:Hn.UNEXPECTED_ERROR);return e}}function Vct(t,e){return Pv(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function Hct(t){return t.mode==="composition"?t.global:t.global.__composer}function Yct(t,e,n=!1){let i=null;const r=e.root;let s=Jct(e,n);for(;s!=null;){const o=t;if(t.mode==="composition")i=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(i=a.__composer,n&&i&&!i[jD]&&(i=null))}if(i!=null||r===s)break;s=s.parent}return i}function Jct(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function Zct(t,e,n){Zn(()=>{},e),tu(()=>{const i=n;t.__deleteInstance(e);const r=i[sE];r&&(r(),delete i[sE])},e)}function Kct(t,e,n,i={}){const r=e==="local",s=up(null);if(r&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Xn(Hn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=se(i.inheritLocale)?i.inheritLocale:!xt(i.locale),a=tt(!r||o?n.locale.value:xt(i.locale)?i.locale:Pp),l=tt(!r||o?n.fallbackLocale.value:xt(i.fallbackLocale)||Xe(i.fallbackLocale)||Ht(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=tt(Uv(a.value,i)),p=tt(Ht(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=tt(Ht(i.numberFormats)?i.numberFormats:{[a.value]:{}}),f=r?n.missingWarn:se(i.missingWarn)||Dl(i.missingWarn)?i.missingWarn:!0,y=r?n.fallbackWarn:se(i.fallbackWarn)||Dl(i.fallbackWarn)?i.fallbackWarn:!0,g=r?n.fallbackRoot:se(i.fallbackRoot)?i.fallbackRoot:!0,_=!!i.fallbackFormat,w=He(i.missing)?i.missing:null,A=He(i.postTranslation)?i.postTranslation:null,T=r?n.warnHtmlMessage:se(i.warnHtmlMessage)?i.warnHtmlMessage:!0,x=!!i.escapeParameter,b=r?n.modifiers:Ht(i.modifiers)?i.modifiers:{},I=i.pluralRules||r&&n.pluralRules;function O(){return[a.value,l.value,c.value,p.value,d.value]}const L=te({get:()=>s.value?s.value.locale.value:a.value,set:F=>{s.value&&(s.value.locale.value=F),a.value=F}}),R=te({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:F=>{s.value&&(s.value.fallbackLocale.value=F),l.value=F}}),D=te(()=>s.value?s.value.messages.value:c.value),W=te(()=>p.value),B=te(()=>d.value);function G(){return s.value?s.value.getPostTranslationHandler():A}function J(F){s.value&&s.value.setPostTranslationHandler(F)}function it(){return s.value?s.value.getMissingHandler():w}function u(F){s.value&&s.value.setMissingHandler(F)}function m(F){return O(),F()}function S(...F){return s.value?m(()=>Reflect.apply(s.value.t,null,[...F])):m(()=>"")}function N(...F){return s.value?Reflect.apply(s.value.rt,null,[...F]):""}function V(...F){return s.value?m(()=>Reflect.apply(s.value.d,null,[...F])):m(()=>"")}function X(...F){return s.value?m(()=>Reflect.apply(s.value.n,null,[...F])):m(()=>"")}function ft(F){return s.value?s.value.tm(F):{}}function ot(F,K){return s.value?s.value.te(F,K):!1}function At(F){return s.value?s.value.getLocaleMessage(F):{}}function Rt(F,K){s.value&&(s.value.setLocaleMessage(F,K),c.value[F]=K)}function $t(F,K){s.value&&s.value.mergeLocaleMessage(F,K)}function It(F){return s.value?s.value.getDateTimeFormat(F):{}}function ce(F,K){s.value&&(s.value.setDateTimeFormat(F,K),p.value[F]=K)}function ie(F,K){s.value&&s.value.mergeDateTimeFormat(F,K)}function Ie(F){return s.value?s.value.getNumberFormat(F):{}}function fe(F,K){s.value&&(s.value.setNumberFormat(F,K),d.value[F]=K)}function re(F,K){s.value&&s.value.mergeNumberFormat(F,K)}const Fe={get id(){return s.value?s.value.id:-1},locale:L,fallbackLocale:R,messages:D,datetimeFormats:W,numberFormats:B,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(F){s.value&&(s.value.inheritLocale=F)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:b},get pluralRules(){return s.value?s.value.pluralRules:I},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(F){s.value&&(s.value.fallbackRoot=F)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(F){s.value&&(s.value.fallbackFormat=F)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:T},set warnHtmlMessage(F){s.value&&(s.value.warnHtmlMessage=F)},get escapeParameter(){return s.value?s.value.escapeParameter:x},set escapeParameter(F){s.value&&(s.value.escapeParameter=F)},t:S,getPostTranslationHandler:G,setPostTranslationHandler:J,getMissingHandler:it,setMissingHandler:u,rt:N,d:V,n:X,tm:ft,te:ot,getLocaleMessage:At,setLocaleMessage:Rt,mergeLocaleMessage:$t,getDateTimeFormat:It,setDateTimeFormat:ce,mergeDateTimeFormat:ie,getNumberFormat:Ie,setNumberFormat:fe,mergeNumberFormat:re};function q(F){F.locale.value=a.value,F.fallbackLocale.value=l.value,Object.keys(c.value).forEach(K=>{F.mergeLocaleMessage(K,c.value[K])}),Object.keys(p.value).forEach(K=>{F.mergeDateTimeFormat(K,p.value[K])}),Object.keys(d.value).forEach(K=>{F.mergeNumberFormat(K,d.value[K])}),F.escapeParameter=x,F.fallbackFormat=_,F.fallbackRoot=g,F.fallbackWarn=y,F.missingWarn=f,F.warnHtmlMessage=T}return yp(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Xn(Hn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const F=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=F.locale.value,l.value=F.fallbackLocale.value,c.value=F.messages.value,p.value=F.datetimeFormats.value,d.value=F.numberFormats.value):r&&q(F)}),Fe}const Xct=["locale","fallbackLocale","availableLocales"],i7=["t","rt","d","n","tm","te"];function Qct(t,e){const n=Object.create(null);return Xct.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r)throw Xn(Hn.UNEXPECTED_ERROR);const s=pe(r.value)?{get(){return r.value.value},set(o){r.value.value=o}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,i,s)}),t.config.globalProperties.$i18n=n,i7.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r||!r.value)throw Xn(Hn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,r)}),()=>{delete t.config.globalProperties.$i18n,i7.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(Ict(),__INTLIFY_JIT_COMPILATION__?bD(xct):bD(wct),Qlt(klt),tct(fD),__INTLIFY_PROD_DEVTOOLS__){const t=aa();t.__INTLIFY__=!0,Wlt(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const tut={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"current","map.export":"export map","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/","select.items":" Use Arrow-up/down to select a value. Use Alt+Shift+Arrow-up/down to toggle the select menu"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"fran\xE7ais","lang-native":"Fran\xE7ais","ramp.about.open":"Ouvrir \xC0 propos de PCAR","ramp.about":"\xC0 propos de PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous d\xE9placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un \xE9l\xE9ment de la liste est s\xE9lectionn\xE9, vous pouvez appuyer sur \xAB Espace \xBB ou \xAB Entr\xE9e \xBB pour cliquer sur l'\xE9l\xE9ment. Vous pouvez \xE9galement vous d\xE9placer au sein de l'\xE9l\xE9ment de la liste au moyen de la touche \xAB Tab \xBB.","keyboardInstructions.map":"Lorsque la carte est s\xE9lectionn\xE9e, utilisez le pav\xE9 curseur pour vous d\xE9placer et appuyez sur \xAB Entr\xE9e \xBB  pour s\xE9lectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer \xE0 l'\xE9chelle m\xE9trique","map.toggleScaleToImperial":"Passer \xE0 l'\xE9chelle imp\xE9riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"actuel","map.export":"exporter la carte","notifications.open":"Ouvrir la fen\xEAtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"D\xE9velopper","notifications.controls.collapse":"R\xE9duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entr\xE9e ou sur la barre d'espacement pour acc\xE9der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"\xC9pingler","panels.controls.unpin":"D\xE9s\xE9pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"R\xE9duire","panels.controls.expand":"D\xE9velopper","panels.controls.collapse":"R\xE9duire","panels.controls.moveRight":"Aller \xE0 droite","panels.controls.moveLeft":"Aller \xE0 gauche","panels.controls.items":"Utilisez les touches fl\xE9ch\xE9es pour naviguer entre les \xE9l\xE9ments","panels.alert.open":"Fen\xEAtre {name} ouverte","panels.alert.close":"Fen\xEAtre {name} ferm\xE9e","panels.alert.minimize":"Fen\xEAtre {name} r\xE9duite","layer.error":"\xC9chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que pr\xE9vu","layer.longdraw":"{id} prend plus de temps que pr\xE9vu \xE0 extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont \xE9t\xE9 d\xE9sactiv\xE9s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement d\xE9sactiv\xE9.","layer.noexportmap":"La tentative d\u2019ajouter {name} comme couche d\u2019imagerie cartographique a \xE9chou\xE9e car elle n\u2019a pu \xEAtre activ\xE9 pour ce service","caption.attributionDefaultText":"Propuls\xE9 par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home","select.items":"Utilisez Fl\xE8che haut/bas pour s\xE9lectionner une valeur. Utilisez Alt+Shift+Fl\xE8che haut/bas pour basculer le menu de s\xE9lection"}},r7="en",eut={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function nut(){return Wct({legacy:!1,locale:document.documentElement.getAttribute("lang")||r7,fallbackLocale:r7,globalInjection:!0,messages:tut,numberFormats:eut})}var s7={exports:{}},o7;function iut(){return o7||(o7=1,function(t){(function(){var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},n=t.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,p={};l<c;l++)if(o=a[l],o&&o[1]in e){for(l=0;l<o.length;l++)p[a[0][l]]=o[l];return p}return!1}(),r={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||e.documentElement;var p=o[i.requestFullscreen]();p instanceof Promise&&p.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=e[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=r[o];l&&e.addEventListener(l,a,!1)},off:function(o,a){var l=r[o];l&&e.removeEventListener(l,a,!1)},raw:i};if(!i){n?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!e[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[i.fullscreenEnabled]}}}),n?t.exports=s:window.screenfull=s})()}(s7)),s7.exports}var rut=iut();const uo=qh(rut);var $v={exports:{}};$v.exports;var a7;function sut(){return a7||(a7=1,function(t,e){var n=200,i="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",p="[object Function]",d="[object GeneratorFunction]",f="[object Map]",y="[object Number]",g="[object Object]",_="[object Promise]",w="[object RegExp]",A="[object Set]",T="[object String]",x="[object Symbol]",b="[object WeakMap]",I="[object ArrayBuffer]",O="[object DataView]",L="[object Float32Array]",R="[object Float64Array]",D="[object Int8Array]",W="[object Int16Array]",B="[object Int32Array]",G="[object Uint8Array]",J="[object Uint8ClampedArray]",it="[object Uint16Array]",u="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,S=/\w*$/,N=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,X={};X[s]=X[o]=X[I]=X[O]=X[a]=X[l]=X[L]=X[R]=X[D]=X[W]=X[B]=X[f]=X[y]=X[g]=X[w]=X[A]=X[T]=X[x]=X[G]=X[J]=X[it]=X[u]=!0,X[c]=X[p]=X[b]=!1;var ft=typeof Pf=="object"&&Pf&&Pf.Object===Object&&Pf,ot=typeof self=="object"&&self&&self.Object===Object&&self,At=ft||ot||Function("return this")(),Rt=e&&!e.nodeType&&e,$t=Rt&&!0&&t&&!t.nodeType&&t,It=$t&&$t.exports===Rt;function ce(U,Q){return U.set(Q[0],Q[1]),U}function ie(U,Q){return U.add(Q),U}function Ie(U,Q){for(var at=-1,Ot=U?U.length:0;++at<Ot&&Q(U[at],at,U)!==!1;);return U}function fe(U,Q){for(var at=-1,Ot=Q.length,ei=U.length;++at<Ot;)U[ei+at]=Q[at];return U}function re(U,Q,at,Ot){for(var ei=-1,Ui=U?U.length:0;++ei<Ui;)at=Q(at,U[ei],ei,U);return at}function Fe(U,Q){for(var at=-1,Ot=Array(U);++at<U;)Ot[at]=Q(at);return Ot}function q(U,Q){return U?.[Q]}function F(U){var Q=!1;if(U!=null&&typeof U.toString!="function")try{Q=!!(U+"")}catch{}return Q}function K(U){var Q=-1,at=Array(U.size);return U.forEach(function(Ot,ei){at[++Q]=[ei,Ot]}),at}function st(U,Q){return function(at){return U(Q(at))}}function nt(U){var Q=-1,at=Array(U.size);return U.forEach(function(Ot){at[++Q]=Ot}),at}var M=Array.prototype,$=Function.prototype,C=Object.prototype,k=At["__core-js_shared__"],j=function(){var U=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return U?"Symbol(src)_1."+U:""}(),Z=$.toString,z=C.hasOwnProperty,Y=C.toString,ct=RegExp("^"+Z.call(z).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=It?At.Buffer:void 0,Dt=At.Symbol,Yt=At.Uint8Array,Oe=st(Object.getPrototypeOf,Object),un=Object.create,hi=C.propertyIsEnumerable,ti=M.splice,et=Object.getOwnPropertySymbols,Et=yt?yt.isBuffer:void 0,Tt=st(Object.keys,Object),Jt=Du(At,"DataView"),Xt=Du(At,"Map"),Fn=Du(At,"Promise"),pi=Du(At,"Set"),Rs=Du(At,"WeakMap"),Ds=Du(Object,"create"),To=Kl(Jt),Lu=Kl(Xt),va=Kl(Fn),$b=Kl(pi),od=Kl(Rs),Yl=Dt?Dt.prototype:void 0,L4=Yl?Yl.valueOf:void 0;function Jl(U){var Q=-1,at=U?U.length:0;for(this.clear();++Q<at;){var Ot=U[Q];this.set(Ot[0],Ot[1])}}function tU(){this.__data__=Ds?Ds(null):{}}function eU(U){return this.has(U)&&delete this.__data__[U]}function nU(U){var Q=this.__data__;if(Ds){var at=Q[U];return at===i?void 0:at}return z.call(Q,U)?Q[U]:void 0}function iU(U){var Q=this.__data__;return Ds?Q[U]!==void 0:z.call(Q,U)}function rU(U,Q){var at=this.__data__;return at[U]=Ds&&Q===void 0?i:Q,this}Jl.prototype.clear=tU,Jl.prototype.delete=eU,Jl.prototype.get=nU,Jl.prototype.has=iU,Jl.prototype.set=rU;function Co(U){var Q=-1,at=U?U.length:0;for(this.clear();++Q<at;){var Ot=U[Q];this.set(Ot[0],Ot[1])}}function sU(){this.__data__=[]}function oU(U){var Q=this.__data__,at=m0(Q,U);if(at<0)return!1;var Ot=Q.length-1;return at==Ot?Q.pop():ti.call(Q,at,1),!0}function aU(U){var Q=this.__data__,at=m0(Q,U);return at<0?void 0:Q[at][1]}function lU(U){return m0(this.__data__,U)>-1}function cU(U,Q){var at=this.__data__,Ot=m0(at,U);return Ot<0?at.push([U,Q]):at[Ot][1]=Q,this}Co.prototype.clear=sU,Co.prototype.delete=oU,Co.prototype.get=aU,Co.prototype.has=lU,Co.prototype.set=cU;function ku(U){var Q=-1,at=U?U.length:0;for(this.clear();++Q<at;){var Ot=U[Q];this.set(Ot[0],Ot[1])}}function uU(){this.__data__={hash:new Jl,map:new(Xt||Co),string:new Jl}}function hU(U){return y0(this,U).delete(U)}function pU(U){return y0(this,U).get(U)}function dU(U){return y0(this,U).has(U)}function fU(U,Q){return y0(this,U).set(U,Q),this}ku.prototype.clear=uU,ku.prototype.delete=hU,ku.prototype.get=pU,ku.prototype.has=dU,ku.prototype.set=fU;function Ru(U){this.__data__=new Co(U)}function mU(){this.__data__=new Co}function yU(U){return this.__data__.delete(U)}function gU(U){return this.__data__.get(U)}function vU(U){return this.__data__.has(U)}function bU(U,Q){var at=this.__data__;if(at instanceof Co){var Ot=at.__data__;if(!Xt||Ot.length<n-1)return Ot.push([U,Q]),this;at=this.__data__=new ku(Ot)}return at.set(U,Q),this}Ru.prototype.clear=mU,Ru.prototype.delete=yU,Ru.prototype.get=gU,Ru.prototype.has=vU,Ru.prototype.set=bU;function _U(U,Q){var at=Bb(U)||zU(U)?Fe(U.length,String):[],Ot=at.length,ei=!!Ot;for(var Ui in U)z.call(U,Ui)&&!(ei&&(Ui=="length"||GU(Ui,Ot)))&&at.push(Ui);return at}function k4(U,Q,at){var Ot=U[Q];(!(z.call(U,Q)&&U4(Ot,at))||at===void 0&&!(Q in U))&&(U[Q]=at)}function m0(U,Q){for(var at=U.length;at--;)if(U4(U[at][0],Q))return at;return-1}function wU(U,Q){return U&&R4(Q,Wb(Q),U)}function Gb(U,Q,at,Ot,ei,Ui,Mo){var $i;if(Ot&&($i=Ui?Ot(U,ei,Ui,Mo):Ot(U)),$i!==void 0)return $i;if(!g0(U))return U;var j4=Bb(U);if(j4){if($i=FU(U),!Q)return kU(U,$i)}else{var Fu=Zl(U),B4=Fu==p||Fu==d;if(VU(U))return CU(U,Q);if(Fu==g||Fu==s||B4&&!Ui){if(F(U))return Ui?U:{};if($i=UU(B4?{}:U),!Q)return RU(U,wU($i,U))}else{if(!X[Fu])return Ui?U:{};$i=$U(U,Fu,Gb,Q)}}Mo||(Mo=new Ru);var W4=Mo.get(U);if(W4)return W4;if(Mo.set(U,$i),!j4)var z4=at?DU(U):Wb(U);return Ie(z4||U,function(zb,v0){z4&&(v0=zb,zb=U[v0]),k4($i,v0,Gb(zb,Q,at,Ot,v0,U,Mo))}),$i}function xU(U){return g0(U)?un(U):{}}function SU(U,Q,at){var Ot=Q(U);return Bb(U)?Ot:fe(Ot,at(U))}function AU(U){return Y.call(U)}function EU(U){if(!g0(U)||BU(U))return!1;var Q=G4(U)||F(U)?ct:N;return Q.test(Kl(U))}function TU(U){if(!F4(U))return Tt(U);var Q=[];for(var at in Object(U))z.call(U,at)&&at!="constructor"&&Q.push(at);return Q}function CU(U,Q){if(Q)return U.slice();var at=new U.constructor(U.length);return U.copy(at),at}function jb(U){var Q=new U.constructor(U.byteLength);return new Yt(Q).set(new Yt(U)),Q}function MU(U,Q){var at=Q?jb(U.buffer):U.buffer;return new U.constructor(at,U.byteOffset,U.byteLength)}function IU(U,Q,at){var Ot=Q?at(K(U),!0):K(U);return re(Ot,ce,new U.constructor)}function OU(U){var Q=new U.constructor(U.source,S.exec(U));return Q.lastIndex=U.lastIndex,Q}function PU(U,Q,at){var Ot=Q?at(nt(U),!0):nt(U);return re(Ot,ie,new U.constructor)}function NU(U){return L4?Object(L4.call(U)):{}}function LU(U,Q){var at=Q?jb(U.buffer):U.buffer;return new U.constructor(at,U.byteOffset,U.length)}function kU(U,Q){var at=-1,Ot=U.length;for(Q||(Q=Array(Ot));++at<Ot;)Q[at]=U[at];return Q}function R4(U,Q,at,Ot){at||(at={});for(var ei=-1,Ui=Q.length;++ei<Ui;){var Mo=Q[ei],$i=void 0;k4(at,Mo,$i===void 0?U[Mo]:$i)}return at}function RU(U,Q){return R4(U,D4(U),Q)}function DU(U){return SU(U,Wb,D4)}function y0(U,Q){var at=U.__data__;return jU(Q)?at[typeof Q=="string"?"string":"hash"]:at.map}function Du(U,Q){var at=q(U,Q);return EU(at)?at:void 0}var D4=et?st(et,Object):JU,Zl=AU;(Jt&&Zl(new Jt(new ArrayBuffer(1)))!=O||Xt&&Zl(new Xt)!=f||Fn&&Zl(Fn.resolve())!=_||pi&&Zl(new pi)!=A||Rs&&Zl(new Rs)!=b)&&(Zl=function(U){var Q=Y.call(U),at=Q==g?U.constructor:void 0,Ot=at?Kl(at):void 0;if(Ot)switch(Ot){case To:return O;case Lu:return f;case va:return _;case $b:return A;case od:return b}return Q});function FU(U){var Q=U.length,at=U.constructor(Q);return Q&&typeof U[0]=="string"&&z.call(U,"index")&&(at.index=U.index,at.input=U.input),at}function UU(U){return typeof U.constructor=="function"&&!F4(U)?xU(Oe(U)):{}}function $U(U,Q,at,Ot){var ei=U.constructor;switch(Q){case I:return jb(U);case a:case l:return new ei(+U);case O:return MU(U,Ot);case L:case R:case D:case W:case B:case G:case J:case it:case u:return LU(U,Ot);case f:return IU(U,Ot,at);case y:case T:return new ei(U);case w:return OU(U);case A:return PU(U,Ot,at);case x:return NU(U)}}function GU(U,Q){return Q=Q??r,!!Q&&(typeof U=="number"||V.test(U))&&U>-1&&U%1==0&&U<Q}function jU(U){var Q=typeof U;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?U!=="__proto__":U===null}function BU(U){return!!j&&j in U}function F4(U){var Q=U&&U.constructor,at=typeof Q=="function"&&Q.prototype||C;return U===at}function Kl(U){if(U!=null){try{return Z.call(U)}catch{}try{return U+""}catch{}}return""}function WU(U){return Gb(U,!0,!0)}function U4(U,Q){return U===Q||U!==U&&Q!==Q}function zU(U){return qU(U)&&z.call(U,"callee")&&(!hi.call(U,"callee")||Y.call(U)==s)}var Bb=Array.isArray;function $4(U){return U!=null&&HU(U.length)&&!G4(U)}function qU(U){return YU(U)&&$4(U)}var VU=Et||ZU;function G4(U){var Q=g0(U)?Y.call(U):"";return Q==p||Q==d}function HU(U){return typeof U=="number"&&U>-1&&U%1==0&&U<=r}function g0(U){var Q=typeof U;return!!U&&(Q=="object"||Q=="function")}function YU(U){return!!U&&typeof U=="object"}function Wb(U){return $4(U)?_U(U):TU(U)}function JU(){return[]}function ZU(){return!1}t.exports=WU}($v,$v.exports)),$v.exports}var out=sut();const l7=qh(out),Gv=ln("maptip",()=>{const t=tt(void 0),e=tt(void 0),n=tt("");function i(o){t.value=o}function r(o){e.value=o}function s(o){n.value=o}return{maptipInstance:t,maptipPoint:e,content:n,setMaptipInstance:i,setMaptipPoint:r,setMaptipContent:s}}),aut=ne({__name:"esri-map",setup(t){const e=Gv(),n=Rn("iApi"),i=te(()=>e.maptipPoint),r=te(()=>e.maptipInstance),s=te(()=>e.content),o=Wn([]);o.push(qn(i,()=>{if(i.value){let l,c;const p=n.geo.map.getPixelWidth()/2,d=0,f=n.geo.map.mapPointToScreenPoint(i.value);l=f.screenX-p,c=d-f.screenY,r.value.setProps({offset:[l,c]}),s.value&&s.value!==""&&r.value.show()}else r.value.hide()})),o.push(qn(s,l=>{l&&l!==""&&i?(r.value.setContent(l),r.value.show()):r.value.hide()})),zr(()=>{o.forEach(l=>l())});const a=()=>{n.geo.map.setMouseFocus()};return(l,c)=>{const p=Ce("tippy");return Te((pt(),wt("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:a,onKeydown:c[0]||(c[0]=lv(wp(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[p,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var c7={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},cE={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},lut=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],jv={CSS:{},springs:{}};function ho(t,e,n){return Math.min(Math.max(t,e),n)}function Wm(t,e){return t.indexOf(e)>-1}function uE(t,e){return t.apply(null,e)}var kt={arr:function(t){return Array.isArray(t)},obj:function(t){return Wm(Object.prototype.toString.call(t),"Object")},pth:function(t){return kt.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||kt.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return kt.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return kt.hex(t)||kt.rgb(t)||kt.hsl(t)},key:function(t){return!c7.hasOwnProperty(t)&&!cE.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function u7(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function h7(t,e){var n=u7(t),i=ho(kt.und(n[0])?1:n[0],.1,100),r=ho(kt.und(n[1])?100:n[1],.1,100),s=ho(kt.und(n[2])?10:n[2],.1,100),o=ho(kt.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=s/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,p=1,d=l<1?(l*a+-o)/c:-o+a;function f(g){var _=e?e*g/1e3:g;return l<1?_=Math.exp(-_*l*a)*(p*Math.cos(c*_)+d*Math.sin(c*_)):_=(p+d*_)*Math.exp(-_*a),g===0||g===1?g:1-_}function y(){var g=jv.springs[t];if(g)return g;for(var _=1/6,w=0,A=0;;)if(w+=_,f(w)===1){if(A++,A>=16)break}else A=0;var T=w*_*1e3;return jv.springs[t]=T,T}return e?f:y}function cut(t){return t===void 0&&(t=10),function(e){return Math.ceil(ho(e,1e-6,1)*t)*(1/t)}}var uut=function(){var t=11,e=1/(t-1);function n(p,d){return 1-3*d+3*p}function i(p,d){return 3*d-6*p}function r(p){return 3*p}function s(p,d,f){return((n(d,f)*p+i(d,f))*p+r(d))*p}function o(p,d,f){return 3*n(d,f)*p*p+2*i(d,f)*p+r(d)}function a(p,d,f,y,g){var _,w,A=0;do w=d+(f-d)/2,_=s(w,y,g)-p,_>0?f=w:d=w;while(Math.abs(_)>1e-7&&++A<10);return w}function l(p,d,f,y){for(var g=0;g<4;++g){var _=o(d,f,y);if(_===0)return d;var w=s(d,f,y)-p;d-=w/_}return d}function c(p,d,f,y){if(!(0<=p&&p<=1&&0<=f&&f<=1))return;var g=new Float32Array(t);if(p!==d||f!==y)for(var _=0;_<t;++_)g[_]=s(_*e,p,f);function w(A){for(var T=0,x=1,b=t-1;x!==b&&g[x]<=A;++x)T+=e;--x;var I=(A-g[x])/(g[x+1]-g[x]),O=T+I*e,L=o(O,p,f);return L>=.001?l(A,O,p,f):L===0?O:a(A,T,T+e,p,f)}return function(A){return p===d&&f===y||A===0||A===1?A:s(w(A),d,y)}}return c}(),p7=function(){var t={linear:function(){return function(i){return i}}},e={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,s=4;i<((r=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((r*3-2)/22-i,2)}},Elastic:function(i,r){i===void 0&&(i=1),r===void 0&&(r=.5);var s=ho(i,1,10),o=ho(r,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(i,r){e[i]=function(){return function(s){return Math.pow(s,r+2)}}}),Object.keys(e).forEach(function(i){var r=e[i];t["easeIn"+i]=r,t["easeOut"+i]=function(s,o){return function(a){return 1-r(s,o)(1-a)}},t["easeInOut"+i]=function(s,o){return function(a){return a<.5?r(s,o)(a*2)/2:1-r(s,o)(a*-2+2)/2}},t["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-r(s,o)(1-a*2))/2:(r(s,o)(a*2-1)+1)/2}}}),t}();function hE(t,e){if(kt.fnc(t))return t;var n=t.split("(")[0],i=p7[n],r=u7(t);switch(n){case"spring":return h7(t,e);case"cubicBezier":return uE(uut,r);case"steps":return uE(cut,r);default:return uE(i,r)}}function d7(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function Bv(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}function Wv(t){return t.reduce(function(e,n){return e.concat(kt.arr(n)?Wv(n):n)},[])}function f7(t){return kt.arr(t)?t:(kt.str(t)&&(t=d7(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function pE(t,e){return t.some(function(n){return n===e})}function dE(t){var e={};for(var n in t)e[n]=t[n];return e}function fE(t,e){var n=dE(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function zv(t,e){var n=dE(t);for(var i in e)n[i]=kt.und(t[i])?e[i]:t[i];return n}function hut(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function put(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(a,l,c,p){return l+l+c+c+p+p}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+r+","+s+","+o+",1)"}function dut(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(e[1],10)/360,i=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100,s=e[4]||1;function o(f,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(y-f)*6*g:g<1/2?y:g<2/3?f+(y-f)*(2/3-g)*6:f}var a,l,c;if(i==0)a=l=c=r;else{var p=r<.5?r*(1+i):r+i-r*i,d=2*r-p;a=o(d,p,n+1/3),l=o(d,p,n),c=o(d,p,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function fut(t){if(kt.rgb(t))return hut(t);if(kt.hex(t))return put(t);if(kt.hsl(t))return dut(t)}function ua(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function mut(t){if(Wm(t,"translate")||t==="perspective")return"px";if(Wm(t,"rotate")||Wm(t,"skew"))return"deg"}function mE(t,e){return kt.fnc(t)?t(e.target,e.id,e.total):t}function po(t,e){return t.getAttribute(e)}function yE(t,e,n){var i=ua(e);if(pE([n,"deg","rad","turn"],i))return e;var r=jv.CSS[e+n];if(!kt.und(r))return r;var s=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+n;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return jv.CSS[e+n]=c,c}function m7(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?yE(t,r,n):r}}function gE(t,e){if(kt.dom(t)&&!kt.inp(t)&&(!kt.nil(po(t,e))||kt.svg(t)&&t[e]))return"attribute";if(kt.dom(t)&&pE(lut,e))return"transform";if(kt.dom(t)&&e!=="transform"&&m7(t,e))return"css";if(t[e]!=null)return"object"}function y7(t){if(kt.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map,r;r=n.exec(e);)i.set(r[1],r[2]);return i}}function yut(t,e,n,i){var r=Wm(e,"scale")?1:0+mut(e),s=y7(t).get(e)||r;return n&&(n.transforms.list.set(e,s),n.transforms.last=e),i?yE(t,s,i):s}function vE(t,e,n,i){switch(gE(t,e)){case"transform":return yut(t,e,i,n);case"css":return m7(t,e,n);case"attribute":return po(t,e);default:return t[e]||0}}function bE(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=ua(t)||0,r=parseFloat(e),s=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+s+i;case"-":return r-s+i;case"*":return r*s+i}}function g7(t,e){if(kt.col(t))return fut(t);if(/\s/g.test(t))return t;var n=ua(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function _E(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gut(t){return Math.PI*2*po(t,"r")}function vut(t){return po(t,"width")*2+po(t,"height")*2}function but(t){return _E({x:po(t,"x1"),y:po(t,"y1")},{x:po(t,"x2"),y:po(t,"y2")})}function v7(t){for(var e=t.points,n=0,i,r=0;r<e.numberOfItems;r++){var s=e.getItem(r);r>0&&(n+=_E(i,s)),i=s}return n}function _ut(t){var e=t.points;return v7(t)+_E(e.getItem(e.numberOfItems-1),e.getItem(0))}function b7(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return gut(t);case"rect":return vut(t);case"line":return but(t);case"polyline":return v7(t);case"polygon":return _ut(t)}}function wut(t){var e=b7(t);return t.setAttribute("stroke-dasharray",e),e}function xut(t){for(var e=t.parentNode;kt.svg(e)&&kt.svg(e.parentNode);)e=e.parentNode;return e}function _7(t,e){var n=e||{},i=n.el||xut(t),r=i.getBoundingClientRect(),s=po(i,"viewBox"),o=r.width,a=r.height,l=n.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function Sut(t,e){var n=kt.str(t)?d7(t)[0]:t,i=e||100;return function(r){return{property:r,el:n,svg:_7(n),totalLength:b7(n)*(i/100)}}}function Aut(t,e,n){function i(p){p===void 0&&(p=0);var d=e+p>=1?e+p:0;return t.el.getPointAtLength(d)}var r=_7(t.el,t.svg),s=i(),o=i(-1),a=i(1),l=n?1:r.w/r.vW,c=n?1:r.h/r.vH;switch(t.property){case"x":return(s.x-r.x)*l;case"y":return(s.y-r.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function w7(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=g7(kt.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:kt.str(t)||e?i.split(n):[]}}function wE(t){var e=t?Wv(kt.arr(t)?t.map(f7):f7(t)):[];return Bv(e,function(n,i,r){return r.indexOf(n)===i})}function x7(t){var e=wE(t);return e.map(function(n,i){return{target:n,id:i,total:e.length,transforms:{list:y7(n)}}})}function Eut(t,e){var n=dE(e);if(/^spring/.test(n.easing)&&(n.duration=h7(n.easing)),kt.arr(t)){var i=t.length,r=i===2&&!kt.obj(t[0]);r?t={value:t}:kt.fnc(e.duration)||(n.duration=e.duration/i)}var s=kt.arr(t)?t:[t];return s.map(function(o,a){var l=kt.obj(o)&&!kt.pth(o)?o:{value:o};return kt.und(l.delay)&&(l.delay=a?0:e.delay),kt.und(l.endDelay)&&(l.endDelay=a===s.length-1?e.endDelay:0),l}).map(function(o){return zv(o,n)})}function Tut(t){for(var e=Bv(Wv(t.map(function(s){return Object.keys(s)})),function(s){return kt.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},i=function(s){var o=e[s];n[o]=t.map(function(a){var l={};for(var c in a)kt.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<e.length;r++)i(r);return n}function Cut(t,e){var n=[],i=e.keyframes;i&&(e=zv(Tut(i),e));for(var r in e)kt.key(r)&&n.push({name:r,tweens:Eut(e[r],t)});return n}function Mut(t,e){var n={};for(var i in t){var r=mE(t[i],e);kt.arr(r)&&(r=r.map(function(s){return mE(s,e)}),r.length===1&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function Iut(t,e){var n;return t.tweens.map(function(i){var r=Mut(i,e),s=r.value,o=kt.arr(s)?s[1]:s,a=ua(o),l=vE(e.target,t.name,a,e),c=n?n.to.original:l,p=kt.arr(s)?s[0]:c,d=ua(p)||ua(l),f=a||d;return kt.und(o)&&(o=c),r.from=w7(p,f),r.to=w7(bE(o,p),f),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=hE(r.easing,r.duration),r.isPath=kt.pth(s),r.isPathTargetInsideSVG=r.isPath&&kt.svg(e.target),r.isColor=kt.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}var S7={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),t.style.transform=s}}};function A7(t,e){var n=x7(t);n.forEach(function(i){for(var r in e){var s=mE(e[r],i),o=i.target,a=ua(s),l=vE(o,r,a,i),c=a||ua(l),p=bE(g7(s,c),l),d=gE(o,r);S7[d](o,r,p,i.transforms,!0)}})}function Out(t,e){var n=gE(t.target,e.name);if(n){var i=Iut(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}function Put(t,e){return Bv(Wv(t.map(function(n){return e.map(function(i){return Out(n,i)})})),function(n){return!kt.und(n)})}function E7(t,e){var n=t.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,t.map(function(s){return i(s)+s.duration})):e.duration,r.delay=n?Math.min.apply(Math,t.map(function(s){return i(s)+s.delay})):e.delay,r.endDelay=n?r.duration-Math.max.apply(Math,t.map(function(s){return i(s)+s.duration-s.endDelay})):e.endDelay,r}var T7=0;function Nut(t){var e=fE(c7,t),n=fE(cE,t),i=Cut(n,t),r=x7(t.targets),s=Put(r,i),o=E7(s,n),a=T7;return T7++,zv(e,{id:a,children:[],animatables:r,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var Os=[],C7=function(){var t;function e(){!t&&(!M7()||!cn.suspendWhenDocumentHidden)&&Os.length>0&&(t=requestAnimationFrame(n))}function n(r){for(var s=Os.length,o=0;o<s;){var a=Os[o];a.paused?(Os.splice(o,1),s--):(a.tick(r),o++)}t=o>0?requestAnimationFrame(n):void 0}function i(){cn.suspendWhenDocumentHidden&&(M7()?t=cancelAnimationFrame(t):(Os.forEach(function(r){return r._onDocumentVisibility()}),C7()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),e}();function M7(){return!!document&&document.hidden}function cn(t){t===void 0&&(t={});var e=0,n=0,i=0,r,s=0,o=null;function a(T){var x=window.Promise&&new Promise(function(b){return o=b});return T.finished=x,x}var l=Nut(t);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,r.forEach(function(x){return x.reversed=l.reversed})}function p(T){return l.reversed?l.duration-T:T}function d(){e=0,n=p(l.currentTime)*(1/cn.speed)}function f(T,x){x&&x.seek(T-x.timelineOffset)}function y(T){if(l.reversePlayback)for(var x=s;x--;)f(T,r[x]);else for(var b=0;b<s;b++)f(T,r[b])}function g(T){for(var x=0,b=l.animations,I=b.length;x<I;){var O=b[x],L=O.animatable,R=O.tweens,D=R.length-1,W=R[D];D&&(W=Bv(R,function(It){return T<It.end})[0]||W);for(var B=ho(T-W.start-W.delay,0,W.duration)/W.duration,G=isNaN(B)?1:W.easing(B),J=W.to.strings,it=W.round,u=[],m=W.to.numbers.length,S=void 0,N=0;N<m;N++){var V=void 0,X=W.to.numbers[N],ft=W.from.numbers[N]||0;W.isPath?V=Aut(W.value,G*X,W.isPathTargetInsideSVG):V=ft+G*(X-ft),it&&(W.isColor&&N>2||(V=Math.round(V*it)/it)),u.push(V)}var ot=J.length;if(!ot)S=u[0];else{S=J[0];for(var At=0;At<ot;At++){J[At];var Rt=J[At+1],$t=u[At];isNaN($t)||(Rt?S+=$t+Rt:S+=$t+" ")}}S7[O.type](L.target,O.property,S,L.transforms),O.currentValue=S,x++}}function _(T){l[T]&&!l.passThrough&&l[T](l)}function w(){l.remaining&&l.remaining!==!0&&l.remaining--}function A(T){var x=l.duration,b=l.delay,I=x-l.endDelay,O=p(T);l.progress=ho(O/x*100,0,100),l.reversePlayback=O<l.currentTime,r&&y(O),!l.began&&l.currentTime>0&&(l.began=!0,_("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,_("loopBegin")),O<=b&&l.currentTime!==0&&g(0),(O>=I&&l.currentTime!==x||!x)&&g(x),O>b&&O<I?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,_("changeBegin")),_("change"),g(O)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,_("changeComplete")),l.currentTime=ho(O,0,x),l.began&&_("update"),T>=x&&(n=0,w(),l.remaining?(e=i,_("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,_("loopComplete"),_("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,r=l.children,s=r.length;for(var x=s;x--;)l.children[x].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,x){return A7(T,x),l},l.tick=function(T){i=T,e||(e=i),A((i+(n-e))*cn.speed)},l.seek=function(T){A(p(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Os.push(l),d(),C7())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var x=wE(T);O7(x,l)},l.reset(),l.autoplay&&l.play(),l}function I7(t,e){for(var n=e.length;n--;)pE(t,e[n].animatable.target)&&e.splice(n,1)}function O7(t,e){var n=e.animations,i=e.children;I7(t,n);for(var r=i.length;r--;){var s=i[r],o=s.animations;I7(t,o),!o.length&&!s.children.length&&i.splice(r,1)}!n.length&&!i.length&&e.pause()}function Lut(t){for(var e=wE(t),n=Os.length;n--;){var i=Os[n];O7(e,i)}}function kut(t,e){e===void 0&&(e={});var n=e.direction||"normal",i=e.easing?hE(e.easing):null,r=e.grid,s=e.axis,o=e.from||0,a=o==="first",l=o==="center",c=o==="last",p=kt.arr(t),d=parseFloat(p?t[0]:t),f=p?parseFloat(t[1]):0,y=ua(p?t[1]:t)||0,g=e.start||0+(p?d:0),_=[],w=0;return function(A,T,x){if(a&&(o=0),l&&(o=(x-1)/2),c&&(o=x-1),!_.length){for(var b=0;b<x;b++){if(!r)_.push(Math.abs(o-b));else{var I=l?(r[0]-1)/2:o%r[0],O=l?(r[1]-1)/2:Math.floor(o/r[0]),L=b%r[0],R=Math.floor(b/r[0]),D=I-L,W=O-R,B=Math.sqrt(D*D+W*W);s==="x"&&(B=-D),s==="y"&&(B=-W),_.push(B)}w=Math.max.apply(Math,_)}i&&(_=_.map(function(J){return i(J/w)*w})),n==="reverse"&&(_=_.map(function(J){return s?J<0?J*-1:-J:Math.abs(w-J)}))}var G=p?(f-d)/w:d;return g+G*(Math.round(_[T]*100)/100)+y}}function Rut(t){t===void 0&&(t={});var e=cn(t);return e.duration=0,e.add=function(n,i){var r=Os.indexOf(e),s=e.children;r>-1&&Os.splice(r,1);function o(f){f.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=zv(n,fE(cE,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=kt.und(i)?c:bE(i,c),o(e),e.seek(l.timelineOffset);var p=cn(l);o(p),s.push(p);var d=E7(s,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}cn.version="3.2.1",cn.speed=1,cn.suspendWhenDocumentHidden=!0,cn.running=Os,cn.remove=Lut,cn.get=vE,cn.set=A7,cn.convertPx=yE,cn.path=Sut,cn.setDashoffset=wut,cn.stagger=kut,cn.timeline=Rut,cn.easing=hE,cn.penner=p7,cn.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};class P7{resizeObserver;constructor(e){this.resizeObserver="ResizeObserver"in self?new ResizeObserver(function(n){const i={xs:200,sm:576,md:768,lg:960};n.forEach(function(r){const s=r.target.dataset.breakpoints?JSON.parse(r.target.dataset.breakpoints):e??i;Object.keys(s).forEach(function(o){const a=s[o];r.contentRect.width>=a?r.target.classList.add(o):r.target.classList.remove(o)})})}):void 0}observe(e){this.resizeObserver?.observe(e)}}const Dut=["data-cy"],N7=ne({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(t){const e=tt(null),n=t,i=tt(!1);Zn(()=>{n.panel.teleport&&new P7({xs:0,sm:461,...n.panel.teleport.breakpoints}).observe(e.value)});const r=(l,c,p)=>{if(i.value)return c();cn({targets:l,opacity:{value:p,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{r(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=n.panel.isScreenLoaded(n.panel.route.screen),e.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{r(l,c,[0,1])};return(l,c)=>{const p=Ce("focus-container");return pt(),wt("div",{class:an(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",t.panel.expanded?"flex-grow max-w-full":""]),style:Vo(t.panel.style),"data-cy":t.panel.id,ref_key:"componentEl",ref:e},[Kt(xm,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:gn(()=>[Te((pt(),Be(j1(t.panel.route.screen),vm({class:"h-full"},t.panel.route.props,{panel:t.panel}),null,16,["panel"])),[[p]])]),_:1})],14,Dut)}}}),Gl=ln("panel",()=>{const t=tt(void 0),e=tt(void 0),n=tt(0),i=tt(0),r=tt(!1),s=tt(!0),o=tt({}),a=tt({}),l=tt([]),c=tt([]),p=tt([]),d=te(()=>i.value);function f(B){return B==="xs"&&p.value.length>0?[p.value.slice().pop()]:p.value}function y(B){const G=[];return B.forEach(J=>{J in a.value&&G.push(a.value[J].getPromise())}),G}function g(B){O(B),b(),e.value=void 0}function _(B){L(B),b()}function w(B,G){R(B,G),b()}function A(B){D(B),b()}function T(B){n.value=B,b()}function x(B){r.value=B}function b(){let B=n.value;const G=[],J=350,it=12,u=600;for(let m=l.value.length-1;m>=0;m--){const S=l.value[m];let N=S.width||J;if(r.value?N=B:N+=it,S.id==="grid"&&(N=Math.max(Math.min(N,B),u)),(B>=N&&!r.value||G.length===0)&&(B-=N,G.unshift(S)),S.id==="grid"&&B<u)break}if(t.value&&!G.includes(t.value)&&!r.value){let m;for(let X=0;X<G.length-1&&B<(t.value.width||J)+it;X++)m=G.shift(),B+=m.width||J;B>=(t.value.width||J)?G.unshift(t.value):e.value||(m=G.shift(),G.unshift(t.value));const S=l.value.indexOf(t.value),N=l.value.indexOf(m),V=l.value.slice();N>-1&&(V.splice(S,1),V.splice(N,0,t.value)),l.value=V}i.value=B,p.value=G}function I(B){if(o.value={...o.value,[B.id]:B},B.id in a.value)a.value[B.id].resolveMe(B);else{const G=new xn;G.resolveMe(B),a.value={...a.value,[B.id]:G}}}function O(B){B.teleport?c.value=[...c.value,B]:(l.value=[...l.value,B],e.value=B)}function L(B){if(B.teleport){const G=c.value.indexOf(B);G!==-1&&(c.value=[...c.value.slice(0,G),...c.value.slice(G+1)])}else{const G=l.value.indexOf(B);G!==-1&&(l.value=[...l.value.slice(0,G),...l.value.slice(G+1)])}}function R(B,G){const J=l.value.indexOf(B),it=G==="right"?1:-1;p.value.includes(l.value[J+it])&&([l.value[J],l.value[J+it]]=[l.value[J+it],l.value[J]])}function D(B){o.value[B.id]!==void 0&&delete o.value[B.id],a.value[B.id]!==void 0&&delete a.value[B.id];const G=p.value.indexOf(B);G!==-1&&(p.value=[...p.value.slice(0,G),...p.value.slice(G+1)]),t.value&&t.value.id==B.id&&(t.value=void 0)}function W(B){a.value={...a.value,[B]:new xn}}return{items:o,regPromises:a,orderedItems:l,pinned:t,priority:e,visible:p,stackWidth:n,remWidth:i,mobileView:r,reorderable:s,teleported:c,getRemainingWidth:d,getVisible:f,getRegPromises:y,openPanel:g,closePanel:_,movePanel:w,removePanel:A,setStackWidth:T,setMobileView:x,updateVisible:b,registerPanel:I,addRegPromise:W}}),Fut=ne({__name:"panel-stack",setup(t){const e=Gl(),n=Rn("iApi"),i=tt(),r=te(()=>e.mobileView);Zn(()=>{new ResizeObserver(c=>{const p=!(n?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");r.value!==p&&(e.mobileView=p,n?.event.emit(Mt.RAMP_MOBILEVIEW_CHANGE,p)),e.setStackWidth(c[0].contentRect.width)}).observe(i.value?.$el)});const s=c=>e.getVisible(c),o=(c,p)=>{l(c,p,[[6,0],[0,1]])},a=(c,p)=>{const[d,f]=[c.children[0].getBoundingClientRect(),c.parentElement.getBoundingClientRect()];c.style.width=`${d.width}px`,c.style.height=`${d.height}px`,c.style.left=`${d.left-f.left}px`,c.style.position="absolute",l(c,p,[[0,-6],[1,0]])},l=(c,p,d)=>{cn({targets:c,duration:300,translateY:{value:d[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:d[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:p})};return(c,p)=>(pt(),Be(iv,{onEnter:o,onLeave:a,name:"panel-container",tag:"div",ref_key:"el",ref:i},{default:gn(()=>[(pt(!0),wt(Le,null,ta(s(Ct(n).screenSize),d=>(pt(),Be(N7,{key:`${d.id}`,panel:d},null,8,["panel"]))),128))]),_:1},512))}}),fo=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},Uut=fo(Fut,[["__scopeId","data-v-633cc399"]]);var rr="top",Kr="bottom",Xr="right",sr="left",xE="auto",zm=[rr,Kr,Xr,sr],kp="start",qm="end",$ut="clippingParents",L7="viewport",Vm="popper",Gut="reference",k7=zm.reduce(function(t,e){return t.concat([e+"-"+kp,e+"-"+qm])},[]),R7=[].concat(zm,[xE]).reduce(function(t,e){return t.concat([e,e+"-"+kp,e+"-"+qm])},[]),jut="beforeRead",But="read",Wut="afterRead",zut="beforeMain",qut="main",Vut="afterMain",Hut="beforeWrite",Yut="write",Jut="afterWrite",Zut=[jut,But,Wut,zut,qut,Vut,Hut,Yut,Jut];function mo(t){return t?(t.nodeName||"").toLowerCase():null}function xr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function mu(t){var e=xr(t).Element;return t instanceof e||t instanceof Element}function Qr(t){var e=xr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function SE(t){if(typeof ShadowRoot>"u")return!1;var e=xr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Kut(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!Qr(s)||!mo(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Xut(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Qr(r)||!mo(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const Qut={name:"applyStyles",enabled:!0,phase:"write",fn:Kut,effect:Xut,requires:["computeStyles"]};function yo(t){return t.split("-")[0]}var yu=Math.max,qv=Math.min,Rp=Math.round;function AE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function D7(){return!/^((?!chrome|android).)*safari/i.test(AE())}function Dp(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&Qr(t)&&(r=t.offsetWidth>0&&Rp(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Rp(i.height)/t.offsetHeight||1);var o=mu(t)?xr(t):window,a=o.visualViewport,l=!D7()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,p=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,f=i.height/s;return{width:d,height:f,top:p,right:c+d,bottom:p+f,left:c,x:c,y:p}}function EE(t){var e=Dp(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function F7(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&SE(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ha(t){return xr(t).getComputedStyle(t)}function tht(t){return["table","td","th"].indexOf(mo(t))>=0}function jl(t){return((mu(t)?t.ownerDocument:t.document)||window.document).documentElement}function Vv(t){return mo(t)==="html"?t:t.assignedSlot||t.parentNode||(SE(t)?t.host:null)||jl(t)}function U7(t){return!Qr(t)||ha(t).position==="fixed"?null:t.offsetParent}function eht(t){var e=/firefox/i.test(AE()),n=/Trident/i.test(AE());if(n&&Qr(t)){var i=ha(t);if(i.position==="fixed")return null}var r=Vv(t);for(SE(r)&&(r=r.host);Qr(r)&&["html","body"].indexOf(mo(r))<0;){var s=ha(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Hm(t){for(var e=xr(t),n=U7(t);n&&tht(n)&&ha(n).position==="static";)n=U7(n);return n&&(mo(n)==="html"||mo(n)==="body"&&ha(n).position==="static")?e:n||eht(t)||e}function TE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ym(t,e,n){return yu(t,qv(e,n))}function nht(t,e,n){var i=Ym(t,e,n);return i>n?n:i}function $7(){return{top:0,right:0,bottom:0,left:0}}function G7(t){return Object.assign({},$7(),t)}function j7(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var iht=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,G7(typeof t!="number"?t:j7(t,zm))};function rht(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=yo(n.placement),l=TE(a),c=[sr,Xr].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=iht(r.padding,n),f=EE(s),y=l==="y"?rr:sr,g=l==="y"?Kr:Xr,_=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],w=o[l]-n.rects.reference[l],A=Hm(s),T=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,x=_/2-w/2,b=d[y],I=T-f[p]-d[g],O=T/2-f[p]/2+x,L=Ym(b,O,I),R=l;n.modifiersData[i]=(e={},e[R]=L,e.centerOffset=L-O,e)}}function sht(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||F7(e.elements.popper,r)&&(e.elements.arrow=r))}const oht={name:"arrow",enabled:!0,phase:"main",fn:rht,effect:sht,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fp(t){return t.split("-")[1]}var aht={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lht(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:Rp(n*r)/r||0,y:Rp(i*r)/r||0}}function B7(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=o.x,y=f===void 0?0:f,g=o.y,_=g===void 0?0:g,w=typeof p=="function"?p({x:y,y:_}):{x:y,y:_};y=w.x,_=w.y;var A=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),x=sr,b=rr,I=window;if(c){var O=Hm(n),L="clientHeight",R="clientWidth";if(O===xr(n)&&(O=jl(n),ha(O).position!=="static"&&a==="absolute"&&(L="scrollHeight",R="scrollWidth")),O=O,r===rr||(r===sr||r===Xr)&&s===qm){b=Kr;var D=d&&O===I&&I.visualViewport?I.visualViewport.height:O[L];_-=D-i.height,_*=l?1:-1}if(r===sr||(r===rr||r===Kr)&&s===qm){x=Xr;var W=d&&O===I&&I.visualViewport?I.visualViewport.width:O[R];y-=W-i.width,y*=l?1:-1}}var B=Object.assign({position:a},c&&aht),G=p===!0?lht({x:y,y:_},xr(n)):{x:y,y:_};if(y=G.x,_=G.y,l){var J;return Object.assign({},B,(J={},J[b]=T?"0":"",J[x]=A?"0":"",J.transform=(I.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",J))}return Object.assign({},B,(e={},e[b]=T?_+"px":"",e[x]=A?y+"px":"",e.transform="",e))}function cht(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:yo(e.placement),variation:Fp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,B7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,B7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const uht={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cht,data:{}};var Hv={passive:!0};function hht(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=xr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,Hv)}),a&&l.addEventListener("resize",n.update,Hv),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,Hv)}),a&&l.removeEventListener("resize",n.update,Hv)}}const pht={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:hht,data:{}};var dht={left:"right",right:"left",bottom:"top",top:"bottom"};function Yv(t){return t.replace(/left|right|bottom|top/g,function(e){return dht[e]})}var fht={start:"end",end:"start"};function W7(t){return t.replace(/start|end/g,function(e){return fht[e]})}function CE(t){var e=xr(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function ME(t){return Dp(jl(t)).left+CE(t).scrollLeft}function mht(t,e){var n=xr(t),i=jl(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=D7();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+ME(t),y:l}}function yht(t){var e,n=jl(t),i=CE(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=yu(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=yu(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+ME(t),l=-i.scrollTop;return ha(r||n).direction==="rtl"&&(a+=yu(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function IE(t){var e=ha(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function z7(t){return["html","body","#document"].indexOf(mo(t))>=0?t.ownerDocument.body:Qr(t)&&IE(t)?t:z7(Vv(t))}function Jm(t,e){var n;e===void 0&&(e=[]);var i=z7(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=xr(i),o=r?[s].concat(s.visualViewport||[],IE(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(Jm(Vv(o)))}function OE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ght(t,e){var n=Dp(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function q7(t,e,n){return e===L7?OE(mht(t,n)):mu(e)?ght(e,n):OE(yht(jl(t)))}function vht(t){var e=Jm(Vv(t)),n=["absolute","fixed"].indexOf(ha(t).position)>=0,i=n&&Qr(t)?Hm(t):t;return mu(i)?e.filter(function(r){return mu(r)&&F7(r,i)&&mo(r)!=="body"}):[]}function bht(t,e,n,i){var r=e==="clippingParents"?vht(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var p=q7(t,c,i);return l.top=yu(p.top,l.top),l.right=qv(p.right,l.right),l.bottom=qv(p.bottom,l.bottom),l.left=yu(p.left,l.left),l},q7(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function V7(t){var e=t.reference,n=t.element,i=t.placement,r=i?yo(i):null,s=i?Fp(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case rr:l={x:o,y:e.y-n.height};break;case Kr:l={x:o,y:e.y+e.height};break;case Xr:l={x:e.x+e.width,y:a};break;case sr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?TE(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case kp:l[c]=l[c]-(e[p]/2-n[p]/2);break;case qm:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function gu(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?$ut:a,c=n.rootBoundary,p=c===void 0?L7:c,d=n.elementContext,f=d===void 0?Vm:d,y=n.altBoundary,g=y===void 0?!1:y,_=n.padding,w=_===void 0?0:_,A=G7(typeof w!="number"?w:j7(w,zm)),T=f===Vm?Gut:Vm,x=t.rects.popper,b=t.elements[g?T:f],I=bht(mu(b)?b:b.contextElement||jl(t.elements.popper),l,p,o),O=Dp(t.elements.reference),L=V7({reference:O,element:x,strategy:"absolute",placement:r}),R=OE(Object.assign({},x,L)),D=f===Vm?R:O,W={top:I.top-D.top+A.top,bottom:D.bottom-I.bottom+A.bottom,left:I.left-D.left+A.left,right:D.right-I.right+A.right},B=t.modifiersData.offset;if(f===Vm&&B){var G=B[r];Object.keys(W).forEach(function(J){var it=[Xr,Kr].indexOf(J)>=0?1:-1,u=[rr,Kr].indexOf(J)>=0?"y":"x";W[J]+=G[u]*it})}return W}function _ht(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?R7:l,p=Fp(i),d=p?a?k7:k7.filter(function(g){return Fp(g)===p}):zm,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,_){return g[_]=gu(t,{placement:_,boundary:r,rootBoundary:s,padding:o})[yo(_)],g},{});return Object.keys(y).sort(function(g,_){return y[g]-y[_]})}function wht(t){if(yo(t)===xE)return[];var e=Yv(t);return[W7(t),e,W7(e)]}function xht(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,_=n.allowedAutoPlacements,w=e.options.placement,A=yo(w),T=A===w,x=l||(T||!g?[Yv(w)]:wht(w)),b=[w].concat(x).reduce(function(Rt,$t){return Rt.concat(yo($t)===xE?_ht(e,{placement:$t,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:_}):$t)},[]),I=e.rects.reference,O=e.rects.popper,L=new Map,R=!0,D=b[0],W=0;W<b.length;W++){var B=b[W],G=yo(B),J=Fp(B)===kp,it=[rr,Kr].indexOf(G)>=0,u=it?"width":"height",m=gu(e,{placement:B,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=it?J?Xr:sr:J?Kr:rr;I[u]>O[u]&&(S=Yv(S));var N=Yv(S),V=[];if(s&&V.push(m[G]<=0),a&&V.push(m[S]<=0,m[N]<=0),V.every(function(Rt){return Rt})){D=B,R=!1;break}L.set(B,V)}if(R)for(var X=g?3:1,ft=function(Rt){var $t=b.find(function(It){var ce=L.get(It);if(ce)return ce.slice(0,Rt).every(function(ie){return ie})});if($t)return D=$t,"break"},ot=X;ot>0;ot--){var At=ft(ot);if(At==="break")break}e.placement!==D&&(e.modifiersData[i]._skip=!0,e.placement=D,e.reset=!0)}}const Sht={name:"flip",enabled:!0,phase:"main",fn:xht,requiresIfExists:["offset"],data:{_skip:!1}};function H7(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Y7(t){return[rr,Xr,Kr,sr].some(function(e){return t[e]>=0})}function Aht(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=gu(e,{elementContext:"reference"}),a=gu(e,{altBoundary:!0}),l=H7(o,i),c=H7(a,r,s),p=Y7(l),d=Y7(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}const Eht={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Aht};function Tht(t,e,n){var i=yo(t),r=[sr,rr].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[sr,Xr].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Cht(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=R7.reduce(function(p,d){return p[d]=Tht(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const Mht={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Cht};function Iht(t){var e=t.state,n=t.name;e.modifiersData[n]=V7({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Oht={name:"popperOffsets",enabled:!0,phase:"read",fn:Iht,data:{}};function Pht(t){return t==="x"?"y":"x"}function Nht(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,_=g===void 0?0:g,w=gu(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=yo(e.placement),T=Fp(e.placement),x=!T,b=TE(A),I=Pht(b),O=e.modifiersData.popperOffsets,L=e.rects.reference,R=e.rects.popper,D=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,W=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(O){if(s){var J,it=b==="y"?rr:sr,u=b==="y"?Kr:Xr,m=b==="y"?"height":"width",S=O[b],N=S+w[it],V=S-w[u],X=y?-R[m]/2:0,ft=T===kp?L[m]:R[m],ot=T===kp?-R[m]:-L[m],At=e.elements.arrow,Rt=y&&At?EE(At):{width:0,height:0},$t=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$7(),It=$t[it],ce=$t[u],ie=Ym(0,L[m],Rt[m]),Ie=x?L[m]/2-X-ie-It-W.mainAxis:ft-ie-It-W.mainAxis,fe=x?-L[m]/2+X+ie+ce+W.mainAxis:ot+ie+ce+W.mainAxis,re=e.elements.arrow&&Hm(e.elements.arrow),Fe=re?b==="y"?re.clientTop||0:re.clientLeft||0:0,q=(J=B?.[b])!=null?J:0,F=S+Ie-q-Fe,K=S+fe-q,st=Ym(y?qv(N,F):N,S,y?yu(V,K):V);O[b]=st,G[b]=st-S}if(a){var nt,M=b==="x"?rr:sr,$=b==="x"?Kr:Xr,C=O[I],k=I==="y"?"height":"width",j=C+w[M],Z=C-w[$],z=[rr,sr].indexOf(A)!==-1,Y=(nt=B?.[I])!=null?nt:0,ct=z?j:C-L[k]-R[k]-Y+W.altAxis,yt=z?C+L[k]+R[k]-Y-W.altAxis:Z,Dt=y&&z?nht(ct,C,yt):Ym(y?ct:j,C,y?yt:Z);O[I]=Dt,G[I]=Dt-C}e.modifiersData[i]=G}}const Lht={name:"preventOverflow",enabled:!0,phase:"main",fn:Nht,requiresIfExists:["offset"]};function kht(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Rht(t){return t===xr(t)||!Qr(t)?CE(t):kht(t)}function Dht(t){var e=t.getBoundingClientRect(),n=Rp(e.width)/t.offsetWidth||1,i=Rp(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Fht(t,e,n){n===void 0&&(n=!1);var i=Qr(e),r=Qr(e)&&Dht(e),s=jl(e),o=Dp(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((mo(e)!=="body"||IE(s))&&(a=Rht(e)),Qr(e)?(l=Dp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=ME(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Uht(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function $ht(t){var e=Uht(t);return Zut.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Ght(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function jht(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var J7={placement:"bottom",modifiers:[],strategy:"absolute"};function Z7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Bht(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?J7:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},J7,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(_){var w=typeof _=="function"?_(c.options):_;g(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:mu(o)?Jm(o):o.contextElement?Jm(o.contextElement):[],popper:Jm(a)};var A=$ht(jht([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(T){return T.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var _=c.elements,w=_.reference,A=_.popper;if(Z7(w,A)){c.rects={reference:Fht(w,Hm(A),c.options.strategy==="fixed"),popper:EE(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var x=c.orderedModifiers[T],b=x.fn,I=x.options,O=I===void 0?{}:I,L=x.name;typeof b=="function"&&(c=b({state:c,options:O,name:L,instance:f})||c)}}}},update:Ght(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){g(),d=!0}};if(!Z7(o,a))return f;f.setOptions(l).then(function(_){!d&&l.onFirstUpdate&&l.onFirstUpdate(_)});function y(){c.orderedModifiers.forEach(function(_){var w=_.name,A=_.options,T=A===void 0?{}:A,x=_.effect;if(typeof x=="function"){var b=x({state:c,name:w,instance:f,options:T}),I=function(){};p.push(b||I)}})}function g(){p.forEach(function(_){return _()}),p=[]}return f}}var Wht=[pht,Oht,uht,Qut,Mht,Sht,Lht,oht,Eht],K7=Bht({defaultModifiers:Wht});const zht=["content","aria-label"],PE=ne({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(t){const e=tt(!1),n=tt(null),i=Wn([]),r=tt(),s=tt(),o=tt(),a=t;i.push(qn(e,()=>{n.value.update()}));const l=()=>{e.value=!e.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:e.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},p=()=>{o.value._tippy.hide()};return Zn(()=>{window.addEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{e.value=!1}),window.addEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",p),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",p),Br(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:f}){const{bottom:y}=gu(f);y>0?(f.styles.popper.overflowY=y>100?"auto":void 0,f.styles.popper.overflowX="hidden",f.styles.popper.height=`${f.rects.popper.height-y-8}px`):f.styles.popper.height="auto"}};o.value&&s.value&&(n.value=K7(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),zr(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{e.value=!1}),window.removeEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",p),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",p),e.value=!1}),(d,f)=>{const y=Ce("tippy");return pt(),wt("div",{ref_key:"el",ref:r},[Te((pt(),wt("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:t.tooltip,"aria-label":t.ariaLabel?String(t.ariaLabel):String(t.tooltip),ref_key:"dropdownTrigger",ref:o},[qr(d.$slots,"header")],8,zht)),[[y,{placement:t.tooltipPlacement,theme:t.tooltipTheme,animation:t.tooltipAnimation,appendTo:"parent",trigger:"manual"}]]),Te(lt("div",{onClick:f[0]||(f[0]=g=>n.value.update()),class:an(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":t.centered}]),ref_key:"dropdown",ref:s},[qr(d.$slots,"default",{close:()=>e.value=!e.value})],2),[[Sm,e.value]])],512)}}}),Ps=ln("notification",()=>{const t=tt([]),e=tt({}),n=te(()=>t.value.length>=99?99:t.value.length);function i(c){t.value=[c,...t.value]}function r(c){if(t.value.includes(c)){const p=t.value.indexOf(c);c instanceof X7&&l(c),p>-1&&t.value.splice(p,1)}}function s(c){e.value[c.id]=c}function o(c,p){e.value[c]&&(e.value[c].messageList.push(p),t.value.includes(e.value[c])||(t.value=[e.value[c],...t.value]))}function a(){Object.values(e.value).forEach(c=>l(c)),t.value=[]}function l(c){const p=t.value.indexOf(c);p>-1&&t.value.splice(p,1),c.messageList=[]}return{notificationStack:t,groups:e,notificationNumber:n,showNotification:i,removeNotification:r,registerGroup:s,addToGroup:o,clearAll:a}}),qht={class:"h-full flex flex-col"},Vht={class:"w-full flex mb-6"},Hht=["content","aria-label"],Yht=ne({__name:"screen",props:{panel:{type:Object,required:!0}},setup(t){const e=Ps(),{t:n}=Qe(),i=te(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=vn("panel-screen"),l=Ce("tippy");return pt(),Be(a,{panel:t.panel},{header:gn(()=>[As(je(Ct(n)("notifications.title")),1)]),content:gn(()=>[lt("div",qht,[lt("div",Vht,[Te((pt(),wt("button",{type:"button",onClick:r,class:an(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ct(n)("notifications.controls.clearAll"),"aria-label":Ct(n)("notifications.controls.clearAll")},o[0]||(o[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[lt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),lt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),lt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),lt("path",{d:"M22 22l-5 -5"}),lt("path",{d:"M17 22l5 -5"})],-1)]),10,Hht)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Kt(Q7,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var or=(t=>(t.ERROR="error",t.INFO="info",t.WARNING="warning",t))(or||{});class Jht extends An{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":yn(Yht)},alertName:"notifications.title"}}),this.notificationStore=Ps(this.$vApp.$pinia)}show(e,n){this.notificationStore.showNotification({type:e,message:n})}addGroup(e,n,i){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const r=new X7(this.$iApi,e,n,i);return this.notificationStore.registerGroup(r),r}getGroup(e){return this.notificationStore.groups[e]}}class X7 extends An{notificationStore=Ps(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,n,i,r){super(e),this.id=n,this.type=i,this.message=r}show(e){this.notificationStore.addToGroup(this.id,e)}}const Zht=["content"],Kht={class:"flex items-center text-left"},Xht={class:"select-text cursor-text"},Qht=["content"],tpt={key:0,class:"text-left"},ept=ne({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(t){const e=Ps(),{t:n}=Qe(),i=t,r=tt(!1),s=Wn({[or.WARNING]:"\u26A0",[or.INFO]:"\u2139\uFE0F",[or.ERROR]:"\u274C"}),o=l=>{e.removeNotification(l)},a=()=>{if(!i.notification.messageList)return!1};return(l,c)=>{const p=Ce("tippy");return Te((pt(),wt("li",{class:an(["flex-col default-focus-style p-4",t.notification.messageList?"cursor-pointer":""]),content:Ct(n)(r.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>r.value=!r.value)},[lt("div",Kht,[lt("span",null,[As(je(s[t.notification.type])+" ",1),lt("span",Xht,je(t.notification.message),1)]),c[4]||(c[4]=lt("span",{class:"flex-grow"},null,-1)),t.notification.messageList?(pt(),wt("div",{key:0,class:an(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":r.value}])},c[2]||(c[2]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[lt("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Ve("",!0),Te((pt(),wt("button",{type:"button",onClick:c[0]||(c[0]=wp(d=>o(t.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Ct(n)("notifications.controls.dismiss")},c[3]||(c[3]=[lt("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[lt("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,Qht)),[[p,{theme:"ramp4",animation:"scale"}]])]),t.notification.messageList&&r.value?(pt(),wt("div",tpt,[(pt(!0),wt(Le,null,ta(t.notification.messageList,(d,f)=>(pt(),wt("p",{key:t.notification.id+d+f},je(d),1))),128))])):Ve("",!0)],10,Zht)),[[p,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),npt=["content"],ipt={key:0,class:"w-full border-b border-black"},rpt={key:1,class:"flex flex-col items-center h-full"},Q7=ne({__name:"notification-list",setup(t){const e=Ps(),{t:n}=Qe(),i=tt(),r=()=>{i.value._tippy.hide()},s=a=>{a.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()};Zn(()=>{i.value?.addEventListener("blur",r),i.value?.addEventListener("keyup",s)}),zr(()=>{i.value?.removeEventListener("blur",r),i.value?.removeEventListener("keyup",s)});const o=te(()=>e.notificationStack);return(a,l)=>{const c=Ce("focus-item"),p=Ce("focus-list"),d=Ce("tippy");return pt(),wt("div",null,[o.value.length>0?Te((pt(),wt("ul",{key:0,content:Ct(n)("panels.controls.items"),ref_key:"el",ref:i},[(pt(!0),wt(Le,null,ta(o.value,(f,y)=>(pt(),wt(Le,{key:f.message+y},[y>0?(pt(),wt("div",ipt)):Ve("",!0),Te(Kt(ept,{class:an([f.type]),notification:f},null,8,["class","notification"]),[[c]])],64))),128))],8,npt)),[[p],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(pt(),wt("div",rpt,[l[0]||(l[0]=lt("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[lt("path",{d:"M0 0h24v24H0z",fill:"none"}),lt("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),lt("span",null,je(Ct(n)("notifications.empty")),1),l[2]||(l[2]=lt("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),spt={class:"flex items-center hover:text-white"},opt=["aria-label"],apt={key:0,class:"number rounded-full w-18 text-white"},lpt={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},cpt={class:"pb-8 border-b border-gray-600"},upt={class:"absolute flex right-3 top-3"},hpt=["content","aria-label"],ppt=ne({__name:"caption-button",setup(t){const e=Ps(),{t:n}=Qe(),i=te(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=vn("close"),l=Ce("tippy");return pt(),Be(PE,{position:"top-start",tooltip:Ct(n)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:gn(()=>[lt("div",spt,[(pt(),wt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Ct(n)("notifications.open")},o[0]||(o[0]=[lt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,opt)),i.value&&i.value>0?(pt(),wt("span",apt,je(i.value),1)):Ve("",!0)])]),default:gn(c=>[lt("div",lpt,[lt("div",null,[lt("h4",cpt,je(Ct(n)("notifications.title")),1),lt("div",upt,[Te((pt(),wt("button",{type:"button",onClick:r,class:an(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ct(n)("notifications.controls.clearAll"),"aria-label":Ct(n)("notifications.controls.clearAll")},o[1]||(o[1]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[lt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),lt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),lt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),lt("path",{d:"M22 22l-5 -5"}),lt("path",{d:"M17 22l5 -5"})],-1)]),10,hpt)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Kt(a,{onClick:c.close},null,8,["onClick"])])]),Kt(Q7,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),dpt=fo(ppt,[["__scopeId","data-v-42ba1036"]]),fpt={class:"flex hover:text-white"},mpt=["aria-label"],ypt={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},gpt={class:"pb-8 border-b border-gray-600 mb-10"},vpt={class:"absolute right-5 top-5"},bpt={class:"select-text"},_pt={class:"font-bold cursor-text"},wpt={class:"text-sm cursor-text"},xpt={class:"text-sm cursor-text"},Spt=ne({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(t){const{t:e}=Qe(),n=te(()=>`${id.major}.${id.minor}.${id.patch}`),i=te(()=>id.hash.slice(0,9)),r=te(()=>{let s=new Date(id.timestamp);if(isNaN(s))return"dev mode, no date";{const o=a=>a<10?"0"+a.toString():a.toString();return`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()} ${s.getHours()}:${o(s.getMinutes())}:${o(s.getSeconds())}`}});return(s,o)=>{const a=vn("close"),l=vn("dropdown-menu"),c=Ce("focus-item");return Te((pt(),Be(l,{class:"pointer-events-auto sm:flex",position:t.position,tooltip:Ct(e)("ramp.about"),tooltipPlacement:t.position},{header:gn(()=>[lt("div",fpt,[(pt(),wt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Ct(e)("ramp.about.open")},o[0]||(o[0]=[lt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,mpt))])]),default:gn(p=>[lt("div",ypt,[lt("div",null,[lt("h4",gpt,je(Ct(e)("ramp.about")),1),lt("div",vpt,[Kt(a,{onClick:p.close},null,8,["onClick"])]),lt("div",bpt,[lt("div",null,[lt("span",_pt,je(n.value),1),lt("span",wpt," ["+je(i.value)+"] ",1)]),lt("div",null,[lt("span",xpt,je(r.value),1)]),o[1]||(o[1]=lt("div",{class:"mt-5"},[lt("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[lt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),As(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[c]])}}}),t9=fo(Spt,[["__scopeId","data-v-cfc15514"]]),Apt={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Ept={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Tpt=["href","aria-label"],Cpt=["src","alt"],Mpt={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},Ipt={class:"flex min-w-fit justify-end"},Opt={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Ppt=["aria-pressed","aria-label","content"],Npt={class:"relative top-1 text-sm sm:text-base"},Lpt={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},kpt=["onClick"],Rpt={key:0,class:"sr-only"},Dpt=ne({__name:"map-caption",setup(t){const e=kl(),n=Di(),{t:i}=Qe(),r=Rn("iApi"),s=te(()=>e.scale),o=te(()=>e.attribution),a=te(()=>e.coords),l=te(()=>e.langtoggle),c=te(()=>n.config.map),p=tt([]),d=Wn([]);d.push(qn(c,_=>{_&&r.geo.map.caption.createCaption(c.value?.caption)})),zr(()=>{d.forEach(_=>_())}),Qc(()=>{Br(()=>{r.$i18n.locale.value&&p.value.length==0&&(p.value=r.$i18n.availableLocales)})});const f=_=>{r.$i18n.locale.value!=_&&r.setLanguage(_)},y=()=>{e.toggleScale(),r.geo.map.caption.updateScale()},g=(_=!1)=>i(_?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(_,w)=>{const A=vn("dropdown-menu"),T=Ce("truncate"),x=Ce("tippy");return pt(),wt("div",Apt,[Kt(t9,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Kt(dpt,{class:"sm:block display-none"}),o.value?.logo.disabled?Ve("",!0):(pt(),wt("span",Ept,[lt("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[lt("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,Cpt)],8,Tpt)])),o.value?.text.disabled?Ve("",!0):Te((pt(),wt("span",Mpt,[As(je(o.value?.text.value),1)])),[[T,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),w[0]||(w[0]=lt("span",{class:"flex-grow w-15"},null,-1)),lt("div",Ipt,[a.value?.disabled?Ve("",!0):Te((pt(),wt("div",Opt,[As(je(a.value?.formattedString),1)])),[[T,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),s.value?.disabled?Ve("",!0):Te((pt(),wt("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:y,"aria-pressed":s.value?.isImperialScale,"aria-label":`
                    ${s.value?.label} - ${g(s.value?.isImperialScale)}
                `,content:g(s.value?.isImperialScale)},[lt("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Vo({width:s.value?.width})},null,4),lt("span",Npt,je(s.value?.label),1)],8,Ppt)),[[x,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Ve("",!0):(pt(),Be(A,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Ct(i)("map.changeLanguage"),ariaLabel:`${Ct(i)("map.language.short")} - ${Ct(i)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:gn(()=>[lt("span",Lpt,je(Ct(i)("map.language.short")),1)]),default:gn(()=>[(pt(!0),wt(Le,null,ta(p.value,(b,I)=>(pt(),wt("a",{key:`${b}-${I}`,class:an(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":b===Ct(r).$i18n.locale.value}]),href:"javascript:;",onClick:O=>f(b)},[As(je(Ct(i)("map.language."+b))+" ",1),b===Ct(r).$i18n.locale.value?(pt(),wt("span",Rpt,je(Ct(i)("map.language.curr")),1)):Ve("",!0)],10,kpt))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Fpt=["content","aria-label"],Upt={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},$pt=ne({__name:"floating-button",setup(t){const e=Ps(),n=Rn("iApi"),{t:i}=Qe(),r=te(()=>e.notificationNumber);return(s,o)=>{const a=Ce("tippy");return Te((pt(),wt("button",{type:"button",onClick:o[0]||(o[0]=l=>Ct(n).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Ct(i)("notifications.title"),"aria-label":Ct(i)("notifications.title")},[o[1]||(o[1]=lt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[lt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),r.value&&r.value>0?(pt(),wt("span",Upt,je(r.value),1)):Ve("",!0)],8,Fpt)),[[a]])}}}),Gpt=fo($pt,[["__scopeId","data-v-d1e1dac6"]]),jpt={class:"flex items-center mb-20"},Bpt={class:"text-xl"},Wpt=ne({__name:"keyboard-instructions",setup(t){const e=Rn("iApi"),{t:n}=Qe(),i=tt(!1),r=tt(["app","lists","map"]),s=tt([]),o=tt(null),a=tt(null);Zn(()=>{s.value.push(e.event.on("openKeyboardInstructions",()=>{i.value=!0,Br(()=>{o.value.focus()})}))}),zr(()=>{s.value.forEach(c=>e?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,p)=>{const d=vn("close");return i.value?(pt(),wt("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:p[3]||(p[3]=f=>i.value=!1),onKeydown:l},[lt("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:p[2]||(p[2]=wp(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[lt("div",jpt,[lt("h2",Bpt,je(Ct(n)("keyboardInstructions.title")),1),Kt(d,{class:"ml-auto",onClick:p[0]||(p[0]=f=>i.value=!1)})]),(pt(!0),wt(Le,null,ta(r.value,f=>(pt(),wt("p",{class:"whitespace-pre-line pb-10",key:f},je(Ct(n)(`keyboardInstructions.${f}`)),1))),128)),lt("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:p[1]||(p[1]=f=>i.value=!1),ref_key:"lastEl",ref:a},je(Ct(n)("keyboardInstructions.OK")),513)],512)],32)):Ve("",!0)}}}),Up=ln("instance",()=>({started:tt(!1)})),zpt={class:"h-full relative"},qpt={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Vpt={class:"absolute top-8 w-full flex justify-center"},Hpt={key:1,class:"w-full h-full"},Ypt=ne({__name:"shell",setup(t){const e=Rn("iApi"),n=Up(),i=Jr(),r=Gl(),{t:s}=Qe(),o=te(()=>i.items.appbar),a=()=>{e?.event.emit("openKeyboardInstructions")},l=()=>r.teleported;return(c,p)=>(pt(),wt("div",zpt,[lt("div",qpt,[p[0]||(p[0]=lt("div",{class:"sr-only screen-reader-alert"},null,-1)),lt("div",Vpt,[lt("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},je(Ct(s)("keyboardInstructions.open")),1)]),Kt(Wpt),Kt(Uut,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Ve("",!0):(pt(),Be(Gpt,{key:0})),Kt(Dpt,{class:"z-30"})]),Ct(n).started?(pt(),Be(aut,{key:0})):(pt(),wt("div",Hpt,p[1]||(p[1]=[lt("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(pt(!0),wt(Le,null,ta(l(),d=>(pt(),Be(cA,{to:d.teleport?.target,key:d.id},[(pt(),Be(N7,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Jpt=fo(Ypt,[["__scopeId","data-v-f8d1917f"]]);var ar="top",ts="bottom",es="right",lr="left",NE="auto",Zm=[ar,ts,es,lr],$p="start",Km="end",Zpt="clippingParents",e9="viewport",Xm="popper",Kpt="reference",n9=Zm.reduce(function(t,e){return t.concat([e+"-"+$p,e+"-"+Km])},[]),i9=[].concat(Zm,[NE]).reduce(function(t,e){return t.concat([e,e+"-"+$p,e+"-"+Km])},[]),Xpt="beforeRead",Qpt="read",tdt="afterRead",edt="beforeMain",ndt="main",idt="afterMain",rdt="beforeWrite",sdt="write",odt="afterWrite",adt=[Xpt,Qpt,tdt,edt,ndt,idt,rdt,sdt,odt];function go(t){return t?(t.nodeName||"").toLowerCase():null}function Ns(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Gp(t){var e=Ns(t).Element;return t instanceof e||t instanceof Element}function ns(t){var e=Ns(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function r9(t){if(typeof ShadowRoot>"u")return!1;var e=Ns(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ldt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!ns(s)||!go(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function cdt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!ns(r)||!go(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var s9={name:"applyStyles",enabled:!0,phase:"write",fn:ldt,effect:cdt,requires:["computeStyles"]};function vo(t){return t.split("-")[0]}var vu=Math.max,Jv=Math.min,jp=Math.round;function Bp(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(ns(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(i=jp(n.width)/o||1),s>0&&(r=jp(n.height)/s||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function LE(t){var e=Bp(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function o9(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&r9(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function bo(t){return Ns(t).getComputedStyle(t)}function udt(t){return["table","td","th"].indexOf(go(t))>=0}function Bl(t){return((Gp(t)?t.ownerDocument:t.document)||window.document).documentElement}function Zv(t){return go(t)==="html"?t:t.assignedSlot||t.parentNode||(r9(t)?t.host:null)||Bl(t)}function a9(t){return!ns(t)||bo(t).position==="fixed"?null:t.offsetParent}function hdt(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ns(t)){var i=bo(t);if(i.position==="fixed")return null}for(var r=Zv(t);ns(r)&&["html","body"].indexOf(go(r))<0;){var s=bo(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Qm(t){for(var e=Ns(t),n=a9(t);n&&udt(n)&&bo(n).position==="static";)n=a9(n);return n&&(go(n)==="html"||go(n)==="body"&&bo(n).position==="static")?e:n||hdt(t)||e}function kE(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function t0(t,e,n){return vu(t,Jv(e,n))}function pdt(t,e,n){var i=t0(t,e,n);return i>n?n:i}function l9(){return{top:0,right:0,bottom:0,left:0}}function c9(t){return Object.assign({},l9(),t)}function u9(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var ddt=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,c9(typeof t!="number"?t:u9(t,Zm))};function fdt(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=vo(n.placement),l=kE(a),c=[lr,es].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=ddt(r.padding,n),f=LE(s),y=l==="y"?ar:lr,g=l==="y"?ts:es,_=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],w=o[l]-n.rects.reference[l],A=Qm(s),T=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,x=_/2-w/2,b=d[y],I=T-f[p]-d[g],O=T/2-f[p]/2+x,L=t0(b,O,I),R=l;n.modifiersData[i]=(e={},e[R]=L,e.centerOffset=L-O,e)}}function mdt(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||o9(e.elements.popper,r)&&(e.elements.arrow=r))}var ydt={name:"arrow",enabled:!0,phase:"main",fn:fdt,effect:mdt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wp(t){return t.split("-")[1]}var gdt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vdt(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:jp(e*r)/r||0,y:jp(n*r)/r||0}}function h9(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=p===!0?vdt(o):typeof p=="function"?p(o):o,y=f.x,g=y===void 0?0:y,_=f.y,w=_===void 0?0:_,A=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),x=lr,b=ar,I=window;if(c){var O=Qm(n),L="clientHeight",R="clientWidth";if(O===Ns(n)&&(O=Bl(n),bo(O).position!=="static"&&a==="absolute"&&(L="scrollHeight",R="scrollWidth")),O=O,r===ar||(r===lr||r===es)&&s===Km){b=ts;var D=d&&I.visualViewport?I.visualViewport.height:O[L];w-=D-i.height,w*=l?1:-1}if(r===lr||(r===ar||r===ts)&&s===Km){x=es;var W=d&&I.visualViewport?I.visualViewport.width:O[R];g-=W-i.width,g*=l?1:-1}}var B=Object.assign({position:a},c&&gdt);if(l){var G;return Object.assign({},B,(G={},G[b]=T?"0":"",G[x]=A?"0":"",G.transform=(I.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",G))}return Object.assign({},B,(e={},e[b]=T?w+"px":"",e[x]=A?g+"px":"",e.transform="",e))}function bdt(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:vo(e.placement),variation:Wp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,h9(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,h9(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var _dt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bdt,data:{}},Kv={passive:!0};function wdt(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=Ns(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,Kv)}),a&&l.addEventListener("resize",n.update,Kv),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,Kv)}),a&&l.removeEventListener("resize",n.update,Kv)}}var xdt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wdt,data:{}},Sdt={left:"right",right:"left",bottom:"top",top:"bottom"};function Xv(t){return t.replace(/left|right|bottom|top/g,function(e){return Sdt[e]})}var Adt={start:"end",end:"start"};function p9(t){return t.replace(/start|end/g,function(e){return Adt[e]})}function RE(t){var e=Ns(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function DE(t){return Bp(Bl(t)).left+RE(t).scrollLeft}function Edt(t){var e=Ns(t),n=Bl(t),i=e.visualViewport,r=n.clientWidth,s=n.clientHeight,o=0,a=0;return i&&(r=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:r,height:s,x:o+DE(t),y:a}}function Tdt(t){var e,n=Bl(t),i=RE(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=vu(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=vu(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+DE(t),l=-i.scrollTop;return bo(r||n).direction==="rtl"&&(a+=vu(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function FE(t){var e=bo(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function d9(t){return["html","body","#document"].indexOf(go(t))>=0?t.ownerDocument.body:ns(t)&&FE(t)?t:d9(Zv(t))}function e0(t,e){var n;e===void 0&&(e=[]);var i=d9(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=Ns(i),o=r?[s].concat(s.visualViewport||[],FE(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(e0(Zv(o)))}function UE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Cdt(t){var e=Bp(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function f9(t,e){return e===e9?UE(Edt(t)):Gp(e)?Cdt(e):UE(Tdt(Bl(t)))}function Mdt(t){var e=e0(Zv(t)),n=["absolute","fixed"].indexOf(bo(t).position)>=0,i=n&&ns(t)?Qm(t):t;return Gp(i)?e.filter(function(r){return Gp(r)&&o9(r,i)&&go(r)!=="body"&&(n?bo(r).position!=="static":!0)}):[]}function Idt(t,e,n){var i=e==="clippingParents"?Mdt(t):[].concat(e),r=[].concat(i,[n]),s=r[0],o=r.reduce(function(a,l){var c=f9(t,l);return a.top=vu(c.top,a.top),a.right=Jv(c.right,a.right),a.bottom=Jv(c.bottom,a.bottom),a.left=vu(c.left,a.left),a},f9(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function m9(t){var e=t.reference,n=t.element,i=t.placement,r=i?vo(i):null,s=i?Wp(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case ar:l={x:o,y:e.y-n.height};break;case ts:l={x:o,y:e.y+e.height};break;case es:l={x:e.x+e.width,y:a};break;case lr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?kE(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case $p:l[c]=l[c]-(e[p]/2-n[p]/2);break;case Km:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function n0(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.boundary,o=s===void 0?Zpt:s,a=n.rootBoundary,l=a===void 0?e9:a,c=n.elementContext,p=c===void 0?Xm:c,d=n.altBoundary,f=d===void 0?!1:d,y=n.padding,g=y===void 0?0:y,_=c9(typeof g!="number"?g:u9(g,Zm)),w=p===Xm?Kpt:Xm,A=t.rects.popper,T=t.elements[f?w:p],x=Idt(Gp(T)?T:T.contextElement||Bl(t.elements.popper),o,l),b=Bp(t.elements.reference),I=m9({reference:b,element:A,strategy:"absolute",placement:r}),O=UE(Object.assign({},A,I)),L=p===Xm?O:b,R={top:x.top-L.top+_.top,bottom:L.bottom-x.bottom+_.bottom,left:x.left-L.left+_.left,right:L.right-x.right+_.right},D=t.modifiersData.offset;if(p===Xm&&D){var W=D[r];Object.keys(R).forEach(function(B){var G=[es,ts].indexOf(B)>=0?1:-1,J=[ar,ts].indexOf(B)>=0?"y":"x";R[B]+=W[J]*G})}return R}function Odt(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?i9:l,p=Wp(i),d=p?a?n9:n9.filter(function(g){return Wp(g)===p}):Zm,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,_){return g[_]=n0(t,{placement:_,boundary:r,rootBoundary:s,padding:o})[vo(_)],g},{});return Object.keys(y).sort(function(g,_){return y[g]-y[_]})}function Pdt(t){if(vo(t)===NE)return[];var e=Xv(t);return[p9(t),e,p9(e)]}function Ndt(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,_=n.allowedAutoPlacements,w=e.options.placement,A=vo(w),T=A===w,x=l||(T||!g?[Xv(w)]:Pdt(w)),b=[w].concat(x).reduce(function(Rt,$t){return Rt.concat(vo($t)===NE?Odt(e,{placement:$t,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:_}):$t)},[]),I=e.rects.reference,O=e.rects.popper,L=new Map,R=!0,D=b[0],W=0;W<b.length;W++){var B=b[W],G=vo(B),J=Wp(B)===$p,it=[ar,ts].indexOf(G)>=0,u=it?"width":"height",m=n0(e,{placement:B,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=it?J?es:lr:J?ts:ar;I[u]>O[u]&&(S=Xv(S));var N=Xv(S),V=[];if(s&&V.push(m[G]<=0),a&&V.push(m[S]<=0,m[N]<=0),V.every(function(Rt){return Rt})){D=B,R=!1;break}L.set(B,V)}if(R)for(var X=g?3:1,ft=function(Rt){var $t=b.find(function(It){var ce=L.get(It);if(ce)return ce.slice(0,Rt).every(function(ie){return ie})});if($t)return D=$t,"break"},ot=X;ot>0;ot--){var At=ft(ot);if(At==="break")break}e.placement!==D&&(e.modifiersData[i]._skip=!0,e.placement=D,e.reset=!0)}}var Ldt={name:"flip",enabled:!0,phase:"main",fn:Ndt,requiresIfExists:["offset"],data:{_skip:!1}};function y9(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function g9(t){return[ar,es,ts,lr].some(function(e){return t[e]>=0})}function kdt(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=n0(e,{elementContext:"reference"}),a=n0(e,{altBoundary:!0}),l=y9(o,i),c=y9(a,r,s),p=g9(l),d=g9(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}var Rdt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kdt};function Ddt(t,e,n){var i=vo(t),r=[lr,ar].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[lr,es].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Fdt(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=i9.reduce(function(p,d){return p[d]=Ddt(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var Udt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Fdt};function $dt(t){var e=t.state,n=t.name;e.modifiersData[n]=m9({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Gdt={name:"popperOffsets",enabled:!0,phase:"read",fn:$dt,data:{}};function jdt(t){return t==="x"?"y":"x"}function Bdt(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,_=g===void 0?0:g,w=n0(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=vo(e.placement),T=Wp(e.placement),x=!T,b=kE(A),I=jdt(b),O=e.modifiersData.popperOffsets,L=e.rects.reference,R=e.rects.popper,D=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,W=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,G={x:0,y:0};if(O){if(s){var J,it=b==="y"?ar:lr,u=b==="y"?ts:es,m=b==="y"?"height":"width",S=O[b],N=S+w[it],V=S-w[u],X=y?-R[m]/2:0,ft=T===$p?L[m]:R[m],ot=T===$p?-R[m]:-L[m],At=e.elements.arrow,Rt=y&&At?LE(At):{width:0,height:0},$t=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:l9(),It=$t[it],ce=$t[u],ie=t0(0,L[m],Rt[m]),Ie=x?L[m]/2-X-ie-It-W.mainAxis:ft-ie-It-W.mainAxis,fe=x?-L[m]/2+X+ie+ce+W.mainAxis:ot+ie+ce+W.mainAxis,re=e.elements.arrow&&Qm(e.elements.arrow),Fe=re?b==="y"?re.clientTop||0:re.clientLeft||0:0,q=(J=B?.[b])!=null?J:0,F=S+Ie-q-Fe,K=S+fe-q,st=t0(y?Jv(N,F):N,S,y?vu(V,K):V);O[b]=st,G[b]=st-S}if(a){var nt,M=b==="x"?ar:lr,$=b==="x"?ts:es,C=O[I],k=I==="y"?"height":"width",j=C+w[M],Z=C-w[$],z=[ar,lr].indexOf(A)!==-1,Y=(nt=B?.[I])!=null?nt:0,ct=z?j:C-L[k]-R[k]-Y+W.altAxis,yt=z?C+L[k]+R[k]-Y-W.altAxis:Z,Dt=y&&z?pdt(ct,C,yt):t0(y?ct:j,C,y?yt:Z);O[I]=Dt,G[I]=Dt-C}e.modifiersData[i]=G}}var Wdt={name:"preventOverflow",enabled:!0,phase:"main",fn:Bdt,requiresIfExists:["offset"]};function zdt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function qdt(t){return t===Ns(t)||!ns(t)?RE(t):zdt(t)}function Vdt(t){var e=t.getBoundingClientRect(),n=jp(e.width)/t.offsetWidth||1,i=jp(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Hdt(t,e,n){n===void 0&&(n=!1);var i=ns(e),r=ns(e)&&Vdt(e),s=Bl(e),o=Bp(t,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((go(e)!=="body"||FE(s))&&(a=qdt(e)),ns(e)?(l=Bp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=DE(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Ydt(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function Jdt(t){var e=Ydt(t);return adt.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Zdt(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Kdt(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var v9={placement:"bottom",modifiers:[],strategy:"absolute"};function b9(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Xdt(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?v9:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},v9,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(_){var w=typeof _=="function"?_(c.options):_;g(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:Gp(o)?e0(o):o.contextElement?e0(o.contextElement):[],popper:e0(a)};var A=Jdt(Kdt([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(T){return T.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var _=c.elements,w=_.reference,A=_.popper;if(b9(w,A)){c.rects={reference:Hdt(w,Qm(A),c.options.strategy==="fixed"),popper:LE(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var x=c.orderedModifiers[T],b=x.fn,I=x.options,O=I===void 0?{}:I,L=x.name;typeof b=="function"&&(c=b({state:c,options:O,name:L,instance:f})||c)}}}},update:Zdt(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){g(),d=!0}};if(!b9(o,a))return f;f.setOptions(l).then(function(_){!d&&l.onFirstUpdate&&l.onFirstUpdate(_)});function y(){c.orderedModifiers.forEach(function(_){var w=_.name,A=_.options,T=A===void 0?{}:A,x=_.effect;if(typeof x=="function"){var b=x({state:c,name:w,instance:f,options:T}),I=function(){};p.push(b||I)}})}function g(){p.forEach(function(_){return _()}),p=[]}return f}}var Qdt=[xdt,Gdt,_dt,s9,Udt,Ldt,Wdt,ydt,Rdt],tft=Xdt({defaultModifiers:Qdt}),eft="tippy-box",_9="tippy-content",w9="tippy-backdrop",x9="tippy-arrow",S9="tippy-svg-arrow",bu={passive:!0,capture:!0},A9=function(){return document.body};function $E(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function GE(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function E9(t,e){return typeof t=="function"?t.apply(void 0,e):t}function T9(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function nft(t,e){var n=Object.assign({},t);return e.forEach(function(i){delete n[i]}),n}function ift(t){return t.split(/\s+/).filter(Boolean)}function _u(t){return[].concat(t)}function C9(t,e){t.indexOf(e)===-1&&t.push(e)}function rft(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function M9(t){return t.split("-")[0]}function zp(t){return[].slice.call(t)}function I9(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function wu(){return document.createElement("div")}function Qv(t){return["Element","Fragment"].some(function(e){return GE(t,e)})}function sft(t){return GE(t,"NodeList")}function jE(t){return GE(t,"MouseEvent")}function oft(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function aft(t){return Qv(t)?[t]:sft(t)?zp(t):Array.isArray(t)?t:zp(document.querySelectorAll(t))}function BE(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function i0(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function O9(t){var e,n=_u(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function lft(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var s=r.popperRect,o=r.popperState,a=r.props,l=a.interactiveBorder,c=M9(o.placement),p=o.modifiersData.offset;if(!p)return!0;var d=c==="bottom"?p.top.y:0,f=c==="top"?p.bottom.y:0,y=c==="right"?p.left.x:0,g=c==="left"?p.right.x:0,_=s.top-i+d>l,w=i-s.bottom-f>l,A=s.left-n+y>l,T=n-s.right-g>l;return _||w||A||T})}function WE(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function P9(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var _o={isTouch:!1},N9=0;function cft(){_o.isTouch||(_o.isTouch=!0,window.performance&&document.addEventListener("mousemove",L9))}function L9(){var t=performance.now();t-N9<20&&(_o.isTouch=!1,document.removeEventListener("mousemove",L9)),N9=t}function uft(){var t=document.activeElement;if(oft(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function hft(){document.addEventListener("touchstart",cft,bu),window.addEventListener("blur",uft)}var pft=typeof window<"u"&&typeof document<"u",dft=pft?!!window.msCrypto:!1,fft={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},mft={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ls=Object.assign({appendTo:A9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},fft,mft),yft=Object.keys(Ls),gft=function(t){var e=Object.keys(t);e.forEach(function(n){Ls[n]=t[n]})};function k9(t){var e=t.plugins||[],n=e.reduce(function(i,r){var s=r.name,o=r.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=Ls[s])!=null?a:o}return i},{});return Object.assign({},t,n)}function vft(t,e){var n=e?Object.keys(k9(Object.assign({},Ls,{plugins:e}))):yft,i=n.reduce(function(r,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return r;if(s==="content")r[s]=o;else try{r[s]=JSON.parse(o)}catch{r[s]=o}return r},{});return i}function R9(t,e){var n=Object.assign({},e,{content:E9(e.content,[t])},e.ignoreAttributes?{}:vft(t,e.plugins));return n.aria=Object.assign({},Ls.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var bft=function(){return"innerHTML"};function zE(t,e){t[bft()]=e}function D9(t){var e=wu();return t===!0?e.className=x9:(e.className=S9,Qv(t)?e.appendChild(t):zE(e,t)),e}function F9(t,e){Qv(e.content)?(zE(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?zE(t,e.content):t.textContent=e.content)}function tb(t){var e=t.firstElementChild,n=zp(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(_9)}),arrow:n.find(function(i){return i.classList.contains(x9)||i.classList.contains(S9)}),backdrop:n.find(function(i){return i.classList.contains(w9)})}}function U9(t){var e=wu(),n=wu();n.className=eft,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=wu();i.className=_9,i.setAttribute("data-state","hidden"),F9(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(s,o){var a=tb(e),l=a.box,c=a.content,p=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&F9(c,t.props),o.arrow?p?s.arrow!==o.arrow&&(l.removeChild(p),l.appendChild(D9(o.arrow))):l.appendChild(D9(o.arrow)):p&&l.removeChild(p)}return{popper:e,onUpdate:r}}U9.$$tippy=!0;var _ft=1,eb=[],qE=[];function wft(t,e){var n=R9(t,Object.assign({},Ls,k9(I9(e)))),i,r,s,o=!1,a=!1,l=!1,c=!1,p,d,f,y=[],g=T9(F,n.interactiveDebounce),_,w=_ft++,A=null,T=rft(n.plugins),x={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:w,reference:t,popper:wu(),popperInstance:A,props:n,state:x,plugins:T,clearDelayTimeouts:ct,setProps:yt,setContent:Dt,show:Yt,hide:Oe,hideWithInteractivity:un,enable:z,disable:Y,unmount:hi,destroy:ti};if(!n.render)return b;var I=n.render(b),O=I.popper,L=I.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+b.id,b.popper=O,t._tippy=b,O._tippy=b;var R=T.map(function(et){return et.fn(b)}),D=t.hasAttribute("aria-expanded");return re(),X(),S(),N("onCreate",[b]),n.showOnCreate&&j(),O.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&it().addEventListener("mousemove",g)}),b;function W(){var et=b.props.touch;return Array.isArray(et)?et:[et,0]}function B(){return W()[0]==="hold"}function G(){var et;return!!((et=b.props.render)!=null&&et.$$tippy)}function J(){return _||t}function it(){var et=J().parentNode;return et?O9(et):document}function u(){return tb(O)}function m(et){return b.state.isMounted&&!b.state.isVisible||_o.isTouch||p&&p.type==="focus"?0:$E(b.props.delay,et?0:1,Ls.delay)}function S(et){et===void 0&&(et=!1),O.style.pointerEvents=b.props.interactive&&!et?"":"none",O.style.zIndex=""+b.props.zIndex}function N(et,Et,Tt){if(Tt===void 0&&(Tt=!0),R.forEach(function(Xt){Xt[et]&&Xt[et].apply(Xt,Et)}),Tt){var Jt;(Jt=b.props)[et].apply(Jt,Et)}}function V(){var et=b.props.aria;if(et.content){var Et="aria-"+et.content,Tt=O.id,Jt=_u(b.props.triggerTarget||t);Jt.forEach(function(Xt){var Fn=Xt.getAttribute(Et);if(b.state.isVisible)Xt.setAttribute(Et,Fn?Fn+" "+Tt:Tt);else{var pi=Fn&&Fn.replace(Tt,"").trim();pi?Xt.setAttribute(Et,pi):Xt.removeAttribute(Et)}})}}function X(){if(!(D||!b.props.aria.expanded)){var et=_u(b.props.triggerTarget||t);et.forEach(function(Et){b.props.interactive?Et.setAttribute("aria-expanded",b.state.isVisible&&Et===J()?"true":"false"):Et.removeAttribute("aria-expanded")})}}function ft(){it().removeEventListener("mousemove",g),eb=eb.filter(function(et){return et!==g})}function ot(et){if(!(_o.isTouch&&(l||et.type==="mousedown"))){var Et=et.composedPath&&et.composedPath()[0]||et.target;if(!(b.props.interactive&&P9(O,Et))){if(_u(b.props.triggerTarget||t).some(function(Tt){return P9(Tt,Et)})){if(_o.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[b,et]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),a=!0,setTimeout(function(){a=!1}),b.state.isMounted||It())}}}function At(){l=!0}function Rt(){l=!1}function $t(){var et=it();et.addEventListener("mousedown",ot,!0),et.addEventListener("touchend",ot,bu),et.addEventListener("touchstart",Rt,bu),et.addEventListener("touchmove",At,bu)}function It(){var et=it();et.removeEventListener("mousedown",ot,!0),et.removeEventListener("touchend",ot,bu),et.removeEventListener("touchstart",Rt,bu),et.removeEventListener("touchmove",At,bu)}function ce(et,Et){Ie(et,function(){!b.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&Et()})}function ie(et,Et){Ie(et,Et)}function Ie(et,Et){var Tt=u().box;function Jt(Xt){Xt.target===Tt&&(WE(Tt,"remove",Jt),Et())}if(et===0)return Et();WE(Tt,"remove",d),WE(Tt,"add",Jt),d=Jt}function fe(et,Et,Tt){Tt===void 0&&(Tt=!1);var Jt=_u(b.props.triggerTarget||t);Jt.forEach(function(Xt){Xt.addEventListener(et,Et,Tt),y.push({node:Xt,eventType:et,handler:Et,options:Tt})})}function re(){B()&&(fe("touchstart",q,{passive:!0}),fe("touchend",K,{passive:!0})),ift(b.props.trigger).forEach(function(et){if(et!=="manual")switch(fe(et,q),et){case"mouseenter":fe("mouseleave",K);break;case"focus":fe(dft?"focusout":"blur",st);break;case"focusin":fe("focusout",st);break}})}function Fe(){y.forEach(function(et){var Et=et.node,Tt=et.eventType,Jt=et.handler,Xt=et.options;Et.removeEventListener(Tt,Jt,Xt)}),y=[]}function q(et){var Et,Tt=!1;if(!(!b.state.isEnabled||nt(et)||a)){var Jt=((Et=p)==null?void 0:Et.type)==="focus";p=et,_=et.currentTarget,X(),!b.state.isVisible&&jE(et)&&eb.forEach(function(Xt){return Xt(et)}),et.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||o)&&b.props.hideOnClick!==!1&&b.state.isVisible?Tt=!0:j(et),et.type==="click"&&(o=!Tt),Tt&&!Jt&&Z(et)}}function F(et){var Et=et.target,Tt=J().contains(Et)||O.contains(Et);if(!(et.type==="mousemove"&&Tt)){var Jt=k().concat(O).map(function(Xt){var Fn,pi=Xt._tippy,Rs=(Fn=pi.popperInstance)==null?void 0:Fn.state;return Rs?{popperRect:Xt.getBoundingClientRect(),popperState:Rs,props:n}:null}).filter(Boolean);lft(Jt,et)&&(ft(),Z(et))}}function K(et){var Et=nt(et)||b.props.trigger.indexOf("click")>=0&&o;if(!Et){if(b.props.interactive){b.hideWithInteractivity(et);return}Z(et)}}function st(et){b.props.trigger.indexOf("focusin")<0&&et.target!==J()||b.props.interactive&&et.relatedTarget&&O.contains(et.relatedTarget)||Z(et)}function nt(et){return _o.isTouch?B()!==et.type.indexOf("touch")>=0:!1}function M(){$();var et=b.props,Et=et.popperOptions,Tt=et.placement,Jt=et.offset,Xt=et.getReferenceClientRect,Fn=et.moveTransition,pi=G()?tb(O).arrow:null,Rs=Xt?{getBoundingClientRect:Xt,contextElement:Xt.contextElement||J()}:t,Ds={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Lu){var va=Lu.state;if(G()){var $b=u(),od=$b.box;["placement","reference-hidden","escaped"].forEach(function(Yl){Yl==="placement"?od.setAttribute("data-placement",va.placement):va.attributes.popper["data-popper-"+Yl]?od.setAttribute("data-"+Yl,""):od.removeAttribute("data-"+Yl)}),va.attributes.popper={}}}},To=[{name:"offset",options:{offset:Jt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Fn}},Ds];G()&&pi&&To.push({name:"arrow",options:{element:pi,padding:3}}),To.push.apply(To,Et?.modifiers||[]),b.popperInstance=tft(Rs,O,Object.assign({},Et,{placement:Tt,onFirstUpdate:f,modifiers:To}))}function $(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function C(){var et=b.props.appendTo,Et,Tt=J();b.props.interactive&&et===A9||et==="parent"?Et=Tt.parentNode:Et=E9(et,[Tt]),Et.contains(O)||Et.appendChild(O),b.state.isMounted=!0,M()}function k(){return zp(O.querySelectorAll("[data-tippy-root]"))}function j(et){b.clearDelayTimeouts(),et&&N("onTrigger",[b,et]),$t();var Et=m(!0),Tt=W(),Jt=Tt[0],Xt=Tt[1];_o.isTouch&&Jt==="hold"&&Xt&&(Et=Xt),Et?i=setTimeout(function(){b.show()},Et):b.show()}function Z(et){if(b.clearDelayTimeouts(),N("onUntrigger",[b,et]),!b.state.isVisible){It();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(et.type)>=0&&o)){var Et=m(!1);Et?r=setTimeout(function(){b.state.isVisible&&b.hide()},Et):s=requestAnimationFrame(function(){b.hide()})}}function z(){b.state.isEnabled=!0}function Y(){b.hide(),b.state.isEnabled=!1}function ct(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)}function yt(et){if(!b.state.isDestroyed){N("onBeforeUpdate",[b,et]),Fe();var Et=b.props,Tt=R9(t,Object.assign({},Et,I9(et),{ignoreAttributes:!0}));b.props=Tt,re(),Et.interactiveDebounce!==Tt.interactiveDebounce&&(ft(),g=T9(F,Tt.interactiveDebounce)),Et.triggerTarget&&!Tt.triggerTarget?_u(Et.triggerTarget).forEach(function(Jt){Jt.removeAttribute("aria-expanded")}):Tt.triggerTarget&&t.removeAttribute("aria-expanded"),X(),S(),L&&L(Et,Tt),b.popperInstance&&(M(),k().forEach(function(Jt){requestAnimationFrame(Jt._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[b,et])}}function Dt(et){b.setProps({content:et})}function Yt(){var et=b.state.isVisible,Et=b.state.isDestroyed,Tt=!b.state.isEnabled,Jt=_o.isTouch&&!b.props.touch,Xt=$E(b.props.duration,0,Ls.duration);if(!(et||Et||Tt||Jt)&&!J().hasAttribute("disabled")&&(N("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,G()&&(O.style.visibility="visible"),S(),$t(),b.state.isMounted||(O.style.transition="none"),G()){var Fn=u(),pi=Fn.box,Rs=Fn.content;BE([pi,Rs],0)}f=function(){var Ds;if(!(!b.state.isVisible||c)){if(c=!0,O.offsetHeight,O.style.transition=b.props.moveTransition,G()&&b.props.animation){var To=u(),Lu=To.box,va=To.content;BE([Lu,va],Xt),i0([Lu,va],"visible")}V(),X(),C9(qE,b),(Ds=b.popperInstance)==null||Ds.forceUpdate(),N("onMount",[b]),b.props.animation&&G()&&ie(Xt,function(){b.state.isShown=!0,N("onShown",[b])})}},C()}}function Oe(){var et=!b.state.isVisible,Et=b.state.isDestroyed,Tt=!b.state.isEnabled,Jt=$E(b.props.duration,1,Ls.duration);if(!(et||Et||Tt)&&(N("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,c=!1,o=!1,G()&&(O.style.visibility="hidden"),ft(),It(),S(!0),G()){var Xt=u(),Fn=Xt.box,pi=Xt.content;b.props.animation&&(BE([Fn,pi],Jt),i0([Fn,pi],"hidden"))}V(),X(),b.props.animation?G()&&ce(Jt,b.unmount):b.unmount()}}function un(et){it().addEventListener("mousemove",g),C9(eb,g),g(et)}function hi(){b.state.isVisible&&b.hide(),b.state.isMounted&&($(),k().forEach(function(et){et._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),qE=qE.filter(function(et){return et!==b}),b.state.isMounted=!1,N("onHidden",[b]))}function ti(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),Fe(),delete t._tippy,b.state.isDestroyed=!0,N("onDestroy",[b]))}}function Nt(t,e){e===void 0&&(e={});var n=Ls.plugins.concat(e.plugins||[]);hft();var i=Object.assign({},e,{plugins:n}),r=aft(t),s=r.reduce(function(o,a){var l=a&&wft(a,i);return l&&o.push(l),o},[]);return Qv(t)?s[0]:s}Nt.defaultProps=Ls,Nt.setDefaultProps=gft,Nt.currentInput=_o;var xft=Object.assign({},s9,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),Sft=function(t,e){var n;e===void 0&&(e={});var i=t,r=[],s=[],o,a=e.overrides,l=[],c=!1;function p(){s=i.map(function(x){return _u(x.props.triggerTarget||x.reference)}).reduce(function(x,b){return x.concat(b)},[])}function d(){r=i.map(function(x){return x.reference})}function f(x){i.forEach(function(b){x?b.enable():b.disable()})}function y(x){return i.map(function(b){var I=b.setProps;return b.setProps=function(O){I(O),b.reference===o&&x.setProps(O)},function(){b.setProps=I}})}function g(x,b){var I=s.indexOf(b);if(b!==o){o=b;var O=(a||[]).concat("content").reduce(function(L,R){return L[R]=i[I].props[R],L},{});x.setProps(Object.assign({},O,{getReferenceClientRect:typeof O.getReferenceClientRect=="function"?O.getReferenceClientRect:function(){var L;return(L=r[I])==null?void 0:L.getBoundingClientRect()}}))}}f(!1),d(),p();var _={fn:function(){return{onDestroy:function(){f(!0)},onHidden:function(){o=null},onClickOutside:function(x){x.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(x){x.props.showOnCreate&&!c&&(c=!0,g(x,r[0]))},onTrigger:function(x,b){g(x,b.currentTarget)}}}},w=Nt(wu(),Object.assign({},nft(e,["overrides"]),{plugins:[_].concat(e.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],[xft])})})),A=w.show;w.show=function(x){if(A(),!o&&x==null)return g(w,r[0]);if(!(o&&x==null)){if(typeof x=="number")return r[x]&&g(w,r[x]);if(i.indexOf(x)>=0){var b=x.reference;return g(w,b)}if(r.indexOf(x)>=0)return g(w,x)}},w.showNext=function(){var x=r[0];if(!o)return w.show(0);var b=r.indexOf(o);w.show(r[b+1]||x)},w.showPrevious=function(){var x=r[r.length-1];if(!o)return w.show(x);var b=r.indexOf(o),I=r[b-1]||x;w.show(I)};var T=w.setProps;return w.setProps=function(x){a=x.overrides||a,T(x)},w.setInstances=function(x){f(!0),l.forEach(function(b){return b()}),i=x,f(!1),d(),p(),l=y(w),w.setProps({triggerTarget:s})},l=y(w),w},Aft={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(!((e=t.props.render)!=null&&e.$$tippy))return{};var n=tb(t.popper),i=n.box,r=n.content,s=t.props.animateFill?Eft():null;return{onCreate:function(){s&&(i.insertBefore(s,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(s){var o=i.style.transitionDuration,a=Number(o.replace("ms",""));r.style.transitionDelay=Math.round(a/10)+"ms",s.style.transitionDuration=o,i0([s],"visible")}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&i0([s],"hidden")}}}};function Eft(){var t=wu();return t.className=w9,i0([t],"hidden"),t}var VE={clientX:0,clientY:0},nb=[];function $9(t){var e=t.clientX,n=t.clientY;VE={clientX:e,clientY:n}}function Tft(t){t.addEventListener("mousemove",$9)}function Cft(t){t.removeEventListener("mousemove",$9)}var Mft={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=O9(t.props.triggerTarget||e),i=!1,r=!1,s=!0,o=t.props;function a(){return t.props.followCursor==="initial"&&t.state.isVisible}function l(){n.addEventListener("mousemove",d)}function c(){n.removeEventListener("mousemove",d)}function p(){i=!0,t.setProps({getReferenceClientRect:null}),i=!1}function d(g){var _=g.target?e.contains(g.target):!0,w=t.props.followCursor,A=g.clientX,T=g.clientY,x=e.getBoundingClientRect(),b=A-x.left,I=T-x.top;(_||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var O=e.getBoundingClientRect(),L=A,R=T;w==="initial"&&(L=O.left+b,R=O.top+I);var D=w==="horizontal"?O.top:R,W=w==="vertical"?O.right:L,B=w==="horizontal"?O.bottom:R,G=w==="vertical"?O.left:L;return{width:W-G,height:B-D,top:D,right:W,bottom:B,left:G}}})}function f(){t.props.followCursor&&(nb.push({instance:t,doc:n}),Tft(n))}function y(){nb=nb.filter(function(g){return g.instance!==t}),nb.filter(function(g){return g.doc===n}).length===0&&Cft(n)}return{onCreate:f,onDestroy:y,onBeforeUpdate:function(){o=t.props},onAfterUpdate:function(g,_){var w=_.followCursor;i||w!==void 0&&o.followCursor!==w&&(y(),w?(f(),t.state.isMounted&&!r&&!a()&&l()):(c(),p()))},onMount:function(){t.props.followCursor&&!r&&(s&&(d(VE),s=!1),a()||l())},onTrigger:function(g,_){jE(_)&&(VE={clientX:_.clientX,clientY:_.clientY}),r=_.type==="focus"},onHidden:function(){t.props.followCursor&&(p(),c(),s=!0)}}}};function Ift(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(i){var r=i.name;return r!==e.name}),[e])})}}var Oft={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e=t.reference;function n(){return!!t.props.inlinePositioning}var i,r=-1,s=!1,o=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(d){var f=d.state;n()&&(o.indexOf(f.placement)!==-1&&(o=[]),i!==f.placement&&o.indexOf(f.placement)===-1&&(o.push(f.placement),t.setProps({getReferenceClientRect:function(){return l(f.placement)}})),i=f.placement)}};function l(d){return Pft(M9(d),e.getBoundingClientRect(),zp(e.getClientRects()),r)}function c(d){s=!0,t.setProps(d),s=!1}function p(){s||c(Ift(t.props,a))}return{onCreate:p,onAfterUpdate:p,onTrigger:function(d,f){if(jE(f)){var y=zp(t.reference.getClientRects()),g=y.find(function(w){return w.left-2<=f.clientX&&w.right+2>=f.clientX&&w.top-2<=f.clientY&&w.bottom+2>=f.clientY}),_=y.indexOf(g);r=_>-1?_:r}},onHidden:function(){r=-1}}}};function Pft(t,e,n,i){if(n.length<2||t===null)return e;if(n.length===2&&i>=0&&n[0].left>n[1].right)return n[i]||e;switch(t){case"top":case"bottom":{var r=n[0],s=n[n.length-1],o=t==="top",a=r.top,l=s.bottom,c=o?r.left:s.left,p=o?r.right:s.right,d=p-c,f=l-a;return{top:a,bottom:l,left:c,right:p,width:d,height:f}}case"left":case"right":{var y=Math.min.apply(Math,n.map(function(O){return O.left})),g=Math.max.apply(Math,n.map(function(O){return O.right})),_=n.filter(function(O){return t==="left"?O.left===y:O.right===g}),w=_[0].top,A=_[_.length-1].bottom,T=y,x=g,b=x-T,I=A-w;return{top:w,bottom:A,left:T,right:x,width:b,height:I}}default:return e}}var Nft={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function i(){return t.popperInstance?t.popperInstance.state.elements.reference:e}function r(l){return t.props.sticky===!0||t.props.sticky===l}var s=null,o=null;function a(){var l=r("reference")?i().getBoundingClientRect():null,c=r("popper")?n.getBoundingClientRect():null;(l&&G9(s,l)||c&&G9(o,c))&&t.popperInstance&&t.popperInstance.update(),s=l,o=c,t.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){t.props.sticky&&a()}}}};function G9(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Nt.setDefaultProps({render:U9}),Nt.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function HE(t,e={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const i=Cn(),r=tt(),s=tt({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=up();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=L=>{let R,D=pe(L)?L.value:L;return ws(D)?(o.value||(o.value=Ml({name:n.appName,setup:()=>()=>pe(L)?L.value:L}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),R=()=>l()):typeof D=="object"?(o.value||(o.value=Ml({name:n.appName,setup:()=>()=>vr(pe(L)?L.value:L)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),R=()=>l()):R=D,R},p=L=>{let R={};return pe(L)?R=L.value||{}:yr(L)?R={...L}:R={...L},R.content&&(R.content=c(R.content)),R.triggerTarget&&(R.triggerTarget=pe(R.triggerTarget)?R.triggerTarget.value:R.triggerTarget),(!R.plugins||!Array.isArray(R.plugins))&&(R.plugins=[]),R.plugins=R.plugins.filter(D=>D.name!=="vueTippyReactiveState"),R.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),R},d=()=>{r.value&&r.value.setProps(p(e))},f=()=>{!r.value||!e.content||r.value.setContent(c(e.content))},y=L=>{var R;(R=r.value)===null||R===void 0||R.setContent(c(L))},g=L=>{var R;(R=r.value)===null||R===void 0||R.setProps(p(L))},_=()=>{var L;r.value&&(r.value.destroy(),r.value=void 0),a=null,(L=o.value)===null||L===void 0||L.unmount(),o.value=void 0},w=()=>{var L;(L=r.value)===null||L===void 0||L.show()},A=()=>{var L;(L=r.value)===null||L===void 0||L.hide()},T=()=>{var L;(L=r.value)===null||L===void 0||L.disable(),s.value.isEnabled=!1},x=()=>{var L;(L=r.value)===null||L===void 0||L.enable(),s.value.isEnabled=!0},b=()=>{var L;(L=r.value)===null||L===void 0||L.unmount()},I=()=>{if(!t)return;let L=pe(t)?t.value:t;typeof L=="function"&&(L=L()),L&&(r.value=Nt(L,p(e)),L.$tippy=O)},O={tippy:r,refresh:d,refreshContent:f,setContent:y,setProps:g,destroy:_,hide:A,show:w,disable:T,enable:x,unmount:b,mount:I,state:s};return n.mount&&(i?i.isMounted?I():Zn(I):I()),i&&tu(()=>{_()}),pe(e)||yr(e)?qn(e,d,{immediate:!1}):pe(e.content)&&qn(e.content,f,{immediate:!1}),O}function Lft(t,e){const n=tt();return Zn(()=>{const i=(Array.isArray(t)?t.map(r=>r.value):typeof t=="function"?t():t.value).map(r=>r instanceof Element?r._tippy:r).filter(Boolean);n.value=Sft(i,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:n}}function kft(t){return typeof t=="function"?t():Ct(t)}function Rft(t){var e,n;const i=kft(t);return(n=(e=i)===null||e===void 0?void 0:e.$el)!==null&&n!==void 0?n:i}const Dft=ne({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Nt.defaultProps.appendTo},aria:{default:()=>Nt.defaultProps.aria},delay:{default:()=>Nt.defaultProps.delay},duration:{default:()=>Nt.defaultProps.duration},getReferenceClientRect:{default:()=>Nt.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Nt.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Nt.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Nt.defaultProps.interactive},interactiveBorder:{default:()=>Nt.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Nt.defaultProps.interactiveDebounce},moveTransition:{default:()=>Nt.defaultProps.moveTransition},offset:{default:()=>Nt.defaultProps.offset},onAfterUpdate:{default:()=>Nt.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Nt.defaultProps.onBeforeUpdate},onCreate:{default:()=>Nt.defaultProps.onCreate},onDestroy:{default:()=>Nt.defaultProps.onDestroy},onHidden:{default:()=>Nt.defaultProps.onHidden},onHide:{default:()=>Nt.defaultProps.onHide},onMount:{default:()=>Nt.defaultProps.onMount},onShow:{default:()=>Nt.defaultProps.onShow},onShown:{default:()=>Nt.defaultProps.onShown},onTrigger:{default:()=>Nt.defaultProps.onTrigger},onUntrigger:{default:()=>Nt.defaultProps.onUntrigger},onClickOutside:{default:()=>Nt.defaultProps.onClickOutside},placement:{default:()=>Nt.defaultProps.placement},plugins:{default:()=>Nt.defaultProps.plugins},popperOptions:{default:()=>Nt.defaultProps.popperOptions},render:{default:()=>Nt.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Nt.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Nt.defaultProps.touch},trigger:{default:()=>Nt.defaultProps.trigger},triggerTarget:{default:()=>Nt.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Nt.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Nt.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Nt.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Nt.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Nt.defaultProps.allowHTML},animation:{default:()=>Nt.defaultProps.animation},arrow:{default:()=>Nt.defaultProps.arrow},content:{default:()=>Nt.defaultProps.content},inertia:{default:()=>Nt.defaultProps.inertia},maxWidth:{default:()=>Nt.defaultProps.maxWidth},role:{default:()=>Nt.defaultProps.role},theme:{default:()=>Nt.defaultProps.theme},zIndex:{default:()=>Nt.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:n,expose:i}){const r=tt(),s=tt(),o=tt(),a=tt(!1),l=()=>{let y={...t};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>Rft(r);t.to&&(typeof Element<"u"&&t.to instanceof Element?c=()=>t.to:t.to==="parent"?c=()=>{let y=r.value;return y||(y=r.value=s.value.parentElement),y}:(typeof t.to=="string"||t.to instanceof String)&&(c=()=>document.querySelector(t.to)));const p=HE(c,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),Zn(()=>{a.value=!0,Br(()=>{d&&p.setContent(()=>o.value)})}),qn(p.state,()=>{n("state",Ct(p.state))},{immediate:!0,deep:!0}),qn(()=>t,()=>{p.setProps(l()),d&&p.setContent(()=>o.value)},{deep:!0});let f=Wn({elem:r,contentElem:o,mounted:a,...p});return i(f),()=>{const y=(t.contentTag,t.contentTag),g=d?vr(y,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(f)):null;if(t.to==="parent"){const A=[];if(!r.value){const T=vr("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});A.push(T)}return g&&A.push(g),A}const _=e.default?e.default(f):[];if(!t.tag){const A=vr(_[0],{ref:r,"data-v-tippy":""});return g?[A,g]:A}const w=(t.tag,t.tag);return vr(w,{ref:r,"data-v-tippy":""},g?[_,g]:_)}}}),Fft=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let YE={};Object.keys(Nt.defaultProps).forEach(t=>{Fft.includes(t)?YE[t]={type:Boolean,default:function(){return Nt.defaultProps[t]}}:YE[t]={default:function(){return Nt.defaultProps[t]}}});const Uft=ne({props:YE,setup(t){const e=tt([]),{singleton:n}=Lft(e,t);return{instances:e,singleton:n}},mounted(){var t;const e=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(e).map(n=>n._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return vr(()=>t)}}),$ft={mounted(t,e,n){const i=typeof e.value=="string"?{content:e.value}:e.value||{},r=Object.keys(e.modifiers||{}),s=r.find(a=>a!=="arrow"),o=r.findIndex(a=>a==="arrow")!==-1;s&&(i.placement=i.placement||s),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),n.props&&n.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!i.content&&(i.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!i.content&&(i.content=t.getAttribute("content")),HE(t,i)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const n=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!n.content&&(n.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!n.content&&(n.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(n||{}):t._tippy&&t._tippy.setProps(n||{})}},Gft={install(t,e={}){Nt.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",$ft),t.component(e.component||"tippy",Dft),t.component(e.componentSingleton||"tippy-singleton",Uft)}},j9=Nt.setDefaultProps;j9({ignoreAttributes:!0,plugins:[Nft,Oft,Mft,Aft]});const jft=ne({name:"App",components:{Shell:Jpt},setup(){const t=Cn();Zn(()=>{new P7().observe(t?.proxy?.$refs["app-size"]),j9({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),Bft=["lang"],Wft={class:"h-full",ref:"app-size"};function zft(t,e,n,i,r,s){const o=vn("shell");return pt(),wt("div",{class:"ramp-app ramp-styles animation-enabled",lang:t.$i18n.locale},[lt("div",Wft,[Kt(o)],512)],8,Bft)}const qft=fo(jft,[["render",zft]]),wo="focus-list",xu="focus-item",Vft="focus-icon",Hft="focus-container",qp=`[${wo}],[${Hft}]`,ib="truncate-text",rb="show-truncate",Vp="focused",JE=`button,input,select,a,textarea,[contenteditable],[${wo}],[${Vft}],[tabIndex]`,Yft={mounted(t,e){+t.getAttribute("tabindex")<=0&&t.setAttribute("tabindex","0"),t.toggleAttribute(wo,!0),new Jft(t,e.value)},updated(t){B9(t)}};function B9(t){t.querySelectorAll(JE).forEach(e=>{if(e.closest(qp)===t||e.closest(qp)===e&&e.parentElement.closest(qp)===t)if(e.closest(`[${wo}],.${Vp}`).classList.contains(Vp))e.setAttribute("tabindex","0");else{e.setAttribute("tabindex","-1");return}})}class Jft{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,n){this.element=e,this.highlightedItem=this.element,this.isHorizontal=n==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;e.addEventListener("keydown",function(r){i.onKeydown(r)}),e.addEventListener("focus",function(){i.onFocus()}),e.addEventListener("blur",function(){i.onBlur()}),e.addEventListener("mousedown",function(){i.onMousedown()}),e.addEventListener("touchstart",function(){i.onTouchstart()}),document.addEventListener("click",function(r){e.contains(r.target)?i.onClick(r):i.defocusItem(i.highlightedItem)})}setTabIndex(e,n=this.element){n.querySelectorAll(JE).forEach(i=>{(e===-1||i.closest(qp)===this.element||i.closest(qp)===i&&i.parentElement.closest(qp)===this.element||i.closest(`[${wo}],.${Vp}`).classList.contains(Vp))&&i.setAttribute("tabindex",e.toString())})}defocusItem(e){e.classList.remove(Vp),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(xu)===rb&&e.querySelector(`[${ib}]`)?._tippy?.hide()}focusItem(e){e.classList.add(Vp),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(xu)===rb&&e.querySelector(`[${ib}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,n=!1){if(this.defocusItem(this.highlightedItem),n)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const n=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${xu}]`),r=>r.closest(`[${wo}]`)===n.element&&!!r.offsetParent);if(i.length!==0)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":this.highlightedItem!==this.element&&(this.highlightedItem.querySelectorAll(JE).length===0&&this.defocusItem(this.highlightedItem),e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let n=e.target;if(!n.hasAttribute(wo))for(;n.parentElement.closest(`[${wo}]`)!==this.element;)n=n.parentElement.closest(`[${wo}]`);this.highlightedItem=n.closest(`[${xu}]`)||n.closest(`[${wo}]`)||this.highlightedItem,n.hasAttribute(`${xu}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(xu)===rb&&this.highlightedItem.querySelector(`[${ib}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),B9(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(xu)===rb&&this.highlightedItem.querySelector(`[${ib}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const W9="focus-item",Zft={beforeMount(t,e){t.hasAttribute("id")||t.setAttribute("id",Kft()),e.value?t.setAttribute(W9,e.value):t.toggleAttribute(W9,!0)}};function Kft(){let t;do t="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(t)!==null);return t}const ZE="focus-container",z9="focus-list",Xft="focus-icon",KE=`[${z9}],[${ZE}]`,q9=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${z9}],[${ZE}],[${Xft}],[tabIndex]`;let XE=[];const Qft={mounted(t){[...document.querySelectorAll(".inner-shell")].some(e=>e.contains(t))&&XE.push(new tmt(t))},beforeUnmount(t){XE=XE.filter(e=>e.element===t?(e.removeEventListeners(),!1):!0)}};class tmt{element;constructor(e){this.element=e,this.element.toggleAttribute(ZE,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const n=this;this.element.addEventListener("keypress",function(i){n.onKeypress(i)}),this.element.addEventListener("click",function(){n.onClick()}),this.element.addEventListener("focusout",function(i){n.onFocusOut(i)}),this.element.addEventListener("focus",function(){n.onFocus()})}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",function(n){e.onKeypress(n)}),this.element.removeEventListener("click",function(){e.onClick()}),this.element.removeEventListener("focusout",function(n){e.onFocusOut(n)}),this.element.removeEventListener("focus",function(){e.onFocus()})}onKeypress(e){e.target===this.element&&(e.key==="Enter"||e.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(q9),()=>!0).forEach(e=>{e.tabIndex=-1})}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(q9),n=>{(n.closest(KE)===this.element||n.closest(KE)===n&&n.parentElement.closest(KE)===this.element)&&n.offsetParent&&(n.tabIndex=0,e===void 0&&(e=n))}),e}}const emt="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",nmt="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u0924_\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC_\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",Hp=(t,e)=>{for(const n in e)t[n]=e[n];return t},QE="numeric",t4="ascii",e4="alpha",sb="asciinumeric",ob="alphanumeric",n4="domain",V9="emoji",imt="scheme",rmt="slashscheme",H9="whitespace";function smt(t,e){return t in e||(e[t]=[]),e[t]}function Su(t,e,n){e[QE]&&(e[sb]=!0,e[ob]=!0),e[t4]&&(e[sb]=!0,e[e4]=!0),e[sb]&&(e[ob]=!0),e[e4]&&(e[ob]=!0),e[ob]&&(e[n4]=!0),e[V9]&&(e[n4]=!0);for(const i in e){const r=smt(i,n);r.indexOf(t)<0&&r.push(t)}}function omt(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Sr(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Sr.groups={},Sr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Sr.groups;let r;return e&&e.j?r=e:(r=new Sr(e),n&&i&&Su(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let o=0;o<s-1;o++)r=r.tt(t[o]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Sr.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let o,a=r.go(t);if(a?(o=new Sr,Hp(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Sr,s){if(i)if(o.t&&typeof o.t=="string"){const l=Hp(omt(o.t,i),n);Su(s,l,i)}else n&&Su(s,n,i);o.t=s}return r.j[t]=o,o}};const Lt=(t,e,n,i,r)=>t.ta(e,n,i,r),is=(t,e,n,i,r)=>t.tr(e,n,i,r),Y9=(t,e,n,i,r)=>t.ts(e,n,i,r),mt=(t,e,n,i,r)=>t.tt(e,n,i,r),pa="WORD",i4="UWORD",r0="LOCALHOST",r4="TLD",s4="UTLD",ab="SCHEME",Yp="SLASH_SCHEME",lb="NUM",J9="WS",o4="NL",Jp="OPENBRACE",s0="OPENBRACKET",o0="OPENANGLEBRACKET",a0="OPENPAREN",Au="CLOSEBRACE",Zp="CLOSEBRACKET",Kp="CLOSEANGLEBRACKET",Eu="CLOSEPAREN",cb="AMPERSAND",ub="APOSTROPHE",hb="ASTERISK",Wl="AT",pb="BACKSLASH",db="BACKTICK",fb="CARET",zl="COLON",a4="COMMA",mb="DOLLAR",xo="DOT",yb="EQUALS",l4="EXCLAMATION",So="HYPHEN",gb="PERCENT",vb="PIPE",bb="PLUS",_b="POUND",wb="QUERY",c4="QUOTE",u4="SEMI",da="SLASH",l0="TILDE",xb="UNDERSCORE",Z9="EMOJI",Sb="SYM";var K9=Object.freeze({__proto__:null,WORD:pa,UWORD:i4,LOCALHOST:r0,TLD:r4,UTLD:s4,SCHEME:ab,SLASH_SCHEME:Yp,NUM:lb,WS:J9,NL:o4,OPENBRACE:Jp,OPENBRACKET:s0,OPENANGLEBRACKET:o0,OPENPAREN:a0,CLOSEBRACE:Au,CLOSEBRACKET:Zp,CLOSEANGLEBRACKET:Kp,CLOSEPAREN:Eu,AMPERSAND:cb,APOSTROPHE:ub,ASTERISK:hb,AT:Wl,BACKSLASH:pb,BACKTICK:db,CARET:fb,COLON:zl,COMMA:a4,DOLLAR:mb,DOT:xo,EQUALS:yb,EXCLAMATION:l4,HYPHEN:So,PERCENT:gb,PIPE:vb,PLUS:bb,POUND:_b,QUERY:wb,QUOTE:c4,SEMI:u4,SLASH:da,TILDE:l0,UNDERSCORE:xb,EMOJI:Z9,SYM:Sb});const Xp=/[a-z]/,h4=/\p{L}/u,p4=/\p{Emoji}/u,d4=/\d/,X9=/\s/,Q9=`
`,amt="\uFE0F",lmt="\u200D";let Ab=null,Eb=null;function cmt(t){t===void 0&&(t=[]);const e={};Sr.groups=e;const n=new Sr;Ab==null&&(Ab=tF(emt)),Eb==null&&(Eb=tF(nmt)),mt(n,"'",ub),mt(n,"{",Jp),mt(n,"[",s0),mt(n,"<",o0),mt(n,"(",a0),mt(n,"}",Au),mt(n,"]",Zp),mt(n,">",Kp),mt(n,")",Eu),mt(n,"&",cb),mt(n,"*",hb),mt(n,"@",Wl),mt(n,"`",db),mt(n,"^",fb),mt(n,":",zl),mt(n,",",a4),mt(n,"$",mb),mt(n,".",xo),mt(n,"=",yb),mt(n,"!",l4),mt(n,"-",So),mt(n,"%",gb),mt(n,"|",vb),mt(n,"+",bb),mt(n,"#",_b),mt(n,"?",wb),mt(n,'"',c4),mt(n,"/",da),mt(n,";",u4),mt(n,"~",l0),mt(n,"_",xb),mt(n,"\\",pb);const i=is(n,d4,lb,{[QE]:!0});is(i,d4,i);const r=is(n,Xp,pa,{[t4]:!0});is(r,Xp,r);const s=is(n,h4,i4,{[e4]:!0});is(s,Xp),is(s,h4,s);const o=is(n,X9,J9,{[H9]:!0});mt(n,Q9,o4,{[H9]:!0}),mt(o,Q9),is(o,X9,o);const a=is(n,p4,Z9,{[V9]:!0});is(a,p4,a),mt(a,amt,a);const l=mt(a,lmt);is(l,p4,a);const c=[[Xp,r]],p=[[Xp,null],[h4,s]];for(let d=0;d<Ab.length;d++)ql(n,Ab[d],r4,pa,c);for(let d=0;d<Eb.length;d++)ql(n,Eb[d],s4,i4,p);Su(r4,{tld:!0,ascii:!0},e),Su(s4,{utld:!0,alpha:!0},e),ql(n,"file",ab,pa,c),ql(n,"mailto",ab,pa,c),ql(n,"http",Yp,pa,c),ql(n,"https",Yp,pa,c),ql(n,"ftp",Yp,pa,c),ql(n,"ftps",Yp,pa,c),Su(ab,{scheme:!0,ascii:!0},e),Su(Yp,{slashscheme:!0,ascii:!0},e),t=t.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<t.length;d++){const f=t[d][0],y=t[d][1]?{[imt]:!0}:{[rmt]:!0};f.indexOf("-")>=0?y[n4]=!0:Xp.test(f)?d4.test(f)?y[sb]=!0:y[t4]=!0:y[QE]=!0,Y9(n,f,f,y)}return Y9(n,"localhost",r0,{ascii:!0}),n.jd=new Sr(Sb),{start:n,tokens:Hp({groups:e},K9)}}function umt(t,e){const n=hmt(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=n.length,r=[];let s=0,o=0;for(;o<i;){let a=t,l=null,c=0,p=null,d=-1,f=-1;for(;o<i&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,p=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,c-=d,r.push({t:p.t,v:e.slice(s-c,s),s:s-c,e:s})}return r}function hmt(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,o=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(o),i+=o.length}return e}function ql(t,e,n,i,r){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Sr(i),s.jr=r.slice(),t.j[l]=s),t=s}return s=new Sr(n),s.jr=r.slice(),t.j[e[o-1]]=s,s}function tF(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));let o=parseInt(t.substring(i,i+s),10);for(;o>0;o--)n.pop();i+=s}else t[i]==="_"?(e.push(n.join("")),i++):(n.push(t[i]),i++)}return e}const c0={defaultProtocol:"http",events:null,format:eF,formatHref:eF,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function f4(t,e){e===void 0&&(e=null);let n=Hp({},c0);t&&(n=Hp(n,t instanceof f4?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}f4.prototype={o:c0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:c0[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function eF(t){return t}function nF(t,e){this.t="token",this.v=t,this.tk=e}nF.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"\u2026":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=c0.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toFormattedHref(t),i=t.get("tagName",n,e),r=this.toFormattedString(t),s={},o=t.get("className",n,e),a=t.get("target",n,e),l=t.get("rel",n,e),c=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return s.href=n,o&&(s.class=o),a&&(s.target=a),l&&(s.rel=l),c&&Hp(s,c),{tagName:i,attributes:s,content:r,eventListeners:p}}};function Tb(t,e){class n extends nF{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const iF=Tb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),rF=Tb("text"),pmt=Tb("nl"),Tu=Tb("url",{isLink:!0,toHref(t){return t===void 0&&(t=c0.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==r0&&t[1].t===zl}}),Qn=t=>new Sr(t);function dmt(t){let{groups:e}=t;const n=e.domain.concat([cb,hb,Wl,pb,db,fb,mb,yb,So,lb,gb,vb,bb,_b,da,Sb,l0,xb]),i=[ub,Kp,Au,Zp,Eu,zl,a4,xo,l4,o0,Jp,s0,a0,wb,c4,u4],r=[cb,ub,hb,pb,db,fb,Au,mb,yb,So,lb,Jp,gb,vb,bb,_b,wb,da,Sb,l0,xb],s=Qn(),o=mt(s,l0);Lt(o,r,o),Lt(o,e.domain,o);const a=Qn(),l=Qn(),c=Qn();Lt(s,e.domain,a),Lt(s,e.scheme,l),Lt(s,e.slashscheme,c),Lt(a,r,o),Lt(a,e.domain,a);const p=mt(a,Wl);mt(o,Wl,p),mt(l,Wl,p),mt(c,Wl,p);const d=mt(o,xo);Lt(d,r,o),Lt(d,e.domain,o);const f=Qn();Lt(p,e.domain,f),Lt(f,e.domain,f);const y=mt(f,xo);Lt(y,e.domain,f);const g=Qn(iF);Lt(y,e.tld,g),Lt(y,e.utld,g),mt(p,r0,g);const _=mt(f,So);Lt(_,e.domain,f),Lt(g,e.domain,f),mt(g,xo,y),mt(g,So,_);const w=mt(g,zl);Lt(w,e.numeric,iF);const A=mt(a,So),T=mt(a,xo);Lt(A,e.domain,a),Lt(T,r,o),Lt(T,e.domain,a);const x=Qn(Tu);Lt(T,e.tld,x),Lt(T,e.utld,x),Lt(x,e.domain,a),Lt(x,r,o),mt(x,xo,T),mt(x,So,A),mt(x,Wl,p);const b=mt(x,zl),I=Qn(Tu);Lt(b,e.numeric,I);const O=Qn(Tu),L=Qn();Lt(O,n,O),Lt(O,i,L),Lt(L,n,O),Lt(L,i,L),mt(x,da,O),mt(I,da,O);const R=mt(l,zl),D=mt(c,zl),W=mt(D,da);mt(W,da,R),Lt(l,e.domain,a),mt(l,xo,T),mt(l,So,A),Lt(c,e.domain,a),mt(c,xo,T),mt(c,So,A),Lt(R,e.domain,O),mt(R,da,O);const B=mt(O,Jp),G=mt(O,s0),J=mt(O,o0),it=mt(O,a0);mt(L,Jp,B),mt(L,s0,G),mt(L,o0,J),mt(L,a0,it),mt(B,Au,O),mt(G,Zp,O),mt(J,Kp,O),mt(it,Eu,O),mt(B,Au,O);const u=Qn(Tu),m=Qn(Tu),S=Qn(Tu),N=Qn(Tu);Lt(B,n,u),Lt(G,n,m),Lt(J,n,S),Lt(it,n,N);const V=Qn(),X=Qn(),ft=Qn(),ot=Qn();return Lt(B,i),Lt(G,i),Lt(J,i),Lt(it,i),Lt(u,n,u),Lt(m,n,m),Lt(S,n,S),Lt(N,n,N),Lt(u,i,u),Lt(m,i,m),Lt(S,i,S),Lt(N,i,N),Lt(V,n,V),Lt(X,n,m),Lt(ft,n,S),Lt(ot,n,N),Lt(V,i,V),Lt(X,i,X),Lt(ft,i,ft),Lt(ot,i,ot),mt(m,Zp,O),mt(S,Kp,O),mt(N,Eu,O),mt(u,Au,O),mt(X,Zp,O),mt(ft,Kp,O),mt(ot,Eu,O),mt(V,Eu,O),mt(s,r0,x),mt(s,o4,pmt),{start:s,tokens:K9}}function fmt(t,e,n){let i=n.length,r=0,s=[],o=[];for(;r<i;){let a=t,l=null,c=null,p=0,d=null,f=-1;for(;r<i&&!(l=a.go(n[r].t));)o.push(n[r++]);for(;r<i&&(c=l||a.go(n[r].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,r++,p++;if(f<0)r-=p,r<i&&(o.push(n[r]),r++);else{o.length>0&&(s.push(m4(rF,e,o)),o=[]),r-=f,p-=f;const y=d.t,g=n.slice(r-p,r);s.push(m4(y,e,g))}}return o.length>0&&s.push(m4(rF,e,o)),s}function m4(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const Fi={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function mmt(){Fi.scanner=cmt(Fi.customSchemes);for(let t=0;t<Fi.tokenQueue.length;t++)Fi.tokenQueue[t][1]({scanner:Fi.scanner});Fi.parser=dmt(Fi.scanner.tokens);for(let t=0;t<Fi.pluginQueue.length;t++)Fi.pluginQueue[t][1]({scanner:Fi.scanner,parser:Fi.parser});Fi.initialized=!0}function ymt(t){return Fi.initialized||mmt(),fmt(Fi.parser.start,t,umt(Fi.scanner.start,t))}var gmt={amp:"&",gt:">",lt:"<",nbsp:"\xA0",quot:'"'},vmt=/^#[xX]([A-Fa-f0-9]+)$/,bmt=/^#([0-9]+)$/,_mt=/^([A-Za-z0-9]+)$/,wmt=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(vmt);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(bmt),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(_mt),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),xmt=/[\t\n\f ]/,Smt=/[A-Za-z]/,Amt=/\r\n?/g;function Ei(t){return xmt.test(t)}function sF(t){return Smt.test(t)}function Emt(t){return t.replace(Amt,`
`)}var Tmt=function(){function t(e,n,i){i===void 0&&(i="precompile"),this.delegate=e,this.entityParser=n,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var r=this.peek();if(r==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&r===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var r=this.peek(),s=this.tagNameBuffer;r==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):r==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(r))},tagOpen:function(){var r=this.consume();r==="!"?this.transitionTo("markupDeclarationOpen"):r==="/"?this.transitionTo("endTagOpen"):(r==="@"||r===":"||sF(r))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(r))},markupDeclarationOpen:function(){var r=this.consume();if(r==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var r=this.consume();Ei(r)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var r=this.consume();Ei(r)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase()))},doctypeName:function(){var r=this.consume();Ei(r)?this.transitionTo("afterDoctypeName"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase())},afterDoctypeName:function(){var r=this.consume();if(!Ei(r))if(r===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var r=this.peek();Ei(r)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):r==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):r==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):r===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},doctypePublicIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},afterDoctypePublicIdentifier:function(){var r=this.consume();Ei(r)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var r=this.consume();Ei(r)||(r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},doctypeSystemIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},afterDoctypeSystemIdentifier:function(){var r=this.consume();Ei(r)||r===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var r=this.consume();r==="-"?this.transitionTo("commentStartDash"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(r),this.transitionTo("comment"))},commentStartDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var r=this.consume();r==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(r)},commentEndDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+r),this.transitionTo("comment"))},commentEnd:function(){var r=this.consume();r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+r),this.transitionTo("comment"))},tagName:function(){var r=this.consume();Ei(r)?this.transitionTo("beforeAttributeName"):r==="/"?this.transitionTo("selfClosingStartTag"):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(r)},endTagName:function(){var r=this.consume();Ei(r)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):r==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(r)},beforeAttributeName:function(){var r=this.peek();if(Ei(r)){this.consume();return}else r==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var r=this.peek();Ei(r)?(this.transitionTo("afterAttributeName"),this.consume()):r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==='"'||r==="'"||r==="<"?(this.delegate.reportSyntaxError(r+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(r)):(this.consume(),this.delegate.appendToAttributeName(r))},afterAttributeName:function(){var r=this.peek();if(Ei(r)){this.consume();return}else r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r))},beforeAttributeValue:function(){var r=this.peek();Ei(r)?this.consume():r==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(r))},attributeValueDoubleQuoted:function(){var r=this.consume();r==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueSingleQuoted:function(){var r=this.consume();r==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueUnquoted:function(){var r=this.peek();Ei(r)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):r===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(r))},afterAttributeValueQuoted:function(){var r=this.peek();Ei(r)?(this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var r=this.peek();r===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var r=this.consume();(r==="@"||r===":"||sF(r))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(r))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Emt(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),i=this.entityParser.parse(n);if(i){for(var r=n.length;r;)this.consume(),r--;return this.consume(),i}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),Cmt=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Tmt(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function Mmt(t,e){var n=new Cmt(new wmt(gmt),e);return n.tokenize(t)}const oF="LinkifyResult",Cb="StartTag",aF="EndTag",y4="Chars",Imt="Comment",Omt="Doctype";function lF(t,e){e===void 0&&(e={});const n=Mmt(t),i=[],r=[],s=new f4(e,Lmt);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===Cb){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let c=i.length;Nmt(l,n,++o,i),o+=i.length-c-1}else if(a.type!==y4)i.push(a);else{const l=Pmt(a.chars,s);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case oF:r.push(a.rendered);break;case Cb:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Rmt(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",r.push(l);break}case aF:r.push(`</${a.tagName}>`);break;case y4:r.push(g4(a.chars));break;case Imt:r.push(`<!--${g4(a.chars)}-->`);break;case Omt:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",r.push(l);break}}}return r.join("")}function Pmt(t,e){const n=ymt(t),i=[];for(let r=0;r<n.length;r++){const s=n[r];s.t==="nl"&&e.get("nl2br")?i.push({type:Cb,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!e.check(s)?i.push({type:y4,chars:s.toString()}):i.push({type:oF,rendered:e.render(s)})}return i}function Nmt(t,e,n,i){let r=1;for(;n<e.length&&r>0;){let s=e[n];s.type===Cb&&s.tagName.toUpperCase()===t?r++:s.type===aF&&s.tagName.toUpperCase()===t&&r--,i.push(s),n++}return i}function Lmt(t){let{tagName:e,attributes:n,content:i}=t;return`<${e} ${kmt(n)}>${g4(i)}</${e}>`}function g4(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cF(t){return t.replace(/"/g,"&quot;")}function kmt(t){const e=[];for(const n in t){const i=t[n]+"";e.push(`${n}="${cF(i)}"`)}return e.join(" ")}function Rmt(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n][0],r=t[n][1]+"";e.push(`${i}="${cF(r)}"`)}return e}const Dmt="truncate-text",Fmt="truncate-trigger",Umt={beforeMount(t,e){!t.classList.contains("truncate")&&!e.value?.noTruncateClass&&t.classList.add("truncate"),t.toggleAttribute(Dmt,!0)},mounted(t,e){let n;e.value&&e.value.externalTrigger&&(n=t.closest(`[${Fmt}]`)),HE(t,{content:uF(t.textContent),onShow:$mt,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:n,...e.value?.options||{}})},updated(t,e){t._tippy&&(t._tippy.setContent(uF(t.textContent)),e.value&&e.value.options&&t._tippy.setProps(e.value.options))},unmounted(t){t._tippy&&t._tippy.destroy()}};function $mt(t){if(!(t.reference.clientWidth<t.reference.scrollWidth||t.reference.clientHeight<t.reference.scrollHeight))return!1}function uF(t){if(t===null)return"";let e=lF(t,{target:"_blank",validate:{url:n=>/^https?:\/\//.test(n)}});return e=`<div style='word-break: break-word;'>${e}</div>`,e}const Gmt=["content"],jmt={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},Bmt={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Wmt={key:1},zmt={key:0,class:"flex"},qmt=["innerHTML"],Vmt={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},Hmt=ne({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(t,{expose:e}){const{t:n}=Qe(),i=Gl(),r=Fm(),s=Rn("iApi"),o=cm("el"),a=cm("contentEl"),l=tt();e({el:o});const c=t,p=te(()=>s?.fixture.get("appbar")?r.temporary:[]),d=te(()=>i.mobileView),f=te(()=>i.reorderable),y=A=>A.scrollHeight>A.clientHeight,g=()=>!d.value&&!c.panel.teleport,_=A=>{c.panel.move(A),A==="left"&&Br(()=>{(o.value?.querySelector(".move-left")).focus()})},w=te(()=>c.screenId?c.panel.screens[c.screenId][s?.$i18n.locale.value??"en"]:null);return Zn(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),zr(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(A,T)=>{const x=vn("back"),b=vn("panel-options-menu"),I=vn("left"),O=vn("right"),L=vn("pin"),R=vn("expand"),D=vn("minimize"),W=vn("close"),B=Ce("truncate"),G=Ce("focus-item"),J=Ce("tippy");return Te((pt(),wt("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Ct(n)(t.panel.alertName)+". "+Ct(n)("panels.access")}</div>`,ref_key:"el",ref:o},[t.header?(pt(),wt("header",jmt,[Kt(x,{class:an(t.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=it=>t.panel.close())},null,8,["class"]),Te((pt(),wt("h2",Bmt,[A.$slots.header?qr(A.$slots,"header",{key:0}):(pt(),wt("div",Wmt,je(Ct(n)(t.panel.alertName)),1))])),[[B]]),A.$slots.controls?(pt(),Be(b,{key:0},{default:gn(()=>[qr(A.$slots,"controls")]),_:3})):Ve("",!0),lt("div",{class:an(t.panel.teleport?"flex":"display-none sm:flex")},[t.panel.teleport?Ve("",!0):(pt(),wt("div",zmt,[f.value?(pt(),Be(I,{key:0,onClick:T[1]||(T[1]=it=>_("left")),active:!t.panel.isLeftMostPanel},null,8,["active"])):Ve("",!0),f.value?(pt(),Be(O,{key:1,onClick:T[2]||(T[2]=it=>_("right")),active:!t.panel.isRightMostPanel},null,8,["active"])):Ve("",!0),Kt(L,{onClick:T[3]||(T[3]=it=>t.panel.pin()),active:t.panel.isPinned},null,8,["active"]),t.panel.controls&&t.panel.controls.expand?(pt(),Be(R,{key:2,onClick:T[4]||(T[4]=it=>t.panel.expand()),active:t.panel.expanded},null,8,["active"])):Ve("",!0)])),t.panel.button&&p.value?.includes(t.panel.id)?(pt(),Be(D,{key:1,onClick:T[5]||(T[5]=it=>t.panel.minimize())})):Ve("",!0),Kt(W,{onClick:T[6]||(T[6]=it=>t.panel.close())})],2)])):Ve("",!0),t.content?(pt(),wt("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[A.$slots.content?qr(A.$slots,"content",{key:0}):w.value?(pt(),wt("div",{key:1,innerHTML:w.value.innerHTML},null,8,qmt)):Ve("",!0)],512)):Ve("",!0),t.footer?Te((pt(),wt("div",Vmt,[qr(A.$slots,"footer")])),[[G]]):Ve("",!0)],8,Gmt)),[[J,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:t.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),Ymt={class:"relative"},Jmt=["content","aria-label"],Zmt=["transform"],Kmt=ne({__name:"pin",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ce("tippy");return pt(),wt("div",Ymt,[Te((pt(),wt("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:Ct(e)(t.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Ct(e)(t.active?"panels.controls.unpin":"panels.controls.pin")},[(pt(),wt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${t.active?30:0})`},i[0]||(i[0]=[lt("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Zmt))],10,Jmt)),[[r,{placement:"bottom",hideOnClick:!1}]])])}}}),Xmt={class:"relative"},Qmt=["content","aria-label"],t0t=ne({__name:"close",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ce("tippy");return pt(),wt("div",Xmt,[Te((pt(),wt("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:Ct(e)("panels.controls.close"),"aria-label":Ct(e)("panels.controls.close")},i[0]||(i[0]=[lt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[lt("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,Qmt)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),e0t={class:"relative"},n0t=["content","aria-label"],i0t=ne({__name:"back",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ce("tippy");return pt(),wt("div",e0t,[Te((pt(),wt("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:Ct(e)("panels.controls.back"),"aria-label":Ct(e)("panels.controls.back")},i[0]||(i[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[lt("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,n0t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),r0t={class:"w-32 h-32"},s0t=["content"],o0t={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},a0t={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},l0t=ne({__name:"expand",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ce("tippy");return pt(),wt("div",r0t,[Te((pt(),wt("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Ct(e)(`panels.controls.${t.active?"collapse":"expand"}`)},[t.active?(pt(),wt("svg",a0t,i[1]||(i[1]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),lt("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),lt("path",{d:"M4 12h16v2H4z"},null,-1)]))):(pt(),wt("svg",o0t,i[0]||(i[0]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),lt("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,s0t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),c0t={class:"relative"},u0t=["content","aria-label"],h0t=ne({__name:"minimize",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ce("tippy");return pt(),wt("div",c0t,[Te((pt(),wt("button",{type:"button",class:an(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":t.active}]),content:Ct(e)("panels.controls.minimize"),"aria-label":Ct(e)("panels.controls.minimize")},i[0]||(i[0]=[lt("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[lt("path",{d:"M0 0h24v24H0V0z",fill:"none"}),lt("path",{d:"M6 19h12v2H6z"})],-1)]),10,u0t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),p0t={class:"relative"},d0t=["content","aria-label"],f0t=ne({__name:"right",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ce("tippy");return pt(),wt("div",p0t,[Te((pt(),wt("button",{type:"button",class:an(["p-8",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:Ct(e)("panels.controls.moveRight"),"aria-label":Ct(e)("panels.controls.moveRight")},i[0]||(i[0]=[lt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[lt("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,d0t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),m0t={class:"relative"},y0t=["content","aria-label"],g0t=ne({__name:"left",props:{active:Boolean},setup(t){const{t:e}=Qe();return(n,i)=>{const r=Ce("tippy");return pt(),wt("div",m0t,[Te((pt(),wt("button",{type:"button",class:an(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:Ct(e)("panels.controls.moveLeft"),"aria-label":Ct(e)("panels.controls.moveLeft")},i[0]||(i[0]=[lt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[lt("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,y0t)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),v0t=ne({__name:"panel-options-menu",setup(t){const{t:e}=Qe();return(n,i)=>(pt(),Be(PE,{class:"flex",tooltip:Ct(e)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:gn(()=>i[0]||(i[0]=[lt("div",{class:"p-6"},[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[lt("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:gn(()=>[qr(n.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),b0t=fo(v0t,[["__scopeId","data-v-ed2567dc"]]),_0t={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},w0t={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},x0t=ne({__name:"fullscreen-nav",setup(t){const{t:e}=Qe(),n=Rn("iApi"),i=()=>{n.toggleFullscreen()};return(r,s)=>{const o=vn("mapnav-button");return pt(),Be(o,{onClickFunction:i,tooltip:Ct(e)("mapnav.fullscreen")},{default:gn(()=>[Ct(n).isFullscreen?(pt(),wt("svg",_0t,s[0]||(s[0]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(pt(),wt("svg",w0t,s[1]||(s[1]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),S0t=ne({__name:"geolocator-nav",setup(t){const{t:e}=Qe(),n=Rn("iApi");let i=Wn([]);const r=async()=>{if(i.length)s(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?n.notify.show(or.ERROR,e("mapnav.geolocator.error.permission")):n.notify.show(or.ERROR,e("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],s(i))}},s=a=>{let l=new gi("geolocation",a,Bt.latLongSR(),!0);n.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=vn("mapnav-button");return pt(),Be(c,{onClickFunction:r,tooltip:Ct(e)("mapnav.geolocator")},{default:gn(()=>l[0]||(l[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[lt("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),A0t=ne({__name:"home-nav",setup(t){const{t:e}=Qe(),n=Rn("iApi"),i=()=>{const r=n.geo.map.getExtentSet();n.geo.map.zoomMapTo(r.fullExtent)};return(r,s)=>{const o=vn("mapnav-button");return pt(),Be(o,{onClickFunction:i,tooltip:Ct(e)("mapnav.home")},{default:gn(()=>s[0]||(s[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[lt("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),lt("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),E0t={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},T0t=["content","aria-label"],C0t=ne({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){return(e,n)=>{const i=Ce("focus-item"),r=Ce("tippy");return pt(),wt("div",E0t,[Te((pt(),wt("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:n[0]||(n[0]=s=>t.onClickFunction()),content:t.tooltip,"aria-label":typeof t.tooltip=="string"?t.tooltip:""},[qr(e.$slots,"default")],8,T0t)),[[i],[r,{placement:"left"}]])])}}}),M0t={class:"relative",tabindex:"-1"},I0t=["aria-label","content"],O0t=ne({__name:"button",props:{onClickFunction:{type:Function,required:!0},id:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){const e=Rn("iApi"),n=t,i=()=>e?.event.emit(Mt.APPBAR_BUTTON_CLICK,n.id);return(r,s)=>{const o=Ce("focus-item"),a=Ce("tippy");return pt(),wt("div",M0t,[Te((pt(),wt("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{t.onClickFunction(),i()}),"aria-label":String(t.tooltip),content:`<div style='word-break: break-word;'>${t.tooltip}</div>`},[qr(r.$slots,"default",{},void 0,!0)],8,I0t)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),P0t=fo(O0t,[["__scopeId","data-v-bff638d4"]]),hF=ln("areas-of-interest",()=>({areas:tt([])})),pF=ln("export",()=>{const t=tt({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),e=tt("");function n(i){if(t.value[i.name]!==void 0){const r=t.value[i.name];t.value[i.name]=i.selected!==void 0?i.selected:!r}}return{componentSelectedState:t,fileName:e,toggleSelected:n}}),dF=ln("extentguard",()=>{const t=tt(!1);function e(l){t.value=l}const n=tt(!1);function i(l){n.value=l}const r=tt(!1);function s(l){r.value=l}const o=tt([]);function a(l){o.value=l}return{active:t,setActive:e,enforcing:n,setEnforcing:i,alwaysOn:r,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),u0=function t(e){function n(r,s,o){var a,l={};if(Array.isArray(r))return r.concat(s);for(a in r)l[o?a.toLowerCase():a]=r[a];for(a in s){var c=o?a.toLowerCase():a,p=s[a];l[c]=c in l&&typeof p=="object"?n(l[c],p,c=="headers"):p}return l}function i(r,s,o,a,l){var c=typeof r!="string"?(s=r).url:r,p={config:s},d=n(e,s),f={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(f.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),f["content-type"]="application/json");try{f[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:n(d.headers,f,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(p[g]=y[g]);return d.responseType=="stream"?(p.data=y.body,p):y[d.responseType||"text"]().then(function(_){p.data=_,p.data=JSON.parse(_)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?p:Promise.reject(p)})})}return e=e||{},i.request=i,i.get=function(r,s){return i(r,s,"get")},i.delete=function(r,s){return i(r,s,"delete")},i.head=function(r,s){return i(r,s,"head")},i.options=function(r,s){return i(r,s,"options")},i.post=function(r,s,o){return i(r,o,"post",s)},i.put=function(r,s,o){return i(r,o,"put",s)},i.patch=function(r,s,o){return i(r,o,"patch",s)},i.all=Promise.all.bind(Promise),i.spread=function(r){return r.apply.bind(r,r)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=e,i.create=t,i}(),N0t={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},v4={en:{},fr:{}};class L0t{list={};listFetched=!1;constructor(e,n){u0.get(n).then(i=>{i.data.definitions.forEach(r=>v4[e][r.code]=r.description),Object.keys(v4[e]).forEach(r=>{this.list[r]=v4[e][r]}),this.listFetched=!0})}fsaToProvinces(e){const n={};let i=N0t[e.substring(0,1).toUpperCase()];return typeof i=="number"&&(i=[i]),i.forEach(r=>{n[r]=this.list[r]}),n}}function k0t(t,e){return new L0t(t,e)}const Mb={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"R\xE9gion De Tri D'Acheminement",NTS:"Syst\xE8me National De R\xE9f\xE9rence Cartographique",COORD:"Latitude/Longitude",SCALE:"\xC9chelle"}};class R0t{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,n){u0.get(n).then(i=>{i.data.definitions.forEach(r=>{Mb[e][r.code]=r.term.split(`${r.code}-`)[1]}),Object.keys(Mb[e]).forEach(r=>{this.allTypes[r]=Mb[e][r],this.validTypes[r]=Mb[e][r]}),this.typesFetched=!0})}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e=typeof e=="string"?[e]:e,e&&e.length>0)for(const n of e)delete this.validTypes[n];return this.filterComplete=!0,this.validTypes}}function D0t(t,e){return new R0t(t,e)}function F0t(t,e){const n=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,i=/^\d{2,3}[A-P]/,r=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(n.test(e)&&!t.disabledSearchTypes.includes("LAT/LNG")){const s=e.slice(0,-1);return new U0t(t,s)}else return r.test(e)&&!t.disabledSearchTypes.includes("FSA")?new $0t(t,e):i.test(e)&&!t.disabledSearchTypes.includes("NTS")?new G0t(t,e.substring(0,6).toUpperCase()):new j0t(t,e)}class Ib{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(e,n){this.query=n,this.config=e}search(){return this.jsonRequest(this.getUrl()).then(e=>this.normalizeNameItems(e.items)).catch(()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}getUrl(e,n,i,r){let s="";return e?s=this.config.geoLocateUrl+"?q="+this.query:(i&&r?s=`${this.config.geoNameUrl}?lat=${i}&lon=${r}&num=${this.config.maxResults}`:s=`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(s+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(s+="&category=O")),s}normalizeNameItems(e){return e.filter(n=>this.config.types.validTypes[n.concise.code]).map(n=>({name:n.name,location:n.location,province:this.config.provinces.list[n.province.code],type:this.config.types.allTypes[n.concise.code],LatLon:{lat:n.latitude,lon:n.longitude},bbox:n.bbox,order:this.config.sortOrder.indexOf(n.concise.code)>=0?this.config.sortOrder.indexOf(n.concise.code):this.config.sortOrder.length}))}jsonRequest(e){return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="json",r.onload=()=>{if(r.status===200){const s=typeof r.response=="string"?JSON.parse(r.response):r.response;n(s)}else i("Could not load results from remote service.")},r.send()})}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(e,n,i){return this.jsonRequest(this.getUrl(!1,i,e,n)).then(r=>this.normalizeNameItems(r.items)).catch(()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}}class U0t extends Ib{constructor(e,n){super(e,n),this.resultType="latlong";const i=n.split(/[\s|,|;|]/).filter(o=>!isNaN(o)&&o!=="").map(o=>parseFloat(o)),r=.015,s=[i[1]-r,i[0]-r,i[1]+r,i[0]+r];this.latLongResult={name:`${i[0]},${i[1]}`,location:{latitude:i[0],longitude:i[1]},type:"Latitude/Longitude",position:[i[1],i[0]],bbox:s},this.onComplete=new Promise((o,a)=>{this.nameByLatLon(i[0],i[1]).then(l=>{l?(this.results=l,o(this)):a("Given lat lon coordinates cannot be found")})})}}class $0t extends Ib{constructor(e,n){n=n.substring(0,3).toUpperCase(),super(e,n),this.resultType="fsa",this.onComplete=new Promise(i=>{this.formatLocationResult().then(r=>{r?(this.featureResults.push(r),this.nameByLatLon(r.LatLon.lat,r.LatLon.lon,Object.keys(r._provinces).map(s=>parseInt(s))).then(s=>{this.results=s,i(this)})):(console.log("FSA code given cannot be found."),i(this))})})}formatLocationResult(){return this.locateByQuery().then(e=>{if(e.length===1&&this.query){const n=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(n).map(i=>n[i]).join(","),_provinces:n,LatLon:{lat:e[0].geometry.coordinates[1],lon:e[0].geometry.coordinates[0]}}}}).catch(()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")})}}class G0t extends Ib{unitName;unit;mapSheets=[];constructor(e,n){super(e,n),this.resultType="nts",n=isNaN(parseInt(n[2]))?"0"+n:n,this.unitName=n,this.onComplete=new Promise(i=>{this.locateByQuery().then(r=>{if(r.length>0&&this.query){const s=this.locateToResult(r);this.unit=s[0],this.mapSheets=s,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then(o=>{this.results=o,i(this)})}else console.log("Given NTS code not found"),i(this)}).catch(()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),i(this)})})}locateToResult(e){return e.map(n=>{const i=n.title.split(" ");return{nts:i.shift()||"",location:i.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:n.geometry.coordinates[1],lon:n.geometry.coordinates[0]},bbox:n.bbox}})}equals(e){return this.unitName===e.unitName}}class j0t extends Ib{constructor(e,n){n=encodeURIComponent(n.trim()),super(e,n),this.resultType="address",this.onComplete=new Promise(i=>{this.locateByQuery().then(r=>{this.featureResults=this.locateToResult(r),this.search().then(s=>{this.results=s,i(this)})}).catch(()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then(r=>{this.results=r,i(this)})})})}locateToResult(e){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:e.filter(n=>n.type?.includes("Street")).map(n=>{const[i,r,s]=n.title.split(", ");return{name:i,city:r.split(" Of ").pop(),province:s,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:n.geometry.coordinates[1],lon:n.geometry.coordinates[0]}}})}}const fF="https://geogratis.gc.ca/services/geolocation/@{language}/locate",mF="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",yF="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",gF="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",B0t={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class vF{config;constructor(e,n){let i,r,s,o;const a=n?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:fF,r=a.geoNames?a.geoNames:mF,s=a.geoProvince?a.geoProvince:yF,o=a.geoTypes?a.geoTypes:gF):(i=fF,r=mF,s=yF,o=gF),i=i.replace("@{language}",e),r=r.replace("@{language}",e),s=s.replace("@{language}",e),o=o.replace("@{language}",e);const l=n?.settings;let c,p,d,f,y;l?(c=l.categories?l.categories:[],p=l.sortOrder?l.sortOrder:[],d=l.disabledSearchTypes?l.disabledSearchTypes:[],f=l.maxResults>0?l.maxResults:100,y=!!l.officialOnly):(c=[],p=[],d=[],f=100,y=!1),this.config={language:e,geoNameUrl:r,geoLocateUrl:i,types:D0t(e,o),provinces:k0t(e,s),categories:c,sortOrder:p,disabledSearchTypes:d,maxResults:f,officialOnly:y},this.config.types.filterValidTypes(n?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=n?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(e){this._provinceList=e}set typeList(e){this._typeList=e}levenshteinDistance(e,n){n=n.toLowerCase().trim();const i=decodeURI(e.query.toLowerCase().replace("*","")),r=[];for(let s=0;s<=n.length;s++){r[s]=[s];for(let o=1;o<=i.length;o++)r[s][o]=s===0?o:Math.min(r[s][o-1]+1,r[s-1][o]+.2,r[s-1][o-1]+(i[o-1]===n[s-1]?0:1))}return r[n.length][i.length]}findProvinceObj(e){return this.provinceList.find(n=>n.name===e)}query(e){return F0t(this.config,e.toUpperCase()).onComplete.then(n=>{let i=[];n.featureResults.length>0?n.resultType==="fsa"?i=n.featureResults.map(s=>({name:s.fsa,bbox:[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:-1})):n.resultType==="nts"?i=n.featureResults.map(s=>({name:s.nts,bbox:s.bbox??[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon},order:-1})):n.resultType==="address"&&(i=n.featureResults.map(s=>({name:s.name,bbox:[s.LatLon.lon+.002,s.LatLon.lat-.002,s.LatLon.lon-.002,s.LatLon.lat+.002],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.city,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length})),this.config.sortOrder.length>0&&(i=i.sort((s,o)=>this.levenshteinDistance(n,s.name)>this.levenshteinDistance(n,o.name)?1:-1))):n.resultType==="latlong"&&(i=[n.latLongResult],i[0].order=-1);const r=n.results.map(s=>({name:s.name,bbox:s.bbox,type:s.type,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:s.order}));return{results:i.concat(r).slice(0,this.config.maxResults).sort((s,o)=>this.config.sortOrder.length>0?s.order>o.order?1:-1:this.levenshteinDistance(n,s.name)>this.levenshteinDistance(n,o.name)?1:-1),failedServs:n.failedServs}})}fetchProvinces(){return new Promise(e=>{const n=setInterval(()=>{if(this.config.provinces.listFetched){clearInterval(n);const i=[],r={code:-1,abbr:"...",name:"..."};i.push(r);const s=this.config.provinces.list;for(const o in s)i.push({code:o,abbr:B0t[o],name:s[o]});this.provinceList=i,e(this.provinceList)}})})}fetchTypes(){return new Promise(e=>{const n=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(n);const i=[],r={code:-1,name:"..."};i.push(r);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||i.push({code:o,name:s[o]});this.typeList=i,e(this.typeList)}},250)})}}function bF(t,e,n){return t&&e.extent&&(n=n.filter(i=>i.bbox[0]<=e.extent.xmax&&i.bbox[1]<=e.extent.ymax&&i.bbox[2]>=e.extent.xmin&&i.bbox[3]>=e.extent.ymin)),e.province&&e.province!=="..."&&(n=n.filter(i=>i.location.province?.name&&i.location.province.name===e.province)),e.type&&e.type!=="..."&&(n=n.filter(i=>i.type===e.type)),n}const _F=ln("geosearch",()=>{const t=tt(new vF("en",void 0)),e=tt({type:"",province:"",extent:void 0}),n=tt(!1),i=tt(""),r=tt(""),s=tt(""),o=tt([]),a=tt([]),l=tt(!1),c=tt([]),p=te(()=>new Promise(x=>{t.value.fetchProvinces().then(b=>{b.sort((I,O)=>I.name>O.name?1:-1),x(b)})})),d=te(()=>new Promise(x=>{t.value.fetchTypes().then(b=>{b.sort((I,O)=>I.name>O.name?1:-1),x(b)})}));function f(x,b){t.value=new vF(x,b)}function y(x){l.value=!0;const b=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!b)o.value=[],a.value=[],l.value=!1;else if(b&&b!==s.value||x){const I=setInterval(()=>{t.value.config.provinces.listFetched&&t.value.config.types.typesFetched&&(clearInterval(I),t.value.query(`${b}*`).then(O=>{c.value=O.failedServs,s.value=b,a.value=O.results;const L=bF(n.value,e.value,a.value);o.value=L||[],l.value=!1}))},250)}else{const I=bF(n.value,e.value,a.value);o.value=I||[],l.value=!1}}function g(x){e.value.province=typeof x.province>"u"?"":x.province,y(x.forceReRun)}function _(x){e.value.type=typeof x.type>"u"?"":x.type,y(x.forceReRun)}function w(x){s.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=x,y()}function A(x){const b={a:"\xE0\xE1\xE2\xE3\xE4\xE5\u0101\u0103\u0105\u01CE\u0201\u0203\u0227\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7",b:"\u1E03\u0253\u1E05\u1E07",c:"\xE7\u0107\u0109\u010B\u010D",d:"\u010F\u1E0B\u1E0D\u1E0F\u1E11\u1E13",e:"\xE8\xE9\xEA\xEB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7",f:"\u0192\u1E1F",g:"\u011D\u011F\u0121\u0123\u01E7\u01F5\u1E21",h:"\u0125\u021F\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96",i:"\xEC\xED\xEE\xEF\u0129\u012B\u012D\u012F\u0131\u0209\u020B\u1ECB\u1EC9\u0129",j:"\u0135\u01F0\u0249",k:"\u0137\u0138\u0199\u1E33\u1E35",l:"\u013A\u013C\u013E\u0140\u0142\u1E37\u1E39\u1E3B\u1E3D",m:"\u1E3F\u1E41\u1E43",n:"\xF1\u0144\u0146\u0148\u0149\u014B\u01F9\u1E45\u1E47\u1E49\u1E4B",o:"\xF2\xF3\xF4\xF5\xF6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022F\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3",p:"\u1E55\u1E57",r:"\u0155\u0157\u0159\u0211\u0213\u1E5B\u1E5D\u1E5F",s:"\u015B\u015D\u015F\u0161\u0219\u1E61\u1E63\u1E65\u1E67\u1E69",t:"\u0163\u0165\u0167\u021B\u1E6B\u1E6D\u1E6F\u1E71\u1E97",u:"\xF9\xFA\xFB\xFC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1",v:"\u1E7D\u1E7F",w:"\u1E81\u1E83\u0175\u1E85\u1E87\u1E89\u1E8B",x:"\u1E8B\u1E8D",y:"\u1EF3\xFD\u0177\xFF\u1EF9\u0233\u1E8F\u1E99\u1EF5\u1EF7\u1EF9",z:"\u017A\u017C\u017E\u1E91\u1E93\u1E95"};x=x.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),r.value=Array.from(x).map(I=>Object.keys(b).includes(I)?"["+I+b[I]+"]":I.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(x){if(x.visible!==void 0&&(n.value=x.visible),x.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");e.value.extent=x.extent,y()}return{GSservice:t,queryParams:e,resultsVisible:n,searchVal:i,searchRegex:r,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:p,getTypes:d,initService:f,runQuery:y,setProvince:g,setType:_,setSearchTerm:w,setSearchRegex:A,setMapExtent:T}}),wF=ln("help",()=>({location:tt("./help/")}));var b4=(t=>(t.Visibility="visibilityButton",t.Expand="expandButton",t))(b4||{}),Ob=(t=>(t.Item="item",t.Placeholder="placeholder",t.Error="error",t))(Ob||{});class _4 extends An{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,n,i){super(e),this._uid=Ou.sharedUtils.generateUUID(),this._name=n.name,this._type=n.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new xn,this._hidden=n.hidden??!1,this._expanded=n.expanded??!0,this._visibility=!0,this._exclusive=n.exclusive??!1,this._controls=n.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=n.disabledControls?.slice(),this._lastVisible,this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return this._disabledControls?.includes(e)?!1:this._controls?.includes(e)}setControl(e,n){n&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter(i=>i!==e),this._controls?.push(e)):!n&&this._controls?.includes(e)&&(this._controls=this._controls.filter(i=>i!==e),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,n=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof fa)||this._lastVisible.layerControlAvailable(pn.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(r=>!(r instanceof fa)||r.layerControlAvailable(pn.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&n&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(e=>e.visibility&&e!==this&&e.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof fa&&!this.layerControlAvailable(pn.Visibility)||(this.exclusive?e.visibility?(this.children.forEach(n=>{n.uid!==e.uid&&n.toggleVisibility(!1,!1)}),this._lastVisible=e,this._visibility=!0,this instanceof fa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof fa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some(n=>n.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(n=>n.visibility),this instanceof fa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof fa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},n=[];return this.children.forEach(i=>{n.push(i.getConfig())}),this.exclusive?e.exclusiveVisibility=n:e.children=n,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new xn}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class fa extends _4{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,n,i){super(e,n,i),this._type=Ob.Placeholder,this._layerId=n.layerId,this._layerIdx=n.sublayerIndex,this._isSublayer=n.sublayerIndex!==void 0,this._layerControls=n.layerControls??[],this._origLayerControls=n.layerControls,this._layerDisabledControls=n.disabledLayerControls??[],this._origLayerDisabledControls=n.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=n.symbologyExpanded||!1,n.coverIcon&&(this._coverIcon=n.coverIcon),n.description&&(this._description=n.description),this._symbologyRenderStyle=n.symbologyRenderStyle??"icons",this._customSymbology=!!n.symbologyStack,this._symbologyStack=n.symbologyStack?.map(r=>({uid:this.$iApi.geo.shared.generateUUID(),label:r.text,definitionClause:r.sqlQuery,imgUrl:r.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=n.maxLines&&[1,2,3,4,5,6].includes(n.maxLines)?n.maxLines:void 0}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,n=!0,i=!1){if(!(!this.layerControlAvailable(pn.Visibility)&&!i)&&(super.toggleVisibility(e,n),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const r=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{r||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(e,n){this._symbologyStack.some(i=>((e===void 0||i.uid===e)&&(i.visibility=n,i.lastVisbility=n),e!==void 0&&i.uid===e))}load(e){const n=e instanceof Lb?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);n&&(this.layer=n,this._layerRedrawing=n.mapLayer&&n.drawState!==ji.UP_TO_DATE,n.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:n.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),n.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Mt.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===Ob.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Mt.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===ji.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===ji.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?n.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Mt.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return this._layerDisabledControls?.includes(e)?!1:!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var xF=(t=>(t.Title="title",t.Text="text",t.Image="image",t.Markdown="markdown",t.Template="template",t))(xF||{});class w4 extends _4{_infoType;_content;constructor(e,n,i){super(e,n,i),this._infoType=n.infoType??"title",this._content=n.content??"",n.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(n.infoType||n.content)&&(this._controls=n.controls?.slice()??[b4.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const SF=ln("legend",()=>{const t=tt(),e=tt([]),n=tt([]),i=tt(!0),r=tt(3);function s(l){if(l.parent===void 0)e.value.push(l.item);else{if(!(l.item instanceof w4)&&!(l.item instanceof fa)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=p=>(p=p.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),p.forEach(d=>{d.children=c(d.children)}),p=p.filter(d=>!(d instanceof w4&&!d.children.length&&d.content==="")),p);e.value=c(e.value)}function a(l){if(l.oldItem.parent===void 0){const c=e.value,p=c.indexOf(l.oldItem);p>-1&&(e.value[p]=l.newItem),e.value=c}else{const c=l.oldItem.parent.children,p=c.indexOf(l.oldItem);p>-1&&(c[p]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:t,multilineItems:i,maxLines:r,children:e,headerControls:n,addItem:s,removeItem:o,replaceItem:a}}),AF=ln("mapnav",()=>{const t=tt({}),e=tt([]);function n(i){i in t.value&&delete t.value[i];const r=e.value.indexOf(i);r!==-1&&e.value.splice(r,1)}return{items:t,order:e,removeItem:n}}),EF=ln("metadata",()=>{const t=tt(""),e=tt({type:"LineString",coordinates:[]});return{status:t,response:e}}),TF=ln("northarrow",()=>{const t=tt(""),e=tt("");return{arrowIcon:t,poleIcon:e}}),CF=ln("overviewmap",()=>{const t=tt({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),e=tt({}),n=tt(!0),i=tt(1.5),r=tt("#FF0000"),s=tt(1),o=tt("#000000"),a=tt(.25);function l(c){t.value.initialBasemapId=c}return{mapConfig:t,basemaps:e,startMinimized:n,expandFactor:i,borderColour:r,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),MF=ln("scrollguard",()=>{const t=tt(!1);function e(n){t.value=n}return{enabled:t,setEnabled:e}});var li=(t=>(t[t.UPLOAD=0]="UPLOAD",t[t.FORMAT=1]="FORMAT",t[t.CONFIGURE=2]="CONFIGURE",t))(li||{});const IF=ln("wizard",()=>{const t={id:"Placeholder",layerType:Pt.UNKNOWN,url:""},e=tt(),n=tt(""),i=tt(""),r=tt(!0),s=tt(null),o=tt({config:t,configOptions:[]}),a=tt(li.UPLOAD);function l(c){switch(a.value){case li.UPLOAD:c===li.UPLOAD?n.value="":c===li.FORMAT&&(a.value=li.FORMAT);break;case li.FORMAT:c===li.UPLOAD?(s.value&&(n.value="",s.value=null),i.value="",a.value=li.UPLOAD):c===li.CONFIGURE&&(a.value=li.CONFIGURE);break;case li.CONFIGURE:c===li.UPLOAD?(n.value="",i.value="",s.value=null,r.value=!0,o.value={config:t,configOptions:[]},a.value=li.UPLOAD):c===li.FORMAT&&(o.value={config:t,configOptions:[]},r.value=!0,a.value=li.FORMAT);break}}return{layerSource:e,url:n,typeSelection:i,nested:r,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class W0t{fixture;panel;event;geo;notify;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,n,i){this.event=new Gat(this);const r=z0t(e,this);this.$vApp=r.app,this.$element=r.element,this.$i18n=r.i18n,this.$rootEl=r.app.$root?.$el,this.fixture=new tgt(this),this.panel=new egt(this),this.geo=new Xyt(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Jht(this),this._isFullscreen=uo.isEnabled&&!!this.$vApp.$root&&uo.isFullscreen&&uo.element===this.$vApp.$root.$el,uo.isEnabled&&uo.onchange(()=>{this._isFullscreen=uo.isEnabled&&!!this.$vApp.$root&&uo.isFullscreen&&uo.element===this.$vApp.$root.$el}),this.initialize(!0,n,i)}initialize(e,n,i){const r=Di(this.$vApp.$pinia),s=Gl(this.$vApp.$pinia),o=Gv(this.$vApp.$pinia);if(n?.configs!==void 0){const l=n.configs,c=l[this.$i18n.locale.value]??l[Object.keys(l)[0]];r.newConfig(c),r.registerConfig({config:c,configLangs:Object.keys(l),allLangs:Object.keys(this.$i18n.messages.value)});for(const g in l)r.registerConfig({config:l[g],configLangs:[g]});r.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const p=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(p),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let _=0;c.layers.forEach(w=>{const A=this.geo.layer.createLayer(w);this.geo.map.addLayer(A,_).catch(()=>{}),A.mapLayer&&_++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(_=>_.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(_=>{this.panel.open({id:_.id,screen:_.screen}),_.pin&&this.panel.pin(_.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},f=c.system?.zoomIcon||"globe",y=d[f]||f;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const _={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,w=>_[w])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}i||(i={});const a=Up(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Mt.MAP_START)),e&&(i.loadDefaultFixtures!==!1||n?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(n?.startingFixtures):e||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reload(e,n){const i=Up(this.$vApp.$pinia),r=Ps(this.$vApp.$pinia),s=Di(this.$vApp.$pinia),o=Jr(this.$vApp.$pinia),a=Ts(this.$vApp.$pinia),l=Iv(this.$vApp.$pinia),c=!!e;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(p=>{l.removeGrid(p)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),n?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),e===void 0&&(e=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),r.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,e,n)}component(e,n){if(n){const i=this.$element.component(e,n);return this.event.emit(Mt.COMPONENT,e),i}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=Di(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)&&!this.fixture.exists(e)))switch(e){case"appbar":return Fm(this.$vApp.$pinia);case"areas-of-interest":return hF(this.$vApp.$pinia);case"details":return B3(this.$vApp.$pinia);case"export":return pF(this.$vApp.$pinia);case"extentguard":return dF(this.$vApp.$pinia);case"geosearch":return _F(this.$vApp.$pinia);case"grid":return Iv(this.$vApp.$pinia);case"help":return wF(this.$vApp.$pinia);case"legend":return SF(this.$vApp.$pinia);case"mapnav":return AF(this.$vApp.$pinia);case"metadata":return EF(this.$vApp.$pinia);case"northarrow":return TF(this.$vApp.$pinia);case"overviewmap":return CF(this.$vApp.$pinia);case"scrollguard":return MF(this.$vApp.$pinia);case"wizard":return IF(this.$vApp.$pinia);case"config":return Di(this.$vApp.$pinia);case"fixture":return Jr(this.$vApp.$pinia);case"instance":return Up(this.$vApp.$pinia);case"layer":return Ts(this.$vApp.$pinia);case"map-caption":return kl(this.$vApp.$pinia);case"maptip":return Gv(this.$vApp.$pinia);case"notification":return Ps(this.$vApp.$pinia);case"panel":return Gl(this.$vApp.$pinia);default:console.error(`The store ${e} does not exist.`);return}}setLanguage(e){if(this.$i18n.locale.value===e)return;const n=Di(this.$vApp.$pinia),i=Ps(this.$vApp.$pinia),r=n.registeredLangs;Object.keys(n.registeredConfigs).length===1&&i.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();r[s]!==r[e]&&(this.event.emit(Mt.CONFIG_CHANGE,o),this.reload()),this.event.emit(Mt.LANG_CHANGE,{oldLang:s,newLang:e})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){uo.isEnabled&&uo.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Up(this.$vApp.$pinia).started}updateAlert(e){const n=this.$vApp.$el.querySelector(".screen-reader-alert");n.childNodes.length>0&&(n.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const r=document.createTextNode(e);i.appendChild(r),n.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=Up(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(Mt.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function z0t(t,e){const n=Lat();n.use(({store:o})=>{const a=l7(o.$state);o.$reset=()=>o.$patch(l7(a))});const i=nut(),r=Ml(qft).use(i).use(Gft,{directive:"tippy",component:"tippy"}).use(n);r.directive("focus-container",Qft),r.directive("focus-list",Yft),r.directive("focus-item",Zft),r.directive("truncate",Umt),r.component("panel-screen",Hmt),r.component("pin",Kmt),r.component("close",t0t),r.component("back",i0t),r.component("expand",l0t),r.component("panel-options-menu",b0t),r.component("dropdown-menu",PE),r.component("minimize",h0t),r.component("right",f0t),r.component("left",g0t),r.component("fullscreen-nav-button",x0t),r.component("geolocator-nav-button",S0t),r.component("home-nav-button",A0t),r.component("mapnav-button",C0t),r.component("appbar-button",P0t),r.component("transition",xm),r.component("transition-group",iv),r.config.globalProperties.$iApi=e,r.config.globalProperties.$pinia=n,r.provide("iApi",e);const s=r.mount(t);return{element:r,app:s,i18n:i.global}}class Fb{esriBasemap;config;createErr=!1;constructor(e){this.config=e}static async create(e){const n=new Fb(e),i=e.layers.map(s=>{if(s.layerType===Pt.TILE)return Re.TileLayer({url:s.url,opacity:s.opacity});if(s.layerType===Pt.MAPIMAGE)return Re.MapImageLayer({url:s.url,opacity:s.opacity});if(s.layerType===Pt.OSM)return Re.OpenStreetMapLayer({opacity:s.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${s.layerType}`)}),r=(await Promise.allSettled(i)).filter(s=>s.status==="rejected"?(console.error(s.reason),n.createErr=!0,!1):!0).map(s=>{if(s.status==="fulfilled")return s.value;throw new Error("TS is fun")});return n.esriBasemap=await Re.Basemap({baseLayers:r,title:e.name||"",id:e.id}),n}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class OF extends An{esriMap;_basemapStore;created=!1;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new xn,this.handlers=[],this.pointZoomScale=5e4}noMapErr(){console.error("Attempted to manipulate the map before calling createMap()")}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(e,n){const i=a=>{this.$iApi.notify.show(or.ERROR,this.$iApi.$i18n.t("layer.error",{id:a.name}))},r=e.basemaps.map(a=>Fb.create(a)),s=(await Promise.all(r)).filter(a=>(a.createErr&&i(a),a.esriBasemap.baseLayers.length>0));s.forEach(a=>{a.esriBasemap.baseLayers.forEach(l=>{l.watch("loadStatus",()=>{l.loadStatus==="loaded"?this.trackFirstBasemap=!1:l.loadStatus==="failed"&&(i(a),this.trackFirstBasemap&&this.recoverBasemap(a.tileSchemaId))})})}),this._basemapStore=s,e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const o={};this.esriMap=yn(await Re.Map(o)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=n,this.createMapView(e.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(e=>e.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(e,n){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(e,n)}async createMapView(e){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new xn,this.created=!1,this.handlers.forEach(e=>e.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(e){const n=this._basemapStore.find(i=>i.id===e);if(n)return n;throw new Error(`Invalid basemap id requested: ${e}`)}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Gt(n.esriBasemap)}async setBasemap(e){return this.abstractError(),!1}async recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap.id;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,n,i=!0,r=200,s="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Zt.POINT&&(a.scale=n||this.pointZoomScale);const l={animate:i,duration:r,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?tn.fromESRI(this.esriView.extent):(this.noMapErr(),tn.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),f0.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Bt.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class q0t extends An{maptipStore;constructor(e){super(e),this.maptipStore=Gv(this.$vApp.$pinia)}#t=void 0;#e=void 0;async checkAtCoord(e){this.#e=e;const n=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#e!==e)return;if(!n){this.clear();return}const i=this.$iApi.geo.layer.getLayer(n.layerId);if(i?.geomType!=Zt.POLYGON&&this.#t&&this.#t.layerId===n.layerId&&this.#t.oid===n.oid&&this.#t.layerIdx===n.layerIdx)return;if(this.clear(),this.#t=n,!i){console.error(`graphic hit test returned non-existent layer id: ${n.layerId}`);return}if(!i.hovertips)return;const r=await i.getIcon(n.oid),s=await i.getGraphic(n.oid,{getAttribs:!0});this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(Mt.MAP_GRAPHICHIT,{layer:i,graphicHit:n,attributes:s.attributes,icon:r,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.attributes[e.layer.config.tooltipField||e.layer.nameField]}</span></div>`)}clear(){this.#t=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class V0t extends An{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const n=kl(this.$vApp.$pinia);if(n.coords.disabled=!1,n.scale.disabled=!1,n.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)n.coords.disabled=!0;else{const i=e.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(e.scaleBar)if(e.scaleBar.disabled)n.scale.disabled=!0;else{const i=e.scaleBar.imperialScale;i!==void 0&&(n.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}n.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const n={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},r={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?r.logo.disabled=!0:(r.logo.altText=e.logo.altText||i.altText,r.logo.link=e.logo.link||i.link,r.logo.value=e.logo.value||i.value):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value),e.text?e.text.disabled?r.text.disabled=!0:r.text.value=e.text.value||n.value:r.text.value=n.value,kl(this.$vApp.$pinia).setAttribution(r)):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value,r.text.value=n.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap.baseLayers.map(c=>new Promise(p=>{let d=0;const f=o/a,y=setInterval(function(){c.loaded&&!c.loadError?(clearInterval(y),p(c)):d>f&&(clearInterval(y),p(null)),d++},a)})).toArray();Promise.all(l).then(c=>{s=c.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),r.text.value=s||r.text.value||n.value,kl(this.$vApp.$pinia).setAttribution(r)})}}updateScale(){const e=kl(this.$vApp.$pinia),n=e.scale;if(n?.disabled)return;const i=n?.isImperialScale||!1,r=this.scaleHelper().find(s=>s.isImperialScale===i)??{isImperialScale:!1,units:"error",pixels:1,distance:1};e.scale={width:`${r.pixels}px`,label:`${this.$iApi.$i18n.n(r.distance,"number")}${r.units}`,isImperialScale:i}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if(typeof e=="string"){if(!(e in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${e}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,n=this.$iApi.geo.map.getResolution(),i=[],r=n*e,s=1609.34,o=3.28084,a=r>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),r>1e3){const p=n*e/(c?s:1e3),d=Math.round(p).toString().length,f=Math.pow(10,d-1);i[l].distance=Math.ceil(p/f)*f,i[l].pixels=i[l].distance*(c?s:1e3)/n}else i[l].distance=Math.ceil(c?r*o:r),i[l].pixels=r/n}return i}wrapValue(e,n,i){return((e-n)%(i-n)+(i-n))%(i-n)+n}async formatLatLongDMS(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(r))*(r<0?-1:1),p=Math.floor(Math.abs((r-c)*60)),d=Math.floor((Math.abs(r)-Math.abs(c)-p/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(p,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDDM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(r))*(r<0?-1:1),c=Math.abs((r-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDD(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.abs(i),a=Math.abs(r);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatMercator(e){const n=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(n.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(n.y),"number")} m`}async formatLambert(e){const n=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(n.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>n.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(n.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(n.y>0?"north":"south"))}`}async formatUTM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s=Math.ceil((r+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),e);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const n=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(n.x,"number")} | ${this.$iApi.$i18n.n(n.y,"number")}`}}class H0t extends OF{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(e){super(e),this.maptip=new q0t(e),this.caption=new V0t(e),this.mapMouseThrottle=0}async createMap(e,n){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(e,n),this.viewPromise.then(()=>{this.$iApi.event.emit(Mt.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(e=>e.uid).forEach(e=>this.removeLayer(e)),super.destroyMap(),this.$iApi.event.emit(Mt.MAP_DESTROYED)}async createMapView(e){const n=Di(this.$vApp.$pinia).config.map;if(!n)throw new Error("Attempted to create map view without a map config");const i=(typeof e=="string"?await this.findBasemap(e):e)||await this.findBasemap(n.initialBasemapId),r=n.tileSchemas.find(a=>a.id===i.tileSchemaId);if(!r)throw new Error(`Could not find tile schema for the given basemap id: ${i.id}`);const s=n.extentSets.find(a=>a.id===r.extentSetId);if(!s)throw new Error(`Could not find extent set with the given id: ${r.extentSetId}`);this._rampExtentSet=f0.fromConfig(s),this._rampSR=this._rampExtentSet.sr.clone();const o=n.lodSets.find(a=>a.id===r.lodSetId);if(!o)throw new Error(`Could not find lod set with the given id: ${r.lodSetId}`);this.esriView=yn(await Re.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:o.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:i.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:this.esriView.watch("extent",a=>{if(a){const l=this.$iApi.geo.geom.geomEsriToRamp(a,"map_extent_event");this.$iApi.event.emit(Mt.MAP_EXTENTCHANGE,l),this.$iApi.event.emit(Mt.FILTER_CHANGE,{extent:l,filterKey:di.EXTENT})}})}),this.handlers.push({type:"scale",handler:this.esriView.watch("scale",a=>{this.$iApi.event.emit(Mt.MAP_SCALECHANGE,a)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",a=>{this.$iApi.event.emit(Mt.MAP_RESIZED,{height:a.height,width:a.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",a=>{this.$iApi.event.emit(Mt.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",a=>{this.$iApi.event.emit(Mt.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",Um(100,!0,a=>{this.$iApi.event.emit(Mt.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",Um(100,a=>{this.$iApi.event.emit(Mt.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",a=>{setTimeout(()=>{this.$iApi.event.emit(Mt.MAP_MOUSELEAVE,a.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",a=>{this.$iApi.event.emit(Mt.MAP_MOUSEDOWN,a.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",a=>{this.$iApi.event.emit(Mt.MAP_KEYDOWN,a.native),a.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",a=>{this.$iApi.event.emit(Mt.MAP_KEYUP,a.native),a.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",a=>{this.$iApi.event.emit(Mt.MAP_FOCUS,a.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",a=>{this.$iApi.event.emit(Mt.MAP_BLUR,a.native)})}),this.esriView.container.addEventListener("touchmove",a=>{a.preventDefault()}),this.esriView.watch("fatalError",()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),a.disconnect())})});a.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(i),r.recoveryBasemap?.basemapId){const a=r.recoveryBasemap.timeout??8e3;a>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(r.id)},a)}})}destroyMapView(){this.esriView?.container.removeEventListener("touchmove",e=>{e.preventDefault()}),super.destroyMapView()}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Gt(n.esriBasemap);const i=Di(this.$vApp.$pinia);i.activeBasemapConfig=n.config}async setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const n=Di(this.$vApp.$pinia),i=await this.findBasemap(e),r=n.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(r){const s=this.getExtent().center(),o=this.getScale();this._viewPromise=new xn,this.created=!1,this.$iApi.event.emit(Mt.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Mt.MAP_REFRESH_END),this.$iApi.event.emit(Mt.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r});const a=this.findClosestScale(o);this.$iApi.geo.proj.projectGeometry(this._rampSR,s).then(l=>this.zoomMapTo(l,a,!1))})}else{await this.applyBasemap(i);const s=await Re.ColorBackground({color:new ya(i.backgroundColour).toESRI()});this.esriView.background=s,this.$iApi.event.emit(Mt.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r})}return r}async recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const n=Di(this.$vApp.$pinia).config.map;if(n){const i=n.tileSchemas.find(r=>r.id===e);if(i?.recoveryBasemap?.basemapId){const r=await this.findBasemap(i.recoveryBasemap.basemapId);await this.applyBasemap(r)}}}addLayer(e,n=void 0){return new Promise((i,r)=>{if(this.esriMap||(this.noMapErr(),r()),e.initiationState!==Ye.INITIATING&&e.initiationState!==Ye.INITIATED&&e.layerState!==sn.ERROR&&e.initiate(),e.mapLayer&&n===void 0){const l=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)n=l.length;else{const c=this.$iApi.geo.layer.allLayers();let p=!0;for(let d=l.length-1;d>=0&&p;d--){const f=c.find(y=>y.id===l[d]);f&&!f.isCosmetic&&(n=d+1,p=!1)}p&&(n=0)}}Ts(this.$vApp.$pinia).addLayer(e,n),this.$iApi.event.emit(Mt.LAYER_REGISTERED,e);const s=Date.now();let o=0;const a=setInterval(()=>{o+=250,o>=e.expectedTime.fail||e.layerState===sn.ERROR?(clearInterval(a),e.lastCancel<s&&console.error(`Failed to add layer: ${e.id}.`),r()):e.initiationState===Ye.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(a),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),i())},250)})}insertToEsriMap(e){let n=0;const i=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(i>0){const r=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=r[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){n=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(e.esriLayer,n)}reorder(e,n,i=!1){if(n<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer){console.error("Attempted to reorder a data layer");return}const r=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(i){if(e.isCosmetic)return;if(n>0){const a=s.filter(l=>{const c=r.find(p=>p.id===l);return c?!c.isCosmetic:(console.error("Layer reorder had critical error"),!1)});n>=a.length&&(console.error("non-cosmetic reorder index was too high"),n=a.length-1),n=s.indexOf(a[n])}}else n>=s.length&&(console.error("reorder index was too high"),n=s.length-1);const o=s.indexOf(e.id);if(o!==n){if(Ts(this.$vApp.$pinia).reorderLayer(e,n),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let a=0;if(n>0){s=this.$iApi.geo.layer.layerOrderIds();for(let l=n-1;l>-1;l--){const c=s[l],p=r.find(d=>d.id===c);if(p&&p.esriLayer){const d=this.esriMap.layers.indexOf(p.esriLayer);if(d>-1){const f=n<o?1:0;a=d+f;break}}else p||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,a)}this.$iApi.event.emit(Mt.MAP_REORDER,{layer:e,newIndex:n})}}removeSublayer(e){let n,i;if(typeof e=="string")n=e,i=this.$iApi.geo.layer.getLayer(n);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);n=e.uid,i=e}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Mt.LAYER_REMOVE,e),i.parentLayer?.sublayers.every(r=>r.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(e){if(!this.esriMap){this.noMapErr();return}let n;if(e instanceof Lb?n=e:n=this.$iApi.geo.layer.getLayer(e),!n)throw new Error("Layer could not be found for removal.");if(n.isSublayer){this.removeSublayer(n);return}n.supportsSublayers&&n.sublayers.forEach(r=>{r.isRemoved||this.removeSublayer(r)});const i=Ts(this.$vApp.$pinia);i.removeLayer(n),i.removeLayerConfig(n.id),n.removeEsriLayer(),n.initiationState===Ye.INITIATED&&n.terminate(),n.isRemoved=!0,this.$iApi.event.emit(Mt.LAYER_REMOVE,n)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const n=this.handlers.findIndex(i=>i.type==="pointer-move");if(n!==-1){const i=this.handlers[n];this.handlers.splice(n,1),i.handler.remove()}return n!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return Ll(this.mapMouseThrottle,e=>{this.$iApi.event.emit(Mt.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))})}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView){this.noMapErr();return}const n=e.isOffScale(this.getScale());if(!n.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(n.zoomIn,e.minScale));const r=n.zoomIn?i:[...i].reverse(),s=r.find(o=>n.zoomIn?o.scale<e.minScale:o.scale>e.maxScale)||r[r.length-1];return this.zoomToLevel(s.level)}findClosestScale(e){const n=this.esriView?.constraints.lods;if(!n)return e;const i=n.map(s=>Math.abs(s.scale-e)),r=i.indexOf(Math.min(...i));return n[r].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?gi.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new gi("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const n=this.esriView.toScreen(e.toESRI());return{screenX:n.x,screenY:n.y}}else return this.noMapErr(),{screenX:1,screenY:1}}runIdentify(e){const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let i;if(e instanceof gi){const c=this.mapPointToScreenPoint(e);i={mapPoint:e,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=e;if(n===void 0)return{click:i,results:[]};let r=Promise.resolve([]);n.some(c=>c.identifyMode===Un.HYBRID||c.identifyMode===Un.SYMBOLIC)&&(r=this.esriView.hitTest({x:i.screenX,y:i.screenY}).then(c=>c.results.map(p=>({layerId:p.layer.id,layerIdx:0,oid:p.graphic.getObjectId()}))));const s={geometry:i.mapPoint,hitTest:r},o=n.filter(c=>c.supportsIdentify).map(c=>(s.tolerance=i.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(s))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:i};return this.$iApi.event.emit(Mt.MAP_IDENTIFY,l),l}async getGraphicAtCoord(e){if(!this.esriView){this.noMapErr();return}const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Pt.GRAPHIC);if(n.length===0)return;const i=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(i.results.length===0)return;const r=i.results;let s,o;const a=new Set;if(r.some(l=>{if(a.has(l.layer.id))return!1;const c=n.find(p=>p.id===l.layer.id);return c?(!c.isCosmetic&&c.layerType!==Pt.GRAPHIC&&(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const n=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some(i=>n.includes(i))||this.keyPan()):n.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):e.key==="Enter"?this.runIdentify(this.getExtent().center()):e.key==="Tab"&&this._activeKeys.push(e.key)}mapKeyUp(e){const n=["=","-"];this._activeKeys.includes(e.key)&&!n.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some(i=>n.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(e=>!["Control","Shift"].includes(e)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),e.key==="="?await this.zoomIn():e.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),n=this.mapPointToScreenPoint(e),i=this.screenPointToMapPoint({screenX:n.screenX+5,screenY:n.screenY+5}),r=Math.abs(i.x-e.x),s=Math.abs(i.y-e.y);let o=0,a=0,l=1;for(let p=0;p<this._activeKeys.length;++p)switch(this._activeKeys[p]){case"ArrowLeft":o-=r;break;case"ArrowRight":o+=r;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{e.x+=l*o,e.y+=l*a,this.zoomMapTo(e,c,!1)},25)}}const Y0t={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},J0t={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},Z0t={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},K0t={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},X0t={circlePoint:Y0t,solidLine:J0t,outlinedPoly:Z0t,boundingBoxPoly:K0t};var x4={exports:{}},Q0t=x4.exports,PF;function tyt(){return PF||(PF=1,function(t,e){(function(n,i){if(t.exports=i(LN()),typeof n.navigator=="object"){if(!n.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");n.Terraformer.ArcGIS=i(n.Terraformer)}})(Q0t,function(n){var i={};function r(w){var A=0,T=0,x=[],b,I,O,L;O=w.match(/((\+|\-)[^\+\-]+)/g),L=parseInt(O[0],32);for(var R=1;R<O.length;R+=2)b=parseInt(O[R],32)+A,A=b,I=parseInt(O[R+1],32)+T,T=I,x.push([b/L,I/L]);return x}function s(w){return o(w[0],w[w.length-1])||w.push(w[0]),w}function o(w,A){for(var T=0;T<w.length;T++)if(w[T]!==A[T])return!1;return!0}function a(w){var A={};for(var T in w)w.hasOwnProperty(T)&&(A[T]=w[T]);return A}function l(w){var A=0,T=0,x=w.length,b=w[T],I;for(T;T<x-1;T++)I=w[T+1],A+=(I[0]-b[0])*(I[1]+b[1]),b=I;return A>=0}function c(w){var A=[],T=w.slice(0),x=s(T.shift().slice(0));if(x.length>=4){l(x)||x.reverse(),A.push(x);for(var b=0;b<T.length;b++){var I=s(T[b].slice(0));I.length>=4&&(l(I)&&I.reverse(),A.push(I))}}return A}function p(w){for(var A=[],T=0;T<w.length;T++)for(var x=c(w[T]),b=x.length-1;b>=0;b--){var I=x[b].slice(0);A.push(I)}return A}function d(w,A){var T=n.Tools.arraysIntersectArrays(w,A),x=n.Tools.coordinatesContainPoint(w,A[0]);return!!(!T&&x)}function f(w){for(var A=[],T=[],x,b,I,O=0;O<w.length;O++){var L=s(w[O].slice(0));if(!(L.length<4))if(l(L)){var R=[L.slice().reverse()];A.push(R)}else T.push(L.slice().reverse())}for(var D=[];T.length;){I=T.pop();var W=!1;for(x=A.length-1;x>=0;x--)if(b=A[x][0],d(b,I)){A[x].push(I),W=!0;break}W||D.push(I)}for(;D.length;){I=D.pop();var B=!1;for(x=A.length-1;x>=0;x--)if(b=A[x][0],n.Tools.arraysIntersectArrays(b,I)){A[x].push(I),B=!0;break}B||A.push([I.reverse()])}return A.length===1?{type:"Polygon",coordinates:A[0]}:{type:"MultiPolygon",coordinates:A}}function y(w,A){var T={};return A=A||{},A.idAttribute=A.idAttribute||void 0,w.spatialReference&&(w.spatialReference.wkid===3857||w.spatialReference.wkid===102100)&&(T.crs=n.MercatorCRS),typeof w.x=="number"&&typeof w.y=="number"&&(T.type="Point",T.coordinates=[w.x,w.y],(w.z||w.m)&&T.coordinates.push(w.z),w.m&&T.coordinates.push(w.m)),w.points&&(T.type="MultiPoint",T.coordinates=w.points.slice(0)),w.paths&&(w.paths.length===1?(T.type="LineString",T.coordinates=w.paths[0].slice(0)):(T.type="MultiLineString",T.coordinates=w.paths.slice(0))),w.rings&&(T=f(w.rings.slice(0))),typeof w.xmin=="number"&&typeof w.ymin=="number"&&typeof w.xmax=="number"&&typeof w.ymax=="number"&&(T.type="Polygon",T.coordinates=[[[w.xmax,w.ymax],[w.xmin,w.ymax],[w.xmin,w.ymin],[w.xmax,w.ymin],[w.xmax,w.ymax]]]),(w.compressedGeometry||w.geometry||w.attributes)&&(T.type="Feature",w.compressedGeometry&&(w.geometry={paths:[r(w.compressedGeometry)]}),T.geometry=w.geometry?y(w.geometry):null,T.properties=w.attributes?a(w.attributes):null,w.attributes&&(T.id=w.attributes[A.idAttribute]||w.attributes.OBJECTID||w.attributes.FID)),new n.Primitive(T)}function g(w,A){var T;A=A||{};var x=A.idAttribute||"OBJECTID";A.sr?T={wkid:A.sr}:w&&w.crs&&w.crs.properties.name!="urn:ogc:def:crs:OGC:1.3:CRS84"?T=null:T={wkid:4326};var b={},I;switch(w.type){case"Point":b.x=w.coordinates[0],b.y=w.coordinates[1],w.coordinates[2]&&(b.z=w.coordinates[2]),w.coordinates[3]&&(b.m=w.coordinates[3]),b.spatialReference=T;break;case"MultiPoint":b.points=w.coordinates.slice(0),b.spatialReference=T;break;case"LineString":b.paths=[w.coordinates.slice(0)],b.spatialReference=T;break;case"MultiLineString":b.paths=w.coordinates.slice(0),b.spatialReference=T;break;case"Polygon":b.rings=c(w.coordinates.slice(0)),b.spatialReference=T;break;case"MultiPolygon":b.rings=p(w.coordinates.slice(0)),b.spatialReference=T;break;case"Feature":w.geometry&&(b.geometry=g(w.geometry,A)),b.attributes=w.properties?a(w.properties):{},w.id&&(b.attributes[x]=w.id);break;case"FeatureCollection":for(b=[],I=0;I<w.features.length;I++)b.push(g(w.features[I],A));break;case"GeometryCollection":for(b=[],I=0;I<w.geometries.length;I++)b.push(g(w.geometries[I],A));break}return b}function _(w){return new n.LineString(r(w))}return i.parse=y,i.convert=g,i.toGeoJSON=y,i.fromGeoJSON=g,i.parseCompressedGeometry=_,i})}(x4)),x4.exports}var eyt=tyt();const nyt=qh(eyt);function NF(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}")}function iyt(t,e){var n=NF(t);return function(i,r){return e(n(i),r,t)}}function ryt(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function S4(t){var e=new RegExp('["'+t+`
]`),n=t.charCodeAt(0);function i(c,p){var d,f,y=r(c,function(g,_){if(d)return d(g,_-1);f=g,d=p?iyt(g,p):NF(g)});return y.columns=f,y}function r(c,p){var d={},f={},y=[],g=c.length,_=0,w=0,A,T;function x(){if(_>=g)return f;if(T)return T=!1,d;var I=_,O;if(c.charCodeAt(I)===34){for(var L=I;L++<g;)if(c.charCodeAt(L)===34){if(c.charCodeAt(L+1)!==34)break;++L}return _=L+2,O=c.charCodeAt(L+1),O===13?(T=!0,c.charCodeAt(L+2)===10&&++_):O===10&&(T=!0),c.slice(I+1,L).replace(/""/g,'"')}for(;_<g;){var R=1;if(O=c.charCodeAt(_++),O===10)T=!0;else if(O===13)T=!0,c.charCodeAt(_)===10&&(++_,++R);else if(O!==n)continue;return c.slice(I,_-R)}return c.slice(I)}for(;(A=x())!==f;){for(var b=[];A!==d&&A!==f;)b.push(A),A=x();p&&(b=p(b,w++))==null||y.push(b)}return y}function s(c,p){return p==null&&(p=ryt(c)),[p.map(l).join(t)].concat(c.map(function(d){return p.map(function(f){return l(d[f])}).join(t)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(t)}function l(c){return c==null?"":e.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:r,format:s,formatRows:o}}var Pb=S4(","),syt=Pb.parse,oyt=Pb.parseRows,ayt=Pb.format,lyt=Pb.formatRows,Nb=S4("	"),cyt=Nb.parse,uyt=Nb.parseRows,hyt=Nb.format,pyt=Nb.formatRows;const dyt=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:ayt,csvFormatRows:lyt,csvParse:syt,csvParseRows:oyt,dsvFormat:S4,tsvFormat:hyt,tsvFormatRows:pyt,tsvParse:cyt,tsvParseRows:uyt},Symbol.toStringTag,{value:"Module"})),fyt=ON(dyt);var Cu={exports:{}},LF;function myt(){if(LF)return Cu.exports;LF=1,Cu.exports=t,Cu.exports.pair=s,Cu.exports.format=n,Cu.exports.formatPair=e,Cu.exports.coordToDMS=i;function t(a,l){var c=r(a,l);return c===null?null:c.val}function e(a){return n(a.lat,"lat")+" "+n(a.lon,"lon")}function n(a,l){var c=i(a,l);return c.whole+"\xB0 "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",p=c[a>=0?0:1],d=Math.abs(a),f=Math.floor(d),y=d-f,g=y*60,_=Math.floor(g),w=Math.floor((g-_)*60);return{whole:f,minutes:_,seconds:w,dir:p}}function r(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,p=a.match(c);if(!p)return null;var d=p[0],f;if(p[1]&&p[5]?(f=p[1],d=d.slice(0,-1)):f=p[1]||p[5],f&&l.indexOf(f)===-1)return null;var y=p[2]?parseFloat(p[2]):0,g=p[3]?parseFloat(p[3])/60:0,_=p[4]?parseFloat(p[4])/3600:0,w=y<0?-1:1;return(f==="S"||f==="W")&&(w*=-1),{val:(Math.abs(y)+g+_)*w,dim:f,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=r(a,l);if(!c)return null;a=c.remain.trim();var p=r(a,l);return!p||p.remain?null:c.dim?o(c.val,p.val,c.dim):[c.val,p.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Cu.exports}var A4,kF;function yyt(){if(kF)return A4;kF=1;var t=fyt,e=myt(),n=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function r(w,A){var T,x,b;for(var I in w)x=I.match(A),x&&(!T||x[0].length/I.length>b)&&(b=x[0].length/I.length,T=I);return T}function s(w){return r(w,n)}function o(w){return r(w,i)}function a(w){return!!w.match(n)}function l(w){return!!w.match(i)}function c(w){return typeof w=="object"?Object.keys(w).length:0}function p(w){var A=[",",";","	","|"],T=[];return A.forEach(function(x){var b=t.dsvFormat(x).parse(w);if(b.length>=1){for(var I=c(b[0]),O=0;O<b.length;O++)if(c(b[O])!==I)return;T.push({delimiter:x,arity:Object.keys(b[0]).length})}}),T.length?T.sort(function(x,b){return b.arity-x.arity})[0].delimiter:null}function d(w){return delete w.columns,w}function f(w){var A=p(w);return A?d(t.dsvFormat(A).parse(w)):null}function y(w,A,T){T||(T=A,A={}),A.delimiter=A.delimiter||",";var x=A.latfield||"",b=A.lonfield||"",I=A.crs||"",O=[],L={type:"FeatureCollection",features:O};if(I!==""&&(L.crs={type:"name",properties:{name:I}}),A.delimiter==="auto"&&typeof w=="string"&&(A.delimiter=p(w),!A.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var R=A.numericFields?A.numericFields.split(","):null,D=typeof w=="string"?t.dsvFormat(A.delimiter).parse(w,function(N){if(R)for(var V in N)R.includes(V)&&(N[V]=+N[V]);return N}):w;if(!D.length){T(null,L);return}var W=[],B;x||(x=s(D[0])),b||(b=o(D[0]));var G=!x||!b;if(G){for(B=0;B<D.length;B++)O.push({type:"Feature",properties:D[B],geometry:null});T(W.length?W:null,L);return}for(B=0;B<D.length;B++)if(D[B][b]!==void 0&&D[B][x]!==void 0){var J=D[B][b],it=D[B][x],u,m,S;S=e(J,"EW"),S&&(J=S),S=e(it,"NS"),S&&(it=S),u=parseFloat(J),m=parseFloat(it),isNaN(u)||isNaN(m)?W.push({message:"A row contained an invalid value for latitude or longitude",row:D[B],index:B}):(A.includeLatLon||(delete D[B][b],delete D[B][x]),O.push({type:"Feature",properties:D[B],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}T(W.length?W:null,L)}function g(w){for(var A=w.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},x=0;x<A.length;x++)T.geometry.coordinates.push(A[x].geometry.coordinates);return T.properties=A.reduce(function(b,I){for(var O in I.properties)b[O]||(b[O]=[]),b[O].push(I.properties[O]);return b},{}),{type:"FeatureCollection",features:[T]}}function _(w){for(var A=w.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},x=0;x<A.length;x++)T.geometry.coordinates[0].push(A[x].geometry.coordinates);return T.properties=A.reduce(function(b,I){for(var O in I.properties)b[O]||(b[O]=[]),b[O].push(I.properties[O]);return b},{}),{type:"FeatureCollection",features:[T]}}return A4={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:f,csv2geojson:y,toLine:g,toPolygon:_},A4}var E4=yyt();const gyt={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function vyt(t){if(t.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let e=!0,n=!0;for(let i=0;i<t.features.length;i++){const r=t.features[i];Object.assign(r.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in r&&typeof r.id<"u"&&(r.properties.ID_FILE=r.id,e=!1),"OBJECTID"in r.properties&&(r.properties.OBJECTID_FILE=r.properties.OBJECTID,delete r.properties.OBJECTID,n=!1),r.id=i+1}if(e)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.ID_FILE;if(n)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.OBJECTID_FILE}function byt(t,e){const n=i=>i.indexOf(" ")>-1;e.fields?.forEach(i=>{if(i.name&&n(i.name)){const r=i.name;let s,o="_",a;do s=r.replace(/ /g,o),a=e.fields?.find(l=>l.name===s),a&&(o+="_");while(a);i.alias=r,i.name=s;for(let l=0;l<t.features.length;l++){const c=t.features[l];c.properties[s]=c.properties[r],delete c.properties[r]}}})}function _yt(t,e){const n=t.features[e].geometry.geometries;if(n.length===1)t.features[e].geometry={type:n[0].type,coordinates:n[0].coordinates};else{const i=n.map(r=>r.coordinates);t.features[e].geometry={type:`Multi${n[0].type}`,coordinates:i}}}function wyt(t){return t==="MultiLineString"?"LineString":t==="MultiPolygon"?"Polygon":t}class xyt extends An{async fetchFileData(e,n){const i=await u0.get(e,{responseType:"arrayBuffer"});switch(n){case Pt.GEOJSON:case Pt.DATAJSON:return JSON.parse(this.arbToStr(i.data));case Pt.SHAPEFILE:case Pt.GEOJSONZIPPED:case Pt.FLATGEOBUF:case Pt.FLATGEOBUFZIPPED:return i.data;case Pt.CSV:case Pt.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${n}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let n="";for(let o=0;o<e.features.length;o++){const a=e.features[o];if(a.geometry.type==="GeometryCollection"){const c=a.geometry.geometries;if(c===void 0||c.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const p=c[0].type;for(let d=0;d<c.length;d++)if(c[d].type!==p)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");_yt(e,o)}const l=wyt(a.geometry.type);if(n==="")n=l;else if(n!==l)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(e.features[0].properties).map(o=>({name:o,type:"string"}));let r=0;const s=Object.keys(e.features[0].properties);for(;r<e.features.length;){const o=e.features[r];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(p=>p.name===a);i[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;r++}return i}extractCsvFields(e,n=","){return E4.dsv.dsvFormat(n).parseRows(e)[0].map(i=>({name:i,type:Fs.STRING}))}filterCsvLatLonFields(e,n=","){const i=E4.dsv.dsvFormat(n).parseRows(e),r=i[0],s={lat:JSON.parse(JSON.stringify(r)),lon:JSON.parse(JSON.stringify(r))};for(let o=0;o<r.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=s.lat.indexOf(r[o]),p=s.lon.indexOf(r[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&p!==-1&&s.lon.splice(p,1),c===-1&&p===-1)break}return s}async geoJsonToEsriJson(e,n){let i,r="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Fs.OID}]};vyt(e);const a=e.features[0].geometry.type,l=gyt[a],c=JSON.parse(JSON.stringify(X0t[l]));if(n){if(n.sourceProjection&&(r=this.$iApi.geo.proj.normalizeProj(n.sourceProjection)),n.targetSR)i=n.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");n.layerId?s=n.layerId:s=this.$iApi.geo.shared.generateUUID(),n.colour&&(c.renderer.symbol.color=new ya(n.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");r||(r=Bt.parseGeoJsonCrs(e.crs)),o.renderer=await Re.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(n.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter(g=>n.fieldMetadata?.fieldInfo?.find(_=>_.name===g.name)):this.extractGeoJsonFields(e)),n.fieldMetadata?.enforceOrder&&n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,n.fieldMetadata?.fieldInfo)),byt(e,o);const p=this.$iApi.geo.proj.normalizeProj(i);if(n){if(n.latField){const g=o.fields.find(_=>_.name===n.latField||_.alias===n.latField);g&&(g.type=Fs.DOUBLE)}if(n.lonField){const g=o.fields.find(_=>_.name===n.lonField||_.alias===n.lonField);g&&(g.type=Fs.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([r,i]);const d=Bt.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,r,p);const f=nyt.convert(e,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(g=>g.name);for(let g=0;g<f.length;g++){const _=f[g];_.geometry.spatialReference=d,_.geometry.type=o.geometryType,Object.keys(_.attributes).forEach(w=>{y.includes(w)?(Array.isArray(_.attributes[w])||typeof _.attributes[w]=="object")&&_.attributes[w]!=null&&(_.attributes[w]=JSON.stringify(_.attributes[w])):delete _.attributes[w]})}return(n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0?n.fieldMetadata.fieldInfo.filter(g=>g.trim&&y.includes(g.name)).map(g=>g.name):[]).forEach(g=>{for(let _=0;_<f.length;_++){const w=f[_].attributes;typeof w[g]=="string"&&(w[g]=w[g].trim())}}),o.source=f,o.spatialReference=d,o.id=s,o}async csvToGeoJson(e,n){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return n&&(n.latfield&&(i.latfield=n.latfield),n.lonfield&&(i.lonfield=n.lonfield),n.delimiter&&(i.delimiter=n.delimiter)),new Promise((r,s)=>{E4.csv2geojson(e,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),r(a))})})}async shapefileToGeoJson(e){return(await import("./shp.min-BRnGNnW5.js").then(n=>n.s)).default(e)}fgbToGeoJson(e,n){return import("./flatgeobuf-Dd2813h3.js").then(({geojson:i})=>new Promise(r=>{let s=!1,o=null;const a=i.deserialize(new Uint8Array(e),void 0,p=>{o=p.crs,s=!0});let l=0;const c=setInterval(()=>{if(a&&s){clearInterval(c);let p;o&&(o.code&&o.code!==4326&&o.org==="EPSG"?p=new Bt(o.code):o.wkt?p=new Bt(o.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",o)),p&&(a.crs=p.toGeoJSON()),r(a)}else l+=60,l>n&&(clearInterval(c),r({}))},60)}))}inferType(e){return typeof e=="number"?Fs.DOUBLE:Fs.STRING}rawDataJsonParser(e,n=!1){let i;return typeof e=="string"?i=JSON.parse(e):n?i=structuredClone(e):i=e,i}async unzipSingleFile(e){const n=await import("./jszip.min-CQR1kzYb.js").then(s=>s.j),i=await new n.default().loadAsync(e),r=Object.keys(i.files)[0];if(r&&i.file(r))return await i.file(r).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const Syt=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function Vl(t,e){return t.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}class Ayt extends An{async loadWfsData(e,n=-1,i=0,r=1e3,s={type:"FeatureCollection",features:[]},o=!1){let a={offset:i.toString(),limit:r.toString()};n===-1&&(a={resulttype:"hits"});const l=new Nf(e).updateQuery(a),[c,p]=await Vl(u0.get(l));if(!p)return console.error(`WFS data failed to load for ${e}`,c),Promise.reject(c);const d=p.data;if(n===-1)return n=p.data.numberMatched,this.loadWfsData(e,n,i,r,s,o);if(s.features=s.features.concat(d.features),d.features.length<n-i){const f=Math.min(r,n-i-d.features.length);return this.loadWfsData(l,n,d.features.length+i,f,s,o)}else return o&&s.features.length>0&&s.features[0].geometry.type===hn.POINT&&s.features.forEach(f=>{const y=f.geometry.coordinates;f.properties.rvInternalCoordX=y[0],f.properties.rvInternalCoordY=y[1]}),s}reversedAxisWKIDs(){return Syt}parseCapabilities(e){const n=()=>{let o=e;if(e.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new Nf(e.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return fn(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{n().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(n())})}),r=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,p=l.Title;let d=l.Style;const f=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{const _=g.Name;if(f.push(_),g.LegendURL){const w=g.LegendURL.OnlineResource["@_xlink:href"];y[_]=w.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:p,queryable:l["@_queryable"]==="1",layers:r(l),allStyles:f,styleToURL:y,currentStyle:f[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return import("./fxp-BPfEykj3.js").then(o=>o.f).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},p=new o(c).parse(l);if("ServiceExceptionReport"in p)return console.error(p.ServiceExceptionReport.ServiceException),[];const d=p.WMS_Capabilities.Capability;return{layers:r(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class Qp{static makeRawItem(e,n){const i=Promise.resolve();return Wn({format:e,data:n,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(e,n){const i=new xn,r={format:Xl.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const s=await n.getGraphic(e,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return Wn(r)}}class Eyt extends An{files;ogc;constructor(e){super(e),this.files=new xyt(e),this.ogc=new Ayt(e)}createLayer(e){let n;switch(e.layerType){case Pt.FEATURE:n=Nyt;break;case Pt.MAPIMAGE:n=Lyt;break;case Pt.GRAPHIC:n=FF;break;case Pt.TILE:n=UF;break;case Pt.WFS:n=Uyt;break;case Pt.DATATABLE:n=Gyt;break;case Pt.WMS:n=Fyt;break;case Pt.GEOJSON:n=Tyt;break;case Pt.GEOJSONZIPPED:n=Iyt;break;case Pt.FLATGEOBUFZIPPED:n=Pyt;break;case Pt.CSV:n=Myt;break;case Pt.DATAJSON:n=$yt;break;case Pt.IMAGERY:n=Dyt;break;case Pt.SHAPEFILE:n=Cyt;break;case Pt.FLATGEOBUF:n=Oyt;break;case Pt.OSM:n=Ryt;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new n(e,this.$iApi)}getLayer(e){return Ts(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,n){const i=Ts(this.$vApp.$pinia).getLayerById(e);if(i&&i.supportsSublayers&&n<i.sublayers.length)return i.sublayers[n]}getLayerPosition(e){const n=this.getLayer(e);if(n&&n.mapLayer){const i=n.isSublayer?n.parentLayer.id:n.id,r=this.layerOrderIds().findIndex(s=>s===i);return r===-1?void 0:r}else return}layerOrderIds(){return Ts(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return Ts(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(e=>e.layerState!==sn.ERROR&&e.initiationState===Ye.INITIATED)}allLayersOnMap(e=!0){let n=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===Ye.INITIATED);if(e){const i=this.layerOrderIds(),r=new Map(i.map((s,o)=>[s,o]));n.sort((s,o)=>r.get(s.id)-r.get(o.id))}return n}allDataLayers(){return this.allLayers().filter(e=>!e.mapLayer&&e.initiationState===Ye.INITIATED)}allErrorLayers(){return this.allLayers().filter(e=>e.layerState===sn.ERROR)}allInitiatingLayers(){return this.allLayers().filter(e=>e.initiationState===Ye.INITIATING)}getLayerControls(e){const n=this.getLayer(e);if(!n)return;const i=n.config.controls?.slice()??[pn.BoundaryZoom,pn.Datatable,pn.Identify,pn.Metadata,pn.Opacity,pn.Refresh,pn.Reload,pn.Remove,pn.Settings,pn.Symbology,pn.Visibility],r=[];return n.supportsFeatures||r.push(pn.Datatable),n.extent===void 0&&r.push(pn.BoundaryZoom),(n.config?.metadata||(n.isSublayer?n.parentLayer?.config?.metadata:{})||{}).url||r.push(pn.Metadata),!n.mapLayer&&!n.config.controls?.includes(pn.Settings)&&r.push(pn.Settings),r.forEach(s=>{const o=i?.indexOf(s)??-1;o!==-1&&i?.splice(o,1)}),{controls:i,disabledControls:n.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[n,i]=await Vl(fn(e,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${e}`,n),new Error(`Service metadata load error: ${e}`);if(!i.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const r=i.data,s={geometryType:Zt.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:ni.UNKNOWN,mapLayer:!0};if(s.name=r.name||"",s.currentVersion=r.currentVersion||-1,s.minScale=r.effectiveMinScale||r.minScale||0,s.maxScale=r.effectiveMaxScale||r.maxScale||0,s.extent=r.extent?tn.fromArcServer(r.extent,"layer_extent"):void 0,s.defaultVisibility=r.defaultVisibility??!0,s.canModifyLayer=r.canModifyLayer??!0,r.type==="Feature Layer"||r.type==="Table"){if(s.dataFormat=ni.ESRI_FEATURE,s.displayField=r.displayField||"",Array.isArray(r.fields)){const o=await Promise.all(r.fields.map(a=>Re.FieldFromJson(a)));s.fields=o.map(a=>({name:a.name,alias:a.alias,type:a.type,length:a.length})),o.every(a=>a.type==="oid"?(s.objectIdField=a.name,!1):!0)&&(s.objectIdField=r.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),r.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(r.geometryType),r.drawingInfo?.renderer&&(s.renderer=await Re.RendererFromJson(r.drawingInfo.renderer)),r.sourceSpatialReference&&(s.sourceSR=Bt.fromConfig(r.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=ni.ESRI_RASTER;return s}async loadFeatureCount(e,n=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:n||"1=1",returnCountOnly:!0,returnGeometry:!1}},[r,s]=await Vl(fn(`${e}/query`,i));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,r),0)}}class Lb extends An{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,n){super(n),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=sn.NEW,this.drawState=ji.NOT_LOADED,this.initiationState=Ye.NEW,this.layerIdx=-1,this.layerFormat=ur.UNKNOWN,this.layerType=Pt.UNKNOWN,this.dataFormat=ni.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Un.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Zt.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new Wg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Bt.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new MN}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return Promise.resolve(new Er(new al))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,n){}applySqlFilter(e=[]){}getFilterOIDs(e=[],n=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(tn.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,n=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const n=this._sublayers.findIndex(i=>i?.uid===e);if(n===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return n}}getSublayer(e){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let n;if(typeof e=="string"?n=this.uidToIdx(e):n=e,this._sublayers[n]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[n]}controlAvailable(e){const n=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,n)}}class RF extends Lb{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;constructor(e,n){super(e,n),this.name=e.name||"",this.geomType=Zt.NONE,this.dataFormat=ni.UNKNOWN,this.layerType=Pt.UNKNOWN,this.layerFormat=ur.UNKNOWN;const i=n.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??i.draw,this.expectedTime.load=e.expectedLoadTime??i.load,this.expectedTime.fail=e.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Un.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=sn.NEW,this.initiationState=Ye.NEW,this.drawState=ji.NOT_LOADED,this.loadDefProm=new xn,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.layerTree=new Wg(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(Mt.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,n=!1){this.layerState=e,this.$iApi.event.emit(Mt.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:n})}updateDrawState(e){this.drawState=e,e===ji.REFRESH?this.startTimer("draw"):e===ji.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Mt.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState(Ye.INITIATING),this.startTimer("load");const e=s=>{this.layerState!==sn.ERROR&&(console.error(s),this.onError())},n=Date.now(),i=setTimeout(()=>{n>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[r]=await Vl(this.onInitiate());clearTimeout(i),n>this.lastCancel&&(this.drawState!==ji.UP_TO_DATE&&this.startTimer("draw"),r?e(`Init error on layer id: ${this.id} . ${r.message}`):this.updateInitiationState(Ye.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Ye.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Ye.TERMINATING),await Promise.all(this.sublayers.map(e=>e.terminate())),this.loadDefProm=new xn,this.loadPromDone=!1,this.updateLayerState(sn.NEW),this.updateDrawState(ji.NOT_LOADED),this.updateInitiationState(Ye.TERMINATED)}onLoad(){const e=Date.now();let n=!1;const i=setTimeout(()=>{n=!0,this.onError()},this.expectedTime.fail);try{const r=this.onLoadActions();Promise.all(r).then(()=>{clearTimeout(i),n?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new xn),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(sn.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(r){console.error("Encountered error on layer load: ",r),clearTimeout(i),this.onError()}}onError(e=!0){this.layerState!==sn.ERROR&&(this.initiationState===Ye.INITIATING&&this.updateInitiationState(Ye.NEW),this.loadPromDone&&(this.loadDefProm=new xn),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onError(e)),e&&this.$iApi.notify.show(or.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(sn.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Ye.NEW||this.initiationState===Ye.TERMINATING||this.initiationState===Ye.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===sn.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return this.stubError(),Promise.resolve(new Er(new al))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,n){this.stubError()}getFilterOIDs(e=[],n=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(tn.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,n,i=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout(()=>this.$iApi.notify.show(or.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id})),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}}class Mu extends RF{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,n){super(e,n),this._scaleSet=new MN,this._mouseTolerance=e.mouseTolerance!=null?e.mouseTolerance:5,this._touchTolerance=e.touchTolerance!=null?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?tn.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new xn,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(this.esriLayer.watch("visible",e=>{this.$iApi.event.emit(Mt.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})})),this.esriWatches.push(this.esriLayer.watch("opacity",e=>{this.$iApi.event.emit(Mt.LAYER_OPACITYCHANGE,{opacity:e,layer:this})})),this.esriWatches.push(this.esriLayer.watch("loadStatus",e=>{const n={"not-loaded":sn.LOADING,loading:sn.LOADING,loaded:sn.LOADED,failed:sn.ERROR};e==="loaded"?this.onLoad():e==="failed"?this.onError():this.updateLayerState(n[e])})),this.esriLayer.on("layerview-create",e=>{this.esriView=e.layerView,this.esriWatches.push(e.layerView.watch("updating",n=>{this.updateDrawState(n?ji.REFRESH:ji.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(e=>e.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new xn,this.esriWatches.forEach(e=>e.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(Mt.LAYER_RELOAD_START,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Mt.LAYER_RELOAD_START,n)),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Mt.LAYER_RELOAD_END,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Mt.LAYER_RELOAD_END,n))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(e=>e.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const n=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return e.push(n),e}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let n;if(typeof e>"u")if(this.mapCheck())n=this.$iApi.geo.map.getScale();else return!1;else n=e;return this.scaleSet.isOffScale(n).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=e}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=e}get layerExists(){return this.initiationState===Ye.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(e=>e.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?Bt.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Bt.latLongSR())}}class T4 extends Mu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.geomType=Zt.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new IN(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),this.hovertips=e.state?.hovertips??!0,this.attribs=new GF}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const n=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(n<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new WF(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===ni.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Pt.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const r=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(r,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(di.PERMANENT)};this.attribs.attLoader=new BF(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(e=>e.trim).map(e=>e.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={},r=new al;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(n.getAttribs||n.getStyle){const p=this.attribs.quickCache.getAttribs(e);if(p)i=p;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[e]]}else o=!0}if(n.getGeom){l=s.getScale();const p=this.attribs.quickCache.getGeom(e,l);p?r=p:a=!0}if(o||a){const p={oid:e,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(p.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(p.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(p);a&&(this.attribs.quickCache.setGeom(e,d.geometry,l),r=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,d.attributes),o&&(i=d.attributes))}const c=new Er(r,"",n.getAttribs?i:void 0);if(n.getStyle){const p=Gt(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(p)}return c}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const n=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(n.attributes||{},this.renderer)}setSqlFilter(e,n){const i=this.filter.getSql(e);if(n===i)return;this.filter.setSql(e,n),this.$iApi.event.emit(Mt.FILTER_CHANGE,{uid:this.uid,filterKey:e});const r=`${this.uid}-${e}-${n}`;this._lastFilterUpdate=r,setTimeout(()=>{this._lastFilterUpdate===r&&this.applySqlFilter()},100)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],n=void 0){const i=this.filter.getCombinedSql(e),r=!!n;if(!(i||r))return;n&&this.filter.setExtent(n);const s=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(s,r);if(!o){const a={filterGeometry:n,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,r)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){const n=await this.queryOIDs(e),i={getGeom:!!e.includeGeometry,getAttribs:!0};return n.map(r=>({oid:r,graphic:this.getGraphic(r,i)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}configDrawOrder(e,n){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(n.orderBy=e.drawOrder.map(i=>{const r=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:r}:{valueExpression:i.arcade,order:r}}),this._drawOrder=e.drawOrder.slice())}}class DF extends Mu{constructor(e,n){super(e,n),this.dataFormat=ni.ESRI_FEATURE,this.layerFormat=ur.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find(n=>n.id===e)}getEsriGraphic(e){return this.esriLayer?.graphics.find(n=>n.id===e)}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists){this.noLayerErr();return}let n;e instanceof Array?n=e:n=[e];const i=n.filter(l=>this._graphics.findIndex(c=>c.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),r=this.$iApi.geo.map.getSR(),s=i.map(l=>this.$iApi.geo.proj.projectGeometry(r,l.geometry)),o=await Promise.all(s),a=i.map((l,c)=>{const p=new Er(o[c],l.id,l.attributes);return p.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(p)});this.esriLayer.addMany(a)}removeGraphic(e){if(!this.layerExists){this.noLayerErr();return}if(typeof e>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let n;Array.isArray(e)?n=e:n=[e],n.map(i=>typeof i=="string"?i:i.id).forEach(i=>{const r=this.esriLayer.graphics.findIndex(o=>o.id===i);r>-1&&this.esriLayer.graphics.removeAt(r);const s=this._graphics.findIndex(o=>o.id===i);s>-1&&this._graphics.splice(s,1)})}}class FF extends DF{constructor(e,n){super(e,n),this.layerType=Pt.GRAPHIC}async onInitiate(){this.esriLayer=yn(await Re.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(ji.UP_TO_DATE),e}}class Iu extends T4{esriJson;sourceGeoJson;tooltipField;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=ni.ESRI_FEATURE,this.layerFormat=ur.FEATURE,this.tooltipField="",this.layerIdx=0,e.identifyMode&&e.identifyMode!==Un.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Un.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=yn(await Re.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(r=>{n[r]=this.esriJson[r]}),this.origRampConfig.nameField?n.displayField=this.$iApi.geo.attributes.fieldValidator(n.fields,this.origRampConfig.nameField)||i:n.displayField=i,n.outFields=["*"],delete n.url,this.configDrawOrder(e,n),n}onLoadActions(){const e=super.onLoadActions(),n=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Re.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.origRampConfig.tooltipField?this.tooltipField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField)||this.nameField:this.tooltipField=this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.featureCount=this.esriLayer?.source.length||0};return e.push(n()),e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then(()=>{this.applySqlFilter()}),e}runIdentify(e){if(!this.canIdentify())return[];const n=new xn,i=Wn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===Un.HYBRID||this.identifyMode===Un.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Zt.POLYGON&&e.geometry.type===Zt.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):l.filterGeometry=e.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return e.hitTest&&(this.identifyMode===Un.HYBRID||this.identifyMode===Un.SYMBOLIC)&&(r=s.then(async()=>{const l=await e.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(p=>c.oid===p.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([r,s]).then(()=>{o.forEach(l=>{i.items.push(Qp.makeRawItem(Xl.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(Qp.makeOidItem(l,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??tn.fromESRI(e.fullExtent,this.id+"_extent");const n=yn(e.fields.slice());this.fields=n.map(r=>({name:r.name,alias:r.alias,type:r.type,length:r.length})),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new Byt(this.$iApi,i)}async getGraphic(e,n){let i;if(!n.getGeom&&this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=new Er(new al,"",r.features[r.oidIndex[e]])}else{const r={filterOIDs:[e],includeGeometry:!!n.getGeom},s=await this.queryFeatures(r);if(s.length===0)throw new Error(`Could not find object id ${e}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=s[0]}if(n.getStyle){const r=Gt(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(r)}return i}async queryFeatures(e){const n={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(n)}async queryOIDs(e){const n={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(n)).map(i=>i.attributes?i.attributes[this.oidField]:-1)}applySqlFilter(e=[]){if(!this.esriView){this.noLayerErr();return}const n=this.filter.getCombinedSql(e);Re.FeatureFilter({where:n}).then(i=>{Gt(this.esriView).filter=i})}}class Tyt extends Iu{constructor(e,n){super(e,n),this.layerType=Pt.GEOJSON}async onInitiate(){let e;const n=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");n>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class Cyt extends Iu{constructor(e,n){super(e,n),this.layerType=Pt.SHAPEFILE}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(n);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class Myt extends Iu{constructor(e,n){super(e,n),this.layerType=Pt.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const n=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")e=this.origRampConfig.rawData;else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(n>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});n>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class Iyt extends Iu{constructor(e,n){super(e,n),this.layerType=Pt.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class Oyt extends Iu{constructor(e,n){super(e,n),this.layerType=Pt.FLATGEOBUF}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(n,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class Pyt extends Iu{constructor(e,n){super(e,n),this.layerType=Pt.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}}class Nyt extends T4{tooltipField;constructor(e,n){super(e,n),this.dataFormat=ni.ESRI_FEATURE,this.tooltipField="",this.supportsIdentify=!0,this.layerType=Pt.FEATURE,this.layerFormat=ur.FEATURE,e.identifyMode&&e.identifyMode!==Un.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Un.HYBRID}async onInitiate(){yn(this.esriLayer=await Re.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(n.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,n),n}onLoadActions(){const e=Date.now(),n=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,r=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=r,this.serviceUrl=i;const s=async()=>{let a;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const l=await Re.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=l,a={customRenderer:l}}else a={};await this.loadLayerMetadata(a),e>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.nameField=this.origRampConfig.nameField||this.nameField||"",this.tooltipField=this.origRampConfig.tooltipField||this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()))},o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(di.PERMANENT)).then(a=>{e>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=r,n.push(o,s()),n}runIdentify(e){if(!this.canIdentify())return[];const n=new xn,i=Wn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===Un.HYBRID||this.identifyMode===Un.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Zt.POLYGON&&e.geometry.type===Zt.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):a.filterGeometry=e.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return e.hitTest&&(this.identifyMode===Un.HYBRID||this.identifyMode===Un.SYMBOLIC)&&(r=s.then(async()=>{(await e.hitTest).filter(a=>a.layerId===this.id&&o.findIndex(l=>a.oid===l)===-1).forEach(a=>{o.push(a.oid)})})),Promise.all([r,s]).then(()=>{o.forEach(a=>{i.items.push(Qp.makeOidItem(a,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}applySqlFilter(e=[]){if(this.layerExists){const n=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=n}else this.noLayerErr()}getGraphicExtent(e){return new Promise((n,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const r=this.attribs.quickCache.getExtent(e);r?n(r):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=tn.fromESRI(s.extent);this.attribs.quickCache.setExtent(e,o),n(o)}).catch(()=>{console.error(`Extent querying failed for ${e}.`),i()})}})}}class Lyt extends Mu{isDynamic;origState;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Pt.MAPIMAGE,this.layerFormat=ur.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Un.GEOMETRIC}async onInitiate(){this.esriLayer=yn(await Re.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return this.origState={visibility:n.visible,opacity:n.opacity},n.visible=!1,e.imageFormat&&(n.imageFormat=e.imageFormat),n}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const n=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(or.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??tn.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(p=>p.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},r={};this.origRampConfig.sublayers.forEach(l=>{r[l.index||0]=l});const s=[],o=(l,c)=>{const p=l.id,d=r[p];if(l.sublayers&&l.sublayers.length>0){const f=(d?d.name:"")||l.title||"",y=new Wg(p,"",f,!1);c.findChildByIdx(p)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[p]||(this._sublayers[p]=new kyt({id:`${this.id}-${p}`,index:p,layerType:Pt.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const f=this._sublayers[p];if(f.isRemoved)return;if(f.name=d?.name||l.title||"",s.push(f),!c.children.map(y=>y.layerIdx).includes(p)){const y=new Wg(p,f.uid,f.name,!1);c.children.push(y)}f.esriWatches.push(l.watch("visible",()=>{this.$iApi.event.emit(Mt.LAYER_VISIBILITYCHANGE,{visibility:f.visibility,layer:f}),f.parentLayer?.checkVisibility()}),l.watch("opacity",y=>{this.$iApi.event.emit(Mt.LAYER_OPACITYCHANGE,{opacity:y,layer:f})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=i(l.layerIdx),p=r[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),n<this.lastCancel)return;const d=l.esriSubLayer&&p?.customRenderer?.type;if(d&&(l.esriSubLayer.renderer=await Re.RendererFromJson(p.customRenderer)),await l.loadLayerMetadata(d?{customRenderer:l.esriSubLayer?.renderer}:{}),n<this.lastCancel)return;const f=r[l.layerIdx];if(f?(l.visibility=l.isRemoved?!1:f.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=f.state?.opacity??this.origState.opacity??1,l.nameField=f.nameField||l.nameField||"",this.$iApi.geo.attributes.applyFieldMetadata(l,f.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(or.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim();const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(di.PERMANENT));n>this.lastCancel&&(l.featureCount=y)}});return e.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,n=!1){super.updateLayerState(e,n),this.sublayers.forEach(i=>i.updateLayerState(e,n))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach(n=>n.updateDrawState(e))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map(r=>typeof r=="number"?this.layerTree?.findChildByIdx(r)?.uid:r));const n=e.sublayerIds?this._sublayers.filter(r=>e.sublayerIds?.includes(r.uid)):this._sublayers.filter(r=>r.canIdentify());if(n.length===0)return[];let i;return e.geometry.type===Zt.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),n.map(r=>{const s=new xn,o={},a=Wn({items:[],loading:s.getPromise(),loaded:!1,errored:!1,uid:r.uid,layerId:r.id,requestTime:Date.now()});return r.geomType!==Zt.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=e.geometry,o.filterSql=r.getCombinedSqlFilter(),o.sourceSR=r.sourceSR,r.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(Qp.makeOidItem(c,r))}),a.loaded=!0,s.resolveMe()}).catch(()=>{a.errored=!0,s.resolveMe()}),a})}}class kyt extends T4{tooltipField;constructor(e,n,i){if(super(e,n),this.layerType=Pt.SUBLAYER,this.layerFormat=ur.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=i,this.dataFormat=ni.ESRI_FEATURE,this.supportsFeatures=!0,this.tooltipField="",this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){if(!e.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=yn(e.esriLayer.allSublayers.find(n=>n.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Ye.INITIATED;const e=this.labelVizOverride();e!==void 0&&(this.labelVisibility=e)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Ye.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const n=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=n}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){return this.parentLayer?.esriLayer?Bt.fromESRI(this._parentLayer?.esriLayer?.spatialReference):(this.noLayerErr(),Bt.latLongSR())}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(e!==void 0||(e=this.$iApi.geo.map.labelsDefault?.visible,e!==void 0))return e}}class Ryt extends Mu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Pt.OSM,this.layerFormat=ur.OSM,this.dataFormat=ni.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=yn(await Re.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:n.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),e}}class Dyt extends Mu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Pt.IMAGERY,this.layerFormat=ur.IMAGERY,this.dataFormat=ni.ESRI_RASTER}async onInitiate(){this.esriLayer=yn(await Re.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e}}class UF extends Mu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Pt.TILE,this.layerFormat=ur.TILE,this.dataFormat=ni.ESRI_TILE}async onInitiate(){this.esriLayer=yn(await Re.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),n=Date.now();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e.push(this.checkProj()),e}checkProj(){const e=this.getSR(),n=this.$iApi.geo.map.getSR().isEqual(e);if(this.layerState===sn.LOADED&&!n)this.$iApi.notify.show(or.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===sn.ERROR&&n)this.reload();else if(this.layerState!==sn.ERROR&&!n)return this.$iApi.notify.show(or.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class Fyt extends Mu{sublayerNames;mimeType;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.layerType=Pt.WMS,this.layerFormat=ur.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=ni.OGC_RASTER,this.identifyMode=Un.GEOMETRIC}async onInitiate(){this.esriLayer=yn(await Re.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i=e.sublayers;this.sublayerNames=i.map(s=>s.id||"error_no_wms_id");const r=i.map(s=>s.currentStyle).join();return n.customParameters={styles:r},e.url.indexOf("/geomet")!==-1&&(n.customParameters.layers=i[0].id),n}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=i=>{let r=!1;return i.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&n(s.sublayers)?r=!0:s.visible=!1}),r};return this.layerExists?n(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==Zt.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const n=new xn,i=Wn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then(r=>{if(r){let s=!0,o;typeof r!="string"?o=Xl.JSON:r.indexOf("Search returned no results")===-1&&r!==""?o=Xl.TEXT:(s=!1,o=Xl.UNKNOWN),s&&i.items.push(Qp.makeRawItem(o,r))}i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}setCustomParameter(e,n,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=n,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,n,i){const r=this.$iApi.geo.map,s=this.esriLayer;if(!r.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=r.getExtent(),c=s.spatialReferences,p=e.join(","),d=r.esriView.toScreen(n.toESRI()),f=Math.floor(d.x),y=Math.floor(d.y),g={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",_=r.getSR();_.wkid?o=_.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(_.latestWkid&&c.indexOf(_.latestWkid)>-1?o=_.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:f,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:f,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const w={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:r.getPixelWidth(),HEIGHT:r.getPixelHeight(),QUERY_LAYERS:p,LAYERS:p,INFO_FORMAT:i},A=s.customLayerParameters;return A&&Object.keys(A).forEach(T=>{T.toLowerCase()!=="styles"&&(w[T]=A[T])}),Object.keys(w).forEach(T=>a[T]=w[T]),fn(s.url.split("?")[0],{query:a,responseType:g})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const n=new Map;this.esriLayer.allSublayers.forEach(r=>{r.visible&&(r.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===r.name){const o=new Nf(r.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(r.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),n.set(r.name,r.legendUrl))});const i=e.map(r=>r.styleLegends&&r.currentStyle?r.styleLegends.find(s=>s.name===r.currentStyle).url:void 0);return i.forEach((r,s)=>{r||(i[s]=n.get(e[s].id))}),i}getWMSLayerTitle(e){if(!this.esriLayer)return"";let n;return this.esriLayer.allSublayers.some(i=>{if(i.name===e)return n=i.title,!0}),n||""}loadSymbology(){const e=Date.now(),n=this.config.sublayers,i=this.getLegendUrls(n.map(r=>({id:r.id,styleLegends:r.styleLegends,currentStyle:r.currentStyle}))).map((r,s)=>{const o=n[s].name||this.getWMSLayerTitle(n[s].id)||n[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(r).then(l=>{e>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class Uyt extends Iu{constructor(e,n){super(e,n),this.layerType=Pt.WFS}async onInitiate(){const e=Date.now(),n=new Nf(this.config.url),{offset:i,limit:r}=n.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(r)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class $F extends RF{sourceJson;attribs;_visibility;constructor(e,n){super(e,n),this.dataFormat=ni.ESRI_FEATURE,this.layerFormat=ur.NOLAYER,this.drawState=ji.NOT_VISUAL,this.attribs=new GF,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const e=this.sourceJson;if(e.data.length===0||e.fields.length===0)throw new Error("Data layer with no columns or now rows.");const n=e.fields.slice(),i=e.data[0].slice(),r=/ /gi;this.fields=n.map((o,a)=>{let l="",c=o;o.indexOf(" ")>-1&&(l=o,c=o.trim().replace(r,"-"),e.fields[a]=c);const p=this.$iApi.geo.layer.files.inferType(i[a]);return{name:c,alias:l,type:p,length:p===Fs.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Fs.OID}),e.fields.push(this.oidField),e.data.forEach((o,a)=>o.push(a+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Wyt(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length,this.origRampConfig.nameField?this.nameField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.nameField)||this.oidField:this.nameField=this.oidField,this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Mt.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==sn.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Mt.LAYER_RELOAD_END,this)},300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(n=>{this.legend[0].svgcode=n})}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={};if(this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=r.features[r.oidIndex[e]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Er(new al,"",i)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],n=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(Mt.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class $yt extends $F{constructor(e,n){super(e,n),this.layerType=Pt.DATAJSON}async onInitiate(){const e=Date.now();let n;if(this.origRampConfig.rawData)n=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)n=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");e>this.lastCancel&&(this.sourceJson=n,await super.onInitiate())}}class Gyt extends $F{filter;serviceUrl;constructor(e,n){super(e,n),this.layerType=Pt.DATATABLE,this.serviceUrl=e.url,this.filter=new IN(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),i=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,r=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(o=>{if(n<this.lastCancel)return;this.name||(this.name=o.name),this.layerTree.name=this.name,this.oidField=o.objectIdField,this.nameField=this.origRampConfig.nameField||o.displayField||this.oidField,this.fields=o.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata);const a={supportsLimit:(o.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(di.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new BF(this.$iApi,a),this.attribs.quickCache=new WF(this.geomType)}),s=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(di.PERMANENT)).then(o=>{n>this.lastCancel&&(this.featureCount=o)});return this.layerTree.layerIdx=i,e.push(r,s),e}async getGraphic(e,n){let i={};const r=this.attribs.quickCache.getAttribs(e);if(r)i=r;else if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();i=s.features[s.oidIndex[e]]}else{const s={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(s);this.attribs.quickCache.setAttribs(e,o.attributes),i=o.attributes}return new Er(new al,"",i)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(e,n){const i=this.filter.getSql(e);n!==i&&(this.filter.setSql(e,n),this.$iApi.event.emit(Mt.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],n=void 0){const i=this.filter.getCombinedSql(e);if(!i)return;const r=this.filter.sqlActiveFilters(e);let s=this.filter.getCache(r,!1);if(!s){const o={filterSql:i,includeGeometry:!1};s=this.queryOIDs(o),this.filter.setCache(s,r,!1)}return s}queryOIDs(e){const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){const n=await this.queryOIDs(e),i={getAttribs:!0};return n.map(r=>({oid:r,graphic:this.getGraphic(r,i)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}}class jyt extends An{oidIndexer(e,n){e.features.forEach((i,r)=>{e.oidIndex[i[n]]=r})}async arcGisBatchLoad(e,n){if(n.loadAbortFlag)return[];const i=e.permanentFilter?` AND ${e.permanentFilter}`:"",r={query:{where:`${e.oidField}>${e.maxId}${i}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[s,o]=await Vl(fn(e.serviceUrl+"/query",r));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){n.loadedCount+=l;let c;if(e.supportsLimit?c=o.data.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=l),c=l>=e.batchSize),a=this.trimFeatureSetAttributes(a,e.fieldsToTrim??[]),c){e.maxId=a[l-1].attributes[e.oidField];const p=await this.arcGisBatchLoad(e,n);return n.loadAbortFlag?[]:a.concat(p)}else return n.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(e,n){e.maxId=-1,e.batchSize=-1;const i={features:(await this.arcGisBatchLoad(e,n)).map(r=>r.attributes),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,i}async loadGraphicsAttributes(e,n){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const i={features:e.sourceGraphics.map(r=>Gt(r).attributes).toArray(),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,n.loadedCount=i.features.length,i}async loadCompactJsonAttributes(e,n){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=e.sourceDataJson.fields,r=e.fieldsToTrim??[],s={features:e.sourceDataJson.data.map(o=>{const a={};return o.forEach((l,c)=>{a[i[c]]=typeof l=="string"&&r.includes(i[c])?l.trim():l}),a}),oidIndex:{}};return this.oidIndexer(s,e.oidField),n.loadIsDone=!0,n.loadedCount=s.features.length,e.sourceDataJson=void 0,s}async loadSingleFeature(e){const n={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(n.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(n.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(n.query.geometryPrecision=e.geometryPrecision);const[i,r]=await Vl(fn(e.serviceUrl+"/query",n));if(!r)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!r.data||!r.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const s=r.data.features;if(s.length>0){let o,a=this.trimFeatureSetAttributes([s[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){a.geometry.spatialReference=r.data.spatialReference;const l=ky(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new al;return new Er(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,n){return n.forEach(i=>{e.forEach(r=>{typeof r.attributes[i]=="string"&&(r.attributes[i]=r.attributes[i].trim())})}),e}orderFields(e,n){const i=(s,o)=>s.findIndex(a=>a.name===o),r=(s,o)=>{const a=i(n,s.name),l=i(n,o.name);return a===-1&&l===-1?i(e,s.name)-i(e,o.name):a===-1?1:l===-1?-1:a-l};return e.slice().sort(r)}applyFieldMetadata(e,n=void 0){if(!n||!n.fieldInfo){e.fieldList="*";return}let i=n.fieldInfo.filter(r=>r.trim).map(r=>r.name);if(e.fields.forEach(r=>{i.includes(r.name)&&(r.trim=!0)}),n?.enforceOrder&&n?.fieldInfo&&n?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,n.fieldInfo),e.fieldList=n.fieldInfo.map(r=>r.name).join(",")),n.exclusiveFields){n.fieldInfo.find(s=>s.name===e.oidField)||n.fieldInfo.push({name:e.oidField}),e.fieldList=n.fieldInfo.map(s=>s.name).join(",");const r=n.fieldInfo;e.fields=e.fields.filter(s=>r.find(o=>o.name===s.name))}else e.fieldList="*";n.fieldInfo.forEach(r=>{if(r.alias){const s=e.fields.find(o=>o.name===r.name);s&&(s.alias=r.alias)}})}fieldValidator(e,n){if(e.findIndex(i=>i.name===n)===-1){const i=e.find(r=>r.alias===n);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${n}`),"")}else return n}async generateTabularAttributes(e,n){return n.attLoader.tabularAttributesCache||(n.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,n)),n.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,n){if(e.dataFormat===ni.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await n.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const r=e.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],Gt(o).name)).map(o=>({data:Gt(o).name,title:Gt(o).alias||Gt(o).name})),s=i.features.map(o=>{const a=SS({},o);return a.rvInteractive="",a.rvSymbol=e.getIcon(o[e.oidField]),a.rvUid=e.uid,a});return r.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:r,rows:s,fields:e.fields,oidField:e.oidField}}}class GF{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class jF{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class C4 extends An{aac;loadPromise;details;tabularAttributesCache;constructor(e,n){super(e),this.aac=new jF,this.details=n}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new jF,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class BF extends C4{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class Byt extends C4{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class Wyt extends C4{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class WF{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===Zt.POINT||e===Zt.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,n){this.attribs[e]=n}getGeom(e,n=void 0){return this.getGeomStore(n)[e]}setGeom(e,n,i=void 0){const r=this.getGeomStore(i);r[e]=n}getExtent(e){return this.extents[e]}setExtent(e,n){this.extents[e]=n}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class M4{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,n,i=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=i,this.type=b0.Unknown}makeSearchParams(e){return e}searchRenderer(e){const n=this.makeSearchParams(e),i=this.symbolUnits.find(s=>s.match(n));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${n}`);const r=new kb(this);return r.svgCode="",r}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,n){let i="'";if(!n||n.length===0)return i;const r=n.find(s=>s.name===e);return r&&r.type&&r.type!=="string"&&(i=""),i}cleanFieldName(e,n){if(!e)return e;let i=n.find(r=>r.name===e);if(i)return e;{const r=e.toLowerCase();return i=n.find(s=>s.name.toLowerCase()===r),i?i.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(e=>e.definitionClause).join(" OR ")}))`}}class kb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new gs}match(e){return!!e}}class zyt extends M4{constructor(e,n){super(e,n),this.type=b0.Simple;const i=new kb(this);i.label=e.label||"",i.symbol=e.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class qyt extends M4{delim;keyFields;constructor(e,n,i=!1){super(e,n,i),this.type=b0.Unique,this.delim=e.fieldDelimiter||", ";const r=o=>o.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter(o=>o).map(o=>this.cleanFieldName(o,n));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,n));if(e.uniqueValueInfos.forEach(o=>{const a=new zF(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((p,d)=>l[d]==="<Null>"?`${p} IS NULL`:`${p} = ${s[d]}${r(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),e.defaultSymbol){const o=new zF(this,"");o.isDefault=!0,o.label=e.defaultLabel||"",o.symbol=e.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(e){return this.keyFields.map(n=>{let i=e[n]===null?"":e[n];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class zF extends kb{matchValue;constructor(e,n){super(e),typeof n=="number"?this.matchValue=n.toString():this.matchValue=n}match(e){return this.matchValue===e}}class Vyt extends M4{valField;constructor(e,n,i=!1){if(super(e,n,i),this.valField=this.cleanFieldName(e.field,n),e.classBreakInfos.forEach((r,s)=>{const o=s===0,a=new qF(this,r.minValue,r.maxValue,o);a.label=r.label||"",a.symbol=r.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${r.minValue} AND ${this.valField} <= ${r.maxValue})`),this.symbolUnits.push(a)}),e.defaultSymbol){const r=new qF(this,0,0,!1);r.isDefault=!0,r.label=e.defaultLabel||"",r.symbol=e.defaultSymbol,r.definitionClause=this.makeElseClause(),this.defaultUnit=r}}makeSearchParams(e){return parseFloat(e[this.valField])}}class qF extends kb{minValue;maxValue;firstBreak;constructor(e,n,i,r){super(e),this.minValue=n,this.maxValue=i,this.firstBreak=r}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var I4={exports:{}},Hyt=I4.exports,VF;function Yyt(){return VF||(VF=1,function(t,e){(function(n,i){t.exports=n.document?i(n,n.document):function(r){return i(r,r.document)}})(typeof window<"u"?window:Hyt,function(n,i){var r=typeof this<"u"?this:n,s=r.SVG=function(u){if(s.supported)return u=new s.Doc(u),s.parser.draw||s.prepare(),u};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!i.createElementNS&&!!i.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(u){return"Svgjs"+w(u)+s.did++},s.create=function(u){var m=i.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},s.extend=function(){var u,m,S,N;for(u=[].slice.call(arguments),m=u.pop(),N=u.length-1;N>=0;N--)if(u[N])for(S in m)u[N].prototype[S]=m[S];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,s.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&s.extend(m,u.extend),u.construct&&s.extend(u.parent||s.Container,u.construct),m},s.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof n.SVGElement?new s.Nested:new s.Doc:u.nodeName=="linearGradient"?m=new s.Gradient("linear"):u.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[w(u.nodeName)]?m=new s[w(u.nodeName)]:m=new s.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var u=i.getElementsByTagName("body")[0],m=(u?new s.Doc(u):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:u||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(u,m){var S,N=u.length,V=[];for(S=0;S<N;S++)V.push(m(u[S]));return V},filter:function(u,m){var S,N=u.length,V=[];for(S=0;S<N;S++)m(u[S])&&V.push(u[S]);return V},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof n.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?s.regex.isRgb.test(u)?(m=s.regex.rgb.exec(u.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(u)&&(m=s.regex.hex.exec(A(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new s.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new s.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),s.Color.test=function(u){return u+="",s.regex.isHex.test(u)||s.regex.isRgb.test(u)},s.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},s.Color.isColor=function(u){return s.Color.isRgb(u)||s.Color.test(u)},s.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},s.extend(s.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],S=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(S);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.indexOf(this.value[u])==-1&&S.push(this.value[u]);return this.value=S},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,N=[];m<S;m++)N.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new s.Array(N)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=f(this.value),u}}),s.PointArray=function(u,m){s.Array.call(this,u,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.push(this.value[u].join(","));return S.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,N=[];m<S;m++)N.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new s.PointArray(N)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(V){return V.slice()});if(u[0].x!=null)return u.map(function(V){return[V.x,V.y]})}else u=u.trim().split(s.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var S=0,N=u.length;S<N;S=S+2)m.push([u[S],u[S+1]]);return m},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var N=this.value.length-1;N>=0;N--)this.value[N]=[this.value[N][0]+u,this.value[N][1]+m];return this},size:function(u,m){var S,N=this.bbox();for(S=this.value.length-1;S>=0;S--)N.width&&(this.value[S][0]=(this.value[S][0]-N.x)*u/N.width+N.x),N.height&&(this.value[S][1]=(this.value[S][1]-N.y)*m/N.height+N.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(u,m,S){return m.x=S.x=u[0],m.y=S.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,S){return m.x=S.x,m.y=S.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,S,N){if(u=="H")m[0]=m[0]+S.x;else if(u=="V")m[0]=m[0]+S.y;else if(u=="A")m[5]=m[5]+S.x,m[6]=m[6]+S.y;else for(var V=0,X=m.length;V<X;++V)m[V]=m[V]+(V%2?S.y:S.x);return o[u](m,S,N)}}(a[l].toUpperCase());s.PathArray=function(u,m){s.Array.call(this,u,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return R(this.value)},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var N,V=this.value.length-1;V>=0;V--)N=this.value[V][0],N=="M"||N=="L"||N=="T"?(this.value[V][1]+=u,this.value[V][2]+=m):N=="H"?this.value[V][1]+=u:N=="V"?this.value[V][1]+=m:N=="C"||N=="S"||N=="Q"?(this.value[V][1]+=u,this.value[V][2]+=m,this.value[V][3]+=u,this.value[V][4]+=m,N=="C"&&(this.value[V][5]+=u,this.value[V][6]+=m)):N=="A"&&(this.value[V][6]+=u,this.value[V][7]+=m);return this},size:function(u,m){var S,N,V=this.bbox();for(S=this.value.length-1;S>=0;S--)N=this.value[S][0],N=="M"||N=="L"||N=="T"?(this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x,this.value[S][2]=(this.value[S][2]-V.y)*m/V.height+V.y):N=="H"?this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x:N=="V"?this.value[S][1]=(this.value[S][1]-V.y)*m/V.height+V.y:N=="C"||N=="S"||N=="Q"?(this.value[S][1]=(this.value[S][1]-V.x)*u/V.width+V.x,this.value[S][2]=(this.value[S][2]-V.y)*m/V.height+V.y,this.value[S][3]=(this.value[S][3]-V.x)*u/V.width+V.x,this.value[S][4]=(this.value[S][4]-V.y)*m/V.height+V.y,N=="C"&&(this.value[S][5]=(this.value[S][5]-V.x)*u/V.width+V.x,this.value[S][6]=(this.value[S][6]-V.y)*m/V.height+V.y)):N=="A"&&(this.value[S][1]=this.value[S][1]*u/V.width,this.value[S][2]=this.value[S][2]*m/V.height,this.value[S][6]=(this.value[S][6]-V.x)*u/V.width+V.x,this.value[S][7]=(this.value[S][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(u){var m,S,N;for(u=new s.PathArray(u),N=this.value.length===u.value.length,m=0,S=this.value.length;N&&m<S;m++)N=this.value[m][0]===u.value[m][0];return N},morph:function(u){return u=new s.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,S=this.destination.value,N=[],V=new s.PathArray,X,ft,ot,At;for(X=0,ft=m.length;X<ft;X++){for(N[X]=[m[X][0]],ot=1,At=m[X].length;ot<At;ot++)N[X][ot]=m[X][ot]+(S[X][ot]-m[X][ot])*u;N[X][0]==="A"&&(N[X][4]=+(N[X][4]!=0),N[X][5]=+(N[X][5]!=0))}return V.value=N,V},parse:function(u){if(u instanceof s.PathArray)return u.valueOf();var m,N,S={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):u=u.reduce(function(At,Rt){return[].concat.call(At,Rt)},[]);var N=[],V=new s.Point,X=new s.Point,ft=0,ot=u.length;do s.regex.isPathLetter.test(u[ft])?(m=u[ft],++ft):m=="M"?m="L":m=="m"&&(m="l"),N.push(o[m].call(null,u.slice(ft,ft=ft+S[m.toUpperCase()]).map(parseFloat),V,X));while(ot>ft);return N},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof s.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new s.Number(u),new s.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new s.Number(u),new s.Number(this-u,this.unit||u.unit)},times:function(u){return u=new s.Number(u),new s.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new s.Number(u),new s.Number(this/u,this.unit||u.unit)},to:function(u){var m=new s.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new s.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new s.Number(this.destination).minus(this).times(u).plus(this):this}}}),s.Element=s.invent({create:function(u){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var S=x(this,u,m);return this.width(new s.Number(S.width)).height(new s.Number(S.height))},clone:function(u){this.writeDataToDom();var m=D(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var S=this.bbox();return u>S.x&&m>S.y&&u<S.x+S.width&&m<S.y+S.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(s.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return s.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof n.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(u){var m=[],S=this;do{if(S=S.parent(u),!S||!S.node)break;m.push(S)}while(S.parent);return m},matches:function(u){return g(this.node,u)},native:function(){return this.node},svg:function(u){var m=i.createElement("svg");if(u&&this instanceof s.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var S=0,N=m.firstChild.childNodes.length;S<N;S++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=i.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),s.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},s.morph=function(u){return function(m,S){return new s.MorphObj(m,S).at(u)}},s.Situation=s.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(u.duration).valueOf(),this.delay=new s.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,S){typeof u=="object"&&(m=u.ease,S=u.delay,u=u.duration);var N=new s.Situation({duration:u||1e3,delay:S||0,ease:s.easing[m||"-"]||m});return this.queue(N),this},delay:function(u){var m=new s.Situation({duration:u,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof s.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=n.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){n.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof s.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,S,N=this.situation;if(N.init)return this;for(u in N.animations)for(S=this.target()[u](),Array.isArray(S)||(S=[S]),Array.isArray(N.animations[u])||(N.animations[u]=[N.animations[u]]),m=S.length;m--;)N.animations[u][m]instanceof s.Number&&(S[m]=new s.Number(S[m])),N.animations[u][m]=S[m].morph(N.animations[u][m]);for(u in N.attrs)N.attrs[u]=new s.MorphObj(this.target().attr(u),N.attrs[u]);for(u in N.styles)N.styles[u]=new s.MorphObj(this.target().style(u),N.styles[u]);return N.initialTransformation=this.target().matrixify(),N.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var S=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!S&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var S=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*S,this.situation.finish=this.situation.start+S,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var S=this.last();return S.loops=u??!0,S.loop=0,m&&(S.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),S=function N(V){V.detail.situation==m&&(u.call(this,m),this.off("finished.fx",N))};return this.target().on("finished.fx",S),this._callStart()},during:function(u){var m=this.last(),S=function(N){N.detail.situation==m&&u.call(this,N.detail.pos,s.morph(N.detail.pos),N.detail.eased,m)};return this.target().off("during.fx",S).on("during.fx",S),this.after(function(){this.off("during.fx",S)}),this._callStart()},afterAll:function(u){var m=function S(N){u.call(this),this.off("allfinished.fx",S)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(S){u.call(this,S.detail.pos,s.morph(S.detail.pos),S.detail.eased,S.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,S){return this.last()[S||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,S,N;m=Math.max(this.absPos,0),S=Math.floor(m),this.situation.loops===!0||S<this.situation.loops?(this.pos=m-S,N=this.situation.loop,this.situation.loop=S):(this.absPos=this.situation.loops,this.pos=1,N=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-N)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var X in this.situation.once)X>this.lastPos&&X<=V&&(this.situation.once[X].call(this.target(),this.pos,V),delete this.situation.once[X]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var u,m,S,N=this,V=this.target(),X=this.situation;for(u in X.animations)S=[].concat(X.animations[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(X.ease(N.pos),N.pos):ot}),V[u].apply(V,S);for(u in X.attrs)S=[u].concat(X.attrs[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(X.ease(N.pos),N.pos):ot}),V.attr.apply(V,S);for(u in X.styles)S=[u].concat(X.styles[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(X.ease(N.pos),N.pos):ot}),V.style.apply(V,S);if(X.transforms.length){for(S=X.initialTransformation,u=0,m=X.transforms.length;u<m;u++){var ft=X.transforms[u];if(ft instanceof s.Matrix){ft.relative?S=S.multiply(new s.Matrix().morph(ft).at(X.ease(this.pos))):S=S.morph(ft).at(X.ease(this.pos));continue}ft.relative||ft.undo(S.extract()),S=S.multiply(ft.at(X.ease(this.pos)))}V.matrix(S)}return this},once:function(u,m,S){var N=this.last();return S||(u=N.ease(u)),N.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(u,m,S){return(this.fx||(this.fx=new s.FX(this))).animate(u,m,S)},delay:function(u){return(this.fx||(this.fx=new s.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),s.MorphObj=s.invent({create:function(u,m){if(s.Color.isColor(m))return new s.Color(u).morph(m);if(s.regex.delimiter.test(u))return s.regex.pathLetters.test(u)?new s.PathArray(u).morph(m):new s.Array(u).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(u,m,S){if(typeof u=="object")for(var N in u)this.attr(N,u[N]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var S in u)this.style(S,u[S]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof s.G)return this.transform({x:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("x",S)},y:function(u,m){if(this.target()instanceof s.G)return this.transform({y:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("y",S)},cx:function(u){return this.add("cx",new s.Number(u))},cy:function(u){return this.add("cy",new s.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof s.Text)this.attr("font-size",u);else{var S;(!u||!m)&&(S=this.target().bbox()),u||(u=S.width/S.height*m),m||(m=S.height/S.width*u),this.add("width",new s.Number(u)).add("height",new s.Number(m))}return this},width:function(u){return this.add("width",new s.Number(u))},height:function(u){return this.add("height",new s.Number(u))},plot:function(u,m,S,N){return arguments.length==4?this.plot([u,m,S,N]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new s.Number(u)):this},viewbox:function(u,m,S,N){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(u,m,S,N)),this},update:function(u){if(this.target()instanceof s.Stop){if(typeof u=="number"||u instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),s.Box=s.invent({create:function(u,m,S,N){if(typeof u=="object"&&!(u instanceof s.Element))return s.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=S,this.height=N),W(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,W(m)},transform:function(u){var m=1/0,S=-1/0,N=1/0,V=-1/0,X,ft=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return ft.forEach(function(ot){ot=ot.transform(u),m=Math.min(m,ot.x),S=Math.max(S,ot.x),N=Math.min(N,ot.y),V=Math.max(V,ot.y)}),X=new this.constructor,X.x=m,X.width=S-m,X.y=N,X.height=V-N,W(X),X}}}),s.BBox=s.invent({create:function(u){if(s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var S=u.node;S.parentNode;)S=S.parentNode;if(S!=i)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof s.Shape){var N=u.clone(s.parser.draw.instance).show();m=N.node.getBBox(),N.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(u){s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element&&s.Box.call(this,u.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=n.pageXOffset,this.y+=n.pageYOffset,this}},construct:{rbox:function(u){return u?new s.RBox(this).transform(u.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(u){var m,S=I([1,0,0,1,0,0]);for(u=u instanceof s.Element?u.matrixify():typeof u=="string"?I(u.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?I([].slice.call(arguments)):Array.isArray(u)?I(u):typeof u=="object"?u:S,m=J.length-1;m>=0;--m)this[J[m]]=u[J[m]]!=null?u[J[m]]:S[J[m]]},extend:{extract:function(){var u=b(this,0,1),m=b(this,1,0),S=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(S*Math.PI/180)+this.f*Math.sin(S*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(S*Math.PI/180)+this.e*Math.sin(-S*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-S,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:S,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(u){return this.destination=new s.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new s.Matrix(this.native().multiply(O(u).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(u,m){return new s.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,S,N){return arguments.length==1?m=u:arguments.length==3&&(N=S,S=m,m=u),this.around(S,N,new s.Matrix(u,0,0,m,0,0))},rotate:function(u,m,S){return u=s.utils.radians(u),this.around(m,S,new s.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,S,N){return arguments.length==1?m=u:arguments.length==3&&(N=S,S=m,m=u),u=s.utils.radians(u),m=s.utils.radians(m),this.around(S,N,new s.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,S){return this.skew(u,0,m,S)},skewY:function(u,m,S){return this.skew(0,u,m,S)},around:function(u,m,S){return this.multiply(new s.Matrix(1,0,0,1,u||0,m||0)).multiply(S).multiply(new s.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=s.parser.native.createSVGMatrix(),m=J.length-1;m>=0;m--)u[J[m]]=this[J[m]];return u},toString:function(){return"matrix("+G(this.a)+","+G(this.b)+","+G(this.c)+","+G(this.d)+","+G(this.e)+","+G(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(u,m){var S,N={x:0,y:0};S=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:N,this.x=S.x,this.y=S.y},extend:{clone:function(){return new s.Point(this)},morph:function(u,m){return this.destination=new s.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=s.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new s.Point(this.native().matrixTransform(u.native()))}}}),s.extend(s.Element,{point:function(u,m){return new s.Point(u,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(u,m,S){if(u==null){for(u={},m=this.node.attributes,S=m.length-1;S>=0;S--)u[m[S].nodeName]=s.regex.isNumber.test(m[S].nodeValue)?parseFloat(m[S].nodeValue):m[S].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?s.defaults.attrs[u]:s.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof S=="string"?this.node.setAttributeNS(S,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),s.extend(s.Element,{transform:function(u,m){var S=this,N,V;if(typeof u!="object")return N=new s.Matrix(S).extract(),typeof u=="string"?N[u]:N;if(N=new s.Matrix(S),m=!!m||!!u.relative,u.a!=null)N=m?N.multiply(new s.Matrix(u)):new s.Matrix(u);else if(u.rotation!=null)L(u,S),N=m?N.rotate(u.rotation,u.cx,u.cy):N.rotate(u.rotation-N.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(L(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var X=N.extract();u.scaleX=u.scaleX*1/X.scaleX,u.scaleY=u.scaleY*1/X.scaleY}N=N.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(L(u,S),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var X=N.extract();N=N.multiply(new s.Matrix().skew(X.skewX,X.skewY,u.cx,u.cy).inverse())}N=N.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=S.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,N=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?N=N.translate(u.x,u.y):(u.x!=null&&(N.e=u.x),u.y!=null&&(N.f=u.y)));return this.attr("transform",N)}}),s.extend(s.FX,{transform:function(u,m){var S=this.target(),N,V;return typeof u!="object"?(N=new s.Matrix(S).extract(),typeof u=="string"?N[u]:N):(m=!!m||!!u.relative,u.a!=null?N=new s.Matrix(u):u.rotation!=null?(L(u,S),N=new s.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(L(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,N=new s.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(L(u,S),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,N=new s.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(V=S.bbox(),u.flip=V.cx,u.offset=V.cy):u.flip=u.offset,N=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(N=new s.Translate(u.x,u.y)),N?(N.relative=m,this.last().transforms.push(N),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var S=m.trim().split("(");return[S[0],S[1].split(s.regex.delimiter).map(function(N){return parseFloat(N)})]}).reduce(function(m,S){return S[0]=="matrix"?m.multiply(I(S[1])):m[S[0]].apply(m,S[1])},new s.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),S=u.screenCTM().inverse();return this.addTo(u).untransform().transform(S.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var S=0,N=this.arguments.length;S<N;++S)this[this.arguments[S]]=u[S];else if(typeof u=="object")for(var S=0,N=this.arguments.length;S<N;++S)this[this.arguments[S]]=u[this.arguments[S]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],S=0,N=this.arguments.length;S<N;++S)m.push(this[this.arguments[S]]);var V=this._undo||new s.Matrix;return V=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(V,m)).at(u),this.inversed?V.inverse():V},undo:function(u){for(var m=0,S=this.arguments.length;m<S;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new s[w(this.method)](u,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(s.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(S){return!!S}).map(function(S){return S.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[_(u)];else this.node.style[_(u)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(u){return s.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return s.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var S,N,V=this.children();for(S=0,N=V.length;S<N;S++)V[S]instanceof s.Element&&u.apply(V[S],[S,V]),m&&V[S]instanceof s.Container&&V[S].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(u,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(u=u||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),s.Container=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(u){var m=[0,0,0,0],S,N,V,X,ft,ot,At,Rt=1,$t=1,It=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof s.Element){for(ot=u,At=u,ft=(u.attr("viewBox")||"").match(It),u.bbox,V=new s.Number(u.width()),X=new s.Number(u.height());V.unit=="%";)Rt*=V.value,V=new s.Number(ot instanceof s.Doc?ot.parent().offsetWidth:ot.parent().width()),ot=ot.parent();for(;X.unit=="%";)$t*=X.value,X=new s.Number(At instanceof s.Doc?At.parent().offsetHeight:At.parent().height()),At=At.parent();this.x=0,this.y=0,this.width=V*Rt,this.height=X*$t,this.zoom=1,ft&&(S=parseFloat(ft[0]),N=parseFloat(ft[1]),V=parseFloat(ft[2]),X=parseFloat(ft[3]),this.zoom=this.width/this.height>V/X?this.height/X:this.width/V,this.x=S,this.y=N,this.width=V,this.height=X)}else u=typeof u=="string"?u.match(It).map(function(ce){return parseFloat(ce)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,S,N){return this.destination=new s.ViewBox(u,m,S,N),this},at:function(u){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:s.Container,construct:{viewbox:function(u,m,S,N){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(u,m,S,N))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){s.Element.prototype[u]=function(m){return m==null?s.off(this,u):s.on(this,u,m),this}}),s.listenerId=0,s.on=function(u,m,S,N,V){var X=S.bind(N||u),ft=u instanceof s.Element?u.node:u;ft.instance=ft.instance||{_events:{}};var ot=ft.instance._events;S._svgjsListenerId||(S._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(At){var Rt=At.split(".")[0],$t=At.split(".")[1]||"*";ot[Rt]=ot[Rt]||{},ot[Rt][$t]=ot[Rt][$t]||{},ot[Rt][$t][S._svgjsListenerId]=X,ft.addEventListener(Rt,X,V||!1)})},s.off=function(u,m,S,N){var V=u instanceof s.Element?u.node:u;if(V.instance&&!(typeof S=="function"&&(S=S._svgjsListenerId,!S))){var X=V.instance._events;(m||"").split(s.regex.delimiter).forEach(function(ft){var ot=ft&&ft.split(".")[0],At=ft&&ft.split(".")[1],Rt,$t;if(S)X[ot]&&X[ot][At||"*"]&&(V.removeEventListener(ot,X[ot][At||"*"][S],N||!1),delete X[ot][At||"*"][S]);else if(ot&&At){if(X[ot]&&X[ot][At]){for($t in X[ot][At])s.off(V,[ot,At].join("."),$t);delete X[ot][At]}}else if(At)for(ft in X)for(Rt in X[ft])At===Rt&&s.off(V,[ft,At].join("."));else if(ot){if(X[ot]){for(Rt in X[ot])s.off(V,[ot,Rt].join("."));delete X[ot]}}else{for(ft in X)s.off(V,ft);V.instance._events={}}})}},s.extend(s.Element,{on:function(u,m,S,N){return s.on(this,u,m,S,N),this},off:function(u,m){return s.off(this.node,u,m),this},fire:function(u,m){return u instanceof n.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new s.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(u){u&&(u=typeof u=="string"?i.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,s.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(u):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,S=D(m.cloneNode(!0));return u?(u.node||u).appendChild(S.node):m.parentNode.insertBefore(S.node,m.nextSibling),S}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof s.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(u){return this.masker=u instanceof s.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(u){return this.clipper=u instanceof s.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(u){this.constructor.call(this,s.create(u+"Gradient")),this.type=u},inherit:s.Container,extend:{at:function(u,m,S){return this.put(new s.Stop).update(u,m,S)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="gradientTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),s.extend(s.Gradient,s.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(u),fy:new s.Number(m)}):this.attr({x1:new s.Number(u),y1:new s.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(u),cy:new s.Number(m)}):this.attr({x2:new s.Number(u),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(u,m){return this.put(new s.Gradient(u)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof s.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new s.Number(u.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="patternTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{pattern:function(u,m,S){return this.defs().pattern(u,m,S)}}}),s.extend(s.Defs,{pattern:function(u,m,S){return this.put(new s.Pattern).update(S).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element}),s.Bare=s.invent({create:function(u,m){if(this.constructor.call(this,s.create(u)),m)for(var S in m.prototype)typeof m.prototype[S]=="function"&&(this[S]=m.prototype[S])},inherit:s.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(u)),this}}}),s.extend(s.Parent,{element:function(u,m){return this.put(new s.Bare(u,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,s.xlink)}},construct:{use:function(u,m){return this.put(new s.Use).element(u,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(u,m){return this.put(new s.Rect).size(u,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(u){return this.put(new s.Circle).rx(new s.Number(u).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(u,m){return this.put(new s.Ellipse).size(u,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),s.extend(s.Circle,s.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new s.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new s.Number(u).divide(2))},size:function(u,m){var S=x(this,u,m);return this.rx(new s.Number(S.width).divide(2)).ry(new s.Number(S.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,S,N){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:S,y2:N}:u=new s.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var S=x(this,u,m);return this.attr(this.array().size(S.width,S.height).toLine())}},construct:{line:function(u,m,S,N){return s.Line.prototype.plot.apply(this.put(new s.Line),u!=null?[u,m,S,N]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(u){return this.put(new s.Polyline).plot(u||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(u){return this.put(new s.Polygon).plot(u||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new s.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var S=x(this,u,m);return this.attr("points",this.array().size(S.width,S.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new s.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var S=x(this,u,m);return this.attr("d",this.array().size(S.width,S.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new s.Path).plot(u||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(u){if(!u)return this;var m=this,S=new n.Image;return s.on(S,"load",function(){s.off(S);var N=m.parent(s.Pattern);N!==null&&(m.width()==0&&m.height()==0&&m.size(S.width,S.height),N&&N.width()==0&&N.height()==0&&N.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:S.width,height:S.height,ratio:S.width/S.height,url:u}))}),s.on(S,"error",function(N){s.off(S),typeof m._error=="function"&&m._error.call(m,N)}),this.attr("href",S.src=this.src=u,s.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,S){return this.put(new s.Image).load(u).size(m||0,S||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),S=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-S:m:this.attr("y",typeof u.valueOf()=="number"?u+S:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,S=0,N=m.length;S<N;++S)S!=0&&m[S].nodeType!=3&&s.adopt(m[S]).dom.newLined==!0&&(u+=`
`),u+=m[S].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var S=0,V=u.length;S<V;S++)this.tspan(u[S]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new s.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(u.childNodes),function(S){return s.adopt(S)});return new s.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,S=0,N=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?S+=N:(this.attr("dy",N+S),S=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new s.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new s.Text).text(u)},plain:function(u){return this.put(new s.Text).plain(u)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(s.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,S=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(S.node),S.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(u){for(var m=new s.TextPath,S=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+S,s.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),S=null;return m&&(S=m.plot(u)),u==null?S:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(u){return this.attr("href",u,s.xlink)},show:function(u){return this.attr("show",u,s.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new s.A).to(u)}}}),s.extend(s.Element,{linkTo:function(u){var m=new s.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,S){return this.defs().marker(u,m,S)}}}),s.extend(s.Defs,{marker:function(u,m,S){return this.put(new s.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(S)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(u,m,S,N){var V=["marker"];return u!="all"&&V.push(u),V=V.join("-"),u=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,S,N),this.attr(V,u)}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,S={};S[u]=function(N){if(typeof N>"u")return this;if(typeof N=="string"||s.Color.isRgb(N)||N&&typeof N.fill=="function")this.attr(u,N);else for(m=p[u].length-1;m>=0;m--)N[p[u][m]]!=null&&this.attr(p.prefix(u,p[u][m]),N[p[u][m]]);return this},s.extend(s.Element,s.FX,S)}),s.extend(s.Element,s.FX,{rotate:function(u,m,S){return this.transform({rotation:u,cx:m,cy:S})},skew:function(u,m,S,N){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:S}):this.transform({skewX:u,skewY:m,cx:S,cy:N})},scale:function(u,m,S,N){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:S}):this.transform({scaleX:u,scaleY:m,cx:S,cy:N})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new s.Number(u).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(u){return this.y(new s.Number(u).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(u,m){var S=(this._target||this).type;return S=="radial"||S=="circle"?this.attr("r",new s.Number(u)):this.rx(u).ry(m??u)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),s.Set=s.invent({create:function(u){u instanceof s.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,S=[].slice.call(arguments);for(u=0,m=S.length;u<m;u++)this.members.push(S[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,S=this.members.length;m<S;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new s.Set(u)}}}),s.FX.Set=s.invent({create:function(u){this.set=u}}),s.Set.inherit=function(){var u,m=[];for(var u in s.Shape.prototype)typeof s.Shape.prototype[u]=="function"&&typeof s.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.Set.prototype[S]=function(){for(var N=0,V=this.members.length;N<V;N++)this.members[N]&&typeof this.members[N][S]=="function"&&this.members[N][S].apply(this.members[N],arguments);return S=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var u in s.FX.prototype)typeof s.FX.prototype[u]=="function"&&typeof s.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.FX.Set.prototype[S]=function(){for(var N=0,V=this.set.members.length;N<V;N++)this.set.members[N].fx[S].apply(this.set.members[N].fx,arguments);return this}})},s.extend(s.Element,{data:function(u,m,S){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:S===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(u){var m=i.getElementById(B(u)||u);return s.adopt(m)},s.select=function(u,m){return new s.Set(s.utils.map((m||i).querySelectorAll(u),function(S){return s.adopt(S)}))},s.extend(s.Parent,{select:function(u){return s.select(u,this.node)}});function d(u,m,S,N){return S+N.replace(s.regex.dots," .")}function f(u){for(var m=u.slice(0),S=m.length;S--;)Array.isArray(m[S])&&(m[S]=f(m[S]));return m}function y(u,m){return u instanceof m}function g(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function _(u){return u.toLowerCase().replace(/-(.)/g,function(m,S){return S.toUpperCase()})}function w(u){return u.charAt(0).toUpperCase()+u.slice(1)}function A(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function T(u){var m=u.toString(16);return m.length==1?"0"+m:m}function x(u,m,S){if(m==null||S==null){var N=u.bbox();m==null?m=N.width/N.height*S:S==null&&(S=N.height/N.width*m)}return{width:m,height:S}}function b(u,m,S){return{x:m*u.a+S*u.c+0,y:m*u.b+S*u.d+0}}function I(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function O(u){return u instanceof s.Matrix||(u=new s.Matrix(u)),u}function L(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function R(u){for(var m=0,S=u.length,N="";m<S;m++)N+=u[m][0],u[m][1]!=null&&(N+=u[m][1],u[m][2]!=null&&(N+=" ",N+=u[m][2],u[m][3]!=null&&(N+=" ",N+=u[m][3],N+=" ",N+=u[m][4],u[m][5]!=null&&(N+=" ",N+=u[m][5],N+=" ",N+=u[m][6],u[m][7]!=null&&(N+=" ",N+=u[m][7])))));return N+" "}function D(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof n.SVGElement&&D(u.childNodes[m]);return s.adopt(u).id(s.eid(u.nodeName))}function W(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function B(u){var m=(u||"").toString().match(s.regex.reference);if(m)return m[1]}function G(u){return Math.abs(u)>1e-37?u:0}var J="abcdef".split("");if(typeof n.CustomEvent!="function"){var it=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var S=i.createEvent("CustomEvent");return S.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),S};it.prototype=n.Event.prototype,s.CustomEvent=it}else s.CustomEvent=n.CustomEvent;return function(u){for(var m=0,S=["moz","webkit"],N=0;N<S.length&&!n.requestAnimationFrame;++N)u.requestAnimationFrame=u[S[N]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[S[N]+"CancelAnimationFrame"]||u[S[N]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(V){var X=new Date().getTime(),ft=Math.max(0,16-(X-m)),ot=u.setTimeout(function(){V(X+ft)},ft);return m=X+ft,ot},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(n),s})}(I4)),I4.exports}var Jyt=Yyt();const td=qh(Jyt);class Zyt extends An{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,n){return n.getGraphicIcon(e)}getGraphicSymbol(e,n){return n.getGraphicSymbol(e)}makeRenderer(e,n,i=!1){switch(e.type){case this.SIMPLE:return new zyt(e,n);case this.CLASS_BREAKS:return new Vyt(e,n,i);case this.UNIQUE_VALUE:return new qyt(e,n,i);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const n=td(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(e){const r=await this.renderSymbologyImage(e);if(r){i.svgcode=r;const s=document.createElement("span");s.innerHTML=r;const o=s.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=n.svg()}else i.svgcode=n.svg();return i}listToSymbology(e,n){return n.map(({text:i,image:r})=>{const s={name:i,image:r,svgcode:""};return e(r).then(o=>{s.svgcode=o}),s})}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,n=null){n===null&&(n=td(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(i===e)return"";const{loader:r}=await this.svgDrawImage(n,i);return n.viewbox(0,0,r.width,r.height),n.svg()}async renderSymbologyIcon(e,n=null){if(n===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),n=td(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:r}=await this.svgDrawImage(n,i);return r.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(r,this.CONTENT_IMAGE_SIZE),n.svg()}generatePlaceholderSymbology(e,n="#000"){const i=td(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(n),i.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:i.svg()}}async generateBlankSymbology(){return td(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const n=this,i=1.33333,r=document.createElement("div");r.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(r);const s=td(r).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:_}){return s.path(_).size(g*i)},circle({size:g}){return s.circle(g*i)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*i)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*i)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*i)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*i)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*i)}},a={[Gi.SOLID]:"none",[Gi.NONE]:"none",[Gi.DASH]:"5.333,4",[Gi.DOT]:"1.333,4",[Gi.DASHDOT]:"5.333,4,1.333,4",[Gi.LONGDASH]:"10.666,4",[Gi.LONGDASHDOT]:"10.666,4,1.333,4",[Gi.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[Gi.SHORTDOT]:"1.333,1.333",[Gi.SHORTDASH]:"5.333,1.333",[Gi.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[Gi.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},p={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,_)=>s.pattern(5,5,w=>w.line(0,5/2,5,5/2)).stroke(_),vertical:(g,_)=>s.pattern(5,5,w=>w.line(5/2,0,5/2,5)).stroke(_),"forward-diagonal":(g,_)=>s.pattern(5,5,w=>{w.line(0,0,5,5).stroke(_),w.line(0,0,5,5).move(0,5).stroke(_),w.line(0,0,5,5).move(5,0).stroke(_)}),"backward-diagonal":(g,_)=>s.pattern(5,5,w=>{w.line(5,0,0,5).stroke(_),w.line(5,0,0,5).move(5/2,5/2).stroke(_),w.line(5,0,0,5).move(-5/2,-5/2).stroke(_)}),cross:(g,_)=>s.pattern(5,5,w=>{w.line(5/2,0,5/2,5).stroke(_),w.line(0,5/2,5,5/2).stroke(_)}),"diagonal-cross":(g,_)=>s.pattern(7,7,w=>{w.line(0,0,7,7).stroke(_),w.line(7,0,0,7).stroke(_)})},d={"simple-marker"(){const g=y(e.color);e.outline=e.outline||c;const _=y(e.outline.color),w=f({color:_.colour,opacity:_.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),A=o[e.style](e).fill({color:g.colour,opacity:g.opacity}).stroke(w).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0);n.fitInto(A,n.CONTENT_SIZE)},"simple-line"(){const g=y(e.color),_=f({color:g.colour,opacity:g.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),w=n.CONTENT_PADDING,A=n.CONTAINER_SIZE-n.CONTENT_PADDING;s.line(w,w,A,A).stroke(_)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(e.color),_=f({color:g.colour,opacity:g.opacity}),w=p[e.style](g,_);e.outline=e.outline||c;const A=y(e.outline.color),T=f({color:A.colour,opacity:A.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(w).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,_=e.width*e.xscale,w=e.height*e.yscale;e.outline=e.outline||c;const A=y(e.outline.color),T=f({color:A.colour,opacity:A.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return n.$iApi.geo.shared.convertImagetoDataURL(g).then(x=>{const b=s.pattern(_,w,I=>I.image(x,_,w));s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(b).stroke(T)})},"picture-marker"(){const g=e.source,_=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:e.url;return n.$iApi.geo.shared.convertImagetoDataURL(_).then(w=>n.svgDrawImage(s,w)).then(({image:w})=>{w.center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0),n.fitInto(w,n.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[e.type]()),document.body.removeChild(r),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function f(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,n,i=0,r=0,s=!0){return new Promise((o,a)=>{const l=e.image(n,i,r,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(e,n){const i=e.node.getBoundingClientRect(),r=n/Math.max(i.width,i.height);r<1&&e.scale(r)}rendererToLegend(e){let n;const i=e.symbolUnits.slice(0);if(e.defaultUnit&&i.push(e.defaultUnit),e.falseRenderer)n=i.map(r=>[r]);else{const r=new Map;i.forEach(s=>{const o=r.get(s.label);o?o.push(s):r.set(s.label,[s])}),n=[],r.forEach(s=>n.push(s))}return n.map(r=>{const s=r[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:r.length===1?s.definitionClause:`(${r.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,r.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const n={query:{f:"json"}},i={layers:[]},[r,s]=await Vl(fn(`${e}/legend`,n));return s?s.data?s.data:(console.error(`Error loading legend data for ${e}`),i):(console.error(`Error loading legend for ${e}`,r),i)}async mapServerLegendToRenderer(e,n){const i=e.layers.find(s=>s.layerId===n);let r;if(typeof i<"u"){r={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await Re.RendererFromJson(r);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(e){const n=e.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...n)},r=await Re.RendererFromJson(i);return this.makeRenderer(r,[],!0)}async mapServerToLocalLegend(e,n=void 0){const i=await this.getMapServerLegend(e);let r,s;return typeof n>"u"?(s=0,r=await this.mapServerLegendToRendererAll(i)):(s=parseInt(n),r=await this.mapServerLegendToRenderer(i,s)),this.rendererToLegend(r)}}class Kyt extends An{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!(e.filterGeometry||e.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const n=await Re.Query();n.returnGeometry=!1,e.filterSql&&(n.where=e.filterSql),e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),n.spatialRelationship="intersects");const i=await Re.QueryByIds(e.url,n);return Array.isArray(i)?i:[]}async geoJsonQuery(e){const n=await Re.Query();if(n.returnGeometry=!!e.includeGeometry,n.outFields=["*"],e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),n.spatialRelationship="intersects"),e.filterSql&&(n.where=e.filterSql),e.filterOIDs&&(n.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(n)).features.map((i,r)=>{let s;return n.returnGeometry?s=this.$iApi.geo.geom.geomEsriToRamp(i.geometry,`queryResult${r}`):s=new al,new Er(s,"",i.attributes)})}async queryGeometryHelper(e,n,i,r){return!n&&e.type===Zt.EXTENT&&r&&!r.isEqual(e.sr)&&!(i&&i>2e7&&e.sr.wkid===3978&&r.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(r,e)).toESRI():e.toESRI()}makeClickBuffer(e,n=5){const i=this.$iApi.geo.map,r=i.getExtent(),s=n*(r.xmax-r.xmin)/i.getPixelWidth();return new tn("ze_buffer",[e.x-s,e.y-s],[e.x+s,e.y+s],e.sr)}}class Xyt extends An{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=Ou.geom,this.proj=Ou.proj,this.shared=Ou.sharedUtils,this.map=new H0t(e),this.layer=new Eyt(e),this.attributes=new jyt(e),this.query=new Kyt(e),this.symbology=new Zyt(e),Array.isArray(Pe.request.interceptors)||(Pe.request.interceptors=[]),Pe.request.interceptors.push({before:n=>{n.url.includes("?blankTile=false")&&(n.url=n.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){Pe.request.proxyUrl=e}get proxy(){return Pe.request.proxyUrl||""}}const Qyt=Object.assign({"../fixtures/appbar/index.ts":()=>import("./index-DE_gGkqQ.js"),"../fixtures/areas-of-interest/index.ts":()=>import("./index-BJLS5mHg.js"),"../fixtures/basemap/index.ts":()=>import("./index-D2Leme_K.js"),"../fixtures/crosshairs/index.ts":()=>import("./index-CisuChET.js"),"../fixtures/details/index.ts":()=>import("./index-BKEqN-IA.js"),"../fixtures/export-footnote/index.ts":()=>import("./index-MXjVevA_.js"),"../fixtures/export-legend/index.ts":()=>import("./index-D40CRp-x.js"),"../fixtures/export-map/index.ts":()=>import("./index-CqxNqQrV.js"),"../fixtures/export-northarrow/index.ts":()=>import("./index-CJVOJNws.js"),"../fixtures/export-scalebar/index.ts":()=>import("./index-D1DqjXuO.js"),"../fixtures/export-timestamp/index.ts":()=>import("./index-DoPmfPsS.js"),"../fixtures/export-title/index.ts":()=>import("./index-C7HIO13S.js"),"../fixtures/export/index.ts":()=>import("./index-BnmPuL43.js"),"../fixtures/extentguard/index.ts":()=>import("./index-CQ2u_fY7.js"),"../fixtures/gazebo/index.ts":()=>import("./index-D92UNoVq.js"),"../fixtures/geosearch/index.ts":()=>import("./index-Cj0yoH4U.js"),"../fixtures/grid/index.ts":()=>import("./index-DzMdzRrO.js"),"../fixtures/help/index.ts":()=>import("./index-BNJwlXc3.js"),"../fixtures/hilight/index.ts":()=>import("./index-DYbkZZtZ.js"),"../fixtures/layer-reorder/index.ts":()=>import("./index-CxNkfwlC.js"),"../fixtures/legend/index.ts":()=>import("./index-BVoeUa1Z.js"),"../fixtures/mapnav/index.ts":()=>import("./index-BceE4ST7.js"),"../fixtures/metadata/index.ts":()=>import("./index-B7PAqOTb.js"),"../fixtures/northarrow/index.ts":()=>import("./index-KH7vZp0h.js"),"../fixtures/overviewmap/index.ts":()=>import("./index-CfW4W0dd.js"),"../fixtures/panguard/index.ts":()=>import("./index-Bfkx3o-N.js"),"../fixtures/scrollguard/index.ts":()=>import("./index-BcBLOHfY.js"),"../fixtures/settings/index.ts":()=>import("./index-BpVP4zsH.js"),"../fixtures/snowman/index.ts":()=>import("./index-BHKak1h-.js"),"../fixtures/wizard/index.ts":()=>import("./index-DFA4rf52.js")});class tgt extends An{constructor(e){super(e)}exists(e){return e in Jr(this.$vApp.$pinia).items}async add(e,n){let i;if(e in Jr(this.$vApp.$pinia).items)return this.get(e);if(n){if(typeof n!="function")throw new Error("malformed fixture constructor");i=Ub.updateBaseToInstance(new n,e,this.$iApi)}else{const r=(await Qyt[`../fixtures/${e}/index.ts`]()).default;i=new r(e,this.$iApi)}return Jr(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Mt.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(e){const n=this.get(e);if(!n)throw new Error(`Could not find fixture ${e} for removal`);return Jr(this.$vApp.$pinia).removeFixture(n),this.$iApi.event.emit(Mt.FIXTURE_REMOVED,n),n}flush(){const e=Jr(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=this.get(n);i?.persist&&typeof i?.removed=="function"?i.removed():i&&this.remove(n)})}restore(){const e=Jr(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=e.items[n];typeof i.added=="function"&&i.added(),this.$iApi.geo.map.created&&typeof i.initialized=="function"&&i.initialized()})}get(e){const n=[];typeof e=="string"?n.push(e):Array.isArray(e)?n.push(...e):n.push(e.id);const i=n.map(r=>{const s=Jr(this.$vApp.$pinia).items[r];if(s)return s});return i.length===1?i[0]:i}isLoaded(e){const n=Jr(this.$vApp.$pinia),i=Array.isArray(e)?e:[e];i.forEach(s=>{n.loadPromises[s]===void 0&&n.addLoadPromise(s)});const r=n.getLoadPromises(i);return Array.isArray(e)?Promise.all(r):r[0]}addDefaultFixtures(e){(!Array.isArray(e)||e.length===0)&&(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const n=Di(this.$vApp.$pinia);return n.startingFixtures=e,Promise.all(e.map(i=>this.add(i)))}}class Ub extends An{static updateBaseToInstance(e,n,i){const r=new Ub(n,i);return Object.defineProperties(e,{id:{value:n},$iApi:{value:i},persist:{value:e.persist??!0},$vApp:{get(){return r.$vApp}},remove:{value:r.remove},extend:{value:r.extend},config:{get(){return r.config}},mount:{value:r.mount}}),e}id;persist;constructor(e,n){super(n),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,n={}){const i=ne({extends:e,iApi:this.$iApi,data(){return{...n}}}),r=Ml(i),{el:s}=this.mount(i,{props:{...n.propsData},app:r});return s}mount(e,{props:n,children:i,element:r,app:s}={}){let o=r,a=vr(e,n,i);return s&&s._context&&(a.appContext=s._context),o?ou(a,o):ou(a,o=document.createElement("div")),{vNode:a,destroy:()=>{o&&ou(null,o),o=null,a=null},el:o}}get config(){return Di(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},n=(i,r=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let s=i.id;r!==void 0&&(s=`${r.id}-${i.index}`),e[s]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(s=>n(s,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>n(i.config)),e}handlePanelWidths(e){if(this.config?.panelWidth){const n={};this.config.panelWidth.default?e.forEach(i=>{n[i]=this.config.panelWidth.default}):typeof this.config.panelWidth=="number"&&e.forEach(i=>{n[i]=this.config.panelWidth});for(const i in this.config.panelWidth)i!="default"&&(n[i]=this.config.panelWidth[i]);for(const i in n){const r=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(r,{"flex-basis":`${n[i]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const n=Gl(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;e.forEach(r=>{n.items[r].teleport=i?this.config.panelTeleport:this.config.panelTeleport[r],n.items[r].style.width="100%"})}}}class egt extends An{panelStore=Gl(this.$vApp.$pinia);updateHTML(e,n,i){const r=this.get(e),s=i?r.screens[i]:Object.values(r.screens)[0];if(b5(s))for(const o in n)s[o].innerHTML=n[o]instanceof HTMLElement?n[o].outerHTML:n[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const i in e.content)if(typeof e.content[i]=="string"){const r=document.createElement("div");r.innerHTML=e.content[i],e.content[i]=r}const n={};return n[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},n[e.id].screens[e.id]=e.content,n}registerHTML(e){const n=this.get(e.id);if(n)return console.error("panel already exist"),n;const i=this.registerHTMLConfig(e);return this.register(i,e.options)}register(e,n){const i=ngt(e)?{[e.id]:e.config}:e;if(n){const s=n.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const r=Object.entries(i).reduce((s,[o,a])=>(s.push(new h0(this.$iApi,o,a)),s),[]);return r.forEach(s=>this.panelStore.registerPanel(s)),r.length===1?r[0]:r.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(e){const n=Array.isArray(e)?e:[e];n.forEach(r=>{this.panelStore.regPromises[r]===void 0&&this.panelStore.addRegPromise(r)});const i=this.panelStore.getRegPromises(n);return Array.isArray(e)?Promise.all(i):i[0]}remove(e){const n=this.get(e);n&&(n.isOpen&&this.close(n),this.panelStore.removePanel(n))}get(e){const n=typeof e=="string"?e:e.id;return this.panelStore.items[n]}open(e){let n,i,r;if(typeof e=="string"||e instanceof h0?n=this.get(e):(n=this.get(e.id),{screen:i,props:r}=e),!n)return n;if(n.isOpen&&!n.isVisible)n.minimize();else if(n.isOpen)return n;return i||(n.route&&!r?{screen:i,props:r}=n.route:i=Object.keys(n.screens).pop()),this.show(n,{screen:i,props:r})?(this.panelStore.openPanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Mt.PANEL_OPENED,n)):console.error(`Failed to open ${n.id} panel.`),n}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const n=this.get(e);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Mt.PANEL_CLOSED,n),n)}minimize(e){const n=this.get(e);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Mt.PANEL_MINIMIZED,n),n)}move(e,n){const i=this.get(e);return i&&(this.panelStore.movePanel(i,n),i)}toggle(e,n){let i;return typeof e=="string"||e instanceof h0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible&&(n?this.open(e):this.close(i)),i)}toggleMinimize(e,n){let i;return typeof e=="string"||e instanceof h0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible&&(n?this.open(i):this.minimize(i)),i)}pin(e,n){const i=this.get(e);return!i||(n=typeof n<"u"?n:!i.isPinned,!i.isPinned&&!n)||(this.panelStore.pinned=n?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(e,n){const i=this.get(e);if(!i)return i;if(i.screens[n.screen]){if(i.screens[n.screen]?.props){const r=Object.keys(i.screens[n.screen]?.props).filter(o=>o!=="panel"),s=n.props?Object.keys(n.props):[];for(let o=0;o<r.length;o++)if(!s.includes(r[o])&&i.screens[n.screen].props[r[o]].required)return}return n.screen in this.$element._context.components||i.registerScreen(n.screen),i.teleport&&(n.props={header:!!i.teleport?.showHeader,...n.props}),this.panelStore.items[i.id].route=n,i}}setStyle(e,n,i=!1){const r=this.get(e);return r&&(this.panelStore.items[r.id].style=i?n:{...r.style,...n},r)}expand(e,n){const i=this.get(e);return i&&(this.panelStore.items[i.id].expanded=n!==void 0?n:!i.expanded,i)}}function ngt(t){return t.id!==void 0&&typeof t.id=="string"&&t.config!==void 0}const igt={};function rgt(t,e){const n=vn("panel-screen");return pt(),Be(n,{header:!1,class:"screen-spinner"},{content:gn(()=>e[0]||(e[0]=[lt("div",{class:"loader"},null,-1)])),_:1})}const sgt=fo(igt,[["render",rgt],["__scopeId","data-v-6cd611d0"]]),ogt=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>import("./screen-DbzNcFwy.js"),"../fixtures/basemap/screen.vue":()=>import("./screen-BvtD4Tfb.js"),"../fixtures/export/screen.vue":()=>import("./screen-Boxab3oN.js"),"../fixtures/geosearch/screen.vue":()=>import("./screen-D4lTwhyt.js"),"../fixtures/grid/screen.vue":()=>import("./screen-CxGPi7_8.js"),"../fixtures/help/screen.vue":()=>import("./screen-gIGGFhs6.js"),"../fixtures/layer-reorder/screen.vue":()=>import("./screen-C2qgdVkO.js"),"../fixtures/legend/screen.vue":()=>import("./screen-wcWmXYOy.js"),"../fixtures/metadata/screen.vue":()=>import("./screen-CNttQqUe.js"),"../fixtures/settings/screen.vue":()=>import("./screen-BbjVEezr.js"),"../fixtures/wizard/screen.vue":()=>import("./screen-Cu4xeZfM.js")});class h0 extends An{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return this.loadedScreens.indexOf(e)!==-1}registerScreen(e){const n=this.screens[e];let i;if(Znt(n)||Jnt(n))i=n,this.loadedScreens.push(e);else if(b5(n))i={template:`<panel-screen :panel="this" :screenId="'${e}'">
                           </panel-screen>`};else{let r;typeof n=="string"?r=ogt[`../fixtures/${n}`]():r=n();const s=new Promise((o,a)=>{r.then(l=>{this.loadedScreens.push(e),o(Knt(l)?l.default:l)}),r.catch(l=>a(l))});i=F1({loader:()=>s,loadingComponent:sgt,delay:200})}this.$iApi.$element.component(e,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(e,n,i){if(super(e),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:n,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof e=="string"?{screen:e}:e}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof e=="boolean"?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||typeof e=="boolean"?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const n=typeof e=="string"?{screen:e}:e;return this.route=n,this.$iApi.panel.show(this,n),this}setStyles(e,n=!1){return this.$iApi.panel.setStyle(this,e,n),this}expand(e){return this.$iApi.panel.expand(this,e),this}}function agt(t){const e={};(Array.isArray(t)?t:[t]).forEach(s=>{s.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),s.language="en");const o=lgt(s);e[s.language]=o});const n=Object.entries(e).map(s=>{const o=s[1].fixturesEnabled;return delete s[1].fixturesEnabled,o});let i=!1;const r=n.reduce((s,o)=>s.filter(a=>{const l=o.includes(a);return i=i||!l,l}));return i&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),r.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:r,configs:e}}function lgt(t){const e={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return ugt(t.services,e),cgt(t.map,e),hgt(t.ui,e),t.plugins&&pgt(t.plugins,e),e}function cgt(t,e){if(t.layers&&t.layers.forEach(n=>{e.layers.unshift(YF(n))}),t.initialBasemapId&&(e.map.initialBasemapId=t.initialBasemapId),t.components){if(t.components.geoSearch&&(t.components.geoSearch.enabled&&e.fixturesEnabled.push("geosearch"),typeof t.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof t.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),t.components.overviewMap&&t.components.overviewMap.enabled&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.startMinimized=!t.components.overviewMap.initiallyExpanded,e.fixtures.overviewmap.expandFactor=t.components.overviewMap.expandFactor??1.5),t.components.northArrow&&t.components.northArrow.enabled){const n={};t.components.northArrow.arrowIcon&&(n.arrowIcon=t.components.northArrow.arrowIcon),t.components.northArrow.poleIcon&&(n.poleIcon=t.components.northArrow.poleIcon),n&&(e.fixtures.northarrow=n,e.fixturesEnabled.push("northarrow"))}if(t.components.scaleBar&&t.components.scaleBar.enabled){switch(e.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:t?.components?.scaleBar?.scalebarUnit==="english"||t?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},t.components?.mouseInfo?.spatialReference?.wkid){case 4326:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:e.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:e.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}t.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}t.components.basemap&&t.components.basemap.enabled&&e.fixturesEnabled.push("basemap")}t.extentSets&&(e.map.extentSets=[],t.extentSets.forEach(n=>{const i={id:n.id,default:{xmin:n.default.xmin,xmax:n.default.xmax,ymin:n.default.ymin,ymax:n.default.ymax,spatialReference:n.spatialReference}};n.full&&(i.full={xmin:n.full.xmin,xmax:n.full.xmax,ymin:n.full.ymin,ymax:n.full.ymax,spatialReference:n.spatialReference}),n.maximum&&(i.maximum={xmin:n.maximum.xmin,xmax:n.maximum.xmax,ymin:n.maximum.ymin,ymax:n.maximum.ymax,spatialReference:n.spatialReference}),e.map.extentSets.push(i)})),t.lodSets&&(e.map.lodSets=t.lodSets),t.tileSchemas&&(e.map.tileSchemas=[],t.tileSchemas.forEach(n=>{const i={id:n.id,name:n.name,extentSetId:n.extentSetId,lodSetId:n.lodSetId,thumbnailTileUrls:[],hasNorthPole:n.hasNorthPole||!1};n.overviewUrl&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.basemaps[n.id]={id:n.overviewUrl.id||`overviewmap-basemap-${n.id}`,tileSchemaId:n.id,layers:[{id:n.overviewUrl.id||`overviewmap-basemap-${n.id}-0`,layerType:n.overviewUrl.layerType==="esriDynamic"?Pt.MAPIMAGE:Pt.TILE,url:n.overviewUrl.url,opacity:n.overviewUrl.opacity??1}]}),e.map.tileSchemas.push(i)})),t.baseMaps&&(e.map.basemaps=[],t.baseMaps.forEach(n=>{const i={id:n.id,tileSchemaId:n.tileSchemaId,name:n.name,description:n.description,altText:n.altText,thumbnailUrl:n.thumbnailUrl,layers:[]};n.attribution&&(i.attribution={text:{},logo:{}},n.attribution.text&&(i.attribution.text.disabled=!n.attribution.text.enabled,i.attribution.text.value=n.attribution.text.value),n.attribution.logo&&(i.attribution.logo.disabled=!n.attribution.logo.enabled,i.attribution.logo.altText=n.attribution.logo.altText,i.attribution.logo.value=n.attribution.logo.value,i.attribution.logo.link=n.attribution.logo.link)),n.layers.forEach((r,s)=>{const o={id:r.id||`${n.id}-${s}`,layerType:r.layerType==="esriDynamic"?Pt.MAPIMAGE:Pt.TILE,url:r.url,opacity:r.opacity??1};i.layers.push(o)}),e.map.basemaps.push(i)})),t.legend&&(e.fixturesEnabled.push("legend"),t.legend.type==="autopopulate"?(e.fixtures.legend={root:{name:"I'm root",children:[]}},e.layers&&e.layers.toReversed().forEach(n=>{if(n.type==="esri-map-image"||n.type==="ogc-wms"){const i={name:n.name??`${n.id} Group`,children:[]};n.sublayers.forEach(r=>{const s={layerId:n.id};r.name&&(s.name=r.name),r.controls&&(s.controls=r.controls),r.disabledControls&&(s.disabledControls=r.disabledControls),n.type==="esri-map-image"?s.sublayerIndex=r.index:(s.sublayerId=r.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),i.children.push(s)}),e.fixtures.legend.root.children.push(i)}else{const i={layerId:n.id};n.controls&&(i.controls=n.controls),n.disabledControls&&(i.disabledControls=n.disabledControls),e.fixtures.legend.root.children.push(i)}})):e.fixtures.legend={root:O4(t.legend.root)})}function O4(t){const e={name:t.name,children:[]};typeof t.hidden<"u"&&(e.hidden=t.hidden),typeof t.expanded<"u"&&(e.expanded=t.expanded);const n=["identify","opacity","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=ed(t.controls,n),t.controls.includes("visibility")&&e.controls.push("visibilityButton"),(t.controls.length!==1||t.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),e.controls.push("expandButton")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=ed(t.disabledControls,n),t.disabledControls.includes("visibility")&&e.disabledControls.push("visibilityButton"),(t.disabledControls.length!==1||t.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),t.children.forEach(i=>{if(i.layerId)e.children.push(HF(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`):(e.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const r={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(s=>{s.layerId?r.children.push(HF(s)):r.children.push(O4(s))}),e.children.push(r)}else e.children.push(O4(i))}),e}function HF(t){const e=t,n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.layerControls=ed(t.controls,n),e.layerControls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledLayerControls=ed(t.disabledControls,n)),t.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),delete e.controlledIds),t.entryIndex&&(e.sublayerIndex=t.entryIndex,delete t.entryIndex),t.entryId&&console.warn(`entryId property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),e}function YF(t){const e=P4(t);switch(e.id=t.id,e.url=t.url,t.refreshInterval&&(e.refreshInterval=t.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),t.expectedResponseTime&&(e.expectedLoadTime=t.expectedResponseTime),t.metadataUrl&&(e.metadata={url:t.metadataUrl}),t.catalogueUrl&&(e.catalogueUrl=t.catalogueUrl),typeof t.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.tooltipField&&(e.tooltipField=t.tooltipField),t.tolerance&&(e.mouseTolerance=t.tolerance,t.layerType==="esriDynamic"&&(e.touchTolerance=t.tolerance+10)),t.customRenderer&&(e.customRenderer=t.customRenderer),t.layerType){case"esriDynamic":e.layerType="esri-map-image",typeof t.singleEntryCollapse<"u"&&(e.singleEntryCollapse=t.singleEntryCollapse),t.imageFormat&&(e.imageFormat=t.imageFormat),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=P4(n);i.index=n.index,e.sublayers.push(i)}));break;case"esriFeature":e.layerType="esri-feature",t.fileType&&(e.layerType=t.fileType==="shapefile"?"file-shape":`file-${t.fileType}`,t.colour&&(e.colour=t.colour),t.latField&&(e.latField=t.latField),t.longField&&(e.longField=t.longField));break;case"ogcWfs":e.layerType="ogc-wfs",t.colour&&(e.colour=t.colour),typeof t.xyInAttribs<"u"&&(e.xyInAttribs=t.xyInAttribs);break;case"ogcWms":e.layerType="ogc-wms",t.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.featureInfoMimeType&&(t.featureInfoMimeType==="text/html;fgpv=summary"?e.featureInfoMimeType="text/html":e.featureInfoMimeType=t.featureInfoMimeType),t.legendMimeType&&console.warn(`legendMimeType property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=P4(n);i.id=n.id,n.currentStyle&&(i.currentStyle=n.currentStyle,console.warn(`currentStyle property provided in layer entry ${n.id} of layer ${t.id} is currently not supported.`)),n.allStyles&&console.warn(`allStyles property provided in layer entry ${n.id} of layer ${t.id} cannot be mapped and will be skipped.`),e.sublayers.push(i)}));break;case"esriImage":e.layerType="esri-imagery";break;case"esriTile":e.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${t.layerType}`)}return t.details&&console.warn(`Details config provided in layer ${t.id} cannot be mapped and will be skipped.`),e}function P4(t){const e={};t.name&&(e.name=t.name),t.nameField&&(e.nameField=t.nameField),t.extent&&(e.extent=t.extent);const n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=ed(t.controls,n),e.controls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=ed(t.disabledControls,n)),t.state&&(e.state={opacity:t.state.opacity??1,visibility:t.state.visibility??!0,identify:t.state.query??!0,hovertips:t.state.hovertips??!0},typeof t.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`)),typeof t.stateOnly<"u"&&(e.cosmetic=t.stateOnly),t.initialFilteredQuery&&(e.initialFilteredQuery=t.initialFilteredQuery),dgt(t,e),(typeof t.toggleSymbology<"u"||t.table)&&(e.fixtures={},typeof t.toggleSymbology<"u"&&(e.fixtures.legend={toggleSymbology:t.toggleSymbology}),t.table&&(e.fixtures.grid={},t.table.title&&(e.fixtures.grid.title=t.table.title),t.table.description&&console.warn(`description property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.search&&(t.table.search.enabled&&(e.fixtures.grid.search=t.table.search.enabled),t.table.search.value&&(e.fixtures.grid.searchFilter=t.table.search.value)),typeof t.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.applyMap<"u"&&(e.fixtures.grid.applyMap=t.table.applyMap),typeof t.table.showFilter<"u"&&(e.fixtures.grid.showFilter=t.table.showFilter),typeof t.table.filterByExtent<"u"&&(e.fixtures.grid.filterByExtent=t.table.filterByExtent),typeof t.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.columns&&(e.fixtures.grid.columns=[],t.table.columns.forEach(i=>{const r={field:i.data};i.title&&(r.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(r.visible=i.visible),i.width&&(r.width=i.width),i.sort&&(r.sort=i.sort),typeof i.searchable<"u"&&(r.searchable=i.searchable),i.filter&&(r.filter=i.filter),e.fixtures.grid.columns.push(r)})))),e}function ed(t,e){const n=[];return t.forEach(i=>{e.includes("identify")&&i==="query"?n.push("identify"):e.includes("datatable")&&i==="data"?n.push("datatable"):e.includes(i)?n.push(i):console.warn(`Ignored invalid control: ${i}`)}),n}function ugt(t,e){t&&(t.search&&(e.fixtures.geosearch={},e.fixtures.geosearch.serviceUrls={geoNames:t.search.serviceUrls.geoNames,geoLocation:t.search.serviceUrls.geoLocation,geoProvince:t.search.serviceUrls.provinces,geoTypes:t.search.serviceUrls.types},t.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),t.search.settings&&(e.fixtures.geosearch.settings=t.search.settings),t.search.disabledSearches&&(e.fixtures.geosearch.settings.disabledSearchTypes=t.search.disabledSearches.filter(n=>n!=="SCALE"))),t.export&&(e.fixtures.export||(e.fixtures.export={},e.fixturesEnabled.push("export")),t.export.title&&(e.fixtures.export.title={selected:t.export.title.isSelected??!0,selectable:t.export.title.isSelectable??!0,value:t.export.title.value??"RAMP-Map / PCAR-Carte"}),t.export.map&&(e.fixtures.export.map={selected:t.export.map.isSelected??!0,selectable:t.export.map.isSelectable??!0},t.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),t.export.mapElements&&(e.fixtures.export.mapElements={selected:t.export.mapElements.isSelected??!0,selectable:t.export.mapElements.isSelectable??!0},t.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),t.export.legend&&(e.fixtures.export.legend={selected:t.export.legend.isSelected??!0,selectable:t.export.legend.isSelectable??!0},t.export.legend.columnWidth&&(e.fixtures.export.legend.columnWidth=t.export.legend.columnWidth),t.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),t.export.footnote&&(e.fixtures.export.footnote={selected:t.export.footnote.isSelected??!0,selectable:t.export.footnote.isSelectable??!0,value:t.export.footnote.value??""}),t.export.timestamp&&(e.fixtures.export.timestamp={selected:t.export.timestamp.isSelected??!0,selectable:t.export.timestamp.isSelectable??!0},t.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),t.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof t.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),t.proxyUrl&&(e.system.proxyUrl=t.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(n=>{typeof t[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)}))}function hgt(t,e){if(t.navBar){e.fixtures.mapnav={zoomOption:t.navBar.zoom||"buttons",items:[]};const i=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];t.navBar.extra.forEach(r=>{const s=r.toLowerCase();i.includes(s)?e.fixtures.mapnav.items.push(s):console.warn(`Ignored invalid mapnav item: ${r}`)}),e.fixturesEnabled.push("mapnav")}if(t.help&&(e.fixtures.help={location:t.help.folderName&&t.help.folderName!=="default"?`./${t.help.folderName}`:"./help",panelWidth:350},e.fixturesEnabled.push("help")),t.legend){const i=["groupToggle","visibilityToggle"];t.legend.reorderable&&i.push("layerReorder"),t.legend.allowImport&&i.push("wizard"),e.fixtures.legend?e.fixtures.legend.headerControls=i:(e.fixturesEnabled.push("legend"),e.fixtures.legend={headerControls:i,root:{}}),t.legend.isOpen&&t.legend.isOpen.large&&e.panels.open.push({id:"legend"})}e.fixtures.appbar={items:[]},e.fixturesEnabled.push("appbar");const n=["layers","basemap","export","help","geoSearch"];t.appBar?(t.appBar.layers!==!1&&(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")),t.appBar.geoSearch!==!1&&e.fixturesEnabled.includes("geosearch")&&e.fixtures.appbar.items.push("geosearch"),t.appBar.basemap!==!1&&e.fixtures.appbar.items.push("basemap")):(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend"),e.fixtures.appbar.items.push("geosearch"),e.fixtures.appbar.items.push("basemap")),t.sideMenu&&t.sideMenu.items&&t.sideMenu.items.length>0&&t.sideMenu.items.forEach(i=>{i.forEach(r=>{r==="layers"&&!e.fixtures.appbar.items.includes("legend")?(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")):r!=="layers"&&n.includes(r)&&!e.fixtures.appbar.items.includes(r.toLowerCase())&&(e.fixtures.appbar.items.push(r.toLowerCase()),(r.toLowerCase()==="help"||r.toLowerCase()==="export"&&!e.fixturesEnabled.includes(r.toLowerCase()))&&e.fixturesEnabled.push(r.toLowerCase()))})}),t.tableIsOpen&&t.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(i=>{typeof t[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function pgt(t,e){t.areasOfInterest.enable&&(e.fixturesEnabled.includes("areas-of-interest")||e.fixturesEnabled.push("areas-of-interest"),t.areasOfInterest.areas&&(e.fixtures["areas-of-interest"]={areas:t.areasOfInterest.areas.map(n=>({title:`${n["title-en-CA"]} / ${n["title-fr-CA"]}`,thumbnail:n.thumbnailUrl,altText:n.altText??"",description:n.description??"",extent:{xmin:n.xmin,xmax:n.xmax,ymin:n.ymin,ymax:n.ymax,spatialReference:{wkid:n.wkid}}}))}))}function dgt(t,e){const n=t.outfields&&t.outfields!=="*";if(!n&&!t.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};t.fieldMetadata?(i.fieldInfo=t.fieldMetadata.map(r=>{const s={name:r.data};return r.alias&&(s.alias=r.alias),s}),n&&(t.outfields.split(",").map(r=>r.trim()).forEach(r=>{i.fieldInfo.findIndex(s=>s.name===r)===-1&&i.fieldInfo.push({name:r})}),i.exclusiveFields=!0)):n&&(i.fieldInfo=t.outfields.split(",").map(r=>({name:r.trim()})),i.exclusiveFields=!0),e.fieldMetadata=i}var nd={major:"4",minor:"11",patch:"0-beta",timestamp:"Mon Jan 6 16:15:03 2025 -0500",hash:"f9d7488a84f25fd6716e01674ecdc2152bd7a73e"};console.info(`RAMP v${nd.major}.${nd.minor}.${nd.patch} [${nd.hash.slice(0,9)}] (Built on ${new Date(nd.timestamp.toString()).toLocaleString()})`);const id=nd;function fgt(t){return agt(t)}function mgt(t){return YF(t)}const ygt=(t,e,n)=>new W0t(t,e,n),Ou=new Ynt;export{FM as $,rt as A,Pn as B,vd as C,Bu as D,Wu as E,Ub as F,D2 as G,Pe as H,Ea as I,CK as J,We as K,Lo as L,Ux as M,XC as N,dj as O,gi as P,kB as Q,NB as R,$B as S,Rh as T,fn as U,Ue as V,xB as W,Ir as X,DM as Y,py as Z,nK as _,Bg as a,ut as a$,Dd as a0,Oa as a1,$W as a2,Mr as a3,ON as a4,Pat as a5,Ao as a6,oh as a7,V_ as a8,Y_ as a9,xg as aA,ju as aB,me as aC,$n as aD,mN as aE,aS as aF,yN as aG,dn as aH,B2 as aI,tc as aJ,Sa as aK,SC as aL,ec as aM,Wi as aN,F2 as aO,ad as aP,II as aQ,zt as aR,gT as aS,rh as aT,Ju as aU,VC as aV,yq as aW,vq as aX,Ql as aY,xY as aZ,qs as a_,H_ as aa,q_ as ab,Ax as ac,mZ as ad,jz as ae,dC as af,iJ as ag,B6 as ah,aJ as ai,lJ as aj,zY as ak,bh as al,ig as am,ci as an,AT as ao,oJ as ap,ly as aq,vY as ar,p6 as as,Ut as at,hr as au,os as av,L$ as aw,$s as ax,kj as ay,bN as az,xf as b,n2 as b$,ag as b0,wN as b1,J_ as b2,ky as b3,cP as b4,Dw as b5,GY as b6,_J as b7,Y6 as b8,Ch as b9,LB as bA,AK as bB,Da as bC,Fd as bD,CM as bE,Ku as bF,Mw as bG,rJ as bH,sJ as bI,UH as bJ,zH as bK,HH as bL,VH as bM,qH as bN,Lh as bO,CI as bP,sT as bQ,fZ as bR,nh as bS,xN as bT,SN as bU,AN as bV,Kz as bW,L2 as bX,A0 as bY,Jb as bZ,QU as b_,Ah as ba,EY as bb,jY as bc,ds as bd,RJ as be,Io as bf,GW as bg,Ca as bh,_$ as bi,nT as bj,ae as bk,C2 as bl,ue as bm,dW as bn,kH as bo,On as bp,Ld as bq,SW as br,w0 as bs,Eq as bt,aj as bu,wn as bv,Hu as bw,Yu as bx,Qu as by,jB as bz,Bh as c,PK as c$,i2 as c0,MM as c1,x_ as c2,S_ as c3,vW as c4,Od as c5,Pd as c6,Gu as c7,b_ as c8,qY as c9,UG as cA,bq as cB,r$ as cC,Ud as cD,pT as cE,$G as cF,OT as cG,Pa as cH,Oy as cI,z_ as cJ,Cy as cK,Ma as cL,tq as cM,sI as cN,t$ as cO,fj as cP,kY as cQ,aK as cR,Cg as cS,nq as cT,sZ as cU,yZ as cV,HP as cW,YP as cX,TK as cY,cd as cZ,m$ as c_,rK as ca,Id as cb,z6 as cc,gJ as cd,W6 as ce,uJ as cf,v_ as cg,c$ as ch,c2 as ci,Xb as cj,t2 as ck,e2 as cl,y$ as cm,yy as cn,C_ as co,Cc as cp,_y as cq,ze as cr,by as cs,xy as ct,Cd as cu,Sg as cv,FG as cw,eM as cx,sc as cy,fy as cz,QZ as d,je as d$,IK as d0,cJ as d1,uZ as d2,wZ as d3,_B as d4,qB as d5,WW as d6,uj as d7,ty as d8,Y2 as d9,pj as dA,nG as dB,eG as dC,dF as dD,Mt as dE,tn as dF,ms as dG,k0 as dH,iB as dI,tB as dJ,g6 as dK,vh as dL,ne as dM,Qe as dN,Gl as dO,pF as dP,te as dQ,vn as dR,Ce as dS,Te as dT,pt as dU,Be as dV,gn as dW,lt as dX,wt as dY,ta as dZ,an as d_,nx as da,ii as db,Ur as dc,Uc as dd,gs as de,ol as df,i$ as dg,f2 as dh,fd as di,Ig as dj,vf as dk,Dh as dl,Or as dm,jP as dn,dy as dp,BP as dq,TB as dr,OZ as ds,Z0 as dt,Bc as du,qz as dv,Xz as dw,Wz as dx,U_ as dy,X$ as dz,XP as e,gP as e$,Ct as e0,Le as e1,Rn as e2,tt as e3,cm as e4,Um as e5,yp as e6,qn as e7,Zn as e8,zr as e9,u$ as eA,oz as eB,mW as eC,EM as eD,TM as eE,l$ as eF,jW as eG,AM as eH,n$ as eI,Ez as eJ,c_ as eK,S$ as eL,oj as eM,$0 as eN,T2 as eO,sM as eP,uy as eQ,Bz as eR,Y0 as eS,k2 as eT,pP as eU,BB as eV,rT as eW,AC as eX,EP as eY,TP as eZ,CP as e_,As as ea,Ve as eb,Kt as ec,F1 as ed,MI as ee,Tr as ef,lj as eg,NI as eh,nJ as ei,g2 as ej,mK as ek,iK as el,fY as em,Y$ as en,cK as eo,zi as ep,XZ as eq,AP as er,rc as es,nM as et,ko as eu,uc as ev,Rd as ew,kd as ex,lq as ey,Xu as ez,gt as f,ud as f$,wY as f0,lK as f1,sK as f2,k$ as f3,_q as f4,hF as f5,yn as f6,Fm as f7,AF as f8,Iv as f9,vK as fA,VK as fB,gS as fC,FK as fD,O0 as fE,Pf as fF,qh as fG,wd as fH,SP as fI,IM as fJ,yP as fK,SF as fL,Sm as fM,fo as fN,My as fO,LW as fP,kW as fQ,RW as fR,DW as fS,FW as fT,UW as fU,K$ as fV,U$ as fW,K2 as fX,wS as fY,_S as fZ,bS as f_,EF as fa,i_ as fb,Ox as fc,oc as fd,M$ as fe,tY as ff,Cq as fg,s2 as fh,HG as fi,$C as fj,jC as fk,WC as fl,wa as fm,A$ as fn,CC as fo,xa as fp,Ha as fq,jG as fr,Ad as fs,qu as ft,s$ as fu,OM as fv,yW as fw,lc as fx,Je as fy,yK as fz,Cr as g,DF as g$,Z_ as g0,GG as g1,B3 as g2,Qp as g3,_F as g4,wF as g5,w4 as g6,fa as g7,_4 as g8,Lb as g9,Yz as gA,Zz as gB,O2 as gC,N_ as gD,KM as gE,Tg as gF,oZ as gG,rZ as gH,mj as gI,yj as gJ,xW as gK,vM as gL,uW as gM,gM as gN,xm as gO,bp as gP,pe as gQ,P2 as gR,U2 as gS,E0 as gT,T0 as gU,P as gV,wW as gW,AB as gX,qC as gY,Td as gZ,zB as g_,Pt as ga,TF as gb,Di as gc,Wn as gd,Us as ge,Er as gf,ga as gg,Vo as gh,wp as gi,lv as gj,An as gk,u0 as gl,Nf as gm,IF as gn,S1 as go,qr as gp,vm as gq,nA as gr,JP as gs,jg as gt,dP as gu,qb as gv,XU as gw,Y4 as gx,KU as gy,J4 as gz,g$ as h,Ob as h$,UF as h0,FF as h1,MF as h2,D_ as h3,ld as h4,JM as h5,QM as h6,P_ as h7,cz as h8,lI as h9,bd as hA,Sx as hB,q2 as hC,Ij as hD,Mj as hE,PC as hF,OC as hG,w$ as hH,cT as hI,Vz as hJ,eP as hK,SY as hL,cj as hM,_a as hN,$H as hO,$$ as hP,Qb as hQ,vB as hR,__ as hS,Z2 as hT,Mx as hU,JB as hV,h$ as hW,di as hX,pn as hY,Gt as hZ,Ts as h_,aI as ha,Cz as hb,Jz as hc,GK as hd,jK as he,$K as hf,Sh as hg,T$ as hh,C$ as hi,E$ as hj,QC as hk,OF as hl,CF as hm,Re as hn,sd as ho,Fb as hp,ui as hq,Bt as hr,fP as hs,dK as ht,aT as hu,dZ as hv,Ll as hw,j1 as hx,B_ as hy,Nz as hz,Rg as i,PY as i$,b4 as i0,zA as i1,xF as i2,Vl as i3,Ye as i4,e$ as i5,MJ as i6,CB as i7,R2 as i8,sn as i9,eZ as iA,DP as iB,uC as iC,W1 as iD,G1 as iE,li as iF,uK as iG,hK as iH,pK as iI,FJ as iJ,K4 as iK,N6 as iL,Aj as iM,iy as iN,Oo as iO,Q0 as iP,Mq as iQ,xz as iR,qK as iS,gK as iT,vT as iU,sl as iV,bK as iW,Wc as iX,Ny as iY,BY as iZ,CY as i_,IC as ia,Po as ib,mY as ic,Za as id,ET as ie,Qd as ig,oM as ih,e_ as ii,ux as ij,RG as ik,fW as il,gu as im,Br as io,K7 as ip,Ps as iq,Qc as ir,Cn as is,t9 as it,lF as iu,Zt as iv,tZ as iw,QJ as ix,RP as iy,iZ as iz,sg as j,UK as j$,IY as j0,NY as j1,vJ as j2,a2 as j3,AY as j4,ou as j5,vr as j6,ov as j7,Xl as j8,h0 as j9,eq as jA,bI as jB,Lz as jC,nI as jD,Uz as jE,MZ as jF,gf as jG,zz as jH,lM as jI,hZ as jJ,pZ as jK,Sy as jL,KH as jM,A_ as jN,UM as jO,Iz as jP,oI as jQ,BW as jR,HW as jS,RM as jT,PW as jU,NW as jV,MC as jW,DJ as jX,M_ as jY,zW as jZ,Pz as j_,Fs as ja,or as jb,xn as jc,Zw as jd,Cj as je,z2 as jf,V6 as jg,KW as jh,XW as ji,QW as jj,TT as jk,wj as jl,UB as jm,Yb as jn,JH as jo,f$ as jp,J6 as jq,H6 as jr,Ih as js,Oh as jt,R$ as ju,vg as jv,sP as jw,oP as jx,eI as jy,Tz as jz,v as k,$J as k0,vC as k1,$j as k2,Vj as k3,hj as k4,xK as k5,SK as k6,Oj as k7,wC as k8,Pg as k9,zM as ka,Az as kb,HM as kc,hI as kd,pI as ke,E2 as kf,b$ as kg,UJ as kh,d$ as ki,tT as kj,p$ as kk,cZ as kl,lZ as km,Hz as kn,gZ as ko,id as kp,fgt as kq,mgt as kr,ygt as ks,Ou as kt,ZH as l,SS as m,ke as n,E as o,kh as p,en as q,l2 as r,oe as s,I0 as t,Gn as u,ee as v,EK as w,mS as x,rC as y,$u as z};
