{"version":3,"file":"index-C7HIO13S.js","sources":["../../src/fixtures/export-title/index.ts"],"sourcesContent":["import { fabric } from 'fabric';\r\nimport merge from 'deepmerge';\r\n\r\nimport { FixtureInstance } from '@/api/internal';\r\nimport type { ExportAPI, ExportSubFixture } from '@/fixtures/export/api/export';\r\nimport type { ExportConfig } from '../export/store';\r\n\r\nclass ExportTitleFixture extends FixtureInstance implements ExportSubFixture {\r\n    get config(): any {\r\n        const fixtureConfig: ExportConfig | undefined = this.$iApi.fixture.get<ExportAPI>('export').config;\r\n        return fixtureConfig?.title;\r\n    }\r\n\r\n    make(options?: any): Promise<fabric.Object> {\r\n        const titleFixtureConfig: any = this.config;\r\n\r\n        const fabricTextConfig: any = {\r\n            text: 'RAMP-Map / PCAR-Carte', // default name\r\n            fontFamily: 'Montserrat, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif',\r\n            fill: '#000',\r\n            fontSize: 30,\r\n            top: 0,\r\n            left: 0,\r\n            originX: 'center',\r\n            originY: 'top'\r\n        };\r\n\r\n        if (titleFixtureConfig?.value !== undefined) {\r\n            fabricTextConfig.text = titleFixtureConfig.value;\r\n        }\r\n\r\n        const config: any = merge(fabricTextConfig, options || {});\r\n        const fbTitle = new fabric.Textbox(config.text, config);\r\n        return Promise.resolve(fbTitle);\r\n    }\r\n}\r\n\r\nexport default ExportTitleFixture;\r\n"],"names":["ExportTitleFixture","FixtureInstance","options","titleFixtureConfig","fabricTextConfig","config","merge","fbTitle","fabric"],"mappings":";;AAOA,MAAMA,UAA2BC,EAA4C;AAAA,EACzE,IAAI,SAAc;AAEd,WADgD,KAAK,MAAM,QAAQ,IAAe,QAAQ,EAAE,QACtE;AAAA,EAAA;AAAA,EAG1B,KAAKC,GAAuC;AACxC,UAAMC,IAA0B,KAAK,QAE/BC,IAAwB;AAAA,MAC1B,MAAM;AAAA;AAAA,MACN,YAAY;AAAA,MACZ,MAAM;AAAA,MACN,UAAU;AAAA,MACV,KAAK;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,MACT,SAAS;AAAA,IACb;AAEI,IAAAD,GAAoB,UAAU,WAC9BC,EAAiB,OAAOD,EAAmB;AAG/C,UAAME,IAAcC,EAAMF,GAAkBF,KAAW,CAAA,CAAE,GACnDK,IAAU,IAAIC,EAAA,OAAO,QAAQH,EAAO,MAAMA,CAAM;AAC/C,WAAA,QAAQ,QAAQE,CAAO;AAAA,EAAA;AAEtC;"}