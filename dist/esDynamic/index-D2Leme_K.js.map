{"version":3,"file":"index-D2Leme_K.js","sources":["../../src/fixtures/basemap/nav-button.vue","../../src/fixtures/basemap/lang/lang.csv?raw","../../src/fixtures/basemap/index.ts"],"sourcesContent":["<template>\r\n    <mapnav-button :onClickFunction=\"togglePanel\" :tooltip=\"t('basemap.title')\">\r\n        <svg class=\"fill-current w-32 h-20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n            <path\r\n                d=\"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z\"\r\n            />\r\n        </svg>\r\n    </mapnav-button>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { InstanceAPI } from '@/api';\r\nimport { inject } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nconst { t } = useI18n();\r\nconst iApi = inject<InstanceAPI>('iApi');\r\n\r\nconst togglePanel = () => iApi?.panel.toggle('basemap');\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","export default \"key,enValue,enValid,frValue,frValid\\r\\nbasemap.select,Select basemap,1,SÃ©lectionner la carte de base,1\\r\\nbasemap.title,Basemap,1,Carte de base,1\"","import { markRaw } from 'vue';\r\nimport { FixtureInstance } from '@/api';\r\nimport BasemapNavButtonV from './nav-button.vue';\r\nimport messages from './lang/lang.csv?raw';\r\nimport { useAppbarStore } from '../appbar/store';\r\nimport { useMapnavStore } from '../mapnav/store';\r\n\r\nclass BasemapFixture extends FixtureInstance {\r\n    added() {\r\n        // console.log(`[fixture] ${this.id} added`);\r\n\r\n        this.$iApi.component('basemap-nav-button', BasemapNavButtonV);\r\n\r\n        this.$iApi.panel.register(\r\n            {\r\n                id: 'basemap',\r\n                config: {\r\n                    screens: { 'basemap-component': () => markRaw(import('./screen.vue')) },\r\n                    button: {\r\n                        tooltip: 'basemap.title',\r\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\" /></svg>'\r\n                    },\r\n                    alertName: 'basemap.title'\r\n                }\r\n            },\r\n            { i18n: { messages } }\r\n        );\r\n\r\n        this.handlePanelTeleports(['basemap']);\r\n    }\r\n\r\n    removed() {\r\n        // console.log(`[fixture] ${this.id} removed`);\r\n\r\n        if (this.$iApi.fixture.exists('appbar')) {\r\n            const appbarStore = useAppbarStore(this.$vApp.$pinia);\r\n            appbarStore.removeButton('basemap');\r\n        }\r\n        if (this.$iApi.fixture.exists('mapnav')) {\r\n            const mapnavStore = useMapnavStore(this.$vApp.$pinia);\r\n            mapnavStore.removeItem('basemap');\r\n        }\r\n\r\n        this.$iApi.panel.remove('basemap');\r\n    }\r\n}\r\n\r\nexport default BasemapFixture;\r\n"],"names":["t","useI18n","iApi","inject","togglePanel","messages","BasemapFixture","FixtureInstance","BasemapNavButtonV","markRaw","useAppbarStore","useMapnavStore"],"mappings":";;;;AAgBM,UAAA,EAAE,GAAAA,EAAE,IAAIC,EAAQ,GAChBC,IAAOC,EAAoB,MAAM,GAEjCC,IAAc,MAAMF,GAAM,MAAM,OAAO,SAAS;;;;;;;;;;;;;;;;;;;;;;;;ICnBvCG,IAAA,EAAC,IAAK,EAAC,kBAAiB,kBAAiB,iBAAgB,UAAS,GAAE,IAAK,EAAC,kBAAiB,iCAAgC,iBAAgB,gBAAe,EAAC;ACO1K,MAAMC,UAAuBC,EAAgB;AAAA,EACzC,QAAQ;AAGC,SAAA,MAAM,UAAU,sBAAsBC,CAAiB,GAE5D,KAAK,MAAM,MAAM;AAAA,MACb;AAAA,QACI,IAAI;AAAA,QACJ,QAAQ;AAAA,UACJ,SAAS,EAAE,qBAAqB,MAAMC,EAAQ,OAAO,sBAAc,CAAC,EAAE;AAAA,UACtE,QAAQ;AAAA,YACJ,SAAS;AAAA,YACT,MAAM;AAAA,UACV;AAAA,UACA,WAAW;AAAA,QAAA;AAAA,MAEnB;AAAA,MACA,EAAE,MAAM,EAAE,UAAAJ,EAAW,EAAA;AAAA,IACzB,GAEK,KAAA,qBAAqB,CAAC,SAAS,CAAC;AAAA,EAAA;AAAA,EAGzC,UAAU;AAGN,IAAI,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdK,EAAe,KAAK,MAAM,MAAM,EACxC,aAAa,SAAS,GAElC,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdC,EAAe,KAAK,MAAM,MAAM,EACxC,WAAW,SAAS,GAG/B,KAAA,MAAM,MAAM,OAAO,SAAS;AAAA,EAAA;AAEzC;"}