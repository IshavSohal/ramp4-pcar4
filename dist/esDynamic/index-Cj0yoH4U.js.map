{"version":3,"file":"index-Cj0yoH4U.js","sources":["../../src/fixtures/geosearch/api/geosearch.ts","../../src/fixtures/geosearch/nav-button.vue","../../src/fixtures/geosearch/lang/lang.csv?raw","../../src/fixtures/geosearch/index.ts"],"sourcesContent":["import { FixtureInstance } from '@/api/internal';\r\n\r\nexport class GeosearchAPI extends FixtureInstance {}\r\n","<template>\r\n    <mapnav-button :onClickFunction=\"togglePanel\" :tooltip=\"t('geosearch.title')\">\r\n        <svg class=\"fill-current w-32 h-20\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n            <path\r\n                d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\r\n            />\r\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n        </svg>\r\n    </mapnav-button>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport type { InstanceAPI } from '@/api';\r\nimport { inject } from 'vue';\r\nimport { useI18n } from 'vue-i18n';\r\n\r\nconst { t } = useI18n();\r\nconst iApi = inject<InstanceAPI>('iApi');\r\n\r\nconst togglePanel = () => {\r\n    iApi?.panel.toggle('geosearch');\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","export default \"key,enValue,enValid,frValue,frValid\\r\\ngeosearch.title,Geolocation Search,1,Recherche géolocalisée,1\\r\\ngeosearch.noResults,No results to show for ,1,Aucun résultat à afficher pour ,1\\r\\ngeosearch.searchText,Search for a location...,1,Rechercher un emplacement...,1\\r\\ngeosearch.visible,Visible on map,1,Visible sur la carte,1\\r\\ngeosearch.filters.province,Province,1,Province,1\\r\\ngeosearch.filters.type,Type,1,Type,1\\r\\ngeosearch.filters.clear,Clear filters,1,Effacer les filtres,1\\r\\ngeosearch.serviceError,No response from {services} service(s),1,Pas de réponse de la part des services de {services},1\\r\\ngeosearch.badChars,The character(s) {chars} are not supported and will be ignored,1,Les caractères {chars} ne sont pas pris en charge et seront ignorés,0\\r\\n\"","import { markRaw } from 'vue';\r\nimport { GeosearchAPI } from './api/geosearch';\r\nimport GeosearchNavButtonV from './nav-button.vue';\r\n\r\nimport messages from './lang/lang.csv?raw';\r\nimport { useAppbarStore } from '../appbar/store';\r\nimport { useGeosearchStore } from './store';\r\nimport { useMapnavStore } from '../mapnav/store';\r\n\r\nclass GeosearchFixture extends GeosearchAPI {\r\n    async added() {\r\n        // console.log(`[fixture] ${this.id} added`);\r\n\r\n        const geosearchStore = useGeosearchStore(this.$vApp.$pinia);\r\n        geosearchStore.initService(this.$iApi.language, this.config);\r\n\r\n        this.$iApi.component('geosearch-nav-button', GeosearchNavButtonV);\r\n\r\n        this.$iApi.panel.register(\r\n            {\r\n                id: 'geosearch',\r\n                config: {\r\n                    screens: {\r\n                        'geosearch-component': () => markRaw(import('./screen.vue'))\r\n                    },\r\n                    button: {\r\n                        tooltip: 'geosearch.title',\r\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" /><path d=\"M0 0h24v24H0z\" fill=\"none\" /></svg>'\r\n                    },\r\n                    alertName: 'geosearch.title'\r\n                }\r\n            },\r\n            { i18n: { messages } }\r\n        );\r\n\r\n        this.handlePanelTeleports(['geosearch']);\r\n    }\r\n\r\n    removed() {\r\n        // console.log(`[fixture] ${this.id} removed`);\r\n\r\n        if (this.$iApi.fixture.exists('appbar')) {\r\n            const appbarStore = useAppbarStore(this.$vApp.$pinia);\r\n            appbarStore.removeButton('geosearch');\r\n        }\r\n\r\n        if (this.$iApi.fixture.exists('mapnav')) {\r\n            const mapnavStore = useMapnavStore(this.$vApp.$pinia);\r\n            mapnavStore.removeItem('geosearch');\r\n        }\r\n\r\n        const geosearchStore = useGeosearchStore(this.$vApp.$pinia);\r\n        geosearchStore.$reset();\r\n\r\n        this.$iApi.panel.remove('geosearch');\r\n    }\r\n}\r\n\r\nexport default GeosearchFixture;\r\n"],"names":["GeosearchAPI","FixtureInstance","t","useI18n","iApi","inject","togglePanel","messages","GeosearchFixture","useGeosearchStore","GeosearchNavButtonV","markRaw","useAppbarStore","useMapnavStore"],"mappings":";AAEO,MAAMA,UAAqBC,EAAgB;AAAC;;;;ACc7C,UAAA,EAAE,GAAAC,EAAE,IAAIC,EAAQ,GAChBC,IAAOC,EAAoB,MAAM,GAEjCC,IAAc,MAAM;AAChB,MAAAF,GAAA,MAAM,OAAO,WAAW;AAAA,IAClC;;;;;;;;;;;;;;;;;;;;;;;;ICrBAG,IAAe,EAAC,IAAK,EAAC,mBAAkB,sBAAqB,uBAAsB,2BAA0B,wBAAuB,4BAA2B,qBAAoB,kBAAiB,8BAA6B,YAAW,0BAAyB,QAAO,2BAA0B,iBAAgB,0BAAyB,0CAAyC,sBAAqB,iEAAgE,GAAE,IAAK,EAAC,mBAAkB,0BAAyB,uBAAsB,mCAAkC,wBAAuB,gCAA+B,qBAAoB,wBAAuB,8BAA6B,YAAW,0BAAyB,QAAO,2BAA0B,uBAAsB,0BAAyB,wDAAuD,sBAAqB,sEAAqE,EAAC;ACS57B,MAAMC,UAAyBR,EAAa;AAAA,EACxC,MAAM,QAAQ;AAIV,IADuBS,EAAkB,KAAK,MAAM,MAAM,EAC3C,YAAY,KAAK,MAAM,UAAU,KAAK,MAAM,GAEtD,KAAA,MAAM,UAAU,wBAAwBC,CAAmB,GAEhE,KAAK,MAAM,MAAM;AAAA,MACb;AAAA,QACI,IAAI;AAAA,QACJ,QAAQ;AAAA,UACJ,SAAS;AAAA,YACL,uBAAuB,MAAMC,EAAQ,OAAO,sBAAc,CAAC;AAAA,UAC/D;AAAA,UACA,QAAQ;AAAA,YACJ,SAAS;AAAA,YACT,MAAM;AAAA,UACV;AAAA,UACA,WAAW;AAAA,QAAA;AAAA,MAEnB;AAAA,MACA,EAAE,MAAM,EAAE,UAAAJ,EAAW,EAAA;AAAA,IACzB,GAEK,KAAA,qBAAqB,CAAC,WAAW,CAAC;AAAA,EAAA;AAAA,EAG3C,UAAU;AAGN,IAAI,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdK,EAAe,KAAK,MAAM,MAAM,EACxC,aAAa,WAAW,GAGpC,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdC,EAAe,KAAK,MAAM,MAAM,EACxC,WAAW,WAAW,GAGfJ,EAAkB,KAAK,MAAM,MAAM,EAC3C,OAAO,GAEjB,KAAA,MAAM,MAAM,OAAO,WAAW;AAAA,EAAA;AAE3C;"}