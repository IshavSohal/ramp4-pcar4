{"version":3,"file":"index-BJLS5mHg.js","sources":["../../src/fixtures/areas-of-interest/lang/lang.csv?raw","../../src/fixtures/areas-of-interest/api/areas-of-interest.ts","../../src/fixtures/areas-of-interest/index.ts"],"sourcesContent":["export default \"key,enValue,enValid,frValue,frValid\\r\\nareas-of-interest.title,Areas of Interest,1,Zones d'intérêt,1\\r\\nareas-of-interest.select,Select area of interest,1,Sélectionner la zone d'intérêt,1\"","import { FixtureInstance } from '@/api/internal';\r\nimport { useAreasOfInterestStore } from '../store';\r\nimport type { AreasOfInterestConfig } from '../store';\r\n\r\nexport class AreasOfInterestAPI extends FixtureInstance {\r\n    /**\r\n     * Get the current areas of interest config\r\n     */\r\n    get config(): AreasOfInterestConfig | undefined {\r\n        return super.config;\r\n    }\r\n\r\n    /**\r\n     * Parses the areas of interest config snippet from the config json\r\n     */\r\n    _parseConfig(areasOfInterest?: AreasOfInterestConfig) {\r\n        if (!areasOfInterest) {\r\n            return;\r\n        }\r\n        const areasOfInterestStore = useAreasOfInterestStore(this.$vApp.$pinia);\r\n        areasOfInterestStore.areas = areasOfInterest.areas;\r\n        this.handlePanelTeleports(['areas-of-interest']);\r\n    }\r\n}\r\n","import { markRaw } from 'vue';\r\nimport AreasOfInterestScreenV from './screen.vue';\r\nimport messages from './lang/lang.csv?raw';\r\nimport { AreasOfInterestAPI } from './api/areas-of-interest';\r\nimport { useAppbarStore } from '../appbar/store';\r\nimport { useAreasOfInterestStore } from './store';\r\n\r\nclass AreasOfInterestFixture extends AreasOfInterestAPI {\r\n    added() {\r\n        // console.log(`[fixture] ${this.id} added`);\r\n\r\n        this.$iApi.panel.register(\r\n            {\r\n                'areas-of-interest': {\r\n                    screens: {\r\n                        'areas-of-interest-screen': markRaw(AreasOfInterestScreenV)\r\n                    },\r\n                    style: {\r\n                        width: '350px'\r\n                    },\r\n                    button: {\r\n                        tooltip: 'areas-of-interest.title',\r\n                        icon: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z\"/></svg>'\r\n                    },\r\n                    alertName: 'areas-of-interest.title'\r\n                }\r\n            },\r\n            {\r\n                i18n: { messages }\r\n            }\r\n        );\r\n\r\n        this._parseConfig(this.config);\r\n        const unwatch = this.$vApp.$watch(\r\n            () => this.config,\r\n            (value: any) => this._parseConfig(value)\r\n        );\r\n\r\n        this.removed = () => {\r\n            // console.log(`[fixture] ${this.id} removed`);\r\n            unwatch();\r\n\r\n            if (this.$iApi.fixture.exists('appbar')) {\r\n                const appbarStore = useAppbarStore(this.$vApp.$pinia);\r\n                appbarStore.removeButton('areas-of-interest');\r\n            }\r\n\r\n            this.$iApi.panel.remove('areas-of-interest');\r\n\r\n            const areasOfInterestStore = useAreasOfInterestStore(this.$vApp.$pinia);\r\n            areasOfInterestStore.$reset();\r\n        };\r\n    }\r\n}\r\n\r\nexport default AreasOfInterestFixture;\r\n"],"names":["messages","AreasOfInterestAPI","FixtureInstance","areasOfInterest","areasOfInterestStore","useAreasOfInterestStore","AreasOfInterestFixture","markRaw","AreasOfInterestScreenV","unwatch","value","useAppbarStore"],"mappings":";;AAAA,MAAeA,IAAA,EAAC,IAAK,EAAC,2BAA0B,qBAAoB,4BAA2B,0BAAyB,GAAE,IAAK,EAAC,2BAA0B,mBAAkB,4BAA2B,iCAAgC,EAAC;ACIjO,MAAMC,UAA2BC,EAAgB;AAAA;AAAA;AAAA;AAAA,EAIpD,IAAI,SAA4C;AAC5C,WAAO,MAAM;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA,EAMjB,aAAaC,GAAyC;AAClD,QAAI,CAACA;AACD;AAEJ,UAAMC,IAAuBC,EAAwB,KAAK,MAAM,MAAM;AACtE,IAAAD,EAAqB,QAAQD,EAAgB,OACxC,KAAA,qBAAqB,CAAC,mBAAmB,CAAC;AAAA,EAAA;AAEvD;AChBA,MAAMG,UAA+BL,EAAmB;AAAA,EACpD,QAAQ;AAGJ,SAAK,MAAM,MAAM;AAAA,MACb;AAAA,QACI,qBAAqB;AAAA,UACjB,SAAS;AAAA,YACL,4BAA4BM,EAAQC,CAAsB;AAAA,UAC9D;AAAA,UACA,OAAO;AAAA,YACH,OAAO;AAAA,UACX;AAAA,UACA,QAAQ;AAAA,YACJ,SAAS;AAAA,YACT,MAAM;AAAA,UACV;AAAA,UACA,WAAW;AAAA,QAAA;AAAA,MAEnB;AAAA,MACA;AAAA,QACI,MAAM,EAAE,UAAAR,EAAS;AAAA,MAAA;AAAA,IAEzB,GAEK,KAAA,aAAa,KAAK,MAAM;AACvB,UAAAS,IAAU,KAAK,MAAM;AAAA,MACvB,MAAM,KAAK;AAAA,MACX,CAACC,MAAe,KAAK,aAAaA,CAAK;AAAA,IAC3C;AAEA,SAAK,UAAU,MAAM;AAET,MAAAD,EAAA,GAEJ,KAAK,MAAM,QAAQ,OAAO,QAAQ,KACdE,EAAe,KAAK,MAAM,MAAM,EACxC,aAAa,mBAAmB,GAG3C,KAAA,MAAM,MAAM,OAAO,mBAAmB,GAEdN,EAAwB,KAAK,MAAM,MAAM,EACjD,OAAO;AAAA,IAChC;AAAA,EAAA;AAER;"}