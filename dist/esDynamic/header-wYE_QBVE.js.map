{"version":3,"file":"header-wYE_QBVE.js","sources":["../../src/fixtures/legend/header.vue"],"sourcesContent":["<template>\r\n    <div class=\"relative legend-header flex align-middle\">\r\n        <!-- open import wizard -->\r\n        <div>\r\n            <button\r\n                type=\"button\"\r\n                @click=\"toggleWizard\"\r\n                class=\"relative mr-auto text-gray-500 hover:text-black\"\r\n                v-show=\"getWizardExists() && isControlAvailable('wizard')\"\r\n                :content=\"t('legend.header.addlayer')\"\r\n                :aria-label=\"t('legend.header.addlayer')\"\r\n                v-tippy=\"{ placement: 'right' }\"\r\n            >\r\n                <div class=\"p-8\">\r\n                    <svg class=\"fill-current w-18 h-18 flip\" viewBox=\"0 0 24 24\">\r\n                        <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"></path>\r\n                    </svg>\r\n                </div>\r\n            </button>\r\n        </div>\r\n        <!-- open layer reorder -->\r\n        <div>\r\n            <button\r\n                type=\"button\"\r\n                @click=\"toggleLayerReorder\"\r\n                class=\"relative mr-auto text-gray-500 hover:text-black flex justify-center items-center\"\r\n                v-show=\"getLayerReorderExists() && isControlAvailable('layerReorder')\"\r\n                :content=\"t('legend.header.reorderlayers')\"\r\n                :aria-label=\"t('legend.header.reorderlayers')\"\r\n                v-tippy=\"{ placement: 'right' }\"\r\n            >\r\n                <div class=\"p-8\">\r\n                    <svg class=\"fill-current w-18 h-18 flip\" viewBox=\"0 0 24 24\">\r\n                        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                        <path\r\n                            d=\"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z\"\r\n                        />\r\n                    </svg>\r\n                </div>\r\n            </button>\r\n        </div>\r\n        <span class=\"flex-1\"></span>\r\n        <!-- groups toggle -->\r\n        <dropdown-menu\r\n            class=\"relative\"\r\n            position=\"left-start\"\r\n            :tooltip=\"t('legend.header.groups')\"\r\n            v-show=\"isControlAvailable('groupToggle')\"\r\n            tooltipPlacement=\"left-start\"\r\n            tooltipPlacementAlt=\"bottom-end\"\r\n        >\r\n            <template #header>\r\n                <div class=\"p-8\">\r\n                    <svg class=\"fill-current w-18 h-18\" viewBox=\"0 0 24 24\">\r\n                        <path d=\"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\" />\r\n                    </svg>\r\n                </div>\r\n            </template>\r\n            <a\r\n                href=\"javascript:;\"\r\n                class=\"flex leading-snug items-center overflow-hidden whitespace-nowrap\"\r\n                @click=\"legendApi.expandItems(true)\"\r\n            >\r\n                {{ t('legend.header.groups.expand') }}\r\n            </a>\r\n            <a\r\n                href=\"javascript:;\"\r\n                class=\"flex leading-snug items-center overflow-hidden whitespace-nowrap\"\r\n                @click=\"legendApi.expandItems(false)\"\r\n            >\r\n                {{ t('legend.header.groups.collapse') }}\r\n            </a>\r\n        </dropdown-menu>\r\n        <!-- visibility toggle -->\r\n        <dropdown-menu\r\n            class=\"relative\"\r\n            position=\"left-start\"\r\n            :tooltip=\"t('legend.header.visible')\"\r\n            tooltipPlacement=\"left-start\"\r\n            tooltipPlacementAlt=\"bottom-end\"\r\n            v-show=\"isControlAvailable('visibilityToggle')\"\r\n        >\r\n            <template #header>\r\n                <div class=\"flex p-8\">\r\n                    <svg class=\"fill-current w-18 h-18\" viewBox=\"0 0 24 24\">\r\n                        <path\r\n                            d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\r\n                        />\r\n                    </svg>\r\n                </div>\r\n            </template>\r\n            <a\r\n                href=\"javascript:;\"\r\n                class=\"flex leading-snug items-center overflow-hidden whitespace-nowrap\"\r\n                @click=\"legendApi.showItems(true)\"\r\n            >\r\n                {{ t('legend.header.visible.show') }}\r\n            </a>\r\n            <a\r\n                href=\"javascript:;\"\r\n                class=\"flex leading-snug items-center overflow-hidden whitespace-nowrap\"\r\n                @click=\"legendApi.showItems(false)\"\r\n            >\r\n                {{ t('legend.header.visible.hide') }}\r\n            </a>\r\n        </dropdown-menu>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed, inject } from 'vue';\r\nimport { useLegendStore } from './store';\r\nimport { GlobalEvents, InstanceAPI } from '@/api/internal';\r\nimport { useI18n } from 'vue-i18n';\r\nimport type { LegendAPI } from './api/legend';\r\n\r\nconst legendStore = useLegendStore();\r\nconst { t } = useI18n();\r\nconst iApi = inject('iApi') as InstanceAPI;\r\n\r\nconst legendApi = computed(() => iApi.fixture.get<LegendAPI>('legend')!);\r\n\r\nconst toggleWizard = () => {\r\n    iApi.event.emit(GlobalEvents.WIZARD_TOGGLE);\r\n};\r\n\r\nconst getWizardExists = (): boolean => {\r\n    try {\r\n        return iApi.fixture.exists('wizard');\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n};\r\n\r\nconst toggleLayerReorder = () => {\r\n    iApi.event.emit(GlobalEvents.REORDER_TOGGLE);\r\n};\r\n\r\nconst getLayerReorderExists = (): boolean => {\r\n    try {\r\n        return iApi.fixture.exists('layer-reorder');\r\n    } catch (e) {\r\n        return false;\r\n    }\r\n};\r\n\r\nconst isControlAvailable = (control: string): boolean => {\r\n    const hc: Array<string> | undefined = legendStore.headerControls;\r\n    return hc!.includes(control);\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.flip {\r\n    transform: scale(1, -1);\r\n}\r\n</style>\r\n"],"names":["legendStore","useLegendStore","t","useI18n","iApi","inject","legendApi","computed","toggleWizard","GlobalEvents","getWizardExists","toggleLayerReorder","getLayerReorderExists","isControlAvailable","control"],"mappings":";;;;AAoHA,UAAMA,IAAcC,EAAe,GAC7B,EAAE,GAAAC,EAAE,IAAIC,EAAQ,GAChBC,IAAOC,EAAO,MAAM,GAEpBC,IAAYC,EAAS,MAAMH,EAAK,QAAQ,IAAe,QAAQ,CAAE,GAEjEI,IAAe,MAAM;AAClB,MAAAJ,EAAA,MAAM,KAAKK,EAAa,aAAa;AAAA,IAC9C,GAEMC,IAAkB,MAAe;AAC/B,UAAA;AACO,eAAAN,EAAK,QAAQ,OAAO,QAAQ;AAAA,cAC3B;AACD,eAAA;AAAA,MAAA;AAAA,IAEf,GAEMO,IAAqB,MAAM;AACxB,MAAAP,EAAA,MAAM,KAAKK,EAAa,cAAc;AAAA,IAC/C,GAEMG,IAAwB,MAAe;AACrC,UAAA;AACO,eAAAR,EAAK,QAAQ,OAAO,eAAe;AAAA,cAClC;AACD,eAAA;AAAA,MAAA;AAAA,IAEf,GAEMS,IAAqB,CAACC,MACcd,EAAY,eACvC,SAASc,CAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}