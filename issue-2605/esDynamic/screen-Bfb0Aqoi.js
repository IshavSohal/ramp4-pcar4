import{dM as b,dN as x,e2 as w,e3 as T,e8 as W,e9 as j,dQ as A,dR as C,dS as o,dV as p,dW as i,dU as s,ea as F,d$ as M,e0 as n,ec as N,dT as S,dY as c,e1 as U,dZ as V,ed as m}from"./main-BTmikti7.js";const q=["content"],B=b({__name:"screen",props:{panel:{type:Object,required:!0}},setup(v){const g=m(()=>import("./header-C0pXH7Qb.js")),f=m(()=>import("./item-CFlZgE2t.js")),{t:d}=x(),y=w("iApi"),e=T(),r=()=>{e.value._tippy.hide()},l=t=>{t.key==="Tab"&&e.value?.matches(":focus")&&e.value._tippy.show()},h=t=>{const a=new CustomEvent("refocusLegendItem",{detail:{focusItem:t}});e.value?.dispatchEvent(a)};W(()=>{e.value?.addEventListener("blur",r),e.value?.addEventListener("keyup",l)}),j(()=>{e.value?.removeEventListener("blur",r),e.value?.removeEventListener("keyup",l)});const E=A(()=>{const t=y.fixture.get("legend");return t?[...t.getLegend()]:[]});return(t,a)=>{const _=C("panel-screen"),k=o("focus-list"),I=o("tippy");return s(),p(_,{panel:v.panel},{header:i(()=>[F(M(n(d)("legend.title")),1)]),content:i(()=>[N(n(g)),S((s(),c("div",{content:n(d)("panels.controls.items"),ref_key:"el",ref:e},[(s(!0),c(U,null,V(E.value,u=>(s(),p(n(f),{legendItem:u,key:u.uid,onFocusItem:a[0]||(a[0]=(L,D)=>h(L))},null,8,["legendItem"]))),128))],8,q)),[[k],[I,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{B as default};
