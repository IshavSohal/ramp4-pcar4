const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-CbSzKMGH.js","./preload-helper-ExcqyqRp.js","./IdentityManager-VXj5DrDZ.js","./intl-BwCluHOf.js","./themeUtils-tXGn5N2M.js","./uuid-Cl5lrJ4c.js","./substitute-CClCj4mO.js","./QueueProcessor-q2eZ8FOb.js","./Queue-D-ve-NIM.js","./ReactiveMap-BRs2Ox8e.js","./signal-CJBTNEjj.js","./pe-wasm-CRA-qgEz.js","./_commonjsHelpers-DCkdB7M8.js","./WhereClauseCache-DXymb3Lt.js","./LRUCache-Bo0sXgMN.js","./MemCache-wpZxgzga.js","./WhereClause-C4IC3hG7.js","./TimeOnly-1f_RU7uF.js","./arcadeUtils-DgNedNN3.js","./arcade-5laHHoL7.js","./unitConversion-Ds3qMn7q.js","./ImmutableArray-BPVd6ESQ.js","./shared-BPtfnGOb.js","./Field-Cnu4Q95F.js","./fieldType--5Ofvjs0.js","./number-BpnS9FUM.js","./featureConversionUtils-COudkyc6.js","./OptimizedFeature-Bvo2_jKY.js","./memoryEstimations-D08VA19Z.js","./OptimizedFeatureSet-Blu9Ckm7.js","./FieldsIndex-z-bU1NW1.js","./timeZoneUtils-CwbFjBwN.js","./PortalItem-CmwUCFom.js","./Basemap-C0uN_Ba4.js","./loadAll-uIFEjoqZ.js","./writeUtils-DmbSitBT.js","./ElevationLayer-4HPvih0J.js","./MultiOriginJSONSupport-C89trBfP.js","./HeightModelInfo-DPLOFZ51.js","./Layer-Dx8vJCHY.js","./TimeExtent-46TNl0XW.js","./ArcGISCachedService-dYQr_CdS.js","./TileInfo-BaLJZAhe.js","./TileKey-DZd6gJy7.js","./TileInfoTilemapCache--E1rnmwG.js","./TilemapCache-DPJYfSQN.js","./ByteSizeUnit-BsxeN7wM.js","./ArcGISService-OrWn1cGF.js","./OperationalLayer-Bqy8IP0E.js","./layerContainerType-C5CzMsLd.js","./commonProperties-CCwarbMI.js","./ElevationInfo-B0fVz4Uj.js","./lengthUtils-COi0ZRrs.js","./PortalLayer-BzSoVOSH.js","./portalItemUtils-ClZlf653.js","./projection-BrJn3jZa.js","./projectBuffer-C-y1usGb.js","./WorkerHandle-CdW5NnHI.js","./workers-oTWsZW0v.js","./webStyleSymbolUtils-dTMWrLxK.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-C2MZMU8-.js","./webStyleAcceptedFormats-CG7ZQ6BV.js","./Map-DIIUxuXo.js","./CollectionFlattener-C3ajzwPX.js","./mat4f32-DcsiF_Rp.js","./mat4-BU-bdZEI.js","./common-DQOJ18NT.js","./TablesMixin-M17wlrm9.js","./MapView-CAm1cxV2.js","./Cyclical-DY-2C8vN.js","./UpdatingHandles-C4LkphxM.js","./GraphicsCollection-mQQqlnnt.js","./Query-C0gvFNUO.js","./HighlightDefaults-DOLeeMiI.js","./ViewingMode-HRfKv6NR.js","./vec2-maR1OrZI.js","./vec2f64-DohEyf3f.js","./Tile-D01LQJHl.js","./TileKey-Dopy0mS_.js","./quickselect-QQC62dOK.js","./normalizeUtils-qi8j2obk.js","./normalizeUtilsCommon-LzJE2KPI.js","./utils-D7cFhi-N.js","./utils-BV6vfcmn.js","./mat3-CruJiiUv.js","./vec2f32-BbH2jxlN.js","./Scheduler-BU5x_NJS.js","./vec32-BKIqLMFz.js","./unitBezier-B1N-tmtC.js","./definitions-CPtb4TQS.js","./enums-Dk3osxpS.js","./Texture-Bx09OAFq.js","./getDataTypeBytes-DflDeYgv.js","./imageUtils-R5N61v06.js","./capabilities-Du2wdNlQ.js","./Version-BYRTfZDC.js","./ColorBackground-YICRW4MK.js","./FeatureLayer-SwHsoZYP.js","./FeatureLayerBase-CDCeUsXz.js","./labelingInfo-BAAbrnu0.js","./SimpleRenderer-P8O_Y1US.js","./commonProperties-CWhLgglq.js","./colorRamps-ClPics_E.js","./ColorStop-C4NORpMQ.js","./visualVariableUtils-DnJV5gmF.js","./UniqueValueRenderer-D9lxEp9n.js","./defaultCIMValues-GRvMfJPa.js","./enums-CD-fX3vU.js","./RendererLegendOptions-N0iykYJa.js","./RelationshipQuery-BIXOvdKx.js","./NormalizationBinParametersMixin-5KnGAMwx.js","./labelUtils-BbnxHR21.js","./LayerFloorInfo-B2pr7kS0.js","./Relationship-dwQGBj3w.js","./serviceCapabilitiesUtils-DeuDQDGa.js","./infoFor3D-DhzudQro.js","./editsZScale-Rsg9bAlj.js","./queryZScale-BoZSBxAz.js","./FeatureSet-BzhG01M7.js","./APIKeyMixin-z9In5VGF.js","./BlendLayer-Bx8-b1kq.js","./jsonUtils-BLSWEWNd.js","./parser-BhaRosyh.js","./CustomParametersMixin-D0f-fw44.js","./DisplayFilteredLayer-Dww8ENcw.js","./scaleUtils-CzIu_Q9i.js","./displayFilterUtils-Du_lYX6A.js","./EditBusLayer-KgqOr_Qt.js","./FeatureEffectLayer-B8oUM1Wi.js","./FeatureEffect-DTAKE5Yd.js","./FeatureFilter-BY5cmJlT.js","./FeatureReductionLayer-B-XAF5PL.js","./FeatureReductionSelection-Cy6fMc6I.js","./jsonUtils-CY7Njn-K.js","./typeUtils-Ce7OrkCJ.js","./ClassBreaksRenderer-DJJPSu6_.js","./utils-DiTELdsc.js","./heatmapUtils-Duwfpz_y.js","./vec42-CKs01hkn.js","./vec4f64-o2zAXfmz.js","./MD5-C9MwAd2G.js","./OrderedLayer-DH0iUx2N.js","./OrderByInfo-Ck13k68D.js","./RefreshableLayer-0bYtzGhK.js","./ScaleRangeLayer-uYcNvWYj.js","./TemporalLayer-DDBSSP_f.js","./TimeInfo-CXkxs2X3.js","./TrackableLayer-B5IviYNA.js","./FeatureTemplate-BsZVjOtm.js","./FeatureType-CIRNxtjw.js","./fieldProperties-DroYtr7j.js","./TitleCreator-Bu7uGGXE.js","./versionUtils-B-MJ8c2A.js","./styleUtils-DNC3tXNK.js","./popupUtils-C4gIdzmb.js","./interfaces-CL2NbQte.js","./GraphicsLayer-DsYJriSQ.js","./ImageryLayer-VQPZEVeh.js","./multidimensionalUtils-DlwbI9Ru.js","./ImageHistogramParameters-Baq0Lwho.js","./dataUtils-BcXzfwpu.js","./RasterSymbolizer-C-QPGN3D.js","./colorUtils-Cv4-kP9Z.js","./ClassBreaksDefinition-WfT5aNgT.js","./utils-T21SmN2V.js","./cimSymbolUtils-_xnOIKFC.js","./imageBitmapUtils-CkTCpL1F.js","./RasterPresetRendererMixin-O4pnWmk0.js","./executeForIds-DR5LyaAw.js","./query-CMEgJwgt.js","./pbfQueryUtils-BAUAjzbz.js","./pbf-BSvssRIL.js","./executeQueryJSON-CVRHuSGp.js","./MapImageLayer-DhLilFtJ.js","./SublayersOwner-DDyZCTQT.js","./QueryTask-DubSOSeP.js","./executeQueryPBF-CkFzG38w.js","./sublayerUtils-e59ACFNj.js","./ExportImageParameters-DdVP5BSJ.js","./floorFilterUtils-DKzVzLpH.js","./OpenStreetMapLayer-B2zaR-y6.js","./WebTileLayer-G8sHhMv7.js","./TileLayer-D1Kj9m3Q.js","./WMSLayer-B9cME5RG.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-K0LJWlkq.js","./query-BkqHSHml.js","./executeQuery-CjAaDoTR.js","./AttachmentInfo-DOz8PSsD.js","./executeAttributeBinsQuery-Bz5mef5z.js","./AttributeBinsFeatureSet-DRIOcEl8.js","./AttributeBinsQuery-CVeUr8u8.js","./queryUtils-cAanGSLR.js","./json-Wa8cmqdu.js","./FixedIntervalBinParameters-CzknTbx3.js","./executeRelationshipQuery-XpwioxH2.js","./executeTopFeaturesQuery-Cauu0gmE.js","./queryTopFeatures-dXRSwW1w.js","./TopFeaturesQuery-DBzfDlND.js","./executeForTopIds-C9gn0x_h.js","./executeForTopExtents-Bpife_mD.js","./executeForTopCount-9FbEFTd9.js","./shp.min-BcJd8cCa.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-B3lO2u9E.js","./index-RKTQztUm.js","./index-C0BV8b1p.css","./index-DwspSTNo.js","./screen.vue_vue_type_script_setup_true_lang-CUeiLbWG.js","./screen-Cea9pofX.css","./index-CLX2q4Xp.js","./index-CsMHlJrB.js","./index-1X12IJY7.css","./index-DblY8FIR.js","./hilight-defs-CqXQYtIh.js","./index-BbMwTMs_.js","./fabric-CWxY5Zco.js","./index-DFwmbBda.js","./index-DpS7nHY-.js","./index-DeHmp2Is.js","./index-CDGrj6Ip.js","./index-DipZyZ7y.js","./index-DPadhU2P.js","./index-ekAleAcR.js","./screen.vue_vue_type_script_setup_true_lang-Bnt8ewkD.js","./index-DEBdtd6D.js","./index-BHpx-dxB.js","./index-BEhBofFd.js","./index-ubewMEJ2.js","./table-state-manager-BeyhKYxv.js","./index-CYniv7OS.js","./index-CBpBc_6G.js","./index-C4m2k4P3.js","./index-D8IQMXqX.js","./index-eQlnNAOM.js","./index-CTZ1kO0r.css","./index-DLTuZ9c0.js","./index-M6qz8k9V.js","./index-FSSLlfH1.js","./index-C1UMDyxT.css","./index-CLeAoWCG.js","./index-D-3-S-HY.css","./index-DszDVcbN.js","./index-Dti23dwS.css","./index-BZuKP9Cy.js","./index-haRez7Qp.js","./index-DDu_CJjE.js","./screen-BqkQ6BAX.js","./screen-B5pmKfTg.js","./screen-B_KOI8ka.css","./screen-C9TjLJyE.js","./screen-DUj9s4hd.js","./screen-CwbtZ41W.css","./screen-DmTCjfxq.js","./screen-Qd9HKEG8.css","./screen-CFOl8F8C.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-DT48XtPu.js","./vue.esm-bundler-BC2zOkbs.js","./screen-DH2W8SRu.css","./screen-BBSPGCN2.js","./screen-Bl8Wpuy2.js","./screen-CkXxljnt.css","./screen-CE_ZtoL6.js","./toggle-switch-control-CgzHP0_O.js","./toggle-switch-control-TJXJxWh9.css","./screen-DMJifmlo.css","./screen-DQuBQjMh.js","./screen-D63VVkFy.css"])))=>i.map(i=>d[i]);
import{_ as Se}from"./preload-helper-ExcqyqRp.js";var Ho=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Ho||{}),ko=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(ko||{}),Wr=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(Wr||{}),CI=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(CI||{}),NI=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(NI||{}),PI=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(PI||{}),Ze=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ze||{}),A1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(A1||{}),Le=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(Le||{}),xs=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(xs||{}),nr=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(nr||{}),ci=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(ci||{}),Bi=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Bi||{}),Xt=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(Xt||{}),hi=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(hi||{}),Kr=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(Kr||{}),ch=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(ch||{}),Lr=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Lr||{}),yi=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(yi||{});class Sn{attributes;geometry;style;id;constructor(t,i,r){this.geometry=t,i?this.id=i:this.id=Mh.sharedUtils.generateUUID(),r?this.attributes=r:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const qy={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function O7(e){return!!qy[e]||!!qy[e.toLowerCase()]}function LI(e){return qy[e]??qy[e.toLowerCase()]}function Rde(e){return[...LI(e)]}function ob(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function I7(e,t,i,r=1){const s=(e%360+360)%360/360,n=i<=.5?i*(t+1):i+t-i*t,o=2*i-n;return[Math.round(255*ob(o,n,s+1/3)),Math.round(255*ob(o,n,s)),Math.round(255*ob(o,n,s-1/3)),r]}function Dde(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,s=t?1:17,n=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return n&&(l=o&r,o>>=i,a[3]=s*l/255),l=o&r,o>>=i,a[2]=s*l,l=o&r,o>>=i,a[1]=s*l,l=o&r,o>>=i,a[0]=s*l,a}const Fde=2.2,xT=new Float32Array(1);function Ude(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function M1(e,t,i){return Math.min(Math.max(e,t),i)}function jde(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function $7(e,t,i){return e+(t-e)*i}function Bde(e,t,i,r,s){return $7(r,s,(e-t)/(i-t))}function Vde(e){return e*Math.PI/180}function Gde(e){return 180*e/Math.PI}function zde(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function qde(e){return Math.acos(M1(e,-1,1))}function Wde(e){return Math.asin(M1(e,-1,1))}function uh(e,t,i=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=i}function Hde(e,t,i=1e-6){return!uh(e,t,i)&&e>t}function Yde(e,t,i=1e-6){return!uh(e,t,i)&&e<t}function Jde(e,t,i=1e-6){return uh(e,t,i)||e>t}const Wy=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function x_(e){return Wy.setFloat64(0,e),Wy.getBigInt64(0)}function C7(e){return Wy.setBigInt64(0,e),Wy.getFloat64(0)}const H0=BigInt("1000000"),N7=kI(1);function kI(e){const t=x_(e=Math.abs(e)),i=C7(t<=H0?H0:t-H0);return Math.abs(e-i)}function Zde(e,t,i=N7){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(i!=null&&kI(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=x_(e),s=x_(t);return r<0!=s<0?!1:!((r<s?s-r:r-s)>H0)}function Kde(e){return RI(Math.max(-ST,Math.min(e,ST)))}function RI(e){return xT[0]=e,xT[0]}function Xde(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(uh(t,1)&&uh(i,1)&&uh(r,1))}const ST=RI(34028234663852886e22);function Qde(e,t,i){if(i===void 0||+i==0)return Math[e](t);if(t=+t,i=+i,isNaN(t)||typeof i!="number"||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let tl;function re(e){return typeof tl[e]=="function"?tl[e]=tl[e](globalThis):tl[e]}tl=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},re.add=(e,t,i,r)=>{(r||tl[e]===void 0)&&(tl[e]=t),i&&re(e)},re.cache=tl,re.add("big-integer-warning-enabled",!0),re.add("esri-deprecation-warnings",!0),re.add("esri-tests-disable-screenshots",!1),re.add("esri-tests-use-full-window",!1),re.add("esri-tests-post-to-influx",!0),re.add("esri-cim-animations-enable-status","enabled"),re.add("esri-cim-animations-spotlight",!1),re.add("esri-cim-animations-freeze-time",!1),re.add("enable-feature:multiple-highlights",!0),(()=>{re.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(re.add("host-browser",e),re.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),re.add("dom",e),re("host-browser")){const t=navigator,i=t.userAgent,r=t.appVersion,s=parseFloat(r);if(re.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),re.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),re.add("khtml",r.includes("Konqueror")?s:void 0),re.add("edge",parseFloat(i.split("Edge/")[1])||void 0),re.add("opr",parseFloat(i.split("OPR/")[1])||void 0),re.add("webkit",!re("wp")&&!re("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),re.add("chrome",!re("edge")&&!re("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),re.add("android",!re("wp")&&parseFloat(i.split("Android ")[1])||void 0),re.add("safari",!r.includes("Safari")||re("wp")||re("chrome")||re("android")||re("edge")||re("opr")?void 0:parseFloat(r.split("Version/")[1])),re.add("mac",r.includes("Macintosh")),!re("wp")&&/(iPhone|iPod|iPad)/.test(i)){const n=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));re.add(n,a),re.add("ios",a)}re("webkit")||(!i.includes("Gecko")||re("wp")||re("khtml")||re("edge")||re.add("mozilla",s),re("mozilla")&&re.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&re.add("esri-mobile",t),i&&re.add("esri-iPhone",i),re.add("esri-geolocation",!!navigator.geolocation)}re.add("esri-wasm","WebAssembly"in globalThis),re.add("esri-performance-mode-frames-between-render",20),re.add("esri-force-performance-mode",!1),re.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),re.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),re.add("esri-atomics","Atomics"in globalThis),re.add("esri-workers","Worker"in globalThis),re.add("web-feat:cache","caches"in globalThis),re.add("esri-workers-arraybuffer-transfer",!re("safari")||Number(re("safari"))>=12),re.add("workers-pool-size",8),re.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),re.add("featurelayer-simplify-payload-size-factors",[1,1,4]),re.add("featurelayer-fast-triangulation-enabled",!0),re.add("featurelayer-animation-enabled",!0),re.add("featurelayer-snapshot-enabled",!0),re.add("featurelayer-snapshot-point-min-threshold",8e4),re.add("featurelayer-snapshot-point-max-threshold",4e5),re.add("featurelayer-snapshot-point-coverage",.1),re.add("featurelayer-query-max-depth",4),re.add("featurelayer-query-pausing-enabled",!1),re.add("featurelayer-advanced-symbols",!1),re.add("featurelayer-pbf",!0),re.add("featurelayer-pbf-statistics",!1),re.add("feature-layers-workers",!0),re.add("feature-polyline-generalization-factor",1),re.add("mapview-transitions-duration",200),re.add("mapview-essential-goto-duration",200),re.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),re.add("mapserver-pbf-version-support",10.81),re.add("mapservice-popup-identify-max-tolerance",20),re.add("request-queue-concurrency-hosted",16),re.add("request-queue-concurrency-non-hosted",4),re.add("curve-densification-coarse-segments",128),re.add("curve-densification-max-segments",2e3),re.add("curve-densification-min-segments",3),re.add("curve-densification-pixels-per-segment",16),re.add("view-readyState-waiting-delay",1e3),re.add("gradient-depth-bias",.01),re.add("gradient-depth-epsilon",1e-8),re("host-webworker")||re("host-browser")&&(re.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),re.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{re.add("esri-image-decode",!0,!0,!0)}).catch(()=>{re.add("esri-image-decode",!1,!0,!0)})}return!1}),re.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();function epe(e){}function tpe(e){return()=>e}function ipe(e){return e}let Y0=class Kl{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Kl._m}getInt(){return this._seed=(Kl._a*this._seed+Kl._c)%Kl._m,this._seed}getFloat(){return this.getInt()/(Kl._m-1)}getIntRange(t,i){return Math.round(this.getFloatRange(t,i))}getFloatRange(t,i){const r=i-t;return t+this.getInt()/Kl._m*r}};Y0._m=2147483647,Y0._a=48271,Y0._c=0;const P7=1.5,rpe=1/P7,spe=.5;function npe(e,t){return t?e.filter((i,r,s)=>s.findIndex(t.bind(null,i))===r):Array.from(new Set(e))}function O1(e,t,i){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ope(e,t,i){let r,s;return i?(r=t.filter(n=>!e.some(o=>i(o,n))),s=e.filter(n=>!t.some(o=>i(o,n)))):(r=t.filter(n=>!e.includes(n)),s=e.filter(n=>!t.includes(n))),{added:r,removed:s}}function ape(e){return e&&typeof e.length=="number"}let DI=class{constructor(){this.last=0}};const FI=new DI;function S_(e,t,i,r){r=r||FI;const s=Math.max(0,r.last-10);for(let o=s;o<i;++o)if(e[o]===t)return r.last=o,o;const n=Math.min(s,i);for(let o=0;o<n;++o)if(e[o]===t)return r.last=o,o;return-1}function cpe(e,t,i,r){const s=e.length,n=S_(e,t,s,r);if(n!==-1)return e[n]=e[s-1],e.pop(),t}const Ks=new Set;function L7(e,t,i=e.length,r=t.length,s,n){if(r===0||i===0)return i;Ks.clear();for(let a=0;a<r;++a)Ks.add(t[a]);s=s||FI;const o=Math.max(0,s.last-10);for(let a=o;a<i;++a)if(Ks.has(e[a])&&(n?.push(e[a]),Ks.delete(e[a]),e[a]=e[i-1],--i,--a,Ks.size===0||i===0))return Ks.clear(),i;for(let a=0;a<o;++a)if(Ks.has(e[a])&&(n?.push(e[a]),Ks.delete(e[a]),e[a]=e[i-1],--i,--a,Ks.size===0||i===0))return Ks.clear(),i;return Ks.clear(),i}function upe(e,t,i){const r=e.length;if(t>=r)return e.slice();const s=UI(i),n=new Set,o=[];for(;o.length<t;){const a=Math.floor(s()*r);n.has(a)||(n.add(a),o.push(e[a]))}return o}function UI(e){return e?(ET.seed=e,()=>ET.getFloat()):Math.random}const ET=new Y0;function hpe(e,t){const i=UI(t);for(let r=e.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=e[r];e[r]=e[s],e[s]=n}return e}function k7(e,t){const i=e.indexOf(t);return i!==-1?(e.splice(i,1),t):null}function R7(e,t){return e!=null}const fpe=[];function dpe(e){return e instanceof ArrayBuffer}function Fx(e){return e?.constructor?.name==="Int8Array"}function jI(e){return e?.constructor?.name==="Uint8Array"}function BI(e){return e?.constructor?.name==="Uint8ClampedArray"}function Ux(e){return e?.constructor?.name==="Int16Array"}function VI(e){return e?.constructor?.name==="Uint16Array"}function jx(e){return e?.constructor?.name==="Int32Array"}function GI(e){return e?.constructor?.name==="Uint32Array"}function I1(e){return e?.constructor?.name==="Float32Array"}function $1(e){return e?.constructor?.name==="Float64Array"}function D7(e){return"buffer"in e}const zI=1024;function ppe(e){return $1(e)||I1(e)||jx(e)||Ux(e)||Fx(e)}function mpe(e){return $1(e)||I1(e)}function ype(e){return $1(e)?179769e303:I1(e)?3402823e32:GI(e)?4294967295:VI(e)?65535:jI(e)||BI(e)?255:jx(e)?2147483647:Ux(e)?32767:Fx(e)?127:256}function gpe(e,t){let i;for(i in e)e.hasOwnProperty(i)&&e[i]===void 0&&delete e[i];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=YI(e);if(t!=null)return t;if(qI(e))return e.clone();if(WI(e))return e.map(ge);if(HI(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=ge(e[r]);return i}function E_(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=YI(e);if(t!=null)return t;if(WI(e)){let r=!0;const s=e.map(n=>{const o=E_(n);return n!=null&&o==null&&(r=!1),o});return r?s:null}if(qI(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(HI(e))return null;const i=new(Object.getPrototypeOf(e)).constructor;for(const r of Object.getOwnPropertyNames(e)){const s=e[r],n=E_(s);if(s!=null&&n==null)return null;i[r]=n}return i}function qI(e){return typeof e.clone=="function"}function WI(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function HI(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function TT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function YI(e){if(Fx(e)||jI(e)||BI(e)||Ux(e)||VI(e)||jx(e)||GI(e)||I1(e)||$1(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,ge(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(ge(i));return t}return null}function Bx(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function F7(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&O1(e,t):e instanceof Set?t instanceof Set&&j7(e,t):e instanceof Map?t instanceof Map&&B7(e,t):!!TT(e)&&TT(t)&&U7(e,t))}function U7(e,t){if(e===null||t===null)return!1;const i=Object.keys(e);if(t===null||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}function j7(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function B7(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const s=t.get(i);if(s!==r||s===void 0&&!t.has(i))return!1}return!0}function V7(e,t,i=!1){return ZI(e,t,i)}function Vx(e,t){if(t!=null)return t[e]||JI(e.split("."),!1,t)}function df(e,t,i){const r=e.split("."),s=r.pop(),n=JI(r,!0,i);n&&s&&(n[s]=t)}function AT(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let r=0;r<e.length;r++)if(AT(e[r],i[r]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(AT(e[i],t[i]))return!0;return!1}return e!==t}function JI(e,t,i){let r=i;for(const s of e){if(r==null)return;if(!(s in r)){if(!t)return;r[s]={}}r=r[s]}return r}function ZI(e,t,i){return t?Object.keys(t).reduce((r,s)=>{let n=r[s],o=t[s];return n===o?r:n===void 0?(r[s]=ge(o),r):(Array.isArray(o)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{n.includes(a)||n.push(a)}):r[s]=o.slice())):o&&typeof o=="object"?r[s]=ZI(n,o,i):r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[s]=o),r)},e||{}):e}const Ot={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(V7(Ot,globalThis.esriConfig,!0),delete Ot.has),!Ot.assetsPath){{const e="4.32";Ot.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}Ot.defaultAssetsPath=Ot.assetsPath}const G7=/\{([^}]+)\}/g;function MT(e){return e??""}function Gx(e,t){return t?e.replaceAll(G7,typeof t=="object"?(i,r)=>MT(Vx(r,t)):(i,r)=>MT(t(r))):e}function vpe(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>t?.includes(i)?i:`\\${i}`)}function KI(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let OT;function bpe(e){return OT??=new DOMParser,OT.parseFromString(e||"","text/html").body.innerText||""}function _pe(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function wpe(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}const IT={info:0,warn:1,error:2,none:3};let Lt=class us{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,us._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=us.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,us._loggers.get(t)||new us({module:t})}_log(t,i,...r){if(this._matchLevel(t)){if(i!=="always"&&!us._throttlingDisabled){const s=q7(r),n=this._loggedMessages[t].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=us._tickCounter)return;this._loggedMessages[t].set(s,us._tickCounter),us._scheduleTickCounterIncrement()}for(const s of Ot.log.interceptors)if(s(t,this.module,...r))return;this._inheritedWriter()(t,this.module,...r)}}_parentWithMember(t,i){let r=this;for(;r!=null;){const s=r[t];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",z7)}_matchLevel(t){const i=Ot.log.level||"warn";return IT[this._parentWithMember("level",i)]<=IT[t]}static _scheduleTickCounterIncrement(){us._tickCounterScheduled||(us._tickCounterScheduled=!0,Promise.resolve().then(()=>{us._tickCounter++,us._tickCounterScheduled=!1}))}};function z7(e,t,...i){console[e](`[${t}]`,...i)}function q7(...e){return KI(JSON.stringify(e,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}Lt._loggers=new Map,Lt._tickCounter=0,Lt._tickCounterScheduled=!1,Lt._throttlingDisabled=!1;function xpe(e,t){for(const i of e.values())if(t(i))return!0;return!1}function Spe(e,t){for(const i of e.values())if(t(i))return i;return null}function XI(e,t,i){const r=e.get(t);if(r!==void 0)return r;const s=i();return e.set(t,s),s}function Epe(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}const hh=()=>Lt.getLogger("esri.core.accessorSupport.ensureTypes");function W7(e){return e==null?e:new Date(e)}function H7(e){return e==null?e:!!e}function Y7(e){return e==null?e:e.toString()}function C1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function zx(e){return e==null?e:Math.round(parseFloat(e))}function J7(e){return null}function Z7(e,t){return i=>{let r=e(i);return t.step!=null&&(r=Math.round(r/t.step)*t.step),t.min!=null&&(r=Math.max(t.min,r)),t.max!=null&&(r=Math.min(t.max,r)),r}}function QI(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function Hy(e,t){return t!=null&&e&&!(t instanceof e)}function e$(e){return e&&"isCollection"in e}function $T(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function K7(e,t){if(!t?.constructor||!e$(t.constructor))return T_(e,t)?t:new e(t);const i=$T(e.prototype.itemType),r=$T(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(T_(e,t),t):new e(t):t}function T_(e,t){return!!QI(t)&&(hh().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+N1(e)+"'"),!0)}function X7(e,t){return t==null?t:e$(e)?K7(e,t):Hy(e,t)?T_(e,t)?t:new e(t):t}function N1(e){return e?.prototype?.declaredClass||"unknown"}const Q7=new WeakMap;function eD(e){switch(e){case Number:return t=>C1(t);case $i:return zx;case Boolean:return H7;case String:return Y7;case Date:return W7;case qx:return J7;default:return XI(Q7,e,()=>X7.bind(null,e))}}function En(e,t){const i=eD(e);return arguments.length===1?i:i(t)}function fp(e,t,i){return arguments.length===1?fp.bind(null,e):t&&(Array.isArray(t)?t.map(r=>e(r,i)):[e(t,i)])}function tD(e,t){return arguments.length===1?fp(i=>En(e,i)):fp(i=>En(e,i),t)}function t$(e,t,i){return t!==0&&Array.isArray(i)?i.map(r=>t$(e,t-1,r)):e(i)}function Yy(e,t,i){if(arguments.length===2)return n=>Yy(e,t,n);if(!i)return i;i=t$(e,t,i);let r=t,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function iD(e,t,i){return arguments.length===2?Yy(r=>En(e,r),t):Yy(r=>En(e,r),t,i)}function i$(e){return!!Array.isArray(e)&&!e.some(t=>{const i=typeof t;return!(i==="string"||i==="number"||i==="function"&&e.length>1)})}function A_(e,t){if(arguments.length===2)return A_(e).call(null,t);const i=new Set,r=e.filter(a=>typeof a!="function"),s=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||i.add(a);let n=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(i.has(a)||s.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&s.some(d=>!Hy(a,d))?a:(f&&r.length?(n||(n=r.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),hh().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof a=="object"&&s.length?(o||(o=s.map(d=>N1(d)).join(", ")),hh().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):hh().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Oh(e,t){if(arguments.length===2)return Oh(e).call(null,t);const i={},r=[],s=[];for(const l in e.typeMap){const c=e.typeMap[l];i[l]=En(c),r.push(N1(c)),s.push(l)}const n=()=>`'${r.join("', '")}'`,o=()=>`'${s.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Hy(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,f=i[c];if(!f)return hh().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Hy(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!QI(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return f(d)}return f(l)}}let $i=class{},qx=class{};const Mpe={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function rD(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function r$(e){switch(e.type){case"native":return En(e.value);case"array":return fp(r$(e.value));case"one-of":return sD(e);default:return null}}function sD(e){let t=null;return(i,r)=>O_(i,e)?i:(t==null&&(t=M_(e)),hh().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}function M_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case $i:return"integer";case Date:return"date";case qx:return"null";default:return N1(e.value)}case"array":return`array of ${M_(e.value)}`;case"one-of":{const t=e.values.map(i=>M_(i));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function O_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case $i:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case qx:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(i=>!O_(i,t.value));case"one-of":return t.values.some(i=>O_(e,i))}}function Xm(e){return M1(zx(e),0,255)}function Qm(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}function e0(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}let dt=class Fi{static blendColors(t,i,r,s=new Fi){return s.r=Math.round(t.r+(i.r-t.r)*r),s.g=Math.round(t.g+(i.g-t.g)*r),s.b=Math.round(t.b+(i.b-t.b)*r),s.a=t.a+(i.a-t.a)*r,s._sanitize()}static fromRgb(t,i){const r=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const s=r[2].split(/\s*,\s*/),n=r[1];if(n==="rgb"&&s.length===3||n==="rgba"&&s.length===4){const o=s[0];if(o.charAt(o.length-1)==="%"){const a=s.map(l=>2.56*parseFloat(l));return s.length===4&&(a[3]=parseFloat(s[3])),Fi.fromArray(a,i)}return Fi.fromArray(s.map(a=>parseFloat(a)),i)}if(n==="hsl"&&s.length===3||n==="hsla"&&s.length===4)return Fi.fromArray(I7(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100,parseFloat(s[3])),i)}return null}static fromHex(t,i=new Fi){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const r=parseInt(t.slice(1,2),16),s=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Fi.fromArray([r+16*r,s+16*s,n+16*n,(o+16*o)/255],i)}case 7:case 9:{const r=parseInt(t.slice(1,3),16),s=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Fi.fromArray([r,s,n,o/255],i)}default:return null}}static fromArray(t,i=new Fi){return i._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(t,i){const r=O7(t)?LI(t):null;return r&&Fi.fromArray(r,i)||Fi.fromRgb(t,i)||Fi.fromHex(t,i)}static fromJSON(t){return t!=null?new Fi([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Fi.fromString(t,this):Array.isArray(t)?Fi.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Fi||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const i=t?.capitalize??!1,r=t?.digits??6,s=r===3||r===4,n=r===4||r===8,o=`#${e0(this.r,s)}${e0(this.g,s)}${e0(this.b,s)}${n?e0(Math.round(255*this.a),s):""}`;return i?o.toUpperCase():o}toCss(t=!1){const i=this.r+", "+this.g+", "+this.b;return t?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Fi.AlphaMode.ALWAYS){const i=Xm(this.r),r=Xm(this.g),s=Xm(this.b);return t===Fi.AlphaMode.ALWAYS||this.a!==1?[i,r,s,Xm(255*this.a)]:[i,r,s]}clone(){return new Fi(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Qm(this.r,0,255)),this.g=Math.round(Qm(this.g,0,255)),this.b=Math.round(Qm(this.b,0,255)),this.a=Qm(this.a,0,1),this}_set(t,i,r,s){this.r=t,this.g=i,this.b=r,this.a=s}};dt.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(dt);function g(e,t,i,r){var s,n=arguments.length,o=n<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o}function Ope(e,t){return function(i,r){t(i,r,e)}}function Ipe(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function a(f){try{c(r.next(f))}catch(d){o(d)}}function l(f){try{c(r.throw(f))}catch(d){o(d)}}function c(f){f.done?n(f.value):s(f.value).then(a,l)}c((r=r.apply(e,[])).next())})}function $pe(e,t,i){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),e.stack.push({value:t,dispose:r,async:i})}return t}var nD=typeof SuppressedError=="function"?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Cpe(e){function t(n){e.error=e.hasError?new nD(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var i,r=0;function s(){for(;i=e.stack.pop();)try{if(!i.async&&r===1)return r=0,e.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}const CT=new WeakMap;function oD(e,t,i=!1){const r=`🛑 DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=CT.get(e);s||(s=new Set,CT.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}function aD(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;dp(e,`Function: ${(r?r+"::":"")+t+"()"}`,i)}}function Npe(e,t,i={}){if(re("esri-deprecation-warnings")){const{moduleName:r}=i;dp(e,`Property: ${(r?r+"::":"")+t}`,i)}}function lD(e,t,i={}){re("esri-deprecation-warnings")&&dp(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function dp(e,t,i={}){if(re("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:o}=i;let a=t;if(r&&(a+=`
	🛠️ Replacement: ${r}`),s&&(a+=`
	⚙️ Version: ${s}`),n)if(Array.isArray(n)){a+=`
	🔗 See for more details:`;for(const l of n)a+=`
		${l}`}else a+=`
	🔗 See ${n} for more details.`;oD(e,a,o)}}function Ppe(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function Lpe(e,t){for(const i of e)if(i!=null&&t(i))return i}function NT(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let Wx=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(i=>{t+=i.length}),t}add(t,i){if(NT(t)){const r=this._getOrCreateGroup(i);for(const s of t)LT(s)&&r.push(s)}else LT(t)&&this._getOrCreateGroup(i).push(t);return this}forEach(t,i){if(typeof t=="function")this._groups.forEach(r=>r.forEach(t));else{const r=this._getGroup(t);r&&i&&r.forEach(i)}}has(t){return this._groups.has(t0(t))}remove(t){if(typeof t!="string"&&NT(t)){for(const i of t)this.remove(i);return this}return this.has(t)?(PT(this._getGroup(t)),this._groups.delete(t0(t)),this):this}removeAll(){return this._groups.forEach(PT),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const i=[];return this._groups.set(t0(t),i),i}_getGroup(t){return this._groups.get(t0(t))}};function t0(e){return e||"_default_"}function PT(e){for(const t of e)t instanceof Wx?t.removeAll():t.remove()}function LT(e){return e!=null&&(!!e.remove||e instanceof Wx)}function cD(e,t){if(e==null)throw new Error(t??"value is None")}function J0(e){return e?.destroy(),null}function Rpe(e){return e?.dispose(),null}function pf(e){return e?.remove(),null}function s$(e){return e?.abort(),null}function Dpe(e){return e?.release(),null}function Fpe(e,t,i){return e!=null&&t!=null?i!=null?i(e,t):e.equals(t):e===t}function uD(e,t){let i;return e.some((r,s)=>(i=t(r,s),i!=null)),i??void 0}const n$=Symbol("Accessor-beforeDestroy"),hD={remove:()=>{}};function Ei(e){return e?{remove(){e&&(e(),e=void 0)}}:hD}function o$(e){e.forEach(t=>t?.remove())}function Upe(e){o$(e),e.length=0}function Hx(e){return Ei(()=>o$(e))}function jpe(e){return Ei(()=>e()?.remove())}function Bpe(e){return Ei(()=>e?.abort())}function fD(e){return Ei(e!=null?()=>e.destroy():void 0)}function pl(e){return e.__accessor__??null}function dD(e,t){return e?.metadata?.[t]!=null}function Z0(e,t,i){return i?Jy(e,t,{policy:i,path:""}):Jy(e,t,null)}function Jy(e,t,i){return t?Object.keys(t).reduce((r,s)=>{const n=s;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${s}`:s,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[n]))return r[n]=t[n],r;if(r[n]===void 0)return r[n]=ge(t[n]),r;let l=r[n],c=t[n];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[n]=l.slice():r[n]=[l]:r[n]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(i){const f=i.path;i.path=o,r[n]=Jy(l,c,i),i.path=f}else r[n]=Jy(l,c,null);else r.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(r[n]=c);return r},e||{}):e}function a$(e){return Array.isArray(e)?e:e.split(".")}function kT(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function pD(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...kT(i));return t}return kT(e)}function l$(e,t,i,r){const s=pD(t);if(s.length!==1){const n=s.map(o=>r(e,o,i));return Hx(n)}return r(e,s[0],i)}function c$(e,t){const i=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=pl(t);return dD(r,i)?r.get(i):t[i]}function u$(e,t,i){if(e==null)return e;const r=c$(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:u$(r,t,i+1)}function cm(e,t,i=0){return typeof t!="string"||t.includes(".")?u$(e,a$(t),i):c$(t,e)}function Ih(e,t){return cm(e,t)}function RT(e,t){return cm(t,e)!==void 0}var Jr;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Jr||(Jr={}));function um(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const r in t)t[r]=ge(t[r]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function P1(e,t){const i=um(e);let r=i[t];return r||(r=i[t]={}),r}function mD(e,t){return Z0(e,t,gD)}const yD=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function gD(e){return yD.test(e)?"replace":"merge"}function vD(e){return e?.release&&typeof e.release=="function"}function bD(e){return e?.acquire&&typeof e.acquire=="function"}let hm=class I_{constructor(t,i,r,s=1,n=0){this._ctor=t,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...t){let i;if(I_.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...t):bD(i)&&i.acquire(...t),i}release(t){t&&!I_.test.disabled&&(this._releaseFunction?this._releaseFunction(t):vD(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};hm.test={disabled:!1};let _D=class{constructor(t,i){this._observers=t,this._observer=i}remove(){k7(this._observers,this._observer)}},h$=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return wD;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let o=0;o<n;++o){const a=i[o];if(a.destroyed)s=!0;else if(a===t){r=!0;break}}return r||(i.push(t),s&&this._removeDestroyedObservers()),new _D(i,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const i=t.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&t[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;t[s]=t[s+r]}}t.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const i of t)i.onCommitted();this._observers=null}}};const wD=Ei();var ct;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(ct||(ct={}));const zpe=ct.USER+1;function f$(e){switch(e){case"defaults":return ct.DEFAULTS;case"service":return ct.SERVICE;case"portal-item":return ct.PORTAL_ITEM;case"web-scene":return ct.WEB_SCENE;case"web-map":return ct.WEB_MAP;case"link-chart":return ct.LINK_CHART;case"user":return ct.USER;default:return null}}function $_(e){switch(e){case ct.DEFAULTS:return"defaults";case ct.SERVICE:return"service";case ct.PORTAL_ITEM:return"portal-item";case ct.WEB_SCENE:return"web-scene";case ct.WEB_MAP:return"web-map";case ct.LINK_CHART:return"link-chart";case ct.USER:return"user"}}function xD(e){return $_(e)}var gt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(gt||(gt={}));let L1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Zy=new L1,Xf=[];let Ld=Zy;function Ye(e){Ld.onAccessed(e)}let K0=!1,X0=!1;function ml(e,t,i){if(K0)return Yx(e,t,i);let r=null;return d$(e),r=t.call(i),p$(),r}function SD(e,t){return ml(Zy,e,t)}function Yx(e,t,i){const r=K0;K0=!0,d$(e);let s=null;try{s=t.call(i)}catch(n){X0&&Lt.getLogger("esri.core.accessorSupport.tracking").error(n)}return p$(),K0=r,s}function d$(e){Ld=e,Xf.push(e)}function p$(){const e=Xf.length;if(e>1){const t=Xf.pop();Ld=Xf[e-2],t.onTrackingEnd()}else if(e===1){const t=Xf.pop();Ld=Zy,t.onTrackingEnd()}else Ld=Zy}function m$(e,t){if(t.flags&gt.DepTrackingInitialized)return;t.flags|=gt.DepTrackingInitialized;const i=X0;X0=!1,t.flags&gt.AutoTracked?Yx(t.trackingTarget,t.metadata.get,e):y$(e,t),X0=i}const ED=[];function y$(e,t){t.flags&gt.ExplicitlyTracking||(t.flags|=gt.ExplicitlyTracking,Yx(t.trackingTarget,()=>{const i=t.metadata.dependsOn||ED;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=a$(r);for(let n=0,o=e;n<s.length&&o!=null&&typeof o=="object";++n)o=DT(o,s[n],n!==s.length-1)}else DT(e,r,!1)}),t.flags&=~gt.ExplicitlyTracking)}function DT(e,t,i){const r=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const s=pl(e);if(s){const n=s.propertiesByName.get(r);n&&(Ye(n),m$(e,n))}return i?e[r]:void 0}let FT=class extends h${constructor(t,i){super(),this.propertyName=t,this.metadata=i,this.trackingTarget=new L1(this),this.flags=0,this.flags=gt.Dirty|(i.nonNullable?gt.NonNullable:0)|(i.hasOwnProperty("value")?gt.HasDefaultValue:0)|(i.get===void 0?gt.DepTrackingInitialized:0)|(i.dependsOn===void 0?gt.AutoTracked:0)}destroy(){this.flags&gt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ye(this);const i=t.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&gt.Computing||~s&gt.Dirty&&i.has(r))return n;this.flags|=gt.Computing;const o=t.host;let a;s&gt.AutoTracked?a=ml(this.trackingTarget,this.metadata.get,o):(y$(o,this),a=this.metadata.get.call(o)),this.flags|=gt.DepTrackingInitialized,i.set(r,a,ct.COMPUTED);const l=i.get(r);return l===n?this.flags&=~gt.Dirty:SD(this.commit,this),this.flags&=~gt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~gt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&gt.Overridden&&(this.flags|=gt.Dirty);const t=this._observers;if(t&&t.length>0)for(const i of t)i.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onCommitted()}}},TD=class g${constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new g$;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r))}),i}get(t){return this._values.get(t)}originOf(){return ct.USER}keys(){return[...this._values.keys()]}set(t,i){this._values.set(t,i)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function i0(e,t,i){return e!==void 0}function UT(e,t,i,r){return e!==void 0&&(!(i==null&&e.flags&gt.NonNullable)||(r.lifecycle,Jr.INITIALIZING,!1))}let AD=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Jr.INITIALIZING,this.store=new TD,this.mutable=!0,this._origin=ct.USER;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new FT(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=Jr.CONSTRUCTING}constructed(){this.lifecycle=Jr.CONSTRUCTED}destroy(){this.lifecycle=Jr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Jr.INITIALIZING}get(t){const i=this.propertiesByName.get(t);if(i.metadata.get)return i.getComputed(this);this.mutable&&Ye(i);const r=this.store;return r.has(t)?r.get(t):i.metadata.value}originOf(t){const i=this.store.originOf(t);if(i===void 0){const r=this.propertiesByName.get(t);if(r!==void 0&&r.flags&gt.HasDefaultValue)return"defaults"}return $_(i)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const i=this.propertiesByName.get(t);if(i0(i))return this.store.has(t)?this.store.get(t):i.metadata.value}internalSet(t,i){const r=this.propertiesByName.get(t);i0(r)&&this._internalSet(r,i)}getDependsInfo(t,i,r){const s=this.propertiesByName.get(i);if(!i0(s))return"";const n=new L1,o=ml(n,()=>s.metadata.get?.call(t));let a=`${r}${t.declaredClass.split(".").pop()}.${i}: ${o}
`;const l=n.accessed??new Set;if(l.size===0)return a;r+="  ";for(const c of l)c instanceof FT&&(a+=`${r}${c.propertyName}: undefined
`);return a}setAtOrigin(t,i,r){const s=this.propertiesByName.get(t);if(i0(s))return this._setAtOrigin(s,i,r)}isOverridden(t){const i=this.propertiesByName.get(t);return i!==void 0&&!!(i.flags&gt.Overridden)}clearOverride(t){const i=this.propertiesByName.get(t);i&&i.flags&gt.Overridden&&(i.flags&=~gt.Overridden,i.notifyChange())}override(t,i){const r=this.propertiesByName.get(t);if(!UT(r,t,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:o,value:a}=n;if(ab.release(n),!o)return;i=a}r.flags|=gt.Overridden,this._internalSet(r,i)}set(t,i){const r=this.propertiesByName.get(t);if(!UT(r,t,i,this))return;const s=r.metadata.cast;if(s){const o=this._cast(s,i),{valid:a,value:l}=o;if(ab.release(o),!a)return;i=l}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(t){this._origin=f$(t)}getDefaultOrigin(){return $_(this._origin)}notifyChange(t){const i=this.propertiesByName.get(t);i!==void 0&&i.notifyChange()}invalidate(t){const i=this.propertiesByName.get(t);i!==void 0&&i.invalidate()}commit(t){const i=this.propertiesByName.get(t);i!==void 0&&i.commit()}_internalSet(t,i){const r=this.lifecycle!==Jr.INITIALIZING?this._origin:ct.DEFAULTS;this._setAtOrigin(t,i,r)}_setAtOrigin(t,i,r){const s=this.store,n=t.propertyName;s.has(n,r)&&Bx(i,s.get(n))&&~t.flags&gt.Overridden&&r===s.originOf(n)||(t.invalidate(),s.set(n,i,r),t.commit(),m$(this.host,t))}_cast(t,i){const r=ab.acquire();return r.valid=!0,r.value=i,t&&(r.value=t.call(this.host,i,r)),r}},MD=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const ab=new hm(MD);function OD(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(Vx(r,t)??"").toString())}let v$=class{constructor(t,i,r=void 0){this.name=t,this.details=r,this.message=(i&&OD(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},ft=class b$ extends v${constructor(t,i,r){super(t,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ge(i)}catch{return"[object]"}}))}}catch(t){throw Lt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new b$(t.name,t.message,t.details)}};ft.prototype.type="error";function Ky(e,t,i){if(e&&t)if(typeof t=="object")for(const r of Object.getOwnPropertyNames(t))Ky(e,r,t[r]);else{if(t.includes(".")){const s=t.split("."),n=s.splice(-1,1)[0];return void Ky(Ih(e,s),n,i)}const r=e.__accessor__;r!=null&&ID(t,r),e[t]=i}}function ID(e,t){if(re("esri-unknown-property-errors")&&!$D(e,t))throw new ft("set:unknown-property",CD(e,t))}function $D(e,t){return t.metadata[e]!=null}function CD(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}let ND;function PD(){return ND}var jT;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(jT||(jT={}));function LD(e){e.length=0}let Ba=class{constructor(t=50,i=50){this._pool=new hm(Array,void 0,LD,i,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return lb.acquire()}static release(t){return lb.release(t)}static prune(){lb.prune()}};const lb=new Ba(100);let kD=class extends hm{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const i=super.acquire(...t);return this._set.delete(i),i}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const r0=[];function _$(e){r0.push(e),r0.length===1&&queueMicrotask(()=>{const t=r0.slice();r0.length=0;for(const i of t)i()})}let w$=class{constructor(t,i=30){this.name=t,this._counter=0,this._samples=new Array(i)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,i)=>t-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,i)=>t+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var C_;(function(e){const t=(n,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=n[c-1];for(;f<=d;){f=c<<1,f<a&&l(n[f-1],n[f])<0&&++f;const y=n[f-1];if(l(y,p)<=0)break;n[c-1]=y,c=f}n[c-1]=p},i=(n,o)=>n<o?-1:n>o?1:0;function r(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l)}}function*s(n,o,a,l){o===void 0&&(o=0),a===void 0&&(a=n.length),l===void 0&&(l=i);for(let f=a>>>1;f>o;f--)t(n,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=n[o];n[o]=n[f],n[f]=d,t(n,c,f,l),yield}}e.sort=r,e.iterableSort=s})(C_||(C_={}));const BT=C_,RD=1.5,DD=1.1;let x$=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new DI,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>VT(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];t(s)&&i.push(s)}return i}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,i){const r=this.data.indexOf(t,i);return r!==-1&&r<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,i=t.length){for(let r=0;r<i;r++)this.data[this._length++]=t[r]}fill(t,i){for(let r=0;r<i;r++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,VT(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const i=S_(this.data,t,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(S_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,i=t.length,r){this.length=L7(this.data,t,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,i){if(t>=this.length||i>=this.length||t===i)return;const r=this.data[t];this.data[t]=this.data[i],this.data[i]=r}sort(t){BT.sort(this.data,0,this.length,t)}iterableSort(t){return BT.iterableSort(this.data,0,this.length,t)}some(t,i){for(let r=0;r<this.length;++r)if(t.call(i,this.data[r],r,this.data))return!0;return!1}find(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(t.call(i,r[n]))return r[n]}filterInPlace(t,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];t.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(t,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)t.call(i,r[n],n,r)}forEach(t,i){this.data.slice(0,this.length).forEach(t,i)}map(t,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=t.call(i,this.data[s],s,this.data);return r}reduce(t,i){let r=i;for(let s=0;s<this.length;++s)r=t(r,this.data[s],s,this.data);return r}has(t){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function VT(e){e.data.length>RD*e.length&&(e.data.length=Math.floor(e.length*DD))}function FD(e){return{setTimeout:(t,i)=>{const r=e.setTimeout(t,i);return Ei(()=>e.clearTimeout(r))}}}const UD=FD(globalThis);function Jx(e){return jD(e)||S$(e)}function jD(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function S$(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function E$(e,t,i){if(!Jx(e))throw new TypeError("target is not a Evented or EventTarget object");return S$(e)?BD(e,t,i):e.on(t,i)}function BD(e,t,i,r){if(Array.isArray(t)){const s=t.slice();for(const n of s)e.addEventListener(n,i,r);return Ei(()=>{for(const n of s)e.removeEventListener(n,i,r)})}return e.addEventListener(t,i,r),Ei(()=>e.removeEventListener(t,i,r))}function T$(e,t,i){if(!Jx(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=E$(e,t,s=>{r.remove(),i.call(e,s)});return r}function Ur(e="Aborted"){return new ft("AbortError",e)}function pp(e,t="Aborted"){if(na(e))throw Ur(t)}function k1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function na(e){const t=k1(e);return t!=null&&t.aborted}function A$(e){if(fm(e))throw e}function eme(e){if(!fm(e))throw e}function Lc(e,t){const i=k1(e);if(i!=null){if(!i.aborted)return T$(i,"abort",()=>t());t()}}function VD(e,t){const i=k1(e);if(i!=null)return pp(i),T$(i,"abort",()=>t(Ur()))}function tme(e,t){return k1(t)==null?e:new Promise((i,r)=>{let s=Lc(t,()=>r(Ur()));const n=()=>{s=pf(s)};e.then(n,n),e.then(i,r)})}function fm(e){return e?.name==="AbortError"}async function GT(e){try{return await e}catch(t){if(!fm(t))throw t;return}}async function Zx(e){if(!e)return;if(typeof e.forEach!="function"){const i=Object.keys(e),r=i.map(o=>e[o]),s=await Zx(r),n={};return i.map((o,a)=>n[o]=s[a]),n}const t=e;return Promise.allSettled(t).then(i=>Array.from(t,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function ime(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function rme(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function GD(e,t=void 0,i){const r=new AbortController;return Lc(i,()=>r.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(t)},e);Lc(r,()=>{o&&(clearTimeout(o),n(Ur()))})})}function sme(e,t,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s?.abort()},t);const o=()=>r||new ft("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(a=>{if(n===0)throw o();return clearTimeout(n),a},a=>{throw clearTimeout(n),n===0?o():a})}function nme(e,t){const i=new AbortController,r=setTimeout(()=>i.abort(),t);return Lc(e,()=>{i.abort(),clearTimeout(r)}),{...e,signal:i.signal}}function M$(e){return e&&typeof e.then=="function"}function zT(e){return M$(e)?e:Promise.resolve(e)}function ome(e,t=-1){let i,r,s,n,o=null;const a=(...l)=>{if(i){r=l,n&&n.reject(Ur()),n=mp();const p=n.promise;if(o){const y=o;o=null,y.abort()}return p}if(s=n||mp(),n=null,t>0){const p=new AbortController;i=zT(e(...l,p.signal));const y=i;GD(t).then(()=>{i===y&&(n?p.abort():o=p)})}else i=1,i=zT(e(...l));const c=()=>{const p=r;r=s=i=o=null,p!=null&&a(...p)},f=i,d=s;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function mp(){let e,t;const i=new Promise((s,n)=>{e=s,t=n}),r=s=>{e(s)};return r.resolve=s=>e(s),r.reject=s=>t(s),r.timeout=(s,n)=>UD.setTimeout(()=>r.reject(n),s),r.promise=i,r}async function ame(e){await Promise.resolve(),pp(e)}function lme(e){return e}function cme(e){return 1e3*e}function ume(e){return e}function hme(e){return .001*e}let zD=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},qD=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},N_=0;const Lf={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},P_=["prepare","preRender","render","postRender","update","finish"],L_=[],kc=new x$;let WD=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,O$()}};function HD(){Ec!=null&&(cancelAnimationFrame(Ec),Ec=requestAnimationFrame(Kx))}function O$(){Ec==null&&(N_=performance.now(),Ec=requestAnimationFrame(Kx))}const Xy={frameTasks:kc,willDispatch:!1,clearFrameTasks:YD,dispatch:C$,executeFrameTasks:JD,reschedule:HD};function I$(e){const t=new qD(e);return L_.push(t),Xy.willDispatch||(Xy.willDispatch=!0,_$(C$)),t}function mme(e){const t=new zD(e);return kc.push(t),O$(),new WD(t)}let Ec=null;function YD(e=!1){kc.forAll(t=>{t.removed=!0}),e&&$$()}function Kx(){const e=performance.now();Ec=null,Ec=kc.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(Kx):null,Xy.executeFrameTasks(e)}function JD(e){const t=e-N_;N_=e;const i=1e3/60,r=Math.max(0,t-i);Lf.time=e,Lf.frameDuration=i-r;for(let s=0;s<P_.length;s++){const n=performance.now(),o=P_[s];kc.forAll(a=>{a.paused||a.removed||(s===0&&a.ticks++,a.phases[o]&&(Lf.elapsedFrameTime=performance.now()-e,Lf.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,Lf)))}),XD[s].push(performance.now()-n)}$$(),QD.push(performance.now()-e)}const s0=new x$;function $$(){kc.forAll(e=>{e.removed&&s0.push(e)}),kc.removeUnorderedMany(s0.data,s0.length),s0.clear()}function C$(){for(;L_.length;){const e=L_.shift();e.isActive&&e.callback()}Xy.willDispatch=!1}function ZD(e=1,t){const i=mp(),r=()=>{na(t)?i.reject(Ur()):e===0?i():(--e,_$(()=>r()))};return r(),i.promise}function KD(e){return ZD(1,e)}async function yme(e){await KD(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const XD=P_.map(e=>new w$(e)),QD=new w$("total");function eF(e,t){for(const i of e.values())if(t(i))return!0;return!1}function qT(e,t){if(!t)return e;for(const i of t)i!=null&&e.add(i);return e}function gme(e,t){return t!=null&&e.add(t),e}function Xx(e,t){const i=new Set;return qT(i,e),qT(i,t),i}function tF(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function vme(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function bme(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function iF(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function _me(e,t){return iF(Xx(e,t),tF(e,t))}let rF=0;function Q0(){return++rF}let Qx=class extends L1{constructor(t){super(new sF(t)),this._observer&&WT.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&WT.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},sF=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=nF}};const WT=new FinalizationRegistry(e=>{e.deref()?.destroy()});function nF(){}let fh=!1;const Qy=[];function N$(e,t){let i=new Qx(n),r=null,s=!1;function n(){if(!i||s)return;if(fh)return void L$(n);const a=r;i.clear(),fh=!0,s=!0,r=ml(i,e),s=!1,fh=!1,t(r,a),k$()}function o(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=ml(i,e),s=!1,Ei(o)}function P$(e,t){let i=new Qx(s),r=null;function s(){t(r,o)}function n(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=ml(i,e),r):null}return o(),Ei(n)}function Sme(e,t){let i=!1,r=!1;const s=!!t?.sync;let n=new Qx(()=>{i||r||(r=!0,s?o():queueMicrotask(o))});function o(){r=!1,n&&!i&&(fh?L$(o):(n.clear(),fh=!0,i=!0,ml(n,e),i=!1,fh=!1,k$()))}function a(){n&&(n.destroy(),n=null)}return i=!0,ml(n,e),i=!1,Ei(a)}function L$(e){Qy.includes(e)||Qy.unshift(e)}function k$(){for(;Qy.length;)Qy.pop()()}var kd;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(kd||(kd={}));let yp=class{constructor(){this.uid=Q0(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,i,r,s,n){return this.pool.acquire(kd.Untracked,t,i,r,s,n,Bx)}static acquireTracked(t,i,r,s){return this.pool.acquire(kd.Tracked,t,i,r,null,null,s)}notify(t,i){this.type===kd.Untracked?this.callback.call(this.target,t,i,this.path,this.target):this.callback.call(null,t,i,void 0,void 0)}acquire(t,i,r,s,n,o,a){this.uid=Q0(),this.removed=!1,this.type=t,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Q0(),this.removed=!0}};yp.pool=new kD(yp);const ey=new Ba,ia=new Set;let eg;function tg(e){ia.delete(e),ia.add(e),eg||(eg=I$(lF))}function oF(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function aF(e){for(const t of ia.values())t.target===e&&(t.removed=!0)}function lF(){let e=10;for(;eg&&e--;){eg=null;const t=cF(),i=ey.acquire();for(const r of t){const s=r.uid;oF(r),s===r.uid&&r.removed&&i.push(r)}for(const r of ia)r.removed&&(i.push(r),ia.delete(r));for(const r of i)yp.pool.release(r);ey.release(i),ey.release(t),k_.forEach(r=>r())}}function cF(){const e=ey.acquire();e.length=ia.size;let t=0;for(const i of ia)e[t]=i,++t;return ia.clear(),e}const k_=new Set;function Tme(e){return k_.add(e),Ei(()=>k_.delete(e))}function uF(e,t,i){let r=l$(e,t,i,(s,n,o)=>{let a,l,c=P$(()=>cm(s,n),(f,d)=>{s.__accessor__?.lifecycle===Jr.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=yp.acquireUntracked(f,o,d,s,n),l=a.uid),tg(a))});return Ei(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,tg(a)),a=null),r=c=null})});return r}function hF(e,t,i){const r=l$(e,t,i,(s,n,o)=>{let a=!1;return N$(()=>cm(s,n),(l,c)=>{s.__accessor__.lifecycle!==Jr.DESTROYED?a||(a=!0,Bx(c,l)||o.call(s,l,c,n,s),a=!1):r.remove()})});return r}function fF(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Jr.DESTROYED?r?hF(e,t,i):uF(e,t,i):Ei()}function dF(e,t,i){let r,s,n=P$(e,(o,a)=>{r&&r.uid!==s?n.remove():(r||(r=yp.acquireTracked(o,t,a,i),s=r.uid),tg(r))});return Ei(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,tg(r)),r=null),n=null})}function pF(e,t,i){let r=!1;return N$(e,(s,n)=>{r||(r=!0,i(n,s)||t(s,n),r=!1)})}function mF(e,t,i=!1,r=F7){return i?pF(e,t,r):dF(e,t,r)}function Ame(e){return eF(ia,t=>t.oldValue===e)}function T(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(t,i),s=P1(t,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in e&&Lt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),s.value=e.value=r.value)),e.readOnly!=null&&(s.readOnly=e.readOnly);const n=e.aliasOf;if(n){const l=typeof n=="string"?n:n.source,c=typeof n=="string"?null:n.overridable===!0;let f;s.dependsOn=[l],s.get=function(){let d=Ih(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=Ih(this,f);p&&(d=d.bind(p))}return d},s.readOnly||(s.set=c?function(d){this._override(i,d)}:function(d){Ky(this,l,d)})}const o=e.type,a=e.types;if(!s.cast){let l;o?l=yF(o):a&&(l=Array.isArray(a)?fp(Oh(a[0])):Oh(a)),e.cast=gF(e.cast,l)}mD(s,e),e.range&&(s.cast=Z7(s.cast,e.range))}}function R$(e,t,i){const r=P1(e,i);r.json||(r.json={});let s=r.json;return t!==void 0&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s}function yF(e){let t=0,i=e;if(rD(e))return r$(e);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],t++;const r=i;if(i$(r))return t===0?A_(r):Yy(A_(r),t);if(t===1)return tD(r);if(t>1)return iD(r,t);const s=e;return s.from?s.from:En(s)}function gF(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}function vF(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(t[r]){const s=t[r];i[r].forEach(n=>{t[n]=s}),delete t[r]}}}let gp=class extends v${constructor(t,i,r){super(t,i,r)}};gp.prototype.type="warning";function D$(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const R_=()=>Lt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function HT(e,t,i){e&&(!i&&!t.read||t.read?.reader||t.read?.enabled===!1||wF(e)&&df("read.reader",F$(e),t))}function F$(e){const t=e.ndimArray??0;if(t>1)return _F(e);if(t===1)return YT(e);if("type"in e&&j$(e.type)){const i=e.type.prototype?.itemType?.Type,r=YT(typeof i=="function"?{type:i}:{types:i});return(s,n,o)=>{const a=r(s,n,o);return a&&new e.type(a)}}return eS(e)}function eS(e){return"type"in e?bF(e.type):xF(e.types)}function bF(e){return e.prototype.read?(t,i,r)=>{if(t==null)return t;const s=typeof t;if(s!=="object")return void R_().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${s}'`);const n=new e;return n.read(t,r),n}:e.fromJSON}function U$(e,t,i,r){return r!==0&&Array.isArray(t)?t.map(s=>U$(e,s,i,r-1)):e(t,void 0,i)}function _F(e){const t=eS(e),i=U$.bind(null,t),r=e.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=i(s,o,r);let a=r,l=s;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)s=[s];return s}}function YT(e){const t=eS(e);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=t(a,void 0,s);l!==void 0&&o.push(l)}return o}const n=t(i,void 0,s);return n!==void 0?[n]:void 0}}function j$(e){if(!D$(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?tS(t.Type):B$(t.Type))}function wF(e){return"types"in e?B$(e.types):tS(e.type)}function tS(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||j$(e))}function B$(e){for(const t in e.typeMap)if(!tS(e.typeMap[t]))return!1;return!0}function xF(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(s,n,o)=>{if(s==null)return s;const a=typeof s;if(a!=="object")return void R_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=SF(e));const l=e.key;if(typeof l!="string")return;const c=s[l],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&s&&o.messages.push(new gp(`${i}:unsupported`,p,{definition:s,context:o})),void R_().error(p)}const d=new f;return d.read(s,o),r?r(d):d}}function SF(e){const t={};for(const i in e.typeMap){const r=e.typeMap[i],s=um(r.prototype);if(typeof e.key=="function")continue;const n=s[e.key];if(!n)continue;if(n.json?.type&&Array.isArray(n.json.type)&&n.json.type.length===1&&typeof n.json.type[0]=="string"){t[n.json.type[0]]=r;continue}const o=n.json?.write;if(!o?.writer){t[i]=r;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(i,c,l),c[l]&&(t[c[l]]=r)}return t}function EF(e){if(e.json||(e.json={}),ZT(e.json),KT(e.json),JT(e.json),e.json.origins)for(const t in e.json.origins)ZT(e.json.origins[t]),KT(e.json.origins[t]),JT(e.json.origins[t]);return!0}function JT(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function ZT(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function KT(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function XT(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const i=e?.ndimArray??0;e&&(i===1||"type"in e&&D$(e.type))?t.write.writer=OF:i>1?t.write.writer=IF(i):t.types?Array.isArray(t.types)?t.write.writer=AF(t.types[0]):t.write.writer=TF(t.types):t.write.writer=vp}function TF(e){return(t,i,r,s)=>t?V$(t,e,s)?vp(t,i,r,s):void 0:vp(t,i,r,s)}function V$(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i?.messages){const r=t.errorContext??"type",s=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new ft(`${r}:unsupported`,s,{definition:e,context:i})),Lt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function AF(e){return(t,i,r,s)=>!t||!Array.isArray(t)?vp(t,i,r,s):vp(t.filter(n=>V$(n,e,s)),i,r,s)}function vp(e,t,i,r){df(i,ig(e,r),t)}function ig(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?MF(e):e}function MF(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function OF(e,t,i,r){let s;e===null?s=null:e&&typeof e.map=="function"?(s=e.map(n=>ig(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[ig(e,r)],df(i,s,t)}function G$(e,t,i){return i!==0&&Array.isArray(e)?e.map(r=>G$(r,t,i-1)):ig(e,t)}function IF(e){return(t,i,r,s)=>{let n;if(t===null)n=null;else{n=G$(t,s,e);let o=e,a=n;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)n=[n]}df(r,n,i)}}function $F(e,t){return iS(e,"any",t?.origin)}function D_(e,t){return iS(e,"read",t?.origin)}function z$(e,t){return iS(e,"write",t?.origin)}function iS(e,t,i){let r=e?.json;if(r?.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(t==="any"||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(t==="any"||t in s)&&(r=s)}return r}function CF(e){const t=NF(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],s=r.types?PF(r):t;HT(s,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),XT(s,r)}HT(t,e.json,!0),XT(t,e.json)}function NF(e){return e.json.types?F_(e.json):e.type?q$(e):F_(e)}function PF(e){return e.type?q$(e):F_(e)}function q$(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!i$(i);)i=i[0],t++;return{type:i,ndimArray:t}}function F_(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function LF(e){EF(e)&&(vF(e),CF(e))}const cb=new Set,ub=new Set;function ie(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,RF(t);const i=[],r=[];let s=t.prototype;for(;s;)s.hasOwnProperty("initialize")&&!cb.has(s.initialize)&&(cb.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!ub.has(s.destroy)&&(ub.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);cb.clear(),ub.clear();const n=class extends t{constructor(...a){if(super(...a),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const c=this[n$];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let f=0;f<r.length;f++)r[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=um(t.prototype),n.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function kF(e,t){return t.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r===void 0)return;i.mutable&&Ye(r);const s=i.store;return s.has(e)?s.get(e):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(e);if(r!==void 0)return r.getComputed(i)}}function RF(e){const t=e.prototype,i=um(t),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];LF(n),r[s]={enumerable:!0,configurable:!0,get:kF(s,n),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&n.readOnly?QT("read-only",s):a.lifecycle===Jr.CONSTRUCTED&&n.constructOnly?QT("construct-only",s):void a.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,r)}const QT=(e,t)=>{Lt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};var W$,H$;function DF(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Aa=Symbol("Accessor-Handles"),U_=Symbol("Accessor-Initialized");let Qi=class ty{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const n=this;class o extends n{constructor(...l){super(...l),this.inherited=null,s&&s.apply(this,l)}}um(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(n.prototype[a])return n.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:t[a]}for(const a in i){const l=DF(i[a]);T(l)(o.prototype,a)}return ie(r)(o)}static freeze(t){return t instanceof ty?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof ty?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[W$]=null,this[H$]=!1,this.constructor===ty)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new AD(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),t.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,i=t.ctorArgs;t.initialize(),i&&(this.set(i),t.ctorArgs=null),t.constructed(),this.initialize(),this[U_]=!0}initialize(){}[n$](){this[Aa]=J0(this[Aa])}destroy(){this.destroyed||(aF(this),this.__accessor__.destroy(),PD()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[U_]}get destroyed(){return this.__accessor__?.lifecycle===Jr.DESTROYED||!1}commitProperty(t){Ih(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,i){return Ky(this,t,i),this}watch(t,i,r){return aD(Lt.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://developers.arcgis.com/javascript/latest/api-reference/esri-core-reactiveUtils.html#watch",warnOnce:!0}),fF(this,t,i,r)}addHandles(t,i){if(this.destroyed){const r=Array.isArray(t)?t:[t];for(const s of r)s.remove();return}(this[Aa]??=new Wx).add(t,i)}removeHandles(t){this[Aa]?.remove(t)}removeAllHandles(){this[Aa]?.removeAll()}removeHandlesReference(t){this[Aa]?.removeReference(t)}hasHandles(t){return this[Aa]?.has(t)===!0}_override(t,i){i===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,i){i==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,i)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,i){return this.__accessor__.internalSet(t,i),this}};W$=Aa,H$=U_;function Ome(e,t,i){return Zx(e.map((r,s)=>t.apply(i,[r,s])))}async function Ime(e,t,i){return(await Zx(e.map((r,s)=>t.apply(i,[r,s])))).map(r=>r.value)}function rS(e){return{ok:!0,value:e}}function sS(e){return{ok:!1,error:e}}function FF(e){return e!=null&&e.ok===!0?e.value:null}function UF(e){return e!=null&&e.ok===!1?e.error:null}async function $me(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return rS(await e)}catch(t){return sS(t)}}async function Cme(e){try{return rS(await e)}catch(t){return A$(t),sS(t)}}function jF(e,t){return new Ma(e,t)}let Ma=class extends Qi{get value(){return FF(this._result)}get error(){return UF(this._result)}get finished(){return this._result!=null}constructor(t,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=s$(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=t(r),this.promise.then(s=>{this._result=rS(s),this._cleanup()},s=>{this._result=sS(s),this._cleanup()}),this._abortHandle=Lc(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=pf(this._abortHandle),this._abortController=null}};g([T()],Ma.prototype,"value",null),g([T()],Ma.prototype,"error",null),g([T()],Ma.prototype,"finished",null),g([T()],Ma.prototype,"promise",void 0),g([T()],Ma.prototype,"_result",void 0),Ma=g([ie("esri.core.asyncUtils.ReactiveTask")],Ma);let j_=class Y${constructor(){this._emitter=new Y$.EventEmitter(this)}emit(t,i){return this._emitter.emit(t,i)}on(t,i){return this._emitter.on(t,i)}once(t,i){return this._emitter.once(t,i)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(s=null){this._target=s,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(s,n){let o=this._listenersMap?.get(s);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,n):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const a=s.map(l=>this.on(l,n));return Hx(a)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),Ei(()=>{const a=this._listenersMap?.get(s),l=a?.indexOf(n)??-1;l>=0&&a.splice(l,1)})}once(s,n){const o=this.on(s,a=>{o.remove(),("deref"in n?n.deref():n)?.call(null,a)});return o}hasEventListener(s){const n=this._listenersMap?.get(s);return n!=null&&n.length>0}}e.EventEmitter=t,e.EventedMixin=r=>{let s=class extends r{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(n,o){return this._emitter.emit(n,o)}on(n,o){return this._emitter.on(n,o)}once(n,o){return this._emitter.once(n,o)}hasEventListener(n){return this._emitter.hasEventListener(n)}};return s=g([ie("esri.core.Evented")],s),s};let i=class extends Qi{constructor(){super(...arguments),this._emitter=new j_.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,s){return this._emitter.emit(r,s)}on(r,s){return this._emitter.on(r,s)}once(r,s){return this._emitter.once(r,s)}hasEventListener(r){return this._emitter.hasEventListener(r)}};i=g([ie("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i})(j_);var pt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(pt||(pt={}));function BF(e){return(t,i)=>{t[i]=e}}let VF=class extends h${notify(){const t=this._observers;if(t&&t.length>0){const i=t.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};var Yo;let GF=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},zF=class{constructor(t,i,r,s,n){this.target=t,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const Ts=new hm(GF,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function eA(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function hb(e){return e?e instanceof zo?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function fb(e){if(e?.length)return e[0]}function qF(e,t,i,r){const s=Math.min(e.length-i,t.length-r);let n=0;for(;n<s&&e[i+n]===t[r+n];)n++;return n}function J$(e,t,i,r){t&&t.forEach((s,n,o)=>{e.push(s),J$(e,i.call(r,s,n,o),i,r)})}const ma=new Set,ya=new Set,ga=new Set,db=new Map;let WF=0,zo=Yo=class extends j_.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Yo}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new VF,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:WF++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Yo?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ye(this._observable),this._items}set items(e){this._emitBeforeChanges(pt.ADD)||(this._splice(0,this.length,hb(e)),this._emitAfterChanges(pt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Ei();if(e==="change"){const i=this._chgListeners,r={removed:!1,callback:t};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),Ei(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,s=>{i()?.call(null,s),r.remove()});return r}add(e,t){if(Ye(this._observable),this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(pt.ADD),this}addMany(e,t=this._items.length){if(Ye(this._observable),!e?.length)return this;if(this._emitBeforeChanges(pt.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,hb(e)),this._emitAfterChanges(pt.ADD),this}at(e){if(Ye(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(pt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ye(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Ye(this._observable);const t=e.map(hb);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)e.call(t,i[s],s,i);this._emitAfterChanges(pt.REMOVE)}destroyAll(){this.drain(eA)}destroyMany(e){const t=this.removeMany(e);return t.forEach(eA),t}every(e,t){return Ye(this._observable),this._items.every(e,t)}filter(e,t){Ye(this._observable);const i=arguments.length===2?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return Ye(this._observable),this._items.find(e,t)}findIndex(e,t){return Ye(this._observable),this._items.findIndex(e,t)}flatten(e,t){Ye(this._observable);const i=[];return J$(i,this,e,t),new Yo(i)}forEach(e,t){return Ye(this._observable),this._items.forEach(e,t)}getItemAt(e){return Ye(this._observable),this._items[e]}getNextIndex(e){Ye(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Ye(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Ye(this._observable),this._items.indexOf(e,t)}join(e=","){return Ye(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Ye(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Ye(this._observable);const i=this._items.map(e,t);return new Yo({items:i})}reorder(e,t=this.length-1){Ye(this._observable);const i=this.indexOf(e);if(i!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(pt.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(pt.MOVE)}return e}}pop(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=fb(this._splice(this.length-1,1));return this._emitAfterChanges(pt.REMOVE),e}push(...e){return Ye(this._observable),this._emitBeforeChanges(pt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(pt.ADD)),this.length}reduce(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){Ye(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return Ye(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Ye(this._observable),e<0||e>=this.length||this._emitBeforeChanges(pt.REMOVE))return;const t=fb(this._splice(e,1));return this._emitAfterChanges(pt.REMOVE),t}removeMany(e){if(Ye(this._observable),!e?.length||this._emitBeforeChanges(pt.REMOVE))return[];const t=e instanceof Yo?e.toArray():e,i=this._items,r=[],s=t.length;for(let n=0;n<s;n++){const o=t[n],a=i.indexOf(o);if(a>-1){const l=1+qF(t,i,n+1,a+1),c=this._splice(a,l);c&&c.length>0&&r.push.apply(r,c),n+=l-1}}return this._emitAfterChanges(pt.REMOVE),r}reverse(){if(Ye(this._observable),this._emitBeforeChanges(pt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(pt.MOVE),this}shift(){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.REMOVE))return;const e=fb(this._splice(0,1));return this._emitAfterChanges(pt.REMOVE),e}slice(e=0,t=this.length){return Ye(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Ye(this._observable),this._items.some(e,t)}sort(e){if(Ye(this._observable),!this.length||this._emitBeforeChanges(pt.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(pt.MOVE),this}_requiresSort(e=(t,i)=>t===i?0:t<i?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){Ye(this._observable);const r=(t?pt.REMOVE:0)|(i.length?pt.ADD:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(r),s}toArray(){return Ye(this._observable),this._items.slice()}toJSON(){return Ye(this._observable),this.toArray()}toLocaleString(){return Ye(this._observable),this._items.toLocaleString()}toString(){return Ye(this._observable),this._items.toString()}unshift(...e){return Ye(this._observable),!e.length||this._emitBeforeChanges(pt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(pt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=I$(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const a=Ts.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)n=o[l],a.reset(n),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(e,0,n),e+=1,l-=1,c-=1);Ts.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Ts.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Ts.release(a)}}if(i?.length){if(s){const f=[];for(const d of i){const p=s.ensureType(d);p==null&&d!=null||f.push(p)}i=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const f=Ts.acquire();f.target=this,f.cancellable=!0;const d=Ts.acquire();d.target=this,d.cancellable=!1;for(const p of i)a?(f.reset(p),this.emit("before-add",f),f.defaultPrevented||(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?r.push(p):r.splice(e++,0,p),this._set("length",r.length),d.reset(p),this.emit("after-add",d));Ts.release(d),Ts.release(f)}else{if(c)for(const f of i)r.push(f);else r.splice(e,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new zF(this,i,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=Ts.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,Ts.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Ts.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Ts.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const i=t.changes;ma.clear(),ya.clear(),ga.clear();for(const{added:l,removed:c}of i){if(l)if(ga.size===0&&ya.size===0)for(const f of l)ma.add(f);else for(const f of l)ya.has(f)?(ga.add(f),ya.delete(f)):ga.has(f)||ma.add(f);if(c)if(ga.size===0&&ma.size===0)for(const f of c)ya.add(f);else for(const f of c)ma.has(f)?ma.delete(f):(ga.delete(f),ya.add(f))}const r=Ba.acquire();ma.forEach(l=>{r.push(l)});const s=Ba.acquire();ya.forEach(l=>{s.push(l)});const n=this._items,o=t.items,a=Ba.acquire();if(ga.forEach(l=>{o.indexOf(l)!==n.indexOf(l)&&a.push(l)}),t.listeners&&(r.length||s.length||a.length)){const l={target:this,added:r,removed:s,moved:a},c=t.listeners.length;for(let f=0;f<c;f++){const d=t.listeners[f];d.removed||d.callback.call(this,l)}}Ba.release(r),Ba.release(s),Ba.release(a)}ma.clear(),ya.clear(),ga.clear()}};zo.ofType=e=>{if(!e)return Yo;if(db.has(e))return db.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends Yo{};return g([BF({Type:e,ensureType:typeof e=="function"?En(e):Oh(e)})],i.prototype,"itemType",void 0),i=g([ie(`esri.core.Collection<${t}>`)],i),db.set(e,i),i},g([T()],zo.prototype,"_updating",void 0),g([T()],zo.prototype,"length",void 0),g([T()],zo.prototype,"items",null),g([T({readOnly:!0})],zo.prototype,"updating",null),zo=Yo=g([ie("esri.core.Collection")],zo);const $t=zo;function Fs(e,t,i={}){return nS(e,t,i,K$)}function tA(e,t,i={}){return nS(e,t,i,X$)}function nS(e,t,i={},r){let s=null;const n=i.once?(o,a)=>{r(o)&&(pf(s),t(o,a))}:(o,a)=>{r(o)&&t(o,a)};if(s=mF(e,n,i.sync,i.equals),i.initial){const o=e();n(o,o)}return s}function Z$(e,t,i,r={}){let s=null,n=null,o=null;function a(){s&&n&&(n.remove(),r.onListenerRemove?.(s),s=null,n=null)}function l(f){r.once&&r.once&&pf(o),i(f)}const c=Fs(e,(f,d)=>{a(),Jx(f)&&(s=f,n=E$(f,t,l),r.onListenerAdd?.(f))},{sync:r.sync,initial:!0});return o=Ei(()=>{c.remove(),a()}),o}function Rme(e,t){return HF(e,X$,t)}function HF(e,t,i){if(na(i))return Promise.reject(Ur());const r=e();if(t?.(r))return Promise.resolve(r);let s=null;function n(){s=pf(s)}return new Promise((o,a)=>{s=Hx([Lc(i,()=>{n(),a(Ur())}),nS(e,l=>{n(),o(l)},{sync:!1,once:!0},t??K$)])})}function K$(e){return!0}function X$(e){return!!e}function Dme(e,t,i={}){let r=!1;const s=Fs(e,(n,o)=>{r||t(n,o)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}function YF(e,t){const i=new $t,r=Z$(e,"after-splice",({added:s,start:n,deleteCount:o})=>{const a=i.splice(n,o);for(const l of a)l.remove();if(s?.length){const l=s.map(t);i.addMany(l,n)}},{sync:!0,onListenerRemove:()=>i.drain(s=>s.remove()),onListenerAdd:s=>i.addMany(s.items.map(t))});return i.addHandles(r),i}function Fme(e,t){const i=new $t,r=YF(e,a=>jF(async l=>{const c=await t(a,l);if(na(l))throw c.remove(),Ur();return c})),s=()=>null,n=async a=>{const l=await a.promise,c=r.indexOf(a);c<0||i.splice(c,1,l)};i.addMany(r.items.map(s));for(const a of r)GT(n(a));const o=r.on("after-splice",({added:a,start:l,deleteCount:c})=>{const f=i.splice(l,c);for(const d of f)d?.remove();if(a?.length){i.addMany(a.map(s),l);for(const d of a)GT(n(d))}});return i.addHandles([fD(r),o]),i}const JF={sync:!0},Ume={initial:!0},jme={sync:!0,initial:!0};let ZF=class Q${constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const i=new Q$;return this._values.forEach((r,s)=>{t&&t.has(s)||i.set(s,ge(r.value),r.origin)}),i}get(t,i){i=this._normalizeOrigin(i);const r=this._values.get(t);return i==null||r?.origin===i?r?.value:void 0}originOf(t){return this._values.get(t)?.origin??ct.USER}keys(t){t=this._normalizeOrigin(t);const i=[...this._values.keys()];return t==null?i:i.filter(r=>this._values.get(r)?.origin===t)}set(t,i,r){if((r=this._normalizeOrigin(r))===ct.DEFAULTS){const s=this._values.get(t);if(s?.origin!=null&&s.origin>r)return}this._values.set(t,new KF(i,r))}delete(t,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(t)?.origin!==i||this._values.delete(t)}has(t,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(t)?.origin===i:this._values.has(t)}forEach(t){this._values.forEach(({value:i},r)=>t(i,r))}_normalizeOrigin(t){if(t!=null)return t===ct.DEFAULTS?t:ct.USER}},KF=class{constructor(t,i){this.value=t,this.origin=i}};function XF(e,t,i){t.keys().forEach(s=>{i.set(s,t.get(s),ct.DEFAULTS)});const r=e.metadata;Object.keys(r).forEach(s=>{e.internalGet(s)&&i.set(s,e.internalGet(s),ct.DEFAULTS)})}function QF(e,t,i){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const r=e.read.source;if(typeof r=="string"){if(r===t||r.includes(".")&&r.indexOf(t)===0&&RT(r,i))return!0}else for(const s of r)if(s===t||s.includes(".")&&s.indexOf(t)===0&&RT(s,i))return!0;return!1}function eU(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function tU(e,t,i,r,s){let n=D_(t[i],s);eU(n)&&(e[i]=!0);for(const o of Object.getOwnPropertyNames(t))n=D_(t[o],s),QF(n,i,r)&&(e[o]=!0)}function iU(e,t,i,r){const s=i.metadata,n=$F(s[t],r),o=n?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,r):o;a!==void 0&&i.set(t,a)}const eC={origin:"service"};function rU(e,t,i=eC){if(!t||typeof t!="object")return;const r=pl(e),s=r.metadata,n={};for(const o of Object.getOwnPropertyNames(t))tU(n,s,o,t,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(n)){const a=D_(s[o],i).read,l=a?.source;let c;c=l&&typeof l=="string"?cm(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,i)),c!==void 0&&r.set(o,c)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||iU(e,o,r,i)}r.setDefaultOrigin("user")}function Vme(e,t,i,r=eC){const s={...r,messages:[]};i(s),s.messages?.forEach(n=>{n.type!=="warning"||e.loaded?r?.messages&&r.messages.push(n):e.loadWarnings.push(n)})}function sU(e,t,i,r,s){const n={};return t.write?.writer?.call(e,r,n,i,s),n}function tC(e,t,i,r,s,n){if(!r?.write)return!1;const o=Ih(e,i);if(!s&&r.write.overridePolicy){const a=r.write.overridePolicy.call(e,o,i,n??void 0);a!==void 0&&(s=a)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&n?.layerContainerType&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const a=new ft("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return a&&n?.messages?n.messages.push(a):a&&!n&&Lt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(i)===ct.DEFAULTS)&&nU(e,i,n,r,o)||!s.ignoreOrigin&&n?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<f$(n.origin))}function nU(e,t,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(e,t,i??void 0);return O1(o,s)}return!1}return n===s}function Gme(e,t,i,r){const s=pl(e),n=s.metadata,o=z$(n[t],r);return!!o&&tC(e,s,t,o,i,r)}function oU(e,t,i){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return Z0(t,e.toJSON(i));const r=pl(e),s=r.metadata;for(const n in s){const o=z$(s[n],i);if(!tC(e,r,n,o,void 0,i))continue;const a=Ih(e,n),l=sU(e,o,o.write&&typeof o.write.target=="string"?o.write.target:n,a,i);Object.keys(l).length>0&&(t=Z0(t,l),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>Z0(t,l,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:e,propName:n,oldOrigin:xD(r.store.originOf(n)),newOrigin:i.origin}))}return t}const iC=e=>{let t=class extends e{constructor(...i){super(...i);const r=pl(this),s=r.store,n=new ZF;r.store=n,XF(r,s,n)}read(i,r){rU(this,i,r)}write(i,r){return oU(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return aU.call(this,i,r)}};return t=g([ie("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function aU(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let Qf=class extends iC(Qi){};Qf=g([ie("esri.core.JSONSupport")],Qf),function(e){function t(i){return i&&typeof i=="object"&&"toJSON"in i&&typeof i.toJSON=="function"}e.JSONSupportMixin=iC,e.isSerializable=t}(Qf||(Qf={}));const et=Qf;function Xi(e,t,i){let r,s;return t===void 0||Array.isArray(t)?(s=e,i=t,r=[void 0]):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;r.forEach(l=>{const c=R$(n,l,s);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],i&&(c.read.source=(c.read.source||[]).concat(i))})}}let yo=class{constructor(t,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=lU(t),this.apiValues=iA(this._apiToJSON),this.jsonValues=iA(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const o=this.toJSON(r);o!==void 0&&df(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const i=this._apiToJSON[t];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function lU(e){const t={};for(const i in e)t[e[i]]=i;return t}function iA(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function Cn(){return function(e,t){return new yo(e,{ignoreUnknown:!0,...t})}}let oS=class{constructor(t,i,r,s,n,o){this.semiMajorAxis=t,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Tn=new oS(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),bp=new oS(3396190,1/169.8944472236118,23e4,6e4,.111),R1=new oS(1737400,0,0,0,0),cU=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,uU={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function rA(e){const t=e?.match(cU);if(!t)return null;const[,i,r,s]=t;if(!i)return null;let n=null,o=null,a=null;const{devext:l,qaext:c,www:f}=uU;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:n}}function hU(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function rC(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}function fU(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function dU(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}const pU=()=>Lt.getLogger("esri.core.urlUtils"),mf=Ot.request,sA="esri/config: esriConfig.request.proxyUrl is not set.",sC=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,nC=/^\s*http:/i,mU=/^\s*https:/i,yU=/^\s*file:/i,gU=/:\d+$/,vU=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,bU=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),_U=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let dh=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(bU);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(_U),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const n0={},wU=new dh(Ot.applicationUrl);let _r=wU;const xU=SU();let aS=xU;const lS=()=>_r,Yme=()=>aS;function SU(){const e=_r.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${_r.scheme}://${_r.host}${_r.port!=null?`:${_r.port}`:""}`}${t}`}function To(e){if(!e)return null;const t={path:null,query:null},i=new dh(e),r=e.indexOf("?");return i.query===null?t.path=e:(t.path=e.slice(0,r),t.query=cS(i.query)),i.fragment&&(t.hash=i.fragment,i.query===null&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function cS(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const s=r.indexOf("=");let n,o;s<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,s)),o=decodeURIComponent(r.slice(s+1)));let a=i[n];typeof a=="string"&&(a=i[n]=[a]),Array.isArray(a)?a.push(o):i[n]=o}return i}function _p(e,t){return e?Object.keys(e).map(i=>{const r=e[i];if(r==null)return"";const s=encodeURIComponent(i)+"=",n=t?.[i];return n?s+encodeURIComponent(n(r)):Array.isArray(r)?r.map(o=>et.isSerializable(o)?s+encodeURIComponent(JSON.stringify(o)):s+encodeURIComponent(o)).join("&"):et.isSerializable(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function oC(e=!1){let t,i=mf.proxyUrl;if(typeof e=="string"){t=IU(e);const r=D1(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw pU().warn(sA),new ft("urlUtils:proxy-not-set",sA);return t&&B_()&&(i=pS(i)),To(i)}function Jme(e,t=!1){const i=D1(e);let r,s;if(i){const n=uS(i.proxyUrl);r=n.path,s=n.query?cS(n.query):null}else if(t){const n=oC(e);r=n.path,s=n.query}if(r){const n=To(e);e=r+"?"+n.path;const o=_p({...s,...n.query});o&&(e=`${e}?${o}`)}return e}const kf={path:"",query:""};function uS(e){const t=e.indexOf("?");return t!==-1?(kf.path=e.slice(0,t),kf.query=e.slice(t+1)):(kf.path=e,kf.query=null),kf}function aC(e){return e=(e=sg(e=LU(e=uS(e).path),!0)).toLowerCase()}function EU(e){const t={proxyUrl:e.proxyUrl,urlPrefix:aC(e.urlPrefix)},i=mf.proxyRules,r=t.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const o=i[n].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;s=n;break}o.indexOf(r)===0&&(s=n+1)}return i.splice(s,0,t),s}function D1(e){const t=mf.proxyRules,i=aC(e);for(let r=0;r<t.length;r++)if(i.indexOf(t[r].urlPrefix)===0)return t[r]}function Zme(e,t){if(!e||!t)return!1;e=rg(e),t=rg(t);const i=rA(e),r=rA(t);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&$h(e,t,!0)}function TU(e,t){return e=rg(e),t=rg(t),sg(e)===sg(t)}function rg(e){const t=(e=ol(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function nA(e,t=mf.interceptors){const i=r=>r==null||r instanceof RegExp&&r.test(e)||typeof r=="string"&&e.startsWith(r);if(t){for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function $h(e,t,i=!1){if(!e||!t)return!1;const r=G_(e),s=G_(t);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function hS(e){if(typeof e=="string"){if(!vn(e))return!0;e=G_(e)}if($h(e,_r))return!0;const t=mf.trustedServers||[];for(let i=0;i<t.length;i++){const r=AU(t[i]);for(let s=0;s<r.length;s++)if($h(e,r[s]))return!0}return!1}function AU(e){return n0[e]||(dS(e)||xl(e)?n0[e]=[new dh(dm(e))]:n0[e]=[new dh(`http://${e}`),new dh(`https://${e}`)]),n0[e]}function dm(e,t=aS,i){return xl(e)?i?.preserveProtocolRelative?e:_r.scheme==="http"&&_r.authority===ys(e).slice(2)?`http:${e}`:`https:${e}`:dS(e)?e:F1(e[0]==="/"?PU(t):t,e)}function lC(e,t=aS,i){if(e==null||!vn(e))return e;const r=ol(e),s=r.toLowerCase(),n=ol(t).toLowerCase().replace(/\/+$/,""),o=i?ol(i).toLowerCase().replace(/\/+$/,""):null;if(o&&n.indexOf(o)!==0)return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(s,"/",s.indexOf("//")+2),c=-1;for(;s.slice(0,l+1)===n.slice(0,l)+"/"&&(c=l+1,l!==s.length);)l=a(s,"/",l+1);if(c===-1||o&&c<o.length)return e;e=r.slice(c);const f=n.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)e=`../${e}`;else e=`./${e}`;return e}function ol(e){return e=DU(e=RU(e=kU(e=dm(e=e.trim()))))}function F1(...e){const t=e.filter(R7);if(!t?.length)return;const i=[];if(vn(t[0])){const s=t[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),CU(t[0])&&(i[0]+="/"),t[0]=s.slice(n+2))}else t[0][0]==="/"&&i.push("");const r=t.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function ys(e,t=!1){if(e==null||fS(e)||yf(e))return null;let i=e.indexOf("://");if(i===-1&&xl(e))i=2;else{if(i===-1)return null;i+=3}const r=e.indexOf("/",i);return r!==-1&&(e=e.slice(0,r)),t&&(e=sg(e,!0)),e}function vn(e){return xl(e)||dS(e)}function fS(e){return e!=null&&e.slice(0,5)==="blob:"}function yf(e){return e!=null&&e.slice(0,5)==="data:"}function MU(e){const t=wp(e);return t?.isBase64?fU(t.data):null}function Kme(e){return dU(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const OU=/^data:(.*?)(;base64)?,(.*)$/;function wp(e){const t=e.match(OU);if(!t)return null;const[,i,r,s]=t;return{mediaType:i,isBase64:!!r,data:s}}function cC(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function Xme(e){return(await fetch(e)).blob()}function Qme(e){const t=MU(e);if(!t)return null;const i=wp(e);return new Blob([t],{type:i.mediaType})}function xl(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function dS(e){return e!=null&&sC.test(e)}function IU(e){return e!=null&&mU.test(e)||_r.scheme==="https"&&xl(e)}function $U(e){return e!=null&&nC.test(e)||_r.scheme==="http"&&xl(e)}function CU(e){return e!=null&&yU.test(e)}function pS(e){return xl(e)?`https:${e}`:e.replace(nC,"https:")}function NU(){return _r.scheme==="http"}function B_(){return _r.scheme==="https"}function sg(e,t=!1){return xl(e)?e.slice(2):(e=e.replace(sC,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function PU(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return i===-1?e:e.slice(0,i)}function e0e(e){let t=0;if(vn(e)){const r=e.indexOf("//");r!==-1&&(t=r+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function t0e(e,t){if(!e)return"";const i=To(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!t?.length)return r;const s=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(s,"")}function LU(e){return e.endsWith("/")?e:`${e}/`}function uC(e){return e.replace(/\/+$/,"")}function kU(e){if(/^https?:\/\//i.test(e)){const t=uS(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function RU(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function DU(e){const t=mf.httpsDomains;if(!$U(e))return e;const i=e.indexOf("/",7);let r;if(r=i===-1?e:e.slice(0,i),r=r.toLowerCase().slice(7),gU.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return NU()&&r===_r.authority&&!vU.test(e)||(B_()&&r===_r.authority||t&&t.some(s=>r===s||r.endsWith(`.${s}`))||B_()&&!D1(e))&&(e=pS(e)),e}function V_(e,t,i){if(!(t&&i&&e&&vn(e)))return e;const r=e.indexOf("//"),s=e.indexOf("/",r+2),n=e.indexOf(":",r+2),o=Math.min(s<0?e.length:s,n<0?e.length:n);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(o)}`}function G_(e){return typeof e=="string"?new dh(dm(e)):(e.scheme||(e.scheme=_r.scheme),e)}function i0e(e){return UU.test(e)}function hC(e,t){const i=To(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function FU(e,t,i){const r=To(e),s=r.query||{};return s[t]=String(i),`${r.path}?${_p(s)}`}function pb(e,t){if(!t)return e;const i=To(e),r=i.query||{};for(const[n,o]of Object.entries(t))o!=null&&(r[n]=o);const s=_p(r);return s?`${i.path}?${s}`:i.path}function r0e(e){if(e==null)return null;const t=e.match(fC);return t?t[2]:null}function oA(e){if(e==null)return null;const t=e.match(fC);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function s0e(e){return typeof e=="string"?wp(e)??{data:e}:new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(wp(r.result)),r.onerror=s=>i(s)})}const fC=/([^.]*)\.([^/]*)$/,UU=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const jU="4.32";let Yt,BU=jU;BU="4.32.9";function n0e(e){Yt=e}function o0e(e){const t=Yt?.findCredential(e);return t?.token?FU(e,"token",t.token):e}re("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),re("host-webworker");function pm(e,t){const i=t?.url?.path;if(e&&i&&(e=dm(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=lC(e,t.portalItem.itemUrl);r!=null&&VU.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return(e=z_(e,t?.portal))&&j1.test(e)?pC(e):e}function U1(e,t,i=xp.YES){if((e=e&&j1.test(e)?mC(e):e)==null)return e;!vn(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=dm(e);if(t){const s=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(s){const n=z_(s,t.portal),o=z_(r,t.portal);r=lC(o,n,n),r!=null&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=dC(r,t?.portal),vn(r)&&(r=ol(r)),t?.resources&&t?.portalItem&&!vn(r)&&!yf(r)&&i===xp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function mS(e,t,i){return pm(e,i)}function Ch(e,t,i,r){const s=U1(e,r);s!==void 0&&(t[i]=s)}const j1=/\/items\/([^/]+)\/resources\/(.*)/,VU=/^\.\/resources\//;function GU(e){return(e?.match(j1)??null)?.[1]??null}function zU(e){const t=e?.match(j1)??null;if(t==null)return null;const i=t[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=oA(i);return{prefix:null,filename:o,extension:a}}const{path:s,extension:n}=oA(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function dC(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?V_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function z_(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=lS();return $h(r,`${r.scheme}://${i}`)?V_(e,t.portalHostname,i):V_(e,i,t.portalHostname)}function pC(e){if(!e)return e||null;let t=e;return t&&Yt&&!Yt.findCredential(t)&&(t=rC(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function mC(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Yt&&!Yt.findCredential(t)&&(t=rC(t)),t}var xp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(xp||(xp={}));const a0e=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return xp},ensureMainOnlineDomain:dC,fromCDNUrl:mC,fromJSON:pm,itemIdFromResourceUrl:GU,prefixAndFilenameFromResourceUrl:zU,read:mS,toCDNUrl:pC,toJSON:U1,write:Ch},Symbol.toStringTag,{value:"Module"})),yC={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},gC=Object.values(yC),vC=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${gC.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),qU=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${gC.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),WU=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function l0e(e){return vC.test(e)}function bC(e){if(e==null)return null;const t=To(e),i=t?.path.match(vC)||t?.path.match(qU);if(!i)return null;const[,r,s,n,o]=i,a=s.indexOf("/");return{title:_C(a!==-1?s.slice(a+1):s),serverType:yC[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function HU(e){const t=To(e).path.match(WU);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function _C(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function c0e(e,t){const i=[];if(e){const r=bC(e);r!=null&&r.title&&i.push(r.title)}if(t){const r=_C(t);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function aA(e){let t=ys(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function u0e(e,t){return e&&uC(hC(e,t))}function h0e(e){let{url:t}=e;if(!t)return{url:t};t=hC(t,e.logger);const i=To(t),r=bC(i.path);let s;if(r!=null)r.sublayer!=null&&e.layer.layerId==null&&(s=r.sublayer),t=r.url.path;else if(e.nonStandardUrlAllowed){const n=HU(i.path);n!=null&&(t=n.serviceUrl,s=n.sublayerId)}return{url:uC(t),layerId:s}}function f0e(e,t,i,r,s){Ch(t,r,"url",s),r.url&&e.layerId!=null&&(r.url=F1(r.url,i,e.layerId.toString()))}function d0e(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),s=t.includes("/imageserver/wmsserver"),n=t.includes("/wmsserver");return i&&(r||s||n)}const YU=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function JU(e){const t=ys(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!YU.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function wC(e,t){return!(!Ot.apiKey||!JU(e))}function ZU(e,t,i=!1,r){return new Promise((s,n)=>{if(na(r))return void n(lA());let o=()=>{c(),n(new Error(`Unable to load ${t}`))},a=()=>{const f=e;c(),s(f)},l=()=>{if(!e)return;const f=e;c(),f.src="",n(lA())};const c=()=>{re("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,r?.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(t)};r?.addEventListener("abort",l),re("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function lA(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const xC="Timeout exceeded";function KU(){return new Error(xC)}function p0e(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===xC}function XU(e){Ot.request.crossOriginNoCorsDomains||(Ot.request.crossOriginNoCorsDomains={});const t=Ot.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[ys(i)??""]=0:(t[ys("http://"+i)??""]=0,t[ys("https://"+i)??""]=0)}function QU(e){const t=Ot.request.crossOriginNoCorsDomains;if(t){let i=ys(e);if(i)return i=i.toLowerCase(),!$h(i,lS())&&t[i]<Date.now()-36e5}return!1}async function ej(e){const t=To(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=Ot.request.crossOriginNoCorsDomains,r=ys(e);i&&r&&(i[r.toLowerCase()]=Date.now())}async function Ci(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=cS(t.query.toString().replaceAll("+"," ")));const i=yf(e),r=fS(e);r||i||(e=ol(e));const s={url:e,requestOptions:{...t}},n=y=>({data:y,getAllHeaders:Nh,getHeader:Nh,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=nA(e,ks.internalInterceptors);if(o){const y=await uA(o,s);if(y!=null)return n(y)}let a=nA(e);if(a){const y=await uA(a,s);if(y!=null)return n(y);a.after||a.error||(a=null)}if(e=s.url,(t=s.requestOptions).responseType==="image"&&(re("host-webworker")||re("host-node")))throw bn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(t.method==="head"){if(t.body)throw bn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw bn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await nj(),ng)return ng.execute(e,t);const l=new AbortController,c=Lc(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:s,redoRequest:!1,useIdentity:ks.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=t.useRequestQueue?uj(f):W_(f),p=await d.finally(()=>c?.remove());return a?.after?.(p),p}let ng;const ks=Ot.request,SC="FormData"in globalThis,tj=new Set([499,498,403,401]),ij=new Set(["COM_0056","COM_0057","SB_0008"]),rj=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Nh=()=>null,og=Symbol();function sj(e){const t=ys(e);t&&!Ci._corsServers.includes(t)&&Ci._corsServers.push(t)}function cA(e){const t=ys(e);return!t||t.endsWith(".arcgis.com")||Ci._corsServers.includes(t)||hS(t)}function bn(e,t,i,r){let s="Error";const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Nh,getHeader:Nh,ssl:!1};if(t instanceof ft)return t.details?(t.details=ge(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=n,t;if(t){const o=r&&(()=>Array.from(r.headers)),a=r&&(f=>r.headers.get(f)),l=r?.status,c=t.message;c&&(s=c),o&&a&&(n.getAllHeaders=o,n.getHeader=a),n.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,n.subCode=t.subcode,n.messageCode=t.messageCode,typeof t.details=="string"?n.messages=[t.details]:n.messages=t.details,n.raw=og in t?t[og]:t}return fm(t)?Ur():new ft(e,s,n)}async function nj(){re("host-webworker")&&!ng&&(ng=await Se(()=>import("./request-CbSzKMGH.js"),__vite__mapDeps([0,1]),import.meta.url))}async function q_(){Yt||await Se(()=>import("./IdentityManager-VXj5DrDZ.js"),__vite__mapDeps([2,1,3,4,5,6]),import.meta.url)}async function oj(e){const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let n=null,o=null;if(SC&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:ks.priority,redirect:"follow",signal:r},(n||o)&&(e.fetchOptions.body=n||o),i.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query?.token||n?.get("token")),!e.hasToken&&wC(t)&&(i.query||(i.query={}),i.query.token=Ot.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!EC(t)&&!na(r)){let a;i.authMode==="immediate"?(await q_(),a=await Yt.getCredential(t,{signal:r}),e.credential=a):i.authMode==="no-prompt"?(await q_(),a=await Yt.getCredential(t,{prompt:!1,signal:r}).catch(()=>{}),e.credential=a):Yt&&(a=Yt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function EC(e){return rj.some(t=>t.test(e))}async function aj(e){let t=e.params.url;const i=e.params.requestOptions,r=e.fetchOptions??{},s=fS(t)||yf(t),n=i.responseType||"json",o=s?0:i.timeout!=null?i.timeout:ks.timeout;let a=!1;if(!s){e.useSSL&&(t=pS(t));let p={...i.query};e.credentialToken&&(p.token=e.credentialToken);let y=_p(p);re("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const v=t.length+1+y.length;let _;a=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||v>ks.maxUrlLength;const E=i.useProxy||!!D1(t);if(E){const S=oC(t);_=S.path,!a&&_.length+1+v>ks.maxUrlLength&&(a=!0),S.query&&(p={...S.query,...p})}if(r.method==="HEAD"&&(a||E)){if(a)throw v>ks.maxUrlLength?bn("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):bn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(E)throw bn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?t=pb(t,p):(r.body=_p(p),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=pb(t,p),E&&(e.useProxy=!0,t=`${_}?${t}`),p.token&&SC&&r.body instanceof FormData&&!hU(t)&&r.body.set("token",p.token),i.hasOwnProperty("withCredentials")?e.withCredentials=i.withCredentials:$h(t,lS())||(hS(t)||Yt&&Yt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(r.credentials="include",QU(t)&&await ej(a?pb(t,p):t))}let l,c,f=0,d=!1;o>0&&(f=setTimeout(()=>{d=!0,e.controller.abort()},o));try{if(i.responseType==="native-request-init")c=r,c.url=t,i.signal?c.signal=i.signal:delete c.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||a||lj(i.headers)||!s&&!e.useProxy&&ks.proxyUrl&&!cA(t)){if(Ci._beforeFetch&&await Ci._beforeFetch(t,r),l=await fetch(t,r),Ci._afterFetch&&await Ci._afterFetch(l),e.useProxy||sj(t),i.responseType==="native")c=l;else if(r.method!=="HEAD")if(l.ok){switch(n){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(f&&(clearTimeout(f),f=0),n==="json"||n==="xml"||n==="document")if(c)switch(n){case"json":c=JSON.parse(c);break;case"xml":c=hA(c,"application/xml");break;case"document":c=hA(c,"text/html")}else c=null;if(c){if(n==="array-buffer"||n==="blob"){const p=l.headers.get("Content-Type");if(p&&/application\/json|text\/plain/i.test(p)&&c[n==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}n==="image"&&c instanceof Blob&&(c=await fA(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await fA(t,e)}catch(p){if(p.name==="AbortError")throw d?KU():Ur("Request canceled");if(!(!l&&p instanceof TypeError&&ks.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||e.useProxy||cA(t))throw p;e.redoRequest=!0,EU({proxyUrl:ks.proxyUrl,urlPrefix:ys(t)??""})}finally{f&&clearTimeout(f)}return[l,c]}async function uA(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let i,r;try{r=await e.before(t)}catch(s){i=bn("request:interceptor",s,t)}if((r instanceof Error||r instanceof ft)&&(i=bn("request:interceptor",r,t)),i)throw e.error&&e.error(i),i;return r}}function lj(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function hA(e,t){let i;try{i=new DOMParser().parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Ci._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Ci._beforeFetch=void 0,Ci._afterFetch=void 0;const cj=new Map;async function uj(e){const t=fj(e.params.url);if(!t)return W_(e);const{QueueProcessor:i}=await Se(()=>import("./QueueProcessor-q2eZ8FOb.js"),__vite__mapDeps([7,8,9,10,1]),import.meta.url);return XI(cj,t.origin,()=>{const s=t.isHosted?re("request-queue-concurrency-hosted"):re("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(na(n.params.requestOptions))throw bn("",Ur("Request canceled"),n.params);return W_(n)}})}).push(e)}async function W_(e){let t,i;await oj(e);try{do[t,i]=await aj(e);while(!await hj(e,t,i))}catch(n){const o=bn("request:server",n,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const r=e.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&i.user?.username&&!hS(r)){const n=ys(r,!0);n&&ks.trustedServers.push(n)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&XU(i.authorizedCrossOriginNoCorsDomains)}const s=e.credential;if(s&&Yt){let o=Yt.findServerInfo(s.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Yt.findCredential(o,s.userId);a&&Yt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):Nh,getHeader:t?n=>t.headers.get(n):Nh,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function hj(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[og]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[og]=i,s;let o,a=null;s&&(n=Number(s.code),a=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o?.toUpperCase());const l=r.authMode;if(n===403&&(a===4||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||n===498)&&n!==void 0&&tj.has(n)&&!EC(e.params.url)&&(n!==403||(!o||!ij.has(o))&&(a==null||a===2&&e.credentialToken))){await q_();try{const c=await Yt.getCredential(e.params.url,{error:bn("request:server",s,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;s=c}}if(s)throw s;return!0}function fA(e,t,i=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=ks.priority,s.src=e,ZU(s,e,i,r)}function fj(e){let t,i;return typeof e=="string"?(t=ys(e,!0),i=aA(e)):(t=e.origin,i=aA(e.toString())),t==null?null:{origin:t,isHosted:i}}function dj(e){if(!Ot.assetsPath)throw Lt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ft("assets:path-not-set","config.assetsPath is not set");return F1(Ot.assetsPath,e)}let mb,z=null;function pj(){return!!z}function mj(){return!!re("esri-wasm")}function yj(){return mb||(mb=Se(()=>import("./pe-wasm-CRA-qgEz.js"),__vite__mapDeps([11,12]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>dj(`esri/geometry/support/${t}`)})).then(e=>{MC(e)}),mb)}var H_,Ht;(function(e){function t(n,o,a){z.ensureCache.prepare();const l=pc(a),c=a===l,f=z.ensureFloat64(l),d=z._pe_geog_to_proj(z.getPointer(n),o,f);return d&&Ka(a,o,f,c),d}function i(n,o,a,l){switch(l){case Ht.PE_TRANSFORM_P_TO_G:return r(n,o,a);case Ht.PE_TRANSFORM_G_TO_P:return t(n,o,a)}return 0}function r(n,o,a){return s(n,o,a,0)}function s(n,o,a,l){z.ensureCache.prepare();const c=pc(a),f=a===c,d=z.ensureFloat64(c),p=z._pe_proj_to_geog_center(z.getPointer(n),o,d,l);return p&&Ka(a,o,d,f),p}e.geogToProj=t,e.projGeog=i,e.projToGeog=r,e.projToGeogCenter=s})(H_||(H_={})),function(e){function t(){e.PE_BUFFER_MAX=z.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=z.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=z.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=z.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=z.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=z.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=z.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=z.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=z.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=z.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=z.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=z.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=z.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=z.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=z.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=z.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=z.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=z.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=z.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=z.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=z.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=z.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=z.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=z.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=z.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=z.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=z.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=z.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=z.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=z.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=z.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=z.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Ht||(Ht={}));let TC=null;var Y_;(function(e){const t={},i={},r=y=>{const v=y.getType();switch(v){case Ht.PE_TYPE_GEOGCS:y=z.castObject(y,z.PeGeogcs);break;case Ht.PE_TYPE_PROJCS:y=z.castObject(y,z.PeProjcs);break;case Ht.PE_TYPE_GEOGTRAN:y=z.castObject(y,z.PeGeogtran);break;default:v&Ht.PE_TYPE_UNIT&&(y=z.castObject(y,z.PeUnit))}return y};function s(){z.PeFactory.prototype.initialize(null)}function n(y){return o(Ht.PE_TYPE_COORDSYS,y)}function o(y,v){let _=null,E=t[y];if(E||(E={},t[y]=E),E.hasOwnProperty(String(v))&&(_=E[v],z.compare(_,z.NULL)&&(_=null)),!_){const S=z.PeFactory.prototype.factoryByType(y,v);z.compare(S,z.NULL)||(_=r(S),E[v]=_)}return _}function a(y,v){let _=null,E=i[y];if(E||(E={},i[y]=E),E.hasOwnProperty(v)&&(_=E[v],z.compare(_,z.NULL)&&(_=null)),!_){const S=z.PeFactory.prototype.fromString(y,v);z.compare(S,z.NULL)||(_=r(S),E[v]=_)}return _}function l(y){return o(Ht.PE_TYPE_GEOGCS,y)}function c(y){return o(Ht.PE_TYPE_GEOGTRAN,y)}function f(y){return z.PeFactory.prototype.getCode(y)}function d(y){return o(Ht.PE_TYPE_PROJCS,y)}function p(y){return o(Ht.PE_TYPE_UNIT,y)}e.initialize=s,e.coordsys=n,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=f,e.projcs=d,e.unit=p})(Y_||(Y_={}));let AC=null;var ag,J_,Z_,K_,X_,Q_,lg,e2,cg,ug,t2;function MC(e){function t(n,o,a){n[o]=a(n[o])}z=e,Ht.init(),ag.init(),lg.init(),cg.init(),ug.init(),TC=class extends z.PeDouble{constructor(n=NaN){super(n)}destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}},AC=class extends z.PeGCSExtent{destroy(){z.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[z.PeAngunit,z.PeDatum,z.PeGeogcs,z.PeGeogtran,z.PeObject,z.PeParameter,z.PePrimem,z.PeProjcs,z.PeSpheroid,z.PeUnit];for(const n of i)t(n.prototype,"getName",o=>function(){return o.call(this,new Array(Ht.PE_NAME_MAX))});for(const n of[z.PeGeogtran,z.PeProjcs])t(n.prototype,"getParameters",o=>function(){const a=new Array(Ht.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=z.getValue(l,"*");a[c]=f?z.wrapPointer(f,z.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(z.PeHorizon.prototype,"getCoord",n=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Ka(l,a,n.call(this),o),l}),t(z.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=z._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+o*d,z.PeGTlistExtendedGTs))}}return a}});const r=z._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let a=null;const l=n.call(this);if(!z.compare(l,z.NULL)){a=[l];const c=l.getNump();if(c>1){const f=z.getPointer(l);for(let d=1;d<c;d++)a.push(z.wrapPointer(f+r*d,z.PeHorizon))}}return o.set(n,a),a};t(z.PeProjcs.prototype,"horizonGcsGenerate",s),t(z.PeProjcs.prototype,"horizonPcsGenerate",s),z.PeObject.prototype.toString=function(n=Ht.PE_STR_OPTS_NONE){z.ensureCache.prepare();const o=z.getPointer(this),a=z.ensureInt8(new Array(Ht.PE_BUFFER_MAX));return z.UTF8ToString(z._pe_object_to_string_ext(o,n,a))},z.PeGeogcs.prototype.destroy=function(){this.Delete(),cn(this),this.ptr=0},z.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},z.PeProjcs.prototype.destroy=function(){this.Delete(),cn(this),this.ptr=0},z.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function cn(e){if(!e)return;const t=z.getClass(e);if(!t)return;const i=z.getCache(t);if(!i)return;const r=z.getPointer(e);r&&delete i[r]}function o0(e,t){const i=[],r=new Array(t);for(let s=0;s<e;s++)i.push(z.ensureInt8(r));return i}function pc(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function Ka(e,t,i,r=!1){if(r)for(let s=0;s<2*t;s++)e[s]=z.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=e.length===0;for(let n=0;n<t;n++)s&&(e[n]=new Array(2)),e[n][0]=z.getValue(i,"double"),e[n][1]=z.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function i(){e.PE_GTLIST_OPTS_COMMON=z.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=z._pe_getPeGTlistExtendedEntrySize()}function r(s,n,o,a,l,c){let f=null;const d=new z.PeInteger(c);try{const p=z.PeGTlistExtended.prototype.getGTlist(s,n,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=z.getPointer(p);for(let v=1;v<c;v++)f.push(z.wrapPointer(y+t*v,z.PeGTlistExtendedEntry))}}finally{z.destroy(d)}return f}e.init=i,e.getGTlist=r})(ag||(ag={})),function(e){function t(i){if(i?.length){for(const r of i)cn(r),r.getEntries().forEach(s=>{cn(s);const n=s.getGeogtran();cn(n),n.getParameters().forEach(cn),[n.getGeogcs1(),n.getGeogcs2()].forEach(o=>{cn(o);const a=o.getDatum();cn(a),cn(a.getSpheroid()),cn(o.getPrimem()),cn(o.getUnit())})});z.PeGTlistExtendedEntry.prototype.Delete(i[0])}}e.destroy=t}(J_||(J_={})),function(e){function t(i,r,s,n,o){z.ensureCache.prepare();const a=pc(s),l=s===a,c=z.ensureFloat64(a);let f=0;n&&(f=z.ensureFloat64(n));const d=z._pe_geog_to_geog(z.getPointer(i),r,c,f,o);return d&&Ka(s,r,c,l),d}e.geogToGeog=t}(Z_||(Z_={})),function(e){function t(n,o,a,l,c,f,d,p){z.PeLineType.prototype.geodesic_coordinate(n,o,a,l,c,f,d,p)}function i(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.geodetic_coordinate(n,o,a,l,c,f,d,p,y)}function r(n,o,a,l,c,f,d,p,y,v){z.PeLineType.prototype.geodetic_distance(n,o,a,l,c,f,d,p,y,v)}function s(n,o,a,l,c,f,d,p,y){z.PeLineType.prototype.great_elliptic_distance(n,o,a,l,c,f,d,p,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=i,e.geodeticDistance=r,e.greatEllipticDistance=s}(K_||(K_={})),function(e){function t(o,a){return z.PeMath.prototype.phi_to_eta(o,a)}function i(o,a){return z.PeMath.prototype.eta_to_phi(o,a)}function r(o,a){return z.PeMath.prototype.phi_to_phig(o,a)}function s(o,a,l){return z.PeMath.prototype.q(o,a,l)}function n(o,a){return z.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=i,e.phiToPhig=r,e.q=s,e.q90=n}(X_||(X_={})),function(e){const t=(c,f,d,p,y,v)=>{let _,E;switch(z.ensureCache.prepare(),c){case"dd":_=z._pe_geog_to_dd,E=Ht.PE_DD_MAX;break;case"ddm":_=z._pe_geog_to_ddm,E=Ht.PE_DDM_MAX;break;case"dms":_=z._pe_geog_to_dms,E=Ht.PE_DMS_MAX}let S=0;f&&(S=z.getPointer(f));const A=pc(p),w=z.ensureFloat64(A),b=o0(d,E),M=_(S,d,w,y,z.ensureInt32(b));if(M)for(let O=0;O<d;O++)v[O]=z.UTF8ToString(b[O]);return M},i=(c,f,d,p,y)=>{let v;switch(z.ensureCache.prepare(),c){case"dd":v=z._pe_dd_to_geog;break;case"ddm":v=z._pe_ddm_to_geog;break;case"dms":v=z._pe_dms_to_geog}let _=0;f&&(_=z.getPointer(f));const E=p.map(b=>z.ensureString(b)),S=z.ensureInt32(E),A=z.ensureFloat64(new Array(2*d)),w=v(_,d,S,A);return w&&Ka(y,d,A),w};function r(c,f,d,p,y){return t("dms",c,f,d,p,y)}function s(c,f,d,p){return i("dms",c,f,d,p)}function n(c,f,d,p,y){return t("ddm",c,f,d,p,y)}function o(c,f,d,p){return i("ddm",c,f,d,p)}function a(c,f,d,p,y){return t("dd",c,f,d,p,y)}function l(c,f,d,p){return i("dd",c,f,d,p)}e.geogToDms=r,e.dmsToGeog=s,e.geogToDdm=n,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(Q_||(Q_={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=z.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=z.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=z.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(s,n,o,a,l,c,f){z.ensureCache.prepare();let d=0;s&&(d=z.getPointer(s));const p=pc(o),y=z.ensureFloat64(p),v=o0(n,Ht.PE_MGRS_MAX),_=z.ensureInt32(v),E=z._pe_geog_to_mgrs_extended(d,n,y,a,l,c,_);if(E)for(let S=0;S<n;S++)f[S]=z.UTF8ToString(v[S]);return E}function r(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_mgrs_to_geog_extended(c,n,d,a,p);return y&&Ka(l,n,p),y}e.init=t,e.geogToMgrsExtended=i,e.mgrsToGeogExtended=r}(lg||(lg={})),function(e){function t(r,s,n,o,a,l,c){z.ensureCache.prepare();let f=0;r&&(f=z.getPointer(r));const d=pc(n),p=z.ensureFloat64(d),y=o0(s,Ht.PE_MGRS_MAX),v=z.ensureInt32(y),_=z._pe_geog_to_usng(f,s,p,o,a,l,v);if(_)for(let E=0;E<s;E++)c[E]=z.UTF8ToString(y[E]);return _}function i(r,s,n,o){z.ensureCache.prepare();let a=0;r&&(a=z.getPointer(r));const l=n.map(p=>z.ensureString(p)),c=z.ensureInt32(l),f=z.ensureFloat64(new Array(2*s)),d=z._pe_usng_to_geog(a,s,c,f);return d&&Ka(o,s,f),d}e.geogToUsng=t,e.usngToGeog=i}(e2||(e2={})),function(e){function t(){e.PE_UTM_OPTS_NONE=z.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=z.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=z.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=pc(o),d=z.ensureFloat64(f),p=o0(n,Ht.PE_UTM_MAX),y=z.ensureInt32(p),v=z._pe_geog_to_utm(c,n,d,a,y);if(v)for(let _=0;_<n;_++)l[_]=z.UTF8ToString(p[_]);return v}function r(s,n,o,a,l){z.ensureCache.prepare();let c=0;s&&(c=z.getPointer(s));const f=o.map(v=>z.ensureString(v)),d=z.ensureInt32(f),p=z.ensureFloat64(new Array(2*n)),y=z._pe_utm_to_geog(c,n,d,a,p);return y&&Ka(l,n,p),y}e.init=t,e.geogToUtm=i,e.utmToGeog=r}(cg||(cg={})),function(e){const t=new Map;function i(){e.PE_PCSINFO_OPTION_NONE=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=z.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=z.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=z.PePCSInfo.prototype.PE_POLE_POINT}function r(s,n=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(s)&&(a=t.get(s),a[n]&&(o=a[n])),o||(o=z.PePCSInfo.prototype.generate(s,n),a||(a=[],t.set(s,a)),a[n]=o),o}e.init=i,e.generate=r}(ug||(ug={})),function(e){function t(){return z.PeVersion.prototype.version_string()}e.versionString=t}(t2||(t2={}));const m0e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return H_},get PeDefs(){return Ht},get PeDouble(){return TC},get PeFactory(){return Y_},get PeGCSExtent(){return AC},get PeGTTransformations(){return Z_},get PeGTlistExtended(){return ag},get PeGTlistExtendedEntry(){return J_},get PeLineType(){return K_},get PeMath(){return X_},get PeNotationDms(){return Q_},get PeNotationMgrs(){return lg},get PeNotationUsng(){return e2},get PeNotationUtm(){return cg},get PePCSInfo(){return ug},get PeVersion(){return t2},_init:MC,get _pe(){return z},isLoaded:pj,isSupported:mj,load:yj},Symbol.toStringTag,{value:"Module"}));var Ph;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Ph||(Ph={}));let u;const I={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10665:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(u=2e3;u<=2045;u++)I[u]=0;for(u=2056;u<=2065;u++)I[u]=0;for(u=2067;u<=2135;u++)I[u]=0;for(u=2137;u<=2154;u++)I[u]=0;for(u=2161;u<=2170;u++)I[u]=0;for(u=2172;u<=2193;u++)I[u]=0;for(u=2195;u<=2198;u++)I[u]=0;for(u=2200;u<=2203;u++)I[u]=0;for(u=2205;u<=2217;u++)I[u]=0;for(u=2222;u<=2224;u++)I[u]=1;for(u=2225;u<=2250;u++)I[u]=2;for(u=2251;u<=2253;u++)I[u]=1;for(u=2257;u<=2264;u++)I[u]=2;for(u=2274;u<=2279;u++)I[u]=2;for(u=2280;u<=2282;u++)I[u]=1;for(u=2283;u<=2289;u++)I[u]=2;for(u=2290;u<=2292;u++)I[u]=0;for(u=2308;u<=2313;u++)I[u]=0;for(u=2315;u<=2491;u++)I[u]=0;for(u=2494;u<=2866;u++)I[u]=0;for(u=2867;u<=2869;u++)I[u]=1;for(u=2870;u<=2888;u++)I[u]=2;for(u=2891;u<=2895;u++)I[u]=2;for(u=2896;u<=2898;u++)I[u]=1;for(u=2902;u<=2908;u++)I[u]=2;for(u=2915;u<=2920;u++)I[u]=2;for(u=2921;u<=2923;u++)I[u]=1;for(u=2924;u<=2930;u++)I[u]=2;for(u=2931;u<=2962;u++)I[u]=0;for(u=2964;u<=2968;u++)I[u]=2;for(u=2969;u<=2973;u++)I[u]=0;for(u=2975;u<=2991;u++)I[u]=0;for(u=2995;u<=3051;u++)I[u]=0;for(u=3054;u<=3079;u++)I[u]=0;for(u=3081;u<=3088;u++)I[u]=0;for(u=3092;u<=3101;u++)I[u]=0;for(u=3106;u<=3138;u++)I[u]=0;for(u=3146;u<=3151;u++)I[u]=0;for(u=3153;u<=3166;u++)I[u]=0;for(u=3168;u<=3172;u++)I[u]=0;for(u=3174;u<=3203;u++)I[u]=0;for(u=3294;u<=3358;u++)I[u]=0;for(u=3367;u<=3403;u++)I[u]=0;for(u=3408;u<=3416;u++)I[u]=0;for(u=3417;u<=3438;u++)I[u]=2;for(u=3441;u<=3446;u++)I[u]=2;for(u=3447;u<=3450;u++)I[u]=0;for(u=3451;u<=3459;u++)I[u]=2;for(u=3460;u<=3478;u++)I[u]=0;for(u=3554;u<=3559;u++)I[u]=0;for(u=3560;u<=3570;u++)I[u]=2;for(u=3571;u<=3581;u++)I[u]=0;for(u=3594;u<=3597;u++)I[u]=0;for(u=3601;u<=3604;u++)I[u]=0;for(u=3637;u<=3639;u++)I[u]=0;for(u=3665;u<=3667;u++)I[u]=0;for(u=3693;u<=3695;u++)I[u]=0;for(u=3701;u<=3727;u++)I[u]=0;for(u=3728;u<=3739;u++)I[u]=2;for(u=3740;u<=3751;u++)I[u]=0;for(u=3753;u<=3760;u++)I[u]=2;for(u=3761;u<=3773;u++)I[u]=0;for(u=3775;u<=3777;u++)I[u]=0;for(u=3779;u<=3781;u++)I[u]=0;for(u=3783;u<=3785;u++)I[u]=0;for(u=3788;u<=3791;u++)I[u]=0;for(u=3797;u<=3802;u++)I[u]=0;for(u=3814;u<=3816;u++)I[u]=0;for(u=3825;u<=3829;u++)I[u]=0;for(u=3832;u<=3841;u++)I[u]=0;for(u=3844;u<=3852;u++)I[u]=0;for(u=3873;u<=3885;u++)I[u]=0;for(u=3890;u<=3893;u++)I[u]=0;for(u=3907;u<=3912;u++)I[u]=0;for(u=3942;u<=3950;u++)I[u]=0;for(u=3968;u<=3970;u++)I[u]=0;for(u=3973;u<=3976;u++)I[u]=0;for(u=3986;u<=3989;u++)I[u]=0;for(u=3994;u<=3997;u++)I[u]=0;for(u=4048;u<=4051;u++)I[u]=0;for(u=4056;u<=4063;u++)I[u]=0;for(u=4093;u<=4096;u++)I[u]=0;for(u=4390;u<=4398;u++)I[u]=0;for(u=4399;u<=4413;u++)I[u]=2;for(u=4418;u<=4433;u++)I[u]=2;for(u=4455;u<=4457;u++)I[u]=2;for(u=4484;u<=4489;u++)I[u]=0;for(u=4491;u<=4554;u++)I[u]=0;for(u=4568;u<=4589;u++)I[u]=0;for(u=4652;u<=4656;u++)I[u]=0;for(u=4766;u<=4800;u++)I[u]=0;for(u=5014;u<=5016;u++)I[u]=0;for(u=5069;u<=5072;u++)I[u]=0;for(u=5105;u<=5130;u++)I[u]=0;for(u=5167;u<=5188;u++)I[u]=0;for(u=5253;u<=5259;u++)I[u]=0;for(u=5269;u<=5275;u++)I[u]=0;for(u=5292;u<=5311;u++)I[u]=0;for(u=5329;u<=5331;u++)I[u]=0;for(u=5343;u<=5349;u++)I[u]=0;for(u=5355;u<=5357;u++)I[u]=0;for(u=5387;u<=5389;u++)I[u]=0;for(u=5459;u<=5463;u++)I[u]=0;for(u=5479;u<=5482;u++)I[u]=0;for(u=5518;u<=5520;u++)I[u]=0;for(u=5530;u<=5539;u++)I[u]=0;for(u=5550;u<=5552;u++)I[u]=0;for(u=5562;u<=5583;u++)I[u]=0;for(u=5623;u<=5625;u++)I[u]=2;for(u=5631;u<=5639;u++)I[u]=0;for(u=5649;u<=5653;u++)I[u]=0;for(u=5663;u<=5680;u++)I[u]=0;for(u=5682;u<=5685;u++)I[u]=0;for(u=5875;u<=5877;u++)I[u]=0;for(u=5896;u<=5899;u++)I[u]=0;for(u=5921;u<=5940;u++)I[u]=0;for(u=6050;u<=6125;u++)I[u]=0;for(u=6244;u<=6275;u++)I[u]=0;for(u=6328;u<=6348;u++)I[u]=0;for(u=6350;u<=6356;u++)I[u]=0;for(u=6366;u<=6372;u++)I[u]=0;for(u=6381;u<=6387;u++)I[u]=0;for(u=6393;u<=6404;u++)I[u]=0;for(u=6480;u<=6483;u++)I[u]=0;for(u=6511;u<=6514;u++)I[u]=0;for(u=6579;u<=6581;u++)I[u]=0;for(u=6619;u<=6624;u++)I[u]=0;for(u=6625;u<=6627;u++)I[u]=2;for(u=6628;u<=6632;u++)I[u]=0;for(u=6634;u<=6637;u++)I[u]=0;for(u=6669;u<=6692;u++)I[u]=0;for(u=6707;u<=6709;u++)I[u]=0;for(u=6720;u<=6723;u++)I[u]=0;for(u=6732;u<=6738;u++)I[u]=0;for(u=6931;u<=6933;u++)I[u]=0;for(u=6956;u<=6959;u++)I[u]=0;for(u=7005;u<=7007;u++)I[u]=0;for(u=7057;u<=7070;u++)I[u]=2;for(u=7074;u<=7082;u++)I[u]=0;for(u=7109;u<=7118;u++)I[u]=0;for(u=7119;u<=7127;u++)I[u]=1;for(u=7374;u<=7376;u++)I[u]=0;for(u=7528;u<=7586;u++)I[u]=0;for(u=7587;u<=7645;u++)I[u]=2;for(u=7692;u<=7696;u++)I[u]=0;for(u=7755;u<=7787;u++)I[u]=0;for(u=7791;u<=7795;u++)I[u]=0;for(u=7799;u<=7801;u++)I[u]=0;for(u=7803;u<=7805;u++)I[u]=0;for(u=7825;u<=7831;u++)I[u]=0;for(u=7845;u<=7859;u++)I[u]=0;for(u=8013;u<=8032;u++)I[u]=0;for(u=8065;u<=8068;u++)I[u]=1;for(u=8518;u<=8529;u++)I[u]=2;for(u=8533;u<=8536;u++)I[u]=2;for(u=8538;u<=8540;u++)I[u]=2;for(u=8677;u<=8679;u++)I[u]=0;for(u=8836;u<=8840;u++)I[u]=0;for(u=8857;u<=8859;u++)I[u]=0;for(u=8908;u<=8910;u++)I[u]=0;for(u=9154;u<=9159;u++)I[u]=0;for(u=9205;u<=9218;u++)I[u]=0;for(u=9271;u<=9273;u++)I[u]=0;for(u=9295;u<=9297;u++)I[u]=0;for(u=9356;u<=9360;u++)I[u]=0;for(u=9404;u<=9407;u++)I[u]=0;for(u=9476;u<=9482;u++)I[u]=0;for(u=9487;u<=9494;u++)I[u]=0;for(u=9697;u<=9699;u++)I[u]=0;for(u=9821;u<=9865;u++)I[u]=0;for(u=10285;u<=10291;u++)I[u]=0;for(u=10314;u<=10317;u++)I[u]=0;for(u=10448;u<=10465;u++)I[u]=0;for(u=10731;u<=10733;u++)I[u]=0;for(u=11114;u<=11118;u++)I[u]=0;for(u=20004;u<=20032;u++)I[u]=0;for(u=20047;u<=20049;u++)I[u]=0;for(u=20062;u<=20092;u++)I[u]=0;for(u=20135;u<=20138;u++)I[u]=0;for(u=20248;u<=20258;u++)I[u]=0;for(u=20348;u<=20358;u++)I[u]=0;for(u=20436;u<=20440;u++)I[u]=0;for(u=20822;u<=20824;u++)I[u]=0;for(u=20904;u<=20932;u++)I[u]=0;for(u=20934;u<=20936;u++)I[u]=0;for(u=21004;u<=21032;u++)I[u]=0;for(u=21035;u<=21037;u++)I[u]=0;for(u=21095;u<=21097;u++)I[u]=0;for(u=21148;u<=21150;u++)I[u]=0;for(u=21207;u<=21264;u++)I[u]=0;for(u=21307;u<=21364;u++)I[u]=0;for(u=21413;u<=21423;u++)I[u]=0;for(u=21453;u<=21463;u++)I[u]=0;for(u=21473;u<=21483;u++)I[u]=0;for(u=21780;u<=21782;u++)I[u]=0;for(u=21891;u<=21894;u++)I[u]=0;for(u=21896;u<=21899;u++)I[u]=0;for(u=22171;u<=22177;u++)I[u]=0;for(u=22181;u<=22187;u++)I[u]=0;for(u=22191;u<=22197;u++)I[u]=0;for(u=22207;u<=22222;u++)I[u]=0;for(u=22229;u<=22232;u++)I[u]=0;for(u=22234;u<=22236;u++)I[u]=0;for(u=22243;u<=22250;u++)I[u]=0;for(u=22262;u<=22265;u++)I[u]=0;for(u=22307;u<=22322;u++)I[u]=0;for(u=22348;u<=22357;u++)I[u]=0;for(u=22407;u<=22422;u++)I[u]=0;for(u=22462;u<=22465;u++)I[u]=0;for(u=22521;u<=22525;u++)I[u]=0;for(u=22607;u<=22622;u++)I[u]=0;for(u=22641;u<=22646;u++)I[u]=0;for(u=22648;u<=22657;u++)I[u]=0;for(u=22707;u<=22722;u++)I[u]=0;for(u=22762;u<=22765;u++)I[u]=0;for(u=22807;u<=22822;u++)I[u]=0;for(u=22991;u<=22994;u++)I[u]=0;for(u=23028;u<=23038;u++)I[u]=0;for(u=23301;u<=23333;u++)I[u]=2;for(u=23830;u<=23853;u++)I[u]=0;for(u=23866;u<=23872;u++)I[u]=0;for(u=23877;u<=23884;u++)I[u]=0;for(u=23886;u<=23894;u++)I[u]=0;for(u=23946;u<=23948;u++)I[u]=0;for(u=24311;u<=24313;u++)I[u]=0;for(u=24342;u<=24347;u++)I[u]=0;for(u=24370;u<=24374;u++)I[u]=10;for(u=24375;u<=24381;u++)I[u]=0;for(u=24718;u<=24721;u++)I[u]=0;for(u=24817;u<=24821;u++)I[u]=0;for(u=24877;u<=24882;u++)I[u]=0;for(u=24891;u<=24893;u++)I[u]=0;for(u=25391;u<=25395;u++)I[u]=0;for(u=25828;u<=25838;u++)I[u]=0;for(u=26191;u<=26195;u++)I[u]=0;for(u=26391;u<=26393;u++)I[u]=0;for(u=26701;u<=26722;u++)I[u]=0;for(u=26729;u<=26799;u++)I[u]=2;for(u=26801;u<=26803;u++)I[u]=2;for(u=26811;u<=26813;u++)I[u]=2;for(u=26847;u<=26870;u++)I[u]=2;for(u=26891;u<=26899;u++)I[u]=0;for(u=26901;u<=26923;u++)I[u]=0;for(u=26929;u<=26946;u++)I[u]=0;for(u=26948;u<=26998;u++)I[u]=0;for(u=27037;u<=27040;u++)I[u]=0;for(u=27205;u<=27232;u++)I[u]=0;for(u=27258;u<=27260;u++)I[u]=0;for(u=27391;u<=27398;u++)I[u]=0;for(u=27561;u<=27564;u++)I[u]=0;for(u=27571;u<=27574;u++)I[u]=0;for(u=27581;u<=27584;u++)I[u]=0;for(u=27591;u<=27594;u++)I[u]=0;for(u=27700;u<=27707;u++)I[u]=0;for(u=28191;u<=28193;u++)I[u]=0;for(u=28348;u<=28358;u++)I[u]=0;for(u=28402;u<=28432;u++)I[u]=0;for(u=28462;u<=28492;u++)I[u]=0;for(u=29118;u<=29122;u++)I[u]=0;for(u=29168;u<=29172;u++)I[u]=0;for(u=29177;u<=29185;u++)I[u]=0;for(u=29187;u<=29195;u++)I[u]=0;for(u=29900;u<=29903;u++)I[u]=0;for(u=30161;u<=30179;u++)I[u]=0;for(u=30491;u<=30494;u++)I[u]=0;for(u=30729;u<=30732;u++)I[u]=0;for(u=31251;u<=31259;u++)I[u]=0;for(u=31265;u<=31268;u++)I[u]=0;for(u=31275;u<=31279;u++)I[u]=0;for(u=31281;u<=31297;u++)I[u]=0;for(u=31461;u<=31469;u++)I[u]=0;for(u=31491;u<=31495;u++)I[u]=0;for(u=31917;u<=31922;u++)I[u]=0;for(u=31965;u<=32e3;u++)I[u]=0;for(u=32001;u<=32003;u++)I[u]=2;for(u=32005;u<=32031;u++)I[u]=2;for(u=32033;u<=32060;u++)I[u]=2;for(u=32064;u<=32067;u++)I[u]=2;for(u=32074;u<=32077;u++)I[u]=2;for(u=32081;u<=32086;u++)I[u]=0;for(u=32107;u<=32130;u++)I[u]=0;for(u=32133;u<=32159;u++)I[u]=0;for(u=32164;u<=32167;u++)I[u]=2;for(u=32180;u<=32199;u++)I[u]=0;for(u=32201;u<=32260;u++)I[u]=0;for(u=32301;u<=32360;u++)I[u]=0;for(u=32401;u<=32460;u++)I[u]=0;for(u=32501;u<=32560;u++)I[u]=0;for(u=32601;u<=32662;u++)I[u]=0;for(u=32664;u<=32667;u++)I[u]=2;for(u=32701;u<=32761;u++)I[u]=0;for(u=53001;u<=53004;u++)I[u]=0;for(u=53008;u<=53019;u++)I[u]=0;for(u=53021;u<=53032;u++)I[u]=0;for(u=53034;u<=53037;u++)I[u]=0;for(u=53042;u<=53046;u++)I[u]=0;for(u=53074;u<=53080;u++)I[u]=0;for(u=54001;u<=54004;u++)I[u]=0;for(u=54008;u<=54019;u++)I[u]=0;for(u=54021;u<=54032;u++)I[u]=0;for(u=54034;u<=54037;u++)I[u]=0;for(u=54042;u<=54046;u++)I[u]=0;for(u=54048;u<=54053;u++)I[u]=0;for(u=54074;u<=54080;u++)I[u]=0;for(u=54098;u<=54101;u++)I[u]=0;for(u=102001;u<=102040;u++)I[u]=0;for(u=102042;u<=102063;u++)I[u]=0;for(u=102065;u<=102067;u++)I[u]=0;for(u=102070;u<=102117;u++)I[u]=0;for(u=102122;u<=102216;u++)I[u]=0;for(u=102221;u<=102377;u++)I[u]=0;for(u=102382;u<=102388;u++)I[u]=0;for(u=102389;u<=102398;u++)I[u]=2;for(u=102399;u<=102444;u++)I[u]=0;for(u=102445;u<=102447;u++)I[u]=2;for(u=102448;u<=102458;u++)I[u]=0;for(u=102459;u<=102468;u++)I[u]=2;for(u=102469;u<=102499;u++)I[u]=0;for(u=102500;u<=102519;u++)I[u]=1;for(u=102520;u<=102524;u++)I[u]=0;for(u=102525;u<=102529;u++)I[u]=2;for(u=102530;u<=102588;u++)I[u]=0;for(u=102590;u<=102598;u++)I[u]=0;for(u=102601;u<=102603;u++)I[u]=0;for(u=102605;u<=102628;u++)I[u]=0;for(u=102629;u<=102646;u++)I[u]=2;for(u=102648;u<=102700;u++)I[u]=2;for(u=102701;u<=102703;u++)I[u]=0;for(u=102707;u<=102730;u++)I[u]=2;for(u=102733;u<=102758;u++)I[u]=2;for(u=102767;u<=102900;u++)I[u]=0;for(u=102901;u<=102933;u++)I[u]=2;for(u=102934;u<=102950;u++)I[u]=13;for(u=102951;u<=102963;u++)I[u]=0;for(u=102965;u<=102969;u++)I[u]=0;for(u=102971;u<=102973;u++)I[u]=0;for(u=102975;u<=102989;u++)I[u]=0;for(u=102990;u<=102992;u++)I[u]=1;for(u=102997;u<=103002;u++)I[u]=0;for(u=103003;u<=103008;u++)I[u]=2;for(u=103009;u<=103011;u++)I[u]=0;for(u=103012;u<=103014;u++)I[u]=2;for(u=103019;u<=103021;u++)I[u]=0;for(u=103022;u<=103024;u++)I[u]=2;for(u=103029;u<=103031;u++)I[u]=0;for(u=103032;u<=103034;u++)I[u]=2;for(u=103065;u<=103068;u++)I[u]=0;for(u=103074;u<=103076;u++)I[u]=0;for(u=103077;u<=103079;u++)I[u]=1;for(u=103080;u<=103082;u++)I[u]=0;for(u=103083;u<=103085;u++)I[u]=2;for(u=103090;u<=103093;u++)I[u]=0;for(u=103097;u<=103099;u++)I[u]=0;for(u=103100;u<=103102;u++)I[u]=2;for(u=103107;u<=103109;u++)I[u]=0;for(u=103110;u<=103112;u++)I[u]=2;for(u=103113;u<=103116;u++)I[u]=0;for(u=103117;u<=103120;u++)I[u]=2;for(u=103153;u<=103157;u++)I[u]=0;for(u=103158;u<=103162;u++)I[u]=2;for(u=103163;u<=103165;u++)I[u]=0;for(u=103166;u<=103168;u++)I[u]=1;for(u=103169;u<=103171;u++)I[u]=2;for(u=103186;u<=103188;u++)I[u]=0;for(u=103189;u<=103191;u++)I[u]=2;for(u=103192;u<=103195;u++)I[u]=0;for(u=103196;u<=103199;u++)I[u]=2;for(u=103200;u<=103224;u++)I[u]=0;for(u=103225;u<=103227;u++)I[u]=1;for(u=103232;u<=103237;u++)I[u]=0;for(u=103238;u<=103243;u++)I[u]=2;for(u=103244;u<=103246;u++)I[u]=0;for(u=103247;u<=103249;u++)I[u]=2;for(u=103254;u<=103256;u++)I[u]=0;for(u=103257;u<=103259;u++)I[u]=2;for(u=103264;u<=103266;u++)I[u]=0;for(u=103267;u<=103269;u++)I[u]=2;for(u=103300;u<=103375;u++)I[u]=0;for(u=103381;u<=103383;u++)I[u]=0;for(u=103384;u<=103386;u++)I[u]=1;for(u=103387;u<=103389;u++)I[u]=0;for(u=103390;u<=103392;u++)I[u]=2;for(u=103397;u<=103399;u++)I[u]=0;for(u=103400;u<=103471;u++)I[u]=2;for(u=103476;u<=103478;u++)I[u]=0;for(u=103479;u<=103481;u++)I[u]=2;for(u=103486;u<=103488;u++)I[u]=0;for(u=103489;u<=103491;u++)I[u]=2;for(u=103492;u<=103495;u++)I[u]=0;for(u=103496;u<=103499;u++)I[u]=2;for(u=103528;u<=103543;u++)I[u]=0;for(u=103544;u<=103548;u++)I[u]=2;for(u=103549;u<=103551;u++)I[u]=0;for(u=103552;u<=103554;u++)I[u]=1;for(u=103555;u<=103557;u++)I[u]=2;for(u=103558;u<=103560;u++)I[u]=0;for(u=103571;u<=103573;u++)I[u]=0;for(u=103574;u<=103576;u++)I[u]=2;for(u=103577;u<=103580;u++)I[u]=0;for(u=103581;u<=103583;u++)I[u]=2;for(u=103595;u<=103694;u++)I[u]=0;for(u=103696;u<=103699;u++)I[u]=0;for(u=103700;u<=103793;u++)I[u]=2;for(u=103794;u<=103890;u++)I[u]=0;for(u=103891;u<=103896;u++)I[u]=2;for(u=103900;u<=103971;u++)I[u]=2;for(u=103972;u<=103977;u++)I[u]=0;for(u=112e3;u<=112101;u++)I[u]=0;const OC=[102100,102113,3857,3785,900913],gj=[104905,104971],vj=[4326,...OC,...gj],Sp=[-20037508342788905e-9,20037508342788905e-9],i2=[-20037508342787e-6,20037508342787e-6],yb={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Sp,origin:i2,dx:1e-5},IC={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Sp,origin:i2,dx:1e-5},102100:yb,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Sp,origin:i2,dx:1e-5},3857:yb,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:yb};function Rc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const i=e.wkid,r=t.wkid;if(i!=null||r!=null){if(i===r||Dc(e)&&Dc(t))return!0;const o=e.latestWkid;if(o!=null&&r===o)return!0;const a=t.latestWkid;return a!=null&&i===a}let s,n;return e.wkt2&&t.wkt2?(s=e.wkt2,n=t.wkt2):e.wkt&&t.wkt&&(s=e.wkt,n=t.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function Rd(e){const t=e?.wkid;return t!=null&&t>=2e3&&IC[t]||null}function y0e(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function mm(e){if(!$C(e))return!1;const{wkid:t}=e;if(t)return I[t]==null;const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function bj(e){return!(_j(e)||wj(e))}function hg(e){return e?.wkid===4326}function g0e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function v0e(e){return e?.wkid===Ph.CGCS2000}function Dc(e){const t=e?.wkid;return t!=null&&t>=2e3&&OC.includes(t)}function b0e(e){return e?.wkid===32662}function B1(e){return e===Ph.GCSMARS2000||e===Ph.GCSMARS2000_SPHERE}function _j(e){return B1(e?.wkid)}function V1(e){return e===Ph.GCSMOON2000}function wj(e){return V1(e?.wkid)}function xj(e){const t=e?.wkid;return t!=null&&t>=2e3&&vj.includes(t)}function $C(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const CC={wkid:4326,wkt:Gx(IC[4326].wkTemplate,{Central_Meridian:"0.0"})},NC={wkid:102100,latestWkid:3857},Sj={wkid:32662};function yS(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Ej=yS(Tn),PC=yS(bp),LC=yS(R1),_0e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Tn.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Tj=PC.wkt.toUpperCase(),Aj=LC.wkt.toUpperCase();function Mj(e){if(e!=null&&$C(e)){const t=e.wkid,i=e.wkt2??e.wkt;if(B1(t))return bp;const r=i?.toUpperCase();if(i&&r===Tj)return bp;if(V1(t)||r&&r===Aj)return R1}return Tn}function w0e(e){return B1(e)?bp:V1(e)?R1:Tn}function Oj(e){return Rc(e,Ej)}function x0e(e){return Oj(e)||Rc(e,PC)||Rc(e,LC)}const S0e=39.37,Ij=Tn.radius*Math.PI/200,kC=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Lh=I,RC=/UNIT\[([^\]]+)]/i,$j=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),Cj=Cn()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Xs=e=>e*e,va=e=>e*e*e,Ep={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Xs(.001)},"square-centimeters":{inBaseUnits:Xs(.01)},"square-decimeters":{inBaseUnits:Xs(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Xs(1e3)},"square-inches":{inBaseUnits:Xs(.0254)},"square-feet":{inBaseUnits:Xs(.3048)},"square-yards":{inBaseUnits:Xs(.9144)},"square-miles":{inBaseUnits:Xs(1609.344)},"square-nautical-miles":{inBaseUnits:Xs(1852)},"square-us-feet":{inBaseUnits:Xs(1200/3937)},acres:{inBaseUnits:.0015625*Xs(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*va(.001)},"cubic-centimeters":{inBaseUnits:1e3*va(.01)},"cubic-decimeters":{inBaseUnits:1e3*va(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*va(1e3)},"cubic-inches":{inBaseUnits:1e3*va(.0254)},"cubic-feet":{inBaseUnits:1e3*va(.3048)},"cubic-yards":{inBaseUnits:1e3*va(.9144)},"cubic-miles":{inBaseUnits:1e3*va(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Nj=(()=>{const e={};for(const t in Ep)for(const i in Ep[t].units)e[i]=t;return e})();function Pj(e,t,i){return e*Ep[i].units[t].inBaseUnits}function Lj(e,t,i){return e/Ep[i].units[t].inBaseUnits}const DC=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],kj=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function r2(e){const t=Nj[e];if(!t)throw new Error("unknown type");return t}function dA(e,t=null){return t=t||r2(e),Ep[t].baseUnit===e}function An(e,t,i){if(t===i)return e;const r=r2(t);if(r!==r2(i))throw new Error("incompatible units");const s=dA(t,r)?e:Pj(e,t,r);return dA(i,r)?s:Lj(s,i,r)}function E0e(e,t,i,r=!1){if(!r&&mm(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=eu(t);return s!==i&&(e=s?An(e,s,i):An(e*=gf(t),"meters",i)),e}function T0e(e,t,i,r=!1){if(!r&&mm(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=eu(i);return t!==s&&(e=s?An(e,t,s):An(e,t,"meters")/gf(i)),e}function Rj(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function A0e(e){return Rj(e)}function M0e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function O0e(e,t){const i=An(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function I0e(e,t){const i=An(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function $0e(e,t){const i=An(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function C0e(e,t){const i=An(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function N0e(e,t){const i=An(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function P0e(e,t){const i=An(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function L0e(e,t,i){return An(e,t,"meters")/(i*Math.PI/180)}function FC(e){return Cj.fromJSON(e.toLowerCase())||null}function k0e(e){if(e!=null&&!bj(e))return 1;const t=gf(e);return t>1e5?1:t}function Dj(e){return gf(e)>=Mj(e).metersPerDegree?"meters":eu(e)}function gf(e,t=Tn.metersPerDegree){return Fj(e,!0)??t}function Fj(e,t=!1){const i=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let s=null;if(i){if(B1(i))return bp.metersPerDegree;if(V1(i))return R1.metersPerDegree;s=Lh.values[Lh[i]],!s&&t&&$j.has(i)&&(s=Ij)}else r&&(BC(r)?s=pA(kC.exec(r),s):jC(r)&&(s=pA(RC.exec(r),s)));return s}function R0e(e){return mm(e)?1:gf(e)}function pA(e,t){return e?.[1]?UC(e[1]):t}function UC(e){return parseFloat(e.split(",")[1])}function eu(e){const t=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(t)r=Lh.units[Lh[t]];else if(i){const s=BC(i)?kC:jC(i)?RC:null;if(s){const n=s.exec(i);n?.[1]&&(r=jj(n[1]))}}return r!=null?FC(r):null}function D0e(e){const t=eu(e);return t!=null&&DC.includes(t)?t:null}function F0e(e){const t=Dj(e);return t!=null&&DC.includes(t)?t:null}function U0e(e){const t=eu(e);return t==null?null:kj.get(t)}function jC(e){return/^GEOCCS/i.test(e)}function BC(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Uj=1e-7;function jj(e){let i=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!i||!FC(i)){const r=UC(e);i=null;const s=Lh.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<Uj){i=Lh.units[n];break}}return i}function j0e(e){const t=eu(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const Bj={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Vj={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Gj={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},B0e=Cn()(Bj),V0e=Cn()(Vj),G0e=Cn()(Gj);function Jt(e,t,i){let r,s;return t===void 0?(s=e,r=[void 0]):typeof t!="string"?(s=e,r=[void 0],i=t):(s=t,r=Array.isArray(e)?e:[e]),(n,o)=>{const a=n.constructor.prototype;for(const l of r){const c=R$(n,l,s);c.write&&typeof c.write=="object"||(c.write={}),i&&(c.write.target=i),c.write.writer=a[o]}}}var jn;let _t=jn=class extends et{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return jn.WebMercator;if(e?.wkid===4326)return jn.WGS84;const t=new jn;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return hg(this)}get isWebMercator(){return Dc(this)}get isGeographic(){return mm(this)}get isWrappable(){return xj(this)}get metersPerUnit(){return gf(this)}get unit(){return eu(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===jn.WGS84)return new jn(CC);if(this===jn.WebMercator)return new jn(NC);const e=new jn;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return t==null||r?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):i?s.id===t&&s.referenceServiceName===i:s.id===t}return Rc(this,e)}toJSON(e){return this.write(void 0,e)}};_t.GCS_NAD_1927=null,_t.WGS84=null,_t.WebMercator=null,_t.PlateCarree=null,g([T({readOnly:!0})],_t.prototype,"isWGS84",null),g([T({readOnly:!0})],_t.prototype,"isWebMercator",null),g([T({readOnly:!0})],_t.prototype,"isGeographic",null),g([T({readOnly:!0})],_t.prototype,"isWrappable",null),g([T({type:$i,json:{write:!0}})],_t.prototype,"latestWkid",void 0),g([T({readOnly:!0})],_t.prototype,"metersPerUnit",null),g([T({readOnly:!0})],_t.prototype,"unit",null),g([T({type:$i,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],_t.prototype,"wkid",void 0),g([T({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],_t.prototype,"wkt",void 0),g([Jt("wkt"),Jt("web-scene","wkt")],_t.prototype,"writeWkt",null),g([T({type:String,json:{write:!1}})],_t.prototype,"wkt2",void 0),g([T({type:$i,json:{write:!0}})],_t.prototype,"vcsWkid",void 0),g([T({type:$i,json:{write:!0}})],_t.prototype,"latestVcsWkid",void 0),g([T()],_t.prototype,"imageCoordinateSystem",void 0),_t=jn=g([ie("esri.geometry.SpatialReference")],_t),_t.prototype.toJSON.isDefaultToJSON=!0,_t.GCS_NAD_1927=Qi.freeze(new _t({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),_t.WGS84=Qi.freeze(new _t(CC)),_t.WebMercator=Qi.freeze(new _t(NC)),_t.PlateCarree=Qi.freeze(new _t(Sj));const qi=_t;let Bn=class extends et{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=qi.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,i){if(t instanceof qi)return t;if(t!=null){const r=new qi;return r.read(t,i),r}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,i){this.cache[t]=i}};g([T()],Bn.prototype,"type",void 0),g([T({readOnly:!0})],Bn.prototype,"cache",null),g([T({readOnly:!0})],Bn.prototype,"extent",null),g([T({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bn.prototype,"hasM",void 0),g([T({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],Bn.prototype,"hasZ",void 0),g([T({type:qi,json:{write:!0},value:qi.WGS84})],Bn.prototype,"spatialReference",void 0),g([Xi("spatialReference")],Bn.prototype,"readSpatialReference",null),Bn=g([ie("esri.geometry.Geometry")],Bn);const tu=Bn,zj=Object.prototype.toString;function qj(e){const t="__accessorMetadata__"in e?En(e):e;return function(...i){if(i.push(t),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Wj.apply(this,i)}}function Wj(e,t,i,r){P1(e,t).cast=r}function Hj(e){return(t,i)=>{P1(t,e).cast=t[i]}}function ym(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&zj.call(e[0])==="[object Function]"?qj(e[0]):e.length===1&&typeof e[0]=="string"?Hj(e[0]):void 0}function Tp(e){if(e&&typeof e=="object"&&"type"in e&&e.type==="mesh")throw new ft("Mesh geometries are not supported for this operation")}function q0e(e){e.forEach(Tp)}const Yj=57.29577951308232,Jj=.017453292519943;function mA(e){return e*Yj}function yA(e){return e*Jj}function W0e(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Tn.radius))}function s2(e){return e.wkid!=null||e.wkt!=null}const gb=[0,0];function fg(e,t,i,r,s){const n=e,o=s;if(o.spatialReference=i,"x"in n&&"x"in o)[o.x,o.y]=t(n.x,n.y,gb,r);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=t(n.xmin,n.ymin,gb,r),[o.xmax,o.ymax]=t(n.xmax,n.ymax,gb,r);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const a="paths"in n?n.paths:n.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],r)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in n&&"points"in o){const a=n.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],r),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return s}function iy(e,t){const i=e&&(s2(e)?e:e.spatialReference),r=t&&(s2(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!i||!r)&&(!!Rc(r,i)||Dc(r)&&hg(i)||Dc(i)&&hg(r))}function VC(e,t){if(e==null)return null;const i=e.spatialReference,r=t&&(s2(t)?t:t.spatialReference);return iy(i,r)?Rc(i,r)?ge(e):Dc(r)?fg(e,Ju,qi.WebMercator,!1,ge(e)):hg(r)?fg(e,G1,qi.WGS84,!1,ge(e)):null:null}function Ju(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=yA(t);return i[0]=yA(e)*Tn.radius,i[1]=Tn.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function G1(e,t,i=[0,0],r=!1){if(e===Sp[0])i[0]=-180;else if(e===Sp[1])i[0]=180;else{const s=mA(e/Tn.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=mA(Math.PI/2-2*Math.atan(Math.exp(-t/Tn.radius))),i}function vb(e,t=!1,i=ge(e)){return Tp(e),Tp(i),fg(e,Ju,qi.WebMercator,t,i)}function a0(e,t=!1,i=ge(e)){return Tp(e),Tp(i),fg(e,G1,qi.WGS84,t,i)}function Zj(e,t){const i=e.x-t.x,r=e.y-t.y,s=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(i*i+r*r+s*s)}function Kj(e){return GC(e,zC)?.[0]??null}function Xj(e){return GC(e,zC)?.[1]??null}function GC({x:e,y:t,spatialReference:i},r=[0,0]){if(i){if(Dc(i))return G1(e,t,r);if(mm(i))return r[0]=e,r[1]=t,r}return null}const zC=[0,0];var ry;const bb=[0,0];function gA(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ar=ry=class extends tu{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",Qi.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,s){let n;if(Array.isArray(e))n=e,s=t,e=n[0],t=n[1],i=n[2],r=n[3];else if(e&&typeof e=="object"){if(n=e,e=n.x!=null?n.x:n.longitude,t=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new qi(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)Lt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)Lt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&s?.isWebMercator){const a=Ju(n.longitude,n.latitude,bb);e=a[0],t=a[1]}}}else gA(i)?(s=i,i=null):gA(r)&&(s=r,r=null);const o={x:e,y:t};return o.x==null&&o.y!=null?Lt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Lt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return Xj(this)}set latitude(e){const{spatialReference:t,x:i}=this;e!=null&&t&&(t.isWebMercator?this._set("y",Ju(i,e,bb)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return Kj(this)}set longitude(e){const{y:t,spatialReference:i}=this;e!=null&&i&&(i.isWebMercator?this._set("x",Ju(e,t,bb)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new ry;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return ry.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:i,z:r,m:s,spatialReference:n}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:f}=e;if(!n.equals(f))if(n.isWebMercator&&f.isWGS84)[l,c]=Ju(l,c),f=n;else{if(!n.isWGS84||!f.isWebMercator)return!1;[l,c]=G1(l,c),f=n}return t===l&&i===c&&r===o&&s===a&&n.wkid===f.wkid}offset(e,t,i){return this.x+=e,this.y+=t,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=Rd(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,s=2*r;let n;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s),this._set("x",t),this}distance(e){return Zj(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};g([T({readOnly:!0})],Ar.prototype,"cache",null),g([T({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ar.prototype,"hasM",null),g([T({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ar.prototype,"hasZ",null),g([T({type:Number})],Ar.prototype,"latitude",null),g([T({type:Number})],Ar.prototype,"longitude",null),g([T({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),ym(e=>isNaN(e)?e:C1(e))],Ar.prototype,"x",void 0),g([Jt("x")],Ar.prototype,"writeX",null),g([Xi("x")],Ar.prototype,"readX",null),g([T({type:Number,json:{write:!0}})],Ar.prototype,"y",void 0),g([T({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ar.prototype,"z",void 0),g([T({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ar.prototype,"m",void 0),Ar=ry=g([ie("esri.geometry.Point")],Ar),Ar.prototype.toJSON.isDefaultToJSON=!0;const Ii=Ar,_b=[0,0];function qC(e,t){return t!=null&&Ir(e,t.x,t.y,t.z)}function H0e(e,t){if(!t.points?.length)return!1;for(const i of t.points)if(!kh(e,i))return!1;return!0}function Qj(e,t){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Ir(e,i,r,s)&&Ir(e,i,o,s)&&Ir(e,n,o,s)&&Ir(e,n,r,s)&&Ir(e,i,r,a)&&Ir(e,i,o,a)&&Ir(e,n,o,a)&&Ir(e,n,r,a):Ir(e,i,r)&&Ir(e,i,o)&&Ir(e,n,o)&&Ir(e,n,r)}function kh(e,t){return Ir(e,t[0],t[1])}function eB(e,t){return Ir(e,t[0],t[1],t[2])}function Ir(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(r==null||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function tB(e,t){return _b[1]=t.y,_b[0]=t.x,iB(e,_b)}function iB(e,t){return WC(e.rings,t)}function WC(e,t){if(!e)return!1;if(rB(e))return vA(!1,e,t);let i=!1;for(let r=0,s=e.length;r<s;r++)i=vA(i,e[r],t);return i}function rB(e){return!Array.isArray(e[0][0])}function vA(e,t,i){const[r,s]=i;let n=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=t[a],[d,p]=t[o];(f<s&&p>=s||p<s&&f>=s)&&c+(s-f)/(p-f)*(d-c)<r&&(n=!n)}return n}function sB(e,t){return qC(e,t)}function nB(e,t){const i=e.hasZ&&t.hasZ;let r,s,n;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(s=t.ymin,e.ymax<s)return!1}else if(s=e.ymin,t.ymax<s)return!1;if(i&&t.hasZ){if(e.zmin<=t.zmin){if(n=t.zmin,e.zmax<n)return!1}else if(n=e.zmin,t.zmax<n)return!1}return!0}function oB(e,t){const{points:i,hasZ:r}=t,s=r?eB:kh;for(const n of i)if(s(e,n))return!0;return!1}const Fc=[0,0],Uc=[0,0],jc=[0,0],Bc=[0,0],aB=[Fc,Uc,jc,Bc],HC=[[jc,Fc],[Fc,Uc],[Uc,Bc],[Bc,jc]];function lB(e,t){return cB(e,t.rings)}function cB(e,t){Fc[0]=e.xmin,Fc[1]=e.ymax,Uc[0]=e.xmax,Uc[1]=e.ymax,jc[0]=e.xmin,jc[1]=e.ymin,Bc[0]=e.xmax,Bc[1]=e.ymin;for(const i of aB)if(WC(t,i))return!0;for(const i of t){if(!i.length)continue;let r=i[0];if(kh(e,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(kh(e,n)||YC(r,n,HC))return!0;r=n}}return!1}function uB(e,t){Fc[0]=e.xmin,Fc[1]=e.ymax,Uc[0]=e.xmax,Uc[1]=e.ymax,jc[0]=e.xmin,jc[1]=e.ymin,Bc[0]=e.xmax,Bc[1]=e.ymin;const i=t.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(kh(e,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(kh(e,o)||YC(s,o,HC))return!0;s=o}}return!1}const Zi=[0,0];function hB(e){for(let t=0;t<e.length;t++){const i=e[t];for(let s=0;s<i.length-1;s++){const n=i[s],o=i[s+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],f=e[a][l+1];if(n2(n,o,c,f,Zi)&&!(Zi[0]===n[0]&&Zi[1]===n[1]||Zi[0]===c[0]&&Zi[1]===c[1]||Zi[0]===o[0]&&Zi[1]===o[1]||Zi[0]===f[0]&&Zi[1]===f[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const o=i[s],a=i[s+1];for(let l=s+2;l<n;l++){const c=i[l],f=i[l+1];if(n2(o,a,c,f,Zi)&&!(Zi[0]===o[0]&&Zi[1]===o[1]||Zi[0]===c[0]&&Zi[1]===c[1]||Zi[0]===a[0]&&Zi[1]===a[1]||Zi[0]===f[0]&&Zi[1]===f[1]))return!0}}}return!1}function YC(e,t,i){for(let r=0;r<i.length;r++)if(n2(e,t,i[r][0],i[r][1]))return!0;return!1}function n2(e,t,i,r,s){const[n,o]=e,[a,l]=t,[c,f]=i,[d,p]=r,y=d-c,v=n-c,_=a-n,E=p-f,S=o-f,A=l-o,w=E*_-y*A;if(w===0)return!1;const b=(y*S-E*v)/w,M=(_*S-A*v)/w;return b>=0&&b<=1&&M>=0&&M<=1&&(s&&(s[0]=n+b*(a-n),s[1]=o+b*(l-o)),!0)}function fB(e){switch(e){case"esriGeometryEnvelope":case"extent":return nB;case"esriGeometryMultipoint":case"multipoint":return oB;case"esriGeometryPoint":case"point":return sB;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return lB;case"esriGeometryPolyline":case"polyline":return uB}}var rn;function dB(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function ba(e,t,i){return t==null?i:i==null?t:e(t,i)}let Ui=rn=class extends tu{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,s){return dB(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?qi.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:s??qi.WGS84}}static fromPoint(e){return new rn({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Ii({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new rn;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&iy(t,i)&&(e=t.isWebMercator?vb(e):a0(e,!0)),e.type==="point"?qC(this,e):e.type==="extent"&&Qj(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&iy(t,i)&&(e=t.isWebMercator?vb(e):a0(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*t;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*t;this.mmin+=s,this.mmax-=s}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!Rc(t,i)&&iy(t,i)&&(e=t.isWebMercator?vb(e):a0(e,!0)),fB(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ba(Math.min,this.zmin,e.zmin),this.zmax=ba(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ba(Math.min,this.mmin,e.mmin),this.mmax=ba(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ba(Math.max,this.zmin,e.zmin),this.zmax=ba(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ba(Math.max,this.mmin,e.mmin),this.mmax=ba(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=Rd(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?a0(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=wb(r.x,e).x),this.spatialReference=new qi(Gx((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const s=i??Rd(r);if(s==null)return this;const n=this._getParts(s).map(l=>l.extent);if(n.length<2)return n[0]||this;if(n.length>2)return e?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(e)return this._shiftCM(s);if(t)return n;let o=!0,a=!0;return n.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:n.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:s,ymax:n,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;e=e||Rd(o);const[d,p]=e.valid;f=wb(this.xmin,e);const y=f.x,v=f.frameId;f=wb(this.xmax,e);const _=f.x,E=f.frameId,S=y===_&&a>0;if(a>2*p){const A=new rn(l<c?y:_,s,p,n,o),w=new rn(d,s,l<c?_:y,n,o),b=new rn(0,s,p,n,o),M=new rn(d,s,0,n,o),O=[],C=[];A.contains(b)&&O.push(v),A.contains(M)&&C.push(v),w.contains(b)&&O.push(E),w.contains(M)&&C.push(E);for(let P=v+1;P<E;P++)O.push(P),C.push(P);t.push({extent:A,frameIds:[v]},{extent:w,frameIds:[E]},{extent:b,frameIds:O},{extent:M,frameIds:C})}else y>_||S?t.push({extent:new rn(y,s,p,n,o),frameIds:[v]},{extent:new rn(d,s,_,n,o),frameIds:[E]}):t.push({extent:new rn(y,s,_,n,o),frameIds:[v]});this.cache._parts=t}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<t.length;n++)t[n].extent.set(s)}return t}};function wb(e,t){const[i,r]=t.valid,s=2*r;let n,o=0;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s,o=n):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s,o=-n),{x:e,frameId:o}}g([T({readOnly:!0})],Ui.prototype,"cache",null),g([T({readOnly:!0})],Ui.prototype,"center",null),g([T({readOnly:!0})],Ui.prototype,"extent",null),g([T({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ui.prototype,"hasM",null),g([T({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ui.prototype,"hasZ",null),g([T({readOnly:!0})],Ui.prototype,"height",null),g([T({readOnly:!0})],Ui.prototype,"width",null),g([T({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ui.prototype,"xmin",void 0),g([T({type:Number,json:{write:!0}})],Ui.prototype,"ymin",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ui.prototype,"mmin",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ui.prototype,"zmin",void 0),g([T({type:Number,json:{write:!0}})],Ui.prototype,"xmax",void 0),g([T({type:Number,json:{write:!0}})],Ui.prototype,"ymax",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ui.prototype,"mmax",void 0),g([T({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ui.prototype,"zmax",void 0),Ui=rn=g([ie("esri.geometry.Extent")],Ui),Ui.prototype.toJSON.isDefaultToJSON=!0;const Ws=Ui;function Rh(e,t,i=!1){let{hasM:r,hasZ:s}=e;Array.isArray(t)?t.length!==4||r||s?t.length===3&&i&&!r?(s=!0,r=!1):t.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!s||t.hasZ)),e.hasZ=s,e.hasM=r}var o2;function bA(e){return(t,i)=>t==null?i:i==null?t:e(t,i)}function pB(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Oa=o2=class extends tu{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):pB(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=i.points?.[0];return r&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=r.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=r.length>3:i.hasM===void 0&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Ws,i=this.hasZ,r=this.hasM,s=i?3:2,n=e[0],o=bA(Math.min),a=bA(Math.max);let l,c,f,d,[p,y]=n,[v,_]=n;for(let E=0,S=e.length;E<S;E++){const A=e[E],[w,b]=A;if(p=o(p,w),y=o(y,b),v=a(v,w),_=a(_,b),i&&A.length>2){const M=A[2];l=o(l,M),f=a(f,M)}if(r&&A.length>s){const M=A[s];c=o(c,M),d=a(d,M)}}return t.xmin=p,t.ymin=y,t.xmax=v,t.ymax=_,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=c,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ge(this.points)}addPoint(e){return Rh(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new o2(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new Ii(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Ii(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Rh(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};g([T({readOnly:!0})],Oa.prototype,"cache",null),g([T()],Oa.prototype,"extent",null),g([T({type:[[Number]],json:{write:{isRequired:!0}}})],Oa.prototype,"points",void 0),g([Jt("points")],Oa.prototype,"writePoints",null),Oa=o2=g([ie("esri.geometry.Multipoint")],Oa),Oa.prototype.toJSON.isDefaultToJSON=!0;const z1=Oa;function Y0e(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function mB(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var dg;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(dg||(dg={}));function J0e(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if(e.type==="point")return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if(e.type==="polygon")return e.rings.slice();if(e.type==="polyline")return e.paths.slice();if(e.type==="multipoint")return e.points.slice();if(e.type==="extent"){const r=e.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),r.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function q1(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function JC(e,t,i){const r=e[0]+i*(t[0]-e[0]),s=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,s,e[2]+i*(t[2]-e[2])]:[r,s]}function Z0e(e,t,i,r){return yB(e,t,i[r],i[r+1])}function yB(e,t,i,r){const[s,n]=t,[o,a]=i,[l,c]=r,f=l-o,d=c-a,p=f*f+d*d,y=(s-o)*f+(n-a)*d,v=Math.min(1,Math.max(0,y/p));return e[0]=o+f*v,e[1]=a+d*v,e}function K0e(e,t,i,r,s,n){let o=i,a=r,l=s-o,c=n-a;if(l!==0||c!==0){const f=((e-o)*l+(t-a)*c)/(l*l+c*c);f>1?(o=s,a=n):f>0&&(o+=l*f,a+=c*f)}return l=e-o,c=t-a,l*l+c*c}function ZC(e,t){return JC(e,t,.5)}function X0e(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=q1(e[r],e[r+1]);return i}function Q0e(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let s=0;s<i-1;++s){const n=q1(e[s],e[s+1]);if(t-r<n){const o=(t-r)/n;return JC(e[s],e[s+1],o)}r+=n}return e[i-1]}function KC(e,t=dg.X,i=dg.Y){let r=0;const s=e.length;let n=e[0];for(let o=1;o<s;o++){const a=e[o];r+=(a[t]-n[t])*(a[i]+n[i]),n=a}if(!XC(e)){const o=e[0];r+=(o[t]-n[t])*(o[i]+n[i])}return r>=0}function XC(e){const t=e.length;return t<3||O1(e[0],e[t-1])}function eye(e){"rings"in e&&(gB(e),vB(e))}function gB(e){if(!("rings"in e))return!1;let t=!1;for(const i of e.rings)XC(i)||(i.push(i[0].slice()),t=!0);return t}function vB(e){if(!("rings"in e)||e.rings.length===0||KC(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function tye(e){return e.type!=="polygon"&&e.type!=="polyline"||bB(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function bB(e,t){const i=Rd(t);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const o of e){let a=1/0,l=-1/0;for(const f of o){const d=_B(f[0],r,s);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;n-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=n)})}}function _B(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function iye(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[i,r]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function rye(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function wB(e){return e?xB(e.rings,e.hasZ??!1):null}function xB(e,t){if(!e?.length)return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=e.length;n<o;n++){const a=QC(e[n],t,s);a&&r.push(a)}if(r.sort((n,o)=>{let a=n[2]-o[2];return a===0&&t&&(a=n[4]-o[4]),a}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=e[0]&&e[0].length?SB(e[0],t):null;if(!n)return null;i[0]=n[0],i[1]=n[1],t&&n.length>2&&(i[2]=n[2])}return i}function QC(e,t,i){let r=0,s=0,n=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],v=e[(p+1)%e.length],[_,E,S]=y,A=_-l,w=E-c,[b,M,O]=v,C=b-l,P=M-c,N=A*P-C*w;if(o+=N,r+=(A+C)*N,s+=(w+P)*N,t&&y.length>2&&v.length>2){const U=S-f,j=O-f,F=A*j-C*U;n+=(U+j)*F,a+=F}_<i[0]&&(i[0]=_),_>i[1]&&(i[1]=_),E<i[2]&&(i[2]=E),E>i[3]&&(i[3]=E),t&&(S<i[4]&&(i[4]=S),S>i[5]&&(i[5]=S))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[r/(6*o)+l,s/(6*o)+c,o];return t&&(i[4]===i[5]||a===0?(d[3]=(i[4]+i[5])/2,d[4]=0):(d[3]=n/(6*a)+f,d[4]=a)),d}function sye(e,t){let i=0,r=0,s=0;e.nextPoint();const n=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[f,d]=l,p=f-n,y=d-o,[v,_]=c,E=v-n,S=_-o,A=p*S-E*y;s+=A,i+=(p+E)*A,r+=(y+S)*A,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+o,s]):null}function SB(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const f=e[l],d=e[l+1];if(f&&d){i[0]=f[0],i[1]=f[1],r[0]=d[0],r[1]=d[1],t&&f.length>2&&d.length>2&&(i[2]=f[2],r[2]=d[2]);const p=q1(i,r);if(p){s+=p;const y=ZC(f,d);n+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.length?e[0]:null}function EB(e){const{hasZ:t,totalSize:i}=e;if(i===0)return null;const r=[],s=[],n=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=QC(mB(e),e.hasZ,n);o&&s.push(o)}if(s.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],t&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){e.reset(),e.nextPath();const o=e.pathSize?TB(e):null;if(!o)return null;r[0]=o[0],r[1]=o[1],t&&o.length>2&&(r[2]=o[2])}return r}function TB(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,n=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,f=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;i[0]=l,i[1]=c,r[0]=d,r[1]=p,t&&(i[2]=f,r[2]=y);const v=q1(i,r);if(v){s+=v;const _=ZC(i,r);n+=v*_[0],o+=v*_[1],t&&_.length>2&&(a+=v*_[2])}l=d,c=p,f=y}}return s>0?t?[n/s,o/s,a/s]:[n/s,o/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const AB=1e-6;function nye(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<AB){const s=EB(e);return s?[s[0],s[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)OB(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const MB=1/3;function OB(e,t,i){if(!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,o=i.x-r,a=i.y-s,l=0,c=0;for(;i.nextPoint();)l=i.x-r,c=i.y-s,n=.5*MB*(l*a-c*o),e[0]+=n*(o+l),e[1]+=n*(a+c),o=l,a=c;const f=i.getCurrentRingArea(),d=[r,s];return d[0]-=t[0],d[1]-=t[1],d[0]*=f,d[1]*=f,e[0]+=d[0],e[1]+=d[1],e}function vf(e=$B){return[e[0],e[1],e[2],e[3]]}function e5(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function oye(e,t,i,r,s=vf()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function aye(e,t=vf()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function lye(e,t,i=new Ws){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function cye(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function uye(e,t,i){if(t!=null)if("length"in t)a2(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else e5(i,e)}function hye(e,t,i=e){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3];for(let l=0;l<r;l++){const c=t[l];s=Math.min(s,c[0]),n=Math.min(n,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return i[0]=s,i[1]=n,i[2]=o,i[3]=a,i}function fye(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function t5(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function i5(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function dye(e){return t5(e)*i5(e)}function pye(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function mye(e){const t=t5(e),i=i5(e);return Math.sqrt(t*t+i*i)}function yye(e,t){return IB(e,t.x,t.y)}function IB(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function gye(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function vye(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function bye(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function _ye(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function wye(e){return e?e5(e,_A):vf(_A)}function a2(e){return e!=null&&e.length===4}function xye(e,t){return a2(e)&&a2(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const _A=[1/0,1/0,-1/0,-1/0],$B=[0,0,0,0];function r5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function s5(e){return e.points!==void 0}function n5(e){return e.x!==void 0&&e.y!==void 0}function o5(e){return e.paths!==void 0}function a5(e){return e.rings!==void 0}function l5(e){function t(i,r){return i==null?r:r==null?i:e(i,r)}return t}const il=l5(Math.min),rl=l5(Math.max);function Sye(e,t){return o5(t)?Dh(e,t.paths,!1,!1):a5(t)?Dh(e,t.rings,!1,!1):s5(t)?gS(e,t.points,!1,!1,!1,!1):r5(t)?c5(e,t):(n5(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Eye(e){let t,i,r,s;for(e.reset(),t=r=1/0,i=s=-1/0;e.nextPath();){const n=CB(e);t=Math.min(n[0],t),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return vf([t,r,i,s])}function CB(e){let t,i,r,s;for(t=r=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),r=Math.min(e.y,r),i=Math.max(e.x,i),s=Math.max(e.y,s);return vf([t,r,i,s])}function Tye(e,t){return o5(t)?Dh(e,t.paths,!0,!1):a5(t)?Dh(e,t.rings,!0,!1):s5(t)?gS(e,t.points,!0,!1,!0,!1):r5(t)?c5(e,t,!0,!1,!0,!1):(n5(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Dh(e,t,i,r){const s=i?3:2;if(!t.length||!t[0].length)return null;let n,o,a,l,[c,f]=t[0][0],[d,p]=t[0][0];for(let y=0;y<t.length;y++){const v=t[y];for(let _=0;_<v.length;_++){const E=v[_],[S,A]=E;if(c=il(c,S),f=il(f,A),d=rl(d,S),p=rl(p,A),i&&E.length>2){const w=E[2];n=il(n,w),o=rl(o,w)}if(r&&E.length>s){const w=E[s];a=il(n,w),l=rl(o,w)}}}return i?r?(e[0]=c,e[1]=f,e[2]=n,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=f,e[2]=n,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):r?(e[0]=c,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function c5(e,t,i,r,s,n){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let f=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return s?(f=f||0,d=d||0,n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=d,e)):n?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function gS(e,t,i,r,s,n){const o=i?3:2,a=r&&n,l=i&&s;if(!t.length||!t[0].length)return null;let c,f,d,p,[y,v]=t[0],[_,E]=t[0];for(let S=0;S<t.length;S++){const A=t[S],[w,b]=A;if(y=il(y,w),v=il(v,b),_=rl(_,w),E=rl(E,b),l&&A.length>2){const M=A[2];c=il(c,M),f=rl(f,M)}if(a&&A.length>o){const M=A[o];d=il(c,M),p=rl(f,M)}}return s?(c=c||0,f=f||0,n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=c,e[3]=d,e[4]=_,e[5]=E,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=v,e[2]=c,e[3]=_,e[4]=E,e[5]=f,e)):n?(d=d||0,p=p||0,e[0]=y,e[1]=v,e[2]=d,e[3]=_,e[4]=E,e[5]=p,e):(e[0]=y,e[1]=v,e[2]=_,e[3]=E,e)}function NB(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function PB(e){return e.points!==void 0}function LB(e){return e.x!==void 0&&e.y!==void 0}function kB(e){return e.paths!==void 0}function RB(e){return e.rings!==void 0}const vS=[];function u5(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function h5(e,t,i,r,s,n){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:s,zmax:n}}function f5(e,t,i,r,s,n){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:s,mmax:n}}function d5(e,t,i,r,s,n,o,a){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:s,ymax:n,zmax:o,mmax:a}}function bS(e,t=!1,i=!1){return t?i?d5(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):h5(e[0],e[1],e[2],e[3],e[4],e[5]):i?f5(e[0],e[1],e[2],e[3],e[4],e[5]):u5(e[0],e[1],e[2],e[3])}function Aye(e){return e?NB(e)?e:LB(e)?FB(e):RB(e)?p5(e):kB(e)?m5(e):PB(e)?DB(e):null:null}function DB(e){const{hasZ:t,hasM:i,points:r}=e;return bS(gS(vS,r,t??!1,i??!1),t,i)}function FB(e){const{x:t,y:i,z:r,m:s}=e,n=s!=null;return r!=null?n?d5(t,i,r,s,t,i,r,s):h5(t,i,r,t,i,r):n?f5(t,i,s,t,i,s):u5(t,i,t,i)}function p5(e){const{hasZ:t,hasM:i,rings:r}=e,s=Dh(vS,r,t??!1,i??!1);return s?bS(s,t,i):null}function m5(e){const{hasZ:t,hasM:i,paths:r}=e,s=Dh(vS,r,t??!1,i??!1);return s?bS(s,t,i):null}var sy;function wA(e){return!Array.isArray(e[0])}function UB(e){return typeof e[0]?.[0]=="number"}function jB(e){if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],UB(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=qi.WGS84,{...e,hasM:i,hasZ:r,rings:t,spatialReference:s}}let Ns=sy=class extends tu{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let r=!1,s=!1;for(const o of t)o.hasZ&&(r=!0),o.hasM&&(s=!0);const n={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new sy(n)}constructor(e){super(jB(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=wB(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Ii;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=ge(e)}get extent(){const e=p5(this),{spatialReference:t}=this;return e?new Ws({...e,spatialReference:t}):null}get isSelfIntersecting(){return hB(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(wA(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new sy;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.curveRings=ge(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,i=e.spatialReference;if(t!=null!=(i!=null)||t!=null&&i!=null&&!t.equals(i)||this.rings.length!==e.rings.length)return!1;const r=([s,n,o,a],[l,c,f,d])=>s===l&&n===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=e.rings[s];if(!O1(n,o,r))return!1}return!0}contains(e){if(!e)return!1;const t=VC(e,this.spatialReference);return tB(this,t??e)}isClockwise(e){const t=wA(e)?e.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):e;return KC(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Ii(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Ii(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Ii(i[0],i[1],i[2],i[3],this.spatialReference):new Ii(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ii(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Ii(s,i));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const r=this.rings[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([T({readOnly:!0})],Ns.prototype,"cache",null),g([T({readOnly:!0})],Ns.prototype,"centroid",null),g([T({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Ns.prototype,"curveRings",void 0),g([Jt("curveRings")],Ns.prototype,"writeCurveRings",null),g([T({readOnly:!0})],Ns.prototype,"extent",null),g([T({readOnly:!0})],Ns.prototype,"isSelfIntersecting",null),g([T({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ns.prototype,"rings",void 0),g([Jt("rings")],Ns.prototype,"writeRings",null),Ns=sy=g([ie("esri.geometry.Polygon")],Ns);const Vc=Ns;Ns.prototype.toJSON.isDefaultToJSON=!0;var l2;function BB(e){return!Array.isArray(e[0])}function VB(e){return typeof e[0]?.[0]=="number"}function GB(e){if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:s}=e;switch(t??=[],VB(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return s??=qi.WGS84,{...e,hasM:i,hasZ:r,paths:t,spatialReference:s}}let Yn=l2=class extends tu{constructor(e){super(GB(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=ge(e)}get extent(){const e=m5(this),{spatialReference:t}=this;return e?new Ws({...e,spatialReference:t}):null}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(BB(e)){const r=[];for(let s=0,n=e.length;s<n;s++)r[s]=e[s].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new l2;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.curvePaths=ge(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,s=this.hasM;return r&&!s?new Ii(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Ii(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Ii(i[0],i[1],i[2],i[3],this.spatialReference):new Ii(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map(s=>new Ii(s,i));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new Ii(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?(Rh(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const r=this.paths[e];if(i&&(t<0||t>r.length)||!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};g([T({readOnly:!0})],Yn.prototype,"cache",null),g([T({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Yn.prototype,"curvePaths",void 0),g([Jt("curvePaths")],Yn.prototype,"writeCurvePaths",null),g([T({readOnly:!0})],Yn.prototype,"extent",null),g([T({type:[[[Number]]],json:{write:{isRequired:!0}}})],Yn.prototype,"paths",void 0),g([Jt("paths")],Yn.prototype,"writePaths",null),Yn=l2=g([ie("esri.geometry.Polyline")],Yn);const gm=Yn;Yn.prototype.toJSON.isDefaultToJSON=!0;function y5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function g5(e){return e.points!==void 0}function v5(e){return e.x!==void 0&&e.y!==void 0}function b5(e){return e.paths!==void 0||e.curvePaths!==void 0}function _5(e){return e.rings!==void 0||e.curveRings!==void 0}function _S(e){return e==null?null:e instanceof tu?e:v5(e)?Ii.fromJSON(e):b5(e)?gm.fromJSON(e):_5(e)?Vc.fromJSON(e):g5(e)?z1.fromJSON(e):y5(e)?Ws.fromJSON(e):null}function Mye(e){return e?v5(e)?"esriGeometryPoint":b5(e)?"esriGeometryPolyline":_5(e)?"esriGeometryPolygon":y5(e)?"esriGeometryEnvelope":g5(e)?"esriGeometryMultipoint":null:null}const zB={esriGeometryPoint:Ii,esriGeometryPolyline:gm,esriGeometryPolygon:Vc,esriGeometryEnvelope:Ws,esriGeometryMultipoint:z1,esriGeometryMultiPatch:Vc};function Oye(e){return e&&zB[e]||null}const w5=e=>{let t=class extends e{clone(){const i=pl(this);cD(i,"unable to clone instance of non-accessor class");const r=i.metadata,s=i.store,n={},o=new Map;for(const l in r){const c=r[l],f=s?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==ct.USER&&f!==ct.DEFAULTS&&f!==ct.WEB_MAP&&f!==ct.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:E_(p),p!=null&&y==null||(f===ct.DEFAULTS?o.set(l,y):n[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(n);if(o.size){const l=pl(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,ct.DEFAULTS)}return a}};return t=g([ie("esri.core.Clonable")],t),t};let ed=class extends w5(Qi){};ed=g([ie("esri.core.Clonable")],ed),function(e){e.ClonableMixin=w5}(ed||(ed={}));const Ao=ed;let xb;async function qB(){return xb==null&&(xb=Se(()=>import("./WhereClauseCache-DXymb3Lt.js"),__vite__mapDeps([13,14,15,16,17,1]),import.meta.url).then(e=>new e.WhereClauseCache(500,500))),xb}async function WB(e,t){const i=await qB(),r=i.get(e,t);if(r==null)throw i.getError(e,t);return r}function $ye(e,t){return e||=null,t||=null,e==="1=1"?t??e:t==="1=1"?e??t:e&&t?`(${e}) AND (${t})`:e??t}function Cye(e,t){return e||=null,t||=null,e==="1=1"||t==="1=1"||e===t?e==="1=1"?e:t:e&&t?`(${e}) OR (${t})`:e??t}function Nye(e,t){return t.length===0?null:`${e} IN (${HB(t)})`}function HB(e){return e.map(t=>typeof t=="string"?YB(t):t).join(",")}function YB(e){return`'${e.replaceAll("'","''")}'`}function Pye(e){return typeof e=="number"}function Lye(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}function kye(e){return typeof e=="boolean"}function vm(e){return typeof e=="string"||e instanceof String}function JB(e){return e==null||vm(e)}function Rye(e){return Array.isArray(e)}function Dye(e){return e?.declaredClass==="esri.Graphic"}function Fye(e){return e instanceof Date}class iu extends Error{}class ZB extends iu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class KB extends iu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class XB extends iu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Zu extends iu{}class x5 extends iu{constructor(t){super(`Invalid unit ${t}`)}}class mr extends iu{}class _a extends iu{constructor(){super("Zone is an abstract class")}}const ve="numeric",Mn="short",gs="long",pg={year:ve,month:ve,day:ve},S5={year:ve,month:Mn,day:ve},QB={year:ve,month:Mn,day:ve,weekday:Mn},E5={year:ve,month:gs,day:ve},T5={year:ve,month:gs,day:ve,weekday:gs},A5={hour:ve,minute:ve},M5={hour:ve,minute:ve,second:ve},O5={hour:ve,minute:ve,second:ve,timeZoneName:Mn},I5={hour:ve,minute:ve,second:ve,timeZoneName:gs},$5={hour:ve,minute:ve,hourCycle:"h23"},C5={hour:ve,minute:ve,second:ve,hourCycle:"h23"},N5={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:Mn},P5={hour:ve,minute:ve,second:ve,hourCycle:"h23",timeZoneName:gs},L5={year:ve,month:ve,day:ve,hour:ve,minute:ve},k5={year:ve,month:ve,day:ve,hour:ve,minute:ve,second:ve},R5={year:ve,month:Mn,day:ve,hour:ve,minute:ve},D5={year:ve,month:Mn,day:ve,hour:ve,minute:ve,second:ve},eV={year:ve,month:Mn,day:ve,weekday:Mn,hour:ve,minute:ve},F5={year:ve,month:gs,day:ve,hour:ve,minute:ve,timeZoneName:Mn},U5={year:ve,month:gs,day:ve,hour:ve,minute:ve,second:ve,timeZoneName:Mn},j5={year:ve,month:gs,day:ve,weekday:gs,hour:ve,minute:ve,timeZoneName:gs},B5={year:ve,month:gs,day:ve,weekday:gs,hour:ve,minute:ve,second:ve,timeZoneName:gs};class ru{get type(){throw new _a}get name(){throw new _a}get ianaName(){return this.name}get isUniversal(){throw new _a}offsetName(t,i){throw new _a}formatOffset(t,i){throw new _a}offset(t){throw new _a}equals(t){throw new _a}get isValid(){throw new _a}}let Sb=null;class W1 extends ru{static get instance(){return Sb===null&&(Sb=new W1),Sb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Z5(t,i,r)}formatOffset(t,i){return Dd(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let ny={};function tV(e){return ny[e]||(ny[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ny[e]}const iV={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function rV(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,o,a,l,c,f]=r;return[o,s,n,a,l,c,f]}function sV(e,t){const i=e.formatToParts(t),r=[];for(let s=0;s<i.length;s++){const{type:n,value:o}=i[s],a=iV[n];n==="era"?r[a]=o:Ve(a)||(r[a]=parseInt(o,10))}return r}let l0={};class On extends ru{static create(t){return l0[t]||(l0[t]=new On(t)),l0[t]}static resetCache(){l0={},ny={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=On.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:r}){return Z5(t,i,r,this.name)}formatOffset(t,i){return Dd(this.offset(t),i)}offset(t){const i=new Date(t);if(isNaN(i))return NaN;const r=tV(this.name);let[s,n,o,a,l,c,f]=r.formatToParts?sV(r,i):rV(r,i);a==="BC"&&(s=-Math.abs(s)+1);const p=Y1({year:s,month:n,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+i;const v=y%1e3;return y-=v>=0?v:1e3+v,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let xA={};function nV(e,t={}){const i=JSON.stringify([e,t]);let r=xA[i];return r||(r=new Intl.ListFormat(e,t),xA[i]=r),r}let c2={};function u2(e,t={}){const i=JSON.stringify([e,t]);let r=c2[i];return r||(r=new Intl.DateTimeFormat(e,t),c2[i]=r),r}let h2={};function oV(e,t={}){const i=JSON.stringify([e,t]);let r=h2[i];return r||(r=new Intl.NumberFormat(e,t),h2[i]=r),r}let f2={};function aV(e,t={}){const{base:i,...r}=t,s=JSON.stringify([e,r]);let n=f2[s];return n||(n=new Intl.RelativeTimeFormat(e,t),f2[s]=n),n}let td=null;function lV(){return td||(td=new Intl.DateTimeFormat().resolvedOptions().locale,td)}let SA={};function cV(e){let t=SA[e];if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,SA[e]=t}return t}function uV(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(i===-1)return[e];{let r,s;try{r=u2(e).resolvedOptions(),s=e}catch{const l=e.substring(0,i);r=u2(l).resolvedOptions(),s=l}const{numberingSystem:n,calendar:o}=r;return[s,n,o]}}function hV(e,t,i){return(i||t)&&(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function fV(e){const t=[];for(let i=1;i<=12;i++){const r=Ce.utc(2009,i,1);t.push(e(r))}return t}function dV(e){const t=[];for(let i=1;i<=7;i++){const r=Ce.utc(2016,11,13+i);t.push(e(r))}return t}function c0(e,t,i,r){const s=e.listingMode();return s==="error"?null:s==="en"?i(t):r(t)}function pV(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class mV{constructor(t,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...o}=r;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=oV(t,a)}}format(t){if(this.inf){const i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{const i=this.floor?Math.floor(t):TS(t,3);return Oi(i,this.padTo)}}}class yV{constructor(t,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&On.create(a).valid?(s=a,this.dt=t):(s="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=u2(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class gV{constructor(t,i,r){this.opts={style:"long",...r},!i&&Y5()&&(this.rtf=aV(t,r))}format(t,i){return this.rtf?this.rtf.format(t,i):jV(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}}const vV={firstDay:1,minimalDays:4,weekend:[6,7]};class St{static fromOpts(t){return St.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,r,s,n=!1){const o=t||ui.defaultLocale,a=o||(n?"en-US":lV()),l=i||ui.defaultNumberingSystem,c=r||ui.defaultOutputCalendar,f=d2(s)||ui.defaultWeekSettings;return new St(a,l,c,f,o)}static resetCache(){td=null,c2={},h2={},f2={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return St.create(t,i,r,s)}constructor(t,i,r,s,n){const[o,a,l]=uV(t);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=r||l||null,this.weekSettings=s,this.intl=hV(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=pV(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:St.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,d2(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return c0(this,t,Q5,()=>{const r=i?{month:t,day:"numeric"}:{month:t},s=i?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=fV(n=>this.extract(n,r,"month"))),this.monthsCache[s][t]})}weekdays(t,i=!1){return c0(this,t,i6,()=>{const r=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=i?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=dV(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][t]})}meridiems(){return c0(this,void 0,()=>r6,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ce.utc(2016,11,13,9),Ce.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return c0(this,t,s6,()=>{const i={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ce.utc(-40,1,1),Ce.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[t]})}extract(t,i,r){const s=this.dtFormatter(t,i),n=s.formatToParts(),o=n.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(t={}){return new mV(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new yV(t,this.intl,i)}relFormatter(t={}){return new gV(this.intl,this.isEnglish(),t)}listFormatter(t={}){return nV(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:J5()?cV(this.locale):vV}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Eb=null;class xr extends ru{static get utcInstance(){return Eb===null&&(Eb=new xr(0)),Eb}static instance(t){return t===0?xr.utcInstance:new xr(t)}static parseSpecifier(t){if(t){const i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new xr(J1(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Dd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Dd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Dd(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class bV extends ru{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Xa(e,t){if(Ve(e)||e===null)return t;if(e instanceof ru)return e;if(TV(e)){const i=e.toLowerCase();return i==="default"?t:i==="local"||i==="system"?W1.instance:i==="utc"||i==="gmt"?xr.utcInstance:xr.parseSpecifier(i)||On.create(e)}else return al(e)?xr.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new bV(e)}const wS={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},EA={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},_V=wS.hanidec.replace(/[\[|\]]/g,"").split("");function wV(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(e[i].search(wS.hanidec)!==-1)t+=_V.indexOf(e[i]);else for(const s in EA){const[n,o]=EA[s];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}else return t}let Lu={};function xV(){Lu={}}function Qs({numberingSystem:e},t=""){const i=e||"latn";return Lu[i]||(Lu[i]={}),Lu[i][t]||(Lu[i][t]=new RegExp(`${wS[i]}${t}`)),Lu[i][t]}let TA=()=>Date.now(),AA="system",MA=null,OA=null,IA=null,$A=60,CA,NA=null;class ui{static get now(){return TA}static set now(t){TA=t}static set defaultZone(t){AA=t}static get defaultZone(){return Xa(AA,W1.instance)}static get defaultLocale(){return MA}static set defaultLocale(t){MA=t}static get defaultNumberingSystem(){return OA}static set defaultNumberingSystem(t){OA=t}static get defaultOutputCalendar(){return IA}static set defaultOutputCalendar(t){IA=t}static get defaultWeekSettings(){return NA}static set defaultWeekSettings(t){NA=d2(t)}static get twoDigitCutoffYear(){return $A}static set twoDigitCutoffYear(t){$A=t%100}static get throwOnInvalid(){return CA}static set throwOnInvalid(t){CA=t}static resetCaches(){St.resetCache(),On.resetCache(),Ce.resetCache(),xV()}}class dn{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const V5=[0,31,59,90,120,151,181,212,243,273,304,334],G5=[0,31,60,91,121,152,182,213,244,274,305,335];function Us(e,t){return new dn("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function xS(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function z5(e,t,i){return i+(bm(e)?G5:V5)[t-1]}function q5(e,t){const i=bm(e)?G5:V5,r=i.findIndex(n=>n<t),s=t-i[r];return{month:r+1,day:s}}function SS(e,t){return(e-t+7)%7+1}function mg(e,t=4,i=1){const{year:r,month:s,day:n}=e,o=z5(r,s,n),a=SS(xS(r,s,n),i);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=r-1,l=Ap(c,t,i)):l>Ap(r,t,i)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...Z1(e)}}function PA(e,t=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=e,o=SS(xS(r,1,t),i),a=ph(r);let l=s*7+n-o-7+t,c;l<1?(c=r-1,l+=ph(c)):l>a?(c=r+1,l-=ph(r)):c=r;const{month:f,day:d}=q5(c,l);return{year:c,month:f,day:d,...Z1(e)}}function Tb(e){const{year:t,month:i,day:r}=e,s=z5(t,i,r);return{year:t,ordinal:s,...Z1(e)}}function LA(e){const{year:t,ordinal:i}=e,{month:r,day:s}=q5(t,i);return{year:t,month:r,day:s,...Z1(e)}}function kA(e,t){if(!Ve(e.localWeekday)||!Ve(e.localWeekNumber)||!Ve(e.localWeekYear)){if(!Ve(e.weekday)||!Ve(e.weekNumber)||!Ve(e.weekYear))throw new Zu("Cannot mix locale-based week fields with ISO-based week fields");return Ve(e.localWeekday)||(e.weekday=e.localWeekday),Ve(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ve(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function SV(e,t=4,i=1){const r=H1(e.weekYear),s=js(e.weekNumber,1,Ap(e.weekYear,t,i)),n=js(e.weekday,1,7);return r?s?n?!1:Us("weekday",e.weekday):Us("week",e.weekNumber):Us("weekYear",e.weekYear)}function EV(e){const t=H1(e.year),i=js(e.ordinal,1,ph(e.year));return t?i?!1:Us("ordinal",e.ordinal):Us("year",e.year)}function W5(e){const t=H1(e.year),i=js(e.month,1,12),r=js(e.day,1,yg(e.year,e.month));return t?i?r?!1:Us("day",e.day):Us("month",e.month):Us("year",e.year)}function H5(e){const{hour:t,minute:i,second:r,millisecond:s}=e,n=js(t,0,23)||t===24&&i===0&&r===0&&s===0,o=js(i,0,59),a=js(r,0,59),l=js(s,0,999);return n?o?a?l?!1:Us("millisecond",s):Us("second",r):Us("minute",i):Us("hour",t)}function Ve(e){return typeof e>"u"}function al(e){return typeof e=="number"}function H1(e){return typeof e=="number"&&e%1===0}function TV(e){return typeof e=="string"}function AV(e){return Object.prototype.toString.call(e)==="[object Date]"}function Y5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function J5(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function MV(e){return Array.isArray(e)?e:[e]}function RA(e,t,i){if(e.length!==0)return e.reduce((r,s)=>{const n=[t(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function OV(e,t){return t.reduce((i,r)=>(i[r]=e[r],i),{})}function Fh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d2(e){if(e==null)return null;if(typeof e!="object")throw new mr("Week settings must be an object");if(!js(e.firstDay,1,7)||!js(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!js(t,1,7)))throw new mr("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function js(e,t,i){return H1(e)&&e>=t&&e<=i}function IV(e,t){return e-t*Math.floor(e/t)}function Oi(e,t=2){const i=e<0;let r;return i?r="-"+(""+-e).padStart(t,"0"):r=(""+e).padStart(t,"0"),r}function Va(e){if(!(Ve(e)||e===null||e===""))return parseInt(e,10)}function Bl(e){if(!(Ve(e)||e===null||e===""))return parseFloat(e)}function ES(e){if(!(Ve(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function TS(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function bm(e){return e%4===0&&(e%100!==0||e%400===0)}function ph(e){return bm(e)?366:365}function yg(e,t){const i=IV(t-1,12)+1,r=e+(t-i)/12;return i===2?bm(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function Y1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function DA(e,t,i){return-SS(xS(e,1,t),i)+t-1}function Ap(e,t=4,i=1){const r=DA(e,t,i),s=DA(e+1,t,i);return(ph(e)-r+s)/7}function p2(e){return e>99?e:e>ui.twoDigitCutoffYear?1900+e:2e3+e}function Z5(e,t,i,r=null){const s=new Date(e),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const o={timeZoneName:t,...n},a=new Intl.DateTimeFormat(i,o).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function J1(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function K5(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new mr(`Invalid unit value ${e}`);return t}function gg(e,t){const i={};for(const r in e)if(Fh(e,r)){const s=e[r];if(s==null)continue;i[t(r)]=K5(s)}return i}function Dd(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${Oi(i,2)}:${Oi(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Oi(i,2)}${Oi(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Z1(e){return OV(e,["hour","minute","second","millisecond"])}const $V=["January","February","March","April","May","June","July","August","September","October","November","December"],X5=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CV=["J","F","M","A","M","J","J","A","S","O","N","D"];function Q5(e){switch(e){case"narrow":return[...CV];case"short":return[...X5];case"long":return[...$V];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const e6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],t6=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],NV=["M","T","W","T","F","S","S"];function i6(e){switch(e){case"narrow":return[...NV];case"short":return[...t6];case"long":return[...e6];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const r6=["AM","PM"],PV=["Before Christ","Anno Domini"],LV=["BC","AD"],kV=["B","A"];function s6(e){switch(e){case"narrow":return[...kV];case"short":return[...LV];case"long":return[...PV];default:return null}}function RV(e){return r6[e.hour<12?0:1]}function DV(e,t){return i6(t)[e.weekday-1]}function FV(e,t){return Q5(t)[e.month-1]}function UV(e,t){return s6(t)[e.year<0?0:1]}function jV(e,t,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&n){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${s[e][0]}`;case-1:return d?"yesterday":`last ${s[e][0]}`;case 0:return d?"today":`this ${s[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=s[e],f=r?l?c[1]:c[2]||c[1]:l?s[e][0]:e;return o?`${a} ${f} ago`:`in ${a} ${f}`}function FA(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const BV={D:pg,DD:S5,DDD:E5,DDDD:T5,t:A5,tt:M5,ttt:O5,tttt:I5,T:$5,TT:C5,TTT:N5,TTTT:P5,f:L5,ff:R5,fff:F5,ffff:j5,F:k5,FF:D5,FFF:U5,FFFF:B5};class wr{static create(t,i={}){return new wr(t,i)}static parseFormat(t){let i=null,r="",s=!1;const n=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),i=null,r="",s=!s):s||a===i?r+=a:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=a,i=a)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(t){return BV[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Oi(t,i);const r={...this.opts};return i>0&&(r.padTo=i),this.loc.numberFormatter(r).format(t)}formatDateTimeFromString(t,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(y,v)=>this.loc.extract(t,y,v),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>r?RV(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,v)=>r?FV(t,y):n(v?{month:y}:{month:y,day:"numeric"},"month"),c=(y,v)=>r?DV(t,y):n(v?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const v=wr.macroTokenToFormatOpts(y);return v?this.formatWithSystemDefault(t,v):y},d=y=>r?UV(t,y):n({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?n({day:"numeric"},"day"):this.num(t.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(t.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(t.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return FA(wr.parseFormat(i),p)}formatDurationFromString(t,i){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{const f=r(c);return f?this.num(l.get(f),c.length):c},n=wr.parseFormat(i),o=n.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=t.shiftTo(...o.map(r).filter(l=>l));return FA(n,s(a))}}const n6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function bf(...e){const t=e.reduce((i,r)=>i+r.source,"");return RegExp(`^${t}$`)}function _f(...e){return t=>e.reduce(([i,r,s],n)=>{const[o,a,l]=n(t,s);return[{...i,...o},a||r,l]},[{},null,1]).slice(0,2)}function wf(e,...t){if(e==null)return[null,null];for(const[i,r]of t){const s=i.exec(e);if(s)return r(s)}return[null,null]}function o6(...e){return(t,i)=>{const r={};let s;for(s=0;s<e.length;s++)r[e[s]]=Va(t[i+s]);return[r,null,i+s]}}const a6=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,VV=`(?:${a6.source}?(?:\\[(${n6.source})\\])?)?`,AS=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,l6=RegExp(`${AS.source}${VV}`),MS=RegExp(`(?:T${l6.source})?`),GV=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,zV=/(\d{4})-?W(\d\d)(?:-?(\d))?/,qV=/(\d{4})-?(\d{3})/,WV=o6("weekYear","weekNumber","weekDay"),HV=o6("year","ordinal"),YV=/(\d{4})-(\d\d)-(\d\d)/,c6=RegExp(`${AS.source} ?(?:${a6.source}|(${n6.source}))?`),JV=RegExp(`(?: ${c6.source})?`);function mh(e,t,i){const r=e[t];return Ve(r)?i:Va(r)}function ZV(e,t){return[{year:mh(e,t),month:mh(e,t+1,1),day:mh(e,t+2,1)},null,t+3]}function xf(e,t){return[{hours:mh(e,t,0),minutes:mh(e,t+1,0),seconds:mh(e,t+2,0),milliseconds:ES(e[t+3])},null,t+4]}function _m(e,t){const i=!e[t]&&!e[t+1],r=J1(e[t+1],e[t+2]),s=i?null:xr.instance(r);return[{},s,t+3]}function wm(e,t){const i=e[t]?On.create(e[t]):null;return[{},i,t+1]}const KV=RegExp(`^T?${AS.source}$`),XV=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function QV(e){const[t,i,r,s,n,o,a,l,c]=e,f=t[0]==="-",d=l&&l[0]==="-",p=(y,v=!1)=>y!==void 0&&(v||y&&f)?-y:y;return[{years:p(Bl(i)),months:p(Bl(r)),weeks:p(Bl(s)),days:p(Bl(n)),hours:p(Bl(o)),minutes:p(Bl(a)),seconds:p(Bl(l),l==="-0"),milliseconds:p(ES(c),d)}]}const eG={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function OS(e,t,i,r,s,n,o){const a={year:t.length===2?p2(Va(t)):Va(t),month:X5.indexOf(i)+1,day:Va(r),hour:Va(s),minute:Va(n)};return o&&(a.second=Va(o)),e&&(a.weekday=e.length>3?e6.indexOf(e)+1:t6.indexOf(e)+1),a}const tG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function iG(e){const[,t,i,r,s,n,o,a,l,c,f,d]=e,p=OS(t,s,r,i,n,o,a);let y;return l?y=eG[l]:c?y=0:y=J1(f,d),[p,new xr(y)]}function rG(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const sG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,nG=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,oG=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function UA(e){const[,t,i,r,s,n,o,a]=e;return[OS(t,s,r,i,n,o,a),xr.utcInstance]}function aG(e){const[,t,i,r,s,n,o,a]=e;return[OS(t,a,i,r,s,n,o),xr.utcInstance]}const lG=bf(GV,MS),cG=bf(zV,MS),uG=bf(qV,MS),hG=bf(l6),u6=_f(ZV,xf,_m,wm),fG=_f(WV,xf,_m,wm),dG=_f(HV,xf,_m,wm),pG=_f(xf,_m,wm);function mG(e){return wf(e,[lG,u6],[cG,fG],[uG,dG],[hG,pG])}function yG(e){return wf(rG(e),[tG,iG])}function gG(e){return wf(e,[sG,UA],[nG,UA],[oG,aG])}function vG(e){return wf(e,[XV,QV])}const bG=_f(xf);function _G(e){return wf(e,[KV,bG])}const wG=bf(YV,JV),xG=bf(c6),SG=_f(xf,_m,wm);function EG(e){return wf(e,[wG,u6],[xG,SG])}const jA="Invalid Duration",h6={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},TG={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...h6},As=146097/400,xu=146097/4800,AG={years:{quarters:4,months:12,weeks:As/7,days:As,hours:As*24,minutes:As*24*60,seconds:As*24*60*60,milliseconds:As*24*60*60*1e3},quarters:{months:3,weeks:As/28,days:As/4,hours:As*24/4,minutes:As*24*60/4,seconds:As*24*60*60/4,milliseconds:As*24*60*60*1e3/4},months:{weeks:xu/7,days:xu,hours:xu*24,minutes:xu*24*60,seconds:xu*24*60*60,milliseconds:xu*24*60*60*1e3},...h6},bc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],MG=bc.slice(0).reverse();function wa(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new ut(r)}function f6(e,t){let i=t.milliseconds??0;for(const r of MG.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function BA(e,t){const i=f6(e,t)<0?-1:1;bc.reduceRight((r,s)=>{if(Ve(t[s]))return r;if(r){const n=t[r]*i,o=e[s][r],a=Math.floor(n/o);t[s]+=a*i,t[r]-=a*o*i}return s},null),bc.reduce((r,s)=>{if(Ve(t[s]))return r;if(r){const n=t[r]%1;t[r]-=n,t[s]+=n*e[r][s]}return s},null)}function OG(e){const t={};for(const[i,r]of Object.entries(e))r!==0&&(t[i]=r);return t}class ut{constructor(t){const i=t.conversionAccuracy==="longterm"||!1;let r=i?AG:TG;t.matrix&&(r=t.matrix),this.values=t.values,this.loc=t.loc||St.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(t,i){return ut.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new mr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new ut({values:gg(t,ut.normalizeUnit),loc:St.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(al(t))return ut.fromMillis(t);if(ut.isDuration(t))return t;if(typeof t=="object")return ut.fromObject(t);throw new mr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){const[r]=vG(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){const[r]=_G(t);return r?ut.fromObject(r,i):ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new mr("need to specify a reason the Duration is invalid");const r=t instanceof dn?t:new dn(t,i);if(ui.throwOnInvalid)throw new XB(r);return new ut({invalid:r})}static normalizeUnit(t){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new x5(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?wr.create(this.loc,r).formatDurationFromString(this,t):jA}toHuman(t={}){if(!this.isValid)return jA;const i=bc.map(r=>{const s=this.values[r];return Ve(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=TS(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ce.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?f6(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t),r={};for(const s of bc)(Fh(i.values,s)||Fh(this.values,s))&&(r[s]=i.get(s)+this.get(s));return wa(this,{values:r},!0)}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=K5(t(this.values[r],r));return wa(this,{values:i},!0)}get(t){return this[ut.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const i={...this.values,...gg(t,ut.normalizeUnit)};return wa(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:r};return wa(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return BA(this.matrix,t),wa(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=OG(this.normalize().shiftToAll().toObject());return wa(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>ut.normalizeUnit(o));const i={},r={},s=this.toObject();let n;for(const o of bc)if(t.indexOf(o)>=0){n=o;let a=0;for(const c in r)a+=this.matrix[c][o]*r[c],r[c]=0;al(s[o])&&(a+=s[o]);const l=Math.trunc(a);i[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else al(s[o])&&(r[o]=s[o]);for(const o in r)r[o]!==0&&(i[n]+=o===n?r[o]:r[o]/this.matrix[n][o]);return BA(this.matrix,i),wa(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return wa(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of bc)if(!i(this.values[r],t.values[r]))return!1;return!0}}const Su="Invalid Interval";function IG(e,t){return!e||!e.isValid?li.invalid("missing or invalid start"):!t||!t.isValid?li.invalid("missing or invalid end"):t<e?li.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class li{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new mr("need to specify a reason the Interval is invalid");const r=t instanceof dn?t:new dn(t,i);if(ui.throwOnInvalid)throw new KB(r);return new li({invalid:r})}static fromDateTimes(t,i){const r=Rf(t),s=Rf(i),n=IG(r,s);return n??new li({start:r,end:s})}static after(t,i){const r=ut.fromDurationLike(i),s=Rf(t);return li.fromDateTimes(s,s.plus(r))}static before(t,i){const r=ut.fromDurationLike(i),s=Rf(t);return li.fromDateTimes(s.minus(r),s)}static fromISO(t,i){const[r,s]=(t||"").split("/",2);if(r&&s){let n,o;try{n=Ce.fromISO(r,i),o=n.isValid}catch{o=!1}let a,l;try{a=Ce.fromISO(s,i),l=a.isValid}catch{l=!1}if(o&&l)return li.fromDateTimes(n,a);if(o){const c=ut.fromISO(s,i);if(c.isValid)return li.after(n,c)}else if(l){const c=ut.fromISO(r,i);if(c.isValid)return li.before(a,c)}}return li.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(t,i);let s;return i?.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(t,i),Math.floor(s.diff(r,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?li.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];const i=t.map(Rf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const o=i[n]||this.e,a=+o>+this.e?this.e:o;r.push(li.fromDateTimes(s,a)),s=a,n+=1}return r}splitBy(t){const i=ut.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const o=[];for(;r<this.e;){const a=this.start.plus(i.mapUnits(l=>l*s));n=+a>+this.e?this.e:a,o.push(li.fromDateTimes(r,n)),r=n,s+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const i=this.s>t.s?this.s:t.s,r=this.e<t.e?this.e:t.e;return i>=r?null:li.fromDateTimes(i,r)}union(t){if(!this.isValid)return this;const i=this.s<t.s?this.s:t.s,r=this.e>t.e?this.e:t.e;return li.fromDateTimes(i,r)}static merge(t){const[i,r]=t.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return r&&i.push(r),i}static xor(t){let i=null,r=0;const s=[],n=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...n),a=o.sort((l,c)=>l.time-c.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&s.push(li.fromDateTimes(i,l.time)),i=null);return li.merge(s)}difference(...t){return li.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Su}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=pg,i={}){return this.isValid?wr.create(this.s.loc.clone(i),t).formatInterval(this):Su}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Su}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Su}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Su}toFormat(t,{separator:i=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Su}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):ut.invalid(this.invalidReason)}mapEndpoints(t){return li.fromDateTimes(t(this.s),t(this.e))}}class u0{static hasDST(t=ui.defaultZone){const i=Ce.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return On.isValidZone(t)}static normalizeZone(t){return Xa(t,ui.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||St.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||St.create(i,r,n)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||St.create(i,r,n)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||St.create(i,r,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||St.create(i,r,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return St.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return St.create(i,null,"gregory").eras(t)}static features(){return{relative:Y5(),localeWeek:J5()}}}function VA(e,t){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(ut.fromMillis(r).as("days"))}function $G(e,t,i){const r=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=VA(l,c);return(f-f%7)/7}],["days",VA]],s={},n=e;let o,a;for(const[l,c]of r)i.indexOf(l)>=0&&(o=l,s[l]=c(e,t),a=n.plus(s),a>t?(s[l]--,e=n.plus(s),e>t&&(a=e,s[l]--,e=n.plus(s))):e=a);return[e,s,a,o]}function CG(e,t,i,r){let[s,n,o,a]=$G(e,t,i);const l=t-s,c=i.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=s.plus({[a]:1})),o!==s&&(n[a]=(n[a]||0)+l/(o-s)));const f=ut.fromObject(n,r);return c.length>0?ut.fromMillis(l,r).shiftTo(...c).plus(f):f}const NG="missing Intl.DateTimeFormat.formatToParts support";function yt(e,t=i=>i){return{regex:e,deser:([i])=>t(wV(i))}}const PG=" ",d6=`[ ${PG}]`,p6=new RegExp(d6,"g");function LG(e){return e.replace(/\./g,"\\.?").replace(p6,d6)}function GA(e){return e.replace(/\./g,"").replace(p6," ").toLowerCase()}function en(e,t){return e===null?null:{regex:RegExp(e.map(LG).join("|")),deser:([i])=>e.findIndex(r=>GA(i)===GA(r))+t}}function zA(e,t){return{regex:e,deser:([,i,r])=>J1(i,r),groups:t}}function h0(e){return{regex:e,deser:([t])=>t}}function kG(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function RG(e,t){const i=Qs(t),r=Qs(t,"{2}"),s=Qs(t,"{3}"),n=Qs(t,"{4}"),o=Qs(t,"{6}"),a=Qs(t,"{1,2}"),l=Qs(t,"{1,3}"),c=Qs(t,"{1,6}"),f=Qs(t,"{1,9}"),d=Qs(t,"{2,4}"),p=Qs(t,"{4,6}"),y=E=>({regex:RegExp(kG(E.val)),deser:([S])=>S,literal:!0}),_=(E=>{if(e.literal)return y(E);switch(E.val){case"G":return en(t.eras("short"),0);case"GG":return en(t.eras("long"),0);case"y":return yt(c);case"yy":return yt(d,p2);case"yyyy":return yt(n);case"yyyyy":return yt(p);case"yyyyyy":return yt(o);case"M":return yt(a);case"MM":return yt(r);case"MMM":return en(t.months("short",!0),1);case"MMMM":return en(t.months("long",!0),1);case"L":return yt(a);case"LL":return yt(r);case"LLL":return en(t.months("short",!1),1);case"LLLL":return en(t.months("long",!1),1);case"d":return yt(a);case"dd":return yt(r);case"o":return yt(l);case"ooo":return yt(s);case"HH":return yt(r);case"H":return yt(a);case"hh":return yt(r);case"h":return yt(a);case"mm":return yt(r);case"m":return yt(a);case"q":return yt(a);case"qq":return yt(r);case"s":return yt(a);case"ss":return yt(r);case"S":return yt(l);case"SSS":return yt(s);case"u":return h0(f);case"uu":return h0(a);case"uuu":return yt(i);case"a":return en(t.meridiems(),0);case"kkkk":return yt(n);case"kk":return yt(d,p2);case"W":return yt(a);case"WW":return yt(r);case"E":case"c":return yt(i);case"EEE":return en(t.weekdays("short",!1),1);case"EEEE":return en(t.weekdays("long",!1),1);case"ccc":return en(t.weekdays("short",!0),1);case"cccc":return en(t.weekdays("long",!0),1);case"Z":case"ZZ":return zA(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return zA(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return h0(/[a-z_+-/]{1,256}?/i);case" ":return h0(/[^\S\n\r]/);default:return y(E)}})(e)||{invalidReason:NG};return _.token=e,_}const DG={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function FG(e,t,i){const{type:r,value:s}=e;if(r==="literal"){const l=/^\s+$/.test(s);return{literal:!l,val:l?" ":s}}const n=t[r];let o=r;r==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=DG[o];if(typeof a=="object"&&(a=a[n]),a)return{literal:!1,val:a}}function UG(e){return[`^${e.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,e]}function jG(e,t,i){const r=e.match(t);if(r){const s={};let n=1;for(const o in i)if(Fh(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(r.slice(n,n+l))),n+=l}return[r,s]}else return[r,{}]}function BG(e){const t=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Ve(e.z)||(i=On.create(e.z)),Ve(e.Z)||(i||(i=new xr(e.Z)),r=e.Z),Ve(e.q)||(e.M=(e.q-1)*3+1),Ve(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),Ve(e.u)||(e.S=ES(e.u)),[Object.keys(e).reduce((n,o)=>{const a=t(o);return a&&(n[a]=e[o]),n},{}),i,r]}let Ab=null;function VG(){return Ab||(Ab=Ce.fromMillis(1555555555555)),Ab}function GG(e,t){if(e.literal)return e;const i=wr.macroTokenToFormatOpts(e.val),r=v6(i,t);return r==null||r.includes(void 0)?e:r}function m6(e,t){return Array.prototype.concat(...e.map(i=>GG(i,t)))}class y6{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=m6(wr.parseFormat(i),t),this.units=this.tokens.map(r=>RG(r,t)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=UG(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(t){if(this.isValid){const[i,r]=jG(t,this.regex,this.handlers),[s,n,o]=r?BG(r):[null,null,void 0];if(Fh(r,"a")&&Fh(r,"H"))throw new Zu("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function g6(e,t,i){return new y6(e,i).explainFromTokens(t)}function zG(e,t,i){const{result:r,zone:s,specificOffset:n,invalidReason:o}=g6(e,t,i);return[r,s,n,o]}function v6(e,t){if(!e)return null;const r=wr.create(t,e).dtFormatter(VG()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(o=>FG(o,e,n))}const Mb="Invalid DateTime",qA=864e13;function id(e){return new dn("unsupported zone",`the zone "${e.name}" is not supported`)}function Ob(e){return e.weekData===null&&(e.weekData=mg(e.c)),e.weekData}function Ib(e){return e.localWeekData===null&&(e.localWeekData=mg(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Vl(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ce({...i,...t,old:i})}function b6(e,t,i){let r=e-t*60*1e3;const s=i.offset(r);if(t===s)return[r,t];r-=(s-t)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[e-Math.min(s,n)*60*1e3,Math.max(s,n)]}function f0(e,t){e+=t*60*1e3;const i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function oy(e,t,i){return b6(Y1(e),t,i)}function WA(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,n={...e.c,year:r,month:s,day:Math.min(e.c.day,yg(r,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=ut.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Y1(n);let[l,c]=b6(a,i,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function Eu(e,t,i,r,s,n){const{setZone:o,zone:a}=i;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Ce.fromObject(e,{...i,zone:l,specificOffset:n});return o?c:c.setZone(a)}else return Ce.invalid(new dn("unparsable",`the input "${s}" can't be parsed as ${r}`))}function d0(e,t,i=!0){return e.isValid?wr.create(St.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function $b(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=Oi(e.c.year,i?6:4),t?(r+="-",r+=Oi(e.c.month),r+="-",r+=Oi(e.c.day)):(r+=Oi(e.c.month),r+=Oi(e.c.day)),r}function HA(e,t,i,r,s,n){let o=Oi(e.c.hour);return t?(o+=":",o+=Oi(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=":")):o+=Oi(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!i)&&(o+=Oi(e.c.second),(e.c.millisecond!==0||!r)&&(o+=".",o+=Oi(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!n?o+="Z":e.o<0?(o+="-",o+=Oi(Math.trunc(-e.o/60)),o+=":",o+=Oi(Math.trunc(-e.o%60))):(o+="+",o+=Oi(Math.trunc(e.o/60)),o+=":",o+=Oi(Math.trunc(e.o%60)))),n&&(o+="["+e.zone.ianaName+"]"),o}const _6={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},qG={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},WG={ordinal:1,hour:0,minute:0,second:0,millisecond:0},w6=["year","month","day","hour","minute","second","millisecond"],HG=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],YG=["year","ordinal","hour","minute","second","millisecond"];function JG(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new x5(e);return t}function YA(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return JG(e)}}function ZG(e){return ly[e]||(ay===void 0&&(ay=ui.now()),ly[e]=e.offset(ay)),ly[e]}function JA(e,t){const i=Xa(t.zone,ui.defaultZone);if(!i.isValid)return Ce.invalid(id(i));const r=St.fromObject(t);let s,n;if(Ve(e.year))s=ui.now();else{for(const l of w6)Ve(e[l])&&(e[l]=_6[l]);const o=W5(e)||H5(e);if(o)return Ce.invalid(o);const a=ZG(i);[s,n]=oy(e,a,i)}return new Ce({ts:s,zone:i,loc:r,o:n})}function ZA(e,t,i){const r=Ve(i.round)?!0:i.round,s=(o,a)=>(o=TS(o,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(o,a)),n=o=>i.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(i.unit)return s(n(i.unit),i.unit);for(const o of i.units){const a=n(o);if(Math.abs(a)>=1)return s(a,o)}return s(e>t?-0:0,i.units[i.units.length-1])}function KA(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}let ay,ly={};class Ce{constructor(t){const i=t.zone||ui.defaultZone;let r=t.invalid||(Number.isNaN(t.ts)?new dn("invalid input"):null)||(i.isValid?null:id(i));this.ts=Ve(t.ts)?ui.now():t.ts;let s=null,n=null;if(!r)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,n]=[t.old.c,t.old.o];else{const a=al(t.o)&&!t.old?t.o:i.offset(this.ts);s=f0(this.ts,a),r=Number.isNaN(s.year)?new dn("invalid input"):null,s=r?null:s,n=r?null:a}this._zone=i,this.loc=t.loc||St.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new Ce({})}static local(){const[t,i]=KA(arguments),[r,s,n,o,a,l,c]=i;return JA({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,i]=KA(arguments),[r,s,n,o,a,l,c]=i;return t.zone=xr.utcInstance,JA({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,i={}){const r=AV(t)?t.valueOf():NaN;if(Number.isNaN(r))return Ce.invalid("invalid input");const s=Xa(i.zone,ui.defaultZone);return s.isValid?new Ce({ts:r,zone:s,loc:St.fromObject(i)}):Ce.invalid(id(s))}static fromMillis(t,i={}){if(al(t))return t<-qA||t>qA?Ce.invalid("Timestamp out of range"):new Ce({ts:t,zone:Xa(i.zone,ui.defaultZone),loc:St.fromObject(i)});throw new mr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(al(t))return new Ce({ts:t*1e3,zone:Xa(i.zone,ui.defaultZone),loc:St.fromObject(i)});throw new mr("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};const r=Xa(i.zone,ui.defaultZone);if(!r.isValid)return Ce.invalid(id(r));const s=St.fromObject(i),n=gg(t,YA),{minDaysInFirstWeek:o,startOfWeek:a}=kA(n,s),l=ui.now(),c=Ve(i.specificOffset)?r.offset(l):i.specificOffset,f=!Ve(n.ordinal),d=!Ve(n.year),p=!Ve(n.month)||!Ve(n.day),y=d||p,v=n.weekYear||n.weekNumber;if((y||f)&&v)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Zu("Can't mix ordinal dates with month/day");const _=v||n.weekday&&!y;let E,S,A=f0(l,c);_?(E=HG,S=qG,A=mg(A,o,a)):f?(E=YG,S=WG,A=Tb(A)):(E=w6,S=_6);let w=!1;for(const U of E){const j=n[U];Ve(j)?w?n[U]=S[U]:n[U]=A[U]:w=!0}const b=_?SV(n,o,a):f?EV(n):W5(n),M=b||H5(n);if(M)return Ce.invalid(M);const O=_?PA(n,o,a):f?LA(n):n,[C,P]=oy(O,c,r),N=new Ce({ts:C,zone:r,o:P,loc:s});return n.weekday&&y&&t.weekday!==N.weekday?Ce.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${N.toISO()}`):N.isValid?N:Ce.invalid(N.invalid)}static fromISO(t,i={}){const[r,s]=mG(t);return Eu(r,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){const[r,s]=yG(t);return Eu(r,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){const[r,s]=gG(t);return Eu(r,s,i,"HTTP",i)}static fromFormat(t,i,r={}){if(Ve(t)||Ve(i))throw new mr("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[a,l,c,f]=zG(o,t,i);return f?Ce.invalid(f):Eu(a,l,r,`format ${i}`,t,c)}static fromString(t,i,r={}){return Ce.fromFormat(t,i,r)}static fromSQL(t,i={}){const[r,s]=EG(t);return Eu(r,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new mr("need to specify a reason the DateTime is invalid");const r=t instanceof dn?t:new dn(t,i);if(ui.throwOnInvalid)throw new ZB(r);return new Ce({invalid:r})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){const r=v6(t,St.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return m6(wr.parseFormat(t),St.fromObject(i)).map(s=>s.val).join("")}static resetCache(){ay=void 0,ly={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ob(this).weekYear:NaN}get weekNumber(){return this.isValid?Ob(this).weekNumber:NaN}get weekday(){return this.isValid?Ob(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ib(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ib(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ib(this).weekYear:NaN}get ordinal(){return this.isValid?Tb(this.c).ordinal:NaN}get monthShort(){return this.isValid?u0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?u0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?u0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?u0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,i=6e4,r=Y1(this.c),s=this.zone.offset(r-t),n=this.zone.offset(r+t),o=this.zone.offset(r-s*i),a=this.zone.offset(r-n*i);if(o===a)return[this];const l=r-o*i,c=r-a*i,f=f0(l,o),d=f0(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[Vl(this,{ts:l}),Vl(this,{ts:c})]:[this]}get isInLeapYear(){return bm(this.year)}get daysInMonth(){return yg(this.year,this.month)}get daysInYear(){return this.isValid?ph(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ap(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ap(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:i,numberingSystem:r,calendar:s}=wr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(xr.instance(t),i)}toLocal(){return this.setZone(ui.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(t=Xa(t,ui.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||r){const n=t.offset(this.ts),o=this.toObject();[s]=oy(o,n,t)}return Vl(this,{ts:s,zone:t})}else return Ce.invalid(id(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:r});return Vl(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const i=gg(t,YA),{minDaysInFirstWeek:r,startOfWeek:s}=kA(i,this.loc),n=!Ve(i.weekYear)||!Ve(i.weekNumber)||!Ve(i.weekday),o=!Ve(i.ordinal),a=!Ve(i.year),l=!Ve(i.month)||!Ve(i.day),c=a||l,f=i.weekYear||i.weekNumber;if((c||o)&&f)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Zu("Can't mix ordinal dates with month/day");let d;n?d=PA({...mg(this.c,r,s),...i},r,s):Ve(i.ordinal)?(d={...this.toObject(),...i},Ve(i.day)&&(d.day=Math.min(yg(d.year,d.month),d.day))):d=LA({...Tb(this.c),...i});const[p,y]=oy(d,this.o,this.zone);return Vl(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t);return Vl(this,WA(this,i))}minus(t){if(!this.isValid)return this;const i=ut.fromDurationLike(t).negate();return Vl(this,WA(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=ut.normalizeUnit(t);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?wr.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):Mb}toLocaleString(t=pg,i={}){return this.isValid?wr.create(this.loc.clone(i),t).formatDateTime(this):Mb}toLocaleParts(t={}){return this.isValid?wr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=$b(this,o);return a+="T",a+=HA(this,o,i,r,s,n),a}toISODate({format:t="extended"}={}){return this.isValid?$b(this,t==="extended"):null}toISOWeekDate(){return d0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended"}={}){return this.isValid?(s?"T":"")+HA(this,o==="extended",i,t,r,n):null}toRFC2822(){return d0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return d0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?$b(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(r&&(s+=" "),i?s+="z":t&&(s+="ZZ")),d0(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Mb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",r={}){if(!this.isValid||!t.isValid)return ut.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=MV(i).map(ut.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=CG(a,l,n,s);return o?c.negate():c}diffNow(t="milliseconds",i={}){return this.diff(Ce.now(),t,i)}until(t){return this.isValid?li.fromDateTimes(this,t):this}hasSame(t,i,r){if(!this.isValid)return!1;const s=t.valueOf(),n=this.setZone(t.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const i=t.base||Ce.fromObject({},{zone:this.zone}),r=t.padding?this<i?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(s=t.unit,n=void 0),ZA(i,this.plus(r),{...t,numeric:"always",units:s,unit:n})}toRelativeCalendar(t={}){return this.isValid?ZA(t.base||Ce.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ce.isDateTime))throw new mr("min requires all arguments be DateTimes");return RA(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(Ce.isDateTime))throw new mr("max requires all arguments be DateTimes");return RA(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return g6(o,t,i)}static fromStringExplain(t,i,r={}){return Ce.fromFormatExplain(t,i,r)}static buildFormatParser(t,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=St.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new y6(n,t)}static fromFormatParser(t,i,r={}){if(Ve(t)||Ve(i))throw new mr("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,o=St.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(i.locale))throw new mr(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=i.explainFromTokens(t);return f?Ce.invalid(f):Eu(a,l,r,`format ${i.format}`,t,c)}static get DATE_SHORT(){return pg}static get DATE_MED(){return S5}static get DATE_MED_WITH_WEEKDAY(){return QB}static get DATE_FULL(){return E5}static get DATE_HUGE(){return T5}static get TIME_SIMPLE(){return A5}static get TIME_WITH_SECONDS(){return M5}static get TIME_WITH_SHORT_OFFSET(){return O5}static get TIME_WITH_LONG_OFFSET(){return I5}static get TIME_24_SIMPLE(){return $5}static get TIME_24_WITH_SECONDS(){return C5}static get TIME_24_WITH_SHORT_OFFSET(){return N5}static get TIME_24_WITH_LONG_OFFSET(){return P5}static get DATETIME_SHORT(){return L5}static get DATETIME_SHORT_WITH_SECONDS(){return k5}static get DATETIME_MED(){return R5}static get DATETIME_MED_WITH_SECONDS(){return D5}static get DATETIME_MED_WITH_WEEKDAY(){return eV}static get DATETIME_FULL(){return F5}static get DATETIME_FULL_WITH_SECONDS(){return U5}static get DATETIME_HUGE(){return j5}static get DATETIME_HUGE_WITH_SECONDS(){return B5}}function Rf(e){if(Ce.isDateTime(e))return e;if(e&&e.valueOf&&al(e.valueOf()))return Ce.fromJSDate(e);if(e&&typeof e=="object")return Ce.fromObject(e);throw new mr(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const KG="HH:mm",XG="HH:mm:ss",QG="HH:mm:ss.SSS",ez=[QG,XG,KG,"TT"],tz="yyyy-MM-dd";function XA(e){if(!e||!vm(e))return null;const t=Ce.fromFormat(e,tz);return t.isValid?t:null}function QA(e){return e&&vm(e)?uD(ez,t=>{const i=Ce.fromFormat(e,t);return i.isValid?i:null})??null:null}function e4(e){if(!e||!vm(e))return null;const t=Ce.fromISO(e);return t.isValid?t:null}var vg;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(vg||(vg={}));const x6=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function iz(e){return e!=null&&x6.has(e.type)}function S6(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function E6(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function T6(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}const rz=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);Xx(x6,rz);function Uye(e,t){const i=e?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=iz(e);return S6(e)||T6(e)||E6(e)?{...sz(e,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function sz(e,t,i){return S6(e)?{min:XA(i)?.toMillis(),max:XA(t)?.toMillis(),rawMin:i,rawMax:t}:T6(e)?{min:QA(i)?.toMillis(),max:QA(t)?.toMillis(),rawMin:i,rawMax:t}:E6(e)?{min:e4(i)?.toMillis(),max:e4(t)?.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}function nz(e){if(!e)return;const t=e.match(oz);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}const oz=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function jye(e){return e.match(az)?.[1]?.replace(/\\'/g,"'")??null}const az=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let Qn=class{};function lz(e){return e instanceof ru?e===Qn.instance:e?.toString().toLowerCase()==="unknown"}function Vye(e){return lz(e)?Qn.instance:e}Qn.instance=new On("Etc/UTC");var bg;(function(e){e.TimeZoneNotRecognized="TimeZoneNotRecognized"})(bg||(bg={}));const cz={[bg.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};let uz=class A6 extends Error{constructor(t,i){super(Gx(cz[t],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,A6)}};function Tu(e,t,i){return e<t?e-t:e>i?e-i:0}function Au(e,t,i){return e<t?t:e>i?i:e}let p0=class mi{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,i=1,r=1,s=0,n=0,o=0,a=0,l){if(isNaN(t)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o)||isNaN(a))return null;const c=Ce.local(t,i).daysInMonth;let f=Ce.fromObject({day:Au(r,1,c),year:t,month:Au(i,1,12),hour:Au(s,0,23),minute:Au(n,0,59),second:Au(o,0,59),millisecond:Au(a,0,999)},{zone:Gl(l)});return f=f.plus({months:Tu(i,1,12),days:Tu(r,1,c),hours:Tu(s,0,23),minutes:Tu(n,0,59),seconds:Tu(o,0,59),milliseconds:Tu(a,0,999)}),new mi(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,i){const r=Gl(i);return t.isUnknownTimeZone||r===Qn.instance?mi.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,r):new mi(t._date.setZone(r))}static dateJSToArcadeDate(t){return new mi(Ce.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,i="system"){const r=Gl(i);return new mi(Ce.fromJSDate(t,{zone:r}))}static unknownEpochToArcadeDate(t){return new mi(Ce.fromMillis(t,{zone:Qn.instance}))}static unknownDateJSToArcadeDate(t){return new mi(Ce.fromMillis(t.getTime(),{zone:Qn.instance}))}static epochToArcadeDate(t,i="system"){const r=Gl(i);return new mi(Ce.fromMillis(t,{zone:r}))}static dateTimeToArcadeDate(t){return new mi(t)}clone(){return new mi(this._date)}changeTimeZone(t){const i=Gl(t);return mi.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(t,i){const r=Gl(i);return t.zone===Qn.instance||r===Qn.instance?mi.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,r):new mi(t.setZone(r))}static nowToArcadeDate(t){const i=Gl(t);return new mi(Ce.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new mi(Ce.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===mi.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===Qn.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const t=this.zone;return t.type==="fixed"?t.fixed===0?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new mi(this._date.plus(t))}diff(t,i="milliseconds"){return this._date.diff(t._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,i){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(t,i){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new mi(this._date.toUTC())}toLocal(){return new mi(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const i=Ce.fromISO(t,{setZone:!0});return new mi(i)}};function Gl(e,t=!0){if(e instanceof ru)return e;if(e.toLowerCase()==="system")return"system";if(e.toLowerCase()==="utc")return"UTC";if(e.toLowerCase()==="unknown")return Qn.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const r=xr.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(r)return r}const i=On.create(e);if(!i.isValid){if(t)throw new uz(bg.TimeZoneNotRecognized);return null}return i}const hz=()=>Lt.getLogger("esri.support.arcadeOnDemand"),fz=["geometry","scale","timeProperties"];function Gye(e,t){if(t!=null)for(const i of fz)t.hasArcadeDependency(i)&&e.add(i);return e}let Cb;function M6(){return Cb||(Cb=(async()=>{const e=await Se(()=>import("./arcadeUtils-DgNedNN3.js"),__vite__mapDeps([18,19,1,20,21,22,17,23,24,25,26,27,28,29,30,31,16,5]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),Cb}const zye=(e,t,i)=>O6.create(e,t,i,null,["$feature","$view"],[]),qye=(e,t,i,r)=>O6.create(e,t,i,r,["$feature","$view"],[]);let O6=class I6{constructor(t,i,r,s,n,o,a){this._dependencies=new Map,this.services=null,this.script=t,this.evaluate=s;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=r,this._arcade=i,this._arcadeFeature=n,this._spatialReference=a,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}static async create(t,i,r,s,n,o){const{arcade:a,Feature:l,Dictionary:c}=await M6(),f=i instanceof qi?i:qi.fromJSON(i);let d;try{d=a.parseScript(t,o)}catch(P){return hz().error(new ft("arcade-bad-expression","Failed to parse arcade script",{script:t,error:P})),null}const p=n.reduce((P,N)=>({...P,[N]:null}),{});let y=null;s!=null&&(y=new c(s),y.immutable=!0,p.$config=null);const v=a.scriptUsesGeometryEngine(d),_=v&&a.enableGeometrySupport(),E=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),S=a.scriptIsAsync(d),A=S&&a.enableAsyncSupport(),w={vars:p,spatialReference:f,useAsync:!!A};await Promise.all([_,E,A]);const b=new Set;await a.loadDependentModules(b,d,null,S,v);const M=new c;M.immutable=!1,M.setField("scale",0);const O=a.compileScript(d,w),C=(P,N)=>{const U=P.$view?.timeZone;if("$view"in P&&P.$view){let j;if(M.setField("scale",typeof P.$view=="object"&&"scale"in P.$view?P.$view.scale:void 0),typeof P.$view=="object"&&"timeProperties"in P.$view&&P.$view.timeProperties!=null){const{currentStart:F,currentEnd:q}=P.$view.timeProperties;j=new c({currentStart:F!=null?U!=null?p0.epochToArcadeDate(F,U):p0.unknownEpochToArcadeDate(F):void 0,currentEnd:q!=null?U!=null?p0.epochToArcadeDate(q,U):p0.unknownEpochToArcadeDate(q):void 0,startIncluded:!0,endIncluded:!0})}M.setField("timeProperties",j),P.$view=M}return y&&(P.$config=y),O({vars:P,spatialReference:f,services:N,timeZone:U})};return new I6(t,a,d,C,new l,r,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}references(t){return this._dependencies.get(t)??!1}};const dz=/^([0-9_])/,pz=/[^a-z0-9_\u0080-\uffff]+/gi;function Wye(e){return e==null?null:e.trim().replaceAll(pz,"_").replace(dz,"F$1")||null}const mz=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],yz=["field","normalizationField"];function Hye(e,t){if(e!=null&&t!=null){for(const i of Array.isArray(e)?e:[e])if(t4(mz,i,t),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)t4(yz,r,t)}}function t4(e,t,i){if(e)for(const r of e){const s=Vx(r,t),n=s&&typeof s!="function"&&i.get(s);n&&df(r,n.name,t)}}function Yye(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i?.name??null,e.endField=r?.name??null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i?.name??null,e.endTimeField=r?.name??null}}const Nb=new Set;function IS(e,t){return e&&t?(Nb.clear(),Mp(Nb,e,t),Array.from(Nb).sort()):[]}function Mp(e,t,i){if(i)if(t?.fields?.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)K1(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const r of i)r!=null&&e.add(r)}}function K1(e,t,i){if(typeof i=="string")if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function Jye(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(i=>i.name):t}function Zye(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=IS(e,t);return r.length/e.fields.length>=i?["*"]:r}async function Gc(e,t,i){if(!i)return;let r;const s=nz(i);if(s)r=[s];else{const{arcadeUtils:n}=await M6();r=n.extractFieldNames(i,t?.fields?.map(o=>o.name))}for(const n of r)K1(e,t,n)}async function $S(e,t,i){if(i&&i!=="1=1"){const r=await WB(i,t);if(!r.isStandardized)throw new ft("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Mp(e,t,r.fieldNames)}}function Kye({displayField:e,fields:t}){return e||(t?.length?Pb(t,"name-or-title")||Pb(t,"unique-identifier")||Pb(t,"type-or-category")||gz(t):null)}function gz(e){for(const t of e){if(!t?.name)continue;const i=t.name.toLowerCase();if(i.includes("name")||i.includes("title"))return t.name}return null}function Pb(e,t){for(const i of e)if(i?.valueType&&i.valueType===t)return i.name;return null}async function Xye(e,t){if(!t)return;const i=t.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}function vz(e,t,i){i.onStatisticExpression?Gc(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}async function Qye(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push($6(e,t,s)),i.fields&&r.push(...i.fields.map(async n=>vz(e,t.fieldsIndex,n))),await Promise.all(r)}async function ege(e,t){const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const s=[r.latestObservations.renderer?.collectRequiredFields(e,i),r.previousObservations.renderer?.collectRequiredFields(e,i),r.trackLines.renderer?.collectRequiredFields(e,i)];r.popupTemplate&&s.push($6(e,t,r.popupTemplate));for(const n of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(n)for(const o of n)s.push(P6(e,i,o));await Promise.all(s)}async function $6(e,t,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(n=>Gc(e,t.fieldsIndex,n.expression)));const s=i?.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(Gc(e,t.fieldsIndex,n.expressionInfo.expression));await Promise.all(r)}async function tge(e,t,i){t&&(t.timeInfo&&i?.timeExtent&&Mp(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Mp(e,t.fieldsIndex,[t.floorInfo.floorField]),i?.where!=null&&await $S(e,t.fieldsIndex,i.where))}async function ige(e,t,i){t&&i&&await Promise.all(i.map(r=>bz(e,t,r)))}async function bz(e,t,i){t&&i&&(i.valueExpression?await Gc(e,t.fieldsIndex,i.valueExpression):i.field&&K1(e,t.fieldsIndex,i.field))}function rge(e){return e?IS(e.fieldsIndex,C6(e)):[]}function _z(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?IS(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}async function sge(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map(s=>$S(e,r,s.where)))}const wz=new Set(["oid","global-id","guid"]),xz=new Set(["oid","global-id"]),Sz=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function Ez(e){const t=new Set;N6(e).forEach(r=>t.add(r)),_z(e).forEach(r=>t.add(r.toLowerCase()));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>t.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>t.add(r.toLowerCase()))),Array.from(t)}function C6(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=t;return[i,r,s,n].filter(Boolean)}function N6(e){return C6(e).map(t=>t.toLowerCase())}function nge(e,t){return e.editable&&!wz.has(e.type)&&!N6(t).includes(e.name?.toLowerCase()??"")}function oge(e,t){const i=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&i===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&i===t.globalIdField.toLowerCase()||Ez(t).includes(i)||xz.has(e.type)||Sz.some(r=>r.test(i)))}async function age(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i?.length&&await Promise.all(i.map(s=>P6(e,r,s)))}async function P6(e,t,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await Gc(e,t,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{K1(e,t,o.slice(1,-1))})}await $S(e,t,s)}function lge(e){const t=e.defaultValue;return t!==void 0&&k6(e,t)?t:e.nullable?null:void 0}function cge(e){const t=typeof e=="string"?{type:e}:e;return kz(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function L6(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Tz(e){return e===null||L6(e)}function Az(e){return e===null||Number.isInteger(e)}function Mz(){return!0}function k6(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Az:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?Tz:L6;break;case"string":case"esriFieldTypeString":i=e.nullable?JB:vm;break;default:i=Mz}return arguments.length===1?i:i(t)}const Oz=["integer","small-integer","big-integer"],Iz=["single","double"],$z=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],Cz=["esriFieldTypeSingle","esriFieldTypeDouble"],R6=new Set([...Oz,...$z]),Nz=new Set([...Iz,...Cz]),Pz=Xx(R6,Nz);function uge(e){return e!=null&&R6.has(e.type)}function Lz(e){return e!=null&&Pz.has(e.type)}function kz(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function hge(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function fge(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function dge(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function pge(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function mge(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function yge(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function gge(e,t){return Rz(e,t)===null}var _g,wg;function vge(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function Rz(e,t){return e==null||e.nullable&&t===null?null:k6(e,t)?Lz(e)&&!Dz(e.type,Number(t))?_g.OUT_OF_RANGE:null:wg.INVALID_TYPE}function Dz(e,t){const i=typeof e=="string"?D6(e):e;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=s:t>=r&&t<=s}function D6(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Fz;case"esriFieldTypeInteger":case"integer":return Uz;case"esriFieldTypeBigInteger":case"big-integer":return jz;case"esriFieldTypeSingle":case"single":return Bz;case"esriFieldTypeDouble":case"double":return Vz}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(_g||(_g={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(wg||(wg={}));const Fz={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Uz={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},jz={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Bz={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Vz={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function bge(e,t,i){switch(e){case vg.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case vg.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case wg.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case _g.OUT_OF_RANGE:{const{min:r,max:s}=D6(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${r} to ${s}`}}}function _ge(e,t){return!Gz(e,t,null)}function Gz(e,t,i){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function wge(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function zz(e){const t=e?.match(/{[^}]+}/g);return t?t.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let cy=class extends et{constructor(t){super(t),this.type=null}};g([T({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],cy.prototype,"type",void 0),cy=g([ie("esri.popup.content.Content")],cy);const ca=cy,m0=new yo({asc:"ascending",desc:"descending"});let rd=class extends Ao.ClonableMixin(et){constructor(t){super(t),this.field=null,this.order="ascending"}};g([T({type:String,json:{write:!0}})],rd.prototype,"field",void 0),g([T({type:m0.apiValues,json:{type:m0.jsonValues,read:m0.read,write:m0.write}})],rd.prototype,"order",void 0),rd=g([ie("esri.popup.support.AttachmentsOrderByInfo")],rd);const qz=rd;let Ia=class extends Ao.ClonableMixin(ca){constructor(t){super(t),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};g([T({type:String,json:{write:!0}})],Ia.prototype,"description",void 0),g([T({type:["auto","preview","list"],json:{write:!0}})],Ia.prototype,"displayType",void 0),g([T({type:[qz],json:{write:!0}})],Ia.prototype,"orderByFields",void 0),g([T({type:String,json:{write:!0}})],Ia.prototype,"title",void 0),g([T({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ia.prototype,"type",void 0),Ia=g([ie("esri.popup.content.AttachmentsContent")],Ia);const Op=Ia;var m2;let Xl=m2=class extends ca{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new m2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};g([T()],Xl.prototype,"creator",void 0),g([T()],Xl.prototype,"destroyer",void 0),g([T()],Xl.prototype,"outFields",void 0),g([T({type:["custom"],readOnly:!0})],Xl.prototype,"type",void 0),Xl=m2=g([ie("esri.popup.content.CustomContent")],Xl);const Wz=Xl;var y2;let ku=y2=class extends et{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new y2({title:this.title,expression:this.expression})}};g([T({type:String,json:{write:!0}})],ku.prototype,"title",void 0),g([T({type:String,json:{write:!0}})],ku.prototype,"expression",void 0),g([T({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],ku.prototype,"returnType",void 0),ku=y2=g([ie("esri.popup.ElementExpressionInfo")],ku);const Hz=ku;var g2;let sd=g2=class extends ca{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new g2({expressionInfo:this.expressionInfo?.clone()})}};g([T({type:Hz,json:{write:!0}})],sd.prototype,"expressionInfo",void 0),g([T({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],sd.prototype,"type",void 0),sd=g2=g([ie("esri.popup.content.ExpressionContent")],sd);const X1=sd;function ot(e,t={}){const i=e instanceof yo?e:new yo(e,t),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return T({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:o,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let Fd;const Yz=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,v2=globalThis.document?.documentElement;function F6(){const e=v2?.getAttribute("lang"),t=globalThis.navigator?.language;return Yz??e??t??"en"}function yh(){return Fd===void 0&&(Fd=F6()),Fd}function Tge(e=yh()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const uy=[];function Age(e){return uy.push(e),Ei(()=>uy.splice(uy.indexOf(e),1))}const hy=[];function Jz(e){return hy.push(e),Ei(()=>hy.splice(hy.indexOf(e),1))}function i4(){const e=F6();Fd!==e&&([...hy].forEach(t=>t(e)),Fd=e,[...uy].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",i4),v2&&new MutationObserver(()=>{i4()}).observe(v2,{attributeFilter:["lang"]});const U6="system",Zz="unknown",CS="UTC",Kz=Intl.DateTimeFormat().resolvedOptions().timeZone,Xz={year:void 0,month:void 0,day:void 0,weekday:void 0},Qz={hour:void 0,minute:void 0,second:void 0},j6={timeZone:CS},Dn={year:"numeric",month:"numeric",day:"numeric"},Df={year:"numeric",month:"long",day:"numeric"},Ff={year:"numeric",month:"short",day:"numeric"},Uf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Ga={hour:"numeric",minute:"numeric"},Ql={...Ga,second:"numeric"},B6={hourCycle:"h23"},jf={...Ga,...B6},Bf={...Ql,...B6},V6={"short-date":Dn,"short-date-short-time":{...Dn,...Ga},"short-date-short-time-24":{...Dn,...jf},"short-date-long-time":{...Dn,...Ql},"short-date-long-time-24":{...Dn,...Bf},"short-date-le":Dn,"short-date-le-short-time":{...Dn,...Ga},"short-date-le-short-time-24":{...Dn,...jf},"short-date-le-long-time":{...Dn,...Ql},"short-date-le-long-time-24":{...Dn,...Bf},"long-month-day-year":Df,"long-month-day-year-short-time":{...Df,...Ga},"long-month-day-year-short-time-24":{...Df,...jf},"long-month-day-year-long-time":{...Df,...Ql},"long-month-day-year-long-time-24":{...Df,...Bf},"day-short-month-year":Ff,"day-short-month-year-short-time":{...Ff,...Ga},"day-short-month-year-short-time-24":{...Ff,...jf},"day-short-month-year-long-time":{...Ff,...Ql},"day-short-month-year-long-time-24":{...Ff,...Bf},"long-date":Uf,"long-date-short-time":{...Uf,...Ga},"long-date-short-time-24":{...Uf,...jf},"long-date-long-time":{...Uf,...Ql},"long-date-long-time-24":{...Uf,...Bf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Ga,"long-time":Ql},eq=Cn()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),G6={ar:"ar-u-nu-latn-ca-gregory"};let b2=new WeakMap;const Q1=V6["short-date-short-time"];function tq(e){let t=b2.get(e);if(!t){const i=yh(),r=G6[i]||i,s=iq(e.timeZone??U6),n={...e,timeZone:s};t=new Intl.DateTimeFormat(r,n),b2.set(e,t)}return t}function Mge(e){return V6[e]}function NS(e,t=Q1){return tq(t).format(e)}function Oge(e,t=Q1){return NS(new Date(e),{...t,...j6,...Qz})}function Ige(e,t=Q1){return NS(new Date(`1970-01-01T${e}Z`),{...t,...j6,...Xz})}function $ge(e,t=Q1){if(t.timeZone)return NS(new Date(e),t);const i=Ce.fromISO(e,{setZone:!0}),r=yh(),s=G6[r]??r,n=i.offset===0?CS:t.timeZone,o={...t,timeZone:n};return i.toLocaleString(o,{locale:s})}function iq(e){switch(e){case U6:return Kz;case Zz:return CS;default:return e}}Jz(()=>{b2=new WeakMap});let Ru=class extends Ao.ClonableMixin(et){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};g([ot(eq)],Ru.prototype,"dateFormat",void 0),g([T({type:Boolean,json:{write:!0}})],Ru.prototype,"digitSeparator",void 0),g([T({type:$i,json:{write:!0}})],Ru.prototype,"places",void 0),Ru=g([ie("esri.popup.support.FieldInfoFormat")],Ru);const rq=Ru;var _2;let sn=_2=class extends et{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new _2({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};g([T({type:String,json:{write:!0}})],sn.prototype,"fieldName",void 0),g([T({type:rq,json:{write:!0}})],sn.prototype,"format",void 0),g([T({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],sn.prototype,"isEditable",void 0),g([T({type:String,json:{write:!0}})],sn.prototype,"label",void 0),g([ot(new yo({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],sn.prototype,"stringFieldOption",void 0),g([T({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],sn.prototype,"statisticType",void 0),g([T({type:String,json:{write:!0}})],sn.prototype,"tooltip",void 0),g([T({type:Boolean,json:{write:!0}})],sn.prototype,"visible",void 0),sn=_2=g([ie("esri.popup.FieldInfo")],sn);const z6=sn;var w2;let Ro=w2=class extends ca{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(i=>i.toJSON())}clone(){return new w2(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};g([T({type:Object,json:{write:!0}})],Ro.prototype,"attributes",void 0),g([T({type:String,json:{write:!0}})],Ro.prototype,"description",void 0),g([T({type:[z6]})],Ro.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Ro.prototype,"writeFieldInfos",null),g([T({type:String,json:{write:!0}})],Ro.prototype,"title",void 0),g([T({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ro.prototype,"type",void 0),Ro=w2=g([ie("esri.popup.content.FieldsContent")],Ro);const Ip=Ro;let ec=class extends et{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};g([T({type:String,json:{write:!0}})],ec.prototype,"altText",void 0),g([T({type:String,json:{write:!0}})],ec.prototype,"caption",void 0),g([T({type:String,json:{write:!0}})],ec.prototype,"title",void 0),g([T({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ec.prototype,"type",void 0),ec=g([ie("esri.popup.content.mixins.MediaInfo")],ec);const PS=ec;var x2;let tc=x2=class extends Qi{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new x2({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};g([T()],tc.prototype,"color",void 0),g([T()],tc.prototype,"fieldName",void 0),g([T()],tc.prototype,"tooltip",void 0),g([T()],tc.prototype,"value",void 0),tc=x2=g([ie("esri.popup.content.support.ChartMediaInfoValueSeries")],tc);const sq=tc;var S2;let $a=S2=class extends et{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new S2({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};g([T({type:[dt],json:{type:[[$i]],write:!0}})],$a.prototype,"colors",void 0),g([T({type:[String],json:{write:{isRequired:!0}}})],$a.prototype,"fields",void 0),g([T({type:String,json:{write:!0}})],$a.prototype,"normalizeField",void 0),g([T({type:[sq],json:{read:!1}})],$a.prototype,"series",void 0),g([T({type:String,json:{write:!0}})],$a.prototype,"tooltipField",void 0),$a=S2=g([ie("esri.popup.content.support.ChartMediaInfoValue")],$a);const nq=$a;let nd=class extends PS{constructor(t){super(t),this.type=null,this.value=void 0}};g([T({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],nd.prototype,"type",void 0),g([T({type:nq,json:{write:{isRequired:!0}}})],nd.prototype,"value",void 0),nd=g([ie("esri.popup.content.mixins.ChartMediaInfo")],nd);const ev=nd,tv=Cn()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var E2;let fy=E2=class extends ev{constructor(e){super(e),this.type="bar-chart"}clone(){return new E2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:tv.write,isRequired:!0}}})],fy.prototype,"type",void 0),fy=E2=g([ie("esri.popup.content.BarChartMediaInfo")],fy);const q6=fy;var T2;let dy=T2=class extends ev{constructor(e){super(e),this.type="column-chart"}clone(){return new T2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:tv.write,isRequired:!0}}})],dy.prototype,"type",void 0),dy=T2=g([ie("esri.popup.content.ColumnChartMediaInfo")],dy);const W6=dy;var A2;let od=A2=class extends et{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new A2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};g([T({type:String,json:{write:!0}})],od.prototype,"linkURL",void 0),g([T({type:String,json:{write:{isRequired:!0}}})],od.prototype,"sourceURL",void 0),od=A2=g([ie("esri.popup.content.support.ImageMediaInfoValue")],od);const oq=od;var M2;let Du=M2=class extends PS{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new M2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};g([T({type:Number,json:{write:!0}})],Du.prototype,"refreshInterval",void 0),g([T({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Du.prototype,"type",void 0),g([T({type:oq,json:{write:{isRequired:!0}}})],Du.prototype,"value",void 0),Du=M2=g([ie("esri.popup.content.ImageMediaInfo")],Du);const H6=Du;var O2;let py=O2=class extends ev{constructor(e){super(e),this.type="line-chart"}clone(){return new O2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:tv.write,isRequired:!0}}})],py.prototype,"type",void 0),py=O2=g([ie("esri.popup.content.LineChartMediaInfo")],py);const Y6=py;var I2;let my=I2=class extends ev{constructor(e){super(e),this.type="pie-chart"}clone(){return new I2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};g([T({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:tv.write,isRequired:!0}}})],my.prototype,"type",void 0),my=I2=g([ie("esri.popup.content.PieChartMediaInfo")],my);const J6=my,$2={base:PS,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":q6,"column-chart":W6,"line-chart":Y6,"pie-chart":J6,image:H6}};var C2;let nn=C2=class extends ca{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?H6.fromJSON(t):t.type==="barchart"?q6.fromJSON(t):t.type==="columnchart"?W6.fromJSON(t):t.type==="linechart"?Y6.fromJSON(t):t.type==="piechart"?J6.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(i=>i.toJSON())}clone(){return new C2(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};g([T()],nn.prototype,"activeMediaInfoIndex",void 0),g([T({type:Object,json:{write:!0}})],nn.prototype,"attributes",void 0),g([T({type:String,json:{write:!0}})],nn.prototype,"description",void 0),g([T({types:[$2]})],nn.prototype,"mediaInfos",void 0),g([Xi("mediaInfos")],nn.prototype,"readMediaInfos",null),g([Jt("mediaInfos")],nn.prototype,"writeMediaInfos",null),g([T({type:String,json:{write:!0}})],nn.prototype,"title",void 0),g([T({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],nn.prototype,"type",void 0),nn=C2=g([ie("esri.popup.content.MediaContent")],nn);const $p=nn;var N2;let ad=N2=class extends et{constructor(e){super(e),this.field=null,this.order=null}clone(){return new N2({field:this.field,order:this.order})}};g([T({type:String,json:{write:!0}})],ad.prototype,"field",void 0),g([T({type:["asc","desc"],json:{write:!0}})],ad.prototype,"order",void 0),ad=N2=g([ie("esri.popup.support.RelatedRecordsInfoFieldOrder")],ad);const Z6=ad;let Vn=class extends Ao.ClonableMixin(ca){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};g([T({type:String,json:{write:!0}})],Vn.prototype,"description",void 0),g([T({type:Number,json:{type:$i,write:!0}})],Vn.prototype,"displayCount",void 0),g([T({type:["list"],json:{write:{isRequired:!0}}})],Vn.prototype,"displayType",void 0),g([T({type:[Z6],json:{write:!0}})],Vn.prototype,"orderByFields",void 0),g([T({type:Number,json:{type:$i,write:{isRequired:!0}}})],Vn.prototype,"relationshipId",void 0),g([T({type:String,json:{write:!0}})],Vn.prototype,"title",void 0),g([T({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Vn.prototype,"type",void 0),Vn=g([ie("esri.popup.content.RelationshipContent")],Vn);const Cp=Vn;var P2;let ld=P2=class extends ca{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new P2({text:this.text})}};g([T({type:String,json:{write:!0}})],ld.prototype,"text",void 0),g([T({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ld.prototype,"type",void 0),ld=P2=g([ie("esri.popup.content.TextContent")],ld);const Np=ld;let Do=class extends Ao.ClonableMixin(et){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};g([T({type:String,json:{write:!0}})],Do.prototype,"title",void 0),g([T({type:String,json:{write:!0}})],Do.prototype,"description",void 0),g([T({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Do.prototype,"type",void 0),g([T({type:Number,json:{type:$i,write:!0}})],Do.prototype,"associatedNetworkSourceId",void 0),g([T({type:Number,json:{type:$i,write:!0}})],Do.prototype,"associatedAssetGroup",void 0),g([T({type:Number,json:{type:$i,write:!0}})],Do.prototype,"associatedAssetType",void 0),Do=g([ie("esri.popup.support.UtilityNetworkAssociationType")],Do);const aq=Do;let Ca=class extends Ao.ClonableMixin(ca){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};g([T({type:String,json:{write:!0}})],Ca.prototype,"description",void 0),g([T({type:Number,json:{type:$i,write:!0}})],Ca.prototype,"displayCount",void 0),g([T({type:String,json:{write:!0}})],Ca.prototype,"title",void 0),g([T({type:[aq],json:{write:!0}})],Ca.prototype,"associationTypes",void 0),g([ot({utilityNetworkAssociations:"utility-network-associations"})],Ca.prototype,"type",void 0),Ca=g([ie("esri.popup.content.UtilityNetworkAssociationsContent")],Ca);const LS=Ca,lq={base:null,key:"type",typeMap:{attachment:Op,media:$p,text:Np,expression:X1,field:Ip,relationship:Cp,utilityNetworkAssociations:LS}},cq={base:null,key:"type",typeMap:{attachment:Op,media:$p,text:Np,expression:X1,field:Ip,relationship:Cp}};var L2;let ic=L2=class extends et{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new L2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};g([T({type:String,json:{write:!0}})],ic.prototype,"name",void 0),g([T({type:String,json:{write:!0}})],ic.prototype,"title",void 0),g([T({type:String,json:{write:!0}})],ic.prototype,"expression",void 0),g([T({type:["string","number"],json:{write:!0}})],ic.prototype,"returnType",void 0),ic=L2=g([ie("esri.popup.ExpressionInfo")],ic);const uq=ic;var k2;let cd=k2=class extends et{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new k2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};g([T({type:Boolean,json:{write:!0}})],cd.prototype,"returnTopmostRaster",void 0),g([T({type:Boolean,json:{write:!0}})],cd.prototype,"showNoDataRecords",void 0),cd=k2=g([ie("esri.popup.LayerOptions")],cd);const hq=cd;var R2;let ud=R2=class extends et{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new R2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};g([T({type:Boolean,json:{write:!0}})],ud.prototype,"showRelatedRecords",void 0),g([T({type:[Z6],json:{write:!0}})],ud.prototype,"orderByFields",void 0),ud=R2=g([ie("esri.popup.RelatedRecordsInfo")],ud);const r4=ud;let K6=0;const X6=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+K6++})}};return t=g([ie("esri.core.Identifiable")],t),t},fq=e=>{let t=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:K6++})}};return t=g([ie("esri.core.Identifiable.NumericIdentifiable")],t),t};let hd=class extends X6(class{}){};hd=g([ie("esri.core.Identifiable")],hd),function(e){e.IdentifiableMixin=X6,e.NumericIdentifiableMixin=fq}(hd||(hd={}));const dq=hd;var D2;let Is=D2=class extends dq.IdentifiableMixin(Qi){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new D2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};g([T()],Is.prototype,"active",void 0),g([T()],Is.prototype,"className",void 0),g([T()],Is.prototype,"disabled",void 0),g([T()],Is.prototype,"icon",void 0),g([T()],Is.prototype,"id",void 0),g([T()],Is.prototype,"indicator",void 0),g([T()],Is.prototype,"title",void 0),g([T()],Is.prototype,"type",void 0),g([T()],Is.prototype,"visible",void 0),Is=D2=g([ie("esri.support.actions.ActionBase")],Is);const kS=Is;var F2;let yy=F2=class extends kS{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new F2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};g([T()],yy.prototype,"image",void 0),yy=F2=g([ie("esri.support.actions.ActionButton")],yy);const pq=yy;var U2;let fd=U2=class extends kS{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new U2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};g([T()],fd.prototype,"image",void 0),g([T()],fd.prototype,"value",void 0),fd=U2=g([ie("esri.support.actions.ActionToggle")],fd);const mq=fd,Vf="relationships/",s4="expression/",yq=$t.ofType({key:"type",defaultKeyValue:"button",base:kS,typeMap:{button:pq,toggle:mq}}),gq={base:ca,key:"type",typeMap:{media:$p,custom:Wz,text:Np,attachments:Op,fields:Ip,expression:X1,relationship:Cp,utilityNetworkAssociations:LS}},Q6=new Set(["attachments","fields","media","text","expression","relationship"]),vq=new Set([...Q6,"utility-network-associations"]);let Ai=class extends Ao.ClonableMixin(et){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(i=>Oh(gq,i)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||M$(t)?t:(Lt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeWebMapContent(t,i,r,s){this._writePopupTemplateContent(t,i,s)}writeFieldInfos(t,i,r,s){const{content:n}=this,o=Array.isArray(n)?n:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);i.fieldInfos=t.filter(Boolean).map(c=>{const f=c.toJSON(s);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,i)}writeLayerOptions(t,i,r,s){i[r]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(s)}writeTitle(t,i){i.title=t||""}async collectRequiredFields(t,i){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(t,i,[...r,...this._getContentExpressionInfos(this.content,r)]),Mp(t,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const i=new Set;return await this.collectRequiredFields(i,t),[...i].sort()}_writePopupTemplateContent(t,i,r){typeof t!="string"?Array.isArray(t)&&(i.popupElements=t.filter(s=>r?.origin==="web-scene"?Q6.has(s.type):vq.has(s.type)).map(s=>s?.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=t}_writeFieldsContent(t,i){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const r=ge(t.fieldInfos);Array.isArray(i.fieldInfos)?r.forEach(s=>{const n=i.fieldInfos.find(o=>o.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());n?n.visible=!0:i.fieldInfos.push(s)}):i.fieldInfos=r}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,i){const r=t.orderByFields?.map(n=>this._toFieldOrderJSON(n,t.relationshipId))||[],s=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...s?.length&&{orderByFields:s}}}_writeTextContent(t,i){!i.description&&t.text&&(i.description=t.text)}_writeMediaContent(t,i){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const r=ge(t.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(t,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),$p.fromJSON(n)):n.type==="text"?(n.text||!t||s.description||(n.text=t,s.description=!0),Np.fromJSON(n)):n.type==="attachments"?Op.fromJSON(n):n.type==="fields"?Ip.fromJSON(n):n.type==="expression"?X1.fromJSON(n):n.type==="relationship"?Cp.fromJSON(n):n.type==="utilityNetworkAssociations"?LS.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:i,order:r}=t;if(!i?.startsWith(Vf))return null;const s=i.replace(Vf,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?Cp.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(t,i){const{order:r,field:s}=t;return{field:`${Vf}${i}/${s}`,order:r}}_readPopupInfo({description:t,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];t?n.push(new Np({text:t})):n.push(new Ip),Array.isArray(i)&&i.length&&n.push($p.fromJSON({mediaInfos:i})),r&&n.push(Op.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=s;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&n.push(c)}),n.length?n:t}_getContentElementFields(t){const i=t?.type;if(i==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(i==="custom")return t.outFields||[];if(i==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(i==="media"){const r=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(t.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:i,title:r,value:s}=t,n=s||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=n,d=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,i){return Array.isArray(t)?t.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(t,i,r){r&&await Promise.all(r.map(s=>Gc(t,i,s.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(Vf)||i.startsWith(s4))).map(i=>i.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(t){const{className:i,title:r,type:s}=t,n=s==="button"||s==="toggle"?t.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return zz(t).filter(i=>!(i.indexOf(Vf)===0||i.indexOf(s4)===0))}};g([T({type:yq})],Ai.prototype,"actions",void 0),g([T()],Ai.prototype,"content",void 0),g([ym("content")],Ai.prototype,"castContent",null),g([Xi("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ai.prototype,"readContent",null),g([Jt("web-scene","content",{popupElements:{type:$t.ofType(cq)},showAttachments:{type:Boolean},mediaInfos:{type:$t.ofType($2)},description:{type:String},relatedRecordsInfo:{type:r4}})],Ai.prototype,"writeWebSceneContent",null),g([Jt("content",{popupElements:{type:$t.ofType(lq)},showAttachments:{type:Boolean},mediaInfos:{type:$t.ofType($2)},description:{type:String},relatedRecordsInfo:{type:r4}})],Ai.prototype,"writeWebMapContent",null),g([T({type:[uq],json:{write:!0}})],Ai.prototype,"expressionInfos",void 0),g([T({type:[z6]})],Ai.prototype,"fieldInfos",void 0),g([Jt("fieldInfos")],Ai.prototype,"writeFieldInfos",null),g([T({type:hq})],Ai.prototype,"layerOptions",void 0),g([Jt("layerOptions")],Ai.prototype,"writeLayerOptions",null),g([T({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ai.prototype,"lastEditInfoEnabled",void 0),g([T()],Ai.prototype,"outFields",void 0),g([T()],Ai.prototype,"overwriteActions",void 0),g([T()],Ai.prototype,"returnGeometry",void 0),g([T({json:{type:String}})],Ai.prototype,"title",void 0),g([Jt("title")],Ai.prototype,"writeTitle",null),Ai=g([ie("esri.PopupTemplate")],Ai);const bq=Ai,Uge=Cn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),jge=Cn()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),_q={base:tu,key:"type",typeMap:{extent:Ws,multipoint:z1,point:Ii,polyline:gm,polygon:Vc}},n4=new yo({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let wq=0,Fu=class extends et{constructor(t){super(t),this.id="sym"+wq++,this.type=null,this.color=new dt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};g([T({type:n4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:n4.write,isRequired:!0}}})],Fu.prototype,"type",void 0),g([T({type:dt,json:{write:{allowNull:!0}}})],Fu.prototype,"color",void 0),g([Xi("color")],Fu.prototype,"readColor",null),Fu=g([ie("esri.symbols.Symbol")],Fu);const Tr=Fu;var j2;let Na=j2=class extends Tr{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(s=>{const n=s.valueExpressionInfo;return n?Gc(e,t,n.expression):null});await Promise.all(r)}}}clone(){return new j2({data:ge(this.data)})}hash(){return KI(JSON.stringify(this.data)).toString()}};g([T({json:{write:!1}})],Na.prototype,"color",void 0),g([T({json:{write:!0}})],Na.prototype,"data",void 0),g([Xi("data",["symbol"])],Na.prototype,"readData",null),g([Jt("data",{})],Na.prototype,"writeData",null),g([ot({CIMSymbolReference:"cim"},{readOnly:!0})],Na.prototype,"type",void 0),Na=j2=g([ie("esri.symbols.CIMSymbol")],Na);const su=Na;function xq(e,t,i=$t){return t||(t=new i),t===e||(t.removeAll(),Eq(e)?t.addMany(e):e&&t.add(e)),t}function Sq(e){return e}function Eq(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var za;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(za||(za={}));let Tq=class{constructor(){this._resolver=mp(),this._status=za.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=za.RESOLVED,this._cleanUp()},()=>{this._status=za.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===za.RESOLVED}isRejected(){return this._status===za.REJECTED}isFulfilled(){return this._status!==za.PENDING}abort(){this._resolver.reject(Ur())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=mp(),i=[...this._resolvingPromises,t.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||fm(s)||this._resolver.reject(s)}),t.resolve()}};const eN=e=>{let t=class extends e{constructor(...i){super(...i),this._promiseProps=new Tq,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return t=g([ie("esri.core.Promise")],t),t};let dd=class extends eN(Qi){};dd=g([ie("esri.core.Promise")],dd),function(e){e.EsriPromiseMixin=eN}(dd||(dd={}));const Aq=dd,Mq="not-loaded",Oq="loading",Iq="failed",o4="loaded",tN=e=>{let t=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=n=>{const o=new Promise((a,l)=>{const c=VD(n,l);this.destroyed&&l(new ft("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===Mq){this._set("loadStatus",Oq);const a=this._loadController=new AbortController;s({signal:a.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",o4),this._loadController=null},r=>{this._set("loadStatus",Iq),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=s$(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===o4}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ft("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return g([T({readOnly:!0})],t.prototype,"loaded",null),g([T({readOnly:!0})],t.prototype,"loadError",void 0),g([T({clonable:!1})],t.prototype,"loadStatus",void 0),g([T({type:[gp],readOnly:!0})],t.prototype,"loadWarnings",null),t=g([ie("esri.core.Loadable")],t),t};let pd=class extends tN(Aq){};pd=g([ie("esri.core.Loadable")],pd),function(e){function t(i){return!(!i||!i.load)}e.LoadableMixin=tN,e.isLoadable=t}(pd||(pd={}));const $q=pd;let y0;function Cq(e){return y0&&!y0.destroyed||(y0=e()),y0}var B2;const Nq=new yo({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let $s=B2=class extends Qi{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new B2({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=VC(this.extent,qi.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&e.extraQuery&&(s="("+s+")"+e.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>Nq.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...t,...n}}}};g([T()],$s.prototype,"categories",void 0),g([T()],$s.prototype,"disableExtraQuery",void 0),g([T({type:Ws})],$s.prototype,"extent",void 0),g([T()],$s.prototype,"filter",void 0),g([T()],$s.prototype,"num",void 0),g([T()],$s.prototype,"query",void 0),g([T()],$s.prototype,"sortField",void 0),g([T()],$s.prototype,"sortOrder",null),g([T()],$s.prototype,"start",void 0),$s=B2=g([ie("esri.portal.PortalQueryParams")],$s);const io=$s;var V2;let Mi=V2=class extends et{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const i=t.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):i})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ft("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new V2({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=En(io,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new io,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new io,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new io({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new io({num:1,query:`typekeywords:"${e}"`});return s.queryItems(n,t)}throw new ft("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",t).then(s=>{const n=s?.categorySchema;return n?.length?n:[]}):[])}};g([T()],Mi.prototype,"access",void 0),g([T({type:Date})],Mi.prototype,"created",void 0),g([T()],Mi.prototype,"description",void 0),g([T()],Mi.prototype,"id",void 0),g([T()],Mi.prototype,"isInvitationOnly",void 0),g([T({type:Date})],Mi.prototype,"modified",void 0),g([T()],Mi.prototype,"owner",void 0),g([T()],Mi.prototype,"portal",void 0),g([T()],Mi.prototype,"snippet",void 0),g([T()],Mi.prototype,"sortField",void 0),g([T()],Mi.prototype,"sortOrder",void 0),g([T()],Mi.prototype,"sourceJSON",void 0),g([T()],Mi.prototype,"tags",void 0),g([T()],Mi.prototype,"thumbnail",void 0),g([T({readOnly:!0})],Mi.prototype,"thumbnailUrl",null),g([T()],Mi.prototype,"title",void 0),g([T({readOnly:!0})],Mi.prototype,"url",null),Mi=V2=g([ie("esri.portal.PortalGroup")],Mi);const G2=Mi;let rc=class extends Qi{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};g([T()],rc.prototype,"nextQueryParams",void 0),g([T()],rc.prototype,"queryParams",void 0),g([T()],rc.prototype,"results",void 0),g([T()],rc.prototype,"total",void 0),rc=g([ie("esri.portal.PortalQueryResult")],rc);const Pq=rc;let Fo=class extends et{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ft("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};g([T({type:Date})],Fo.prototype,"created",void 0),g([T()],Fo.prototype,"id",void 0),g([T()],Fo.prototype,"portal",void 0),g([T()],Fo.prototype,"title",void 0),g([T({readOnly:!0})],Fo.prototype,"url",null),g([T()],Fo.prototype,"username",void 0),Fo=g([ie("esri.portal.PortalFolder")],Fo);const Lq=Fo;var z2;let Nt=z2=class extends et{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,i=e?.data,r=e?.folder,s={method:"post"};t&&(s.query=t.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=e.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:t}},o=await this.portal.request(i,n);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new ft("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:c,error:f})}}return r}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let i;return i=t&&t.folders?t.folders.map(r=>{const s=Lq.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(i=>{const r=G2.fromJSON(i);return r.portal=this.portal,r}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:i}=await Se(()=>import("./PortalItem-CmwUCFom.js"),__vite__mapDeps([32,1]),import.meta.url),r={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:r});let n;return s?.items?(n=s.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new G2({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ft("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new ft("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new z2({sourceJSON:e});return t.read(e),t}};g([T()],Nt.prototype,"access",void 0),g([T({type:Date})],Nt.prototype,"created",void 0),g([T()],Nt.prototype,"culture",void 0),g([T()],Nt.prototype,"description",void 0),g([T()],Nt.prototype,"email",void 0),g([T()],Nt.prototype,"favGroupId",void 0),g([T()],Nt.prototype,"fullName",void 0),g([T({type:Date})],Nt.prototype,"modified",void 0),g([T()],Nt.prototype,"orgId",void 0),g([T()],Nt.prototype,"portal",void 0),g([T()],Nt.prototype,"preferredView",void 0),g([T()],Nt.prototype,"privileges",void 0),g([T()],Nt.prototype,"region",void 0),g([T()],Nt.prototype,"role",void 0),g([T()],Nt.prototype,"roleId",void 0),g([T()],Nt.prototype,"sourceJSON",void 0),g([T()],Nt.prototype,"thumbnail",void 0),g([T({readOnly:!0})],Nt.prototype,"thumbnailUrl",null),g([T()],Nt.prototype,"units",void 0),g([T({readOnly:!0})],Nt.prototype,"userContentUrl",null),g([T({readOnly:!0})],Nt.prototype,"url",null),g([T()],Nt.prototype,"username",void 0),g([T()],Nt.prototype,"userLicenseTypeId",void 0),g([T()],Nt.prototype,"userType",void 0),Nt=z2=g([ie("esri.portal.PortalUser")],Nt);const iN=Nt;var hs;let Gf;const a4={PortalGroup:()=>Promise.resolve({default:G2}),PortalItem:()=>Se(()=>import("./PortalItem-CmwUCFom.js"),__vite__mapDeps([32,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:iN})};let de=hs=class extends et.JSONSupportMixin($q){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ot.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){l4.unregister(this),this.defaultBasemap=J0(this.defaultBasemap),this.defaultDevBasemap=J0(this.defaultDevBasemap),this.defaultVectorBasemap=J0(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=pf(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)Ot.request.trustedServers.includes(t)||Ot.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return wC(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=iN.fromJSON(e),t.portal=this),t}load(e){const t=Se(()=>import("./Basemap-C0uN_Ba4.js").then(i=>i.B),__vite__mapDeps([33,1,34,32,3,35]),import.meta.url).then(({default:i})=>{pp(e),Gf=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(i=>{if(!this.hasAPIKey&&Yt){const r=Yt;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==hs.AUTH_MODE_AUTO&&this.authMode!==hs.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",kq(new WeakRef(this))),l4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Se(async()=>{const{default:i}=await import("./ElevationLayer-4HPvih0J.js");return{default:i}},__vite__mapDeps([36,1,37,38,39,40,41,42,43,44,45,46,14,15,28,47,48,49,50,51,52,53,32,54,55,56,57,58,8,3]),import.meta.url)).default;return e?e.map(i=>new t({id:i.id,url:i.url})):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new io;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find(r=>r.type==="Web Scene");return i?new Gf({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):na(e)?Promise.reject(Ur()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(t=>t.classificationSchema):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new io({num:100,sortField:"title"});if(t?.length){const r=[];for(const s of t)r.push(`(title:"${s.title}" AND owner:${s.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then(s=>s.results)}return na(e)?Promise.reject(Ur()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||yh();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||yh();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Cq(()=>new hs)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",s={authMode:e,query:{culture:yh().toLowerCase()},withCredentials:!0,...i};return s.authMode==="auto"&&(s.authMode="no-prompt"),t&&(s.query.default=!0),this.request(r,s)}queryPortal(e,t,i,r){const s=En(io,t),n=o=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...r}).then(a=>{const l=s.clone();return l.start=a.nextStart,new Pq({nextQueryParams:l,queryParams:s,total:a.total,results:hs._resultsToTypedArray(o,{portal:this},a,r)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(A$(l),a)));return i&&a4[i]?a4[i]().then(({default:o})=>(pp(r),n(o))):n()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ft("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===hs.AUTH_MODE_ANONYMOUS||this.authMode===hs.AUTH_MODE_NO_PROMPT&&!Yt)return Promise.reject(new ft("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return Yt?Yt.getCredential(this.restUrl,{prompt:this.authMode!==hs.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then(r=>{const s=hs._resultsToTypedArray(i,{portal:this},r);return Promise.all(s.map(n=>typeof n.when=="function"?n.when():r)).then(()=>s,()=>s)})}request(e,t={}){const i={f:"json",...t.query},{authMode:r=this.authMode===hs.AUTH_MODE_ANONYMOUS||this.authMode===hs.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:n=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:r,body:s,cacheBust:n,method:o,query:i,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),Ci(this._normalizeSSL(e),c).then(f=>f.data)}toJSON(){throw new ft("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new hs({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ft("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new io;i.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const n=await s.queryItems(i,t);return n.total?n.results.filter(o=>o.type==="Web Map").map(o=>new Gf({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if(this.hasAPIKey)return[];const r=new io({query:i,disableExtraQuery:!0}),s=await this.queryGroups(r,t);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Gf({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Gf.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let s;if(i){const n=r!=null?r.signal:null;s=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(s=s.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(n),a}))}else s=[];return s}};de.AUTH_MODE_ANONYMOUS="anonymous",de.AUTH_MODE_AUTO="auto",de.AUTH_MODE_IMMEDIATE="immediate",de.AUTH_MODE_NO_PROMPT="no-prompt",g([T()],de.prototype,"access",void 0),g([T()],de.prototype,"allSSL",void 0),g([T()],de.prototype,"authMode",void 0),g([T()],de.prototype,"authorizedCrossOriginDomains",void 0),g([Xi("authorizedCrossOriginDomains")],de.prototype,"readAuthorizedCrossOriginDomains",null),g([T()],de.prototype,"basemapGalleryGroupQuery",void 0),g([T({json:{name:"3DBasemapGalleryGroupQuery"}})],de.prototype,"basemapGalleryGroupQuery3D",void 0),g([T()],de.prototype,"bingKey",void 0),g([T()],de.prototype,"canListApps",void 0),g([T()],de.prototype,"canListData",void 0),g([T()],de.prototype,"canListPreProvisionedItems",void 0),g([T()],de.prototype,"canProvisionDirectPurchase",void 0),g([T()],de.prototype,"canSearchPublic",void 0),g([T()],de.prototype,"canShareBingPublic",void 0),g([T()],de.prototype,"canSharePublic",void 0),g([T()],de.prototype,"canSignInArcGIS",void 0),g([T()],de.prototype,"canSignInIDP",void 0),g([T()],de.prototype,"colorSetsGroupQuery",void 0),g([T()],de.prototype,"commentsEnabled",void 0),g([T({type:Date})],de.prototype,"created",void 0),g([T()],de.prototype,"credential",void 0),g([T()],de.prototype,"culture",void 0),g([T()],de.prototype,"currentVersion",void 0),g([T()],de.prototype,"customBaseUrl",void 0),g([T()],de.prototype,"default3DBasemapQuery",void 0),g([T()],de.prototype,"defaultBasemap",void 0),g([Xi("defaultBasemap")],de.prototype,"readDefaultBasemap",null),g([T()],de.prototype,"defaultDevBasemap",void 0),g([Xi("defaultDevBasemap")],de.prototype,"readDefaultDevBasemap",null),g([T({type:Ws})],de.prototype,"defaultExtent",void 0),g([T()],de.prototype,"defaultVectorBasemap",void 0),g([Xi("defaultVectorBasemap")],de.prototype,"readDefaultVectorBasemap",null),g([T()],de.prototype,"description",void 0),g([T()],de.prototype,"devBasemapGalleryGroupQuery",void 0),g([T()],de.prototype,"eueiEnabled",void 0),g([T({readOnly:!0})],de.prototype,"extraQuery",null),g([T()],de.prototype,"featuredGroups",void 0),g([T()],de.prototype,"featuredItemsGroupQuery",void 0),g([T()],de.prototype,"galleryTemplatesGroupQuery",void 0),g([T()],de.prototype,"layoutGroupQuery",void 0),g([T()],de.prototype,"livingAtlasGroupQuery",void 0),g([T({readOnly:!0})],de.prototype,"hasAPIKey",null),g([T()],de.prototype,"hasCategorySchema",void 0),g([T()],de.prototype,"hasClassificationSchema",void 0),g([T()],de.prototype,"helpBase",void 0),g([T()],de.prototype,"helperServices",void 0),g([T()],de.prototype,"helpMap",void 0),g([T()],de.prototype,"homePageFeaturedContent",void 0),g([T()],de.prototype,"homePageFeaturedContentCount",void 0),g([T()],de.prototype,"httpPort",void 0),g([T()],de.prototype,"httpsPort",void 0),g([T()],de.prototype,"id",void 0),g([T()],de.prototype,"ipCntryCode",void 0),g([T({readOnly:!0})],de.prototype,"isOrganization",null),g([T()],de.prototype,"isPortal",void 0),g([T()],de.prototype,"isReadOnly",void 0),g([T({readOnly:!0})],de.prototype,"itemPageUrl",null),g([T()],de.prototype,"layerTemplatesGroupQuery",void 0),g([T()],de.prototype,"maxTokenExpirationMinutes",void 0),g([T({type:Date})],de.prototype,"modified",void 0),g([T()],de.prototype,"name",void 0),g([T()],de.prototype,"portalHostname",void 0),g([T()],de.prototype,"portalMode",void 0),g([T()],de.prototype,"portalProperties",void 0),g([T()],de.prototype,"region",void 0),g([T()],de.prototype,"recycleBinEnabled",void 0),g([T({readOnly:!0})],de.prototype,"restUrl",null),g([T()],de.prototype,"rotatorPanels",void 0),g([T()],de.prototype,"showHomePageDescription",void 0),g([T()],de.prototype,"sourceJSON",void 0),g([T()],de.prototype,"staticImagesUrl",void 0),g([T({json:{name:"2DStylesGroupQuery"}})],de.prototype,"stylesGroupQuery2d",void 0),g([T({json:{name:"stylesGroupQuery"}})],de.prototype,"stylesGroupQuery3d",void 0),g([T()],de.prototype,"supportsHostedServices",void 0),g([T()],de.prototype,"symbolSetsGroupQuery",void 0),g([T()],de.prototype,"templatesGroupQuery",void 0),g([T()],de.prototype,"thumbnail",void 0),g([T({readOnly:!0})],de.prototype,"thumbnailUrl",null),g([T()],de.prototype,"units",void 0),g([T()],de.prototype,"url",void 0),g([T()],de.prototype,"urlKey",void 0),g([Xi("urlKey")],de.prototype,"readUrlKey",null),g([T()],de.prototype,"user",void 0),g([Xi("user")],de.prototype,"readUser",null),g([T()],de.prototype,"use3dBasemaps",void 0),g([T()],de.prototype,"useDefault3dBasemap",void 0),g([T()],de.prototype,"useStandardizedQuery",void 0),g([T()],de.prototype,"useVectorBasemaps",void 0),g([T()],de.prototype,"vectorBasemapGalleryGroupQuery",void 0),de=hs=g([ie("esri.portal.Portal")],de);const iv=de,l4=new FinalizationRegistry(e=>{e.remove()});function kq(e){const t=Yt;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let Uu=class extends et{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,i,r){t||(i[r]=t)}};g([T({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Uu.prototype,"enabled",void 0),g([Jt("enabled")],Uu.prototype,"writeEnabled",null),g([T({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Uu.prototype,"type",void 0),Uu=g([ie("esri.symbols.Symbol3DLayer")],Uu);const Mo=Uu,Rq=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Dq="screenUtils.toPt: input not recognized!",rN=96;function Yge(e){return e?e/72*rN:0}function go(e){return e?72*e/rN:0}function ti(e){if(typeof e=="string"){const t=e.match(Rq);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),s=e.charAt(0)==="-",n=r==="px"?go(i):i;return s?-n:n}return console.warn(Dq),null}return e}function Fq(e=0,t=0){return{x:e,y:t}}function Jge(e){return e?Fq(e.x,e.y):null}function Zge(e=0,t=0){return[e,t]}function Kge(e=0,t=0,i=0){return[e,t,i]}function Xge(e){return e}function Qge(e){return e}function e1e(e){return e}function t1e(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function Uq(e){const t=zx(100*(1-e));return Math.max(0,Math.min(t,100))}function jq(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function Bq(e,t){const i=t.transparency!=null?jq(t.transparency):1,r=t.color;return r&&Array.isArray(r)?new dt([r[0]||0,r[1]||0,r[2]||0,i]):null}function Vq(e,t){t.color=e.toJSON().slice(0,3);const i=Uq(e.a);i!==0&&(t.transparency=i)}function Sl(e){return{type:dt,nonNullable:e?.nonNullable,json:{type:[$i],default:null,read:{source:["color","transparency"],reader:Bq},write:{target:{color:{type:[$i],isRequired:e?.colorRequiredOnWrite},transparency:{type:$i}},writer:Vq}}}}const vo={type:Number,cast:ti,json:{write:!0}};let sc=class extends et{constructor(t){super(t),this.color=new dt([0,0,0,1]),this.extensionLength=0,this.size=go(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};g([T({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],sc.prototype,"type",void 0),g([T(Sl({colorRequiredOnWrite:!0}))],sc.prototype,"color",void 0),g([T({...vo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],sc.prototype,"extensionLength",void 0),g([T(vo)],sc.prototype,"size",void 0),sc=g([ie("esri.symbols.edges.Edges3D")],sc);const RS=sc;var q2;let gy=q2=class extends RS{constructor(e){super(e),this.type="sketch"}clone(){return new q2(this.cloneProperties())}};g([ot({sketch:"sketch"},{readOnly:!0})],gy.prototype,"type",void 0),gy=q2=g([ie("esri.symbols.edges.SketchEdges3D")],gy);const Gq=gy;var W2;let vy=W2=class extends RS{constructor(e){super(e),this.type="solid"}clone(){return new W2(this.cloneProperties())}};g([ot({solid:"solid"},{readOnly:!0})],vy.prototype,"type",void 0),vy=W2=g([ie("esri.symbols.edges.SolidEdges3D")],vy);const sN=vy,nN={types:{key:"type",base:RS,typeMap:{solid:sN,sketch:Gq}},json:{write:!0}};function DS(){return[0,0,0]}function FS(e){return[e[0],e[1],e[2]]}function Sf(e,t,i){return[e,t,i]}function zq(e,t,i){return[e,t,i]}function qq(e,t=DS()){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function Wq(e,t){return new Float64Array(e,t,3)}function oN(){return DS()}function aN(){return Sf(1,1,1)}function lN(){return Sf(1,0,0)}function cN(){return Sf(0,1,0)}function uN(){return Sf(0,0,1)}const Hq=oN(),Yq=aN(),Jq=lN(),Zq=cN(),Kq=uN();Object.freeze(Object.defineProperty({__proto__:null,ONES:Yq,UNIT_X:Jq,UNIT_Y:Zq,UNIT_Z:Kq,ZEROS:Hq,clone:FS,create:DS,createView:Wq,freeze:zq,fromArray:qq,fromValues:Sf,ones:aN,unitX:lN,unitY:cN,unitZ:uN,zeros:oN},Symbol.toStringTag,{value:"Module"}));var H2;let ps=H2=class extends et{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?FS(this.emissiveFactor):null};return new H2(e)}};g([T(Sl())],ps.prototype,"color",void 0),g([T({type:[Number],json:{write:!1}})],ps.prototype,"emissiveFactor",void 0),ps=H2=g([ie("esri.symbols.support.Symbol3DMaterial")],ps);var Y2;let Pa=Y2=class extends Mo{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Y2({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};g([ot({Extrude:"extrude"},{readOnly:!0})],Pa.prototype,"type",void 0),g([T({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Pa.prototype,"size",void 0),g([T({type:ps,json:{write:!0}})],Pa.prototype,"material",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Pa.prototype,"castShadows",void 0),g([T(nN)],Pa.prototype,"edges",void 0),Pa=Y2=g([ie("esri.symbols.ExtrudeSymbol3DLayer")],Pa);const hN=Pa;let by=class extends et{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};g([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],by.prototype,"type",void 0),by=g([ie("esri.symbols.patterns.LinePattern3D")],by);const fN=by,Xq=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var J2;const Qq=Cn()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let md=J2=class extends fN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new J2(e)}};g([T({type:["style"],json:{write:{isRequired:!0}}})],md.prototype,"type",void 0),g([ot(Qq),T({type:Xq,json:{write:{isRequired:!0}}})],md.prototype,"style",void 0),md=J2=g([ie("esri.symbols.patterns.LineStylePattern3D")],md);const US=md;let _y=class extends et{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};g([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],_y.prototype,"type",void 0),_y=g([ie("esri.symbols.patterns.Pattern3D")],_y);const dN=_y,eW=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Z2;let yd=Z2=class extends dN{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new Z2({style:this.style})}};g([T({type:["style"],json:{write:{isRequired:!0}}})],yd.prototype,"type",void 0),g([T({type:eW,json:{read:!0,write:{isRequired:!0}}})],yd.prototype,"style",void 0),yd=Z2=g([ie("esri.symbols.patterns.StylePattern3D")],yd);const pN=yd,tW={types:{key:"type",base:dN,typeMap:{style:pN}},json:{write:!0}},mN={types:{key:"type",base:fN,typeMap:{style:US}},json:{write:!0}},Ud=new dt("white"),iW=new dt([255,255,255,0]);function rW(e){return e.r===0&&e.g===0&&e.b===0}var K2;let jd=K2=class extends ps{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?FS(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new K2(e)}};g([ot({multiply:"multiply",replace:"replace",tint:"tint"})],jd.prototype,"colorMixMode",void 0),jd=K2=g([ie("esri.symbols.support.Symbol3DFillMaterial")],jd);function sW(e,t=!1){return e<=zI?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function n1e(e){return(D7(e)?e.byteLength/8:e.length)<=zI?Array.from(e):new Float64Array(e)}function o1e(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}function xm(e=lW){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function jS(e,t,i,r,s,n,o=xm()){return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function a1e(e,t=xm()){return nW(e,0,e.length/3,t)}function nW(e,t,i,r=xm()){return yN(r,X2),oW(r,e,t,i),r}function l1e(e,t=sW(24)){const[i,r,s,n,o,a]=e;return t[0]=i,t[1]=r,t[2]=s,t[3]=i,t[4]=r,t[5]=a,t[6]=i,t[7]=o,t[8]=s,t[9]=i,t[10]=o,t[11]=a,t[12]=n,t[13]=r,t[14]=s,t[15]=n,t[16]=r,t[17]=a,t[18]=n,t[19]=o,t[20]=s,t[21]=n,t[22]=o,t[23]=a,t}function c1e(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new Ws(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function u1e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function h1e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function f1e(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function oW(e,t,i=0,r=t.length/3){let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let f=0;f<r;f++)s=Math.min(s,t[i+3*f]),n=Math.min(n,t[i+3*f+1]),o=Math.min(o,t[i+3*f+2]),a=Math.max(a,t[i+3*f]),l=Math.max(l,t[i+3*f+1]),c=Math.max(c,t[i+3*f+2]);e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function d1e(e,t,i){const r=t.length;let s=e[0],n=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(i)for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let f=0;f<r;f++){const d=t[f];s=Math.min(s,d[0]),n=Math.min(n,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function p1e(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function Sm(e){return e[0]>=e[3]?0:e[3]-e[0]}function Em(e){return e[1]>=e[4]?0:e[4]-e[1]}function Tm(e){return e[2]>=e[5]?0:e[5]-e[2]}function m1e(e){const t=Sm(e),i=Tm(e),r=Em(e);return Math.sqrt(t*t+i*i+r*r)}function y1e(e,t=[0,0,0]){return t[0]=e[0]+Sm(e)/2,t[1]=e[1]+Em(e)/2,t[2]=e[2]+Tm(e)/2,t}function g1e(e,t=[0,0,0]){return t[0]=Sm(e),t[1]=Em(e),t[2]=Tm(e),t}function v1e(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function aW(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function b1e(e,t){return t==null||aW(e,t)}function _1e(e,t,i,r,s=e){return s[0]=e[0]+t,s[1]=e[1]+i,s[2]=e[2]+r,s[3]=e[3]+t,s[4]=e[4]+i,s[5]=e[5]+r,s}function w1e(e,t,i=e){const r=e[0]+Sm(e)/2,s=e[1]+Em(e)/2,n=e[2]+Tm(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=s+(e[1]-s)*t,i[2]=n+(e[2]-n)*t,i[3]=r+(e[3]-r)*t,i[4]=s+(e[4]-s)*t,i[5]=n+(e[5]-n)*t,i}function x1e(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function S1e(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function E1e(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function yN(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function T1e(e){return e?yN(e,X2):xm(X2)}function A1e(e,t){return t||(t=vf()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function M1e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function O1e(e,t,i,r,s){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=s,e[5]=Number.POSITIVE_INFINITY,e}function c4(e){return e.length===6}function I1e(e){return Sm(e)===0&&Em(e)===0&&Tm(e)===0}function $1e(e,t,i){if(e==null||t==null)return e===t;if(!c4(e)||!c4(t))return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const X2=[1/0,1/0,1/0,-1/0,-1/0,-1/0],lW=[0,0,0,0,0,0];xm();function C1e(e,{isPrimitive:t,width:i,depth:r,height:s}){const n=t?10:1;if(i==null&&s==null&&r==null)return[n*e[0],n*e[1],n*e[2]];const o=Sf(i,r,s);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const cW=jS(-.5,-.5,-.5,.5,.5,.5),uW=jS(-.5,-.5,0,.5,.5,1),hW=jS(-.5,-.5,0,.5,.5,.5);function N1e(e){switch(e){case"sphere":case"cube":case"diamond":return cW;case"cylinder":case"cone":case"inverted-cone":return uW;case"tetrahedron":return hW;default:return}}const BS=["butt","square","round"],fW=[...BS,"none"],gN=["miter","bevel","round"];var Q2;let nc=Q2=class extends et{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=go(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Q2(e)}};g([T(Sl({colorRequiredOnWrite:!0}))],nc.prototype,"color",void 0),g([T({...vo,json:{write:{isRequired:!0}}})],nc.prototype,"size",void 0),g([T(mN)],nc.prototype,"pattern",void 0),g([T({type:BS,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],nc.prototype,"patternCap",void 0),nc=Q2=g([ie("esri.symbols.support.Symbol3DOutline")],nc);var wy;let Uo=wy=class extends Mo{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new wy(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new US({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??Ud).clone(),pattern:t};return t&&e.outline?.cap&&(i.patternCap=e.outline.cap),new wy({material:new jd({color:(e.color??iW).clone()}),pattern:e.style&&e.style!=="solid"?new pN({style:e.style}):null,outline:i})}};g([ot({Fill:"fill"},{readOnly:!0})],Uo.prototype,"type",void 0),g([T({type:jd,json:{write:!0}})],Uo.prototype,"material",void 0),g([T(tW)],Uo.prototype,"pattern",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Uo.prototype,"castShadows",void 0),g([T({type:nc,json:{write:!0}})],Uo.prototype,"outline",void 0),g([T(nN)],Uo.prototype,"edges",void 0),Uo=wy=g([ie("esri.symbols.FillSymbol3DLayer")],Uo);const nu=Uo;var ew;const dW=Cn()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let oc=ew=class extends et{constructor(e){super(e)}readHref(e,t,i){return e?pm(e,i):t.dataURI}writeHref(e,t,i,r){e&&(yf(e)?t.dataURI=e:(t.href=U1(e,r),vn(t.href)&&(t.href=ol(t.href))))}clone(){return new ew({href:this.href,primitive:this.primitive})}};g([T({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],oc.prototype,"href",void 0),g([Xi("href")],oc.prototype,"readHref",null),g([Jt("href",{href:{type:String},dataURI:{type:String}})],oc.prototype,"writeHref",null),g([ot(dW)],oc.prototype,"primitive",void 0),oc=ew=g([ie("esri.symbols.support.IconSymbol3DLayerResource")],oc);const P1e="circle";var tw;let Ku=tw=class extends Qi{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new tw({x:this.x,y:this.y})}};g([T({type:Number})],Ku.prototype,"x",void 0),g([T({type:Number})],Ku.prototype,"y",void 0),Ku=tw=g([ie("esri.symbols.support.Symbol3DAnchorPosition2D")],Ku);var iw;let gd=iw=class extends et{constructor(e){super(e),this.color=new dt([0,0,0,1]),this.size=go(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new iw(e)}};g([T(Sl({colorRequiredOnWrite:!0}))],gd.prototype,"color",void 0),g([T({...vo,json:{write:{isRequired:!0}}})],gd.prototype,"size",void 0),gd=iw=g([ie("esri.symbols.support.Symbol3DIconOutline")],gd);var ju;const vN="esri.symbols.IconSymbol3DLayer";let on=ju=class extends Mo{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new ju({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Ud,i=u4(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Ud).clone()}:null;return new ju({size:e.size,angle:e.angle,resource:{primitive:mW(e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||rW(e.color)?Ud:e.color,i=u4(e);return new ju({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new ju({resource:{href:cC({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};g([T({type:ps,json:{write:!0}})],on.prototype,"material",void 0),g([T({type:oc,json:{write:!0}})],on.prototype,"resource",void 0),g([ot({Icon:"icon"},{readOnly:!0})],on.prototype,"type",void 0),g([T({...vo,json:{write:{isRequired:!0}}})],on.prototype,"size",void 0),g([ot({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],on.prototype,"anchor",void 0),g([T({type:Ku,json:{type:[Number],read:{reader:e=>new Ku({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],on.prototype,"anchorPosition",void 0),g([T({type:gd,json:{write:!0}})],on.prototype,"outline",void 0),g([T({type:Number,json:{write:!0,default:0}})],on.prototype,"angle",void 0),on=ju=g([ie(vN)],on);const _c=on;function u4(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=h4(e.xoffset),s=h4(e.yoffset);return(r||s)&&t&&i?{x:-r/t,y:s/i}:null}function h4(e){return isFinite(e)?e:0}const pW={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function mW(e){return pW[e]||(Lt.getLogger(vN).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const yW=["begin","end","begin-end"],bN=["arrow","circle","square","diamond","cross","x"];let ac=class extends Ao.ClonableMixin(et){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};g([T({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ac.prototype,"type",void 0),g([T({type:yW,json:{default:"begin-end",write:!0}})],ac.prototype,"placement",void 0),g([T({type:bN,json:{default:"arrow",write:!0}})],ac.prototype,"style",void 0),g([T({type:dt,json:{type:[$i],default:null,write:!0}})],ac.prototype,"color",void 0),ac=g([ie("esri.symbols.LineStyleMarker3D")],ac);const rw=ac;var xy;let Gn=xy=class extends Mo{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=go(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new xy(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??go(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new US({style:e.style}):null,material:new ps({color:(e.color||Ud).clone()}),marker:e.marker?new rw({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new xy(t)}};g([T({type:ps,json:{write:!0}})],Gn.prototype,"material",void 0),g([ot({Line:"line"},{readOnly:!0})],Gn.prototype,"type",void 0),g([T({type:gN,json:{write:!0,default:"miter"}})],Gn.prototype,"join",void 0),g([T({type:BS,json:{write:!0,default:"butt"}})],Gn.prototype,"cap",void 0),g([T({...vo,json:{write:{isRequired:!0}}})],Gn.prototype,"size",void 0),g([T(mN)],Gn.prototype,"pattern",void 0),g([T({types:{key:"type",base:rw,typeMap:{style:rw}},json:{write:!0}})],Gn.prototype,"marker",void 0),Gn=xy=g([ie("esri.symbols.LineSymbol3DLayer")],Gn);const Ef=Gn;var sw;const gW=Cn()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let vd=sw=class extends et{clone(){return new sw({href:this.href,primitive:this.primitive})}};g([T({type:String,json:{read:mS,write:Ch}})],vd.prototype,"href",void 0),g([ot(gW)],vd.prototype,"primitive",void 0),vd=sw=g([ie("esri.symbols.support.ObjectSymbol3DLayerResource")],vd);const k1e="sphere";var nw;let mc=nw=class extends Qi{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new nw({x:this.x,y:this.y,z:this.z})}};g([T({type:Number})],mc.prototype,"x",void 0),g([T({type:Number})],mc.prototype,"y",void 0),g([T({type:Number})],mc.prototype,"z",void 0),mc=nw=g([ie("esri.symbols.support.Symbol3DAnchorPosition3D")],mc);var ow;let fr=ow=class extends Mo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ow({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};g([T({type:ps,json:{write:!0}})],fr.prototype,"material",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],fr.prototype,"castShadows",void 0),g([T({type:vd,json:{write:!0}})],fr.prototype,"resource",void 0),g([ot({Object:"object"},{readOnly:!0})],fr.prototype,"type",void 0),g([T({type:Number,json:{write:!0}})],fr.prototype,"width",void 0),g([T({type:Number,json:{write:!0}})],fr.prototype,"height",void 0),g([T({type:Number,json:{write:!0}})],fr.prototype,"depth",void 0),g([ot({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],fr.prototype,"anchor",void 0),g([T({type:mc,json:{type:[Number],read:{reader:e=>new mc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],fr.prototype,"anchorPosition",void 0),g([T({type:Number,json:{write:!0}})],fr.prototype,"heading",void 0),g([T({type:Number,json:{write:!0}})],fr.prototype,"tilt",void 0),g([T({type:Number,json:{write:!0}})],fr.prototype,"roll",void 0),g([T({readOnly:!0})],fr.prototype,"isPrimitive",null),fr=ow=g([ie("esri.symbols.ObjectSymbol3DLayer")],fr);const VS=fr;var aw;let Mr=aw=class extends Mo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new aw({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};g([T({type:ps,json:{write:!0}})],Mr.prototype,"material",void 0),g([T({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Mr.prototype,"castShadows",void 0),g([ot({Path:"path"},{readOnly:!0})],Mr.prototype,"type",void 0),g([T({type:["circle","quad"],json:{write:!0,default:"circle"}})],Mr.prototype,"profile",void 0),g([T({type:gN,json:{write:!0,default:"miter"}})],Mr.prototype,"join",void 0),g([T({type:fW,json:{write:!0,default:"butt"}})],Mr.prototype,"cap",void 0),g([T({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Mr.prototype,"width",void 0),g([Xi("width",["width","size","height"])],Mr.prototype,"readWidth",null),g([T({type:Number,json:{write:!0}})],Mr.prototype,"height",void 0),g([Xi("height",["height","size","width"])],Mr.prototype,"readHeight",null),g([T({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Mr.prototype,"anchor",void 0),g([T({type:["heading","all"],json:{write:!0,default:"all"}})],Mr.prototype,"profileRotation",void 0),Mr=aw=g([ie("esri.symbols.PathSymbol3DLayer")],Mr);const GS=Mr,vW=["none","underline","line-through"],bW=["normal","italic","oblique"],_W=["normal","lighter","bold","bolder"],_N={type:Number,cast:e=>{const t=C1(e);return t===0?1:M1(t,.1,4)},nonNullable:!0},wW=["left","right","center"],xW=["baseline","top","middle","bottom"],wN={type:wW,nonNullable:!0},xN={type:xW,nonNullable:!0},R1e=8;var lw;let jo=lw=class extends et{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ti(e)}clone(){return new lw({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};g([T({type:vW,json:{default:"none",write:!0}})],jo.prototype,"decoration",void 0),g([T({type:String,json:{write:!0}})],jo.prototype,"family",void 0),g([T({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],jo.prototype,"size",void 0),g([ym("size")],jo.prototype,"castSize",null),g([T({type:bW,json:{default:"normal",write:!0}})],jo.prototype,"style",void 0),g([T({type:_W,json:{default:"normal",write:!0}})],jo.prototype,"weight",void 0),jo=lw=g([ie("esri.symbols.Font")],jo);const rv=jo;var cw;let Xu=cw=class extends et{constructor(){super(...arguments),this.color=new dt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new cw(e)}};g([T(Sl())],Xu.prototype,"color",void 0),g([T(vo)],Xu.prototype,"size",void 0),Xu=cw=g([ie("esri.symbols.support.Symbol3DHalo")],Xu);let Bd=class extends Ao.ClonableMixin(et){constructor(t){super(t),this.color=null}};g([T(Sl())],Bd.prototype,"color",void 0),Bd=g([ie("esri.symbols.support.Symbol3DTextBackground")],Bd);var Sy;let Gr=Sy=class extends Mo{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const s={...r,textSymbol3D:!0};t.font=e.write({},s),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Sy({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Sy({font:e.font!=null?e.font.clone():new rv,halo:SW(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ps({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Bd({color:e.backgroundColor.clone()}):null})}};function SW(e,t){return e&&t!=null&&t>0?new Xu({color:ge(e),size:t}):null}g([T({type:rv,json:{write:!0}})],Gr.prototype,"font",null),g([Jt("font")],Gr.prototype,"writeFont",null),g([T({type:Xu,json:{write:!0}})],Gr.prototype,"halo",void 0),g([T({...wN,json:{default:"center",write:!0}})],Gr.prototype,"horizontalAlignment",void 0),g([T({..._N,json:{default:1,write:!0}})],Gr.prototype,"lineHeight",void 0),g([T({type:ps,json:{write:!0}})],Gr.prototype,"material",void 0),g([T({type:Bd,json:{write:!0}})],Gr.prototype,"background",void 0),g([T(vo)],Gr.prototype,"size",null),g([T({type:String,json:{write:!0}})],Gr.prototype,"text",void 0),g([ot({Text:"text"},{readOnly:!0})],Gr.prototype,"type",void 0),g([T({...xN,json:{default:"baseline",write:!0}})],Gr.prototype,"verticalAlignment",void 0),Gr=Sy=g([ie("esri.symbols.TextSymbol3DLayer")],Gr);const Tf=Gr;var uw;let La=uw=class extends Mo{constructor(e){super(e),this.color=hw.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new uw({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};g([T({type:dt,nonNullable:!0,json:{type:[$i],write:(e,t,i)=>t[i]=e.toArray(dt.AlphaMode.UNLESS_OPAQUE),default:()=>hw.clone(),defaultEquals:e=>e.toCss(!0)===hw.toCss(!0)}})],La.prototype,"color",void 0),g([ot({Water:"water"},{readOnly:!0})],La.prototype,"type",void 0),g([T({type:["small","medium","large"],json:{write:!0,default:"medium"}})],La.prototype,"waterbodySize",void 0),g([T({type:Number,json:{write:!0,default:null}})],La.prototype,"waveDirection",void 0),g([T({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],La.prototype,"waveStrength",void 0),La=uw=g([ie("esri.symbols.WaterSymbol3DLayer")],La);const SN=La,hw=new dt([0,119,190]);var fw;let lc=fw=class extends Qi{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new fw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};g([T({type:String})],lc.prototype,"name",void 0),g([T({type:String})],lc.prototype,"styleUrl",void 0),g([T({type:String})],lc.prototype,"styleName",void 0),g([T({type:iv})],lc.prototype,"portal",void 0),lc=fw=g([ie("esri.symbols.support.StyleOrigin")],lc);const dw=lc;var pw;let Vd=pw=class extends Qi{constructor(){super(...arguments),this.url=""}clone(){return new pw({url:this.url})}};g([T({type:String})],Vd.prototype,"url",void 0),Vd=pw=g([ie("esri.symbols.support.Thumbnail")],Vd);const EN={icon:_c,object:VS,line:Ef,path:GS,fill:nu,extrude:hN,text:Tf,water:SN},EW=$t.ofType({base:Mo,key:"type",typeMap:EN,errorContext:"symbol-layer"});let zn=class extends Tr{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,s=r||$t;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&Lt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){xq(t,this._get("symbolLayers"))}readStyleOrigin(t,i,r){if(t.styleUrl&&t.name){const s=pm(t.styleUrl,r);return new dw({styleUrl:s,name:t.name})}if(t.styleName&&t.name)return new dw({portal:r?.portal||iv.getDefault(),styleName:t.styleName,name:t.name});r?.messages&&r.messages.push(new gp("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:t}))}writeStyleOrigin(t,i,r,s){if(t.styleUrl&&t.name){let n=U1(t.styleUrl,s);vn(n)&&(n=ol(n)),i.styleOrigin={styleUrl:n,name:t.name}}else t.styleName&&t.name&&(t.portal&&s?.portal&&!TU(t.portal.restUrl,s.portal.restUrl)?s?.messages&&s.messages.push(new gp("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Mo||t&&EN[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};g([T({json:{read:!1,write:!1}})],zn.prototype,"color",null),g([T({type:EW,nonNullable:!0,json:{write:!0}}),ym(Sq)],zn.prototype,"symbolLayers",null),g([T({type:dw})],zn.prototype,"styleOrigin",void 0),g([Xi("styleOrigin")],zn.prototype,"readStyleOrigin",null),g([Jt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],zn.prototype,"writeStyleOrigin",null),g([T({type:Vd,json:{read:!1}})],zn.prototype,"thumbnail",void 0),g([T({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],zn.prototype,"type",void 0),zn=g([ie("esri.symbols.Symbol3D")],zn);const Am=zn;let bd=class extends et{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};g([T({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],bd.prototype,"type",void 0),g([T({readOnly:!0})],bd.prototype,"visible",void 0),bd=g([ie("esri.symbols.callouts.Callout3D")],bd);const TN=bd;var mw;let Ey=mw=class extends et{constructor(e){super(e),this.color=new dt("white")}clone(){return new mw({color:ge(this.color)})}};g([T(Sl({colorRequiredOnWrite:!0}))],Ey.prototype,"color",void 0),Ey=mw=g([ie("esri.symbols.callouts.LineCallout3DBorder")],Ey);const TW=Ey;var yw;let ka=yw=class extends TN{constructor(e){super(e),this.type="line",this.color=new dt([0,0,0,1]),this.size=go(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new yw({color:ge(this.color),size:this.size,border:ge(this.border)})}};g([ot({line:"line"})],ka.prototype,"type",void 0),g([T(Sl({colorRequiredOnWrite:!0}))],ka.prototype,"color",void 0),g([T({...vo,json:{write:{isRequired:!0}}})],ka.prototype,"size",void 0),g([T({type:TW,json:{write:!0}})],ka.prototype,"border",void 0),g([T({readOnly:!0})],ka.prototype,"visible",null),ka=yw=g([ie("esri.symbols.callouts.LineCallout3D")],ka);const AN=ka;function zS(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function MN(e){return!e||!e.supportsCallout||!e.supportsCallout()?!1:!!e.callout?.visible&&!!zS(e)}function j1e(e){return e.type==="point-3d"||e.type==="label-3d"}function B1e(e){return e.horizontalAlignment==="center"}const ON={types:{key:"type",base:TN,typeMap:{line:AN}},json:{write:!0}};var gw;let Bu=gw=class extends et{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new gw({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};g([T({...vo,json:{write:{isRequired:!0}}})],Bu.prototype,"screenLength",void 0),g([T({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Bu.prototype,"minWorldLength",void 0),g([T({type:Number,json:{write:!0}})],Bu.prototype,"maxWorldLength",void 0),Bu=gw=g([ie("esri.symbols.support.Symbol3DVerticalOffset")],Bu);const qS=Bu;var Ty;const IN=$t.ofType({base:null,key:"type",typeMap:{text:Tf}});let Ra=Ty=class extends Am{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new IN,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return MN(this)}hasVisibleVerticalOffset(){return zS(this)}clone(){return new Ty({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new Ty({symbolLayers:new $t([Tf.fromTextSymbol(e)])})}};g([T({type:qS,json:{write:!0}})],Ra.prototype,"verticalOffset",void 0),g([T(ON)],Ra.prototype,"callout",void 0),g([T({json:{read:!1,write:!1}})],Ra.prototype,"styleOrigin",void 0),g([T({type:IN})],Ra.prototype,"symbolLayers",void 0),g([ot({LabelSymbol3D:"label-3d"},{readOnly:!0})],Ra.prototype,"type",void 0),Ra=Ty=g([ie("esri.symbols.LabelSymbol3D")],Ra);const sv=Ra;var Ay;const $N=$t.ofType({base:null,key:"type",typeMap:{line:Ef,path:GS}}),AW=$t.ofType({base:null,key:"type",typeMap:{line:Ef,path:GS}});let _d=Ay=class extends Am{constructor(e){super(e),this.symbolLayers=new $N,this.type="line-3d"}clone(){return new Ay({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Ay({symbolLayers:new $t([Ef.fromSimpleLineSymbol(e)])})}};g([T({type:$N,json:{type:AW}})],_d.prototype,"symbolLayers",void 0),g([ot({LineSymbol3D:"line-3d"},{readOnly:!0})],_d.prototype,"type",void 0),_d=Ay=g([ie("esri.symbols.LineSymbol3D")],_d);const ou=_d;var My;const CN=$t.ofType({base:null,key:"type",typeMap:{fill:nu}});let wd=My=class extends Am{constructor(e){super(e),this.symbolLayers=new CN,this.type="mesh-3d"}clone(){return new My({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new My({symbolLayers:new $t([nu.fromSimpleFillSymbol(e)])})}};g([T({type:CN})],wd.prototype,"symbolLayers",void 0),g([ot({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],wd.prototype,"type",void 0),wd=My=g([ie("esri.symbols.MeshSymbol3D")],wd);const Mm=wd;let xd=class extends Tr{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],xd.prototype,"type",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],xd.prototype,"width",void 0),xd=g([ie("esri.symbols.LineSymbol")],xd);const MW=xd;var vw;let qn=vw=class extends et{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]=r?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){r?.origin==="web-map"||(t[i]=e)}clone(){return new vw({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};g([T({type:["begin","end","begin-end"],json:{write:!0}})],qn.prototype,"placement",void 0),g([ot({"line-marker":"line-marker"},{readOnly:!0}),T({json:{origins:{"web-map":{write:!1}}}})],qn.prototype,"type",void 0),g([T({type:bN})],qn.prototype,"style",void 0),g([Jt("style")],qn.prototype,"writeStyle",null),g([T({type:dt,value:null,json:{write:{allowNull:!0}}})],qn.prototype,"color",null),g([Xi("color")],qn.prototype,"readColor",null),g([Jt("color")],qn.prototype,"writeColor",null),qn=vw=g([ie("esri.symbols.LineSymbolMarker")],qn);const OW=qn;var bw;const Lb=new yo({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Bo=bw=class extends MW{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,s,n){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),i!=null&&(o.width=ti(i)),r!=null&&(o.cap=r),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ti(n)),o}clone(){return new bw({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};g([ot({esriSLS:"simple-line"},{readOnly:!0})],Bo.prototype,"type",void 0),g([T({type:Lb.apiValues,json:{read:Lb.read,write:Lb.write}})],Bo.prototype,"style",void 0),g([T({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Bo.prototype,"cap",void 0),g([T({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:e!=="round"&&i?.origin==null})}}})],Bo.prototype,"join",void 0),g([T({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":OW}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Bo.prototype,"marker",void 0),g([T({type:Number,json:{read:!1,write:!1}})],Bo.prototype,"miterLimit",void 0),Bo=bw=g([ie("esri.symbols.SimpleLineSymbol")],Bo);const Nn=Bo;let Sd=class extends Tr{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};g([T({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Nn}},json:{default:null,write:!0}})],Sd.prototype,"outline",void 0),g([T({type:["simple-fill","picture-fill"],readOnly:!0})],Sd.prototype,"type",void 0),Sd=g([ie("esri.symbols.FillSymbol")],Sd);const NN=Sd;function IW(e,t,i){return t.imageData?cC({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):PN(t.url,i)}function PN(e,t){if(!vn(e)){const i=CW(t);if(i)return F1(i,"images",e)}return pm(e,t)}function $W(e,t,i,r){if(yf(e)){const s=wp(e);if(!s)return;t.contentType=s.mediaType,t.imageData=s.data,i&&i.imageData===t.imageData&&i.url&&Ch(i.url,t,"url",r)}else Ch(e,t,"url",r)}const LN={json:{read:{source:["imageData","url"],reader:IW},write:{writer(e,t,i,r){$W(e,t,this.source,r)}}}},kN={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=PN(t.url,i)),r}}}};function CW(e){if(!e)return null;const{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var _w;let Cs=_w=class extends NN{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const s={};return e&&(s.url=e),t&&(s.outline=t),i!=null&&(s.width=ti(i)),r!=null&&(s.height=ti(r)),s}clone(){const e=new _w({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};g([ot({esriPFS:"picture-fill"},{readOnly:!0})],Cs.prototype,"type",void 0),g([T(LN)],Cs.prototype,"url",void 0),g([T({type:Number,json:{write:!0}})],Cs.prototype,"xscale",void 0),g([T({type:Number,json:{write:!0}})],Cs.prototype,"yscale",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],Cs.prototype,"width",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],Cs.prototype,"height",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],Cs.prototype,"xoffset",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],Cs.prototype,"yoffset",void 0),g([T(kN)],Cs.prototype,"source",void 0),Cs=_w=g([ie("esri.symbols.PictureFillSymbol")],Cs);const WS=Cs;let Da=class extends Tr{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};g([T({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Da.prototype,"angle",void 0),g([T({type:["simple-marker","picture-marker"],readOnly:!0})],Da.prototype,"type",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],Da.prototype,"xoffset",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],Da.prototype,"yoffset",void 0),g([T({cast:e=>e==="auto"?e:C1(ti(e)),json:{write:!0}})],Da.prototype,"size",void 0),Da=g([ie("esri.symbols.MarkerSymbol")],Da);const RN=Da;var ww;let an=ww=class extends RN{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const r={};return e&&(r.url=e),t!=null&&(r.width=ti(t)),i!=null&&(r.height=ti(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new ww({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};g([T({json:{write:!1}})],an.prototype,"color",void 0),g([ot({esriPMS:"picture-marker"},{readOnly:!0})],an.prototype,"type",void 0),g([T(LN)],an.prototype,"url",void 0),g([T(kN)],an.prototype,"source",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],an.prototype,"height",void 0),g([Xi("height",["height","size"])],an.prototype,"readHeight",null),g([T({type:Number,cast:ti,json:{write:!0}})],an.prototype,"width",void 0),g([T({json:{write:!1}})],an.prototype,"size",void 0),an=ww=g([ie("esri.symbols.PictureMarkerSymbol")],an);const Af=an;var cc;const DN=$t.ofType({base:null,key:"type",typeMap:{icon:_c,object:VS,text:Tf}});let uc=cc=class extends Am{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new DN,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return MN(this)}hasVisibleVerticalOffset(){return zS(this)}clone(){return new cc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new cc({symbolLayers:new $t([_c.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new cc({symbolLayers:new $t([_c.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const i=e.data.symbol;return new cc(i?.callout?{symbolLayers:new $t([_c.fromCIMSymbol(e)]),callout:new AN({size:.5,color:new dt([0,0,0])}),verticalOffset:new qS({screenLength:40})}:{symbolLayers:new $t([_c.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new cc({symbolLayers:new $t([Tf.fromTextSymbol(e)])})}};g([T({type:qS,json:{write:!0}})],uc.prototype,"verticalOffset",void 0),g([T(ON)],uc.prototype,"callout",void 0),g([T({type:DN,json:{origins:{"web-scene":{write:!0}}}})],uc.prototype,"symbolLayers",void 0),g([ot({PointSymbol3D:"point-3d"},{readOnly:!0})],uc.prototype,"type",void 0),uc=cc=g([ie("esri.symbols.PointSymbol3D")],uc);const ta=uc;var Ed;const FN=$t.ofType({base:null,key:"type",typeMap:{extrude:hN,fill:nu,icon:_c,line:Ef,object:VS,text:Tf,water:SN}});let Td=Ed=class extends Am{constructor(e){super(e),this.symbolLayers=new FN,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&dp(Lt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&dp(Lt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(Z$(()=>this.symbolLayers,"after-add",({item:t})=>e(t),JF))}clone(){return new Ed({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new Ed;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const i=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Ed({symbolLayers:new $t([nu.fromSimpleFillSymbol(e)])})}};g([T({type:FN,json:{write:!0}})],Td.prototype,"symbolLayers",void 0),g([ot({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Td.prototype,"type",void 0),Td=Ed=g([ie("esri.symbols.PolygonSymbol3D")],Td);const au=Td;var xw;const kb=new yo({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let hc=xw=class extends NN{constructor(...e){super(...e),this.color=new dt([0,0,0,.25]),this.outline=new Nn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new xw({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};g([T()],hc.prototype,"color",void 0),g([T()],hc.prototype,"outline",void 0),g([ot({esriSFS:"simple-fill"},{readOnly:!0})],hc.prototype,"type",void 0),g([T({type:kb.apiValues,json:{read:kb.read,write:kb.write}})],hc.prototype,"style",void 0),hc=xw=g([ie("esri.symbols.SimpleFillSymbol")],hc);const lu=hc;var Sw;const Rb=new yo({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Wn=Sw=class extends RN{constructor(...e){super(...e),this.color=new dt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Nn}normalizeCtorArgs(e,t,i,r){if(e&&typeof e!="string")return e;const s={};return e&&(s.style=e),t!=null&&(s.size=ti(t)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new Sw({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};g([T()],Wn.prototype,"color",void 0),g([Jt("color")],Wn.prototype,"writeColor",null),g([ot({esriSMS:"simple-marker"},{readOnly:!0})],Wn.prototype,"type",void 0),g([T()],Wn.prototype,"size",void 0),g([T({type:Rb.apiValues,json:{read:Rb.read,write:Rb.write}})],Wn.prototype,"style",void 0),g([T({type:String,json:{write:!0}})],Wn.prototype,"path",null),g([T({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Nn}},json:{default:null,write:!0}})],Wn.prototype,"outline",void 0),Wn=Sw=g([ie("esri.symbols.SimpleMarkerSymbol")],Wn);const bo=Wn;var Ew;let qt=Ew=class extends Tr{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new rv,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string")return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}castLineWidth(e){return ti(e)}writeLineHeight(e,t,i,r){r&&typeof r!="string"?r.origin:t[i]=e}clone(){return new Ew({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};g([T({type:dt,json:{write:!0}})],qt.prototype,"backgroundColor",void 0),g([T({type:dt,json:{write:!0}})],qt.prototype,"borderLineColor",void 0),g([T({type:Number,json:{write:!0},cast:ti})],qt.prototype,"borderLineSize",void 0),g([T({type:rv,json:{write:!0}})],qt.prototype,"font",void 0),g([T({...wN,json:{write:!0}})],qt.prototype,"horizontalAlignment",void 0),g([T({type:Boolean,json:{write:!0}})],qt.prototype,"kerning",void 0),g([T({type:dt,json:{write:!0}})],qt.prototype,"haloColor",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],qt.prototype,"haloSize",void 0),g([T({type:Boolean,json:{write:!0}})],qt.prototype,"rightToLeft",void 0),g([T({type:Boolean,json:{write:!0}})],qt.prototype,"rotated",void 0),g([T({type:String,json:{write:!0}})],qt.prototype,"text",void 0),g([ot({esriTS:"text"},{readOnly:!0})],qt.prototype,"type",void 0),g([T({...xN,json:{write:!0}})],qt.prototype,"verticalAlignment",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],qt.prototype,"xoffset",void 0),g([T({type:Number,cast:ti,json:{write:!0}})],qt.prototype,"yoffset",void 0),g([T({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],qt.prototype,"angle",void 0),g([T({type:Number,json:{write:!0}})],qt.prototype,"width",void 0),g([T({type:Number})],qt.prototype,"lineWidth",void 0),g([Jt("lineWidth")],qt.prototype,"writeLineWidth",null),g([ym("lineWidth")],qt.prototype,"castLineWidth",null),g([T(_N)],qt.prototype,"lineHeight",void 0),g([Jt("lineHeight")],qt.prototype,"writeLineHeight",null),qt=Ew=g([ie("esri.symbols.TextSymbol")],qt);const Mf=qt;var Tw;let ln=Tw=class extends Tr{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:iv.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new Tw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){const t=e&&"acceptedFormats"in e?e.acceptedFormats:["web"];return this._fetchSymbol({...e,acceptedFormats:t})}async fetchCIMSymbol(e){const t=await this.fetchSymbol({...e,acceptedFormats:["cim"]});if(t?.type!=="cim")throw new ft("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=e!=null?e.cache:null,i=t?this._fetchCacheKey:null;if(t!=null){const o=i&&t.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await Se(()=>import("./webStyleSymbolUtils-dTMWrLxK.js"),__vite__mapDeps([59,60,61,62,1]),import.meta.url);pp(e);const s=r(this,{portal:this.portal},e);s.catch(o=>{Lt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return t?.set(i,n.clone()),n}};g([T({json:{write:!1}})],ln.prototype,"color",void 0),g([T({type:String,json:{write:!0}})],ln.prototype,"styleName",void 0),g([T({type:iv,json:{write:!1}})],ln.prototype,"portal",void 0),g([T({type:String,json:{read:mS,write:Ch}})],ln.prototype,"styleUrl",void 0),g([T({type:Vd,json:{read:!1}})],ln.prototype,"thumbnail",void 0),g([T({type:String,json:{write:!0}})],ln.prototype,"name",void 0),g([ot({styleSymbolReference:"web-style"},{readOnly:!0})],ln.prototype,"type",void 0),g([T()],ln.prototype,"_fetchCacheKey",null),ln=Tw=g([ie("esri.symbols.WebStyleSymbol")],ln);const zc=ln;function q1e(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function UN(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const HS={base:Tr,key:"type",typeMap:{"simple-fill":lu,"picture-fill":WS,"picture-marker":Af,"simple-line":Nn,"simple-marker":bo,text:Mf,"label-3d":sv,"line-3d":ou,"mesh-3d":Mm,"point-3d":ta,"polygon-3d":au,"web-style":zc,cim:su},errorContext:"symbol"},W1e={base:Tr,key:"type",typeMap:{"picture-marker":Af,"simple-marker":bo,"point-3d":ta,cim:su},errorContext:"symbol"},H1e={base:Tr,key:"type",typeMap:{"simple-line":Nn,"line-3d":ou,cim:su},errorContext:"symbol"},Y1e={base:Tr,key:"type",typeMap:{"simple-fill":lu,"picture-fill":WS,"polygon-3d":au,cim:su},errorContext:"symbol"},J1e={base:Tr,key:"type",typeMap:{"picture-marker":Af,"simple-marker":bo,text:Mf,"web-style":zc,cim:su},errorContext:"symbol"},NW=F$({types:HS}),Z1e={base:Tr,key:"type",typeMap:{"simple-fill":lu,"picture-fill":WS,"picture-marker":Af,"simple-line":Nn,"simple-marker":bo,text:Mf,"line-3d":ou,"mesh-3d":Mm,"point-3d":ta,"polygon-3d":au,"web-style":zc,cim:su},errorContext:"symbol"},K1e={base:Tr,key:"type",typeMap:{text:Mf,"label-3d":sv},errorContext:"symbol"},X1e={base:Tr,key:"type",typeMap:{"line-3d":ou,"mesh-3d":Mm,"point-3d":ta,"polygon-3d":au,"web-style":zc,cim:su},errorContext:"symbol"},Q1e={base:Tr,key:"type",typeMap:{"label-3d":sv},errorContext:"symbol"},eve=Oh(HS);var Aw;function PW(e){if(!e)return null;const t={};for(const i in e){const r=_S(e[i]);r&&(t[i]=r)}return Object.keys(t).length!==0?t:null}function LW(e){if(e==null)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return Object.keys(t).length!==0?t:null}let zr=Aw=class extends Ao.ClonableMixin(et){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Q0(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&lD(Lt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new Aw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:LW(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:et.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:t,newValue:i};e==="origin-transform"&&(s.action=r),e==="attributes"&&(s.attributeName=r),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([tA(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),tA(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};g([T({value:null,json:{read:PW}})],zr.prototype,"aggregateGeometries",null),g([T({value:null})],zr.prototype,"attributes",null),g([T({value:null,types:_q,json:{read:_S}})],zr.prototype,"geometry",null),g([T({type:Boolean})],zr.prototype,"isAggregate",void 0),g([T({clonable:"reference"})],zr.prototype,"layer",void 0),g([T({clonable:"reference"})],zr.prototype,"origin",void 0),g([T({type:bq})],zr.prototype,"popupTemplate",void 0),g([T({clonable:"reference"})],zr.prototype,"sourceLayer",void 0),g([T({value:null,types:HS})],zr.prototype,"symbol",null),g([T({clonable:!1,json:{read:!1,write:!1}})],zr.prototype,"_version",void 0),g([T({type:Boolean,value:!0})],zr.prototype,"visible",null),zr=Aw=g([ie("esri.Graphic")],zr);const kW=zr;function tve(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="feature"}function ive(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function rve(e){return e?.type==="subtype-sublayer"}const sve={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function f4(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function nve(e){return e==="integrated-mesh"||e==="integrated-mesh-3dtiles"}function ove(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function ave(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e?.source?.type==="feature-layer"}async function lve(e,t){const i=Yt?.findServerInfo(e);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=e.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${e.slice(0,r)}/rest/info`,n=t!=null?t.signal:null,{data:o}=await Ci(s,{query:{f:"json"},responseType:"json",signal:n});return o?.owningSystemUrl||null}function RW(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function cve(e){return RW(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function DW(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function uve(e){return!!DW(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const YS=[252,146,31,255],FW=[153,153,153,255],UW={type:"esriSMS",style:"esriSMSCircle",size:6,color:YS,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},jW={type:"esriSLS",style:"esriSLSSolid",width:.75,color:YS},BW={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},VW={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},GW={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},zW={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},qW={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},jN=bo.fromJSON(UW),BN=Nn.fromJSON(jW),VN=lu.fromJSON(BW),hve=Mf.fromJSON(VW);function fve(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return jN;case"polyline":return BN;case"polygon":case"extent":return VN}return null}const dve=bo.fromJSON(GW),pve=Nn.fromJSON(zW),mve=lu.fromJSON(qW),WW=ta.fromSimpleMarkerSymbol(jN),HW=ou.fromSimpleLineSymbol(BN),YW=au.fromSimpleFillSymbol(VN),JW=new Mm({symbolLayers:new $t([new nu({material:{color:YS},edges:new sN({size:go(1),color:new dt(FW)})})])}),ZW=new ou({symbolLayers:new $t([new Ef({material:{color:new dt([0,0,0])},size:go(1)})])}),KW=new au({symbolLayers:new $t([new nu({outline:{color:new dt([0,0,0]),size:go(1)}})])});function yve(e){if(e==null)return null;switch(e.type){case"mesh":return JW;case"point":case"multipoint":return WW;case"polyline":return HW;case"polygon":case"extent":return YW}return null}const d4="#useCIMFallbackSymbology()",Mu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function XW(e,t=Mu){if(!e)return{symbol:null};const{retainId:i=Mu.retainId,ignoreDrivers:r=Mu.ignoreDrivers,hasLabelingContext:s=Mu.hasLabelingContext,retainCIM:n=Mu.retainCIM,cimFallbackEnabled:o=Mu.cimFallbackEnabled}=t;let a=null;if(UN(e)||e instanceof zc)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=n?e.clone():ta.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=ZW.clone(),t?.logWarning?.(d4,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=KW.clone(),t?.logWarning?.(d4,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ft("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof Nn)a=ou.fromSimpleLineSymbol(e);else if(e instanceof bo)a=ta.fromSimpleMarkerSymbol(e);else if(e instanceof Af)a=ta.fromPictureMarkerSymbol(e);else if(e instanceof lu)a=t.geometryType&&t.geometryType==="mesh"?Mm.fromSimpleFillSymbol(e):au.fromSimpleFillSymbol(e);else{if(!(e instanceof Mf))return{error:new ft("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=s?sv.fromTextSymbol(e):ta.fromTextSymbol(e)}return i&&a&&a.type!=="cim"&&(a.id=e.id),!r||a.type==="cim"||a instanceof zc||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function gve(e,t,i,r){const s=GN(e,{},{context:r,isLabelSymbol:!1});s!=null&&(t[i]=s)}function vve(e,t,i,r){const s=GN(e,{},{context:r,isLabelSymbol:!0});s!=null&&(t[i]=s)}function p4(e){return UN(e)||e instanceof zc}function QW(e){return e?.type==="polygon-3d"||e?.type==="line-3d"}function GN(e,t,i){if(e==null)return null;const{context:r,isLabelSymbol:s}=i,n=r?.origin,o=r?.messages;if(n==="web-scene"&&!p4(e)){const a=XW(e,{retainCIM:!0,hasLabelingContext:s});return a.symbol!=null?a.symbol.write(t,r):(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:a.error})),null)}return f4(r?.layer)&&QW(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):(n==="web-map"||n==="portal-item"&&!f4(r?.layer))&&p4(e)?(o?.push(new ft("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(t,r)}function JS(e,t){return NW(e,null,t)}class kt{static async Basemap(t){const i=await Se(()=>import("./Basemap-C0uN_Ba4.js").then(r=>r.B),__vite__mapDeps([33,1,34,32,3,35]),import.meta.url);return Reflect.construct(i.default,[t])}static async Map(t){const i=await Se(()=>import("./Map-DIIUxuXo.js"),__vite__mapDeps([63,33,1,34,32,3,35,64,65,66,67,68,39,40]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapView(t){const i=await Se(()=>import("./MapView-CAm1cxV2.js").then(r=>r.a3),__vite__mapDeps([69,1,70,64,58,8,3,55,56,42,43,4,5,71,10,63,33,34,32,35,65,66,67,68,39,40,72,38,31,9,73,23,24,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureLayer(t){const i=await Se(()=>import("./FeatureLayer-SwHsoZYP.js"),__vite__mapDeps([98,1,37,49,99,23,24,38,50,51,52,31,100,5,73,40,101,102,103,104,105,106,107,108,109,61,110,111,112,113,114,115,116,39,58,8,3,117,118,55,56,119,120,47,121,122,123,65,66,67,124,125,126,127,128,129,130,131,132,133,134,135,136,14,15,96,30,137,138,139,140,141,48,142,143,53,32,54,144,145,146,147,148,149,150,151,152,153,154,155,156]),import.meta.url);return Reflect.construct(i.default,[t])}static async GraphicsLayer(t){const i=await Se(()=>import("./GraphicsLayer-DsYJriSQ.js"),__vite__mapDeps([157,72,39,1,40,121,49,122,123,65,66,67,145,51,52]),import.meta.url);return Reflect.construct(i.default,[t])}static async ImageryLayer(t){const i=await Se(()=>import("./ImageryLayer-VQPZEVeh.js"),__vite__mapDeps([158,1,37,39,40,50,49,51,52,159,23,24,160,58,8,3,161,136,102,103,104,105,109,106,107,108,61,162,12,163,139,67,140,164,81,82,83,84,165,123,65,66,166,137,14,15,30,31,167,73,119,168,169,170,171,172,28,27,29,118,55,56,173,47,121,122,124,48,53,32,54,144,145,146,147,153,155,156]),import.meta.url);return Reflect.construct(i.default,[t])}static async MapImageLayer(t){const i=await Se(()=>import("./MapImageLayer-DhLilFtJ.js"),__vite__mapDeps([174,34,37,126,39,1,40,120,175,96,50,49,51,52,54,55,56,64,176,116,73,23,24,83,169,170,81,82,84,171,172,28,27,29,118,177,26,119,173,142,143,100,5,101,102,103,104,105,106,107,108,109,61,110,111,112,150,149,30,31,113,114,115,135,136,14,15,137,138,139,67,140,155,178,47,121,122,123,65,66,124,48,53,32,144,145,146,147,179,180,167,153]),import.meta.url);return Reflect.construct(i.default,[t])}static async OpenStreetMapLayer(t){const i=await Se(()=>import("./OpenStreetMapLayer-B2zaR-y6.js"),__vite__mapDeps([181,182,37,39,1,40,121,49,122,123,65,66,67,48,50,51,52,53,32,54,55,56,144,145,167,42,43]),import.meta.url);return Reflect.construct(i.default,[t])}static async TileLayer(t){const i=await Se(()=>import("./TileLayer-D1Kj9m3Q.js"),__vite__mapDeps([183,34,37,39,1,40,120,41,42,43,44,45,46,14,15,28,175,96,50,49,51,52,54,55,56,64,176,116,73,23,24,83,169,170,81,82,84,171,172,27,29,118,177,26,119,173,142,143,100,5,101,102,103,104,105,106,107,108,109,61,110,111,112,150,149,30,31,113,114,115,135,136,137,138,139,67,140,155,178,47,121,122,123,65,66,124,48,53,32,144,145,167]),import.meta.url);return Reflect.construct(i.default,[t])}static async WMSLayer(t){const i=await Se(()=>import("./WMSLayer-B9cME5RG.js"),__vite__mapDeps([184,64,37,126,39,1,40,121,49,122,123,65,66,67,48,50,51,52,53,32,54,55,56,144,145,146,147,31,185,186,167]),import.meta.url);return Reflect.construct(i.default,[t])}static async ColorBackground(t){const i=await Se(()=>import("./ColorBackground-YICRW4MK.js"),__vite__mapDeps([97,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FeatureFilter(t){const i=await Se(()=>import("./FeatureFilter-BY5cmJlT.js"),__vite__mapDeps([131,73,23,24,40,1]),import.meta.url);return Reflect.construct(i.default,[t])}static async FieldFromJson(t){return(await Se(()=>import("./Field-Cnu4Q95F.js").then(r=>r.F),__vite__mapDeps([23,24]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await Se(()=>import("./Query-C0gvFNUO.js").then(i=>i.Q),__vite__mapDeps([73,23,24,40]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,i,r){const{executeForIds:s}=await Se(async()=>{const{executeForIds:n}=await import("./query-BkqHSHml.js");return{executeForIds:n}},__vite__mapDeps([187,188,73,23,24,40,173,83,170,81,82,84,171,172,28,27,29,118,55,1,56,119,189,110,190,191,192,193,194,195,111,31,169,177,26,196,197,198,199,200,201,202]),import.meta.url);return s(t,i,r)}static async RendererFromJson(t){const{fromJSON:i}=await Se(async()=>{const{fromJSON:r}=await import("./jsonUtils-CY7Njn-K.js");return{fromJSON:r}},__vite__mapDeps([134,135,136,102,103,104,105,52,109,1,14,15,96,30,31,137,107,108,138,139,67,140,101,106,61]),import.meta.url);return i(t)}}class Be{wkid;latestWkid;wkt;constructor(t,i){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=i)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Be("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Be(4326)}static fromConfig(t){if(t.wkt)return new Be(t.wkt);if(t.wkid)return new Be(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Be?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Be(parseInt(t.substring(5).trim())):new Be(t):Be.latLongSR()}static fromESRI(t){if(t.wkt)return new Be(t.wkt);{const i=t.toJSON().latestWkid,r=new Be(t.wkid);return i&&(r.latestWkid=i),r}}toESRI(){return new qi(this.lean())}static fromGeoJSON(t){const i=Be.parseGeoJsonCrs(t);return i.substring(0,5)==="EPSG:"?new Be(parseInt(i.slice(5))):new Be(i)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=t.properties.name,s=r.match(i);if(s)return"EPSG:"+s[1];if(r.substring(0,7)!=="urn:ogc")return r}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class cu{sr;id;constructor(t,i){this.id=t?t.toString():"",this.sr=Be.parseSR(i)}get type(){return Ze.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ze.NONE||this.type===Ze.UNKNOWN}geoJsonFactory(t,i){const r={type:t,coordinates:i};return this.sr&&(r.crs=this.sr.toGeoJSON()),r}}class El extends cu{constructor(){super("no_geometry")}get type(){return Ze.NONE}}let Dr=class Ad extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=i.slice():this.rawArray=Ad.parseXY(i)}get type(){return Ze.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let i;if(Array.isArray(t)&&t.length===2)i=t;else{if(t instanceof Ad)return t.toArray();i=[t.x,t.y]}if(isNaN(i[0])||isNaN(i[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(i[0]),parseFloat(i[1])]}static fromESRI(t,i){return new Ad(i,[t.x,t.y],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Ii({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Ad(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POINT,this.toArray())}};class ts extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=ts.arrayDeepCopy(i):i instanceof ts?this.rawArray=i.toArray():this.rawArray=ts.parsePointSet(i)}get pointArray(){return this.rawArray.map((t,i)=>new Dr(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new Dr(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=Dr.parseXY(t)}get length(){return this.rawArray.length}toArray(){return ts.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(i=>Dr.parseXY(i))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(i=>i.slice())}}class gh extends ts{constructor(t,i,r,s){super(t,i,r,s)}get type(){return Ze.MULTIPOINT}static fromESRI(t,i){return new gh(i,t.points,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new z1({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new gh(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTIPOINT,this.toArray())}}class ll extends ts{constructor(t,i,r,s){if(super(t,i,r,s),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ze.LINESTRING}static fromESRI(t,i){return new ll(i,t.paths[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new gm({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new ll(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.LINESTRING,this.toArray())}}class un extends cu{rawArray;constructor(t,i,r,s){if(super(t,i.sr||r),s)this.rawArray=un.arrayDeepCopy(i);else if(i instanceof un)this.rawArray=i.toArray();else if(i instanceof ts)this.rawArray=[i.toArray()];else if(Array.isArray(i)){if(i.length===0)throw new Error("no lines provided");this.rawArray=i.map(n=>ts.parsePointSet(n))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,i)=>new ll(this.childIdGenerator(i),t,this.sr,!0))}getAt(t){return new ll(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,i){this.rawArray[i]=ts.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ze.MULTILINESTRING}toArray(){return un.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new un(i,t.paths,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new gm({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new un(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTILINESTRING,this.toArray())}}class Tc extends ts{constructor(t,i,r,s){if(super(t,i,r,s),Tc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ze.LINEARRING}updateAt(t,i){const r=this.length-1;i===0?super.updateAt(t,r):i===r&&super.updateAt(t,0),super.updateAt(t,i)}static closeRing(t){const i=t[0],r=t[t.length-1];(i[0]!==r[0]||i[1]!==r[1])&&t.push(i.slice())}static fromESRI(t,i){return new Tc(i,t.rings[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Vc({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Tc(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,[this.toArray()])}}class gr extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=gr.arrayDeepCopy(i):this.rawArray=gr.parsePolygon(i)}addLinearRings(t){t.forEach(i=>this.rawArray.push(i.toArray()))}get ringArray(){return this.rawArray.map((t,i)=>new Tc(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.POLYGON}toArray(){return gr.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let i=[];if(t instanceof gr)return t.toArray();if(t instanceof un)i=t.toArray();else if(t instanceof ts)i=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");i=t.map(r=>ts.parsePointSet(r))}else throw new Error("invalid input format for parsePolygon");return i.forEach(r=>Tc.closeRing(r)),i}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.slice()))}static fromESRI(t,i){return new gr(i,t.rings,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Vc({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new gr(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,this.toArray())}}class Jo extends cu{rawArray;constructor(t,i,r,s){super(t,i.sr||r),s?this.rawArray=Jo.arrayDeepCopy(i):this.rawArray=Jo.parseMultiPolygon(i)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,i)=>new gr(this.childIdGenerator(i),t,this.sr,!0))}get type(){return Ze.MULTIPOLYGON}toArray(){return Jo.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof Jo)return t.toArray();if(t instanceof gr)return[t.toArray()];if(t instanceof un||t instanceof ts)return[gr.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(i=>gr.parsePolygon(i))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(i=>i.map(r=>r.map(s=>s.slice())))}static fromESRI(t,i){return new Jo(i,[t.rings],Be.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(i=>{i.forEach(r=>t.push(r))}),new Vc({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,i){return new Jo(i,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ci.MULTIPOLYGON,this.toArray())}}class Qt extends cu{rawMin;rawMax;constructor(t,i,r,s){super(t,i.sr||s),this.rawMin=Dr.parseXY(i),this.rawMax=Dr.parseXY(r)}get type(){return Ze.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Dr(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return Qt.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new Qt(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new gr(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,i,r,s,n,o){return new Qt(t,[i,r],[s,n],o)}static fromConfig(t,i){return new Qt(t,[i.xmin,i.ymin],[i.xmax,i.ymax],Be.fromConfig(i.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,i){return Qt.fromParams(i,t.xmin,t.ymin,t.xmax,t.ymax,Be.fromESRI(t.spatialReference))}toESRI(){return new Ws({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,i){return Qt.fromESRI(Ws.fromJSON(t),i)}static fromGeoJSON(t,i){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const r=t.coordinates[0].slice(),s=r.slice();return[1,2,3].forEach(n=>{[0,1].forEach(o=>{const a=t.coordinates[n];r[o]>a[o]&&(r[o]=a[o]),s[o]<a[o]&&(s[o]=a[o])})}),new Qt(i,r,s,Be.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(ci.POLYGON,this.toPolygonArray())}}class oa{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const i=t.length;if(i<3||i>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((r,s)=>s===3?r:parseInt(r)),i===3&&this.c.push(1)}else if(typeof t=="string"){const i=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(r=>{const s=i.substring(r,r+2);return oa.hexToInt(s)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((i,r)=>{i<0&&(console.error("Negative value passed to colour"),this.c[r]=0),i>255&&(console.error("Rotund value passed to colour"),this.c[r]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(i=>oa.intToHex(i)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new dt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const i=t.toString(16);return i.length===1?`0${i}`:i}}class Zo{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let i;const r=t.length;if(r===0)return;const s=t.substring(r-2);return s==="px"?i=parseFloat(t.substring(0,r-2))*1.333333:s==="pt"?i=parseFloat(t.substring(0,r-2)):i=parseFloat(t),i}else return t}}class sl extends Zo{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:ko.CIRCLE},super(),this._style=t.style||ko.CIRCLE,t.style===ko.ICON){const i=t;this._icon=i.icon||"",this._height=Zo.convToPoints(i.height)||16.5,this._width=Zo.convToPoints(i.width)||16.5,this._size=0,this._colour=new oa,this._outline=new lo,this._path=""}else{const i=t;this._size=Zo.convToPoints(i.size)||12,this._colour=new oa(i.colour??"#ffffff40"),this._outline=new lo(i.outline),this._path=this._style===ko.PATH&&i.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=Zo.convToPoints(t.xOffset)||0,this._yOffset=Zo.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===ko.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===ko.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===ko.ICON?sl.isImageUrl(this.icon)?(t=new Af,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new bo,t.color=new dt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new bo,t.color=new dt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const i={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const r=i;r.style=t.style,r.colour=t.color.toRgba(),r.size=t.size,r.path=t.path,r.outline=lo.fromESRI(t.outline).toOptions()}else{const r=i;r.style=ko.ICON,r.width=t.width,r.height=t.height,r.icon=t.url}return new sl(i)}static fromArcServer(t){return sl.fromESRI(JS(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class lo extends Zo{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||Wr.SOLID;const i=Zo.convToPoints(t.width);this._width=typeof i>"u"||i<0?.75:i,this._colour=new oa(t.colour),this._miter=t.miter??2,this._cap=t.cap||NI.ROUND,this._join=t.join||CI.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new Nn;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const i={width:t.width,colour:t.color.toRgba(),style:t.style};return new lo(i)}static fromArcServer(t){return lo.fromESRI(JS(t))}}class Pp extends Zo{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new oa(t.fill.colour),this._fillStyle=t.fill.style||PI.SOLID,this._outlineStyle=new lo(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),i=new dt(this.fillColour.rgba),r=new lu;return r.style=this.fillStyleType,r.color=i,r.outline=t,r}static fromESRI(t){const i={fill:{colour:t.color.toRgba(),style:t.style},outline:lo.fromESRI(t.outline).toOptions()};return new Pp(i)}static fromArcServer(t){return Pp.fromESRI(JS(t))}}class eH{Extent=Qt;Graphic=Sn;LineString=ll;LineStyle=lo;LinearRing=Tc;MultiLineString=un;MultiPoint=gh;MultiPolygon=Jo;Point=Dr;PointStyle=sl;Polygon=gr;PolygonStyle=Pp;SpatialReference=Be;esriMapClickToRamp(t,i){return{mapPoint:Dr.fromESRI(t.mapPoint,i),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,i){switch(t.type){case"point":return Dr.fromESRI(t,i);case"polyline":{const r=t;return r.paths.length===1?ll.fromESRI(r,i):un.fromESRI(r,i)}case"polygon":return gr.fromESRI(t,i);case"extent":return Qt.fromESRI(t,i);case"multipoint":return gh.fromESRI(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,i){switch(t.type){case ci.POINT:return Dr.fromGeoJSON(t,i);case ci.LINESTRING:return ll.fromGeoJSON(t,i);case ci.POLYGON:return gr.fromGeoJSON(t,i);case ci.MULTIPOINT:return gh.fromGeoJSON(t,i);case ci.MULTILINESTRING:return un.fromGeoJSON(t,i);case ci.MULTIPOLYGON:return Jo.fromGeoJSON(t,i);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const i={},r={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:i};return Object.keys(t.attributes).forEach(s=>r.properties[s]=t.attributes[s]),r}graphicGeoJsonToRamp(t,i){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const r=this.geomGeoJsonToRamp(t.geometry,i),s={};return Object.keys(t.properties.forEach(o=>s[o]=t.properties[o])),new Sn(r,"",s)}graphicRampToEsri(t){const i={attributes:{},id:t.id};return i.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(r=>i.attributes[r]=t.attributes[r]),t.style&&(i.symbol=this.styleRampToEsri(t.style)),new kW(i)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return sl.fromESRI(t);case"simple-line":return lo.fromESRI(t);case"simple-fill":return Pp.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new sl}}serverGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"esriGeometryPolygon":return Ze.POLYGON;case"esriGeometryPolyline":return Ze.LINESTRING;case"esriGeometryPoint":return Ze.POINT;case"esriGeometryMultipoint":return Ze.MULTIPOINT;case"esriGeometryEnvelope":return Ze.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ze.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"polygon":return Ze.POLYGON;case"polyline":return Ze.LINESTRING;case"point":return Ze.POINT;case"multipoint":return Ze.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ze.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case ci.POINT:return"point";case ci.LINESTRING:case ci.MULTILINESTRING:return"polyline";case ci.POLYGON:case ci.MULTIPOLYGON:return"polygon";case ci.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return sl.isImageUrl(t)}}class xg{layerIdx;name;children;uid;isRoot;constructor(t,i,r="",s=!0){this.layerIdx=t,this.name=r,this.isRoot=s,this.children=[],this.uid=i}findChildByUid(t){if(this.uid===t)return this;{let i;return this.children.some(r=>i=r.findChildByUid(t)),i}}findChildByIdx(t){if(this.layerIdx===t)return this;{let i;return this.children.some(r=>i=r.findChildByIdx(t)),i}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class zN{minScale;maxScale;constructor(t=0,i=0){this.minScale=t,this.maxScale=i}isOffScale(t){const i={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(i.offScale=!0,i.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(i.offScale=!0,i.zoomIn=!0),i}}class qN{sql;cache;extent;constructor(t="",i=""){this.sql={[Lr.PERMANENT]:t,[Lr.INITIAL]:i},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const i=this.sql,r=Object.keys(i).filter(s=>i[s]);return t.length===0?r:r.filter(s=>t.indexOf(s)===-1)}isActive(){return this.sqlActiveFilters([Lr.PERMANENT]).length>0}getCombinedSql(t=[]){const i=this.sqlActiveFilters(t),r=i.length;return r===0?"":r===1?this.sql[i[0]]:i.map(s=>`(${this.sql[s]})`).join(" AND ")}setSql(t,i){t===Lr.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=i,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Lr.EXTENT))}getCacheKey(t,i){return`_cache$${t.sort().join("$")}${i?"$"+Lr.EXTENT:""}$`}getCache(t,i){const r=this.getCacheKey(t,i);return this.cache[r]}setCache(t,i,r){const s=this.getCacheKey(i,r);this.cache[s]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(i=>t[i])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(i=>{i.indexOf(`$${t}$`)>-1&&delete this.cache[i]})}clearAll(){this.sql={[Lr.PERMANENT]:this.sql[Lr.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Lp{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,i,r=void 0,s=void 0){this.id=t,this.sr=i.sr.clone(),this._defaultExtent=i.clone(),this._fullExtent=r?.clone(),this._maximumExtent=s?.clone(),r&&!r.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${r.sr}`),s&&!s.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${s.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new Lp(t.id,Qt.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?Qt.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?Qt.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new Lp(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Ni{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,i)=>{this.resolveMe=r=>{t(r)},this.rejectMe=i})}}var g0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),i}var Db,m4;function iH(){if(m4)return Db;m4=1;var e=function(A){return t(A)&&!i(A)};function t(S){return!!S&&typeof S=="object"}function i(S){var A=Object.prototype.toString.call(S);return A==="[object RegExp]"||A==="[object Date]"||n(S)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function n(S){return S.$$typeof===s}function o(S){return Array.isArray(S)?[]:{}}function a(S,A){return A.clone!==!1&&A.isMergeableObject(S)?_(o(S),S,A):S}function l(S,A,w){return S.concat(A).map(function(b){return a(b,w)})}function c(S,A){if(!A.customMerge)return _;var w=A.customMerge(S);return typeof w=="function"?w:_}function f(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(A){return Object.propertyIsEnumerable.call(S,A)}):[]}function d(S){return Object.keys(S).concat(f(S))}function p(S,A){try{return A in S}catch{return!1}}function y(S,A){return p(S,A)&&!(Object.hasOwnProperty.call(S,A)&&Object.propertyIsEnumerable.call(S,A))}function v(S,A,w){var b={};return w.isMergeableObject(S)&&d(S).forEach(function(M){b[M]=a(S[M],w)}),d(A).forEach(function(M){y(S,M)||(p(S,M)&&w.isMergeableObject(A[M])?b[M]=c(M,w)(S[M],A[M],w):b[M]=a(A[M],w))}),b}function _(S,A,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||e,w.cloneUnlessOtherwiseSpecified=a;var b=Array.isArray(A),M=Array.isArray(S),O=b===M;return O?b?w.arrayMerge(S,A,w):v(S,A,w):a(A,w)}_.all=function(A,w){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(b,M){return _(b,M,w)},{})};var E=_;return Db=E,Db}var rH=iH();const WN=nv(rH);class sH{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i==="x"?r:r&3|8).toString(16)})}convertImageToCanvas(t,i,r=!0){const s=i??document.createElement("canvas"),n=document.createElement("img");r&&(n.crossOrigin="anonymous");const o=new Promise((a,l)=>{n.addEventListener("load",()=>{s.width=n.width,s.height=n.height,s.getContext("2d")?.drawImage(n,0,0),a(s)}),n.addEventListener("error",c=>l(c))});return n.src=t,o}async convertImagetoDataURL(t,i="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(r=>r.toDataURL(i)).catch(r=>(console.error("Failed to load crossorigin image",t,r),t))}parseUrlIndex(t){const i={rootUrl:t,index:0},r=/\/(\d+)\/?$/,s=t.match(r);if(s){const n=s[1];i.index=isNaN(parseInt(n))?void 0:parseInt(n),i.rootUrl=t.substr(0,t.length-s[0].length)}else console.warn("Cannot extract layer index from url "+t);return i}controlAvailable(t,i){return i?.disabledControls?.includes(t)?!1:i?.controls?i?.controls?.includes(t):!0}}class Sg{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((i,r)=>{const[s,n]=r.split("=");return i[s]=n,i},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const i=WN.all([{},this.queryMap,t]);return`${this.base}${Object.entries(i).filter(([,s])=>s!==void 0).map(([s,n],o)=>`${o===0?"?":""}${s}=${n}`).join("&")}`}}/* @preserve
* @terraformer/spatial - v2.1.2 - MIT
* Copyright (c) 2012-2024 Environmental Systems Research Institute, Inc.
* Wed May 15 2024 14:35:51 GMT-0700 (Pacific Daylight Time)
*/var Gd=6378137,nH=57.29577951308232,oH=.017453292519943,aH={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},Fb=function(t){return t*nH},Ub=function(t){return t*oH},lH=function(t){var i=t[0],r=t[1];return[Fb(i/Gd)-Math.floor((Fb(i/Gd)+180)/360)*360,Fb(Math.PI/2-2*Math.atan(Math.exp(-1*r/Gd)))]},cH=function(t){var i=t[0],r=Math.max(Math.min(t[1],89.99999),-89.99999);return[Ub(i)*Gd,Gd/2*Math.log((1+Math.sin(Ub(r)))/(1-Math.sin(Ub(r))))]};function Mw(e){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(e)}var uH=function e(t,i){for(var r=0;r<t.length;r++)typeof t[r][0]=="number"&&(t[r]=i(t[r])),Mw(t[r])==="object"&&(t[r]=e(t[r],i));return t},hH=function e(t,i,r){if(t.type==="Point")t.coordinates=i(t.coordinates);else if(t.type==="Feature")t.geometry=e(t.geometry,i,!0);else if(t.type==="FeatureCollection")for(var s=0;s<t.features.length;s++)t.features[s]=e(t.features[s],i,!0);else if(t.type==="GeometryCollection")for(var n=0;n<t.geometries.length;n++)t.geometries[n]=e(t.geometries[n],i,!0);else t.coordinates=uH(t.coordinates,i);return r||i===cH&&(t.crs=aH),i===lH&&delete t.crs,t};function fH(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var qc=1,Wc=2,vh=3,dH=4,Ow=5,y4=6378137,pH=6356752314e-3,g4=.0066943799901413165,zd=484813681109536e-20,he=Math.PI/2,mH=.16666666666666666,yH=.04722222222222222,gH=.022156084656084655,be=1e-10,sr=.017453292519943295,ro=57.29577951308232,wt=Math.PI/4,kp=Math.PI*2,vi=3.14159265359,cs={};cs.greenwich=0;cs.lisbon=-9.131906111111;cs.paris=2.337229166667;cs.bogota=-74.080916666667;cs.madrid=-3.687938888889;cs.rome=12.452333333333;cs.bern=7.439583333333;cs.jakarta=106.807719444444;cs.ferro=-17.666666666667;cs.brussels=4.367975;cs.stockholm=18.058277777778;cs.athens=23.7163375;cs.oslo=10.722916666667;const vH={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var v4=/[\s_\-\/\(\)]/g;function yl(e,t){if(e[t])return e[t];for(var i=Object.keys(e),r=t.toLowerCase().replace(v4,""),s=-1,n,o;++s<i.length;)if(n=i[s],o=n.toLowerCase().replace(v4,""),o===r)return e[n]}function Iw(e){var t={},i=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,s,n,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*sr},lat_1:function(a){t.lat1=a*sr},lat_2:function(a){t.lat2=a*sr},lat_ts:function(a){t.lat_ts=a*sr},lon_0:function(a){t.long0=a*sr},lon_1:function(a){t.long1=a*sr},lon_2:function(a){t.long2=a*sr},alpha:function(a){t.alpha=parseFloat(a)*sr},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*sr},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=yl(vH,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*sr},pm:function(a){var l=yl(cs,a);t.from_greenwich=(l||parseFloat(a))*sr},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(r in i)s=i[r],r in o?(n=o[r],typeof n=="function"?n(s):t[n]=s):t[r]=s;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var Rp=1,HN=2,YN=3,Eg=4,JN=5,ZS=-1,bH=/\s/,_H=/[A-Za-z]/,wH=/[A-Za-z84_]/,ov=/[,\]]/,ZN=/[\d\.E\-\+]/;function ua(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Rp}ua.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Eg)for(;bH.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case Rp:return this.neutral(e);case HN:return this.keyword(e);case Eg:return this.quoted(e);case JN:return this.afterquote(e);case YN:return this.number(e);case ZS:return}};ua.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=Eg;return}if(ov.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};ua.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Rp;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Rp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=ZS);return}};ua.prototype.number=function(e){if(ZN.test(e)){this.word+=e;return}if(ov.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};ua.prototype.quoted=function(e){if(e==='"'){this.state=JN;return}this.word+=e};ua.prototype.keyword=function(e){if(wH.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=Rp;return}if(ov.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};ua.prototype.neutral=function(e){if(_H.test(e)){this.word=e,this.state=HN;return}if(e==='"'){this.word="",this.state=Eg;return}if(ZN.test(e)){this.word=e,this.state=YN;return}if(ov.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};ua.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===ZS)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function xH(e){var t=new ua(e);return t.output()}function b4(e,t,i){Array.isArray(t)&&(i.unshift(t),t=null);var r=t?{}:e,s=i.reduce(function(n,o){return Qu(o,n),n},r);t&&(e[t]=s)}function Qu(e,t){if(!Array.isArray(e)){t[e]=!0;return}var i=e.shift();if(i==="PARAMETER"&&(i=e.shift()),e.length===1){if(Array.isArray(e[0])){t[i]={},Qu(e[0],t[i]);return}t[i]=e[0];return}if(!e.length){t[i]=!0;return}if(i==="TOWGS84"){t[i]=e;return}if(i==="AXIS"){i in t||(t[i]=[]),t[i].push(e);return}Array.isArray(i)||(t[i]={});var r;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[i]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&Qu(e[2],t[i]);return;case"SPHEROID":case"ELLIPSOID":t[i]={name:e[0],a:e[1],rf:e[2]},e.length===4&&Qu(e[3],t[i]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],b4(t,i,e);return;default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return Qu(e,t[i]);return b4(t,i,e)}}var SH=.017453292519943295;function EH(e,t){var i=t[0],r=t[1];!(i in e)&&r in e&&(e[i]=e[r],t.length===3&&(e[i]=t[2](e[i])))}function Fn(e){return e*SH}function TH(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",i=0,r=e.AXIS.length;i<r;++i){var s=[e.AXIS[i][0].toLowerCase(),e.AXIS[i][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?t+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?t+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?t+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var n=e.GEOGCS;e.type==="GEOGCS"&&(n=e),n&&(n.DATUM?e.datumCode=n.DATUM.name.toLowerCase():e.datumCode=n.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(e.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=n.DATUM.SPHEROID.a,e.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(e.datum_params=n.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var f=e.to_meter||1;return c*f}var a=function(c){return EH(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Fn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Fn],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Fn],["lat0","latitude_of_origin",Fn],["lat0","standard_parallel_1",Fn],["lat1","standard_parallel_1",Fn],["lat2","standard_parallel_2",Fn],["azimuth","Azimuth"],["alpha","azimuth",Fn],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Fn(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Fn(e.lat0>0?90:-90))}function KN(e){var t=xH(e),i=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",i]);var s={};return Qu(t,s),TH(s),s}function Nr(e){var t=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?Nr[e]=Iw(arguments[1]):Nr[e]=KN(arguments[1]):Nr[e]=i}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?Nr.apply(t,r):Nr(r)});if(typeof e=="string"){if(e in Nr)return Nr[e]}else"EPSG"in e?Nr["EPSG:"+e.EPSG]=e:"ESRI"in e?Nr["ESRI:"+e.ESRI]=e:"IAU2000"in e?Nr["IAU2000:"+e.IAU2000]=e:console.log(e);return}}fH(Nr);function AH(e){return typeof e=="string"}function MH(e){return e in Nr}var OH=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function IH(e){return OH.some(function(t){return e.indexOf(t)>-1})}var $H=["3857","900913","3785","102113"];function CH(e){var t=yl(e,"authority");if(t){var i=yl(t,"epsg");return i&&$H.indexOf(i)>-1}}function NH(e){var t=yl(e,"extension");if(t)return yl(t,"proj4")}function PH(e){return e[0]==="+"}function LH(e){if(AH(e)){if(MH(e))return Nr[e];if(IH(e)){var t=KN(e);if(CH(t))return Nr["EPSG:3857"];var i=NH(t);return i?Iw(i):t}if(PH(e))return Iw(e)}else return e}function _4(e,t){e=e||{};var i,r;if(!t)return e;for(r in t)i=t[r],i!==void 0&&(e[r]=i);return e}function _o(e,t,i){var r=e*t;return i/Math.sqrt(1-r*r)}function Om(e){return e<0?-1:1}function xe(e){return Math.abs(e)<=vi?e:e-Om(e)*kp}function _n(e,t,i){var r=e*i,s=.5*e;return r=Math.pow((1-r)/(1+r),s),Math.tan(.5*(he-t))/r}function Dp(e,t){for(var i=.5*e,r,s,n=he-2*Math.atan(t),o=0;o<=15;o++)if(r=e*Math.sin(n),s=he-2*Math.atan(t*Math.pow((1-r)/(1+r),i))-n,n+=s,Math.abs(s)<=1e-10)return n;return-9999}function kH(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=_o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function RH(e){var t=e.x,i=e.y;if(i*ro>90&&i*ro<-90&&t*ro>180&&t*ro<-180)return null;var r,s;if(Math.abs(Math.abs(i)-he)<=be)return null;if(this.sphere)r=this.x0+this.a*this.k0*xe(t-this.long0),s=this.y0+this.a*this.k0*Math.log(Math.tan(wt+.5*i));else{var n=Math.sin(i),o=_n(this.e,i,n);r=this.x0+this.a*this.k0*xe(t-this.long0),s=this.y0-this.a*this.k0*Math.log(o)}return e.x=r,e.y=s,e}function DH(e){var t=e.x-this.x0,i=e.y-this.y0,r,s;if(this.sphere)s=he-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var n=Math.exp(-i/(this.a*this.k0));if(s=Dp(this.e,n),s===-9999)return null}return r=xe(this.long0+t/(this.a*this.k0)),e.x=r,e.y=s,e}var FH=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const UH={init:kH,forward:RH,inverse:DH,names:FH};function jH(){}function w4(e){return e}var BH=["longlat","identity"];const VH={init:jH,forward:w4,inverse:w4,names:BH};var GH=[UH,VH],Oy={},Tg=[];function XN(e,t){var i=Tg.length;return e.names?(Tg[i]=e,e.names.forEach(function(r){Oy[r.toLowerCase()]=i}),this):(console.log(t),!0)}function zH(e){if(!e)return!1;var t=e.toLowerCase();if(typeof Oy[t]<"u"&&Tg[Oy[t]])return Tg[Oy[t]]}function qH(){GH.forEach(XN)}const WH={start:qH,add:XN,get:zH};var We={};We.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};We.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};We.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};We.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};We.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};We.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};We.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};We.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};We.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};We.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};We.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};We.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};We.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};We.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};We.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};We.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};We.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};We.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};We.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};We.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};We.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};We.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};We.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};We.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};We.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};We.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};We.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};We.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};We.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};We.hough={a:6378270,rf:297,ellipseName:"Hough"};We.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};We.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};We.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};We.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};We.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};We.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};We.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};We.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};We.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};We.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};We.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};We.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var HH=We.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};We.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function YH(e,t,i,r){var s=e*e,n=t*t,o=(s-n)/s,a=0;r?(e*=1-o*(mH+o*(yH+o*gH)),s=e*e,o=0):a=Math.sqrt(o);var l=(s-n)/n;return{es:o,e:a,ep2:l}}function JH(e,t,i,r,s){if(!e){var n=yl(We,r);n||(n=HH),e=n.a,t=n.b,i=n.rf}return i&&!t&&(t=(1-1/i)*e),(i===0||Math.abs(e-t)<be)&&(s=!0,t=e),{a:e,b:t,rf:i,sphere:s}}var Yi={};Yi.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Yi.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Yi.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Yi.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Yi.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Yi.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Yi.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Yi.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Yi.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Yi.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Yi.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Yi.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Yi.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Yi.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Yi.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Yi.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Yi.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Yi.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function ZH(e,t,i,r,s,n,o){var a={};return e===void 0||e==="none"?a.datum_type=Ow:a.datum_type=dH,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=qc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=Wc,a.datum_params[3]*=zd,a.datum_params[4]*=zd,a.datum_params[5]*=zd,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=vh,a.grids=o),a.a=i,a.b=r,a.es=s,a.ep2=n,a}var QN={};function KH(e,t){var i=new DataView(t),r=eY(i),s=tY(i,r),n=iY(i,s,r),o={header:s,subgrids:n};return QN[e]=o,o}function XH(e){if(e===void 0)return null;var t=e.split(",");return t.map(QH)}function QH(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:QN[e]||null,isNull:!1}}function eh(e){return e/3600*Math.PI/180}function eY(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function tY(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:$w(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function $w(e,t,i){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,i)))}function iY(e,t,i){for(var r=176,s=[],n=0;n<t.nSubgrids;n++){var o=sY(e,r,i),a=nY(e,r,o,i),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);s.push({ll:[eh(o.lowerLongitude),eh(o.lowerLatitude)],del:[eh(o.longitudeInterval),eh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:rY(a)}),r+=176+o.gridNodeCount*16}return s}function rY(e){return e.map(function(t){return[eh(t.longitudeShift),eh(t.latitudeShift)]})}function sY(e,t,i){return{name:$w(e,t+8,t+16).trim(),parent:$w(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,i),upperLatitude:e.getFloat64(t+88,i),lowerLongitude:e.getFloat64(t+104,i),upperLongitude:e.getFloat64(t+120,i),latitudeInterval:e.getFloat64(t+136,i),longitudeInterval:e.getFloat64(t+152,i),gridNodeCount:e.getInt32(t+168,i)}}function nY(e,t,i,r){for(var s=t+176,n=16,o=[],a=0;a<i.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(s+a*n,r),longitudeShift:e.getFloat32(s+a*n+4,r),latitudeAccuracy:e.getFloat32(s+a*n+8,r),longitudeAccuracy:e.getFloat32(s+a*n+12,r)};o.push(l)}return o}function co(e,t){if(!(this instanceof co))return new co(e);t=t||function(c){if(c)throw c};var i=LH(e);if(typeof i!="object"){t("Could not parse to valid json: "+e);return}var r=co.projections.get(i.projName);if(!r){t("Could not get projection name from: "+e);return}if(i.datumCode&&i.datumCode!=="none"){var s=yl(Yi,i.datumCode);s&&(i.datum_params=i.datum_params||(s.towgs84?s.towgs84.split(","):null),i.ellps=s.ellipse,i.datumName=s.datumName?s.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var n=JH(i.a,i.b,i.rf,i.ellps,i.sphere),o=YH(n.a,n.b,n.rf,i.R_A),a=XH(i.nadgrids),l=i.datum||ZH(i.datumCode,i.datum_params,n.a,n.b,o.es,o.ep2,a);_4(this,i),_4(this,r),this.a=n.a,this.b=n.b,this.rf=n.rf,this.sphere=n.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}co.projections=WH;co.projections.start();function oY(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===qc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===Wc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function eP(e,t,i){var r=e.x,s=e.y,n=e.z?e.z:0,o,a,l,c;if(s<-he&&s>-1.001*he)s=-he;else if(s>he&&s<1.001*he)s=he;else{if(s<-he)return{x:-1/0,y:-1/0,z:e.z};if(s>he)return{x:1/0,y:1/0,z:e.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(s),c=Math.cos(s),l=a*a,o=i/Math.sqrt(1-t*l),{x:(o+n)*c*Math.cos(r),y:(o+n)*c*Math.sin(r),z:(o*(1-t)+n)*a}}function tP(e,t,i,r){var s=1e-12,n=s*s,o=30,a,l,c,f,d,p,y,v,_,E,S,A,w,b=e.x,M=e.y,O=e.z?e.z:0,C,P,N;if(a=Math.sqrt(b*b+M*M),l=Math.sqrt(b*b+M*M+O*O),a/i<s){if(C=0,l/i<s)return P=he,N=-r,{x:e.x,y:e.y,z:e.z}}else C=Math.atan2(M,b);c=O/l,f=a/l,d=1/Math.sqrt(1-t*(2-t)*f*f),v=f*(1-t)*d,_=c*d,w=0;do w++,y=i/Math.sqrt(1-t*_*_),N=a*v+O*_-y*(1-t*_*_),p=t*y/(y+N),d=1/Math.sqrt(1-p*(2-p)*f*f),E=f*(1-p)*d,S=c*d,A=S*v-E*_,v=E,_=S;while(A*A>n&&w<o);return P=Math.atan(S/Math.abs(E)),{x:C,y:P,z:N}}function aY(e,t,i){if(t===qc)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(t===Wc){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6];return{x:c*(e.x-l*e.y+a*e.z)+r,y:c*(l*e.x+e.y-o*e.z)+s,z:c*(-a*e.x+o*e.y+e.z)+n}}}function lY(e,t,i){if(t===qc)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(t===Wc){var r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],c=i[6],f=(e.x-r)/c,d=(e.y-s)/c,p=(e.z-n)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function v0(e){return e===qc||e===Wc}function cY(e,t,i){if(oY(e,t)||e.datum_type===Ow||t.datum_type===Ow)return i;var r=e.a,s=e.es;if(e.datum_type===vh){var n=x4(e,!1,i);if(n!==0)return;r=y4,s=g4}var o=t.a,a=t.b,l=t.es;if(t.datum_type===vh&&(o=y4,a=pH,l=g4),s===l&&r===o&&!v0(e.datum_type)&&!v0(t.datum_type))return i;if(i=eP(i,s,r),v0(e.datum_type)&&(i=aY(i,e.datum_type,e.datum_params)),v0(t.datum_type)&&(i=lY(i,t.datum_type,t.datum_params)),i=tP(i,l,o,a),t.datum_type===vh){var c=x4(t,!0,i);if(c!==0)return}return i}function x4(e,t,i){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-i.x,y:i.y},s={x:Number.NaN,y:Number.NaN},n=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(n.push(a.name),a.isNull){s=r;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,v=d.ll[1]-p,_=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,E=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(v>r.y||y>r.x||E<r.y||_<r.x)&&(s=uY(r,t,d),!isNaN(s.x)))break e}}return isNaN(s.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*ro+" "+r.y*ro+" tried: '"+n+"'"),-1):(i.x=-s.x,i.y=s.y,0)}function uY(e,t,i){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var s={x:e.x,y:e.y};s.x-=i.ll[0],s.y-=i.ll[1],s.x=xe(s.x-Math.PI)+Math.PI;var n=S4(s,i);if(t){if(isNaN(n.x))return r;n.x=s.x-n.x,n.y=s.y-n.y;var o=9,a=1e-12,l,c;do{if(c=S4(n,i),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:s.x-(c.x+n.x),y:s.y-(c.y+n.y)},n.x+=l.x,n.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=xe(n.x+i.ll[0]),r.y=n.y+i.ll[1]}else isNaN(n.x)||(r.x=e.x+n.x,r.y=e.y+n.y);return r}function S4(e,t){var i={x:e.x/t.del[0],y:e.y/t.del[1]},r={x:Math.floor(i.x),y:Math.floor(i.y)},s={x:i.x-1*r.x,y:i.y-1*r.y},n={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=t.lim[0]||r.y<0||r.y>=t.lim[1])return n;o=r.y*t.lim[0]+r.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var f={x:t.cvs[o][0],y:t.cvs[o][1]},d=s.x*s.y,p=s.x*(1-s.y),y=(1-s.x)*(1-s.y),v=(1-s.x)*s.y;return n.x=y*a.x+p*l.x+v*f.x+d*c.x,n.y=y*a.y+p*l.y+v*f.y+d*c.y,n}function E4(e,t,i){var r=i.x,s=i.y,n=i.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&i.z===void 0))switch(l===0?(o=r,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=s,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=n,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":i[a]!==void 0&&(c.z=o);break;case"d":i[a]!==void 0&&(c.z=-o);break;default:return null}return c}function iP(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function hY(e){T4(e.x),T4(e.y)}function T4(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function fY(e,t){return(e.datum.datum_type===qc||e.datum.datum_type===Wc||e.datum.datum_type===vh)&&t.datumCode!=="WGS84"||(t.datum.datum_type===qc||t.datum.datum_type===Wc||t.datum.datum_type===vh)&&e.datumCode!=="WGS84"}function Ag(e,t,i,r){var s;Array.isArray(i)?i=iP(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var n=i.z!==void 0;if(hY(i),e.datum&&t.datum&&fY(e,t)&&(s=new co("WGS84"),i=Ag(e,s,i,r),e=s),r&&e.axis!=="enu"&&(i=E4(e,!1,i)),e.projName==="longlat")i={x:i.x*sr,y:i.y*sr,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),i=e.inverse(i),!i)return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=cY(e.datum,t.datum,i),!!i)return t.from_greenwich&&(i={x:i.x-t.from_greenwich,y:i.y,z:i.z||0}),t.projName==="longlat"?i={x:i.x*ro,y:i.y*ro,z:i.z||0}:(i=t.forward(i),t.to_meter&&(i={x:i.x/t.to_meter,y:i.y/t.to_meter,z:i.z||0})),r&&t.axis!=="enu"?E4(t,!0,i):(i&&!n&&delete i.z,i)}var A4=co("WGS84");function jb(e,t,i,r){var s,n,o;return Array.isArray(i)?(s=Ag(e,t,i,r)||{x:NaN,y:NaN},i.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof s.z=="number"?[s.x,s.y,s.z].concat(i.slice(3)):[s.x,s.y,i[2]].concat(i.slice(3)):[s.x,s.y].concat(i.slice(2)):[s.x,s.y]):(n=Ag(e,t,i,r),o=Object.keys(i),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;n[a]=i[a]}),n)}function M4(e){return e instanceof co?e:e.oProj?e.oProj:co(e)}function Pt(e,t,i){e=M4(e);var r=!1,s;return typeof t>"u"?(t=e,e=A4,r=!0):(typeof t.x<"u"||Array.isArray(t))&&(i=t,t=e,e=A4,r=!0),t=M4(t),i?jb(e,t,i):(s={forward:function(n,o){return jb(e,t,n,o)},inverse:function(n,o){return jb(t,e,n,o)}},r&&(s.oProj=t),s)}var O4=6,rP="AJSAJS",sP="AFAFAF",th=65,Hr=73,Ps=79,Md=86,Od=90;const dY={forward:nP,inverse:pY,toPoint:oP};function nP(e,t){return t=t||5,gY(mY({lat:e[1],lon:e[0]}),t)}function pY(e){var t=KS(lP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function oP(e){var t=KS(lP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Bb(e){return e*(Math.PI/180)}function I4(e){return 180*(e/Math.PI)}function mY(e){var t=e.lat,i=e.lon,r=6378137,s=.00669438,n=.9996,o,a,l,c,f,d,p,y=Bb(t),v=Bb(i),_,E;E=Math.floor((i+180)/6)+1,i===180&&(E=60),t>=56&&t<64&&i>=3&&i<12&&(E=32),t>=72&&t<84&&(i>=0&&i<9?E=31:i>=9&&i<21?E=33:i>=21&&i<33?E=35:i>=33&&i<42&&(E=37)),o=(E-1)*6-180+3,_=Bb(o),a=s/(1-s),l=r/Math.sqrt(1-s*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(v-_),p=r*((1-s/4-3*s*s/64-5*s*s*s/256)*y-(3*s/8+3*s*s/32+45*s*s*s/1024)*Math.sin(2*y)+(15*s*s/256+45*s*s*s/1024)*Math.sin(4*y)-35*s*s*s/3072*Math.sin(6*y));var S=n*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,A=n*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return t<0&&(A+=1e7),{northing:Math.round(A),easting:Math.round(S),zoneNumber:E,zoneLetter:yY(t)}}function KS(e){var t=e.northing,i=e.easting,r=e.zoneLetter,s=e.zoneNumber;if(s<0||s>60)return null;var n=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,v,_,E,S,A,w=i-5e5,b=t;r<"N"&&(b-=1e7),E=(s-1)*6-180+3,l=a/(1-a),_=b/n,S=_/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),A=S+(3*c/2-27*c*c*c/32)*Math.sin(2*S)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*S)+151*c*c*c/96*Math.sin(6*S),f=o/Math.sqrt(1-a*Math.sin(A)*Math.sin(A)),d=Math.tan(A)*Math.tan(A),p=l*Math.cos(A)*Math.cos(A),y=o*(1-a)/Math.pow(1-a*Math.sin(A)*Math.sin(A),1.5),v=w/(f*n);var M=A-f*Math.tan(A)/y*(v*v/2-(5+3*d+10*p-4*p*p-9*l)*v*v*v*v/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*v*v*v*v*v*v/720);M=I4(M);var O=(v-(1+2*d+p)*v*v*v/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*v*v*v*v*v/120)/Math.cos(A);O=E+I4(O);var C;if(e.accuracy){var P=KS({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});C={top:P.lat,right:P.lon,bottom:M,left:O}}else C={lat:M,lon:O};return C}function yY(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function gY(e,t){var i="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+vY(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,t)+r.substr(r.length-5,t)}function vY(e,t,i){var r=aP(i),s=Math.floor(e/1e5),n=Math.floor(t/1e5)%20;return bY(s,n,r)}function aP(e){var t=e%O4;return t===0&&(t=O4),t}function bY(e,t,i){var r=i-1,s=rP.charCodeAt(r),n=sP.charCodeAt(r),o=s+e-1,a=n+t,l=!1;o>Od&&(o=o-Od+th-1,l=!0),(o===Hr||s<Hr&&o>Hr||(o>Hr||s<Hr)&&l)&&o++,(o===Ps||s<Ps&&o>Ps||(o>Ps||s<Ps)&&l)&&(o++,o===Hr&&o++),o>Od&&(o=o-Od+th-1),a>Md?(a=a-Md+th-1,l=!0):l=!1,(a===Hr||n<Hr&&a>Hr||(a>Hr||n<Hr)&&l)&&a++,(a===Ps||n<Ps&&a>Ps||(a>Ps||n<Ps)&&l)&&(a++,a===Hr&&a++),a>Md&&(a=a-Md+th-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function lP(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,i=null,r="",s,n=0;!/[A-Z]/.test(s=e.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+e;r+=s,n++}var o=parseInt(r,10);if(n===0||n+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(n++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;i=e.substring(n,n+=2);for(var l=aP(o),c=_Y(i.charAt(0),l),f=wY(i.charAt(1),l);f<xY(a);)f+=2e6;var d=t-n;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,v=0,_,E,S,A,w;return p>0&&(_=1e5/Math.pow(10,p),E=e.substring(n,n+p),y=parseFloat(E)*_,S=e.substring(n+p),v=parseFloat(S)*_),A=y+c,w=v+f,{easting:A,northing:w,zoneLetter:a,zoneNumber:o,accuracy:_}}function _Y(e,t){for(var i=rP.charCodeAt(t-1),r=1e5,s=!1;i!==e.charCodeAt(0);){if(i++,i===Hr&&i++,i===Ps&&i++,i>Od){if(s)throw"Bad character: "+e;i=th,s=!0}r+=1e5}return r}function wY(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=sP.charCodeAt(t-1),r=0,s=!1;i!==e.charCodeAt(0);){if(i++,i===Hr&&i++,i===Ps&&i++,i>Md){if(s)throw"Bad character: "+e;i=th,s=!0}r+=1e5}return r}function xY(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Uh(e,t,i){if(!(this instanceof Uh))return new Uh(e,t,i);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Uh.fromMGRS=function(e){return new Uh(oP(e))};Uh.prototype.toMGRS=function(e){return nP([this.x,this.y],e)};var SY=1,EY=.25,$4=.046875,C4=.01953125,N4=.01068115234375,TY=.75,AY=.46875,MY=.013020833333333334,OY=.007120768229166667,IY=.3645833333333333,$Y=.005696614583333333,CY=.3076171875;function XS(e){var t=[];t[0]=SY-e*(EY+e*($4+e*(C4+e*N4))),t[1]=e*(TY-e*($4+e*(C4+e*N4)));var i=e*e;return t[2]=i*(AY-e*(MY+e*OY)),i*=e,t[3]=i*(IY-e*$Y),t[4]=i*e*CY,t}function Of(e,t,i,r){return i*=t,t*=t,r[0]*e-i*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}var NY=20;function QS(e,t,i){for(var r=1/(1-t),s=e,n=NY;n;--n){var o=Math.sin(s),a=1-t*o*o;if(a=(Of(s,o,Math.cos(s),i)-e)*(a*Math.sqrt(a))*r,s-=a,Math.abs(a)<be)return s}return s}function PY(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=XS(this.es),this.ml0=Of(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function LY(e){var t=e.x,i=e.y,r=xe(t-this.long0),s,n,o,a=Math.sin(i),l=Math.cos(i);if(this.es){var f=l*r,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),v=Math.abs(l)>be?Math.tan(i):0,_=Math.pow(v,2),E=Math.pow(_,2);s=1-this.es*Math.pow(a,2),f=f/Math.sqrt(s);var S=Of(i,a,l,this.en);n=this.a*(this.k0*f*(1+d/6*(1-_+p+d/20*(5-18*_+E+14*p-58*_*p+d/42*(61+179*E-E*_-479*_)))))+this.x0,o=this.a*(this.k0*(S-this.ml0+a*r*f/2*(1+d/12*(5-_+9*p+4*y+d/30*(61+E-58*_+270*p-330*_*p+d/56*(1385+543*E-E*_-3111*_))))))+this.y0}else{var c=l*Math.sin(r);if(Math.abs(Math.abs(c)-1)<be)return 93;if(n=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(r)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>be)return 93;o=0}else o=Math.acos(o);i<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=n,e.y=o,e}function kY(e){var t,i,r,s,n=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,i=QS(t,this.es,this.en),Math.abs(i)<he){var d=Math.sin(i),p=Math.cos(i),y=Math.abs(p)>be?Math.tan(i):0,v=this.ep2*Math.pow(p,2),_=Math.pow(v,2),E=Math.pow(y,2),S=Math.pow(E,2);t=1-this.es*Math.pow(d,2);var A=n*Math.sqrt(t)/this.k0,w=Math.pow(A,2);t=t*y,r=i-t*w/(1-this.es)*.5*(1-w/12*(5+3*E-9*v*E+v-4*_-w/30*(61+90*E-252*v*E+45*S+46*v-w/56*(1385+3633*E+4095*S+1574*S*E)))),s=xe(this.long0+A*(1-w/6*(1+2*E+v-w/20*(5+28*E+24*S+8*v*E+6*v-w/42*(61+662*E+1320*S+720*S*E))))/p)}else r=he*Om(o),s=0;else{var a=Math.exp(n/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);t=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),r=Math.asin(t),o<0&&(r=-r),l===0&&f===0?s=0:s=xe(Math.atan2(l,f)+this.long0)}return e.x=s,e.y=r,e}var RY=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Iy={init:PY,forward:LY,inverse:kY,names:RY};function cP(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function Xr(e,t){e=Math.abs(e),t=Math.abs(t);var i=Math.max(e,t),r=Math.min(e,t)/(i||1);return i*Math.sqrt(1+Math.pow(r,2))}function DY(e){var t=1+e,i=t-1;return i===0?e:e*Math.log(t)/i}function FY(e){var t=Math.abs(e);return t=DY(t*(1+t/(Xr(1,t)+1))),e<0?-t:t}function e3(e,t){for(var i=2*Math.cos(2*t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return t+o*Math.sin(2*t)}function UY(e,t){for(var i=2*Math.cos(t),r=e.length-1,s=e[r],n=0,o;--r>=0;)o=-n+i*s+e[r],n=s,s=o;return Math.sin(t)*o}function jY(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function uP(e,t,i){for(var r=Math.sin(t),s=Math.cos(t),n=cP(i),o=jY(i),a=2*s*o,l=-2*r*n,c=e.length-1,f=e[c],d=0,p=0,y=0,v,_;--c>=0;)v=p,_=d,p=f,d=y,f=-v+a*p-l*d+e[c],y=-_+l*p+a*d;return a=r*o,l=s*n,[a*f-l*y,a*y+l*f]}function BY(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Iy.init.apply(this),this.forward=Iy.forward,this.inverse=Iy.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),i=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),i=i*t,this.cgb[1]=i*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=i*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),i=i*t,this.cgb[2]=i*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=i*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),i=i*t,this.cgb[3]=i*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=i*(1237/630+t*(-12/5+t*(-24832/14175))),i=i*t,this.cgb[4]=i*(4174/315+t*(-144838/6237)),this.cbg[4]=i*(-734/315+t*(109598/31185)),i=i*t,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=i*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=i*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),i=i*t,this.utg[2]=i*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=i*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),i=i*t,this.utg[3]=i*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=i*(49561/161280+t*(-179/168+t*(6601661/7257600))),i=i*t,this.utg[4]=i*(-4583/161280+t*(108847/3991680)),this.gtu[4]=i*(34729/80640+t*(-3418889/1995840)),i=i*t,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var r=e3(this.cbg,this.lat0);this.Zb=-this.Qn*(r+UY(this.gtu,2*r))}function VY(e){var t=xe(e.x-this.long0),i=e.y;i=e3(this.cbg,i);var r=Math.sin(i),s=Math.cos(i),n=Math.sin(t),o=Math.cos(t);i=Math.atan2(r,o*s),t=Math.atan2(n*s,Xr(r,s*o)),t=FY(Math.tan(t));var a=uP(this.gtu,2*i,2*t);i=i+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*i+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function GY(e){var t=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,t=t/this.Qn;var r,s;if(Math.abs(t)<=2.623395162778){var n=uP(this.utg,2*i,2*t);i=i+n[0],t=t+n[1],t=Math.atan(cP(t));var o=Math.sin(i),a=Math.cos(i),l=Math.sin(t),c=Math.cos(t);i=Math.atan2(o*c,Xr(l,c*a)),t=Math.atan2(l,c*a),r=xe(t+this.long0),s=e3(this.cgb,i)}else r=1/0,s=1/0;return e.x=r,e.y=s,e}var zY=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const $y={init:BY,forward:VY,inverse:GY,names:zY};function qY(e,t){if(e===void 0){if(e=Math.floor((xe(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var WY="etmerc";function HY(){var e=qY(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*sr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,$y.init.apply(this),this.forward=$y.forward,this.inverse=$y.inverse}var YY=["Universal Transverse Mercator System","utm"];const JY={init:HY,names:YY,dependsOn:WY};function t3(e,t){return Math.pow((1-e)/(1+e),t)}var ZY=20;function KY(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+wt)/(Math.pow(Math.tan(.5*this.lat0+wt),this.C)*t3(this.e*e,this.ratexp))}function XY(e){var t=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+wt),this.C)*t3(this.e*Math.sin(i),this.ratexp))-he,e.x=this.C*t,e}function QY(e){for(var t=1e-14,i=e.x/this.C,r=e.y,s=Math.pow(Math.tan(.5*r+wt)/this.K,1/this.C),n=ZY;n>0&&(r=2*Math.atan(s*t3(this.e*Math.sin(e.y),-.5*this.e))-he,!(Math.abs(r-e.y)<t));--n)e.y=r;return n?(e.x=i,e.y=r,e):null}var eJ=["gauss"];const i3={init:KY,forward:XY,inverse:QY,names:eJ};function tJ(){i3.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function iJ(e){var t,i,r,s;return e.x=xe(e.x-this.long0),i3.forward.apply(this,[e]),t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*i*r),e.x=s*i*Math.sin(e.x),e.y=s*(this.cosc0*t-this.sinc0*i*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function rJ(e){var t,i,r,s,n;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,n=Xr(e.x,e.y)){var o=2*Math.atan2(n,this.R2);t=Math.sin(o),i=Math.cos(o),s=Math.asin(i*this.sinc0+e.y*t*this.cosc0/n),r=Math.atan2(e.x*t,n*this.cosc0*i-e.y*this.sinc0*t)}else s=this.phic0,r=0;return e.x=r,e.y=s,i3.inverse.apply(this,[e]),e.x=xe(e.x+this.long0),e}var sJ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const nJ={init:tJ,forward:iJ,inverse:rJ,names:sJ};function oJ(e,t,i){return t*=i,Math.tan(.5*(he+e))*Math.pow((1-t)/(1+t),.5*i)}function aJ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&(this.k0=.5*(1+Om(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=be&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=be&&Math.abs(Math.cos(this.lat_ts))>be&&(this.k0=.5*this.cons*_o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/_n(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=_o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-he,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function lJ(e){var t=e.x,i=e.y,r=Math.sin(i),s=Math.cos(i),n,o,a,l,c,f,d=xe(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=be&&Math.abs(i+this.lat0)<=be?(e.x=NaN,e.y=NaN,e):this.sphere?(n=2*this.k0/(1+this.sinlat0*r+this.coslat0*s*Math.cos(d)),e.x=this.a*n*s*Math.sin(d)+this.x0,e.y=this.a*n*(this.coslat0*r-this.sinlat0*s*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(i,r,this.e))-he,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=be?(c=_n(this.e,i*this.con,this.con*r),f=2*this.a*this.k0*c/this.cons,e.x=this.x0+f*Math.sin(t-this.long0),e.y=this.y0-this.con*f*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<be?(n=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=n*a):(n=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=n*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=n*l*Math.sin(d)+this.x0,e))}function cJ(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,i=this.lat0,o<=be?(e.x=t,e.y=i,e):(i=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<be?this.lat0>0?t=xe(this.long0+Math.atan2(e.x,-1*e.y)):t=xe(this.long0+Math.atan2(e.x,e.y)):t=xe(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=i,e)}else if(Math.abs(this.coslat0)<=be){if(o<=be)return i=this.lat0,t=this.long0,e.x=t,e.y=i,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),i=this.con*Dp(this.e,r),t=this.con*xe(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else s=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=be?n=this.X0:(n=Math.asin(Math.cos(s)*this.sinX0+e.y*Math.sin(s)*this.cosX0/o),t=xe(this.long0+Math.atan2(e.x*Math.sin(s),o*this.cosX0*Math.cos(s)-e.y*this.sinX0*Math.sin(s)))),i=-1*Dp(this.e,Math.tan(.5*(he+n)));return e.x=t,e.y=i,e}var uJ=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const hJ={init:aJ,forward:lJ,inverse:cJ,names:uJ,ssfn_:oJ};function fJ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),i=this.a,r=this.rf,s=1/r,n=2*s-Math.pow(s,2),o=this.e=Math.sqrt(n);this.R=this.k0*i*Math.sqrt(1-n)/(1-n*Math.pow(t,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function dJ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+i)+this.K,s=2*(Math.atan(Math.exp(r))-Math.PI/4),n=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(s)+Math.cos(this.b0)*Math.cos(n))),a=Math.asin(Math.cos(this.b0)*Math.sin(s)-Math.sin(this.b0)*Math.cos(s)*Math.cos(n));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function pJ(e){for(var t=e.x-this.x0,i=e.y-this.y0,r=t/this.R,s=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(s)+Math.sin(this.b0)*Math.cos(s)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(s))),a=this.lambda0+o/this.alpha,l=0,c=n,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var mJ=["somerc"];const yJ={init:fJ,forward:dJ,inverse:pJ,names:mJ};var Vu=1e-7;function gJ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(i)!==-1}function vJ(){var e,t,i,r,s,n,o,a,l,c,f=0,d,p=0,y=0,v=0,_=0,E=0,S=0;this.no_off=gJ(this),this.no_rot="no_rot"in this;var A=!1;"alpha"in this&&(A=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),A&&(S=this.alpha),w&&(f=this.rectified_grid_angle*sr),A||w)p=this.longc;else if(y=this.long1,_=this.lat1,v=this.long2,E=this.lat2,Math.abs(_-E)<=Vu||(e=Math.abs(_))<=Vu||Math.abs(e-he)<=Vu||Math.abs(Math.abs(this.lat0)-he)<=Vu||Math.abs(Math.abs(E)-he)<=Vu)throw new Error;var b=1-this.es;t=Math.sqrt(b),Math.abs(this.lat0)>be?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),e=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*t/e,r=this.B*t/(i*Math.sqrt(e)),s=r*r-1,s<=0?s=0:(s=Math.sqrt(s),this.lat0<0&&(s=-s)),this.E=s+=r,this.E*=Math.pow(_n(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=s=1),A||w?(A?(d=Math.asin(Math.sin(S)/r),w||(f=S)):(d=f,S=Math.asin(r*Math.sin(d))),this.lam0=p-Math.asin(.5*(s-1/s)*Math.tan(d))/this.B):(n=Math.pow(_n(this.e,_,Math.sin(_)),this.B),o=Math.pow(_n(this.e,E,Math.sin(E)),this.B),s=this.E/n,l=(o-n)/(o+n),c=this.E*this.E,c=(c-o*n)/(c+o*n),e=y-v,e<-Math.pi?v-=kp:e>Math.pi&&(v+=kp),this.lam0=xe(.5*(y+v)-Math.atan(c*Math.tan(.5*this.B*(y-v))/l)/this.B),d=Math.atan(2*Math.sin(this.B*xe(y-this.lam0))/(s-1/s)),f=S=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(S))),this.lat0<0&&(this.u_0=-this.u_0)),s=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(wt-s)),this.v_pole_s=this.ArB*Math.log(Math.tan(wt+s))}function bJ(e){var t={},i,r,s,n,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-he)>be){if(o=this.E/Math.pow(_n(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,i=.5*(o-a),r=.5*(o+a),n=Math.sin(this.B*e.x),s=(i*this.singam-n*this.cosgam)/r,Math.abs(Math.abs(s)-1)<be)throw new Error;c=.5*this.ArB*Math.log((1-s)/(1+s)),a=Math.cos(this.B*e.x),Math.abs(a)<Vu?l=this.A*e.x:l=this.ArB*Math.atan2(i*this.cosgam+n*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function _J(e){var t,i,r,s,n,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(i=e.y,t=e.x):(i=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*i),s=.5*(r-1/r),n=.5*(r+1/r),o=Math.sin(this.BrA*t),a=(o*this.cosgam+s*this.singam)/n,Math.abs(Math.abs(a)-1)<be)l.x=0,l.y=a<0?-he:he;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Dp(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(s*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var wJ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const xJ={init:vJ,forward:bJ,inverse:_J,names:wJ};function SJ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<be)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),i=Math.cos(this.lat1),r=_o(this.e,t,i),s=_n(this.e,this.lat1,t),n=Math.sin(this.lat2),o=Math.cos(this.lat2),a=_o(this.e,n,o),l=_n(this.e,this.lat2,n),c=_n(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>be?this.ns=Math.log(r/a)/Math.log(s/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function EJ(e){var t=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=be&&(i=Om(i)*(he-2*be));var r=Math.abs(Math.abs(i)-he),s,n;if(r>be)s=_n(this.e,i,Math.sin(i)),n=this.a*this.f0*Math.pow(s,this.ns);else{if(r=i*this.ns,r<=0)return null;n=0}var o=this.ns*xe(t-this.long0);return e.x=this.k0*(n*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-n*Math.cos(o))+this.y0,e}function TJ(e){var t,i,r,s,n,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),i=1):(t=-Math.sqrt(o*o+a*a),i=-1);var l=0;if(t!==0&&(l=Math.atan2(i*o,i*a)),t!==0||this.ns>0){if(i=1/this.ns,r=Math.pow(t/(this.a*this.f0),i),s=Dp(this.e,r),s===-9999)return null}else s=-he;return n=xe(l/this.ns+this.long0),e.x=n,e.y=s,e}var AJ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const MJ={init:SJ,forward:EJ,inverse:TJ,names:AJ};function OJ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function IJ(e){var t,i,r,s,n,o,a,l=e.x,c=e.y,f=xe(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-f*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(s)),o=this.n*n,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function $J(e){var t,i,r,s,n,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),n=Math.atan2(e.y,e.x),s=n/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(s)),i=Math.asin(Math.cos(r)*Math.sin(s)/Math.cos(t)),e.x=this.long0-i/this.alfa,a=t,l=0;var f=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,f+=1;while(l===0&&f<15);return f>=15?null:e}var CJ=["Krovak","krovak"];const NJ={init:OJ,forward:IJ,inverse:$J,names:CJ};function Fr(e,t,i,r,s){return e*s-t*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)}function Im(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function $m(e){return .375*e*(1+.25*e*(1+.46875*e))}function Cm(e){return .05859375*e*e*(1+.75*e)}function Nm(e){return e*e*e*(35/3072)}function jh(e,t,i){var r=t*i;return e/Math.sqrt(1-r*r)}function Tl(e){return Math.abs(e)<he?e:e-Om(e)*Math.PI}function Mg(e,t,i,r,s){var n,o;n=e/t;for(var a=0;a<15;a++)if(o=(e-(t*n-i*Math.sin(2*n)+r*Math.sin(4*n)-s*Math.sin(6*n)))/(t-2*i*Math.cos(2*n)+4*r*Math.cos(4*n)-6*s*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN}function PJ(){this.sphere||(this.e0=Im(this.es),this.e1=$m(this.es),this.e2=Cm(this.es),this.e3=Nm(this.es),this.ml0=this.a*Fr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function LJ(e){var t,i,r=e.x,s=e.y;if(r=xe(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(s)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(r))-this.lat0);else{var n=Math.sin(s),o=Math.cos(s),a=jh(this.a,this.e,n),l=Math.tan(s)*Math.tan(s),c=r*Math.cos(s),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Fr(this.e0,this.e1,this.e2,this.e3,s);t=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),i=p-this.ml0+a*n/o*f*(.5+(5-l+6*d)*f/24)}return e.x=t+this.x0,e.y=i+this.y0,e}function kJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s;if(this.sphere){var n=i+this.lat0;r=Math.asin(Math.sin(n)*Math.cos(t)),s=Math.atan2(Math.tan(t),Math.cos(n))}else{var o=this.ml0/this.a+i,a=Mg(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-he)<=be)return e.x=this.long0,e.y=he,i<0&&(e.y*=-1),e;var l=jh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;r=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),s=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return e.x=xe(s+this.long0),e.y=Tl(r),e}var RJ=["Cassini","Cassini_Soldner","cass"];const DJ={init:PJ,forward:LJ,inverse:kJ,names:RJ};function cl(e,t){var i;return e>1e-7?(i=e*t,(1-e*e)*(t/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*t}var FJ=1,UJ=2,jJ=3,BJ=4;function VJ(){var e=Math.abs(this.lat0);if(Math.abs(e-he)<be?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<be?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=cl(this.e,1),this.mmf=.5/(1-this.es),this.apa=KJ(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=cl(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function GJ(e){var t,i,r,s,n,o,a,l,c,f,d=e.x,p=e.y;if(d=xe(d-this.long0),this.sphere){if(n=Math.sin(p),f=Math.cos(p),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+f*r:1+this.sinph0*n+this.cosph0*f*r,i<=be)return null;i=Math.sqrt(2/i),t=i*f*Math.sin(d),i*=this.mode===this.EQUIT?n:this.cosph0*n-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<be)return null;i=wt-p*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),t=i*Math.sin(d),i*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),s=Math.sin(d),n=Math.sin(p),o=cl(this.e,n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=he+p,o=this.qp-o;break;case this.S_POLE:c=p-he,o=this.qp+o;break}if(Math.abs(c)<be)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?i=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):i=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*c*l*s;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*s,i=r*(this.mode===this.S_POLE?c:-c)):t=i=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*i+this.y0,e}function zJ(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,i=e.y/this.a,r,s,n,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(t*t+i*i),s=d*.5,s>1)return null;switch(s=2*Math.asin(s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(s),f=Math.cos(s)),this.mode){case this.EQUIT:s=Math.abs(d)<=be?0:Math.asin(i*p/d),t*=p,i=f*d;break;case this.OBLIQ:s=Math.abs(d)<=be?this.lat0:Math.asin(f*this.sinph0+i*p*this.cosph0/d),t*=p*this.cosph0,i=(f-Math.sin(s)*this.sinph0)*d;break;case this.N_POLE:i=-i,s=he-s;break;case this.S_POLE:s-=he;break}r=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,i)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,i*=this.dd,l=Math.sqrt(t*t+i*i),l<be)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),n=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=n*this.sinb1+i*o*this.cosb1/l,a=this.qp*c,i=l*this.cosb1*n-i*this.sinb1*o):(c=i*o/l,a=this.qp*c,i=l*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),a=t*t+i*i,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(t,i),s=XJ(Math.asin(c),this.apa)}return e.x=xe(this.long0+r),e.y=s,e}var qJ=.3333333333333333,WJ=.17222222222222222,HJ=.10257936507936508,YJ=.06388888888888888,JJ=.0664021164021164,ZJ=.016415012942191543;function KJ(e){var t,i=[];return i[0]=e*qJ,t=e*e,i[0]+=t*WJ,i[1]=t*YJ,t*=e,i[0]+=t*HJ,i[1]+=t*JJ,i[2]=t*ZJ,i}function XJ(e,t){var i=e+e;return e+t[0]*Math.sin(i)+t[1]*Math.sin(i+i)+t[2]*Math.sin(i+i+i)}var QJ=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const eZ={init:VJ,forward:GJ,inverse:zJ,names:QJ,S_POLE:FJ,N_POLE:UJ,EQUIT:jJ,OBLIQ:BJ};function gl(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function tZ(){Math.abs(this.lat1+this.lat2)<be||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=_o(this.e3,this.sin_po,this.cos_po),this.qs1=cl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=_o(this.e3,this.sin_po,this.cos_po),this.qs2=cl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=cl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>be?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function iZ(e){var t=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var r=cl(this.e3,this.sin_phi),s=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,n=this.ns0*xe(t-this.long0),o=s*Math.sin(n)+this.x0,a=this.rh-s*Math.cos(n)+this.y0;return e.x=o,e.y=a,e}function rZ(e){var t,i,r,s,n,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),s=0,t!==0&&(s=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(i=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,i)),n=xe(s/this.ns0+this.long0),e.x=n,e.y=o,e}function sZ(e,t){var i,r,s,n,o,a=gl(.5*t);if(e<be)return a;for(var l=e*e,c=1;c<=25;c++)if(i=Math.sin(a),r=Math.cos(a),s=e*i,n=1-s*s,o=.5*n*n/r*(t/(1-l)-i/n+.5/e*Math.log((1-s)/(1+s))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var nZ=["Albers_Conic_Equal_Area","Albers","aea"];const oZ={init:tZ,forward:iZ,inverse:rZ,names:nZ,phi1z:sZ};function aZ(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function lZ(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=xe(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,o>0||Math.abs(o)<=be?(a=this.x0+this.a*n*i*Math.sin(r)/o,l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)/o):(a=this.x0+this.infinity_dist*i*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function cZ(e){var t,i,r,s,n,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(s=Math.atan2(t,this.rc),i=Math.sin(s),r=Math.cos(s),o=gl(r*this.sin_p14+e.y*i*this.cos_p14/t),n=Math.atan2(e.x*i,t*this.cos_p14*r-e.y*this.sin_p14*i),n=xe(this.long0+n)):(o=this.phic0,n=0),e.x=n,e.y=o,e}var uZ=["gnom"];const hZ={init:aZ,forward:lZ,inverse:cZ,names:uZ};function fZ(e,t){var i=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-i)<1e-6)return t<0?-1*he:he;for(var r=Math.asin(.5*t),s,n,o,a,l=0;l<30;l++)if(n=Math.sin(r),o=Math.cos(r),a=e*n,s=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-n/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),r+=s,Math.abs(s)<=1e-10)return r;return NaN}function dZ(){this.sphere||(this.k0=_o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function pZ(e){var t=e.x,i=e.y,r,s,n=xe(t-this.long0);if(this.sphere)r=this.x0+this.a*n*Math.cos(this.lat_ts),s=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=cl(this.e,Math.sin(i));r=this.x0+this.a*this.k0*n,s=this.y0+this.a*o*.5/this.k0}return e.x=r,e.y=s,e}function mZ(e){e.x-=this.x0,e.y-=this.y0;var t,i;return this.sphere?(t=xe(this.long0+e.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=fZ(this.e,2*e.y*this.k0/this.a),t=xe(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=i,e}var yZ=["cea"];const gZ={init:dZ,forward:pZ,inverse:mZ,names:yZ};function vZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function bZ(e){var t=e.x,i=e.y,r=xe(t-this.long0),s=Tl(i-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*s,e}function _Z(e){var t=e.x,i=e.y;return e.x=xe(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Tl(this.lat0+(i-this.y0)/this.a),e}var wZ=["Equirectangular","Equidistant_Cylindrical","eqc"];const xZ={init:vZ,forward:bZ,inverse:_Z,names:wZ};var P4=20;function SZ(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Im(this.es),this.e1=$m(this.es),this.e2=Cm(this.es),this.e3=Nm(this.es),this.ml0=this.a*Fr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function EZ(e){var t=e.x,i=e.y,r,s,n,o=xe(t-this.long0);if(n=o*Math.sin(i),this.sphere)Math.abs(i)<=be?(r=this.a*o,s=-1*this.a*this.lat0):(r=this.a*Math.sin(n)/Math.tan(i),s=this.a*(Tl(i-this.lat0)+(1-Math.cos(n))/Math.tan(i)));else if(Math.abs(i)<=be)r=this.a*o,s=-1*this.ml0;else{var a=jh(this.a,this.e,Math.sin(i))/Math.tan(i);r=a*Math.sin(n),s=this.a*Fr(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*(1-Math.cos(n))}return e.x=r+this.x0,e.y=s+this.y0,e}function TZ(e){var t,i,r,s,n,o,a,l,c;if(r=e.x-this.x0,s=e.y-this.y0,this.sphere)if(Math.abs(s+this.a*this.lat0)<=be)t=xe(r/this.a+this.long0),i=0;else{o=this.lat0+s/this.a,a=r*r/this.a/this.a+o*o,l=o;var f;for(n=P4;n;--n)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=be){i=l;break}t=xe(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(i))}else if(Math.abs(s+this.ml0)<=be)i=0,t=xe(this.long0+r/this.a);else{o=(this.ml0+s)/this.a,a=r*r/this.a/this.a+o*o,l=o;var d,p,y,v,_;for(n=P4;n;--n)if(_=this.e*Math.sin(l),d=Math.sqrt(1-_*_)*Math.tan(l),p=this.a*Fr(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),v=p/this.a,c=(o*(d*v+1)-v-.5*d*(v*v+a))/(this.es*Math.sin(2*l)*(v*v+a-2*o*v)/(4*d)+(o-v)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=be){i=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),t=xe(this.long0+Math.asin(r*d/this.a)/Math.sin(i))}return e.x=t,e.y=i,e}var AZ=["Polyconic","poly"];const MZ={init:SZ,forward:EZ,inverse:TZ,names:AZ};function OZ(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function IZ(e){var t,i=e.x,r=e.y,s=r-this.lat0,n=i-this.long0,o=s/zd*1e-5,a=n,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var f=c,d=a,p=1,y=0,v,_,E=0,S=0;for(t=1;t<=6;t++)v=p*f-y*d,_=y*f+p*d,p=v,y=_,E=E+this.B_re[t]*p-this.B_im[t]*y,S=S+this.B_im[t]*p+this.B_re[t]*y;return e.x=S*this.a+this.x0,e.y=E*this.a+this.y0,e}function $Z(e){var t,i=e.x,r=e.y,s=i-this.x0,n=r-this.y0,o=n/this.a,a=s/this.a,l=1,c=0,f,d,p=0,y=0;for(t=1;t<=6;t++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var v=0;v<this.iterations;v++){var _=p,E=y,S,A,w=o,b=a;for(t=2;t<=6;t++)S=_*p-E*y,A=E*p+_*y,_=S,E=A,w=w+(t-1)*(this.B_re[t]*_-this.B_im[t]*E),b=b+(t-1)*(this.B_im[t]*_+this.B_re[t]*E);_=1,E=0;var M=this.B_re[1],O=this.B_im[1];for(t=2;t<=6;t++)S=_*p-E*y,A=E*p+_*y,_=S,E=A,M=M+t*(this.B_re[t]*_-this.B_im[t]*E),O=O+t*(this.B_im[t]*_+this.B_re[t]*E);var C=M*M+O*O;p=(w*M+b*O)/C,y=(b*M-w*O)/C}var P=p,N=y,U=1,j=0;for(t=1;t<=9;t++)U=U*P,j=j+this.D[t]*U;var F=this.lat0+j*zd*1e5,q=this.long0+N;return e.x=q,e.y=F,e}var CZ=["New_Zealand_Map_Grid","nzmg"];const NZ={init:OZ,forward:IZ,inverse:$Z,names:CZ};function PZ(){}function LZ(e){var t=e.x,i=e.y,r=xe(t-this.long0),s=this.x0+this.a*r,n=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=s,e.y=n,e}function kZ(e){e.x-=this.x0,e.y-=this.y0;var t=xe(this.long0+e.x/this.a),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=i,e}var RZ=["Miller_Cylindrical","mill"];const DZ={init:PZ,forward:LZ,inverse:kZ,names:RZ};var FZ=20;function UZ(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=XS(this.es)}function jZ(e){var t,i,r=e.x,s=e.y;if(r=xe(r-this.long0),this.sphere){if(!this.m)s=this.n!==1?Math.asin(this.n*Math.sin(s)):s;else for(var n=this.n*Math.sin(s),o=FZ;o;--o){var a=(this.m*s+Math.sin(s)-n)/(this.m+Math.cos(s));if(s-=a,Math.abs(a)<be)break}t=this.a*this.C_x*r*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var l=Math.sin(s),c=Math.cos(s);i=this.a*Of(s,l,c,this.en),t=this.a*r*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=i,e}function BZ(e){var t,i,r,s;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(t))),this.m?t=gl((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=gl(Math.sin(t)/this.n)),r=xe(r+this.long0),t=Tl(t)):(t=QS(e.y/this.a,this.es,this.en),s=Math.abs(t),s<he?(s=Math.sin(t),i=this.long0+e.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(t)),r=xe(i)):s-be<he&&(r=this.long0)),e.x=r,e.y=t,e}var VZ=["Sinusoidal","sinu"];const GZ={init:UZ,forward:jZ,inverse:BZ,names:VZ};function zZ(){}function qZ(e){for(var t=e.x,i=e.y,r=xe(t-this.long0),s=i,n=Math.PI*Math.sin(i);;){var o=-(s+Math.sin(s)-n)/(1+Math.cos(s));if(s+=o,Math.abs(o)<be)break}s/=2,Math.PI/2-Math.abs(i)<be&&(r=0);var a=.900316316158*this.a*r*Math.cos(s)+this.x0,l=1.4142135623731*this.a*Math.sin(s)+this.y0;return e.x=a,e.y=l,e}function WZ(e){var t,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),t=Math.asin(i);var r=xe(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*t+Math.sin(2*t))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return e.x=r,e.y=s,e}var HZ=["Mollweide","moll"];const YZ={init:zZ,forward:qZ,inverse:WZ,names:HZ};function JZ(){Math.abs(this.lat1+this.lat2)<be||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Im(this.es),this.e1=$m(this.es),this.e2=Cm(this.es),this.e3=Nm(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=_o(this.e,this.sinphi,this.cosphi),this.ml1=Fr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<be?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=_o(this.e,this.sinphi,this.cosphi),this.ml2=Fr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Fr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function ZZ(e){var t=e.x,i=e.y,r;if(this.sphere)r=this.a*(this.g-i);else{var s=Fr(this.e0,this.e1,this.e2,this.e3,i);r=this.a*(this.g-s)}var n=this.ns*xe(t-this.long0),o=this.x0+r*Math.sin(n),a=this.y0+this.rh-r*Math.cos(n);return e.x=o,e.y=a,e}function KZ(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,i,r,s;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var n=0;if(i!==0&&(n=Math.atan2(t*e.x,t*e.y)),this.sphere)return s=xe(this.long0+n/this.ns),r=Tl(this.g-i/this.a),e.x=s,e.y=r,e;var o=this.g-i/this.a;return r=Mg(o,this.e0,this.e1,this.e2,this.e3),s=xe(this.long0+n/this.ns),e.x=s,e.y=r,e}var XZ=["Equidistant_Conic","eqdc"];const QZ={init:JZ,forward:ZZ,inverse:KZ,names:XZ};function eK(){this.R=this.a}function tK(e){var t=e.x,i=e.y,r=xe(t-this.long0),s,n;Math.abs(i)<=be&&(s=this.x0+this.R*r,n=this.y0);var o=gl(2*Math.abs(i/Math.PI));(Math.abs(r)<=be||Math.abs(Math.abs(i)-he)<=be)&&(s=this.x0,i>=0?n=this.y0+Math.PI*this.R*Math.tan(.5*o):n=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),v=y*y,_=Math.PI*this.R*(a*(d-v)+Math.sqrt(l*(d-v)*(d-v)-(v+l)*(p-v)))/(v+l);r<0&&(_=-_),s=this.x0+_;var E=l+d;return _=Math.PI*this.R*(y*E-a*Math.sqrt((v+l)*(l+1)-E*E))/(v+l),i>=0?n=this.y0+_:n=this.y0-_,e.x=s,e.y=n,e}function iK(e){var t,i,r,s,n,o,a,l,c,f,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,r=e.x/d,s=e.y/d,n=r*r+s*s,o=-Math.abs(s)*(1+n),a=o-2*s*s+r*r,l=-2*o+1+2*s*s+n*n,y=s*s/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?i=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:i=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<be?t=this.long0:t=xe(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(r*r-s*s)+n*n))/2/r),e.x=t,e.y=i,e}var rK=["Van_der_Grinten_I","VanDerGrinten","vandg"];const sK={init:eK,forward:tK,inverse:iK,names:rK};function nK(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function oK(e){var t=e.x,i=e.y,r=Math.sin(e.y),s=Math.cos(e.y),n=xe(t-this.long0),o,a,l,c,f,d,p,y,v,_,E,S,A,w,b,M,O,C,P,N,U,j,F;return this.sphere?Math.abs(this.sin_p12-1)<=be?(e.x=this.x0+this.a*(he-i)*Math.sin(n),e.y=this.y0-this.a*(he-i)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=be?(e.x=this.x0+this.a*(he+i)*Math.sin(n),e.y=this.y0+this.a*(he+i)*Math.cos(n),e):(C=this.sin_p12*r+this.cos_p12*s*Math.cos(n),M=Math.acos(C),O=M?M/Math.sin(M):1,e.x=this.x0+this.a*O*s*Math.sin(n),e.y=this.y0+this.a*O*(this.cos_p12*r-this.sin_p12*s*Math.cos(n)),e):(o=Im(this.es),a=$m(this.es),l=Cm(this.es),c=Nm(this.es),Math.abs(this.sin_p12-1)<=be?(f=this.a*Fr(o,a,l,c,he),d=this.a*Fr(o,a,l,c,i),e.x=this.x0+(f-d)*Math.sin(n),e.y=this.y0-(f-d)*Math.cos(n),e):Math.abs(this.sin_p12+1)<=be?(f=this.a*Fr(o,a,l,c,he),d=this.a*Fr(o,a,l,c,i),e.x=this.x0+(f+d)*Math.sin(n),e.y=this.y0+(f+d)*Math.cos(n),e):(p=r/s,y=jh(this.a,this.e,this.sin_p12),v=jh(this.a,this.e,r),_=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(v*s)),E=Math.atan2(Math.sin(n),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(n)),E===0?P=Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(E)-Math.PI)<=be?P=-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):P=Math.asin(Math.sin(n)*Math.cos(_)/Math.sin(E)),S=this.e*this.sin_p12/Math.sqrt(1-this.es),A=this.e*this.cos_p12*Math.cos(E)/Math.sqrt(1-this.es),w=S*A,b=A*A,N=P*P,U=N*P,j=U*P,F=j*P,M=y*P*(1-N*b*(1-b)/6+U/8*w*(1-2*b)+j/120*(b*(4-7*b)-3*S*S*(1-7*b))-F/48*w),e.x=this.x0+M*Math.sin(E),e.y=this.y0+M*Math.cos(E),e))}function aK(e){e.x-=this.x0,e.y-=this.y0;var t,i,r,s,n,o,a,l,c,f,d,p,y,v,_,E,S,A,w,b,M,O,C,P;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*he*this.a?void 0:(i=t/this.a,r=Math.sin(i),s=Math.cos(i),n=this.long0,Math.abs(t)<=be?o=this.lat0:(o=gl(s*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-he,Math.abs(a)<=be?this.lat0>=0?n=xe(this.long0+Math.atan2(e.x,-e.y)):n=xe(this.long0-Math.atan2(-e.x,e.y)):n=xe(this.long0+Math.atan2(e.x*r,t*this.cos_p12*s-e.y*this.sin_p12*r))),e.x=n,e.y=o,e)):(l=Im(this.es),c=$m(this.es),f=Cm(this.es),d=Nm(this.es),Math.abs(this.sin_p12-1)<=be?(p=this.a*Fr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=Mg(y/this.a,l,c,f,d),n=xe(this.long0+Math.atan2(e.x,-1*e.y)),e.x=n,e.y=o,e):Math.abs(this.sin_p12+1)<=be?(p=this.a*Fr(l,c,f,d,he),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=Mg(y/this.a,l,c,f,d),n=xe(this.long0+Math.atan2(e.x,e.y)),e.x=n,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),E=Math.atan2(e.x,e.y),v=jh(this.a,this.e,this.sin_p12),S=Math.cos(E),A=this.e*this.cos_p12*S,w=-A*A/(1-this.es),b=3*this.es*(1-w)*this.sin_p12*this.cos_p12*S/(1-this.es),M=t/v,O=M-w*(1+w)*Math.pow(M,3)/6-b*(1+3*w)*Math.pow(M,4)/24,C=1-w*O*O/2-M*O*O*O/6,_=Math.asin(this.sin_p12*Math.cos(O)+this.cos_p12*Math.sin(O)*S),n=xe(this.long0+Math.asin(Math.sin(E)*Math.sin(O)/Math.cos(_))),P=Math.sin(_),o=Math.atan2((P-this.es*C*this.sin_p12)*Math.tan(_),P*(1-this.es)),e.x=n,e.y=o,e))}var lK=["Azimuthal_Equidistant","aeqd"];const cK={init:nK,forward:oK,inverse:aK,names:lK};function uK(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function hK(e){var t,i,r,s,n,o,a,l,c=e.x,f=e.y;return r=xe(c-this.long0),t=Math.sin(f),i=Math.cos(f),s=Math.cos(r),o=this.sin_p14*t+this.cos_p14*i*s,n=1,(o>0||Math.abs(o)<=be)&&(a=this.a*n*i*Math.sin(r),l=this.y0+this.a*n*(this.cos_p14*t-this.sin_p14*i*s)),e.x=a,e.y=l,e}function fK(e){var t,i,r,s,n,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),i=gl(t/this.a),r=Math.sin(i),s=Math.cos(i),o=this.long0,Math.abs(t)<=be?(a=this.lat0,e.x=o,e.y=a,e):(a=gl(s*this.sin_p14+e.y*r*this.cos_p14/t),n=Math.abs(this.lat0)-he,Math.abs(n)<=be?(this.lat0>=0?o=xe(this.long0+Math.atan2(e.x,-e.y)):o=xe(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=xe(this.long0+Math.atan2(e.x*r,t*this.cos_p14*s-e.y*this.sin_p14*r)),e.x=o,e.y=a,e))}var dK=["ortho"];const pK={init:uK,forward:hK,inverse:fK,names:dK};var si={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},xt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function mK(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=he-wt/2?this.face=si.TOP:this.lat0<=-(he-wt/2)?this.face=si.BOTTOM:Math.abs(this.long0)<=wt?this.face=si.FRONT:Math.abs(this.long0)<=he+wt?this.face=this.long0>0?si.RIGHT:si.LEFT:this.face=si.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function yK(e){var t={x:0,y:0},i,r,s,n,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):i=e.y,r=e.x,this.face===si.TOP)n=he-i,r>=wt&&r<=he+wt?(l.value=xt.AREA_0,s=r-he):r>he+wt||r<=-(he+wt)?(l.value=xt.AREA_1,s=r>0?r-vi:r+vi):r>-(he+wt)&&r<=-wt?(l.value=xt.AREA_2,s=r+he):(l.value=xt.AREA_3,s=r);else if(this.face===si.BOTTOM)n=he+i,r>=wt&&r<=he+wt?(l.value=xt.AREA_0,s=-r+he):r<wt&&r>=-wt?(l.value=xt.AREA_1,s=-r):r<-wt&&r>=-(he+wt)?(l.value=xt.AREA_2,s=-r-he):(l.value=xt.AREA_3,s=r>0?-r+vi:-r-vi);else{var c,f,d,p,y,v,_;this.face===si.RIGHT?r=bh(r,+he):this.face===si.BACK?r=bh(r,+vi):this.face===si.LEFT&&(r=bh(r,-he)),p=Math.sin(i),y=Math.cos(i),v=Math.sin(r),_=Math.cos(r),c=y*_,f=y*v,d=p,this.face===si.FRONT?(n=Math.acos(c),s=b0(n,d,f,l)):this.face===si.RIGHT?(n=Math.acos(f),s=b0(n,d,-c,l)):this.face===si.BACK?(n=Math.acos(-c),s=b0(n,d,-f,l)):this.face===si.LEFT?(n=Math.acos(-f),s=b0(n,d,c,l)):(n=s=0,l.value=xt.AREA_0)}return a=Math.atan(12/vi*(s+Math.acos(Math.sin(s)*Math.cos(wt))-he)),o=Math.sqrt((1-Math.cos(n))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(s))))),l.value===xt.AREA_1?a+=he:l.value===xt.AREA_2?a+=vi:l.value===xt.AREA_3&&(a+=1.5*vi),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function gK(e){var t={lam:0,phi:0},i,r,s,n,o,a,l,c,f,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,r=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),i=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=xt.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=xt.AREA_1,i-=he):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=xt.AREA_2,i=i<0?i+vi:i-vi):(d.value=xt.AREA_3,i+=he),f=vi/12*Math.tan(i),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),s=Math.cos(i),n=Math.tan(r),l=1-s*s*n*n*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===si.TOP)c=Math.acos(l),t.phi=he-c,d.value===xt.AREA_0?t.lam=a+he:d.value===xt.AREA_1?t.lam=a<0?a+vi:a-vi:d.value===xt.AREA_2?t.lam=a-he:t.lam=a;else if(this.face===si.BOTTOM)c=Math.acos(l),t.phi=c-he,d.value===xt.AREA_0?t.lam=-a+he:d.value===xt.AREA_1?t.lam=-a:d.value===xt.AREA_2?t.lam=-a-he:t.lam=a<0?-a-vi:-a+vi;else{var p,y,v;p=l,f=p*p,f>=1?v=0:v=Math.sqrt(1-f)*Math.sin(a),f+=v*v,f>=1?y=0:y=Math.sqrt(1-f),d.value===xt.AREA_1?(f=y,y=-v,v=f):d.value===xt.AREA_2?(y=-y,v=-v):d.value===xt.AREA_3&&(f=y,y=v,v=-f),this.face===si.RIGHT?(f=p,p=-y,y=f):this.face===si.BACK?(p=-p,y=-y):this.face===si.LEFT&&(f=p,p=y,y=-f),t.phi=Math.acos(-v)-he,t.lam=Math.atan2(y,p),this.face===si.RIGHT?t.lam=bh(t.lam,-he):this.face===si.BACK?t.lam=bh(t.lam,-vi):this.face===si.LEFT&&(t.lam=bh(t.lam,+he))}if(this.es!==0){var _,E,S;_=t.phi<0?1:0,E=Math.tan(t.phi),S=this.b/Math.sqrt(E*E+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-S*S)/(this.one_minus_f*S)),_&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function b0(e,t,i,r){var s;return e<be?(r.value=xt.AREA_0,s=0):(s=Math.atan2(t,i),Math.abs(s)<=wt?r.value=xt.AREA_0:s>wt&&s<=he+wt?(r.value=xt.AREA_1,s-=he):s>he+wt||s<=-(he+wt)?(r.value=xt.AREA_2,s=s>=0?s-vi:s+vi):(r.value=xt.AREA_3,s+=he)),s}function bh(e,t){var i=e+t;return i<-vi?i+=kp:i>+vi&&(i-=kp),i}var vK=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const bK={init:mK,forward:yK,inverse:gK,names:vK};var Cw=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Id=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],hP=.8487,fP=1.3523,dP=ro/5,_K=1/dP,ih=18,Og=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},wK=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function xK(e,t,i,r){for(var s=t;r;--r){var n=e(s);if(s-=n,Math.abs(n)<i)break}return s}function SK(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function EK(e){var t=xe(e.x-this.long0),i=Math.abs(e.y),r=Math.floor(i*dP);r<0?r=0:r>=ih&&(r=ih-1),i=ro*(i-_K*r);var s={x:Og(Cw[r],i)*t,y:Og(Id[r],i)};return e.y<0&&(s.y=-s.y),s.x=s.x*this.a*hP+this.x0,s.y=s.y*this.a*fP+this.y0,s}function TK(e){var t={x:(e.x-this.x0)/(this.a*hP),y:Math.abs(e.y-this.y0)/(this.a*fP)};if(t.y>=1)t.x/=Cw[ih][0],t.y=e.y<0?-he:he;else{var i=Math.floor(t.y*ih);for(i<0?i=0:i>=ih&&(i=ih-1);;)if(Id[i][0]>t.y)--i;else if(Id[i+1][0]<=t.y)++i;else break;var r=Id[i],s=5*(t.y-r[0])/(Id[i+1][0]-r[0]);s=xK(function(n){return(Og(r,n)-t.y)/wK(r,n)},s,be,100),t.x/=Og(Cw[i],s),t.y=(5*i+s)*sr,e.y<0&&(t.y=-t.y)}return t.x=xe(t.x+this.long0),t}var AK=["Robinson","robin"];const MK={init:SK,forward:EK,inverse:TK,names:AK};function OK(){this.name="geocent"}function IK(e){var t=eP(e,this.es,this.a);return t}function $K(e){var t=tP(e,this.es,this.a,this.b);return t}var CK=["Geocentric","geocentric","geocent","Geocent"];const NK={init:OK,forward:IK,inverse:$K,names:CK};var yr={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},zf={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function PK(){if(Object.keys(zf).forEach(function(i){if(typeof this[i]>"u")this[i]=zf[i].def;else{if(zf[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);zf[i].num&&(this[i]=parseFloat(this[i]))}zf[i].degrees&&(this[i]=this[i]*sr)}.bind(this)),Math.abs(Math.abs(this.lat0)-he)<be?this.mode=this.lat0<0?yr.S_POLE:yr.N_POLE:Math.abs(this.lat0)<be?this.mode=yr.EQUIT:(this.mode=yr.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function LK(e){e.x-=this.long0;var t=Math.sin(e.y),i=Math.cos(e.y),r=Math.cos(e.x),s,n;switch(this.mode){case yr.OBLIQ:n=this.sinph0*t+this.cosph0*i*r;break;case yr.EQUIT:n=i*r;break;case yr.S_POLE:n=-t;break;case yr.N_POLE:n=t;break}switch(n=this.pn1/(this.p-n),s=n*i*Math.sin(e.x),this.mode){case yr.OBLIQ:n*=this.cosph0*t-this.sinph0*i*r;break;case yr.EQUIT:n*=t;break;case yr.N_POLE:n*=-(i*r);break;case yr.S_POLE:n*=i*r;break}var o,a;return o=n*this.cg+s*this.sg,a=1/(o*this.sw*this.h1+this.cw),s=(s*this.cg-n*this.sg)*this.cw*a,n=o*a,e.x=s*this.a,e.y=n*this.a,e}function kK(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},i,r,s;s=1/(this.pn1-e.y*this.sw),i=this.pn1*e.x*s,r=this.pn1*e.y*this.cw*s,e.x=i*this.cg+r*this.sg,e.y=r*this.cg-i*this.sg;var n=Xr(e.x,e.y);if(Math.abs(n)<be)t.x=0,t.y=e.y;else{var o,a;switch(a=1-n*n*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/n+n/this.pn1),o=Math.sqrt(1-a*a),this.mode){case yr.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/n),e.y=(o-this.sinph0*Math.sin(t.y))*n,e.x*=a*this.cosph0;break;case yr.EQUIT:t.y=Math.asin(e.y*a/n),e.y=o*n,e.x*=a;break;case yr.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case yr.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var RK=["Tilted_Perspective","tpers"];const DK={init:PK,forward:LK,inverse:kK,names:RK};function FK(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function UK(e){var t=e.x,i=e.y,r,s,n,o;if(t=t-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var a=this.radius_p/Xr(this.radius_p*Math.cos(i),Math.sin(i));if(s=a*Math.cos(t)*Math.cos(i),n=a*Math.sin(t)*Math.cos(i),o=a*Math.sin(i),(this.radius_g-s)*s-n*n-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/Xr(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/Xr(n,r)))}else this.shape==="sphere"&&(r=Math.cos(i),s=Math.cos(t)*r,n=Math.sin(t)*r,o=Math.sin(i),r=this.radius_g-s,this.flip_axis?(e.x=this.radius_g_1*Math.atan(n/Xr(o,r)),e.y=this.radius_g_1*Math.atan(o/r)):(e.x=this.radius_g_1*Math.atan(n/r),e.y=this.radius_g_1*Math.atan(o/Xr(n,r))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function jK(e){var t=-1,i=0,r=0,s,n,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Xr(1,r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Xr(1,i));var l=r/this.radius_p;if(s=i*i+l*l+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+r*r)):(i=Math.tan(e.x/this.radius_g_1),r=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),s=i*i+r*r+t*t,n=2*this.radius_g*t,o=n*n-4*s*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-n-Math.sqrt(o))/(2*s),t=this.radius_g+a*t,i*=a,r*=a,e.x=Math.atan2(i,t),e.y=Math.atan(r*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var BK=["Geostationary Satellite View","Geostationary_Satellite","geos"];const VK={init:FK,forward:UK,inverse:jK,names:BK};var qd=1.340264,Wd=-.081106,Hd=893e-6,Yd=.003796,Ig=Math.sqrt(3)/2;function GK(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function zK(e){var t=xe(e.x-this.long0),i=e.y,r=Math.asin(Ig*Math.sin(i)),s=r*r,n=s*s*s;return e.x=t*Math.cos(r)/(Ig*(qd+3*Wd*s+n*(7*Hd+9*Yd*s))),e.y=r*(qd+Wd*s+n*(Hd+Yd*s)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function qK(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,i=12,r=e.y,s,n,o,a,l,c;for(c=0;c<i&&(s=r*r,n=s*s*s,o=r*(qd+Wd*s+n*(Hd+Yd*s))-e.y,a=qd+3*Wd*s+n*(7*Hd+9*Yd*s),r-=l=o/a,!(Math.abs(l)<t));++c);return s=r*r,n=s*s*s,e.x=Ig*e.x*(qd+3*Wd*s+n*(7*Hd+9*Yd*s))/Math.cos(r),e.y=Math.asin(Math.sin(r)/Ig),e.x=xe(e.x+this.long0),e}var WK=["eqearth","Equal Earth","Equal_Earth"];const HK={init:GK,forward:zK,inverse:qK,names:WK};var Fp=1e-10;function YK(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Fp)throw new Error;this.es?(this.en=XS(this.es),this.m1=Of(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=ZK,this.forward=JK):(Math.abs(this.phi1)+Fp>=he?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=XK,this.forward=KK)}function JK(e){var t=xe(e.x-(this.long0||0)),i=e.y,r,s,n;return r=this.am1+this.m1-Of(i,s=Math.sin(i),n=Math.cos(i),this.en),s=n*t/(r*Math.sqrt(1-this.es*s*s)),e.x=r*Math.sin(s),e.y=this.am1-r*Math.cos(s),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function ZK(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r,s;if(i=Xr(e.x,e.y=this.am1-e.y),s=QS(this.am1+this.m1-i,this.es,this.en),(t=Math.abs(s))<he)t=Math.sin(s),r=i*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(s);else if(Math.abs(t-he)<=Fp)r=0;else throw new Error;return e.x=xe(r+(this.long0||0)),e.y=Tl(s),e}function KK(e){var t=xe(e.x-(this.long0||0)),i=e.y,r,s;return s=this.cphi1+this.phi1-i,Math.abs(s)>Fp?(e.x=s*Math.sin(r=t*Math.cos(i)/s),e.y=this.cphi1-s*Math.cos(r)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function XK(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,i,r=Xr(e.x,e.y=this.cphi1-e.y);if(i=this.cphi1+this.phi1-r,Math.abs(i)>he)throw new Error;return Math.abs(Math.abs(i)-he)<=Fp?t=0:t=r*Math.atan2(e.x,e.y)/Math.cos(i),e.x=xe(t+(this.long0||0)),e.y=Tl(i),e}var QK=["bonne","Bonne (Werner lat_1=90)"];const eX={init:YK,names:QK};function tX(e){e.Proj.projections.add(Iy),e.Proj.projections.add($y),e.Proj.projections.add(JY),e.Proj.projections.add(nJ),e.Proj.projections.add(hJ),e.Proj.projections.add(yJ),e.Proj.projections.add(xJ),e.Proj.projections.add(MJ),e.Proj.projections.add(NJ),e.Proj.projections.add(DJ),e.Proj.projections.add(eZ),e.Proj.projections.add(oZ),e.Proj.projections.add(hZ),e.Proj.projections.add(gZ),e.Proj.projections.add(xZ),e.Proj.projections.add(MZ),e.Proj.projections.add(NZ),e.Proj.projections.add(DZ),e.Proj.projections.add(GZ),e.Proj.projections.add(YZ),e.Proj.projections.add(QZ),e.Proj.projections.add(sK),e.Proj.projections.add(cK),e.Proj.projections.add(pK),e.Proj.projections.add(bK),e.Proj.projections.add(MK),e.Proj.projections.add(NK),e.Proj.projections.add(DK),e.Proj.projections.add(VK),e.Proj.projections.add(HK),e.Proj.projections.add(eX)}Pt.defaultDatum="WGS84";Pt.Proj=co;Pt.WGS84=new Pt.Proj("WGS84");Pt.Point=Uh;Pt.toPoint=iP;Pt.defs=Nr;Pt.nadgrid=KH;Pt.transform=Ag;Pt.mgrs=dY;Pt.version="__VERSION__";tX(Pt);const iX="EPSG:4326";class rX{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Pt.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Pt.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Pt.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Pt.defs("EPSG:102100",Pt.defs("EPSG:3857")),Pt.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Pt.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const i=t<10?`0${t}`:t;Pt.defs(`EPSG:326${i}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,i){t=typeof t=="number"?`EPSG:${t}`:t,Pt.defs(t,i)}defaultEpsgLookup(t){const i=/urn:ogc:def:crs:EPSG::(\d+)/,r=/EPSG:(\d+)/,s=String(t).match(i)||String(t).match(r)||[];if(s.length<2)throw new Error("Invalid code provided.");return new Promise((n,o)=>{const a=`https://epsg.io/${s[1]}.proj4`;Ci(a,{responseType:"text"}).then(f=>{f.data?n(f.data):o()},f=>{o(f)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let i,r="";try{i=this.normalizeProj(t)}catch{return!1}if(!i.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(r=this.normalizeProj(t.latestWkid));const s=(l,c)=>{l!==c&&Pt.defs(c,Pt.defs(l))};if(Pt.defs(i))return!0;if(r&&Pt.defs(r))return s(r,i),!0;const n=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Pt.defs(l,c),!0)}catch{return!1}};return await(r?n(r):Promise.resolve(!1))?(s(r,i),!0):n(i)}async checkProjBomber(t){if(t.length>0){const i=t.pop();if(await this.checkProj(i))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",i),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,i,r){let s,n;if(i?s=this.normalizeProj(i):s=Be.parseGeoJsonCrs(t.crs),r?n=this.normalizeProj(r):n=iX,n===s)return t;await this.checkProjBomber([s,n]);const o=Pt(s,n).forward;return hH(t,o)}async projectGeometry(t,i){if(i.type===Ze.EXTENT)return this.projectExtent(t,i);await this.checkProjBomber([t,i.sr]);const r=i.toGeoJSON(),s=await this.projectGeoJson(r,this.normalizeProj(i.sr),this.normalizeProj(t)),n=Mh.geom.geomGeoJsonToRamp(s,i.id);return n.sr=Be.parseSR(t),n}async projectExtent(t,i){const r=(_,E,S)=>{if(S===0)return[_,E];const A=[(_[0]+E[0])/2,(_[1]+E[1])/2];if(S===1)return[_,A,E];if(S>1){const w=r(_,A,S-1),b=r(A,E,S-1);return w.concat(b.slice(1))}return[[]]},s=i.toPolygonArray().pop()||[];let n=[];[0,1,2,3].map(_=>r(s[_],s[_+1],3).slice(1)).forEach(_=>n=n.concat(_));const o=new gr("warpy",[n],i.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(_=>_[0]),f=l.map(_=>_[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),v=Math.max.apply(null,f);return Qt.fromParams(i.id+"_projected",d,y,p,v,a.sr)}}class sX{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new rX,this.geom=new eH,this.sharedUtils=new sH}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const i=r=>r.map(s=>({level:s[0],resolution:s[1],scale:s[2]}));if(t===this.DEFAULT_LAMBERT)return i([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return i([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class ki{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function nX(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function oX(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(i=>e[i]!==void 0)}function pP(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function aX(e){return typeof e=="object"&&e.default!==void 0}var _0={exports:{}},L4;function lX(){if(L4)return _0.exports;L4=1;function e(){}return e.prototype={on:function(t,i,r){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:i,ctx:r}),this},once:function(t,i,r){var s=this;function n(){s.off(t,n),i.apply(r,arguments)}return n._=i,this.on(t,n,r)},emit:function(t){var i=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=r.length;for(s;s<n;s++)r[s].fn.apply(r[s].ctx,i);return this},off:function(t,i){var r=this.e||(this.e={}),s=r[t],n=[];if(s&&i)for(var o=0,a=s.length;o<a;o++)s[o].fn!==i&&s[o].fn._!==i&&n.push(s[o]);return n.length?r[t]=n:delete r[t],this}},_0.exports=e,_0.exports.TinyEmitter=e,_0.exports}var cX=lX();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ss(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const st={},_h=[],or=()=>{},$d=()=>!1,uu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),r3=e=>e.startsWith("onUpdate:"),nt=Object.assign,s3=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},uX=Object.prototype.hasOwnProperty,vt=(e,t)=>uX.call(e,t),Ee=Array.isArray,wh=e=>If(e)==="[object Map]",hu=e=>If(e)==="[object Set]",k4=e=>If(e)==="[object Date]",hX=e=>If(e)==="[object RegExp]",Fe=e=>typeof e=="function",Je=e=>typeof e=="string",ls=e=>typeof e=="symbol",Mt=e=>e!==null&&typeof e=="object",n3=e=>(Mt(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),mP=Object.prototype.toString,If=e=>mP.call(e),fX=e=>If(e).slice(8,-1),av=e=>If(e)==="[object Object]",o3=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ul=Ss(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),dX=Ss("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),lv=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},pX=/-(\w)/g,Vt=lv(e=>e.replace(pX,(t,i)=>i?i.toUpperCase():"")),mX=/\B([A-Z])/g,Qr=lv(e=>e.replace(mX,"-$1").toLowerCase()),Al=lv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ac=lv(e=>e?`on${Al(e)}`:""),kr=(e,t)=>!Object.is(e,t),xh=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},yP=(e,t,i,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:i})},$g=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Cg=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let R4;const cv=()=>R4||(R4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yX(e,t){return e+JSON.stringify(t,(i,r)=>typeof r=="function"?r.toString():r)}const gX="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",vX=Ss(gX);function Ml(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],s=Je(r)?gP(r):Ml(r);if(s)for(const n in s)t[n]=s[n]}return t}else if(Je(e)||Mt(e))return e}const bX=/;(?![^(]*\))/g,_X=/:([^]+)/,wX=/\/\*[^]*?\*\//g;function gP(e){const t={};return e.replace(wX,"").split(bX).forEach(i=>{if(i){const r=i.split(_X);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function di(e){let t="";if(Je(e))t=e;else if(Ee(e))for(let i=0;i<e.length;i++){const r=di(e[i]);r&&(t+=r+" ")}else if(Mt(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function vP(e){if(!e)return null;let{class:t,style:i}=e;return t&&!Je(t)&&(e.class=di(t)),i&&(e.style=Ml(i)),e}const xX="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SX="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",EX="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",TX="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",AX=Ss(xX),MX=Ss(SX),OX=Ss(EX),IX=Ss(TX),$X="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",CX=Ss($X);function bP(e){return!!e||e===""}function NX(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=vl(e[r],t[r]);return i}function vl(e,t){if(e===t)return!0;let i=k4(e),r=k4(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=ls(e),r=ls(t),i||r)return e===t;if(i=Ee(e),r=Ee(t),i||r)return i&&r?NX(e,t):!1;if(i=Mt(e),r=Mt(t),i||r){if(!i||!r)return!1;const s=Object.keys(e).length,n=Object.keys(t).length;if(s!==n)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!vl(e[o],t[o]))return!1}}return String(e)===String(t)}function uv(e,t){return e.findIndex(i=>vl(i,t))}const _P=e=>!!(e&&e.__v_isRef===!0),jt=e=>Je(e)?e:e==null?"":Ee(e)||Mt(e)&&(e.toString===mP||!Fe(e.toString))?_P(e)?jt(e.value):JSON.stringify(e,wP,2):String(e),wP=(e,t)=>_P(t)?wP(e,t.value):wh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,s],n)=>(i[Vb(r,n)+" =>"]=s,i),{})}:hu(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Vb(i))}:ls(t)?Vb(t):Mt(t)&&!Ee(t)&&!av(t)?String(t):t,Vb=(e,t="")=>{var i;return ls(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pr;class hv{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pr,!t&&Pr&&(this.index=(Pr.scopes||(Pr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Pr;try{return Pr=this,t()}finally{Pr=i}}}on(){Pr=this}off(){Pr=this.parent}stop(t){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Pm(e){return new hv(e)}function fv(){return Pr}function a3(e,t=!1){Pr&&Pr.cleanups.push(e)}let Ft;const Gb=new WeakSet;class Bh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pr&&Pr.active&&Pr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gb.has(this)&&(Gb.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||SP(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,D4(this),EP(this);const t=Ft,i=wn;Ft=this,wn=!0;try{return this.fn()}finally{TP(this),Ft=t,wn=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)u3(t);this.deps=this.depsTail=void 0,D4(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gb.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nw(this)&&this.run()}get dirty(){return Nw(this)}}let xP=0,Jd,Zd;function SP(e,t=!1){if(e.flags|=8,t){e.next=Zd,Zd=e;return}e.next=Jd,Jd=e}function l3(){xP++}function c3(){if(--xP>0)return;if(Zd){let t=Zd;for(Zd=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Jd;){let t=Jd;for(Jd=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=i}}if(e)throw e}function EP(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function TP(e){let t,i=e.depsTail,r=i;for(;r;){const s=r.prevDep;r.version===-1?(r===i&&(i=s),u3(r),PX(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=i}function Nw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(AP(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function AP(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Up))return;e.globalVersion=Up;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Nw(e)){e.flags&=-3;return}const i=Ft,r=wn;Ft=e,wn=!0;try{EP(e);const s=e.fn(e._value);(t.version===0||kr(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ft=i,wn=r,TP(e),e.flags&=-3}}function u3(e,t=!1){const{dep:i,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let n=i.computed.deps;n;n=n.nextDep)u3(n,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function PX(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}function MP(e,t){e.effect instanceof Bh&&(e=e.effect.fn);const i=new Bh(e);t&&nt(i,t);try{i.run()}catch(s){throw i.stop(),s}const r=i.run.bind(i);return r.effect=i,r}function OP(e){e.effect.stop()}let wn=!0;const IP=[];function Ol(){IP.push(wn),wn=!1}function Il(){const e=IP.pop();wn=e===void 0?!0:e}function D4(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Ft;Ft=void 0;try{t()}finally{Ft=i}}}let Up=0;class LX{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dv{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ft||!wn||Ft===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Ft)i=this.activeLink=new LX(Ft,this),Ft.deps?(i.prevDep=Ft.depsTail,Ft.depsTail.nextDep=i,Ft.depsTail=i):Ft.deps=Ft.depsTail=i,$P(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=Ft.depsTail,i.nextDep=void 0,Ft.depsTail.nextDep=i,Ft.depsTail=i,Ft.deps===i&&(Ft.deps=r)}return i}trigger(t){this.version++,Up++,this.notify(t)}notify(t){l3();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{c3()}}}function $P(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)$P(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Ng=new WeakMap,Mc=Symbol(""),Pw=Symbol(""),jp=Symbol("");function vr(e,t,i){if(wn&&Ft){let r=Ng.get(e);r||Ng.set(e,r=new Map);let s=r.get(i);s||(r.set(i,s=new dv),s.map=r,s.key=i),s.track()}}function Ko(e,t,i,r,s,n){const o=Ng.get(e);if(!o){Up++;return}const a=l=>{l&&l.trigger()};if(l3(),t==="clear")o.forEach(a);else{const l=Ee(e),c=l&&o3(i);if(l&&i==="length"){const f=Number(r);o.forEach((d,p)=>{(p==="length"||p===jp||!ls(p)&&p>=f)&&a(d)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),c&&a(o.get(jp)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Mc)),wh(e)&&a(o.get(Pw)));break;case"delete":l||(a(o.get(Mc)),wh(e)&&a(o.get(Pw)));break;case"set":wh(e)&&a(o.get(Mc));break}}c3()}function kX(e,t){const i=Ng.get(e);return i&&i.get(t)}function Ou(e){const t=Ge(e);return t===e?t:(vr(t,"iterate",jp),rs(e)?t:t.map(br))}function pv(e){return vr(e=Ge(e),"iterate",jp),e}const RX={__proto__:null,[Symbol.iterator](){return zb(this,Symbol.iterator,br)},concat(...e){return Ou(this).concat(...e.map(t=>Ee(t)?Ou(t):t))},entries(){return zb(this,"entries",e=>(e[1]=br(e[1]),e))},every(e,t){return Co(this,"every",e,t,void 0,arguments)},filter(e,t){return Co(this,"filter",e,t,i=>i.map(br),arguments)},find(e,t){return Co(this,"find",e,t,br,arguments)},findIndex(e,t){return Co(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Co(this,"findLast",e,t,br,arguments)},findLastIndex(e,t){return Co(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Co(this,"forEach",e,t,void 0,arguments)},includes(...e){return qb(this,"includes",e)},indexOf(...e){return qb(this,"indexOf",e)},join(e){return Ou(this).join(e)},lastIndexOf(...e){return qb(this,"lastIndexOf",e)},map(e,t){return Co(this,"map",e,t,void 0,arguments)},pop(){return qf(this,"pop")},push(...e){return qf(this,"push",e)},reduce(e,...t){return F4(this,"reduce",e,t)},reduceRight(e,...t){return F4(this,"reduceRight",e,t)},shift(){return qf(this,"shift")},some(e,t){return Co(this,"some",e,t,void 0,arguments)},splice(...e){return qf(this,"splice",e)},toReversed(){return Ou(this).toReversed()},toSorted(e){return Ou(this).toSorted(e)},toSpliced(...e){return Ou(this).toSpliced(...e)},unshift(...e){return qf(this,"unshift",e)},values(){return zb(this,"values",br)}};function zb(e,t,i){const r=pv(e),s=r[t]();return r!==e&&!rs(e)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=i(n.value)),n}),s}const DX=Array.prototype;function Co(e,t,i,r,s,n){const o=pv(e),a=o!==e&&!rs(e),l=o[t];if(l!==DX[t]){const d=l.apply(e,n);return a?br(d):d}let c=i;o!==e&&(a?c=function(d,p){return i.call(this,br(d),p,e)}:i.length>2&&(c=function(d,p){return i.call(this,d,p,e)}));const f=l.call(o,c,r);return a&&s?s(f):f}function F4(e,t,i,r){const s=pv(e);let n=i;return s!==e&&(rs(e)?i.length>3&&(n=function(o,a,l){return i.call(this,o,a,l,e)}):n=function(o,a,l){return i.call(this,o,br(a),l,e)}),s[t](n,...r)}function qb(e,t,i){const r=Ge(e);vr(r,"iterate",jp);const s=r[t](...i);return(s===-1||s===!1)&&Lm(i[0])?(i[0]=Ge(i[0]),r[t](...i)):s}function qf(e,t,i=[]){Ol(),l3();const r=Ge(e)[t].apply(e,i);return c3(),Il(),r}const FX=Ss("__proto__,__v_isRef,__isVue"),CP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ls));function UX(e){ls(e)||(e=String(e));const t=Ge(this);return vr(t,"has",e),t.hasOwnProperty(e)}class NP{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,r){if(i==="__v_skip")return t.__v_skip;const s=this._isReadonly,n=this._isShallow;if(i==="__v_isReactive")return!s;if(i==="__v_isReadonly")return s;if(i==="__v_isShallow")return n;if(i==="__v_raw")return r===(s?n?FP:DP:n?RP:kP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=Ee(t);if(!s){let l;if(o&&(l=RX[i]))return l;if(i==="hasOwnProperty")return UX}const a=Reflect.get(t,i,ht(t)?t:r);return(ls(i)?CP.has(i):FX(i))||(s||vr(t,"get",i),n)?a:ht(a)?o&&o3(i)?a:a.value:Mt(a)?s?yv(a):tr(a):a}}class PP extends NP{constructor(t=!1){super(!1,t)}set(t,i,r,s){let n=t[i];if(!this._isShallow){const l=aa(n);if(!rs(r)&&!aa(r)&&(n=Ge(n),r=Ge(r)),!Ee(t)&&ht(n)&&!ht(r))return l?!1:(n.value=r,!0)}const o=Ee(t)&&o3(i)?Number(i)<t.length:vt(t,i),a=Reflect.set(t,i,r,ht(t)?t:s);return t===Ge(s)&&(o?kr(r,n)&&Ko(t,"set",i,r):Ko(t,"add",i,r)),a}deleteProperty(t,i){const r=vt(t,i);t[i];const s=Reflect.deleteProperty(t,i);return s&&r&&Ko(t,"delete",i,void 0),s}has(t,i){const r=Reflect.has(t,i);return(!ls(i)||!CP.has(i))&&vr(t,"has",i),r}ownKeys(t){return vr(t,"iterate",Ee(t)?"length":Mc),Reflect.ownKeys(t)}}class LP extends NP{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const jX=new PP,BX=new LP,VX=new PP(!0),GX=new LP(!0),Lw=e=>e,w0=e=>Reflect.getPrototypeOf(e);function zX(e,t,i){return function(...r){const s=this.__v_raw,n=Ge(s),o=wh(n),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),f=i?Lw:t?kw:br;return!t&&vr(n,"iterate",l?Pw:Mc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function x0(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qX(e,t){const i={get(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);e||(kr(s,a)&&vr(o,"get",s),vr(o,"get",a));const{has:l}=w0(o),c=t?Lw:e?kw:br;if(l.call(o,s))return c(n.get(s));if(l.call(o,a))return c(n.get(a));n!==o&&n.get(s)},get size(){const s=this.__v_raw;return!e&&vr(Ge(s),"iterate",Mc),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,o=Ge(n),a=Ge(s);return e||(kr(s,a)&&vr(o,"has",s),vr(o,"has",a)),s===a?n.has(s):n.has(s)||n.has(a)},forEach(s,n){const o=this,a=o.__v_raw,l=Ge(a),c=t?Lw:e?kw:br;return!e&&vr(l,"iterate",Mc),a.forEach((f,d)=>s.call(n,c(f),c(d),o))}};return nt(i,e?{add:x0("add"),set:x0("set"),delete:x0("delete"),clear:x0("clear")}:{add(s){!t&&!rs(s)&&!aa(s)&&(s=Ge(s));const n=Ge(this);return w0(n).has.call(n,s)||(n.add(s),Ko(n,"add",s,s)),this},set(s,n){!t&&!rs(n)&&!aa(n)&&(n=Ge(n));const o=Ge(this),{has:a,get:l}=w0(o);let c=a.call(o,s);c||(s=Ge(s),c=a.call(o,s));const f=l.call(o,s);return o.set(s,n),c?kr(n,f)&&Ko(o,"set",s,n):Ko(o,"add",s,n),this},delete(s){const n=Ge(this),{has:o,get:a}=w0(n);let l=o.call(n,s);l||(s=Ge(s),l=o.call(n,s)),a&&a.call(n,s);const c=n.delete(s);return l&&Ko(n,"delete",s,void 0),c},clear(){const s=Ge(this),n=s.size!==0,o=s.clear();return n&&Ko(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=zX(s,e,t)}),i}function mv(e,t){const i=qX(e,t);return(r,s,n)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(vt(i,s)&&s in r?i:r,s,n)}const WX={get:mv(!1,!1)},HX={get:mv(!1,!0)},YX={get:mv(!0,!1)},JX={get:mv(!0,!0)},kP=new WeakMap,RP=new WeakMap,DP=new WeakMap,FP=new WeakMap;function ZX(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KX(e){return e.__v_skip||!Object.isExtensible(e)?0:ZX(fX(e))}function tr(e){return aa(e)?e:gv(e,!1,jX,WX,kP)}function h3(e){return gv(e,!1,VX,HX,RP)}function yv(e){return gv(e,!0,BX,YX,DP)}function UP(e){return gv(e,!0,GX,JX,FP)}function gv(e,t,i,r,s){if(!Mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=s.get(e);if(n)return n;const o=KX(e);if(o===0)return e;const a=new Proxy(e,o===2?r:i);return s.set(e,a),a}function vs(e){return aa(e)?vs(e.__v_raw):!!(e&&e.__v_isReactive)}function aa(e){return!!(e&&e.__v_isReadonly)}function rs(e){return!!(e&&e.__v_isShallow)}function Lm(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function Si(e){return!vt(e,"__v_skip")&&Object.isExtensible(e)&&yP(e,"__v_skip",!0),e}const br=e=>Mt(e)?tr(e):e,kw=e=>Mt(e)?yv(e):e;function ht(e){return e?e.__v_isRef===!0:!1}function X(e){return jP(e,!1)}function $f(e){return jP(e,!0)}function jP(e,t){return ht(e)?e:new XX(e,t)}class XX{constructor(t,i){this.dep=new dv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Ge(t),this._value=i?t:br(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,r=this.__v_isShallow||rs(t)||aa(t);t=r?t:Ge(t),kr(t,i)&&(this._rawValue=t,this._value=r?t:br(t),this.dep.trigger())}}function BP(e){e.dep&&e.dep.trigger()}function Oe(e){return ht(e)?e.value:e}function VP(e){return Fe(e)?e():Oe(e)}const QX={get:(e,t,i)=>t==="__v_raw"?e:Oe(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const s=e[t];return ht(s)&&!ht(i)?(s.value=i,!0):Reflect.set(e,t,i,r)}};function vv(e){return vs(e)?e:new Proxy(e,QX)}class eQ{constructor(t){this.__v_isRef=!0,this._value=void 0;const i=this.dep=new dv,{get:r,set:s}=t(i.track.bind(i),i.trigger.bind(i));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(t){this._set(t)}}function f3(e){return new eQ(e)}function d3(e){const t=Ee(e)?new Array(e.length):{};for(const i in e)t[i]=zP(e,i);return t}class tQ{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return kX(Ge(this._object),this._key)}}class iQ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function GP(e,t,i){return ht(e)?e:Fe(e)?new iQ(e):Mt(e)&&arguments.length>1?zP(e,t,i):X(e)}function zP(e,t,i){const r=e[t];return ht(r)?r:new tQ(e,t,i)}class rQ{constructor(t,i,r){this.fn=t,this.setter=i,this._value=void 0,this.dep=new dv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Up-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ft!==this)return SP(this,!0),!0}get value(){const t=this.dep.track();return AP(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function sQ(e,t,i=!1){let r,s;return Fe(e)?r=e:(r=e.get,s=e.set),new rQ(r,s,i)}const qP={GET:"get",HAS:"has",ITERATE:"iterate"},WP={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},S0={},Pg=new WeakMap;let qa;function HP(){return qa}function p3(e,t=!1,i=qa){if(i){let r=Pg.get(i);r||Pg.set(i,r=[]),r.push(e)}}function nQ(e,t,i=st){const{immediate:r,deep:s,once:n,scheduler:o,augmentJob:a,call:l}=i,c=b=>s?b:rs(b)||s===!1||s===0?Xo(b,1):Xo(b);let f,d,p,y,v=!1,_=!1;if(ht(e)?(d=()=>e.value,v=rs(e)):vs(e)?(d=()=>c(e),v=!0):Ee(e)?(_=!0,v=e.some(b=>vs(b)||rs(b)),d=()=>e.map(b=>{if(ht(b))return b.value;if(vs(b))return c(b);if(Fe(b))return l?l(b,2):b()})):Fe(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){Ol();try{p()}finally{Il()}}const b=qa;qa=f;try{return l?l(e,3,[y]):e(y)}finally{qa=b}}:d=or,t&&s){const b=d,M=s===!0?1/0:s;d=()=>Xo(b(),M)}const E=fv(),S=()=>{f.stop(),E&&E.active&&s3(E.effects,f)};if(n&&t){const b=t;t=(...M)=>{b(...M),S()}}let A=_?new Array(e.length).fill(S0):S0;const w=b=>{if(!(!(f.flags&1)||!f.dirty&&!b))if(t){const M=f.run();if(s||v||(_?M.some((O,C)=>kr(O,A[C])):kr(M,A))){p&&p();const O=qa;qa=f;try{const C=[M,A===S0?void 0:_&&A[0]===S0?[]:A,y];l?l(t,3,C):t(...C),A=M}finally{qa=O}}}else f.run()};return a&&a(w),f=new Bh(d),f.scheduler=o?()=>o(w,!1):w,y=b=>p3(b,!1,f),p=f.onStop=()=>{const b=Pg.get(f);if(b){if(l)l(b,4);else for(const M of b)M();Pg.delete(f)}},t?r?w(!0):A=f.run():o?o(w.bind(null,!0),!0):f.run(),S.pause=f.pause.bind(f),S.resume=f.resume.bind(f),S.stop=S,S}function Xo(e,t=1/0,i){if(t<=0||!Mt(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,ht(e))Xo(e.value,t,i);else if(Ee(e))for(let r=0;r<e.length;r++)Xo(e[r],t,i);else if(hu(e)||wh(e))e.forEach(r=>{Xo(r,t,i)});else if(av(e)){for(const r in e)Xo(e[r],t,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Xo(e[r],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const YP=[];function oQ(e){YP.push(e)}function aQ(){YP.pop()}function JP(e,t){}const ZP={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},lQ={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function fu(e,t,i,r){try{return r?e(...r):e()}catch(s){$l(s,t,i)}}function _s(e,t,i,r){if(Fe(e)){const s=fu(e,t,i,r);return s&&n3(s)&&s.catch(n=>{$l(n,t,i)}),s}if(Ee(e)){const s=[];for(let n=0;n<e.length;n++)s.push(_s(e[n],t,i,r));return s}}function $l(e,t,i,r=!0){const s=t?t.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||st;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,c)===!1)return}a=a.parent}if(n){Ol(),fu(n,null,10,[e,l,c]),Il();return}}cQ(e,i,s,r,o)}function cQ(e,t,i,r=!0,s=!1){if(s)throw e;console.error(e)}const Rr=[];let Jn=-1;const Sh=[];let Wa=null,Gu=0;const KP=Promise.resolve();let Lg=null;function Pn(e){const t=Lg||KP;return e?t.then(this?e.bind(this):e):t}function uQ(e){let t=Jn+1,i=Rr.length;for(;t<i;){const r=t+i>>>1,s=Rr[r],n=Bp(s);n<e||n===e&&s.flags&2?t=r+1:i=r}return t}function m3(e){if(!(e.flags&1)){const t=Bp(e),i=Rr[Rr.length-1];!i||!(e.flags&2)&&t>=Bp(i)?Rr.push(e):Rr.splice(uQ(t),0,e),e.flags|=1,XP()}}function XP(){Lg||(Lg=KP.then(QP))}function Vh(e){Ee(e)?Sh.push(...e):Wa&&e.id===-1?Wa.splice(Gu+1,0,e):e.flags&1||(Sh.push(e),e.flags|=1),XP()}function U4(e,t,i=Jn+1){for(;i<Rr.length;i++){const r=Rr[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Rr.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function kg(e){if(Sh.length){const t=[...new Set(Sh)].sort((i,r)=>Bp(i)-Bp(r));if(Sh.length=0,Wa){Wa.push(...t);return}for(Wa=t,Gu=0;Gu<Wa.length;Gu++){const i=Wa[Gu];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Wa=null,Gu=0}}const Bp=e=>e.id==null?e.flags&2?-1:1/0:e.id;function QP(e){try{for(Jn=0;Jn<Rr.length;Jn++){const t=Rr[Jn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),fu(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Jn<Rr.length;Jn++){const t=Rr[Jn];t&&(t.flags&=-2)}Jn=-1,Rr.length=0,kg(),Lg=null,(Rr.length||Sh.length)&&QP()}}let zu,E0=[];function eL(e,t){var i,r;zu=e,zu?(zu.enabled=!0,E0.forEach(({event:s,args:n})=>zu.emit(s,...n)),E0=[]):typeof window<"u"&&window.HTMLElement&&!((r=(i=window.navigator)==null?void 0:i.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(n=>{eL(n,t)}),setTimeout(()=>{zu||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,E0=[])},3e3)):E0=[]}let zi=null,bv=null;function Vp(e){const t=zi;return zi=e,bv=e&&e.type.__scopeId||null,t}function tL(e){bv=e}function iL(){bv=null}const rL=e=>Ti;function Ti(e,t=zi,i){if(!t||e._n)return e;const r=(...s)=>{r._d&&jg(-1);const n=Vp(t);let o;try{o=e(...s)}finally{Vp(n),r._d&&jg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Et(e,t){if(zi===null)return e;const i=Fm(zi),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[n,o,a,l=st]=t[s];n&&(Fe(n)&&(n={mounted:n,updated:n}),n.deep&&Xo(o),r.push({dir:n,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Xn(e,t,i,r){const s=e.dirs,n=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];n&&(a.oldValue=n[o].value);let l=a.dir[r];l&&(Ol(),_s(l,i,8,[e.el,a,e,t]),Il())}}const sL=Symbol("_vte"),nL=e=>e.__isTeleport,Kd=e=>e&&(e.disabled||e.disabled===""),j4=e=>e&&(e.defer||e.defer===""),B4=e=>typeof SVGElement<"u"&&e instanceof SVGElement,V4=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Rw=(e,t)=>{const i=e&&e.to;return Je(i)?t?t(i):null:i},oL={name:"Teleport",__isTeleport:!0,process(e,t,i,r,s,n,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:v,createText:_,createComment:E}}=c,S=Kd(t.props);let{shapeFlag:A,children:w,dynamicChildren:b}=t;if(e==null){const M=t.el=_(""),O=t.anchor=_("");y(M,i,r),y(O,i,r);const C=(N,U)=>{A&16&&(s&&s.isCE&&(s.ce._teleportTarget=N),f(w,N,U,s,n,o,a,l))},P=()=>{const N=t.target=Rw(t.props,v),U=aL(N,t,_,y);N&&(o!=="svg"&&B4(N)?o="svg":o!=="mathml"&&V4(N)&&(o="mathml"),S||(C(N,U),Cy(t,!1)))};S&&(C(i,O),Cy(t,!0)),j4(t.props)?ji(()=>{P(),t.el.__isMounted=!0},n):P()}else{if(j4(t.props)&&!e.el.__isMounted){ji(()=>{oL.process(e,t,i,r,s,n,o,a,l,c),delete e.el.__isMounted},n);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,O=t.target=e.target,C=t.targetAnchor=e.targetAnchor,P=Kd(e.props),N=P?i:O,U=P?M:C;if(o==="svg"||B4(O)?o="svg":(o==="mathml"||V4(O))&&(o="mathml"),b?(p(e.dynamicChildren,b,N,s,n,o,a),R3(e,t,!0)):l||d(e,t,N,U,s,n,o,a,!1),S)P?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):T0(t,i,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=Rw(t.props,v);j&&T0(t,j,null,c,0)}else P&&T0(t,O,C,c,1);Cy(t,S)}},remove(e,t,i,{um:r,o:{remove:s}},n){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=e;if(d&&(s(c),s(f)),n&&s(l),o&16){const y=n||!Kd(p);for(let v=0;v<a.length;v++){const _=a[v];r(_,t,i,y,!!_.dynamicChildren)}}},move:T0,hydrate:hQ};function T0(e,t,i,{o:{insert:r},m:s},n=2){n===0&&r(e.targetAnchor,t,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,d=n===2;if(d&&r(o,t,i),(!d||Kd(f))&&l&16)for(let p=0;p<c.length;p++)s(c[p],t,i,2);d&&r(a,t,i)}function hQ(e,t,i,r,s,n,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=t.target=Rw(t.props,l);if(p){const y=Kd(t.props),v=p._lpa||p.firstChild;if(t.shapeFlag&16)if(y)t.anchor=d(o(e),t,a(e),i,r,s,n),t.targetStart=v,t.targetAnchor=v&&o(v);else{t.anchor=o(e);let _=v;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")t.targetStart=_;else if(_.data==="teleport anchor"){t.targetAnchor=_,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}_=o(_)}t.targetAnchor||aL(p,t,f,c),d(v&&o(v),t,p,i,r,s,n)}Cy(t,y)}return t.anchor&&o(t.anchor)}const y3=oL;function Cy(e,t){const i=e.ctx;if(i&&i.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}function aL(e,t,i,r){const s=t.targetStart=i(""),n=t.targetAnchor=i("");return s[sL]=n,e&&(r(s,e),r(n,e)),n}const Ha=Symbol("_leaveCb"),A0=Symbol("_enterCb");function _v(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return lr(()=>{e.isMounted=!0}),Ln(()=>{e.isUnmounting=!0}),e}const Ms=[Function,Array],wv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ms,onEnter:Ms,onAfterEnter:Ms,onEnterCancelled:Ms,onBeforeLeave:Ms,onLeave:Ms,onAfterLeave:Ms,onLeaveCancelled:Ms,onBeforeAppear:Ms,onAppear:Ms,onAfterAppear:Ms,onAppearCancelled:Ms},lL=e=>{const t=e.subTree;return t.component?lL(t.component):t},fQ={name:"BaseTransition",props:wv,setup(e,{slots:t}){const i=Li(),r=_v();return()=>{const s=t.default&&km(t.default(),!0);if(!s||!s.length)return;const n=cL(s),o=Ge(e),{mode:a}=o;if(r.isLeaving)return Wb(n);const l=G4(n);if(!l)return Wb(n);let c=Hc(l,o,r,i,d=>c=d);l.type!==_i&&wo(l,c);let f=i.subTree&&G4(i.subTree);if(f&&f.type!==_i&&!hn(l,f)&&lL(i).type!==_i){let d=Hc(f,o,r,i);if(wo(f,d),a==="out-in"&&l.type!==_i)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,i.job.flags&8||i.update(),delete d.afterLeave,f=void 0},Wb(n);a==="in-out"&&l.type!==_i?d.delayLeave=(p,y,v)=>{const _=uL(r,f);_[String(f.key)]=f,p[Ha]=()=>{y(),p[Ha]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return n}}};function cL(e){let t=e[0];if(e.length>1){for(const i of e)if(i.type!==_i){t=i;break}}return t}const g3=fQ;function uL(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function Hc(e,t,i,r,s){const{appear:n,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:E,onAppear:S,onAfterAppear:A,onAppearCancelled:w}=t,b=String(e.key),M=uL(i,e),O=(N,U)=>{N&&_s(N,r,9,U)},C=(N,U)=>{const j=U[1];O(N,U),Ee(N)?N.every(F=>F.length<=1)&&j():N.length<=1&&j()},P={mode:o,persisted:a,beforeEnter(N){let U=l;if(!i.isMounted)if(n)U=E||l;else return;N[Ha]&&N[Ha](!0);const j=M[b];j&&hn(e,j)&&j.el[Ha]&&j.el[Ha](),O(U,[N])},enter(N){let U=c,j=f,F=d;if(!i.isMounted)if(n)U=S||c,j=A||f,F=w||d;else return;let q=!1;const te=N[A0]=h=>{q||(q=!0,h?O(F,[N]):O(j,[N]),P.delayedLeave&&P.delayedLeave(),N[A0]=void 0)};U?C(U,[N,te]):te()},leave(N,U){const j=String(e.key);if(N[A0]&&N[A0](!0),i.isUnmounting)return U();O(p,[N]);let F=!1;const q=N[Ha]=te=>{F||(F=!0,U(),te?O(_,[N]):O(v,[N]),N[Ha]=void 0,M[j]===e&&delete M[j])};M[j]=e,y?C(y,[N,q]):q()},clone(N){const U=Hc(N,t,i,r,s);return s&&s(U),U}};return P}function Wb(e){if(Rm(e))return e=$n(e),e.children=null,e}function G4(e){if(!Rm(e))return nL(e.type)&&e.children?cL(e.children):e;const{shapeFlag:t,children:i}=e;if(i){if(t&16)return i[0];if(t&32&&Fe(i.default))return i.default()}}function wo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function km(e,t=!1,i){let r=[],s=0;for(let n=0;n<e.length;n++){let o=e[n];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:n);o.type===It?(o.patchFlag&128&&s++,r=r.concat(km(o.children,t,a))):(t||o.type!==_i)&&r.push(a!=null?$n(o,{key:a}):o)}if(s>1)for(let n=0;n<r.length;n++)r[n].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function rt(e,t){return Fe(e)?nt({name:e.name},t,{setup:e}):e}function hL(){const e=Li();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function v3(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Rg(e){const t=Li(),i=$f(null);if(t){const s=t.refs===st?t.refs={}:t.refs;Object.defineProperty(s,e,{enumerable:!0,get:()=>i.value,set:n=>i.value=n})}return i}function Gp(e,t,i,r,s=!1){if(Ee(e)){e.forEach((v,_)=>Gp(v,t&&(Ee(t)?t[_]:t),i,r,s));return}if(hl(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Gp(e,t,i,r.component.subTree);return}const n=r.shapeFlag&4?Fm(r.component):r.el,o=s?null:n,{i:a,r:l}=e,c=t&&t.r,f=a.refs===st?a.refs={}:a.refs,d=a.setupState,p=Ge(d),y=d===st?()=>!1:v=>vt(p,v);if(c!=null&&c!==l&&(Je(c)?(f[c]=null,y(c)&&(d[c]=null)):ht(c)&&(c.value=null)),Fe(l))fu(l,a,12,[o,f]);else{const v=Je(l),_=ht(l);if(v||_){const E=()=>{if(e.f){const S=v?y(l)?d[l]:f[l]:l.value;s?Ee(S)&&s3(S,n):Ee(S)?S.includes(n)||S.push(n):v?(f[l]=[n],y(l)&&(d[l]=f[l])):(l.value=[n],e.k&&(f[e.k]=l.value))}else v?(f[l]=o,y(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(f[e.k]=o))};o?(E.id=-1,ji(E,i)):E()}}}let z4=!1;const Iu=()=>{z4||(console.error("Hydration completed but contains mismatches."),z4=!0)},dQ=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",pQ=e=>e.namespaceURI.includes("MathML"),M0=e=>{if(e.nodeType===1){if(dQ(e))return"svg";if(pQ(e))return"mathml"}},rh=e=>e.nodeType===8;function mQ(e){const{mt:t,p:i,o:{patchProp:r,createText:s,nextSibling:n,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(w,b)=>{if(!b.hasChildNodes()){i(null,w,b),kg(),b._vnode=w;return}d(b.firstChild,w,null,null,null),kg(),b._vnode=w},d=(w,b,M,O,C,P=!1)=>{P=P||!!b.dynamicChildren;const N=rh(w)&&w.data==="[",U=()=>_(w,b,M,O,C,N),{type:j,ref:F,shapeFlag:q,patchFlag:te}=b;let h=w.nodeType;b.el=w,te===-2&&(P=!1,b.dynamicChildren=null);let m=null;switch(j){case uo:h!==3?b.children===""?(l(b.el=s(""),o(w),w),m=w):m=U():(w.data!==b.children&&(Iu(),w.data=b.children),m=n(w));break;case _i:A(w)?(m=n(w),S(b.el=w.content.firstChild,w,M)):h!==8||N?m=U():m=n(w);break;case fl:if(N&&(w=n(w),h=w.nodeType),h===1||h===3){m=w;const x=!b.children.length;for(let $=0;$<b.staticCount;$++)x&&(b.children+=m.nodeType===1?m.outerHTML:m.data),$===b.staticCount-1&&(b.anchor=m),m=n(m);return N?n(m):m}else U();break;case It:N?m=v(w,b,M,O,C,P):m=U();break;default:if(q&1)(h!==1||b.type.toLowerCase()!==w.tagName.toLowerCase())&&!A(w)?m=U():m=p(w,b,M,O,C,P);else if(q&6){b.slotScopeIds=C;const x=o(w);if(N?m=E(w):rh(w)&&w.data==="teleport start"?m=E(w,w.data,"teleport end"):m=n(w),t(b,x,null,M,O,M0(x),P),hl(b)&&!b.type.__asyncResolved){let $;N?($=Ke(It),$.anchor=m?m.previousSibling:x.lastChild):$=w.nodeType===3?ho(""):Ke("div"),$.el=w,b.component.subTree=$}}else q&64?h!==8?m=U():m=b.type.hydrate(w,b,M,O,C,P,e,y):q&128&&(m=b.type.hydrate(w,b,M,O,M0(o(w)),C,P,e,d))}return F!=null&&Gp(F,null,O,b),m},p=(w,b,M,O,C,P)=>{P=P||!!b.dynamicChildren;const{type:N,props:U,patchFlag:j,shapeFlag:F,dirs:q,transition:te}=b,h=N==="input"||N==="option";if(h||j!==-1){q&&Xn(b,null,M,"created");let m=!1;if(A(w)){m=HL(null,te)&&M&&M.vnode.props&&M.vnode.props.appear;const $=w.content.firstChild;m&&te.beforeEnter($),S($,w,M),b.el=w=$}if(F&16&&!(U&&(U.innerHTML||U.textContent))){let $=y(w.firstChild,b,w,M,O,C,P);for(;$;){O0(w,1)||Iu();const V=$;$=$.nextSibling,a(V)}}else if(F&8){let $=b.children;$[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&($=$.slice(1)),w.textContent!==$&&(O0(w,0)||Iu(),w.textContent=b.children)}if(U){if(h||!P||j&48){const $=w.tagName.includes("-");for(const V in U)(h&&(V.endsWith("value")||V==="indeterminate")||uu(V)&&!ul(V)||V[0]==="."||$)&&r(w,V,null,U[V],void 0,M)}else if(U.onClick)r(w,"onClick",null,U.onClick,void 0,M);else if(j&4&&vs(U.style))for(const $ in U.style)U.style[$]}let x;(x=U&&U.onVnodeBeforeMount)&&Yr(x,M,b),q&&Xn(b,null,M,"beforeMount"),((x=U&&U.onVnodeMounted)||q||m)&&r8(()=>{x&&Yr(x,M,b),m&&te.enter(w),q&&Xn(b,null,M,"mounted")},O)}return w.nextSibling},y=(w,b,M,O,C,P,N)=>{N=N||!!b.dynamicChildren;const U=b.children,j=U.length;for(let F=0;F<j;F++){const q=N?U[F]:U[F]=Zr(U[F]),te=q.type===uo;w?(te&&!N&&F+1<j&&Zr(U[F+1]).type===uo&&(l(s(w.data.slice(q.children.length)),M,n(w)),w.data=q.children),w=d(w,q,O,C,P,N)):te&&!q.children?l(q.el=s(""),M):(O0(M,1)||Iu(),i(null,q,M,null,O,C,M0(M),P))}return w},v=(w,b,M,O,C,P)=>{const{slotScopeIds:N}=b;N&&(C=C?C.concat(N):N);const U=o(w),j=y(n(w),b,U,M,O,C,P);return j&&rh(j)&&j.data==="]"?n(b.anchor=j):(Iu(),l(b.anchor=c("]"),U,j),j)},_=(w,b,M,O,C,P)=>{if(O0(w.parentElement,1)||Iu(),b.el=null,P){const j=E(w);for(;;){const F=n(w);if(F&&F!==j)a(F);else break}}const N=n(w),U=o(w);return a(w),i(null,b,U,N,M,O,M0(U),C),M&&(M.vnode.el=b.el,Av(M,b.el)),N},E=(w,b="[",M="]")=>{let O=0;for(;w;)if(w=n(w),w&&rh(w)&&(w.data===b&&O++,w.data===M)){if(O===0)return n(w);O--}return w},S=(w,b,M)=>{const O=b.parentNode;O&&O.replaceChild(w,b);let C=M;for(;C;)C.vnode.el===b&&(C.vnode.el=C.subTree.el=w),C=C.parent},A=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[f,d]}const q4="data-allow-mismatch",yQ={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function O0(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(q4);)e=e.parentElement;const i=e&&e.getAttribute(q4);if(i==null)return!1;if(i==="")return!0;{const r=i.split(",");return t===0&&r.includes("children")?!0:i.split(",").includes(yQ[t])}}const gQ=cv().requestIdleCallback||(e=>setTimeout(e,1)),vQ=cv().cancelIdleCallback||(e=>clearTimeout(e)),fL=(e=1e4)=>t=>{const i=gQ(t,{timeout:e});return()=>vQ(i)};function bQ(e){const{top:t,left:i,bottom:r,right:s}=e.getBoundingClientRect(),{innerHeight:n,innerWidth:o}=window;return(t>0&&t<n||r>0&&r<n)&&(i>0&&i<o||s>0&&s<o)}const dL=e=>(t,i)=>{const r=new IntersectionObserver(s=>{for(const n of s)if(n.isIntersecting){r.disconnect(),t();break}},e);return i(s=>{if(s instanceof Element){if(bQ(s))return t(),r.disconnect(),!1;r.observe(s)}}),()=>r.disconnect()},pL=e=>t=>{if(e){const i=matchMedia(e);if(i.matches)t();else return i.addEventListener("change",t,{once:!0}),()=>i.removeEventListener("change",t)}},mL=(e=[])=>(t,i)=>{Je(e)&&(e=[e]);let r=!1;const s=o=>{r||(r=!0,n(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},n=()=>{i(o=>{for(const a of e)o.removeEventListener(a,s)})};return i(o=>{for(const a of e)o.addEventListener(a,s,{once:!0})}),n};function _Q(e,t){if(rh(e)&&e.data==="["){let i=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(rh(r))if(r.data==="]"){if(--i===0)break}else r.data==="["&&i++;r=r.nextSibling}}else t(e)}const hl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function b3(e){Fe(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:s=200,hydrate:n,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let v;return c||(v=c=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((E,S)=>{l(_,()=>E(p()),()=>S(_),d+1)});throw _}).then(_=>v!==c&&c?c:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),f=_,_)))};return rt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(v,_,E){const S=n?()=>{const A=n(E,w=>_Q(v,w));A&&(_.bum||(_.bum=[])).push(A)}:E;f?S():y().then(()=>!_.isUnmounted&&S())},get __asyncResolved(){return f},setup(){const v=Gi;if(v3(v),f)return()=>Hb(f,v);const _=w=>{c=null,$l(w,v,13,!r)};if(a&&v.suspense||Gh)return y().then(w=>()=>Hb(w,v)).catch(w=>(_(w),()=>r?Ke(r,{error:w}):null));const E=X(!1),S=X(),A=X(!!s);return s&&setTimeout(()=>{A.value=!1},s),o!=null&&setTimeout(()=>{if(!E.value&&!S.value){const w=new Error(`Async component timed out after ${o}ms.`);_(w),S.value=w}},o),y().then(()=>{E.value=!0,v.parent&&Rm(v.parent.vnode)&&v.parent.update()}).catch(w=>{_(w),S.value=w}),()=>{if(E.value&&f)return Hb(f,v);if(S.value&&r)return Ke(r,{error:S.value});if(i&&!A.value)return Ke(i)}}})}function Hb(e,t){const{ref:i,props:r,children:s,ce:n}=t.vnode,o=Ke(e,r,s);return o.ref=i,o.ce=n,delete t.vnode.ce,o}const Rm=e=>e.type.__isKeepAlive,wQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=Li(),r=i.ctx;if(!r.renderer)return()=>{const A=t.default&&t.default();return A&&A.length===1?A[0]:A};const s=new Map,n=new Set;let o=null;const a=i.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=r,p=d("div");r.activate=(A,w,b,M,O)=>{const C=A.component;c(A,w,b,0,a),l(C.vnode,A,w,b,C,a,M,A.slotScopeIds,O),ji(()=>{C.isDeactivated=!1,C.a&&xh(C.a);const P=A.props&&A.props.onVnodeMounted;P&&Yr(P,C.parent,A)},a)},r.deactivate=A=>{const w=A.component;Fg(w.m),Fg(w.a),c(A,p,null,1,a),ji(()=>{w.da&&xh(w.da);const b=A.props&&A.props.onVnodeUnmounted;b&&Yr(b,w.parent,A),w.isDeactivated=!0},a)};function y(A){Yb(A),f(A,i,a,!0)}function v(A){s.forEach((w,b)=>{const M=Hw(w.type);M&&!A(M)&&_(b)})}function _(A){const w=s.get(A);w&&(!o||!hn(w,o))?y(w):o&&Yb(o),s.delete(A),n.delete(A)}Wi(()=>[e.include,e.exclude],([A,w])=>{A&&v(b=>Cd(A,b)),w&&v(b=>!Cd(w,b))},{flush:"post",deep:!0});let E=null;const S=()=>{E!=null&&(Ug(i.subTree.type)?ji(()=>{s.set(E,I0(i.subTree))},i.subTree.suspense):s.set(E,I0(i.subTree)))};return lr(S),Cf(S),Ln(()=>{s.forEach(A=>{const{subTree:w,suspense:b}=i,M=I0(w);if(A.type===M.type&&A.key===M.key){Yb(M);const O=M.component.da;O&&ji(O,b);return}y(A)})}),()=>{if(E=null,!t.default)return o=null;const A=t.default(),w=A[0];if(A.length>1)return o=null,A;if(!In(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let b=I0(w);if(b.type===_i)return o=null,b;const M=b.type,O=Hw(hl(b)?b.type.__asyncResolved||{}:M),{include:C,exclude:P,max:N}=e;if(C&&(!O||!Cd(C,O))||P&&O&&Cd(P,O))return b.shapeFlag&=-257,o=b,w;const U=b.key==null?M:b.key,j=s.get(U);return b.el&&(b=$n(b),w.shapeFlag&128&&(w.ssContent=b)),E=U,j?(b.el=j.el,b.component=j.component,b.transition&&wo(b,b.transition),b.shapeFlag|=512,n.delete(U),n.add(U)):(n.add(U),N&&n.size>parseInt(N,10)&&_(n.values().next().value)),b.shapeFlag|=256,o=b,Ug(w.type)?w:b}}},yL=wQ;function Cd(e,t){return Ee(e)?e.some(i=>Cd(i,t)):Je(e)?e.split(",").includes(t):hX(e)?(e.lastIndex=0,e.test(t)):!1}function _3(e,t){gL(e,"a",t)}function w3(e,t){gL(e,"da",t)}function gL(e,t,i=Gi){const r=e.__wdc||(e.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(xv(t,r,i),i){let s=i.parent;for(;s&&s.parent;)Rm(s.parent.vnode)&&xQ(r,t,i,s),s=s.parent}}function xQ(e,t,i,r){const s=xv(t,e,r,!0);du(()=>{s3(r[t],s)},i)}function Yb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function I0(e){return e.shapeFlag&128?e.ssContent:e}function xv(e,t,i=Gi,r=!1){if(i){const s=i[e]||(i[e]=[]),n=t.__weh||(t.__weh=(...o)=>{Ol();const a=Jc(i),l=_s(t,i,e,o);return a(),Il(),l});return r?s.unshift(n):s.push(n),n}}const ha=e=>(t,i=Gi)=>{(!Gh||e==="sp")&&xv(e,(...r)=>t(...r),i)},Sv=ha("bm"),lr=ha("m"),Ev=ha("bu"),Cf=ha("u"),Ln=ha("bum"),du=ha("um"),x3=ha("sp"),S3=ha("rtg"),E3=ha("rtc");function T3(e,t=Gi){xv("ec",e,t)}const A3="components",SQ="directives";function bi(e,t){return O3(A3,e,!0,t)||e}const vL=Symbol.for("v-ndc");function M3(e){return Je(e)?O3(A3,e,!1)||e:e||vL}function Tt(e){return O3(SQ,e)}function O3(e,t,i=!0,r=!1){const s=zi||Gi;if(s){const n=s.type;if(e===A3){const a=Hw(n,!1);if(a&&(a===t||a===Vt(t)||a===Al(Vt(t))))return n}const o=W4(s[e]||n[e],t)||W4(s.appContext[e],t);return!o&&r?n:o}}function W4(e,t){return e&&(e[t]||e[Vt(t)]||e[Al(Vt(t))])}function Cl(e,t,i,r){let s;const n=i&&i[r],o=Ee(e);if(o||Je(e)){const a=o&&vs(e);let l=!1;a&&(l=!rs(e),e=pv(e)),s=new Array(e.length);for(let c=0,f=e.length;c<f;c++)s[c]=t(l?br(e[c]):e[c],c,void 0,n&&n[c])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,n&&n[a])}else if(Mt(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,n&&n[l]));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];s[l]=t(e[f],f,l,n&&n[l])}}else s=[];return i&&(i[r]=s),s}function bL(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(Ee(r))for(let s=0;s<r.length;s++)e[r[s].name]=r[s].fn;else r&&(e[r.name]=r.key?(...s)=>{const n=r.fn(...s);return n&&(n.key=r.key),n}:r.fn)}return e}function pn(e,t,i={},r,s){if(zi.ce||zi.parent&&hl(zi.parent)&&zi.parent.ce)return t!=="default"&&(i.name=t),fe(),Bt(It,null,[Ke("slot",i,r&&r())],64);let n=e[t];n&&n._c&&(n._d=!1),fe();const o=n&&I3(n(i)),a=i.key||o&&o.key,l=Bt(It,{key:(a&&!ls(a)?a:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),n&&n._c&&(n._d=!0),l}function I3(e){return e.some(t=>In(t)?!(t.type===_i||t.type===It&&!I3(t.children)):!0)?e:null}function _L(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:Ac(r)]=e[r];return i}const Dw=e=>e?u8(e)?Fm(e):Dw(e.parent):null,Xd=nt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dw(e.parent),$root:e=>Dw(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$3(e),$forceUpdate:e=>e.f||(e.f=()=>{m3(e.update)}),$nextTick:e=>e.n||(e.n=Pn.bind(e.proxy)),$watch:e=>UQ.bind(e)}),Jb=(e,t)=>e!==st&&!e.__isScriptSetup&&vt(e,t),Fw={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:r,data:s,props:n,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return s[t];case 4:return i[t];case 3:return n[t]}else{if(Jb(r,t))return o[t]=1,r[t];if(s!==st&&vt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,n[t];if(i!==st&&vt(i,t))return o[t]=4,i[t];Uw&&(o[t]=0)}}const f=Xd[t];let d,p;if(f)return t==="$attrs"&&vr(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(i!==st&&vt(i,t))return o[t]=4,i[t];if(p=l.config.globalProperties,vt(p,t))return p[t]},set({_:e},t,i){const{data:r,setupState:s,ctx:n}=e;return Jb(s,t)?(s[t]=i,!0):r!==st&&vt(r,t)?(r[t]=i,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:s,propsOptions:n}},o){let a;return!!i[o]||e!==st&&vt(e,o)||Jb(t,o)||(a=n[0])&&vt(a,o)||vt(r,o)||vt(Xd,o)||vt(s.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:vt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},EQ=nt({},Fw,{get(e,t){if(t!==Symbol.unscopables)return Fw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!vX(t)}});function wL(){return null}function xL(){return null}function SL(e){}function EL(e){}function TL(){return null}function AL(){}function ML(e,t){return null}function OL(){return $L().slots}function IL(){return $L().attrs}function $L(){const e=Li();return e.setupContext||(e.setupContext=p8(e))}function zp(e){return Ee(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function CL(e,t){const i=zp(e);for(const r in t){if(r.startsWith("__skip"))continue;let s=i[r];s?Ee(s)||Fe(s)?s=i[r]={type:s,default:t[r]}:s.default=t[r]:s===null&&(s=i[r]={default:t[r]}),s&&t[`__skip_${r}`]&&(s.skipFactory=!0)}return i}function NL(e,t){return!e||!t?e||t:Ee(e)&&Ee(t)?e.concat(t):nt({},zp(e),zp(t))}function PL(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function LL(e){const t=Li();let i=e();return zw(),n3(i)&&(i=i.catch(r=>{throw Jc(t),r})),[i,()=>Jc(t)]}let Uw=!0;function TQ(e){const t=$3(e),i=e.proxy,r=e.ctx;Uw=!1,t.beforeCreate&&H4(t.beforeCreate,e,"bc");const{data:s,computed:n,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:v,activated:_,deactivated:E,beforeDestroy:S,beforeUnmount:A,destroyed:w,unmounted:b,render:M,renderTracked:O,renderTriggered:C,errorCaptured:P,serverPrefetch:N,expose:U,inheritAttrs:j,components:F,directives:q,filters:te}=t;if(c&&AQ(c,r,null),o)for(const x in o){const $=o[x];Fe($)&&(r[x]=$.bind(i))}if(s){const x=s.call(i,i);Mt(x)&&(e.data=tr(x))}if(Uw=!0,n)for(const x in n){const $=n[x],V=Fe($)?$.bind(i,i):Fe($.get)?$.get.bind(i,i):or,Y=!Fe($)&&Fe($.set)?$.set.bind(i):or,pe=tt({get:V,set:Y});Object.defineProperty(r,x,{enumerable:!0,configurable:!0,get:()=>pe.value,set:le=>pe.value=le})}if(a)for(const x in a)kL(a[x],r,i,x);if(l){const x=Fe(l)?l.call(i):l;Reflect.ownKeys(x).forEach($=>{C3($,x[$])})}f&&H4(f,e,"c");function m(x,$){Ee($)?$.forEach(V=>x(V.bind(i))):$&&x($.bind(i))}if(m(Sv,d),m(lr,p),m(Ev,y),m(Cf,v),m(_3,_),m(w3,E),m(T3,P),m(E3,O),m(S3,C),m(Ln,A),m(du,b),m(x3,N),Ee(U))if(U.length){const x=e.exposed||(e.exposed={});U.forEach($=>{Object.defineProperty(x,$,{get:()=>i[$],set:V=>i[$]=V})})}else e.exposed||(e.exposed={});M&&e.render===or&&(e.render=M),j!=null&&(e.inheritAttrs=j),F&&(e.components=F),q&&(e.directives=q),N&&v3(e)}function AQ(e,t,i=or){Ee(e)&&(e=jw(e));for(const r in e){const s=e[r];let n;Mt(s)?"default"in s?n=Pi(s.from||r,s.default,!0):n=Pi(s.from||r):n=Pi(s),ht(n)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:o=>n.value=o}):t[r]=n}}function H4(e,t,i){_s(Ee(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function kL(e,t,i,r){let s=r.includes(".")?KL(i,r):()=>i[r];if(Je(e)){const n=t[e];Fe(n)&&Wi(s,n)}else if(Fe(e))Wi(s,e.bind(i));else if(Mt(e))if(Ee(e))e.forEach(n=>kL(n,t,i,r));else{const n=Fe(e.handler)?e.handler.bind(i):t[e.handler];Fe(n)&&Wi(s,n,e)}}function $3(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:s,optionsCache:n,config:{optionMergeStrategies:o}}=e.appContext,a=n.get(t);let l;return a?l=a:!s.length&&!i&&!r?l=t:(l={},s.length&&s.forEach(c=>Dg(l,c,o,!0)),Dg(l,t,o)),Mt(t)&&n.set(t,l),l}function Dg(e,t,i,r=!1){const{mixins:s,extends:n}=t;n&&Dg(e,n,i,!0),s&&s.forEach(o=>Dg(e,o,i,!0));for(const o in t)if(!(r&&o==="expose")){const a=MQ[o]||i&&i[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const MQ={data:Y4,props:J4,emits:J4,methods:Nd,computed:Nd,beforeCreate:Or,created:Or,beforeMount:Or,mounted:Or,beforeUpdate:Or,updated:Or,beforeDestroy:Or,beforeUnmount:Or,destroyed:Or,unmounted:Or,activated:Or,deactivated:Or,errorCaptured:Or,serverPrefetch:Or,components:Nd,directives:Nd,watch:IQ,provide:Y4,inject:OQ};function Y4(e,t){return t?e?function(){return nt(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function OQ(e,t){return Nd(jw(e),jw(t))}function jw(e){if(Ee(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Or(e,t){return e?[...new Set([].concat(e,t))]:t}function Nd(e,t){return e?nt(Object.create(null),e,t):t}function J4(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:nt(Object.create(null),zp(e),zp(t??{})):t}function IQ(e,t){if(!e)return t;if(!t)return e;const i=nt(Object.create(null),e);for(const r in t)i[r]=Or(e[r],t[r]);return i}function RL(){return{app:null,config:{isNativeTag:$d,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $Q=0;function CQ(e,t){return function(r,s=null){Fe(r)||(r=nt({},r)),s!=null&&!Mt(s)&&(s=null);const n=RL(),o=new WeakSet,a=[];let l=!1;const c=n.app={_uid:$Q++,_component:r,_props:s,_container:null,_context:n,_instance:null,version:z3,get config(){return n.config},set config(f){},use(f,...d){return o.has(f)||(f&&Fe(f.install)?(o.add(f),f.install(c,...d)):Fe(f)&&(o.add(f),f(c,...d))),c},mixin(f){return n.mixins.includes(f)||n.mixins.push(f),c},component(f,d){return d?(n.components[f]=d,c):n.components[f]},directive(f,d){return d?(n.directives[f]=d,c):n.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Ke(r,s);return y.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,f):e(y,f,p),l=!0,c._container=f,f.__vue_app__=c,Fm(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(_s(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,d){return n.provides[f]=d,c},runWithContext(f){const d=Oc;Oc=c;try{return f()}finally{Oc=d}}};return c}}let Oc=null;function C3(e,t){if(Gi){let i=Gi.provides;const r=Gi.parent&&Gi.parent.provides;r===i&&(i=Gi.provides=Object.create(r)),i[e]=t}}function Pi(e,t,i=!1){const r=Gi||zi;if(r||Oc){const s=Oc?Oc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return i&&Fe(t)?t.call(r&&r.proxy):t}}function N3(){return!!(Gi||zi||Oc)}const DL={},FL=()=>Object.create(DL),UL=e=>Object.getPrototypeOf(e)===DL;function NQ(e,t,i,r=!1){const s={},n=FL();e.propsDefaults=Object.create(null),jL(e,t,s,n);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);i?e.props=r?s:h3(s):e.type.props?e.props=s:e.props=n,e.attrs=n}function PQ(e,t,i,r){const{props:s,attrs:n,vnode:{patchFlag:o}}=e,a=Ge(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(Tv(e.emitsOptions,p))continue;const y=t[p];if(l)if(vt(n,p))y!==n[p]&&(n[p]=y,c=!0);else{const v=Vt(p);s[v]=Bw(l,a,v,y,e,!1)}else y!==n[p]&&(n[p]=y,c=!0)}}}else{jL(e,t,s,n)&&(c=!0);let f;for(const d in a)(!t||!vt(t,d)&&((f=Qr(d))===d||!vt(t,f)))&&(l?i&&(i[d]!==void 0||i[f]!==void 0)&&(s[d]=Bw(l,a,d,void 0,e,!0)):delete s[d]);if(n!==a)for(const d in n)(!t||!vt(t,d))&&(delete n[d],c=!0)}c&&Ko(e.attrs,"set","")}function jL(e,t,i,r){const[s,n]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ul(l))continue;const c=t[l];let f;s&&vt(s,f=Vt(l))?!n||!n.includes(f)?i[f]=c:(a||(a={}))[f]=c:Tv(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(n){const l=Ge(i),c=a||st;for(let f=0;f<n.length;f++){const d=n[f];i[d]=Bw(s,l,d,c[d],e,!vt(c,d))}}return o}function Bw(e,t,i,r,s,n){const o=e[i];if(o!=null){const a=vt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Fe(l)){const{propsDefaults:c}=s;if(i in c)r=c[i];else{const f=Jc(s);r=c[i]=l.call(null,t),f()}}else r=l;s.ce&&s.ce._setProp(i,r)}o[0]&&(n&&!a?r=!1:o[1]&&(r===""||r===Qr(i))&&(r=!0))}return r}const LQ=new WeakMap;function BL(e,t,i=!1){const r=i?LQ:t.propsCache,s=r.get(e);if(s)return s;const n=e.props,o={},a=[];let l=!1;if(!Fe(e)){const f=d=>{l=!0;const[p,y]=BL(d,t,!0);nt(o,p),y&&a.push(...y)};!i&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!n&&!l)return Mt(e)&&r.set(e,_h),_h;if(Ee(n))for(let f=0;f<n.length;f++){const d=Vt(n[f]);Z4(d)&&(o[d]=st)}else if(n)for(const f in n){const d=Vt(f);if(Z4(d)){const p=n[f],y=o[d]=Ee(p)||Fe(p)?{type:p}:nt({},p),v=y.type;let _=!1,E=!0;if(Ee(v))for(let S=0;S<v.length;++S){const A=v[S],w=Fe(A)&&A.name;if(w==="Boolean"){_=!0;break}else w==="String"&&(E=!1)}else _=Fe(v)&&v.name==="Boolean";y[0]=_,y[1]=E,(_||vt(y,"default"))&&a.push(d)}}const c=[o,a];return Mt(e)&&r.set(e,c),c}function Z4(e){return e[0]!=="$"&&!ul(e)}const VL=e=>e[0]==="_"||e==="$stable",P3=e=>Ee(e)?e.map(Zr):[Zr(e)],kQ=(e,t,i)=>{if(t._n)return t;const r=Ti((...s)=>P3(t(...s)),i);return r._c=!1,r},GL=(e,t,i)=>{const r=e._ctx;for(const s in e){if(VL(s))continue;const n=e[s];if(Fe(n))t[s]=kQ(s,n,r);else if(n!=null){const o=P3(n);t[s]=()=>o}}},zL=(e,t)=>{const i=P3(t);e.slots.default=()=>i},qL=(e,t,i)=>{for(const r in t)(i||r!=="_")&&(e[r]=t[r])},RQ=(e,t,i)=>{const r=e.slots=FL();if(e.vnode.shapeFlag&32){const s=t._;s?(qL(r,t,i),i&&yP(r,"_",s,!0)):GL(t,r)}else t&&zL(e,t)},DQ=(e,t,i)=>{const{vnode:r,slots:s}=e;let n=!0,o=st;if(r.shapeFlag&32){const a=t._;a?i&&a===1?n=!1:qL(s,t,i):(n=!t.$stable,GL(t,s)),o=t}else t&&(zL(e,t),o={default:1});if(n)for(const a in s)!VL(a)&&o[a]==null&&delete s[a]},ji=r8;function L3(e){return WL(e)}function k3(e){return WL(e,mQ)}function WL(e,t){const i=cv();i.__VUE__=!0;const{insert:r,remove:s,patchProp:n,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=or,insertStaticContent:v}=e,_=(B,D,H,oe=null,Q=null,ce=null,ye=void 0,L=null,k=!!D.dynamicChildren)=>{if(B===D)return;B&&!hn(B,D)&&(oe=Gt(B),le(B,Q,ce,!0),B=null),D.patchFlag===-2&&(k=!1,D.dynamicChildren=null);const{type:G,ref:ee,shapeFlag:se}=D;switch(G){case uo:E(B,D,H,oe);break;case _i:S(B,D,H,oe);break;case fl:B==null&&A(D,H,oe,ye);break;case It:F(B,D,H,oe,Q,ce,ye,L,k);break;default:se&1?M(B,D,H,oe,Q,ce,ye,L,k):se&6?q(B,D,H,oe,Q,ce,ye,L,k):(se&64||se&128)&&G.process(B,D,H,oe,Q,ce,ye,L,k,Rt)}ee!=null&&Q&&Gp(ee,B&&B.ref,ce,D||B,!D)},E=(B,D,H,oe)=>{if(B==null)r(D.el=a(D.children),H,oe);else{const Q=D.el=B.el;D.children!==B.children&&c(Q,D.children)}},S=(B,D,H,oe)=>{B==null?r(D.el=l(D.children||""),H,oe):D.el=B.el},A=(B,D,H,oe)=>{[B.el,B.anchor]=v(B.children,D,H,oe,B.el,B.anchor)},w=({el:B,anchor:D},H,oe)=>{let Q;for(;B&&B!==D;)Q=p(B),r(B,H,oe),B=Q;r(D,H,oe)},b=({el:B,anchor:D})=>{let H;for(;B&&B!==D;)H=p(B),s(B),B=H;s(D)},M=(B,D,H,oe,Q,ce,ye,L,k)=>{D.type==="svg"?ye="svg":D.type==="math"&&(ye="mathml"),B==null?O(D,H,oe,Q,ce,ye,L,k):N(B,D,Q,ce,ye,L,k)},O=(B,D,H,oe,Q,ce,ye,L)=>{let k,G;const{props:ee,shapeFlag:se,transition:ne,dirs:W}=B;if(k=B.el=o(B.type,ce,ee&&ee.is,ee),se&8?f(k,B.children):se&16&&P(B.children,k,null,oe,Q,Zb(B,ce),ye,L),W&&Xn(B,null,oe,"created"),C(k,B,B.scopeId,ye,oe),ee){for(const Te in ee)Te!=="value"&&!ul(Te)&&n(k,Te,null,ee[Te],ce,oe);"value"in ee&&n(k,"value",null,ee.value,ce),(G=ee.onVnodeBeforeMount)&&Yr(G,oe,B)}W&&Xn(B,null,oe,"beforeMount");const Z=HL(Q,ne);Z&&ne.beforeEnter(k),r(k,D,H),((G=ee&&ee.onVnodeMounted)||Z||W)&&ji(()=>{G&&Yr(G,oe,B),Z&&ne.enter(k),W&&Xn(B,null,oe,"mounted")},Q)},C=(B,D,H,oe,Q)=>{if(H&&y(B,H),oe)for(let ce=0;ce<oe.length;ce++)y(B,oe[ce]);if(Q){let ce=Q.subTree;if(D===ce||Ug(ce.type)&&(ce.ssContent===D||ce.ssFallback===D)){const ye=Q.vnode;C(B,ye,ye.scopeId,ye.slotScopeIds,Q.parent)}}},P=(B,D,H,oe,Q,ce,ye,L,k=0)=>{for(let G=k;G<B.length;G++){const ee=B[G]=L?Ya(B[G]):Zr(B[G]);_(null,ee,D,H,oe,Q,ce,ye,L)}},N=(B,D,H,oe,Q,ce,ye)=>{const L=D.el=B.el;let{patchFlag:k,dynamicChildren:G,dirs:ee}=D;k|=B.patchFlag&16;const se=B.props||st,ne=D.props||st;let W;if(H&&zl(H,!1),(W=ne.onVnodeBeforeUpdate)&&Yr(W,H,D,B),ee&&Xn(D,B,H,"beforeUpdate"),H&&zl(H,!0),(se.innerHTML&&ne.innerHTML==null||se.textContent&&ne.textContent==null)&&f(L,""),G?U(B.dynamicChildren,G,L,H,oe,Zb(D,Q),ce):ye||$(B,D,L,null,H,oe,Zb(D,Q),ce,!1),k>0){if(k&16)j(L,se,ne,H,Q);else if(k&2&&se.class!==ne.class&&n(L,"class",null,ne.class,Q),k&4&&n(L,"style",se.style,ne.style,Q),k&8){const Z=D.dynamicProps;for(let Te=0;Te<Z.length;Te++){const ke=Z[Te],Dt=se[ke],zt=ne[ke];(zt!==Dt||ke==="value")&&n(L,ke,Dt,zt,Q,H)}}k&1&&B.children!==D.children&&f(L,D.children)}else!ye&&G==null&&j(L,se,ne,H,Q);((W=ne.onVnodeUpdated)||ee)&&ji(()=>{W&&Yr(W,H,D,B),ee&&Xn(D,B,H,"updated")},oe)},U=(B,D,H,oe,Q,ce,ye)=>{for(let L=0;L<D.length;L++){const k=B[L],G=D[L],ee=k.el&&(k.type===It||!hn(k,G)||k.shapeFlag&70)?d(k.el):H;_(k,G,ee,null,oe,Q,ce,ye,!0)}},j=(B,D,H,oe,Q)=>{if(D!==H){if(D!==st)for(const ce in D)!ul(ce)&&!(ce in H)&&n(B,ce,D[ce],null,Q,oe);for(const ce in H){if(ul(ce))continue;const ye=H[ce],L=D[ce];ye!==L&&ce!=="value"&&n(B,ce,L,ye,Q,oe)}"value"in H&&n(B,"value",D.value,H.value,Q)}},F=(B,D,H,oe,Q,ce,ye,L,k)=>{const G=D.el=B?B.el:a(""),ee=D.anchor=B?B.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:W}=D;W&&(L=L?L.concat(W):W),B==null?(r(G,H,oe),r(ee,H,oe),P(D.children||[],H,ee,Q,ce,ye,L,k)):se>0&&se&64&&ne&&B.dynamicChildren?(U(B.dynamicChildren,ne,H,Q,ce,ye,L),(D.key!=null||Q&&D===Q.subTree)&&R3(B,D,!0)):$(B,D,H,ee,Q,ce,ye,L,k)},q=(B,D,H,oe,Q,ce,ye,L,k)=>{D.slotScopeIds=L,B==null?D.shapeFlag&512?Q.ctx.activate(D,H,oe,ye,k):te(D,H,oe,Q,ce,ye,k):h(B,D,k)},te=(B,D,H,oe,Q,ce,ye)=>{const L=B.component=c8(B,oe,Q);if(Rm(B)&&(L.ctx.renderer=Rt),h8(L,!1,ye),L.asyncDep){if(Q&&Q.registerDep(L,m,ye),!B.el){const k=L.subTree=Ke(_i);S(null,k,D,H)}}else m(L,B,D,H,Q,ce,ye)},h=(B,D,H)=>{const oe=D.component=B.component;if(zQ(B,D,H))if(oe.asyncDep&&!oe.asyncResolved){x(oe,D,H);return}else oe.next=D,oe.update();else D.el=B.el,oe.vnode=D},m=(B,D,H,oe,Q,ce,ye)=>{const L=()=>{if(B.isMounted){let{next:se,bu:ne,u:W,parent:Z,vnode:Te}=B;{const Ri=YL(B);if(Ri){se&&(se.el=Te.el,x(B,se,ye)),Ri.asyncDep.then(()=>{B.isUnmounted||L()});return}}let ke=se,Dt;zl(B,!1),se?(se.el=Te.el,x(B,se,ye)):se=Te,ne&&xh(ne),(Dt=se.props&&se.props.onVnodeBeforeUpdate)&&Yr(Dt,Z,se,Te),zl(B,!0);const zt=Ny(B),ai=B.subTree;B.subTree=zt,_(ai,zt,d(ai.el),Gt(ai),B,Q,ce),se.el=zt.el,ke===null&&Av(B,zt.el),W&&ji(W,Q),(Dt=se.props&&se.props.onVnodeUpdated)&&ji(()=>Yr(Dt,Z,se,Te),Q)}else{let se;const{el:ne,props:W}=D,{bm:Z,m:Te,parent:ke,root:Dt,type:zt}=B,ai=hl(D);if(zl(B,!1),Z&&xh(Z),!ai&&(se=W&&W.onVnodeBeforeMount)&&Yr(se,ke,D),zl(B,!0),ne&&Ji){const Ri=()=>{B.subTree=Ny(B),Ji(ne,B.subTree,B,Q,null)};ai&&zt.__asyncHydrate?zt.__asyncHydrate(ne,B,Ri):Ri()}else{Dt.ce&&Dt.ce._injectChildStyle(zt);const Ri=B.subTree=Ny(B);_(null,Ri,H,oe,B,Q,ce),D.el=Ri.el}if(Te&&ji(Te,Q),!ai&&(se=W&&W.onVnodeMounted)){const Ri=D;ji(()=>Yr(se,ke,Ri),Q)}(D.shapeFlag&256||ke&&hl(ke.vnode)&&ke.vnode.shapeFlag&256)&&B.a&&ji(B.a,Q),B.isMounted=!0,D=H=oe=null}};B.scope.on();const k=B.effect=new Bh(L);B.scope.off();const G=B.update=k.run.bind(k),ee=B.job=k.runIfDirty.bind(k);ee.i=B,ee.id=B.uid,k.scheduler=()=>m3(ee),zl(B,!0),G()},x=(B,D,H)=>{D.component=B;const oe=B.vnode.props;B.vnode=D,B.next=null,PQ(B,D.props,oe,H),DQ(B,D.children,H),Ol(),U4(B),Il()},$=(B,D,H,oe,Q,ce,ye,L,k=!1)=>{const G=B&&B.children,ee=B?B.shapeFlag:0,se=D.children,{patchFlag:ne,shapeFlag:W}=D;if(ne>0){if(ne&128){Y(G,se,H,oe,Q,ce,ye,L,k);return}else if(ne&256){V(G,se,H,oe,Q,ce,ye,L,k);return}}W&8?(ee&16&&at(G,Q,ce),se!==G&&f(H,se)):ee&16?W&16?Y(G,se,H,oe,Q,ce,ye,L,k):at(G,Q,ce,!0):(ee&8&&f(H,""),W&16&&P(se,H,oe,Q,ce,ye,L,k))},V=(B,D,H,oe,Q,ce,ye,L,k)=>{B=B||_h,D=D||_h;const G=B.length,ee=D.length,se=Math.min(G,ee);let ne;for(ne=0;ne<se;ne++){const W=D[ne]=k?Ya(D[ne]):Zr(D[ne]);_(B[ne],W,H,null,Q,ce,ye,L,k)}G>ee?at(B,Q,ce,!0,!1,se):P(D,H,oe,Q,ce,ye,L,k,se)},Y=(B,D,H,oe,Q,ce,ye,L,k)=>{let G=0;const ee=D.length;let se=B.length-1,ne=ee-1;for(;G<=se&&G<=ne;){const W=B[G],Z=D[G]=k?Ya(D[G]):Zr(D[G]);if(hn(W,Z))_(W,Z,H,null,Q,ce,ye,L,k);else break;G++}for(;G<=se&&G<=ne;){const W=B[se],Z=D[ne]=k?Ya(D[ne]):Zr(D[ne]);if(hn(W,Z))_(W,Z,H,null,Q,ce,ye,L,k);else break;se--,ne--}if(G>se){if(G<=ne){const W=ne+1,Z=W<ee?D[W].el:oe;for(;G<=ne;)_(null,D[G]=k?Ya(D[G]):Zr(D[G]),H,Z,Q,ce,ye,L,k),G++}}else if(G>ne)for(;G<=se;)le(B[G],Q,ce,!0),G++;else{const W=G,Z=G,Te=new Map;for(G=Z;G<=ne;G++){const Ie=D[G]=k?Ya(D[G]):Zr(D[G]);Ie.key!=null&&Te.set(Ie.key,G)}let ke,Dt=0;const zt=ne-Z+1;let ai=!1,Ri=0;const K=new Array(zt);for(G=0;G<zt;G++)K[G]=0;for(G=W;G<=se;G++){const Ie=B[G];if(Dt>=zt){le(Ie,Q,ce,!0);continue}let He;if(Ie.key!=null)He=Te.get(Ie.key);else for(ke=Z;ke<=ne;ke++)if(K[ke-Z]===0&&hn(Ie,D[ke])){He=ke;break}He===void 0?le(Ie,Q,ce,!0):(K[He-Z]=G+1,He>=Ri?Ri=He:ai=!0,_(Ie,D[He],H,null,Q,ce,ye,L,k),Dt++)}const Ae=ai?FQ(K):_h;for(ke=Ae.length-1,G=zt-1;G>=0;G--){const Ie=Z+G,He=D[Ie],Xe=Ie+1<ee?D[Ie+1].el:oe;K[G]===0?_(null,He,H,Xe,Q,ce,ye,L,k):ai&&(ke<0||G!==Ae[ke]?pe(He,H,Xe,2):ke--)}}},pe=(B,D,H,oe,Q=null)=>{const{el:ce,type:ye,transition:L,children:k,shapeFlag:G}=B;if(G&6){pe(B.component.subTree,D,H,oe);return}if(G&128){B.suspense.move(D,H,oe);return}if(G&64){ye.move(B,D,H,Rt);return}if(ye===It){r(ce,D,H);for(let se=0;se<k.length;se++)pe(k[se],D,H,oe);r(B.anchor,D,H);return}if(ye===fl){w(B,D,H);return}if(oe!==2&&G&1&&L)if(oe===0)L.beforeEnter(ce),r(ce,D,H),ji(()=>L.enter(ce),Q);else{const{leave:se,delayLeave:ne,afterLeave:W}=L,Z=()=>r(ce,D,H),Te=()=>{se(ce,()=>{Z(),W&&W()})};ne?ne(ce,Z,Te):Te()}else r(ce,D,H)},le=(B,D,H,oe=!1,Q=!1)=>{const{type:ce,props:ye,ref:L,children:k,dynamicChildren:G,shapeFlag:ee,patchFlag:se,dirs:ne,cacheIndex:W}=B;if(se===-2&&(Q=!1),L!=null&&Gp(L,null,H,B,!0),W!=null&&(D.renderCache[W]=void 0),ee&256){D.ctx.deactivate(B);return}const Z=ee&1&&ne,Te=!hl(B);let ke;if(Te&&(ke=ye&&ye.onVnodeBeforeUnmount)&&Yr(ke,D,B),ee&6)ze(B.component,H,oe);else{if(ee&128){B.suspense.unmount(H,oe);return}Z&&Xn(B,null,D,"beforeUnmount"),ee&64?B.type.remove(B,D,H,Rt,oe):G&&!G.hasOnce&&(ce!==It||se>0&&se&64)?at(G,D,H,!1,!0):(ce===It&&se&384||!Q&&ee&16)&&at(k,D,H),oe&&Me(B)}(Te&&(ke=ye&&ye.onVnodeUnmounted)||Z)&&ji(()=>{ke&&Yr(ke,D,B),Z&&Xn(B,null,D,"unmounted")},H)},Me=B=>{const{type:D,el:H,anchor:oe,transition:Q}=B;if(D===It){je(H,oe);return}if(D===fl){b(B);return}const ce=()=>{s(H),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(B.shapeFlag&1&&Q&&!Q.persisted){const{leave:ye,delayLeave:L}=Q,k=()=>ye(H,ce);L?L(B.el,ce,k):k()}else ce()},je=(B,D)=>{let H;for(;B!==D;)H=p(B),s(B),B=H;s(D)},ze=(B,D,H)=>{const{bum:oe,scope:Q,job:ce,subTree:ye,um:L,m:k,a:G}=B;Fg(k),Fg(G),oe&&xh(oe),Q.stop(),ce&&(ce.flags|=8,le(ye,B,D,H)),L&&ji(L,D),ji(()=>{B.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},at=(B,D,H,oe=!1,Q=!1,ce=0)=>{for(let ye=ce;ye<B.length;ye++)le(B[ye],D,H,oe,Q)},Gt=B=>{if(B.shapeFlag&6)return Gt(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const D=p(B.anchor||B.el),H=D&&D[sL];return H?p(H):D};let At=!1;const pi=(B,D,H)=>{B==null?D._vnode&&le(D._vnode,null,null,!0):_(D._vnode||null,B,D,null,null,null,H),D._vnode=B,At||(At=!0,U4(),kg(),At=!1)},Rt={p:_,um:le,m:pe,r:Me,mt:te,mc:P,pc:$,pbc:U,n:Gt,o:e};let ri,Ji;return t&&([ri,Ji]=t(Rt)),{render:pi,hydrate:ri,createApp:CQ(pi,ri)}}function Zb({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function zl({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function HL(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function R3(e,t,i=!1){const r=e.children,s=t.children;if(Ee(r)&&Ee(s))for(let n=0;n<r.length;n++){const o=r[n];let a=s[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[n]=Ya(s[n]),a.el=o.el),!i&&a.patchFlag!==-2&&R3(o,a)),a.type===uo&&(a.el=o.el)}}function FQ(e){const t=e.slice(),i=[0];let r,s,n,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=i[i.length-1],e[s]<c){t[r]=s,i.push(r);continue}for(n=0,o=i.length-1;n<o;)a=n+o>>1,e[i[a]]<c?n=a+1:o=a;c<e[i[n]]&&(n>0&&(t[r]=i[n-1]),i[n]=r)}}for(n=i.length,o=i[n-1];n-- >0;)i[n]=o,o=t[o];return i}function YL(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:YL(t)}function Fg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const D3=Symbol.for("v-scx"),F3=()=>Pi(D3);function JL(e,t){return Dm(e,null,t)}function ZL(e,t){return Dm(e,null,{flush:"post"})}function U3(e,t){return Dm(e,null,{flush:"sync"})}function Wi(e,t,i){return Dm(e,t,i)}function Dm(e,t,i=st){const{immediate:r,deep:s,flush:n,once:o}=i,a=nt({},i),l=t&&r||!t&&n!=="post";let c;if(Gh){if(n==="sync"){const y=F3();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=or,y.resume=or,y.pause=or,y}}const f=Gi;a.call=(y,v,_)=>_s(y,f,v,_);let d=!1;n==="post"?a.scheduler=y=>{ji(y,f&&f.suspense)}:n!=="sync"&&(d=!0,a.scheduler=(y,v)=>{v?y():m3(y)}),a.augmentJob=y=>{t&&(y.flags|=4),d&&(y.flags|=2,f&&(y.id=f.uid,y.i=f))};const p=nQ(e,t,a);return Gh&&(c?c.push(p):l&&p()),p}function UQ(e,t,i){const r=this.proxy,s=Je(e)?e.includes(".")?KL(r,e):()=>r[e]:e.bind(r,r);let n;Fe(t)?n=t:(n=t.handler,i=t);const o=Jc(this),a=Dm(s,n.bind(r),i);return o(),a}function KL(e,t){const i=t.split(".");return()=>{let r=e;for(let s=0;s<i.length&&r;s++)r=r[i[s]];return r}}function XL(e,t,i=st){const r=Li(),s=Vt(t),n=Qr(t),o=QL(e,s),a=f3((l,c)=>{let f,d=st,p;return U3(()=>{const y=e[s];kr(f,y)&&(f=y,c())}),{get(){return l(),i.get?i.get(f):f},set(y){const v=i.set?i.set(y):y;if(!kr(v,f)&&!(d!==st&&kr(y,d)))return;const _=r.vnode.props;_&&(t in _||s in _||n in _)&&(`onUpdate:${t}`in _||`onUpdate:${s}`in _||`onUpdate:${n}`in _)||(f=y,c()),r.emit(`update:${t}`,v),kr(y,v)&&kr(y,d)&&!kr(v,p)&&c(),d=y,p=v}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||st:a,done:!1}:{done:!0}}}},a}const QL=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Vt(t)}Modifiers`]||e[`${Qr(t)}Modifiers`];function jQ(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||st;let s=i;const n=t.startsWith("update:"),o=n&&QL(r,t.slice(7));o&&(o.trim&&(s=i.map(f=>Je(f)?f.trim():f)),o.number&&(s=i.map($g)));let a,l=r[a=Ac(t)]||r[a=Ac(Vt(t))];!l&&n&&(l=r[a=Ac(Qr(t))]),l&&_s(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,_s(c,e,6,s)}}function e8(e,t,i=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const n=e.emits;let o={},a=!1;if(!Fe(e)){const l=c=>{const f=e8(c,t,!0);f&&(a=!0,nt(o,f))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(Mt(e)&&r.set(e,null),null):(Ee(n)?n.forEach(l=>o[l]=null):nt(o,n),Mt(e)&&r.set(e,o),o)}function Tv(e,t){return!e||!uu(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,Qr(t))||vt(e,t))}function Ny(e){const{type:t,vnode:i,proxy:r,withProxy:s,propsOptions:[n],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:v,inheritAttrs:_}=e,E=Vp(e);let S,A;try{if(i.shapeFlag&4){const b=s||r,M=b;S=Zr(c.call(M,b,f,d,y,p,v)),A=a}else{const b=t;S=Zr(b.length>1?b(d,{attrs:a,slots:o,emit:l}):b(d,null)),A=t.props?a:VQ(a)}}catch(b){Qd.length=0,$l(b,e,1),S=Ke(_i)}let w=S;if(A&&_!==!1){const b=Object.keys(A),{shapeFlag:M}=w;b.length&&M&7&&(n&&b.some(r3)&&(A=GQ(A,n)),w=$n(w,A,!1,!0))}return i.dirs&&(w=$n(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(i.dirs):i.dirs),i.transition&&wo(w,i.transition),S=w,Vp(E),S}function BQ(e,t=!0){let i;for(let r=0;r<e.length;r++){const s=e[r];if(In(s)){if(s.type!==_i||s.children==="v-if"){if(i)return;i=s}}else return}return i}const VQ=e=>{let t;for(const i in e)(i==="class"||i==="style"||uu(i))&&((t||(t={}))[i]=e[i]);return t},GQ=(e,t)=>{const i={};for(const r in e)(!r3(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function zQ(e,t,i){const{props:r,children:s,component:n}=e,{props:o,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?K4(r,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==r[p]&&!Tv(c,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?K4(r,o,c):!0:!!o;return!1}function K4(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const n=r[s];if(t[n]!==e[n]&&!Tv(i,n))return!0}return!1}function Av({vnode:e,parent:t},i){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=i,t=t.parent;else break}}const Ug=e=>e.__isSuspense;let Vw=0;const qQ={name:"Suspense",__isSuspense:!0,process(e,t,i,r,s,n,o,a,l,c){if(e==null)WQ(t,i,r,s,n,o,a,l,c);else{if(n&&n.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}HQ(e,t,i,r,s,o,a,l,c)}},hydrate:YQ,normalize:JQ},t8=qQ;function qp(e,t){const i=e.props&&e.props[t];Fe(i)&&i()}function WQ(e,t,i,r,s,n,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=e.suspense=i8(e,s,r,t,d,i,n,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,r,p,n,o),p.deps>0?(qp(e,"onPending"),qp(e,"onFallback"),c(null,e.ssFallback,t,i,r,null,n,o),Eh(p,e.ssFallback)):p.resolve(!1,!0)}function HQ(e,t,i,r,s,n,o,a,{p:l,um:c,o:{createElement:f}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:v,pendingBranch:_,isInFallback:E,isHydrating:S}=d;if(_)d.pendingBranch=p,hn(p,_)?(l(_,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():E&&(S||(l(v,y,i,r,s,null,n,o,a),Eh(d,y)))):(d.pendingId=Vw++,S?(d.isHydrating=!1,d.activeBranch=_):c(_,s,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),E?(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0?d.resolve():(l(v,y,i,r,s,null,n,o,a),Eh(d,y))):v&&hn(p,v)?(l(v,p,i,r,s,d,n,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0&&d.resolve()));else if(v&&hn(p,v))l(v,p,i,r,s,d,n,o,a),Eh(d,p);else if(qp(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Vw++,l(null,p,d.hiddenContainer,null,s,d,n,o,a),d.deps<=0)d.resolve();else{const{timeout:A,pendingId:w}=d;A>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},A):A===0&&d.fallback(y)}}function i8(e,t,i,r,s,n,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:v,o:{parentNode:_,remove:E}}=c;let S;const A=ZQ(e);A&&t&&t.pendingBranch&&(S=t.pendingId,t.deps++);const w=e.props?Cg(e.props.timeout):void 0,b=n,M={vnode:e,parent:t,parentComponent:i,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Vw++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(O=!1,C=!1){const{vnode:P,activeBranch:N,pendingBranch:U,pendingId:j,effects:F,parentComponent:q,container:te}=M;let h=!1;M.isHydrating?M.isHydrating=!1:O||(h=N&&U.transition&&U.transition.mode==="out-in",h&&(N.transition.afterLeave=()=>{j===M.pendingId&&(p(U,te,n===b?v(N):n,0),Vh(F))}),N&&(_(N.el)===te&&(n=v(N)),y(N,q,M,!0)),h||p(U,te,n,0)),Eh(M,U),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,x=!1;for(;m;){if(m.pendingBranch){m.effects.push(...F),x=!0;break}m=m.parent}!x&&!h&&Vh(F),M.effects=[],A&&t&&t.pendingBranch&&S===t.pendingId&&(t.deps--,t.deps===0&&!C&&t.resolve()),qp(P,"onResolve")},fallback(O){if(!M.pendingBranch)return;const{vnode:C,activeBranch:P,parentComponent:N,container:U,namespace:j}=M;qp(C,"onFallback");const F=v(P),q=()=>{M.isInFallback&&(d(null,O,U,F,N,null,j,a,l),Eh(M,O))},te=O.transition&&O.transition.mode==="out-in";te&&(P.transition.afterLeave=q),M.isInFallback=!0,y(P,N,null,!0),te||q()},move(O,C,P){M.activeBranch&&p(M.activeBranch,O,C,P),M.container=O},next(){return M.activeBranch&&v(M.activeBranch)},registerDep(O,C,P){const N=!!M.pendingBranch;N&&M.deps++;const U=O.vnode.el;O.asyncDep.catch(j=>{$l(j,O,0)}).then(j=>{if(O.isUnmounted||M.isUnmounted||M.pendingId!==O.suspenseId)return;O.asyncResolved=!0;const{vnode:F}=O;qw(O,j,!1),U&&(F.el=U);const q=!U&&O.subTree.el;C(O,F,_(U||O.subTree.el),U?null:v(O.subTree),M,o,P),q&&E(q),Av(O,F.el),N&&--M.deps===0&&M.resolve()})},unmount(O,C){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,i,O,C),M.pendingBranch&&y(M.pendingBranch,i,O,C)}};return M}function YQ(e,t,i,r,s,n,o,a,l){const c=t.suspense=i8(t,r,i,e.parentNode,document.createElement("div"),null,s,n,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,i,c,n,o);return c.deps===0&&c.resolve(!1,!0),f}function JQ(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=X4(r?i.default:i),e.ssFallback=r?X4(i.fallback):Ke(_i)}function X4(e){let t;if(Fe(e)){const i=Yc&&e._c;i&&(e._d=!1,fe()),e=e(),i&&(e._d=!0,t=Sr,s8())}return Ee(e)&&(e=BQ(e)),e=Zr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function r8(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Vh(e)}function Eh(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;i.el=s,r&&r.subTree===i&&(r.vnode.el=s,Av(r,s))}function ZQ(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const It=Symbol.for("v-fgt"),uo=Symbol.for("v-txt"),_i=Symbol.for("v-cmt"),fl=Symbol.for("v-stc"),Qd=[];let Sr=null;function fe(e=!1){Qd.push(Sr=e?null:[])}function s8(){Qd.pop(),Sr=Qd[Qd.length-1]||null}let Yc=1;function jg(e,t=!1){Yc+=e,e<0&&Sr&&t&&(Sr.hasOnce=!0)}function n8(e){return e.dynamicChildren=Yc>0?Sr||_h:null,s8(),Yc>0&&Sr&&Sr.push(e),e}function we(e,t,i,r,s,n){return n8(ue(e,t,i,r,s,n,!0))}function Bt(e,t,i,r,s){return n8(Ke(e,t,i,r,s,!0))}function In(e){return e?e.__v_isVNode===!0:!1}function hn(e,t){return e.type===t.type&&e.key===t.key}function o8(e){}const a8=({key:e})=>e??null,Py=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||ht(e)||Fe(e)?{i:zi,r:e,k:t,f:!!i}:e:null);function ue(e,t=null,i=null,r=0,s=null,n=e===It?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&a8(t),ref:t&&Py(t),scopeId:bv,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:zi};return a?(B3(l,i),n&128&&e.normalize(l)):i&&(l.shapeFlag|=Je(i)?8:16),Yc>0&&!o&&Sr&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&Sr.push(l),l}const Ke=KQ;function KQ(e,t=null,i=null,r=0,s=null,n=!1){if((!e||e===vL)&&(e=_i),In(e)){const a=$n(e,t,!0);return i&&B3(a,i),Yc>0&&!n&&Sr&&(a.shapeFlag&6?Sr[Sr.indexOf(e)]=a:Sr.push(a)),a.patchFlag=-2,a}if(iee(e)&&(e=e.__vccOpts),t){t=j3(t);let{class:a,style:l}=t;a&&!Je(a)&&(t.class=di(a)),Mt(l)&&(Lm(l)&&!Ee(l)&&(l=nt({},l)),t.style=Ml(l))}const o=Je(e)?1:Ug(e)?128:nL(e)?64:Mt(e)?4:Fe(e)?2:0;return ue(e,t,i,r,s,o,n,!0)}function j3(e){return e?Lm(e)||UL(e)?nt({},e):e:null}function $n(e,t,i=!1,r=!1){const{props:s,ref:n,patchFlag:o,children:a,transition:l}=e,c=t?Mv(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&a8(c),ref:t&&t.ref?i&&n?Ee(n)?n.concat(Py(t)):[n,Py(t)]:Py(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==It?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$n(e.ssContent),ssFallback:e.ssFallback&&$n(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&wo(f,l.clone(f)),f}function ho(e=" ",t=0){return Ke(uo,null,e,t)}function l8(e,t){const i=Ke(fl,null,e);return i.staticCount=t,i}function Wt(e="",t=!1){return t?(fe(),Bt(_i,null,e)):Ke(_i,null,e)}function Zr(e){return e==null||typeof e=="boolean"?Ke(_i):Ee(e)?Ke(It,null,e.slice()):In(e)?Ya(e):Ke(uo,null,String(e))}function Ya(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$n(e)}function B3(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ee(t))i=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),B3(e,s()),s._c&&(s._d=!0));return}else{i=32;const s=t._;!s&&!UL(t)?t._ctx=zi:s===3&&zi&&(zi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:zi},i=32):(t=String(t),r&64?(i=16,t=[ho(t)]):i=8);e.children=t,e.shapeFlag|=i}function Mv(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=di([t.class,r.class]));else if(s==="style")t.style=Ml([t.style,r.style]);else if(uu(s)){const n=t[s],o=r[s];o&&n!==o&&!(Ee(n)&&n.includes(o))&&(t[s]=n?[].concat(n,o):o)}else s!==""&&(t[s]=r[s])}return t}function Yr(e,t,i,r=null){_s(e,t,7,[i,r])}const XQ=RL();let QQ=0;function c8(e,t,i){const r=e.type,s=(t?t.appContext:e.appContext)||XQ,n={uid:QQ++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:BL(r,s),emitsOptions:e8(r,s),emit:null,emitted:null,propsDefaults:st,inheritAttrs:r.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=jQ.bind(null,n),e.ce&&e.ce(n),n}let Gi=null;const Li=()=>Gi||zi;let Bg,Gw;{const e=cv(),t=(i,r)=>{let s;return(s=e[i])||(s=e[i]=[]),s.push(r),n=>{s.length>1?s.forEach(o=>o(n)):s[0](n)}};Bg=t("__VUE_INSTANCE_SETTERS__",i=>Gi=i),Gw=t("__VUE_SSR_SETTERS__",i=>Gh=i)}const Jc=e=>{const t=Gi;return Bg(e),e.scope.on(),()=>{e.scope.off(),Bg(t)}},zw=()=>{Gi&&Gi.scope.off(),Bg(null)};function u8(e){return e.vnode.shapeFlag&4}let Gh=!1;function h8(e,t=!1,i=!1){t&&Gw(t);const{props:r,children:s}=e.vnode,n=u8(e);NQ(e,r,n,t),RQ(e,s,i);const o=n?eee(e,t):void 0;return t&&Gw(!1),o}function eee(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Fw);const{setup:r}=i;if(r){Ol();const s=e.setupContext=r.length>1?p8(e):null,n=Jc(e),o=fu(r,e,0,[e.props,s]),a=n3(o);if(Il(),n(),(a||e.sp)&&!hl(e)&&v3(e),a){if(o.then(zw,zw),t)return o.then(l=>{qw(e,l,t)}).catch(l=>{$l(l,e,0)});e.asyncDep=o}else qw(e,o,t)}else d8(e,t)}function qw(e,t,i){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Mt(t)&&(e.setupState=vv(t)),d8(e,i)}let Vg,Ww;function V3(e){Vg=e,Ww=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,EQ))}}const f8=()=>!Vg;function d8(e,t,i){const r=e.type;if(!e.render){if(!t&&Vg&&!r.render){const s=r.template||$3(e).template;if(s){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=nt(nt({isCustomElement:n,delimiters:a},o),l);r.render=Vg(s,c)}}e.render=r.render||or,Ww&&Ww(e)}{const s=Jc(e);Ol();try{TQ(e)}finally{Il(),s()}}}const tee={get(e,t){return vr(e,"get",""),e[t]}};function p8(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,tee),slots:e.slots,emit:e.emit,expose:t}}function Fm(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(vv(Si(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Xd)return Xd[i](e)},has(t,i){return i in t||i in Xd}})):e.proxy}function Hw(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function iee(e){return Fe(e)&&"__vccOpts"in e}const tt=(e,t)=>sQ(e,t,Gh);function Bs(e,t,i){const r=arguments.length;return r===2?Mt(t)&&!Ee(t)?In(t)?Ke(e,null,[t]):Ke(e,t):Ke(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&In(i)&&(i=[i]),Ke(e,t,i))}function m8(){}function y8(e,t,i,r){const s=i[r];if(s&&G3(s,e))return s;const n=t();return n.memo=e.slice(),n.cacheIndex=r,i[r]=n}function G3(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(kr(i[r],t[r]))return!1;return Yc>0&&Sr&&Sr.push(e),!0}const z3="3.5.13",g8=or,v8=lQ,b8=zu,_8=eL,ree={createComponentInstance:c8,setupComponent:h8,renderComponentRoot:Ny,setCurrentRenderingInstance:Vp,isVNode:In,normalizeVNode:Zr,getComponentPublicInstance:Fm,ensureValidVNode:I3,pushWarningContext:oQ,popWarningContext:aQ},w8=ree,x8=null,S8=null,E8=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yw;const Q4=typeof window<"u"&&window.trustedTypes;if(Q4)try{Yw=Q4.createPolicy("vue",{createHTML:e=>e})}catch{}const T8=Yw?e=>Yw.createHTML(e):e=>e,see="http://www.w3.org/2000/svg",nee="http://www.w3.org/1998/Math/MathML",qo=typeof document<"u"?document:null,eM=qo&&qo.createElement("template"),oee={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const s=t==="svg"?qo.createElementNS(see,e):t==="mathml"?qo.createElementNS(nee,e):i?qo.createElement(e,{is:i}):qo.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>qo.createTextNode(e),createComment:e=>qo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,s,n){const o=i?i.previousSibling:t.lastChild;if(s&&(s===n||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),!(s===n||!(s=s.nextSibling)););else{eM.innerHTML=T8(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=eM.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},xa="transition",Wf="animation",zh=Symbol("_vtc"),A8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},M8=nt({},wv,A8),aee=e=>(e.displayName="Transition",e.props=M8,e),Ov=aee((e,{slots:t})=>Bs(g3,O8(e),t)),ql=(e,t=[])=>{Ee(e)?e.forEach(i=>i(...t)):e&&e(...t)},tM=e=>e?Ee(e)?e.some(t=>t.length>1):e.length>1:!1;function O8(e){const t={};for(const F in e)F in A8||(t[F]=e[F]);if(e.css===!1)return t;const{name:i="v",type:r,duration:s,enterFromClass:n=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=n,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:y=`${i}-leave-to`}=e,v=lee(s),_=v&&v[0],E=v&&v[1],{onBeforeEnter:S,onEnter:A,onEnterCancelled:w,onLeave:b,onLeaveCancelled:M,onBeforeAppear:O=S,onAppear:C=A,onAppearCancelled:P=w}=t,N=(F,q,te,h)=>{F._enterCancelled=h,Fa(F,q?f:a),Fa(F,q?c:o),te&&te()},U=(F,q)=>{F._isLeaving=!1,Fa(F,d),Fa(F,y),Fa(F,p),q&&q()},j=F=>(q,te)=>{const h=F?C:A,m=()=>N(q,F,te);ql(h,[q,m]),iM(()=>{Fa(q,F?l:n),Hn(q,F?f:a),tM(h)||rM(q,r,_,m)})};return nt(t,{onBeforeEnter(F){ql(S,[F]),Hn(F,n),Hn(F,o)},onBeforeAppear(F){ql(O,[F]),Hn(F,l),Hn(F,c)},onEnter:j(!1),onAppear:j(!0),onLeave(F,q){F._isLeaving=!0;const te=()=>U(F,q);Hn(F,d),F._enterCancelled?(Hn(F,p),Jw()):(Jw(),Hn(F,p)),iM(()=>{F._isLeaving&&(Fa(F,d),Hn(F,y),tM(b)||rM(F,r,E,te))}),ql(b,[F,te])},onEnterCancelled(F){N(F,!1,void 0,!0),ql(w,[F])},onAppearCancelled(F){N(F,!0,void 0,!0),ql(P,[F])},onLeaveCancelled(F){U(F),ql(M,[F])}})}function lee(e){if(e==null)return null;if(Mt(e))return[Kb(e.enter),Kb(e.leave)];{const t=Kb(e);return[t,t]}}function Kb(e){return Cg(e)}function Hn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[zh]||(e[zh]=new Set)).add(t)}function Fa(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const i=e[zh];i&&(i.delete(t),i.size||(e[zh]=void 0))}function iM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let cee=0;function rM(e,t,i,r){const s=e._endId=++cee,n=()=>{s===e._endId&&r()};if(i!=null)return setTimeout(n,i);const{type:o,timeout:a,propCount:l}=I8(e,t);if(!o)return r();const c=o+"end";let f=0;const d=()=>{e.removeEventListener(c,p),n()},p=y=>{y.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),e.addEventListener(c,p)}function I8(e,t){const i=window.getComputedStyle(e),r=v=>(i[v]||"").split(", "),s=r(`${xa}Delay`),n=r(`${xa}Duration`),o=sM(s,n),a=r(`${Wf}Delay`),l=r(`${Wf}Duration`),c=sM(a,l);let f=null,d=0,p=0;t===xa?o>0&&(f=xa,d=o,p=n.length):t===Wf?c>0&&(f=Wf,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?xa:Wf:null,p=f?f===xa?n.length:l.length:0);const y=f===xa&&/\b(transform|all)(,|$)/.test(r(`${xa}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function sM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>nM(i)+nM(e[r])))}function nM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Jw(){return document.body.offsetHeight}function uee(e,t,i){const r=e[zh];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Gg=Symbol("_vod"),$8=Symbol("_vsh"),Iv={beforeMount(e,{value:t},{transition:i}){e[Gg]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):Hf(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),Hf(e,!0),r.enter(e)):r.leave(e,()=>{Hf(e,!1)}):Hf(e,t))},beforeUnmount(e,{value:t}){Hf(e,t)}};function Hf(e,t){e.style.display=t?e[Gg]:"none",e[$8]=!t}function hee(){Iv.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const C8=Symbol("");function N8(e){const t=Li();if(!t)return;const i=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(n=>zg(n,s))},r=()=>{const s=e(t.proxy);t.ce?zg(t.ce,s):Zw(t.subTree,s),i(s)};Ev(()=>{Vh(r)}),lr(()=>{Wi(r,or,{flush:"post"});const s=new MutationObserver(r);s.observe(t.subTree.el.parentNode,{childList:!0}),du(()=>s.disconnect())})}function Zw(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{Zw(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)zg(e.el,t);else if(e.type===It)e.children.forEach(i=>Zw(i,t));else if(e.type===fl){let{el:i,anchor:r}=e;for(;i&&(zg(i,t),i!==r);)i=i.nextSibling}}function zg(e,t){if(e.nodeType===1){const i=e.style;let r="";for(const s in t)i.setProperty(`--${s}`,t[s]),r+=`--${s}: ${t[s]};`;i[C8]=r}}const fee=/(^|;)\s*display\s*:/;function dee(e,t,i){const r=e.style,s=Je(i);let n=!1;if(i&&!s){if(t)if(Je(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&Ly(r,a,"")}else for(const o in t)i[o]==null&&Ly(r,o,"");for(const o in i)o==="display"&&(n=!0),Ly(r,o,i[o])}else if(s){if(t!==i){const o=r[C8];o&&(i+=";"+o),r.cssText=i,n=fee.test(i)}}else t&&e.removeAttribute("style");Gg in e&&(e[Gg]=n?r.display:"",e[$8]&&(r.display="none"))}const oM=/\s*!important$/;function Ly(e,t,i){if(Ee(i))i.forEach(r=>Ly(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=pee(e,t);oM.test(i)?e.setProperty(Qr(r),i.replace(oM,""),"important"):e[r]=i}}const aM=["Webkit","Moz","ms"],Xb={};function pee(e,t){const i=Xb[t];if(i)return i;let r=Vt(t);if(r!=="filter"&&r in e)return Xb[t]=r;r=Al(r);for(let s=0;s<aM.length;s++){const n=aM[s]+r;if(n in e)return Xb[t]=n}return t}const lM="http://www.w3.org/1999/xlink";function cM(e,t,i,r,s,n=CX(t)){r&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(lM,t.slice(6,t.length)):e.setAttributeNS(lM,t,i):i==null||n&&!bP(i)?e.removeAttribute(t):e.setAttribute(t,n?"":ls(i)?String(i):i)}function uM(e,t,i,r,s){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?T8(i):i);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?e.getAttribute("value")||"":e.value,l=i==null?e.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in e))&&(e.value=l),i==null&&e.removeAttribute(t),e._value=i;return}let o=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=bP(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{e[t]=i}catch{}o&&e.removeAttribute(s||t)}function Qo(e,t,i,r){e.addEventListener(t,i,r)}function mee(e,t,i,r){e.removeEventListener(t,i,r)}const hM=Symbol("_vei");function yee(e,t,i,r,s=null){const n=e[hM]||(e[hM]={}),o=n[t];if(r&&o)o.value=r;else{const[a,l]=gee(t);if(r){const c=n[t]=_ee(r,s);Qo(e,a,c,l)}else o&&(mee(e,a,o,l),n[t]=void 0)}}const fM=/(?:Once|Passive|Capture)$/;function gee(e){let t;if(fM.test(e)){t={};let r;for(;r=e.match(fM);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qr(e.slice(2)),t]}let Qb=0;const vee=Promise.resolve(),bee=()=>Qb||(vee.then(()=>Qb=0),Qb=Date.now());function _ee(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;_s(wee(r,i.value),t,5,[r])};return i.value=e,i.attached=bee(),i}function wee(e,t){if(Ee(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const dM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xee=(e,t,i,r,s,n)=>{const o=s==="svg";t==="class"?uee(e,r,o):t==="style"?dee(e,i,r):uu(t)?r3(t)||yee(e,t,i,r,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):See(e,t,r,o))?(uM(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&cM(e,t,r,o,n,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(r))?uM(e,Vt(t),r,n,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),cM(e,t,r,o))};function See(e,t,i,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&dM(t)&&Fe(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return dM(t)&&Je(i)?!1:t in e}const pM={};/*! #__NO_SIDE_EFFECTS__ */function q3(e,t,i){const r=rt(e,t);av(r)&&nt(r,t);class s extends Um{constructor(o){super(r,o,i)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const P8=(e,t)=>q3(e,t,Z3),Eee=typeof HTMLElement<"u"?HTMLElement:class{};class Um extends Eee{constructor(t,i={},r=_l){super(),this._def=t,this._props=i,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==_l?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Um){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Pn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:o}=r;let a;if(n&&!Ee(n))for(const l in n){const c=n[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Cg(this._props[l])),(a||(a=Object.create(null)))[Vt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},i=this._def.__asyncLoader;i?this._pendingResolve=i().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const i=this._instance&&this._instance.exposed;if(i)for(const r in i)vt(this,r)||Object.defineProperty(this,r,{get:()=>Oe(i[r])})}_resolveProps(t){const{props:i}=t,r=Ee(i)?i:Object.keys(i||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Vt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(n){this._setProp(s,n,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const i=this.hasAttribute(t);let r=i?this.getAttribute(t):pM;const s=Vt(t);i&&this._numberProps&&this._numberProps[s]&&(r=Cg(r)),this._setProp(s,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,s=!1){if(i!==this._props[t]&&(i===pM?delete this._props[t]:(this._props[t]=i,t==="key"&&this._app&&(this._app._ceVNode.key=i)),s&&this._instance&&this._update(),r)){const n=this._ob;n&&n.disconnect(),i===!0?this.setAttribute(Qr(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(Qr(t),i+""):i||this.removeAttribute(Qr(t)),n&&n.observe(this,{attributes:!0})}}_update(){Th(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const i=Ke(this._def,nt(t,this._props));return this._instance||(i.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(n,o)=>{this.dispatchEvent(new CustomEvent(n,av(o[0])?nt({detail:o},o[0]):{detail:o}))};r.emit=(n,...o)=>{s(n,o),Qr(n)!==n&&s(Qr(n),o)},this._setParent()}),i}_applyStyles(t,i){if(!t)return;if(i){if(i===this._def||this._styleChildren.has(i))return;this._styleChildren.add(i)}const r=this._nonce;for(let s=t.length-1;s>=0;s--){const n=document.createElement("style");r&&n.setAttribute("nonce",r),n.textContent=t[s],this.shadowRoot.prepend(n)}}_parseSlots(){const t=this._slots={};let i;for(;i=this.firstChild;){const r=i.nodeType===1&&i.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(i),this.removeChild(i)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),i=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const s=t[r],n=s.getAttribute("name")||"default",o=this._slots[n],a=s.parentNode;if(o)for(const l of o){if(i&&l.nodeType===1){const c=i+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function W3(e){const t=Li(),i=t&&t.ce;return i||null}function L8(){const e=W3();return e&&e.shadowRoot}function k8(e="$style"){{const t=Li();if(!t)return st;const i=t.type.__cssModules;if(!i)return st;const r=i[e];return r||st}}const R8=new WeakMap,D8=new WeakMap,qg=Symbol("_moveCb"),mM=Symbol("_enterCb"),Tee=e=>(delete e.props.mode,e),Aee=Tee({name:"TransitionGroup",props:nt({},M8,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Li(),r=_v();let s,n;return Cf(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!$ee(s[0].el,i.vnode.el,o))return;s.forEach(Mee),s.forEach(Oee);const a=s.filter(Iee);Jw(),a.forEach(l=>{const c=l.el,f=c.style;Hn(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[qg]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[qg]=null,Fa(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ge(e),a=O8(o);let l=o.tag||It;if(s=[],n)for(let c=0;c<n.length;c++){const f=n[c];f.el&&f.el instanceof Element&&(s.push(f),wo(f,Hc(f,a,r,i)),R8.set(f,f.el.getBoundingClientRect()))}n=t.default?km(t.default()):[];for(let c=0;c<n.length;c++){const f=n[c];f.key!=null&&wo(f,Hc(f,a,r,i))}return Ke(l,null,n)}}}),$v=Aee;function Mee(e){const t=e.el;t[qg]&&t[qg](),t[mM]&&t[mM]()}function Oee(e){D8.set(e,e.el.getBoundingClientRect())}function Iee(e){const t=R8.get(e),i=D8.get(e),r=t.left-i.left,s=t.top-i.top;if(r||s){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${r}px,${s}px)`,n.transitionDuration="0s",e}}function $ee(e,t,i){const r=e.cloneNode(),s=e[zh];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),i.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(r);const{hasTransform:o}=I8(r);return n.removeChild(r),o}const bl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?i=>xh(t,i):t};function Cee(e){e.target.composing=!0}function yM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gs=Symbol("_assign"),Wp={created(e,{modifiers:{lazy:t,trim:i,number:r}},s){e[Gs]=bl(s);const n=r||s.props&&s.props.type==="number";Qo(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;i&&(a=a.trim()),n&&(a=$g(a)),e[Gs](a)}),i&&Qo(e,"change",()=>{e.value=e.value.trim()}),t||(Qo(e,"compositionstart",Cee),Qo(e,"compositionend",yM),Qo(e,"change",yM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:r,trim:s,number:n}},o){if(e[Gs]=bl(o),e.composing)return;const a=(n||e.type==="number")&&!/^0\d/.test(e.value)?$g(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===i||s&&e.value.trim()===l)||(e.value=l))}},Cv={deep:!0,created(e,t,i){e[Gs]=bl(i),Qo(e,"change",()=>{const r=e._modelValue,s=qh(e),n=e.checked,o=e[Gs];if(Ee(r)){const a=uv(r,s),l=a!==-1;if(n&&!l)o(r.concat(s));else if(!n&&l){const c=[...r];c.splice(a,1),o(c)}}else if(hu(r)){const a=new Set(r);n?a.add(s):a.delete(s),o(a)}else o(F8(e,n))})},mounted:gM,beforeUpdate(e,t,i){e[Gs]=bl(i),gM(e,t,i)}};function gM(e,{value:t,oldValue:i},r){e._modelValue=t;let s;if(Ee(t))s=uv(t,r.props.value)>-1;else if(hu(t))s=t.has(r.props.value);else{if(t===i)return;s=vl(t,F8(e,!0))}e.checked!==s&&(e.checked=s)}const Nv={created(e,{value:t},i){e.checked=vl(t,i.props.value),e[Gs]=bl(i),Qo(e,"change",()=>{e[Gs](qh(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e[Gs]=bl(r),t!==i&&(e.checked=vl(t,r.props.value))}},H3={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const s=hu(t);Qo(e,"change",()=>{const n=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>i?$g(qh(o)):qh(o));e[Gs](e.multiple?s?new Set(n):n:n[0]),e._assigning=!0,Pn(()=>{e._assigning=!1})}),e[Gs]=bl(r)},mounted(e,{value:t}){vM(e,t)},beforeUpdate(e,t,i){e[Gs]=bl(i)},updated(e,{value:t}){e._assigning||vM(e,t)}};function vM(e,t){const i=e.multiple,r=Ee(t);if(!(i&&!r&&!hu(t))){for(let s=0,n=e.options.length;s<n;s++){const o=e.options[s],a=qh(o);if(i)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=uv(t,a)>-1}else o.selected=t.has(a);else if(vl(qh(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function qh(e){return"_value"in e?e._value:e.value}function F8(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const Y3={created(e,t,i){$0(e,t,i,null,"created")},mounted(e,t,i){$0(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){$0(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){$0(e,t,i,r,"updated")}};function U8(e,t){switch(e){case"SELECT":return H3;case"TEXTAREA":return Wp;default:switch(t){case"checkbox":return Cv;case"radio":return Nv;default:return Wp}}}function $0(e,t,i,r,s){const o=U8(e.tagName,i.props&&i.props.type)[s];o&&o(e,t,i,r)}function Nee(){Wp.getSSRProps=({value:e})=>({value:e}),Nv.getSSRProps=({value:e},t)=>{if(t.props&&vl(t.props.value,e))return{checked:!0}},Cv.getSSRProps=({value:e},t)=>{if(Ee(e)){if(t.props&&uv(e,t.props.value)>-1)return{checked:!0}}else if(hu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Y3.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=U8(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const Pee=["ctrl","shift","alt","meta"],Lee={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Pee.some(i=>e[`${i}Key`]&&!t.includes(i))},jm=(e,t)=>{const i=e._withMods||(e._withMods={}),r=t.join(".");return i[r]||(i[r]=(s,...n)=>{for(let o=0;o<t.length;o++){const a=Lee[t[o]];if(a&&a(s,t))return}return e(s,...n)})},kee={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},J3=(e,t)=>{const i=e._withKeys||(e._withKeys={}),r=t.join(".");return i[r]||(i[r]=s=>{if(!("key"in s))return;const n=Qr(s.key);if(t.some(o=>o===n||kee[o]===n))return e(s)})},j8=nt({patchProp:xee},oee);let ep,bM=!1;function B8(){return ep||(ep=L3(j8))}function V8(){return ep=bM?ep:k3(j8),bM=!0,ep}const Th=(...e)=>{B8().render(...e)},G8=(...e)=>{V8().hydrate(...e)},_l=(...e)=>{const t=B8().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=q8(r);if(!s)return;const n=t._component;!Fe(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=i(s,!1,z8(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t},Z3=(...e)=>{const t=V8().createApp(...e),{mount:i}=t;return t.mount=r=>{const s=q8(r);if(s)return i(s,!0,z8(s))},t};function z8(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function q8(e){return Je(e)?document.querySelector(e):e}let _M=!1;const W8=()=>{_M||(_M=!0,Nee(),hee())},Ree=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:g3,BaseTransitionPropsValidators:wv,Comment:_i,DeprecationTypes:E8,EffectScope:hv,ErrorCodes:ZP,ErrorTypeStrings:v8,Fragment:It,KeepAlive:yL,ReactiveEffect:Bh,Static:fl,Suspense:t8,Teleport:y3,Text:uo,TrackOpTypes:qP,Transition:Ov,TransitionGroup:$v,TriggerOpTypes:WP,VueElement:Um,assertNumber:JP,callWithAsyncErrorHandling:_s,callWithErrorHandling:fu,camelize:Vt,capitalize:Al,cloneVNode:$n,compatUtils:S8,computed:tt,createApp:_l,createBlock:Bt,createCommentVNode:Wt,createElementBlock:we,createElementVNode:ue,createHydrationRenderer:k3,createPropsRestProxy:PL,createRenderer:L3,createSSRApp:Z3,createSlots:bL,createStaticVNode:l8,createTextVNode:ho,createVNode:Ke,customRef:f3,defineAsyncComponent:b3,defineComponent:rt,defineCustomElement:q3,defineEmits:xL,defineExpose:SL,defineModel:AL,defineOptions:EL,defineProps:wL,defineSSRCustomElement:P8,defineSlots:TL,devtools:b8,effect:MP,effectScope:Pm,getCurrentInstance:Li,getCurrentScope:fv,getCurrentWatcher:HP,getTransitionRawChildren:km,guardReactiveProps:j3,h:Bs,handleError:$l,hasInjectionContext:N3,hydrate:G8,hydrateOnIdle:fL,hydrateOnInteraction:mL,hydrateOnMediaQuery:pL,hydrateOnVisible:dL,initCustomFormatter:m8,initDirectivesForSSR:W8,inject:Pi,isMemoSame:G3,isProxy:Lm,isReactive:vs,isReadonly:aa,isRef:ht,isRuntimeOnly:f8,isShallow:rs,isVNode:In,markRaw:Si,mergeDefaults:CL,mergeModels:NL,mergeProps:Mv,nextTick:Pn,normalizeClass:di,normalizeProps:vP,normalizeStyle:Ml,onActivated:_3,onBeforeMount:Sv,onBeforeUnmount:Ln,onBeforeUpdate:Ev,onDeactivated:w3,onErrorCaptured:T3,onMounted:lr,onRenderTracked:E3,onRenderTriggered:S3,onScopeDispose:a3,onServerPrefetch:x3,onUnmounted:du,onUpdated:Cf,onWatcherCleanup:p3,openBlock:fe,popScopeId:iL,provide:C3,proxyRefs:vv,pushScopeId:tL,queuePostFlushCb:Vh,reactive:tr,readonly:yv,ref:X,registerRuntimeCompiler:V3,render:Th,renderList:Cl,renderSlot:pn,resolveComponent:bi,resolveDirective:Tt,resolveDynamicComponent:M3,resolveFilter:x8,resolveTransitionHooks:Hc,setBlockTracking:jg,setDevtoolsHook:_8,setTransitionHooks:wo,shallowReactive:h3,shallowReadonly:UP,shallowRef:$f,ssrContextKey:D3,ssrUtils:w8,stop:OP,toDisplayString:jt,toHandlerKey:Ac,toHandlers:_L,toRaw:Ge,toRef:GP,toRefs:d3,toValue:VP,transformVNodeArgs:o8,triggerRef:BP,unref:Oe,useAttrs:IL,useCssModule:k8,useCssVars:N8,useHost:W3,useId:hL,useModel:XL,useSSRContext:F3,useShadowRoot:L8,useSlots:OL,useTemplateRef:Rg,useTransitionState:_v,vModelCheckbox:Cv,vModelDynamic:Y3,vModelRadio:Nv,vModelSelect:H3,vModelText:Wp,vShow:Iv,version:z3,warn:g8,watch:Wi,watchEffect:JL,watchPostEffect:ZL,watchSyncEffect:U3,withAsyncContext:LL,withCtx:Ti,withDefaults:ML,withDirectives:Et,withKeys:J3,withMemo:y8,withModifiers:jm,withScopeId:rL},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hp=Symbol(""),tp=Symbol(""),K3=Symbol(""),Wg=Symbol(""),H8=Symbol(""),Zc=Symbol(""),Y8=Symbol(""),J8=Symbol(""),X3=Symbol(""),Q3=Symbol(""),Bm=Symbol(""),eE=Symbol(""),Z8=Symbol(""),tE=Symbol(""),iE=Symbol(""),rE=Symbol(""),sE=Symbol(""),nE=Symbol(""),oE=Symbol(""),K8=Symbol(""),X8=Symbol(""),Pv=Symbol(""),Hg=Symbol(""),aE=Symbol(""),lE=Symbol(""),Yp=Symbol(""),Vm=Symbol(""),cE=Symbol(""),Kw=Symbol(""),Dee=Symbol(""),Xw=Symbol(""),Yg=Symbol(""),Fee=Symbol(""),Uee=Symbol(""),uE=Symbol(""),jee=Symbol(""),Bee=Symbol(""),hE=Symbol(""),Q8=Symbol(""),Wh={[Hp]:"Fragment",[tp]:"Teleport",[K3]:"Suspense",[Wg]:"KeepAlive",[H8]:"BaseTransition",[Zc]:"openBlock",[Y8]:"createBlock",[J8]:"createElementBlock",[X3]:"createVNode",[Q3]:"createElementVNode",[Bm]:"createCommentVNode",[eE]:"createTextVNode",[Z8]:"createStaticVNode",[tE]:"resolveComponent",[iE]:"resolveDynamicComponent",[rE]:"resolveDirective",[sE]:"resolveFilter",[nE]:"withDirectives",[oE]:"renderList",[K8]:"renderSlot",[X8]:"createSlots",[Pv]:"toDisplayString",[Hg]:"mergeProps",[aE]:"normalizeClass",[lE]:"normalizeStyle",[Yp]:"normalizeProps",[Vm]:"guardReactiveProps",[cE]:"toHandlers",[Kw]:"camelize",[Dee]:"capitalize",[Xw]:"toHandlerKey",[Yg]:"setBlockTracking",[Fee]:"pushScopeId",[Uee]:"popScopeId",[uE]:"withCtx",[jee]:"unref",[Bee]:"isRef",[hE]:"withMemo",[Q8]:"isMemoSame"};function Vee(e){Object.getOwnPropertySymbols(e).forEach(t=>{Wh[t]=e[t]})}const Es={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Gee(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Es}}function Jp(e,t,i,r,s,n,o,a=!1,l=!1,c=!1,f=Es){return e&&(a?(e.helper(Zc),e.helper(Jh(e.inSSR,c))):e.helper(Yh(e.inSSR,c)),o&&e.helper(nE)),{type:13,tag:t,props:i,children:r,patchFlag:s,dynamicProps:n,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Ic(e,t=Es){return{type:17,loc:t,elements:e}}function Vs(e,t=Es){return{type:15,loc:t,properties:e}}function xi(e,t){return{type:16,loc:Es,key:Je(e)?Qe(e,!0):e,value:t}}function Qe(e,t=!1,i=Es,r=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:r}}function xn(e,t=Es){return{type:8,loc:t,children:e}}function Vi(e,t=[],i=Es){return{type:14,loc:i,callee:e,arguments:t}}function Hh(e,t=void 0,i=!1,r=!1,s=Es){return{type:18,params:e,returns:t,newline:i,isSlot:r,loc:s}}function Qw(e,t,i,r=!0){return{type:19,test:e,consequent:t,alternate:i,newline:r,loc:Es}}function zee(e,t,i=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:i,inVOnce:r,needArraySpread:!1,loc:Es}}function qee(e){return{type:21,body:e,loc:Es}}function Yh(e,t){return e||t?X3:Q3}function Jh(e,t){return e||t?Y8:J8}function fE(e,{helper:t,removeHelper:i,inSSR:r}){e.isBlock||(e.isBlock=!0,i(Yh(r,e.isComponent)),t(Zc),t(Jh(r,e.isComponent)))}const wM=new Uint8Array([123,123]),xM=new Uint8Array([125,125]);function SM(e){return e>=97&&e<=122||e>=65&&e<=90}function fs(e){return e===32||e===10||e===9||e===12||e===13}function Sa(e){return e===47||e===62||fs(e)}function Jg(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}const ur={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Wee=class{constructor(t,i){this.stack=t,this.cbs=i,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=wM,this.delimiterClose=xM,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=wM,this.delimiterClose=xM}getPos(t){let i=1,r=t+1;for(let s=this.newlines.length-1;s>=0;s--){const n=this.newlines[s];if(t>n){i=s+2,r=t-n;break}}return{column:r,line:i,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const i=this.index+1-this.delimiterOpen.length;i>this.sectionStart&&this.cbs.ontext(this.sectionStart,i),this.state=3,this.sectionStart=i}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const i=this.sequenceIndex===this.currentSequence.length;if(!(i?Sa(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!i){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||fs(t)){const i=this.index-this.currentSequence.length;if(this.sectionStart<i){const r=this.index;this.index=i,this.cbs.ontext(this.sectionStart,i),this.index=r}this.sectionStart=i+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ur.TitleEnd||this.currentSequence===ur.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===ur.Cdata[this.sequenceIndex]?++this.sequenceIndex===ur.Cdata.length&&(this.state=28,this.currentSequence=ur.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);if(i===10&&this.newlines.push(this.index),i===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ur.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,i){this.enterRCDATA(t,i),this.state=31}enterRCDATA(t,i){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=i}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):SM(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Sa(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Sa(t)){const i=this.buffer.slice(this.sectionStart,this.index);i!=="template"&&this.enterRCDATA(Jg("</"+i),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){fs(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=SM(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||fs(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):fs(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):fs(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Sa(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Sa(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Sa(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Sa(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Sa(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):fs(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):fs(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,i){(t===i||this.fastForwardTo(i))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){fs(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=ur.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===ur.ScriptEnd[3]?this.startSpecial(ur.ScriptEnd,4):t===ur.StyleEnd[3]?this.startSpecial(ur.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===ur.TitleEnd[3]?this.startSpecial(ur.TitleEnd,4):t===ur.TextareaEnd[3]?this.startSpecial(ur.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const i=this.buffer.charCodeAt(this.index);switch(i===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(i);break}case 2:{this.stateInterpolationOpen(i);break}case 3:{this.stateInterpolation(i);break}case 4:{this.stateInterpolationClose(i);break}case 31:{this.stateSpecialStartSequence(i);break}case 32:{this.stateInRCDATA(i);break}case 26:{this.stateCDATASequence(i);break}case 19:{this.stateInAttrValueDoubleQuotes(i);break}case 12:{this.stateInAttrName(i);break}case 13:{this.stateInDirName(i);break}case 14:{this.stateInDirArg(i);break}case 15:{this.stateInDynamicDirArg(i);break}case 16:{this.stateInDirModifier(i);break}case 28:{this.stateInCommentLike(i);break}case 27:{this.stateInSpecialComment(i);break}case 11:{this.stateBeforeAttrName(i);break}case 6:{this.stateInTagName(i);break}case 34:{this.stateInSFCRootTagName(i);break}case 9:{this.stateInClosingTagName(i);break}case 5:{this.stateBeforeTagName(i);break}case 17:{this.stateAfterAttrName(i);break}case 20:{this.stateInAttrValueSingleQuotes(i);break}case 18:{this.stateBeforeAttrValue(i);break}case 8:{this.stateBeforeClosingTagName(i);break}case 10:{this.stateAfterClosingTagName(i);break}case 29:{this.stateBeforeSpecialS(i);break}case 30:{this.stateBeforeSpecialT(i);break}case 21:{this.stateInAttrValueNoQuotes(i);break}case 7:{this.stateInSelfClosingTag(i);break}case 23:{this.stateInDeclaration(i);break}case 22:{this.stateBeforeDeclaration(i);break}case 25:{this.stateBeforeComment(i);break}case 24:{this.stateInProcessingInstruction(i);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===ur.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,i){}};function EM(e,{compatConfig:t}){const i=t&&t[e];return e==="MODE"?i||3:i}function $c(e,t){const i=EM("MODE",t),r=EM(e,t);return i===3?r===!0:r!==!1}function Zp(e,t,i,...r){return $c(e,t)}function dE(e){throw e}function ek(e){}function ei(e,t,i,r){const s=`https://vuejs.org/error-reference/#compiler-${e}`,n=new SyntaxError(String(s));return n.code=e,n.loc=t,n}const is=e=>e.type===4&&e.isStatic;function tk(e){switch(e){case"Teleport":case"teleport":return tp;case"Suspense":case"suspense":return K3;case"KeepAlive":case"keep-alive":return Wg;case"BaseTransition":case"base-transition":return H8}}const Hee=/^\d|[^\$\w\xA0-\uFFFF]/,pE=e=>!Hee.test(e),Yee=/[A-Za-z_$\xA0-\uFFFF]/,Jee=/[\.\?\w$\xA0-\uFFFF]/,Zee=/\s+[.[]\s*|\s*[.[]\s+/g,ik=e=>e.type===4?e.content:e.loc.source,Kee=e=>{const t=ik(e).trim().replace(Zee,a=>a.trim());let i=0,r=[],s=0,n=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(i){case 0:if(l==="[")r.push(i),i=1,s++;else if(l==="(")r.push(i),i=2,n++;else if(!(a===0?Yee:Jee).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(i),i=3,o=l):l==="["?s++:l==="]"&&(--s||(i=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(i),i=3,o=l;else if(l==="(")n++;else if(l===")"){if(a===t.length-1)return!1;--n||(i=r.pop())}break;case 3:l===o&&(i=r.pop(),o=null);break}}return!s&&!n},rk=Kee,Xee=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Qee=e=>Xee.test(ik(e)),ete=Qee;function Rs(e,t,i=!1){for(let r=0;r<e.props.length;r++){const s=e.props[r];if(s.type===7&&(i||s.exp)&&(Je(t)?s.name===t:t.test(s.name)))return s}}function Lv(e,t,i=!1,r=!1){for(let s=0;s<e.props.length;s++){const n=e.props[s];if(n.type===6){if(i)continue;if(n.name===t&&(n.value||r))return n}else if(n.name==="bind"&&(n.exp||r)&&wc(n.arg,t))return n}}function wc(e,t){return!!(e&&is(e)&&e.content===t)}function tte(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function e_(e){return e.type===5||e.type===2}function ite(e){return e.type===7&&e.name==="slot"}function Zg(e){return e.type===1&&e.tagType===3}function Kg(e){return e.type===1&&e.tagType===2}const rte=new Set([Yp,Vm]);function sk(e,t=[]){if(e&&!Je(e)&&e.type===14){const i=e.callee;if(!Je(i)&&rte.has(i))return sk(e.arguments[0],t.concat(e))}return[e,t]}function Xg(e,t,i){let r,s=e.type===13?e.props:e.arguments[2],n=[],o;if(s&&!Je(s)&&s.type===14){const a=sk(s);s=a[0],n=a[1],o=n[n.length-1]}if(s==null||Je(s))r=Vs([t]);else if(s.type===14){const a=s.arguments[0];!Je(a)&&a.type===15?TM(t,a)||a.properties.unshift(t):s.callee===cE?r=Vi(i.helper(Hg),[Vs([t]),s]):s.arguments.unshift(Vs([t])),!r&&(r=s)}else s.type===15?(TM(t,s)||s.properties.unshift(t),r=s):(r=Vi(i.helper(Hg),[Vs([t]),s]),o&&o.callee===Vm&&(o=n[n.length-2]));e.type===13?o?o.arguments[0]=r:e.props=r:o?o.arguments[0]=r:e.arguments[2]=r}function TM(e,t){let i=!1;if(e.key.type===4){const r=e.key.content;i=t.properties.some(s=>s.key.type===4&&s.key.content===r)}return i}function Kp(e,t){return`_${t}_${e.replace(/[^\w]/g,(i,r)=>i==="-"?"_":e.charCodeAt(r).toString())}`}function ste(e){return e.type===14&&e.callee===hE?e.arguments[1].returns:e}const nte=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,nk={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:$d,isPreTag:$d,isIgnoreNewlineTag:$d,isCustomElement:$d,onError:dE,onWarn:ek,comments:!1,prefixIdentifiers:!1};let bt=nk,Xp=null,ra="",pr=null,lt=null,qr="",Vo=-1,fc=-1,mE=0,Ja=!1,ex=null;const Kt=[],fi=new Wee(Kt,{onerr:No,ontext(e,t){C0(rr(e,t),e,t)},ontextentity(e,t,i){C0(e,t,i)},oninterpolation(e,t){if(Ja)return C0(rr(e,t),e,t);let i=e+fi.delimiterOpen.length,r=t-fi.delimiterClose.length;for(;fs(ra.charCodeAt(i));)i++;for(;fs(ra.charCodeAt(r-1));)r--;let s=rr(i,r);s.includes("&")&&(s=bt.decodeEntities(s,!1)),tx({type:5,content:Ry(s,!1,gi(i,r)),loc:gi(e,t)})},onopentagname(e,t){const i=rr(e,t);pr={type:1,tag:i,ns:bt.getNamespace(i,Kt[0],bt.ns),tagType:0,props:[],children:[],loc:gi(e-1,t),codegenNode:void 0}},onopentagend(e){MM(e)},onclosetag(e,t){const i=rr(e,t);if(!bt.isVoidTag(i)){let r=!1;for(let s=0;s<Kt.length;s++)if(Kt[s].tag.toLowerCase()===i.toLowerCase()){r=!0,s>0&&No(24,Kt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Kt.shift();ky(a,t,o<s)}break}r||No(23,ok(e,60))}},onselfclosingtag(e){const t=pr.tag;pr.isSelfClosing=!0,MM(e),Kt[0]&&Kt[0].tag===t&&ky(Kt.shift(),e)},onattribname(e,t){lt={type:6,name:rr(e,t),nameLoc:gi(e,t),value:void 0,loc:gi(e)}},ondirname(e,t){const i=rr(e,t),r=i==="."||i===":"?"bind":i==="@"?"on":i==="#"?"slot":i.slice(2);if(!Ja&&r===""&&No(26,e),Ja||r==="")lt={type:6,name:i,nameLoc:gi(e,t),value:void 0,loc:gi(e)};else if(lt={type:7,name:r,rawName:i,exp:void 0,arg:void 0,modifiers:i==="."?[Qe("prop")]:[],loc:gi(e)},r==="pre"){Ja=fi.inVPre=!0,ex=pr;const s=pr.props;for(let n=0;n<s.length;n++)s[n].type===7&&(s[n]=yte(s[n]))}},ondirarg(e,t){if(e===t)return;const i=rr(e,t);if(Ja)lt.name+=i,xc(lt.nameLoc,t);else{const r=i[0]!=="[";lt.arg=Ry(r?i:i.slice(1,-1),r,gi(e,t),r?3:0)}},ondirmodifier(e,t){const i=rr(e,t);if(Ja)lt.name+="."+i,xc(lt.nameLoc,t);else if(lt.name==="slot"){const r=lt.arg;r&&(r.content+="."+i,xc(r.loc,t))}else{const r=Qe(i,!0,gi(e,t));lt.modifiers.push(r)}},onattribdata(e,t){qr+=rr(e,t),Vo<0&&(Vo=e),fc=t},onattribentity(e,t,i){qr+=e,Vo<0&&(Vo=t),fc=i},onattribnameend(e){const t=lt.loc.start.offset,i=rr(t,e);lt.type===7&&(lt.rawName=i),pr.props.some(r=>(r.type===7?r.rawName:r.name)===i)&&No(2,t)},onattribend(e,t){if(pr&&lt){if(xc(lt.loc,t),e!==0)if(qr.includes("&")&&(qr=bt.decodeEntities(qr,!0)),lt.type===6)lt.name==="class"&&(qr=lk(qr).trim()),e===1&&!qr&&No(13,t),lt.value={type:2,content:qr,loc:e===1?gi(Vo,fc):gi(Vo-1,fc+1)},fi.inSFCRoot&&pr.tag==="template"&&lt.name==="lang"&&qr&&qr!=="html"&&fi.enterRCDATA(Jg("</template"),0);else{let i=0;lt.exp=Ry(qr,!1,gi(Vo,fc),0,i),lt.name==="for"&&(lt.forParseResult=ate(lt.exp));let r=-1;lt.name==="bind"&&(r=lt.modifiers.findIndex(s=>s.content==="sync"))>-1&&Zp("COMPILER_V_BIND_SYNC",bt,lt.loc,lt.rawName)&&(lt.name="model",lt.modifiers.splice(r,1))}(lt.type!==7||lt.name!=="pre")&&pr.props.push(lt)}qr="",Vo=fc=-1},oncomment(e,t){bt.comments&&tx({type:3,content:rr(e,t),loc:gi(e-4,t+3)})},onend(){const e=ra.length;for(let t=0;t<Kt.length;t++)ky(Kt[t],e-1),No(24,Kt[t].loc.start.offset)},oncdata(e,t){Kt[0].ns!==0?C0(rr(e,t),e,t):No(1,e-9)},onprocessinginstruction(e){(Kt[0]?Kt[0].ns:bt.ns)===0&&No(21,e-1)}}),AM=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,ote=/^\(|\)$/g;function ate(e){const t=e.loc,i=e.content,r=i.match(nte);if(!r)return;const[,s,n]=r,o=(d,p,y=!1)=>{const v=t.start.offset+p,_=v+d.length;return Ry(d,!1,gi(v,_),0,y?1:0)},a={source:o(n.trim(),i.indexOf(n,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(ote,"").trim();const c=s.indexOf(l),f=l.match(AM);if(f){l=l.replace(AM,"").trim();const d=f[1].trim();let p;if(d&&(p=i.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,i.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function rr(e,t){return ra.slice(e,t)}function MM(e){fi.inSFCRoot&&(pr.innerLoc=gi(e+1,e+1)),tx(pr);const{tag:t,ns:i}=pr;i===0&&bt.isPreTag(t)&&mE++,bt.isVoidTag(t)?ky(pr,e):(Kt.unshift(pr),(i===1||i===2)&&(fi.inXML=!0)),pr=null}function C0(e,t,i){{const n=Kt[0]&&Kt[0].tag;n!=="script"&&n!=="style"&&e.includes("&")&&(e=bt.decodeEntities(e,!1))}const r=Kt[0]||Xp,s=r.children[r.children.length-1];s&&s.type===2?(s.content+=e,xc(s.loc,i)):r.children.push({type:2,content:e,loc:gi(t,i)})}function ky(e,t,i=!1){i?xc(e.loc,ok(t,60)):xc(e.loc,lte(t,62)+1),fi.inSFCRoot&&(e.children.length?e.innerLoc.end=nt({},e.children[e.children.length-1].loc.end):e.innerLoc.end=nt({},e.innerLoc.start),e.innerLoc.source=rr(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:s,children:n}=e;if(Ja||(r==="slot"?e.tagType=2:OM(e)?e.tagType=3:ute(e)&&(e.tagType=1)),fi.inRCDATA||(e.children=ak(n)),s===0&&bt.isIgnoreNewlineTag(r)){const o=n[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&bt.isPreTag(r)&&mE--,ex===e&&(Ja=fi.inVPre=!1,ex=null),fi.inXML&&(Kt[0]?Kt[0].ns:bt.ns)===0&&(fi.inXML=!1);{const o=e.props;if(!fi.inSFCRoot&&$c("COMPILER_NATIVE_TEMPLATE",bt)&&e.tag==="template"&&!OM(e)){const l=Kt[0]||Xp,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Zp("COMPILER_INLINE_TEMPLATE",bt,a.loc)&&e.children.length&&(a.value={type:2,content:rr(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function lte(e,t){let i=e;for(;ra.charCodeAt(i)!==t&&i<ra.length-1;)i++;return i}function ok(e,t){let i=e;for(;ra.charCodeAt(i)!==t&&i>=0;)i--;return i}const cte=new Set(["if","else","else-if","for","slot"]);function OM({tag:e,props:t}){if(e==="template"){for(let i=0;i<t.length;i++)if(t[i].type===7&&cte.has(t[i].name))return!0}return!1}function ute({tag:e,props:t}){if(bt.isCustomElement(e))return!1;if(e==="component"||hte(e.charCodeAt(0))||tk(e)||bt.isBuiltInComponent&&bt.isBuiltInComponent(e)||bt.isNativeTag&&!bt.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const r=t[i];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Zp("COMPILER_IS_ON_ELEMENT",bt,r.loc))return!0}}else if(r.name==="bind"&&wc(r.arg,"is")&&Zp("COMPILER_IS_ON_ELEMENT",bt,r.loc))return!0}return!1}function hte(e){return e>64&&e<91}const fte=/\r\n/g;function ak(e,t){const i=bt.whitespace!=="preserve";let r=!1;for(let s=0;s<e.length;s++){const n=e[s];if(n.type===2)if(mE)n.content=n.content.replace(fte,`
`);else if(dte(n.content)){const o=e[s-1]&&e[s-1].type,a=e[s+1]&&e[s+1].type;!o||!a||i&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&pte(n.content)))?(r=!0,e[s]=null):n.content=" "}else i&&(n.content=lk(n.content))}return r?e.filter(Boolean):e}function dte(e){for(let t=0;t<e.length;t++)if(!fs(e.charCodeAt(t)))return!1;return!0}function pte(e){for(let t=0;t<e.length;t++){const i=e.charCodeAt(t);if(i===10||i===13)return!0}return!1}function lk(e){let t="",i=!1;for(let r=0;r<e.length;r++)fs(e.charCodeAt(r))?i||(t+=" ",i=!0):(t+=e[r],i=!1);return t}function tx(e){(Kt[0]||Xp).children.push(e)}function gi(e,t){return{start:fi.getPos(e),end:t==null?t:fi.getPos(t),source:t==null?t:rr(e,t)}}function mte(e){return gi(e.start.offset,e.end.offset)}function xc(e,t){e.end=fi.getPos(t),e.source=rr(e.start.offset,t)}function yte(e){const t={type:6,name:e.rawName,nameLoc:gi(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const i=e.exp.loc;i.end.offset<e.loc.end.offset&&(i.start.offset--,i.start.column--,i.end.offset++,i.end.column++),t.value={type:2,content:e.exp.content,loc:i}}return t}function Ry(e,t=!1,i,r=0,s=0){return Qe(e,t,i,r)}function No(e,t,i){bt.onError(ei(e,gi(t,t)))}function gte(){fi.reset(),pr=null,lt=null,qr="",Vo=-1,fc=-1,Kt.length=0}function vte(e,t){if(gte(),ra=e,bt=nt({},nk),t){let s;for(s in t)t[s]!=null&&(bt[s]=t[s])}fi.mode=bt.parseMode==="html"?1:bt.parseMode==="sfc"?2:0,fi.inXML=bt.ns===1||bt.ns===2;const i=t&&t.delimiters;i&&(fi.delimiterOpen=Jg(i[0]),fi.delimiterClose=Jg(i[1]));const r=Xp=Gee([],e);return fi.parse(ra),r.loc=gi(0,e.length),r.children=ak(r.children),Xp=null,r}function bte(e,t){Dy(e,void 0,t,ck(e,e.children[0]))}function ck(e,t){const{children:i}=e;return i.length===1&&t.type===1&&!Kg(t)}function Dy(e,t,i,r=!1,s=!1){const{children:n}=e,o=[];for(let f=0;f<n.length;f++){const d=n[f];if(d.type===1&&d.tagType===0){const p=r?0:ms(d,i);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const v=y.patchFlag;if((v===void 0||v===512||v===1)&&hk(d,i)>=2){const _=fk(d);_&&(y.props=i.hoist(_))}y.dynamicProps&&(y.dynamicProps=i.hoist(y.dynamicProps))}}}else if(d.type===12&&(r?0:ms(d,i))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&i.scopes.vSlot++,Dy(d,e,i,!1,s),p&&i.scopes.vSlot--}else if(d.type===11)Dy(d,e,i,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)Dy(d.branches[p],e,i,d.branches[p].children.length===1,s)}let a=!1;if(o.length===n.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ee(e.codegenNode.children))e.codegenNode.children=l(Ic(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ee(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=c(e.codegenNode,"default");f&&(f.returns=l(Ic(f.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ee(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=Rs(e,"slot",!0),d=f&&f.arg&&c(t.codegenNode,f.arg);d&&(d.returns=l(Ic(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=i.cache(f.codegenNode);function l(f){const d=i.cache(f);return s&&i.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Ee(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&i.transformHoist&&i.transformHoist(n,i,e)}function ms(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=i.get(e);if(r!==void 0)return r;const s=e.codegenNode;if(s.type!==13||s.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=hk(e,t);if(a===0)return i.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=ms(e.children[l],t);if(c===0)return i.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=ms(c.exp,t);if(f===0)return i.set(e,0),0;f<o&&(o=f)}}if(s.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return i.set(e,0),0;t.removeHelper(Zc),t.removeHelper(Jh(t.inSSR,s.isComponent)),s.isBlock=!1,t.helper(Yh(t.inSSR,s.isComponent))}return i.set(e,o),o}else return i.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return ms(e.content,t);case 4:return e.constType;case 8:let n=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Je(a)||ls(a))continue;const l=ms(a,t);if(l===0)return 0;l<n&&(n=l)}return n;case 20:return 2;default:return 0}}const _te=new Set([aE,lE,Yp,Vm]);function uk(e,t){if(e.type===14&&!Je(e.callee)&&_te.has(e.callee)){const i=e.arguments[0];if(i.type===4)return ms(i,t);if(i.type===14)return uk(i,t)}return 0}function hk(e,t){let i=3;const r=fk(e);if(r&&r.type===15){const{properties:s}=r;for(let n=0;n<s.length;n++){const{key:o,value:a}=s[n],l=ms(o,t);if(l===0)return l;l<i&&(i=l);let c;if(a.type===4?c=ms(a,t):a.type===14?c=uk(a,t):c=0,c===0)return c;c<i&&(i=c)}}return i}function fk(e){const t=e.codegenNode;if(t.type===13)return t.props}function wte(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,hmr:s=!1,cacheHandlers:n=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=or,isCustomElement:f=or,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:v=!1,inSSR:_=!1,ssrCssVars:E="",bindingMetadata:S=st,inline:A=!1,isTS:w=!1,onError:b=dE,onWarn:M=ek,compatConfig:O}){const C=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:t,selfName:C&&Al(Vt(C[1])),prefixIdentifiers:i,hoistStatic:r,hmr:s,cacheHandlers:n,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:v,inSSR:_,ssrCssVars:E,bindingMetadata:S,inline:A,isTS:w,onError:b,onWarn:M,compatConfig:O,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(N){const U=P.helpers.get(N)||0;return P.helpers.set(N,U+1),N},removeHelper(N){const U=P.helpers.get(N);if(U){const j=U-1;j?P.helpers.set(N,j):P.helpers.delete(N)}},helperString(N){return`_${Wh[P.helper(N)]}`},replaceNode(N){P.parent.children[P.childIndex]=P.currentNode=N},removeNode(N){const U=P.parent.children,j=N?U.indexOf(N):P.currentNode?P.childIndex:-1;!N||N===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>j&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(j,1)},onNodeRemoved:or,addIdentifiers(N){},removeIdentifiers(N){},hoist(N){Je(N)&&(N=Qe(N)),P.hoists.push(N);const U=Qe(`_hoisted_${P.hoists.length}`,!1,N.loc,2);return U.hoisted=N,U},cache(N,U=!1,j=!1){const F=zee(P.cached.length,N,U,j);return P.cached.push(F),F}};return P.filters=new Set,P}function xte(e,t){const i=wte(e,t);kv(e,i),t.hoistStatic&&bte(e,i),t.ssr||Ste(e,i),e.helpers=new Set([...i.helpers.keys()]),e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.transformed=!0,e.filters=[...i.filters]}function Ste(e,t){const{helper:i}=t,{children:r}=e;if(r.length===1){const s=r[0];if(ck(e,s)&&s.codegenNode){const n=s.codegenNode;n.type===13&&fE(n,t),e.codegenNode=n}else e.codegenNode=s}else if(r.length>1){let s=64;e.codegenNode=Jp(t,i(Hp),void 0,e.children,s,void 0,void 0,!0,void 0,!1)}}function Ete(e,t){let i=0;const r=()=>{i--};for(;i<e.children.length;i++){const s=e.children[i];Je(s)||(t.grandParent=t.parent,t.parent=e,t.childIndex=i,t.onNodeRemoved=r,kv(s,t))}}function kv(e,t){t.currentNode=e;const{nodeTransforms:i}=t,r=[];for(let n=0;n<i.length;n++){const o=i[n](e,t);if(o&&(Ee(o)?r.push(...o):r.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Bm);break;case 5:t.ssr||t.helper(Pv);break;case 9:for(let n=0;n<e.branches.length;n++)kv(e.branches[n],t);break;case 10:case 11:case 1:case 0:Ete(e,t);break}t.currentNode=e;let s=r.length;for(;s--;)r[s]()}function dk(e,t){const i=Je(e)?r=>r===e:r=>e.test(r);return(r,s)=>{if(r.type===1){const{props:n}=r;if(r.tagType===3&&n.some(ite))return;const o=[];for(let a=0;a<n.length;a++){const l=n[a];if(l.type===7&&i(l.name)){n.splice(a,1),a--;const c=t(r,l,s);c&&o.push(c)}}return o}}}const Rv="/*@__PURE__*/",pk=e=>`${Wh[e]}: _${Wh[e]}`;function Tte(e,{mode:t="function",prefixIdentifiers:i=t==="module",sourceMap:r=!1,filename:s="template.vue.html",scopeId:n=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:i,sourceMap:r,filename:s,scopeId:n,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(_){return`_${Wh[_]}`},push(_,E=-2,S){y.code+=_},indent(){v(++y.indentLevel)},deindent(_=!1){_?--y.indentLevel:v(--y.indentLevel)},newline(){v(y.indentLevel)}};function v(_){y.push(`
`+"  ".repeat(_),0)}return y}function Ate(e,t={}){const i=Tte(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:r,push:s,prefixIdentifiers:n,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=i,d=Array.from(e.helpers),p=d.length>0,y=!n&&r!=="module";Mte(e,i);const _=f?"ssrRender":"render",S=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${_}(${S}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${d.map(pk).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(t_(e.components,"component",i),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(t_(e.directives,"directive",i),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),t_(e.filters,"filter",i),l()),e.temps>0){s("let ");for(let A=0;A<e.temps;A++)s(`${A>0?", ":""}_temp${A}`)}return(e.components.length||e.directives.length||e.temps)&&(s(`
`,0),l()),f||s("return "),e.codegenNode?Er(e.codegenNode,i):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function Mte(e,t){const{ssr:i,prefixIdentifiers:r,push:s,newline:n,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,f=Array.from(e.helpers);if(f.length>0&&(s(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[X3,Q3,Bm,eE,Z8].filter(p=>f.includes(p)).map(pk).join(", ");s(`const { ${d} } = _Vue
`,-1)}Ote(e.hoists,t),n(),s("return ")}function t_(e,t,{helper:i,push:r,newline:s,isTS:n}){const o=i(t==="filter"?sE:t==="component"?tE:rE);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${Kp(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${n?"!":""}`),a<e.length-1&&s()}}function Ote(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:r}=t;r();for(let s=0;s<e.length;s++){const n=e[s];n&&(i(`const _hoisted_${s+1} = `),Er(n,t),r())}t.pure=!1}function yE(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),Gm(e,t,i),i&&t.deindent(),t.push("]")}function Gm(e,t,i=!1,r=!0){const{push:s,newline:n}=t;for(let o=0;o<e.length;o++){const a=e[o];Je(a)?s(a,-3):Ee(a)?yE(a,t):Er(a,t),o<e.length-1&&(i?(r&&s(","),n()):r&&s(", "))}}function Er(e,t){if(Je(e)){t.push(e,-3);return}if(ls(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Er(e.codegenNode,t);break;case 2:Ite(e,t);break;case 4:mk(e,t);break;case 5:$te(e,t);break;case 12:Er(e.codegenNode,t);break;case 8:yk(e,t);break;case 3:Nte(e,t);break;case 13:Pte(e,t);break;case 14:kte(e,t);break;case 15:Rte(e,t);break;case 17:Dte(e,t);break;case 18:Fte(e,t);break;case 19:Ute(e,t);break;case 20:jte(e,t);break;case 21:Gm(e.body,t,!0,!1);break}}function Ite(e,t){t.push(JSON.stringify(e.content),-3,e)}function mk(e,t){const{content:i,isStatic:r}=e;t.push(r?JSON.stringify(i):i,-3,e)}function $te(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Rv),i(`${r(Pv)}(`),Er(e.content,t),i(")")}function yk(e,t){for(let i=0;i<e.children.length;i++){const r=e.children[i];Je(r)?t.push(r,-3):Er(r,t)}}function Cte(e,t){const{push:i}=t;if(e.type===8)i("["),yk(e,t),i("]");else if(e.isStatic){const r=pE(e.content)?e.content:JSON.stringify(e.content);i(r,-2,e)}else i(`[${e.content}]`,-3,e)}function Nte(e,t){const{push:i,helper:r,pure:s}=t;s&&i(Rv),i(`${r(Bm)}(${JSON.stringify(e.content)})`,-3,e)}function Pte(e,t){const{push:i,helper:r,pure:s}=t,{tag:n,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=e;let v;l&&(v=String(l)),f&&i(r(nE)+"("),d&&i(`(${r(Zc)}(${p?"true":""}), `),s&&i(Rv);const _=d?Jh(t.inSSR,y):Yh(t.inSSR,y);i(r(_)+"(",-2,e),Gm(Lte([n,o,a,v,c]),t),i(")"),d&&i(")"),f&&(i(", "),Er(f,t),i(")"))}function Lte(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(i=>i||"null")}function kte(e,t){const{push:i,helper:r,pure:s}=t,n=Je(e.callee)?e.callee:r(e.callee);s&&i(Rv),i(n+"(",-2,e),Gm(e.arguments,t),i(")")}function Rte(e,t){const{push:i,indent:r,deindent:s,newline:n}=t,{properties:o}=e;if(!o.length){i("{}",-2,e);return}const a=o.length>1||!1;i(a?"{":"{ "),a&&r();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];Cte(c,t),i(": "),Er(f,t),l<o.length-1&&(i(","),n())}a&&s(),i(a?"}":" }")}function Dte(e,t){yE(e.elements,t)}function Fte(e,t){const{push:i,indent:r,deindent:s}=t,{params:n,returns:o,body:a,newline:l,isSlot:c}=e;c&&i(`_${Wh[uE]}(`),i("(",-2,e),Ee(n)?Gm(n,t):n&&Er(n,t),i(") => "),(l||a)&&(i("{"),r()),o?(l&&i("return "),Ee(o)?yE(o,t):Er(o,t)):a&&Er(a,t),(l||a)&&(s(),i("}")),c&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}function Ute(e,t){const{test:i,consequent:r,alternate:s,newline:n}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(i.type===4){const d=!pE(i.content);d&&o("("),mk(i,t),d&&o(")")}else o("("),Er(i,t),o(")");n&&a(),t.indentLevel++,n||o(" "),o("? "),Er(r,t),t.indentLevel--,n&&c(),n||o(" "),o(": ");const f=s.type===19;f||t.indentLevel++,Er(s,t),f||t.indentLevel--,n&&l(!0)}function jte(e,t){const{push:i,helper:r,indent:s,deindent:n,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&i("[...("),i(`_cache[${e.index}] || (`),a&&(s(),i(`${r(Yg)}(-1`),e.inVOnce&&i(", true"),i("),"),o(),i("(")),i(`_cache[${e.index}] = `),Er(e.value,t),a&&(i(`).cacheIndex = ${e.index},`),o(),i(`${r(Yg)}(1),`),o(),i(`_cache[${e.index}]`),n()),i(")"),l&&i(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Bte=dk(/^(if|else|else-if)$/,(e,t,i)=>Vte(e,t,i,(r,s,n)=>{const o=i.parent.children;let a=o.indexOf(r),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(n)r.codegenNode=$M(s,l,i);else{const c=Gte(r.codegenNode);c.alternate=$M(s,l+r.branches.length-1,i)}}}));function Vte(e,t,i,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const s=t.exp?t.exp.loc:e.loc;i.onError(ei(28,t.loc)),t.exp=Qe("true",!1,s)}if(t.name==="if"){const s=IM(e,t),n={type:9,loc:mte(e.loc),branches:[s]};if(i.replaceNode(n),r)return r(n,s,!0)}else{const s=i.parent.children;let n=s.indexOf(e);for(;n-->=-1;){const o=s[n];if(o&&o.type===3){i.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){i.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&i.onError(ei(30,e.loc)),i.removeNode();const a=IM(e,t);o.branches.push(a);const l=r&&r(o,a,!1);kv(a,i),l&&l(),i.currentNode=null}else i.onError(ei(30,e.loc));break}}}function IM(e,t){const i=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:i&&!Rs(e,"for")?e.children:[e],userKey:Lv(e,"key"),isTemplateIf:i}}function $M(e,t,i){return e.condition?Qw(e.condition,CM(e,t,i),Vi(i.helper(Bm),['""',"true"])):CM(e,t,i)}function CM(e,t,i){const{helper:r}=i,s=xi("key",Qe(`${t}`,!1,Es,2)),{children:n}=e,o=n[0];if(n.length!==1||o.type!==1)if(n.length===1&&o.type===11){const l=o.codegenNode;return Xg(l,s,i),l}else return Jp(i,r(Hp),Vs([s]),n,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=ste(l);return c.type===13&&fE(c,i),Xg(c,s,i),l}}function Gte(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const zte=(e,t,i)=>{const{modifiers:r,loc:s}=e,n=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(n.type!==4||!n.isStatic)return i.onError(ei(52,n.loc)),{props:[xi(n,Qe("",!0,s))]};gk(e),o=e.exp}return n.type!==4?(n.children.unshift("("),n.children.push(') || ""')):n.isStatic||(n.content=`${n.content} || ""`),r.some(a=>a.content==="camel")&&(n.type===4?n.isStatic?n.content=Vt(n.content):n.content=`${i.helperString(Kw)}(${n.content})`:(n.children.unshift(`${i.helperString(Kw)}(`),n.children.push(")"))),i.inSSR||(r.some(a=>a.content==="prop")&&NM(n,"."),r.some(a=>a.content==="attr")&&NM(n,"^")),{props:[xi(n,o)]}},gk=(e,t)=>{const i=e.arg,r=Vt(i.content);e.exp=Qe(r,!1,i.loc)},NM=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},qte=dk("for",(e,t,i)=>{const{helper:r,removeHelper:s}=i;return Wte(e,t,i,n=>{const o=Vi(r(oE),[n.source]),a=Zg(e),l=Rs(e,"memo"),c=Lv(e,"key",!1,!0);c&&c.type===7&&!c.exp&&gk(c);let d=c&&(c.type===6?c.value?Qe(c.value.content,!0):void 0:c.exp);const p=c&&d?xi("key",d):null,y=n.source.type===4&&n.source.constType>0,v=y?64:c?128:256;return n.codegenNode=Jp(i,r(Hp),void 0,o,v,void 0,void 0,!0,!y,!1,e.loc),()=>{let _;const{children:E}=n,S=E.length!==1||E[0].type!==1,A=Kg(e)?e:a&&e.children.length===1&&Kg(e.children[0])?e.children[0]:null;if(A?(_=A.codegenNode,a&&p&&Xg(_,p,i)):S?_=Jp(i,r(Hp),p?Vs([p]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(_=E[0].codegenNode,a&&p&&Xg(_,p,i),_.isBlock!==!y&&(_.isBlock?(s(Zc),s(Jh(i.inSSR,_.isComponent))):s(Yh(i.inSSR,_.isComponent))),_.isBlock=!y,_.isBlock?(r(Zc),r(Jh(i.inSSR,_.isComponent))):r(Yh(i.inSSR,_.isComponent))),l){const w=Hh(ix(n.parseResult,[Qe("_cached")]));w.body=qee([xn(["const _memo = (",l.exp,")"]),xn(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${i.helperString(Q8)}(_cached, _memo)) return _cached`]),xn(["const _item = ",_]),Qe("_item.memo = _memo"),Qe("return _item")]),o.arguments.push(w,Qe("_cache"),Qe(String(i.cached.length))),i.cached.push(null)}else o.arguments.push(Hh(ix(n.parseResult),_,!0))}})});function Wte(e,t,i,r){if(!t.exp){i.onError(ei(31,t.loc));return}const s=t.forParseResult;if(!s){i.onError(ei(32,t.loc));return}vk(s);const{addIdentifiers:n,removeIdentifiers:o,scopes:a}=i,{source:l,value:c,key:f,index:d}=s,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:s,children:Zg(e)?e.children:[e]};i.replaceNode(p),a.vFor++;const y=r&&r(p);return()=>{a.vFor--,y&&y()}}function vk(e,t){e.finalized||(e.finalized=!0)}function ix({value:e,key:t,index:i},r=[]){return Hte([e,t,i,...r])}function Hte(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((i,r)=>i||Qe("_".repeat(r+1),!1))}const PM=Qe("undefined",!1),Yte=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const i=Rs(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Jte=(e,t,i,r)=>Hh(e,i,!1,!0,i.length?i[0].loc:r);function Zte(e,t,i=Jte){t.helper(uE);const{children:r,loc:s}=e,n=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Rs(e,"slot",!0);if(l){const{arg:E,exp:S}=l;E&&!is(E)&&(a=!0),n.push(xi(E||Qe("default",!0),i(S,void 0,r,s)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let E=0;E<r.length;E++){const S=r[E];let A;if(!Zg(S)||!(A=Rs(S,"slot",!0))){S.type!==3&&d.push(S);continue}if(l){t.onError(ei(37,A.loc));break}c=!0;const{children:w,loc:b}=S,{arg:M=Qe("default",!0),exp:O,loc:C}=A;let P;is(M)?P=M?M.content:"default":a=!0;const N=Rs(S,"for"),U=i(O,N,w,b);let j,F;if(j=Rs(S,"if"))a=!0,o.push(Qw(j.exp,N0(M,U,y++),PM));else if(F=Rs(S,/^else(-if)?$/,!0)){let q=E,te;for(;q--&&(te=r[q],te.type===3););if(te&&Zg(te)&&Rs(te,/^(else-)?if$/)){let h=o[o.length-1];for(;h.alternate.type===19;)h=h.alternate;h.alternate=F.exp?Qw(F.exp,N0(M,U,y++),PM):N0(M,U,y++)}else t.onError(ei(30,F.loc))}else if(N){a=!0;const q=N.forParseResult;q?(vk(q),o.push(Vi(t.helper(oE),[q.source,Hh(ix(q),N0(M,U),!0)]))):t.onError(ei(32,N.loc))}else{if(P){if(p.has(P)){t.onError(ei(38,C));continue}p.add(P),P==="default"&&(f=!0)}n.push(xi(M,U))}}if(!l){const E=(S,A)=>{const w=i(S,void 0,A,s);return t.compatConfig&&(w.isNonScopedSlot=!0),xi("default",w)};c?d.length&&d.some(S=>bk(S))&&(f?t.onError(ei(39,d[0].loc)):n.push(E(void 0,d))):n.push(E(void 0,r))}const v=a?2:Fy(e.children)?3:1;let _=Vs(n.concat(xi("_",Qe(v+"",!1))),s);return o.length&&(_=Vi(t.helper(X8),[_,Ic(o)])),{slots:_,hasDynamicSlots:a}}function N0(e,t,i){const r=[xi("name",e),xi("fn",t)];return i!=null&&r.push(xi("key",Qe(String(i),!0))),Vs(r)}function Fy(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(i.tagType===2||Fy(i.children))return!0;break;case 9:if(Fy(i.branches))return!0;break;case 10:case 11:if(Fy(i.children))return!0;break}}return!1}function bk(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():bk(e.content)}const _k=new WeakMap,Kte=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:s}=e,n=e.tagType===1;let o=n?Xte(e,t):`"${r}"`;const a=Mt(o)&&o.callee===iE;let l,c,f=0,d,p,y,v=a||o===tp||o===K3||!n&&(r==="svg"||r==="foreignObject"||r==="math");if(s.length>0){const _=wk(e,t,void 0,n,a);l=_.props,f=_.patchFlag,p=_.dynamicPropNames;const E=_.directives;y=E&&E.length?Ic(E.map(S=>eie(S,t))):void 0,_.shouldUseBlock&&(v=!0)}if(e.children.length>0)if(o===Wg&&(v=!0,f|=1024),n&&o!==tp&&o!==Wg){const{slots:E,hasDynamicSlots:S}=Zte(e,t);c=E,S&&(f|=1024)}else if(e.children.length===1&&o!==tp){const E=e.children[0],S=E.type,A=S===5||S===8;A&&ms(E,t)===0&&(f|=1),A||S===2?c=E:c=e.children}else c=e.children;p&&p.length&&(d=tie(p)),e.codegenNode=Jp(t,o,l,c,f===0?void 0:f,d,y,!!v,!1,n,e.loc)};function Xte(e,t,i=!1){let{tag:r}=e;const s=rx(r),n=Lv(e,"is",!1,!0);if(n)if(s||$c("COMPILER_IS_ON_ELEMENT",t)){let a;if(n.type===6?a=n.value&&Qe(n.value.content,!0):(a=n.exp,a||(a=Qe("is",!1,n.arg.loc))),a)return Vi(t.helper(iE),[a])}else n.type===6&&n.value.content.startsWith("vue:")&&(r=n.value.content.slice(4));const o=tk(r)||t.isBuiltInComponent(r);return o?(i||t.helper(o),o):(t.helper(tE),t.components.add(r),Kp(r,"component"))}function wk(e,t,i=e.props,r,s,n=!1){const{tag:o,loc:a,children:l}=e;let c=[];const f=[],d=[],p=l.length>0;let y=!1,v=0,_=!1,E=!1,S=!1,A=!1,w=!1,b=!1;const M=[],O=U=>{c.length&&(f.push(Vs(LM(c),a)),c=[]),U&&f.push(U)},C=()=>{t.scopes.vFor>0&&c.push(xi(Qe("ref_for",!0),Qe("true")))},P=({key:U,value:j})=>{if(is(U)){const F=U.content,q=uu(F);if(q&&(!r||s)&&F.toLowerCase()!=="onclick"&&F!=="onUpdate:modelValue"&&!ul(F)&&(A=!0),q&&ul(F)&&(b=!0),q&&j.type===14&&(j=j.arguments[0]),j.type===20||(j.type===4||j.type===8)&&ms(j,t)>0)return;F==="ref"?_=!0:F==="class"?E=!0:F==="style"?S=!0:F!=="key"&&!M.includes(F)&&M.push(F),r&&(F==="class"||F==="style")&&!M.includes(F)&&M.push(F)}else w=!0};for(let U=0;U<i.length;U++){const j=i[U];if(j.type===6){const{loc:F,name:q,nameLoc:te,value:h}=j;let m=!0;if(q==="ref"&&(_=!0,C()),q==="is"&&(rx(o)||h&&h.content.startsWith("vue:")||$c("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(xi(Qe(q,!0,te),Qe(h?h.content:"",m,h?h.loc:F)))}else{const{name:F,arg:q,exp:te,loc:h,modifiers:m}=j,x=F==="bind",$=F==="on";if(F==="slot"){r||t.onError(ei(40,h));continue}if(F==="once"||F==="memo"||F==="is"||x&&wc(q,"is")&&(rx(o)||$c("COMPILER_IS_ON_ELEMENT",t))||$&&n)continue;if((x&&wc(q,"key")||$&&p&&wc(q,"vue:before-update"))&&(y=!0),x&&wc(q,"ref")&&C(),!q&&(x||$)){if(w=!0,te)if(x){if(C(),O(),$c("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(te);continue}f.push(te)}else O({type:14,loc:h,callee:t.helper(cE),arguments:r?[te]:[te,"true"]});else t.onError(ei(x?34:35,h));continue}x&&m.some(Y=>Y.content==="prop")&&(v|=32);const V=t.directiveTransforms[F];if(V){const{props:Y,needRuntime:pe}=V(j,e,t);!n&&Y.forEach(P),$&&q&&!is(q)?O(Vs(Y,a)):c.push(...Y),pe&&(d.push(j),ls(pe)&&_k.set(j,pe))}else dX(F)||(d.push(j),p&&(y=!0))}}let N;if(f.length?(O(),f.length>1?N=Vi(t.helper(Hg),f,a):N=f[0]):c.length&&(N=Vs(LM(c),a)),w?v|=16:(E&&!r&&(v|=2),S&&!r&&(v|=4),M.length&&(v|=8),A&&(v|=32)),!y&&(v===0||v===32)&&(_||b||d.length>0)&&(v|=512),!t.inSSR&&N)switch(N.type){case 15:let U=-1,j=-1,F=!1;for(let h=0;h<N.properties.length;h++){const m=N.properties[h].key;is(m)?m.content==="class"?U=h:m.content==="style"&&(j=h):m.isHandlerKey||(F=!0)}const q=N.properties[U],te=N.properties[j];F?N=Vi(t.helper(Yp),[N]):(q&&!is(q.value)&&(q.value=Vi(t.helper(aE),[q.value])),te&&(S||te.value.type===4&&te.value.content.trim()[0]==="["||te.value.type===17)&&(te.value=Vi(t.helper(lE),[te.value])));break;case 14:break;default:N=Vi(t.helper(Yp),[Vi(t.helper(Vm),[N])]);break}return{props:N,directives:d,patchFlag:v,dynamicPropNames:M,shouldUseBlock:y}}function LM(e){const t=new Map,i=[];for(let r=0;r<e.length;r++){const s=e[r];if(s.key.type===8||!s.key.isStatic){i.push(s);continue}const n=s.key.content,o=t.get(n);o?(n==="style"||n==="class"||uu(n))&&Qte(o,s):(t.set(n,s),i.push(s))}return i}function Qte(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Ic([e.value,t.value],e.loc)}function eie(e,t){const i=[],r=_k.get(e);r?i.push(t.helperString(r)):(t.helper(rE),t.directives.add(e.name),i.push(Kp(e.name,"directive")));const{loc:s}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const n=Qe("true",!1,s);i.push(Vs(e.modifiers.map(o=>xi(o,n)),s))}return Ic(i,e.loc)}function tie(e){let t="[";for(let i=0,r=e.length;i<r;i++)t+=JSON.stringify(e[i]),i<r-1&&(t+=", ");return t+"]"}function rx(e){return e==="component"||e==="Component"}const iie=(e,t)=>{if(Kg(e)){const{children:i,loc:r}=e,{slotName:s,slotProps:n}=rie(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;n&&(o[2]=n,a=3),i.length&&(o[3]=Hh([],i,!1,!1,r),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=Vi(t.helper(K8),o,r)}};function rie(e,t){let i='"default"',r;const s=[];for(let n=0;n<e.props.length;n++){const o=e.props[n];if(o.type===6)o.value&&(o.name==="name"?i=JSON.stringify(o.value.content):(o.name=Vt(o.name),s.push(o)));else if(o.name==="bind"&&wc(o.arg,"name")){if(o.exp)i=o.exp;else if(o.arg&&o.arg.type===4){const a=Vt(o.arg.content);i=o.exp=Qe(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&is(o.arg)&&(o.arg.content=Vt(o.arg.content)),s.push(o)}if(s.length>0){const{props:n,directives:o}=wk(e,t,s,!1,!1);r=n,o.length&&t.onError(ei(36,o[0].loc))}return{slotName:i,slotProps:r}}const xk=(e,t,i,r)=>{const{loc:s,modifiers:n,arg:o}=e;!e.exp&&!n.length&&i.onError(ei(35,s));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Ac(Vt(d)):`on:${d}`;a=Qe(p,!0,o.loc)}else a=xn([`${i.helperString(Xw)}(`,o,")"]);else a=o,a.children.unshift(`${i.helperString(Xw)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=i.cacheHandlers&&!l&&!i.inVOnce;if(l){const d=rk(l),p=!(d||ete(l)),y=l.content.includes(";");(p||c&&d)&&(l=xn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[xi(a,l||Qe("() => {}",!1,s))]};return r&&(f=r(f)),c&&(f.props[0].value=i.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},sie=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const i=e.children;let r,s=!1;for(let n=0;n<i.length;n++){const o=i[n];if(e_(o)){s=!0;for(let a=n+1;a<i.length;a++){const l=i[a];if(e_(l))r||(r=i[n]=xn([o],o.loc)),r.children.push(" + ",l),i.splice(a,1),a--;else{r=void 0;break}}}}if(!(!s||i.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(n=>n.type===7&&!t.directiveTransforms[n.name])&&e.tag!=="template")))for(let n=0;n<i.length;n++){const o=i[n];if(e_(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&ms(o,t)===0&&a.push("1"),i[n]={type:12,content:o,loc:o.loc,codegenNode:Vi(t.helper(eE),a)}}}}},kM=new WeakSet,nie=(e,t)=>{if(e.type===1&&Rs(e,"once",!0))return kM.has(e)||t.inVOnce||t.inSSR?void 0:(kM.add(e),t.inVOnce=!0,t.helper(Yg),()=>{t.inVOnce=!1;const i=t.currentNode;i.codegenNode&&(i.codegenNode=t.cache(i.codegenNode,!0,!0))})},Sk=(e,t,i)=>{const{exp:r,arg:s}=e;if(!r)return i.onError(ei(41,e.loc)),P0();const n=r.loc.source.trim(),o=r.type===4?r.content:n,a=i.bindingMetadata[n];if(a==="props"||a==="props-aliased")return i.onError(ei(44,r.loc)),P0();if(!o.trim()||!rk(r)&&!!1)return i.onError(ei(42,r.loc)),P0();const c=s||Qe("modelValue",!0),f=s?is(s)?`onUpdate:${Vt(s.content)}`:xn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let d;const p=i.isTS?"($event: any)":"$event";d=xn([`${p} => ((`,r,") = $event)"]);const y=[xi(c,e.exp),xi(f,d)];if(e.modifiers.length&&t.tagType===1){const v=e.modifiers.map(E=>E.content).map(E=>(pE(E)?E:JSON.stringify(E))+": true").join(", "),_=s?is(s)?`${s.content}Modifiers`:xn([s,' + "Modifiers"']):"modelModifiers";y.push(xi(_,Qe(`{ ${v} }`,!1,e.loc,2)))}return P0(y)};function P0(e=[]){return{props:e}}const oie=/[\w).+\-_$\]]/,aie=(e,t)=>{$c("COMPILER_FILTERS",t)&&(e.type===5?Qg(e.content,t):e.type===1&&e.props.forEach(i=>{i.type===7&&i.name!=="for"&&i.exp&&Qg(i.exp,t)}))};function Qg(e,t){if(e.type===4)RM(e,t);else for(let i=0;i<e.children.length;i++){const r=e.children[i];typeof r=="object"&&(r.type===4?RM(r,t):r.type===8?Qg(e,t):r.type===5&&Qg(r.content,t))}}function RM(e,t){const i=e.content;let r=!1,s=!1,n=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,v,_=[];for(y=0;y<i.length;y++)if(p=d,d=i.charCodeAt(y),r)d===39&&p!==92&&(r=!1);else if(s)d===34&&p!==92&&(s=!1);else if(n)d===96&&p!==92&&(n=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&i.charCodeAt(y+1)!==124&&i.charCodeAt(y-1)!==124&&!a&&!l&&!c)v===void 0?(f=y+1,v=i.slice(0,y).trim()):E();else{switch(d){case 34:s=!0;break;case 39:r=!0;break;case 96:n=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let S=y-1,A;for(;S>=0&&(A=i.charAt(S),A===" ");S--);(!A||!oie.test(A))&&(o=!0)}}v===void 0?v=i.slice(0,y).trim():f!==0&&E();function E(){_.push(i.slice(f,y).trim()),f=y+1}if(_.length){for(y=0;y<_.length;y++)v=lie(v,_[y],t);e.content=v,e.ast=void 0}}function lie(e,t,i){i.helper(sE);const r=t.indexOf("(");if(r<0)return i.filters.add(t),`${Kp(t,"filter")}(${e})`;{const s=t.slice(0,r),n=t.slice(r+1);return i.filters.add(s),`${Kp(s,"filter")}(${e}${n!==")"?","+n:n}`}}const DM=new WeakSet,cie=(e,t)=>{if(e.type===1){const i=Rs(e,"memo");return!i||DM.has(e)?void 0:(DM.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&fE(r,t),e.codegenNode=Vi(t.helper(hE),[i.exp,Hh(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function uie(e){return[[nie,Bte,cie,qte,aie,iie,Kte,Yte,sie],{on:xk,bind:zte,model:Sk}]}function hie(e,t={}){const i=t.onError||dE,r=t.mode==="module";t.prefixIdentifiers===!0?i(ei(47)):r&&i(ei(48));const s=!1;t.cacheHandlers&&i(ei(49)),t.scopeId&&!r&&i(ei(50));const n=nt({},t,{prefixIdentifiers:s}),o=Je(e)?vte(e,n):e,[a,l]=uie();return xte(o,nt({},n,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:nt({},l,t.directiveTransforms||{})})),Ate(o,n)}const fie=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ek=Symbol(""),Tk=Symbol(""),Ak=Symbol(""),Mk=Symbol(""),sx=Symbol(""),Ok=Symbol(""),Ik=Symbol(""),$k=Symbol(""),Ck=Symbol(""),Nk=Symbol("");Vee({[Ek]:"vModelRadio",[Tk]:"vModelCheckbox",[Ak]:"vModelText",[Mk]:"vModelSelect",[sx]:"vModelDynamic",[Ok]:"withModifiers",[Ik]:"withKeys",[$k]:"vShow",[Ck]:"Transition",[Nk]:"TransitionGroup"});let $u;function die(e,t=!1){return $u||($u=document.createElement("div")),t?($u.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,$u.children[0].getAttribute("foo")):($u.innerHTML=e,$u.textContent)}const pie={parseMode:"html",isVoidTag:IX,isNativeTag:e=>AX(e)||MX(e)||OX(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:die,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Ck;if(e==="TransitionGroup"||e==="transition-group")return Nk},getNamespace(e,t,i){let r=t?t.ns:i;if(t&&r===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(e==="svg")return 1;if(e==="math")return 2}return r}},mie=e=>{e.type===1&&e.props.forEach((t,i)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[i]={type:7,name:"bind",arg:Qe("style",!0,t.loc),exp:yie(t.value.content,t.loc),modifiers:[],loc:t.loc})})},yie=(e,t)=>{const i=gP(e);return Qe(JSON.stringify(i),!1,t,3)};function dl(e,t){return ei(e,t)}const gie=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(dl(53,s)),t.children.length&&(i.onError(dl(54,s)),t.children.length=0),{props:[xi(Qe("innerHTML",!0,s),r||Qe("",!0))]}},vie=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(dl(55,s)),t.children.length&&(i.onError(dl(56,s)),t.children.length=0),{props:[xi(Qe("textContent",!0),r?ms(r,i)>0?r:Vi(i.helperString(Pv),[r],s):Qe("",!0))]}},bie=(e,t,i)=>{const r=Sk(e,t,i);if(!r.props.length||t.tagType===1)return r;e.arg&&i.onError(dl(58,e.arg.loc));const{tag:s}=t,n=i.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||n){let o=Ak,a=!1;if(s==="input"||n){const l=Lv(t,"type");if(l){if(l.type===7)o=sx;else if(l.value)switch(l.value.content){case"radio":o=Ek;break;case"checkbox":o=Tk;break;case"file":a=!0,i.onError(dl(59,e.loc));break}}else tte(t)&&(o=sx)}else s==="select"&&(o=Mk);a||(r.needRuntime=i.helper(o))}else i.onError(dl(57,e.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},_ie=Ss("passive,once,capture"),wie=Ss("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),xie=Ss("left,right"),Pk=Ss("onkeyup,onkeydown,onkeypress"),Sie=(e,t,i,r)=>{const s=[],n=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&Zp("COMPILER_V_ON_NATIVE",i)||_ie(l)?o.push(l):xie(l)?is(e)?Pk(e.content.toLowerCase())?s.push(l):n.push(l):(s.push(l),n.push(l)):wie(l)?n.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:n,eventOptionModifiers:o}},FM=(e,t)=>is(e)&&e.content.toLowerCase()==="onclick"?Qe(t,!0):e.type!==4?xn(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Eie=(e,t,i)=>xk(e,t,i,r=>{const{modifiers:s}=e;if(!s.length)return r;let{key:n,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Sie(n,s,i,e.loc);if(l.includes("right")&&(n=FM(n,"onContextmenu")),l.includes("middle")&&(n=FM(n,"onMouseup")),l.length&&(o=Vi(i.helper(Ok),[o,JSON.stringify(l)])),a.length&&(!is(n)||Pk(n.content.toLowerCase()))&&(o=Vi(i.helper(Ik),[o,JSON.stringify(a)])),c.length){const f=c.map(Al).join("");n=is(n)?Qe(`${n.content}${f}`,!0):xn(["(",n,`) + "${f}"`])}return{props:[xi(n,o)]}}),Tie=(e,t,i)=>{const{exp:r,loc:s}=e;return r||i.onError(dl(61,s)),{props:[],needRuntime:i.helper($k)}},Aie=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},Mie=[mie],Oie={cloak:fie,html:gie,text:vie,model:bie,on:Eie,show:Tie};function Iie(e,t={}){return hie(e,nt({},pie,t,{nodeTransforms:[Aie,...Mie,...t.nodeTransforms||[]],directiveTransforms:nt({},Oie,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const UM=Object.create(null);function Lk(e,t){if(!Je(e))if(e.nodeType)e=e.innerHTML;else return or;const i=yX(e,t),r=UM[i];if(r)return r;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const s=nt({hoistStatic:!0,onError:void 0,onWarn:or},t);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:n}=Iie(e,s),o=new Function("Vue",n)(Ree);return o._rc=!0,UM[i]=o}V3(Lk);const _ve=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:g3,BaseTransitionPropsValidators:wv,Comment:_i,DeprecationTypes:E8,EffectScope:hv,ErrorCodes:ZP,ErrorTypeStrings:v8,Fragment:It,KeepAlive:yL,ReactiveEffect:Bh,Static:fl,Suspense:t8,Teleport:y3,Text:uo,TrackOpTypes:qP,Transition:Ov,TransitionGroup:$v,TriggerOpTypes:WP,VueElement:Um,assertNumber:JP,callWithAsyncErrorHandling:_s,callWithErrorHandling:fu,camelize:Vt,capitalize:Al,cloneVNode:$n,compatUtils:S8,compile:Lk,computed:tt,createApp:_l,createBlock:Bt,createCommentVNode:Wt,createElementBlock:we,createElementVNode:ue,createHydrationRenderer:k3,createPropsRestProxy:PL,createRenderer:L3,createSSRApp:Z3,createSlots:bL,createStaticVNode:l8,createTextVNode:ho,createVNode:Ke,customRef:f3,defineAsyncComponent:b3,defineComponent:rt,defineCustomElement:q3,defineEmits:xL,defineExpose:SL,defineModel:AL,defineOptions:EL,defineProps:wL,defineSSRCustomElement:P8,defineSlots:TL,devtools:b8,effect:MP,effectScope:Pm,getCurrentInstance:Li,getCurrentScope:fv,getCurrentWatcher:HP,getTransitionRawChildren:km,guardReactiveProps:j3,h:Bs,handleError:$l,hasInjectionContext:N3,hydrate:G8,hydrateOnIdle:fL,hydrateOnInteraction:mL,hydrateOnMediaQuery:pL,hydrateOnVisible:dL,initCustomFormatter:m8,initDirectivesForSSR:W8,inject:Pi,isMemoSame:G3,isProxy:Lm,isReactive:vs,isReadonly:aa,isRef:ht,isRuntimeOnly:f8,isShallow:rs,isVNode:In,markRaw:Si,mergeDefaults:CL,mergeModels:NL,mergeProps:Mv,nextTick:Pn,normalizeClass:di,normalizeProps:vP,normalizeStyle:Ml,onActivated:_3,onBeforeMount:Sv,onBeforeUnmount:Ln,onBeforeUpdate:Ev,onDeactivated:w3,onErrorCaptured:T3,onMounted:lr,onRenderTracked:E3,onRenderTriggered:S3,onScopeDispose:a3,onServerPrefetch:x3,onUnmounted:du,onUpdated:Cf,onWatcherCleanup:p3,openBlock:fe,popScopeId:iL,provide:C3,proxyRefs:vv,pushScopeId:tL,queuePostFlushCb:Vh,reactive:tr,readonly:yv,ref:X,registerRuntimeCompiler:V3,render:Th,renderList:Cl,renderSlot:pn,resolveComponent:bi,resolveDirective:Tt,resolveDynamicComponent:M3,resolveFilter:x8,resolveTransitionHooks:Hc,setBlockTracking:jg,setDevtoolsHook:_8,setTransitionHooks:wo,shallowReactive:h3,shallowReadonly:UP,shallowRef:$f,ssrContextKey:D3,ssrUtils:w8,stop:OP,toDisplayString:jt,toHandlerKey:Ac,toHandlers:_L,toRaw:Ge,toRef:GP,toRefs:d3,toValue:VP,transformVNodeArgs:o8,triggerRef:BP,unref:Oe,useAttrs:IL,useCssModule:k8,useCssVars:N8,useHost:W3,useId:hL,useModel:XL,useSSRContext:F3,useShadowRoot:L8,useSlots:OL,useTemplateRef:Rg,useTransitionState:_v,vModelCheckbox:Cv,vModelDynamic:Y3,vModelRadio:Nv,vModelSelect:H3,vModelText:Wp,vShow:Iv,version:z3,warn:g8,watch:Wi,watchEffect:JL,watchPostEffect:ZL,watchSyncEffect:U3,withAsyncContext:LL,withCtx:Ti,withDefaults:ML,withDirectives:Et,withKeys:J3,withMemo:y8,withModifiers:jm,withScopeId:rL},Symbol.toStringTag,{value:"Module"}));var $ie=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let kk;const Dv=e=>kk=e,Rk=Symbol();function nx(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ip;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ip||(ip={}));function Cie(){const e=Pm(!0),t=e.run(()=>X({}));let i=[],r=[];const s=Si({install(n){Dv(s),s._a=n,n.provide(Rk,s),n.config.globalProperties.$pinia=s,r.forEach(o=>i.push(o)),r=[]},use(n){return!this._a&&!$ie?r.push(n):i.push(n),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return s}const Dk=()=>{};function jM(e,t,i,r=Dk){e.push(t);const s=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!i&&fv()&&a3(s),s}function Cu(e,...t){e.slice().forEach(i=>{i(...t)})}const Nie=e=>e();function ox(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,r)=>e.set(r,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i],s=e[i];nx(s)&&nx(r)&&e.hasOwnProperty(i)&&!ht(r)&&!vs(r)?e[i]=ox(s,r):e[i]=r}return e}const Pie=Symbol();function Lie(e){return!nx(e)||!e.hasOwnProperty(Pie)}const{assign:Ua}=Object;function kie(e){return!!(ht(e)&&e.effect)}function Rie(e,t,i,r){const{state:s,actions:n,getters:o}=t,a=i.state.value[e];let l;function c(){a||(i.state.value[e]=s?s():{});const f=d3(i.state.value[e]);return Ua(f,n,Object.keys(o||{}).reduce((d,p)=>(d[p]=Si(tt(()=>{Dv(i);const y=i._s.get(e);return o[p].call(y,y)})),d),{}))}return l=Fk(e,c,t,i,r,!0),l}function Fk(e,t,i={},r,s,n){let o;const a=Ua({actions:{}},i),l={deep:!0};let c,f,d=[],p=[],y;const v=r.state.value[e];!n&&!v&&(r.state.value[e]={}),X({});let _;function E(P){let N;c=f=!1,typeof P=="function"?(P(r.state.value[e]),N={type:ip.patchFunction,storeId:e,events:y}):(ox(r.state.value[e],P),N={type:ip.patchObject,payload:P,storeId:e,events:y});const U=_=Symbol();Pn().then(()=>{_===U&&(c=!0)}),f=!0,Cu(d,N,r.state.value[e])}const S=n?function(){const{state:N}=i,U=N?N():{};this.$patch(j=>{Ua(j,U)})}:Dk;function A(){o.stop(),d=[],p=[],r._s.delete(e)}function w(P,N){return function(){Dv(r);const U=Array.from(arguments),j=[],F=[];function q(m){j.push(m)}function te(m){F.push(m)}Cu(p,{args:U,name:P,store:M,after:q,onError:te});let h;try{h=N.apply(this&&this.$id===e?this:M,U)}catch(m){throw Cu(F,m),m}return h instanceof Promise?h.then(m=>(Cu(j,m),m)).catch(m=>(Cu(F,m),Promise.reject(m))):(Cu(j,h),h)}}const b={_p:r,$id:e,$onAction:jM.bind(null,p),$patch:E,$reset:S,$subscribe(P,N={}){const U=jM(d,P,N.detached,()=>j()),j=o.run(()=>Wi(()=>r.state.value[e],F=>{(N.flush==="sync"?f:c)&&P({storeId:e,type:ip.direct,events:y},F)},Ua({},l,N)));return U},$dispose:A},M=tr(b);r._s.set(e,M);const C=(r._a&&r._a.runWithContext||Nie)(()=>r._e.run(()=>(o=Pm()).run(t)));for(const P in C){const N=C[P];if(ht(N)&&!kie(N)||vs(N))n||(v&&Lie(N)&&(ht(N)?N.value=v[P]:ox(N,v[P])),r.state.value[e][P]=N);else if(typeof N=="function"){const U=w(P,N);C[P]=U,a.actions[P]=N}}return Ua(M,C),Ua(Ge(M),C),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:P=>{E(N=>{Ua(N,P)})}}),r._p.forEach(P=>{Ua(M,o.run(()=>P({store:M,app:r._a,pinia:r,options:a})))}),v&&n&&i.hydrate&&i.hydrate(M.$state,v),c=!0,f=!0,M}function oi(e,t,i){let r,s;const n=typeof t=="function";typeof e=="string"?(r=e,s=n?i:t):(s=e,r=e.id);function o(a,l){const c=N3();return a=a||(c?Pi(Rk,null):null),a&&Dv(a),a=kk,a._s.has(r)||(n?Fk(r,t,s,a):Rie(r,s,a)),a._s.get(r)}return o.$id=r,o}const e1=oi("appbar",()=>{const e=X({}),t=X([]),i=X([]),r=tt(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function s(o){i.value.includes(o)||i.value.push(o)}function n(o){const a=i.value.indexOf(o);a!==-1&&i.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:i,visible:r,addTempButton:s,removeButton:n}}),ax=oi("grid",()=>{const e=X({}),t=X(),i=X();function r(a){e.value={...e.value,[a.id]:a}}function s(a){e.value[a]!==void 0&&delete e.value[a]}function n(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:i,addGrid:r,removeGrid:s,getGridId:n,removeLayer:o}});function Qa(e,t,i,r){var s,n=!1,o=0;function a(){s&&clearTimeout(s)}function l(){a(),n=!0}typeof t!="boolean"&&(r=i,i=t,t=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,v=Date.now()-o;if(n)return;function _(){o=Date.now(),i.apply(y,d)}function E(){s=void 0}r&&!s&&_(),a(),r===void 0&&v>e?_():t!==!0&&(s=setTimeout(r?E:_,r===void 0?e-v:e))}return c.cancel=l,c}function t1(e,t,i){return i===void 0?Qa(e,t,!1):Qa(e,i,t!==!1)}const nl=oi("map-caption",()=>{const e=X({text:{},logo:{}}),t=X({}),i=X({}),r=X({});function s(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function n(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:i,langtoggle:r,toggleScale:s,setAttribution:n}}),i_=(e,t)=>{const i=[...e];for(;i.length>0;){const r=i.shift();if(t(r))return r;r&&i.push(...r.sublayers)}},so=oi("layer",()=>{const e=X([]),t=X([]),i=X([]);function r(d){return i_(e.value,p=>p?.uid===d)}function s(d){return i_(e.value,p=>p?.id===d)}function n(d){return i_(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=i.value.length),i.value.splice(p,0,d.id),i.value=[...i.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=i.value.length&&(p=i.value.length-1);const y=i.value.findIndex(v=>v===d.id);y!==-1&&y!==p&&(i.value.splice(y,1),i.value.splice(p,0,d.id),i.value=[...i.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=i.value.filter(v=>v!==d.id);i.value=y}}function f(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:i,layerConfigs:t,getLayerByUid:r,getLayerById:s,getLayerByAny:n,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),es=oi("config",()=>{const e=X({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=X([]),i=X(),r=X({}),s=X({});function n(l){if(r.value[s.value[l]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return r.value[s.value[l]]}function o(l){const c={...e.value,...l};if(e.value=c,Array.isArray(e.value.layers)){const f=so();f.layerConfigs=[...f.layerConfigs,e.value.layers]}}function a(l){const c=l.configLangs,f=l.config,d=l.allLangs;c!==void 0&&c.length>0&&c.forEach(p=>{r.value[p]=f,s.value[p]=p}),d!==void 0&&d.length>0&&d.forEach(p=>{s.value[p]=Object.keys(r.value)[0]})}return{config:e,startingFixtures:t,activeBasemapConfig:i,registeredConfigs:r,registeredLangs:s,getActiveConfig:n,newConfig:o,registerConfig:a}}),Uk=oi("details",()=>{const e=X([]),t=X({}),i=X({}),r=X(),s=X(0),n=X(0),o=X(!0),a=X();function l(f){const d=e.value.findIndex(p=>p.uid===f.uid);d!==-1&&e.value.splice(d,1)}function c(f){t.value={...t.value,[f.id]:f}}return{payload:e,properties:t,defaultTemplates:i,currentFeatureId:r,activeGreedy:s,lastHilight:n,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Ls=oi("fixture",()=>{const e=X({}),t=X({});function i(o){return o.map(a=>t.value[a].getPromise())}function r(o){if(e.value={...e.value,[o.id]:Si(o)},o.id in t.value)t.value[o.id].resolveMe(Si(o));else{const a=new Ni;a.resolveMe(Si(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function s(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function n(o){t.value={...t.value,[o]:new Ni}}return{items:e,loadPromises:t,getLoadPromises:i,addFixture:r,removeFixture:s,addLoadPromise:n}});var $e=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))($e||{}),lx=(e=>(e.CONFIG_CHANGE_UPDATES_MAP_ATTRIBS="ramp_config_change_updates_map_attribs",e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(lx||{});class Die{eventName;handlerName;handlerFunc;constructor(t,i,r){this.eventName=t,this.handlerName=i,this.handlerFunc=r}}class Fie extends ki{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new cX.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values($e).filter(i=>typeof i=="string"&&i.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(i=>i.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(r=>{this._nameRegister.indexOf(r)===-1&&this._nameRegister.push(r)})}eventNames(){return this._nameRegister.slice()}on(t,i,r=""){if(this.findHandler(r))throw new Error("Duplicate handler name registration: "+r);r||(r=this.handlerNamer(t));const s=new Die(t,r,i);return this._eventRegister.push(s),this._eventBus.on(t,i),r}off(t){const i=this.findHandler(t);i&&(this._eventRegister.splice(this._eventRegister.indexOf(i),1),this._eventBus.off(i.eventName,i.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(r=>this.off(r))}removeDefaultEvents(){Object.values(lx).forEach(t=>{this.off(t)})}emit(t,...i){this._eventBus.emit(t,...i)}once(t,i,r=""){r||(r=this.handlerNamer(t));const s=(...n)=>{i(...n),this.off(r)};return this.on(t,s,r)}activeHandlers(t=""){return t===""?this._eventRegister.map(i=>i.handlerName):this._eventRegister.filter(i=>i.eventName===t).map(i=>i.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(lx)),t.map(i=>this.defaultHandlerFactory(i))}defaultHandlerFactory(t){let i;switch(t){case"ramp_config_change_updates_map_attribs":i=r=>{const s=r.map.basemaps.find(n=>n.id===this.$iApi.geo.map.getCurrentBasemapId());this.$iApi.geo.map.caption.updateAttribution(s?.attribution)},this.$iApi.event.on("config/configchanged",i,t);break;case"ramp_layer_error_updates_legend":i=r=>{if(r.layer.layerState===hi.ERROR){const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r.layer)}},this.$iApi.event.on("layer/layerstatechange",i,t);break;case"ramp_layer_register_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/registered",i,t);break;case"ramp_layer_reload_end_binds_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.updateLegend(r)},this.$iApi.event.on("layer/reloadend",i,t);break;case"ramp_layer_reload_start_updates_legend":i=r=>{if(!r.isSublayer){const s=this.$iApi.fixture.get("legend");s&&s.reloadLayerItem(r.uid)}},this.$iApi.event.on("layer/reloadstart",i,t);break;case"ramp_layer_remove_checks_grid":i=r=>{if(this.$iApi.fixture.get("grid")){const s=ax(this.$vApp.$pinia),n=s.getGridId(r.id);if(n===void 0)return;if(s.removeLayer(n,r.id),s.grids[n].layerIds.length===0){s.removeGrid(n);const o=s.currentId;if(n===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),s.currentId=void 0}}}},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_details":i=r=>{const s=Uk(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&s.removeLayer(r)},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_remove_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&(s.removeLayerItem(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:r.name})))},this.$iApi.event.on("layer/remove",i,t);break;case"ramp_layer_useradd_updates_legend":i=r=>{const s=this.$iApi.fixture.get("legend");s&&s.addLayerItem(r)},this.$iApi.event.on("user/layeradded",i,t);break;case"ramp_map_basemap_checks_tile_proj":i=r=>{r.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(s=>s.layerType===Le.TILE).forEach(s=>{s.checkProj()})},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_basemap_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(es(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",i,t);break;case"ramp_map_blur_updates_key_handler":i=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",i,t);break;case"ramp_map_click_runs_identify":i=r=>{r.button===0&&this.$iApi.geo.map.runIdentify(r)},this.on("map/click",i,t);break;case"ramp_map_created_initializes_fixtures":i=()=>{const r=Ls(this.$vApp.$pinia).items;Object.keys(r).forEach(s=>{r[s].initialized?.()})},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_created_updates_map_attribs":i=()=>{this.$iApi.geo.map.caption.updateAttribution(es(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&i(),this.$iApi.event.on("map/created",i,t);break;case"ramp_map_extent_updates_maptip":i=()=>{if(this.$iApi.geo.map.keysActive){const r=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(r)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",Qa(50,!0,()=>i()),t);break;case"ramp_map_graphichit_creates_maptip":i=r=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(r)},this.$iApi.event.on("map/graphichit",i,t);break;case"ramp_map_identify_opens_identify_results":i=r=>{const s=this.$iApi.fixture.get("details");s&&s.openDetails(r.results)},this.on("map/identify",i,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",Qa(50,()=>{const r=nl(this.$vApp.$pinia);r.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(n=>{r.coords={formattedString:n}})}),t);break;case"ramp_map_keydown_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyDown(r)},this.$iApi.event.on("map/keydown",i,t);break;case"ramp_map_keyup_updates_key_handler":i=r=>{this.$iApi.geo.map.mapKeyUp(r)},this.$iApi.event.on("map/keyup",i,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",Qa(50,r=>{const s=nl(this.$vApp.$pinia);s.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(r)).then(o=>{s.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousemove",Qa(50,r=>i(r)),t);break;case"ramp_map_mousedown_updates_maptip":i=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousedown",Qa(50,r=>{const s={screenX:r.offsetX,screenY:r.offsetY,button:r.button,moveTime:0};i(s)}),t);break;case"ramp_map_mouseleave_removes_maptip":i=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",i);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",t1(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",t1(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":i=r=>{const s=e1(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!s.order.flat().find(n=>n===r.id)&&s.removeButton(r.id)},this.on("panel/closed",i,t);break;case"ramp_panel_open_updates_appbar":i=r=>{const s=e1(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!r.teleport||r.teleport?.showAppbarButton)&&!s.order.flat().find(n=>n===r.id)&&s.addTempButton(r.id)},this.on("panel/opened",i,t);break;case"ramp_toggle_details":i=(r,s)=>{const n=this.$iApi.fixture.get("details");n&&n.toggleFeature(r,s)},this.$iApi.event.on("details/toggle",i,t);break;case"ramp_toggle_grid":i=(r,s)=>{const n=this.$iApi.fixture.get("grid");n&&n.toggleGrid(r.id,s)},this.$iApi.event.on("grid/toggle",i,t);break;case"ramp_toggle_help":i=r=>{const s=this.$iApi.fixture.get("help");s&&s.toggleHelp(r)},this.$iApi.event.on("help/toggle",i,t);break;case"ramp_toggle_metadata":i=(r,s)=>{const n=this.$iApi.fixture.get("metadata");n&&n.toggleMetadata(r,s)},this.$iApi.event.on("metadata/toggle",i,t);break;case"ramp_toggle_reorder":i=r=>{const s=this.$iApi.fixture.get("layer-reorder");s&&s.toggleLayerReorder(r)},this.$iApi.event.on("reorder/toggle",i,t);break;case"ramp_toggle_settings":i=(r,s)=>{const n=this.$iApi.fixture.get("settings");n&&n.toggleSettings(r,s)},this.$iApi.event.on("settings/toggle",i,t);break;case"ramp_toggle_wizard":i=r=>{const s=this.$iApi.fixture.get("wizard");s&&s.toggleWizard(r)},this.$iApi.event.on("wizard/toggle",i,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const i1=typeof window<"u",Nl=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Uie=(e,t,i)=>jie({l:e,k:t,s:i}),jie=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),wi=e=>typeof e=="number"&&isFinite(e),Bie=e=>Bk(e)==="[object Date]",wl=e=>Bk(e)==="[object RegExp]",Fv=e=>qe(e)&&Object.keys(e).length===0,ar=Object.assign,Vie=Object.create,Ct=(e=null)=>Vie(e);let BM;const ea=()=>BM||(BM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ct());function VM(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Gie=Object.prototype.hasOwnProperty;function mn(e,t){return Gie.call(e,t)}const Zt=Array.isArray,Ut=e=>typeof e=="function",_e=e=>typeof e=="string",it=e=>typeof e=="boolean",mt=e=>e!==null&&typeof e=="object",zie=e=>mt(e)&&Ut(e.then)&&Ut(e.catch),jk=Object.prototype.toString,Bk=e=>jk.call(e),qe=e=>{if(!mt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},qie=e=>e==null?"":Zt(e)||qe(e)&&e.toString===jk?JSON.stringify(e,null,2):String(e);function Wie(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}function Uv(e){let t=e;return()=>++t}function Hie(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const L0=e=>!mt(e)||Zt(e);function Uy(e,t){if(L0(e)||L0(t))throw new Error("Invalid value");const i=[{src:e,des:t}];for(;i.length;){const{src:r,des:s}=i.pop();Object.keys(r).forEach(n=>{n!=="__proto__"&&(mt(r[n])&&!mt(s[n])&&(s[n]=Array.isArray(r[n])?[]:Ct()),L0(s[n])||L0(r[n])?s[n]=r[n]:i.push({src:r[n],des:s[n]}))})}}/*!
  * message-compiler v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Yie(e,t,i){return{line:e,column:t,offset:i}}function r1(e,t,i){return{start:e,end:t}}const Jie=/\{([0-9a-zA-Z]+)\}/g;function Vk(e,...t){return t.length===1&&Zie(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(Jie,(i,r)=>t.hasOwnProperty(r)?t[r]:"")}const Gk=Object.assign,GM=e=>typeof e=="string",Zie=e=>e!==null&&typeof e=="object";function zk(e,t=""){return e.reduce((i,r,s)=>s===0?i+r:i+t+r,"")}const gE={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Kie={[gE.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Xie(e,t,...i){const r=Vk(Kie[e],...i||[]),s={message:String(r),code:e};return t&&(s.location=t),s}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Qie={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Nf(e,t,i={}){const{domain:r,messages:s,args:n}=i,o=Vk((s||Qie)[e]||"",...n||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=r,a}function ere(e){throw e}const Po=" ",tre="\r",$r=`
`,ire="\u2028",rre="\u2029";function sre(e){const t=e;let i=0,r=1,s=1,n=0;const o=C=>t[C]===tre&&t[C+1]===$r,a=C=>t[C]===$r,l=C=>t[C]===rre,c=C=>t[C]===ire,f=C=>o(C)||a(C)||l(C)||c(C),d=()=>i,p=()=>r,y=()=>s,v=()=>n,_=C=>o(C)||l(C)||c(C)?$r:t[C],E=()=>_(i),S=()=>_(i+n);function A(){return n=0,f(i)&&(r++,s=0),o(i)&&i++,i++,s++,t[i]}function w(){return o(i+n)&&n++,n++,t[i+n]}function b(){i=0,r=1,s=1,n=0}function M(C=0){n=C}function O(){const C=i+n;for(;C!==i;)A();n=0}return{index:d,line:p,column:y,peekOffset:v,charAt:_,currentChar:E,currentPeek:S,next:A,peek:w,reset:b,resetPeek:M,skipToPeek:O}}const Ea=void 0,nre=".",zM="'",ore="tokenizer";function are(e,t={}){const i=t.location!==!1,r=sre(e),s=()=>r.index(),n=()=>Yie(r.line(),r.column(),r.index()),o=n(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=t;function d(L,k,G,...ee){const se=c();if(k.column+=G,k.offset+=G,f){const ne=i?r1(se.startLoc,k):null,W=Nf(L,ne,{domain:ore,args:ee});f(W)}}function p(L,k,G){L.endLoc=n(),L.currentType=k;const ee={type:k};return i&&(ee.loc=r1(L.startLoc,L.endLoc)),G!=null&&(ee.value=G),ee}const y=L=>p(L,14);function v(L,k){return L.currentChar()===k?(L.next(),k):(d(Ue.EXPECTED_TOKEN,n(),0,k),"")}function _(L){let k="";for(;L.currentPeek()===Po||L.currentPeek()===$r;)k+=L.currentPeek(),L.peek();return k}function E(L){const k=_(L);return L.skipToPeek(),k}function S(L){if(L===Ea)return!1;const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k===95}function A(L){if(L===Ea)return!1;const k=L.charCodeAt(0);return k>=48&&k<=57}function w(L,k){const{currentType:G}=k;if(G!==2)return!1;_(L);const ee=S(L.currentPeek());return L.resetPeek(),ee}function b(L,k){const{currentType:G}=k;if(G!==2)return!1;_(L);const ee=L.currentPeek()==="-"?L.peek():L.currentPeek(),se=A(ee);return L.resetPeek(),se}function M(L,k){const{currentType:G}=k;if(G!==2)return!1;_(L);const ee=L.currentPeek()===zM;return L.resetPeek(),ee}function O(L,k){const{currentType:G}=k;if(G!==8)return!1;_(L);const ee=L.currentPeek()===".";return L.resetPeek(),ee}function C(L,k){const{currentType:G}=k;if(G!==9)return!1;_(L);const ee=S(L.currentPeek());return L.resetPeek(),ee}function P(L,k){const{currentType:G}=k;if(!(G===8||G===12))return!1;_(L);const ee=L.currentPeek()===":";return L.resetPeek(),ee}function N(L,k){const{currentType:G}=k;if(G!==10)return!1;const ee=()=>{const ne=L.currentPeek();return ne==="{"?S(L.peek()):ne==="@"||ne==="%"||ne==="|"||ne===":"||ne==="."||ne===Po||!ne?!1:ne===$r?(L.peek(),ee()):F(L,!1)},se=ee();return L.resetPeek(),se}function U(L){_(L);const k=L.currentPeek()==="|";return L.resetPeek(),k}function j(L){const k=_(L),G=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:G,hasSpace:k.length>0}}function F(L,k=!0){const G=(se=!1,ne="",W=!1)=>{const Z=L.currentPeek();return Z==="{"?ne==="%"?!1:se:Z==="@"||!Z?ne==="%"?!0:se:Z==="%"?(L.peek(),G(se,"%",!0)):Z==="|"?ne==="%"||W?!0:!(ne===Po||ne===$r):Z===Po?(L.peek(),G(!0,Po,W)):Z===$r?(L.peek(),G(!0,$r,W)):!0},ee=G();return k&&L.resetPeek(),ee}function q(L,k){const G=L.currentChar();return G===Ea?Ea:k(G)?(L.next(),G):null}function te(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36}function h(L){return q(L,te)}function m(L){const k=L.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36||k===45}function x(L){return q(L,m)}function $(L){const k=L.charCodeAt(0);return k>=48&&k<=57}function V(L){return q(L,$)}function Y(L){const k=L.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102}function pe(L){return q(L,Y)}function le(L){let k="",G="";for(;k=V(L);)G+=k;return G}function Me(L){E(L);const k=L.currentChar();return k!=="%"&&d(Ue.EXPECTED_TOKEN,n(),0,k),L.next(),"%"}function je(L){let k="";for(;;){const G=L.currentChar();if(G==="{"||G==="}"||G==="@"||G==="|"||!G)break;if(G==="%")if(F(L))k+=G,L.next();else break;else if(G===Po||G===$r)if(F(L))k+=G,L.next();else{if(U(L))break;k+=G,L.next()}else k+=G,L.next()}return k}function ze(L){E(L);let k="",G="";for(;k=x(L);)G+=k;return L.currentChar()===Ea&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G}function at(L){E(L);let k="";return L.currentChar()==="-"?(L.next(),k+=`-${le(L)}`):k+=le(L),L.currentChar()===Ea&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k}function Gt(L){return L!==zM&&L!==$r}function At(L){E(L),v(L,"'");let k="",G="";for(;k=q(L,Gt);)k==="\\"?G+=pi(L):G+=k;const ee=L.currentChar();return ee===$r||ee===Ea?(d(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,n(),0),ee===$r&&(L.next(),v(L,"'")),G):(v(L,"'"),G)}function pi(L){const k=L.currentChar();switch(k){case"\\":case"'":return L.next(),`\\${k}`;case"u":return Rt(L,k,4);case"U":return Rt(L,k,6);default:return d(Ue.UNKNOWN_ESCAPE_SEQUENCE,n(),0,k),""}}function Rt(L,k,G){v(L,k);let ee="";for(let se=0;se<G;se++){const ne=pe(L);if(!ne){d(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,n(),0,`\\${k}${ee}${L.currentChar()}`);break}ee+=ne}return`\\${k}${ee}`}function ri(L){return L!=="{"&&L!=="}"&&L!==Po&&L!==$r}function Ji(L){E(L);let k="",G="";for(;k=q(L,ri);)G+=k;return G}function B(L){let k="",G="";for(;k=h(L);)G+=k;return G}function D(L){const k=G=>{const ee=L.currentChar();return ee==="{"||ee==="%"||ee==="@"||ee==="|"||ee==="("||ee===")"||!ee||ee===Po?G:(G+=ee,L.next(),k(G))};return k("")}function H(L){E(L);const k=v(L,"|");return E(L),k}function oe(L,k){let G=null;switch(L.currentChar()){case"{":return k.braceNest>=1&&d(Ue.NOT_ALLOW_NEST_PLACEHOLDER,n(),0),L.next(),G=p(k,2,"{"),E(L),k.braceNest++,G;case"}":return k.braceNest>0&&k.currentType===2&&d(Ue.EMPTY_PLACEHOLDER,n(),0),L.next(),G=p(k,3,"}"),k.braceNest--,k.braceNest>0&&E(L),k.inLinked&&k.braceNest===0&&(k.inLinked=!1),G;case"@":return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=Q(L,k)||y(k),k.braceNest=0,G;default:{let se=!0,ne=!0,W=!0;if(U(L))return k.braceNest>0&&d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),G=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,G;if(k.braceNest>0&&(k.currentType===5||k.currentType===6||k.currentType===7))return d(Ue.UNTERMINATED_CLOSING_BRACE,n(),0),k.braceNest=0,ce(L,k);if(se=w(L,k))return G=p(k,5,ze(L)),E(L),G;if(ne=b(L,k))return G=p(k,6,at(L)),E(L),G;if(W=M(L,k))return G=p(k,7,At(L)),E(L),G;if(!se&&!ne&&!W)return G=p(k,13,Ji(L)),d(Ue.INVALID_TOKEN_IN_PLACEHOLDER,n(),0,G.value),E(L),G;break}}return G}function Q(L,k){const{currentType:G}=k;let ee=null;const se=L.currentChar();switch((G===8||G===9||G===12||G===10)&&(se===$r||se===Po)&&d(Ue.INVALID_LINKED_FORMAT,n(),0),se){case"@":return L.next(),ee=p(k,8,"@"),k.inLinked=!0,ee;case".":return E(L),L.next(),p(k,9,".");case":":return E(L),L.next(),p(k,10,":");default:return U(L)?(ee=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,ee):O(L,k)||P(L,k)?(E(L),Q(L,k)):C(L,k)?(E(L),p(k,12,B(L))):N(L,k)?(E(L),se==="{"?oe(L,k)||ee:p(k,11,D(L))):(G===8&&d(Ue.INVALID_LINKED_FORMAT,n(),0),k.braceNest=0,k.inLinked=!1,ce(L,k))}}function ce(L,k){let G={type:14};if(k.braceNest>0)return oe(L,k)||y(k);if(k.inLinked)return Q(L,k)||y(k);switch(L.currentChar()){case"{":return oe(L,k)||y(k);case"}":return d(Ue.UNBALANCED_CLOSING_BRACE,n(),0),L.next(),p(k,3,"}");case"@":return Q(L,k)||y(k);default:{if(U(L))return G=p(k,1,H(L)),k.braceNest=0,k.inLinked=!1,G;const{isModulo:se,hasSpace:ne}=j(L);if(se)return ne?p(k,0,je(L)):p(k,4,Me(L));if(F(L))return p(k,0,je(L));break}}return G}function ye(){const{currentType:L,offset:k,startLoc:G,endLoc:ee}=l;return l.lastType=L,l.lastOffset=k,l.lastStartLoc=G,l.lastEndLoc=ee,l.offset=s(),l.startLoc=n(),r.currentChar()===Ea?p(l,14):ce(r,l)}return{nextToken:ye,currentOffset:s,currentPosition:n,context:c}}const lre="parser",cre=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function ure(e,t,i){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||i,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function hre(e={}){const t=e.location!==!1,{onError:i,onWarn:r}=e;function s(w,b,M,O,...C){const P=w.currentPosition();if(P.offset+=O,P.column+=O,i){const N=t?r1(M,P):null,U=Nf(b,N,{domain:lre,args:C});i(U)}}function n(w,b,M,O,...C){const P=w.currentPosition();if(P.offset+=O,P.column+=O,r){const N=t?r1(M,P):null;r(Xie(b,N,C))}}function o(w,b,M){const O={type:w};return t&&(O.start=b,O.end=b,O.loc={start:M,end:M}),O}function a(w,b,M,O){t&&(w.end=b,w.loc&&(w.loc.end=M))}function l(w,b){const M=w.context(),O=o(3,M.offset,M.startLoc);return O.value=b,a(O,w.currentOffset(),w.currentPosition()),O}function c(w,b){const M=w.context(),{lastOffset:O,lastStartLoc:C}=M,P=o(5,O,C);return P.index=parseInt(b,10),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function f(w,b,M){const O=w.context(),{lastOffset:C,lastStartLoc:P}=O,N=o(4,C,P);return N.key=b,M===!0&&(N.modulo=!0),w.nextToken(),a(N,w.currentOffset(),w.currentPosition()),N}function d(w,b){const M=w.context(),{lastOffset:O,lastStartLoc:C}=M,P=o(9,O,C);return P.value=b.replace(cre,ure),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function p(w){const b=w.nextToken(),M=w.context(),{lastOffset:O,lastStartLoc:C}=M,P=o(8,O,C);return b.type!==12?(s(w,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),P.value="",a(P,O,C),{nextConsumeToken:b,node:P}):(b.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,tn(b)),P.value=b.value||"",a(P,w.currentOffset(),w.currentPosition()),{node:P})}function y(w,b){const M=w.context(),O=o(7,M.offset,M.startLoc);return O.value=b,a(O,w.currentOffset(),w.currentPosition()),O}function v(w){const b=w.context(),M=o(6,b.offset,b.startLoc);let O=w.nextToken();if(O.type===9){const C=p(w);M.modifier=C.node,O=C.nextConsumeToken||w.nextToken()}switch(O.type!==10&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(O)),O=w.nextToken(),O.type===2&&(O=w.nextToken()),O.type){case 11:O.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(O)),M.key=y(w,O.value||"");break;case 5:O.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(O)),M.key=f(w,O.value||"");break;case 6:O.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(O)),M.key=c(w,O.value||"");break;case 7:O.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(O)),M.key=d(w,O.value||"");break;default:{s(w,Ue.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const C=w.context(),P=o(7,C.offset,C.startLoc);return P.value="",a(P,C.offset,C.startLoc),M.key=P,a(M,C.offset,C.startLoc),{nextConsumeToken:O,node:M}}}return a(M,w.currentOffset(),w.currentPosition()),{node:M}}function _(w){const b=w.context(),M=b.currentType===1?w.currentOffset():b.offset,O=b.currentType===1?b.endLoc:b.startLoc,C=o(2,M,O);C.items=[];let P=null,N=null;do{const F=P||w.nextToken();switch(P=null,F.type){case 0:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(F)),C.items.push(l(w,F.value||""));break;case 6:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(F)),C.items.push(c(w,F.value||""));break;case 4:N=!0;break;case 5:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(F)),C.items.push(f(w,F.value||"",!!N)),N&&(n(w,gE.USE_MODULO_SYNTAX,b.lastStartLoc,0,tn(F)),N=null);break;case 7:F.value==null&&s(w,Ue.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,tn(F)),C.items.push(d(w,F.value||""));break;case 8:{const q=v(w);C.items.push(q.node),P=q.nextConsumeToken||null;break}}}while(b.currentType!==14&&b.currentType!==1);const U=b.currentType===1?b.lastOffset:w.currentOffset(),j=b.currentType===1?b.lastEndLoc:w.currentPosition();return a(C,U,j),C}function E(w,b,M,O){const C=w.context();let P=O.items.length===0;const N=o(1,b,M);N.cases=[],N.cases.push(O);do{const U=_(w);P||(P=U.items.length===0),N.cases.push(U)}while(C.currentType!==14);return P&&s(w,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(N,w.currentOffset(),w.currentPosition()),N}function S(w){const b=w.context(),{offset:M,startLoc:O}=b,C=_(w);return b.currentType===14?C:E(w,M,O,C)}function A(w){const b=are(w,Gk({},e)),M=b.context(),O=o(0,M.offset,M.startLoc);return t&&O.loc&&(O.loc.source=w),O.body=S(b),e.onCacheKey&&(O.cacheKey=e.onCacheKey(w)),M.currentType!==14&&s(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,w[M.offset]||""),a(O,b.currentOffset(),b.currentPosition()),O}return{parse:A}}function tn(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function fre(e,t={}){const i={ast:e,helpers:new Set};return{context:()=>i,helper:n=>(i.helpers.add(n),n)}}function qM(e,t){for(let i=0;i<e.length;i++)vE(e[i],t)}function vE(e,t){switch(e.type){case 1:qM(e.cases,t),t.helper("plural");break;case 2:qM(e.items,t);break;case 6:{vE(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function dre(e,t={}){const i=fre(e);i.helper("normalize"),e.body&&vE(e.body,i);const r=i.context();e.helpers=Array.from(r.helpers)}function pre(e){const t=e.body;return t.type===2?WM(t):t.cases.forEach(i=>WM(i)),e}function WM(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let i=0;i<e.items.length;i++){const r=e.items[i];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=zk(t);for(let i=0;i<e.items.length;i++){const r=e.items[i];(r.type===3||r.type===9)&&delete r.value}}}}const mre="minifier";function qu(e){switch(e.t=e.type,e.type){case 0:{const t=e;qu(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,i=t.cases;for(let r=0;r<i.length;r++)qu(i[r]);t.c=i,delete t.cases;break}case 2:{const t=e,i=t.items;for(let r=0;r<i.length;r++)qu(i[r]);t.i=i,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;qu(t.key),t.k=t.key,delete t.key,t.modifier&&(qu(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Nf(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:mre,args:[e.type]})}delete e.type}const yre="parser";function gre(e,t){const{sourceMap:i,filename:r,breakLineCode:s,needIndent:n}=t,o=t.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:n,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(E,S){a.code+=E}function f(E,S=!0){const A=S?s:"";c(n?A+"  ".repeat(E):A)}function d(E=!0){const S=++a.indentLevel;E&&f(S)}function p(E=!0){const S=--a.indentLevel;E&&f(S)}function y(){f(a.indentLevel)}return{context:l,push:c,indent:d,deindent:p,newline:y,helper:E=>`_${E}`,needIndent:()=>a.needIndent}}function vre(e,t){const{helper:i}=e;e.push(`${i("linked")}(`),Zh(e,t.key),t.modifier?(e.push(", "),Zh(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function bre(e,t){const{helper:i,needIndent:r}=e;e.push(`${i("normalize")}([`),e.indent(r());const s=t.items.length;for(let n=0;n<s&&(Zh(e,t.items[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}function _re(e,t){const{helper:i,needIndent:r}=e;if(t.cases.length>1){e.push(`${i("plural")}([`),e.indent(r());const s=t.cases.length;for(let n=0;n<s&&(Zh(e,t.cases[n]),n!==s-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}function wre(e,t){t.body?Zh(e,t.body):e.push("null")}function Zh(e,t){const{helper:i}=e;switch(t.type){case 0:wre(e,t);break;case 1:_re(e,t);break;case 2:bre(e,t);break;case 6:vre(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${i("interpolate")}(${i("list")}(${t.index}))`,t);break;case 4:e.push(`${i("interpolate")}(${i("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Nf(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:yre,args:[t.type]})}}const xre=(e,t={})=>{const i=GM(t.mode)?t.mode:"normal",r=GM(t.filename)?t.filename:"message.intl",s=!!t.sourceMap,n=t.breakLineCode!=null?t.breakLineCode:i==="arrow"?";":`
`,o=t.needIndent?t.needIndent:i!=="arrow",a=e.helpers||[],l=gre(e,{mode:i,filename:r,sourceMap:s,breakLineCode:n,needIndent:o});l.push(i==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${zk(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),Zh(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:f}=l.context();return{ast:e,code:c,map:f?f.toJSON():void 0}};function Sre(e,t={}){const i=Gk({},t),r=!!i.jit,s=!!i.minify,n=i.optimize==null?!0:i.optimize,a=hre(i).parse(e);return r?(n&&pre(a),s&&qu(a),{ast:a,code:""}):(dre(a,i),xre(a,i))}/*!
  * core-base v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Ere(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ea().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ea().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ea().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Pl=[];Pl[0]={w:[0],i:[3,0],"[":[4],o:[7]};Pl[1]={w:[1],".":[2],"[":[4],o:[7]};Pl[2]={w:[2],i:[3,0],0:[3,0]};Pl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Pl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Pl[5]={"'":[4,0],o:8,l:[5,0]};Pl[6]={'"':[4,0],o:8,l:[6,0]};const Tre=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Are(e){return Tre.test(e)}function Mre(e){const t=e.charCodeAt(0),i=e.charCodeAt(e.length-1);return t===i&&(t===34||t===39)?e.slice(1,-1):e}function Ore(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Ire(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Are(t)?Mre(t):"*"+t}function $re(e){const t=[];let i=-1,r=0,s=0,n,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),s++},p[3]=()=>{if(s>0)s--,r=4,p[0]();else{if(s=0,o===void 0||(o=Ire(o),o===!1))return!1;p[1]()}};function y(){const v=e[i+1];if(r===5&&v==="'"||r===6&&v==='"')return i++,a="\\"+v,p[0](),!0}for(;r!==null;)if(i++,n=e[i],!(n==="\\"&&y())){if(l=Ore(n),d=Pl[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=n,f()===!1))))return;if(r===7)return t}}const HM=new Map;function Cre(e,t){return mt(e)?e[t]:null}function Nre(e,t){if(!mt(e))return null;let i=HM.get(t);if(i||(i=$re(t),i&&HM.set(t,i)),!i)return null;const r=i.length;let s=e,n=0;for(;n<r;){const o=s[i[n]];if(o===void 0||Ut(s))return null;s=o,n++}return s}const Pre=e=>e,Lre=e=>"",kre="text",Rre=e=>e.length===0?"":Wie(e),Dre=qie;function YM(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Fre(e){const t=wi(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(wi(e.named.count)||wi(e.named.n))?wi(e.named.count)?e.named.count:wi(e.named.n)?e.named.n:t:t}function Ure(e,t){t.count||(t.count=e),t.n||(t.n=e)}function jre(e={}){const t=e.locale,i=Fre(e),r=mt(e.pluralRules)&&_e(t)&&Ut(e.pluralRules[t])?e.pluralRules[t]:YM,s=mt(e.pluralRules)&&_e(t)&&Ut(e.pluralRules[t])?YM:void 0,n=S=>S[r(i,S.length,s)],o=e.list||[],a=S=>o[S],l=e.named||Ct();wi(e.pluralIndex)&&Ure(i,l);const c=S=>l[S];function f(S){const A=Ut(e.messages)?e.messages(S):mt(e.messages)?e.messages[S]:!1;return A||(e.parent?e.parent.message(S):Lre)}const d=S=>e.modifiers?e.modifiers[S]:Pre,p=qe(e.processor)&&Ut(e.processor.normalize)?e.processor.normalize:Rre,y=qe(e.processor)&&Ut(e.processor.interpolate)?e.processor.interpolate:Dre,v=qe(e.processor)&&_e(e.processor.type)?e.processor.type:kre,E={list:a,named:c,plural:n,linked:(S,...A)=>{const[w,b]=A;let M="text",O="";A.length===1?mt(w)?(O=w.modifier||O,M=w.type||M):_e(w)&&(O=w||O):A.length===2&&(_e(w)&&(O=w||O),_e(b)&&(M=b||M));const C=f(S)(E),P=M==="vnode"&&Zt(C)&&O?C[0]:C;return O?d(O)(P,M):P},message:f,type:v,interpolate:y,normalize:p,values:ar(Ct(),o,l)};return E}let Qp=null;function Bre(e){Qp=e}function Vre(e,t,i){Qp&&Qp.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:i})}const Gre=zre("function:translate");function zre(e){return t=>Qp&&Qp.emit(e,t)}const qk=gE.__EXTEND_POINT__,Wl=Uv(qk),qre={NOT_FOUND_KEY:qk,FALLBACK_TO_TRANSLATE:Wl(),CANNOT_FORMAT_NUMBER:Wl(),FALLBACK_TO_NUMBER_FORMAT:Wl(),CANNOT_FORMAT_DATE:Wl(),FALLBACK_TO_DATE_FORMAT:Wl(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Wl(),__EXTEND_POINT__:Wl()},Wk=Ue.__EXTEND_POINT__,Hl=Uv(Wk),yn={INVALID_ARGUMENT:Wk,INVALID_DATE_ARGUMENT:Hl(),INVALID_ISO_DATE_ARGUMENT:Hl(),NOT_SUPPORT_NON_STRING_MESSAGE:Hl(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Hl(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Hl(),NOT_SUPPORT_LOCALE_TYPE:Hl(),__EXTEND_POINT__:Hl()};function no(e){return Nf(e,null,void 0)}function bE(e,t){return t.locale!=null?JM(t.locale):JM(e.locale)}let r_;function JM(e){if(_e(e))return e;if(Ut(e)){if(e.resolvedOnce&&r_!=null)return r_;if(e.constructor.name==="Function"){const t=e();if(zie(t))throw no(yn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return r_=t}else throw no(yn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw no(yn.NOT_SUPPORT_LOCALE_TYPE)}function Wre(e,t,i){return[...new Set([i,...Zt(t)?t:mt(t)?Object.keys(t):_e(t)?[t]:[i]])]}function Hk(e,t,i){const r=_e(i)?i:Kh,s=e;s.__localeChainCache||(s.__localeChainCache=new Map);let n=s.__localeChainCache.get(r);if(!n){n=[];let o=[i];for(;Zt(o);)o=ZM(n,o,t);const a=Zt(t)||!qe(t)?t:t.default?t.default:null;o=_e(a)?[a]:a,Zt(o)&&ZM(n,o,!1),s.__localeChainCache.set(r,n)}return n}function ZM(e,t,i){let r=!0;for(let s=0;s<t.length&&it(r);s++){const n=t[s];_e(n)&&(r=Hre(e,t[s],i))}return r}function Hre(e,t,i){let r;const s=t.split("-");do{const n=s.join("-");r=Yre(e,n,i),s.splice(-1,1)}while(s.length&&r===!0);return r}function Yre(e,t,i){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const s=t.replace(/!/g,"");e.push(s),(Zt(i)||qe(i))&&i[s]&&(r=i[s])}return r}const Jre="9.14.3",jv=-1,Kh="en-US",KM="",XM=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Zre(){return{upper:(e,t)=>t==="text"&&_e(e)?e.toUpperCase():t==="vnode"&&mt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&_e(e)?e.toLowerCase():t==="vnode"&&mt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&_e(e)?XM(e):t==="vnode"&&mt(e)&&"__v_isVNode"in e?XM(e.children):e}}let Yk;function QM(e){Yk=e}let Jk;function Kre(e){Jk=e}let Zk;function Xre(e){Zk=e}let Kk=null;const Qre=e=>{Kk=e},ese=()=>Kk;let Xk=null;const eO=e=>{Xk=e},tse=()=>Xk;let tO=0;function ise(e={}){const t=Ut(e.onWarn)?e.onWarn:Hie,i=_e(e.version)?e.version:Jre,r=_e(e.locale)||Ut(e.locale)?e.locale:Kh,s=Ut(r)?Kh:r,n=Zt(e.fallbackLocale)||qe(e.fallbackLocale)||_e(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:s,o=qe(e.messages)?e.messages:s_(s),a=qe(e.datetimeFormats)?e.datetimeFormats:s_(s),l=qe(e.numberFormats)?e.numberFormats:s_(s),c=ar(Ct(),e.modifiers,Zre()),f=e.pluralRules||Ct(),d=Ut(e.missing)?e.missing:null,p=it(e.missingWarn)||wl(e.missingWarn)?e.missingWarn:!0,y=it(e.fallbackWarn)||wl(e.fallbackWarn)?e.fallbackWarn:!0,v=!!e.fallbackFormat,_=!!e.unresolving,E=Ut(e.postTranslation)?e.postTranslation:null,S=qe(e.processor)?e.processor:null,A=it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,w=!!e.escapeParameter,b=Ut(e.messageCompiler)?e.messageCompiler:Yk,M=Ut(e.messageResolver)?e.messageResolver:Jk||Cre,O=Ut(e.localeFallbacker)?e.localeFallbacker:Zk||Wre,C=mt(e.fallbackContext)?e.fallbackContext:void 0,P=e,N=mt(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,U=mt(P.__numberFormatters)?P.__numberFormatters:new Map,j=mt(P.__meta)?P.__meta:{};tO++;const F={version:i,cid:tO,locale:r,fallbackLocale:n,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:v,unresolving:_,postTranslation:E,processor:S,warnHtmlMessage:A,escapeParameter:w,messageCompiler:b,messageResolver:M,localeFallbacker:O,fallbackContext:C,onWarn:t,__meta:j};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=N,F.__numberFormatters=U,__INTLIFY_PROD_DEVTOOLS__&&Vre(F,i,j),F}const s_=e=>({[e]:Ct()});function _E(e,t,i,r,s){const{missing:n,onWarn:o}=e;if(n!==null){const a=n(e,i,t,s);return _e(a)?a:t}else return t}function Yf(e,t,i){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,i,t)}function rse(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function sse(e,t){const i=t.indexOf(e);if(i===-1)return!1;for(let r=i+1;r<t.length;r++)if(rse(e,t[r]))return!0;return!1}function n_(e){return i=>nse(i,e)}function nse(e,t){const i=ase(t);if(i==null)throw em(0);if(wE(i)===1){const n=cse(i);return e.plural(n.reduce((o,a)=>[...o,iO(e,a)],[]))}else return iO(e,i)}const ose=["b","body"];function ase(e){return Ll(e,ose)}const lse=["c","cases"];function cse(e){return Ll(e,lse,[])}function iO(e,t){const i=hse(t);if(i!=null)return e.type==="text"?i:e.normalize([i]);{const r=dse(t).reduce((s,n)=>[...s,cx(e,n)],[]);return e.normalize(r)}}const use=["s","static"];function hse(e){return Ll(e,use)}const fse=["i","items"];function dse(e){return Ll(e,fse,[])}function cx(e,t){const i=wE(t);switch(i){case 3:return k0(t,i);case 9:return k0(t,i);case 4:{const r=t;if(mn(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(mn(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw em(i)}case 5:{const r=t;if(mn(r,"i")&&wi(r.i))return e.interpolate(e.list(r.i));if(mn(r,"index")&&wi(r.index))return e.interpolate(e.list(r.index));throw em(i)}case 6:{const r=t,s=gse(r),n=bse(r);return e.linked(cx(e,n),s?cx(e,s):void 0,e.type)}case 7:return k0(t,i);case 8:return k0(t,i);default:throw new Error(`unhandled node on format message part: ${i}`)}}const pse=["t","type"];function wE(e){return Ll(e,pse)}const mse=["v","value"];function k0(e,t){const i=Ll(e,mse);if(i)return i;throw em(t)}const yse=["m","modifier"];function gse(e){return Ll(e,yse)}const vse=["k","key"];function bse(e){const t=Ll(e,vse);if(t)return t;throw em(6)}function Ll(e,t,i){for(let r=0;r<t.length;r++){const s=t[r];if(mn(e,s)&&e[s]!=null)return e[s]}return i}function em(e){return new Error(`unhandled node type: ${e}`)}const Qk=e=>e;let sh=Ct();function Xh(e){return mt(e)&&wE(e)===0&&(mn(e,"b")||mn(e,"body"))}function eR(e,t={}){let i=!1;const r=t.onError||ere;return t.onError=s=>{i=!0,r(s)},{...Sre(e,t),detectError:i}}const _se=(e,t)=>{if(!_e(e))throw no(yn.NOT_SUPPORT_NON_STRING_MESSAGE);{it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||Qk)(e),s=sh[r];if(s)return s;const{code:n,detectError:o}=eR(e,t),a=new Function(`return ${n}`)();return o?a:sh[r]=a}};function wse(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&_e(e)){it(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||Qk)(e),s=sh[r];if(s)return s;const{ast:n,detectError:o}=eR(e,{...t,location:!1,jit:!0}),a=n_(n);return o?a:sh[r]=a}else{const i=e.cacheKey;if(i){const r=sh[i];return r||(sh[i]=n_(e))}else return n_(e)}}const rO=()=>"",Ds=e=>Ut(e);function sO(e,...t){const{fallbackFormat:i,postTranslation:r,unresolving:s,messageCompiler:n,fallbackLocale:o,messages:a}=e,[l,c]=ux(...t),f=it(c.missingWarn)?c.missingWarn:e.missingWarn,d=it(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=it(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,v=_e(c.default)||it(c.default)?it(c.default)?n?l:()=>l:c.default:i?n?l:()=>l:"",_=i||v!=="",E=bE(e,c);p&&xse(c);let[S,A,w]=y?[l,E,a[E]||Ct()]:tR(e,l,E,o,d,f),b=S,M=l;if(!y&&!(_e(b)||Xh(b)||Ds(b))&&_&&(b=v,M=b),!y&&(!(_e(b)||Xh(b)||Ds(b))||!_e(A)))return s?jv:l;let O=!1;const C=()=>{O=!0},P=Ds(b)?b:iR(e,l,A,b,M,C);if(O)return b;const N=Tse(e,A,w,c),U=jre(N),j=Sse(e,P,U),F=r?r(j,l):j;if(__INTLIFY_PROD_DEVTOOLS__){const q={timestamp:Date.now(),key:_e(l)?l:Ds(b)?b.key:"",locale:A||(Ds(b)?b.locale:""),format:_e(b)?b:Ds(b)?b.source:"",message:F};q.meta=ar({},e.__meta,ese()||{}),Gre(q)}return F}function xse(e){Zt(e.list)?e.list=e.list.map(t=>_e(t)?VM(t):t):mt(e.named)&&Object.keys(e.named).forEach(t=>{_e(e.named[t])&&(e.named[t]=VM(e.named[t]))})}function tR(e,t,i,r,s,n){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,f=c(e,r,i);let d=Ct(),p,y=null;const v="translate";for(let _=0;_<f.length&&(p=f[_],d=o[p]||Ct(),(y=l(d,t))===null&&(y=d[t]),!(_e(y)||Xh(y)||Ds(y)));_++)if(!sse(p,f)){const E=_E(e,t,p,n,v);E!==t&&(y=E)}return[y,p,d]}function iR(e,t,i,r,s,n){const{messageCompiler:o,warnHtmlMessage:a}=e;if(Ds(r)){const c=r;return c.locale=c.locale||i,c.key=c.key||t,c}if(o==null){const c=()=>r;return c.locale=i,c.key=t,c}const l=o(r,Ese(e,i,s,r,a,n));return l.locale=i,l.key=t,l.source=r,l}function Sse(e,t,i){return t(i)}function ux(...e){const[t,i,r]=e,s=Ct();if(!_e(t)&&!wi(t)&&!Ds(t)&&!Xh(t))throw no(yn.INVALID_ARGUMENT);const n=wi(t)?String(t):(Ds(t),t);return wi(i)?s.plural=i:_e(i)?s.default=i:qe(i)&&!Fv(i)?s.named=i:Zt(i)&&(s.list=i),wi(r)?s.plural=r:_e(r)?s.default=r:qe(r)&&ar(s,r),[n,s]}function Ese(e,t,i,r,s,n){return{locale:t,key:i,warnHtmlMessage:s,onError:o=>{throw n&&n(o),o},onCacheKey:o=>Uie(t,i,o)}}function Tse(e,t,i,r){const{modifiers:s,pluralRules:n,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=e,p={locale:t,modifiers:s,pluralRules:n,messages:y=>{let v=o(i,y);if(v==null&&f){const[,,_]=tR(f,y,t,a,l,c);v=o(_,y)}if(_e(v)||Xh(v)){let _=!1;const S=iR(e,y,t,v,y,()=>{_=!0});return _?rO:S}else return Ds(v)?v:rO}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),wi(r.plural)&&(p.pluralIndex=r.plural),p}function nO(e,...t){const{datetimeFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,f,d]=hx(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=bE(e,f),_=o(e,s,v);if(!_e(l)||l==="")return new Intl.DateTimeFormat(v,d).format(c);let E={},S,A=null;const w="datetime format";for(let O=0;O<_.length&&(S=_[O],E=i[S]||{},A=E[l],!qe(A));O++)_E(e,l,S,p,w);if(!qe(A)||!_e(S))return r?jv:l;let b=`${S}__${l}`;Fv(d)||(b=`${b}__${JSON.stringify(d)}`);let M=a.get(b);return M||(M=new Intl.DateTimeFormat(S,ar({},A,d)),a.set(b,M)),y?M.formatToParts(c):M.format(c)}const rR=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function hx(...e){const[t,i,r,s]=e,n=Ct();let o=Ct(),a;if(_e(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw no(yn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw no(yn.INVALID_ISO_DATE_ARGUMENT)}}else if(Bie(t)){if(isNaN(t.getTime()))throw no(yn.INVALID_DATE_ARGUMENT);a=t}else if(wi(t))a=t;else throw no(yn.INVALID_ARGUMENT);return _e(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{rR.includes(l)?o[l]=i[l]:n[l]=i[l]}),_e(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function oO(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__datetimeFormatters.has(n)&&r.__datetimeFormatters.delete(n)}}function aO(e,...t){const{numberFormats:i,unresolving:r,fallbackLocale:s,onWarn:n,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,f,d]=fx(...t),p=it(f.missingWarn)?f.missingWarn:e.missingWarn;it(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,v=bE(e,f),_=o(e,s,v);if(!_e(l)||l==="")return new Intl.NumberFormat(v,d).format(c);let E={},S,A=null;const w="number format";for(let O=0;O<_.length&&(S=_[O],E=i[S]||{},A=E[l],!qe(A));O++)_E(e,l,S,p,w);if(!qe(A)||!_e(S))return r?jv:l;let b=`${S}__${l}`;Fv(d)||(b=`${b}__${JSON.stringify(d)}`);let M=a.get(b);return M||(M=new Intl.NumberFormat(S,ar({},A,d)),a.set(b,M)),y?M.formatToParts(c):M.format(c)}const sR=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function fx(...e){const[t,i,r,s]=e,n=Ct();let o=Ct();if(!wi(t))throw no(yn.INVALID_ARGUMENT);const a=t;return _e(i)?n.key=i:qe(i)&&Object.keys(i).forEach(l=>{sR.includes(l)?o[l]=i[l]:n[l]=i[l]}),_e(r)?n.locale=r:qe(r)&&(o=r),qe(s)&&(o=s),[n.key||"",a,n,o]}function lO(e,t,i){const r=e;for(const s in i){const n=`${t}__${s}`;r.__numberFormatters.has(n)&&r.__numberFormatters.delete(n)}}Ere();/*!
  * vue-i18n v9.14.3
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Ase="9.14.3";function Mse(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ea().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ea().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ea().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ea().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ea().__INTLIFY_PROD_DEVTOOLS__=!1)}const nR=qre.__EXTEND_POINT__,Lo=Uv(nR);Lo(),Lo(),Lo(),Lo(),Lo(),Lo(),Lo(),Lo(),Lo();const oR=yn.__EXTEND_POINT__,Vr=Uv(oR),Hi={UNEXPECTED_RETURN_TYPE:oR,INVALID_ARGUMENT:Vr(),MUST_BE_CALL_SETUP_TOP:Vr(),NOT_INSTALLED:Vr(),NOT_AVAILABLE_IN_LEGACY_MODE:Vr(),REQUIRED_VALUE:Vr(),INVALID_VALUE:Vr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Vr(),NOT_INSTALLED_WITH_PROVIDE:Vr(),UNEXPECTED_ERROR:Vr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Vr(),BRIDGE_SUPPORT_VUE_2_ONLY:Vr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Vr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Vr(),__EXTEND_POINT__:Vr()};function er(e,...t){return Nf(e,null,void 0)}const dx=Nl("__translateVNode"),px=Nl("__datetimeParts"),mx=Nl("__numberParts"),aR=Nl("__setPluralRules"),lR=Nl("__injectWithOption"),yx=Nl("__dispose");function tm(e){if(!mt(e))return e;for(const t in e)if(mn(e,t))if(!t.includes("."))mt(e[t])&&tm(e[t]);else{const i=t.split("."),r=i.length-1;let s=e,n=!1;for(let o=0;o<r;o++){if(i[o]==="__proto__")throw new Error(`unsafe key: ${i[o]}`);if(i[o]in s||(s[i[o]]=Ct()),!mt(s[i[o]])){n=!0;break}s=s[i[o]]}n||(s[i[r]]=e[t],delete e[t]),mt(s[i[r]])&&tm(s[i[r]])}return e}function Bv(e,t){const{messages:i,__i18n:r,messageResolver:s,flatJson:n}=t,o=qe(i)?i:Zt(r)?Ct():{[e]:Ct()};if(Zt(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Ct(),Uy(c,o[l])):Uy(c,o)}else _e(a)&&Uy(JSON.parse(a),o)}),s==null&&n)for(const a in o)mn(o,a)&&tm(o[a]);return o}function cR(e){return e.type}function uR(e,t,i){let r=mt(t.messages)?t.messages:Ct();"__i18nGlobal"in i&&(r=Bv(e.locale.value,{messages:r,__i18n:i.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(n=>{e.mergeLocaleMessage(n,r[n])});{if(mt(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(mt(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function cO(e){return Ke(uo,null,e,0)}const uO="__INTLIFY_META__",hO=()=>[],Ose=()=>!1;let fO=0;function dO(e){return(t,i,r,s)=>e(i,r,Li()||void 0,s)}const Ise=()=>{const e=Li();let t=null;return e&&(t=cR(e)[uO])?{[uO]:t}:null};function xE(e={},t){const{__root:i,__injectWithOption:r}=e,s=i===void 0,n=e.flatJson,o=i1?X:$f,a=!!e.translateExistCompatible;let l=it(e.inheritLocale)?e.inheritLocale:!0;const c=o(i&&l?i.locale.value:_e(e.locale)?e.locale:Kh),f=o(i&&l?i.fallbackLocale.value:_e(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Bv(c.value,e)),p=o(qe(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(qe(e.numberFormats)?e.numberFormats:{[c.value]:{}});let v=i?i.missingWarn:it(e.missingWarn)||wl(e.missingWarn)?e.missingWarn:!0,_=i?i.fallbackWarn:it(e.fallbackWarn)||wl(e.fallbackWarn)?e.fallbackWarn:!0,E=i?i.fallbackRoot:it(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,A=Ut(e.missing)?e.missing:null,w=Ut(e.missing)?dO(e.missing):null,b=Ut(e.postTranslation)?e.postTranslation:null,M=i?i.warnHtmlMessage:it(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter;const C=i?i.modifiers:qe(e.modifiers)?e.modifiers:{};let P=e.pluralRules||i&&i.pluralRules,N;N=(()=>{s&&eO(null);const W={version:Ase,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:C,pluralRules:P,missing:w===null?void 0:w,missingWarn:v,fallbackWarn:_,fallbackFormat:S,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:M,escapeParameter:O,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};W.datetimeFormats=p.value,W.numberFormats=y.value,W.__datetimeFormatters=qe(N)?N.__datetimeFormatters:void 0,W.__numberFormatters=qe(N)?N.__numberFormatters:void 0;const Z=ise(W);return s&&eO(Z),Z})(),Yf(N,c.value,f.value);function j(){return[c.value,f.value,d.value,p.value,y.value]}const F=tt({get:()=>c.value,set:W=>{c.value=W,N.locale=c.value}}),q=tt({get:()=>f.value,set:W=>{f.value=W,N.fallbackLocale=f.value,Yf(N,c.value,W)}}),te=tt(()=>d.value),h=tt(()=>p.value),m=tt(()=>y.value);function x(){return Ut(b)?b:null}function $(W){b=W,N.postTranslation=W}function V(){return A}function Y(W){W!==null&&(w=dO(W)),A=W,N.missing=w}const pe=(W,Z,Te,ke,Dt,zt)=>{j();let ai;try{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=i?tse():void 0),ai=W(N)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(N.fallbackContext=void 0)}if(Te!=="translate exists"&&wi(ai)&&ai===jv||Te==="translate exists"&&!ai){const[Ri,K]=Z();return i&&E?ke(i):Dt(Ri)}else{if(zt(ai))return ai;throw er(Hi.UNEXPECTED_RETURN_TYPE)}};function le(...W){return pe(Z=>Reflect.apply(sO,null,[Z,...W]),()=>ux(...W),"translate",Z=>Reflect.apply(Z.t,Z,[...W]),Z=>Z,Z=>_e(Z))}function Me(...W){const[Z,Te,ke]=W;if(ke&&!mt(ke))throw er(Hi.INVALID_ARGUMENT);return le(Z,Te,ar({resolvedMessage:!0},ke||{}))}function je(...W){return pe(Z=>Reflect.apply(nO,null,[Z,...W]),()=>hx(...W),"datetime format",Z=>Reflect.apply(Z.d,Z,[...W]),()=>KM,Z=>_e(Z))}function ze(...W){return pe(Z=>Reflect.apply(aO,null,[Z,...W]),()=>fx(...W),"number format",Z=>Reflect.apply(Z.n,Z,[...W]),()=>KM,Z=>_e(Z))}function at(W){return W.map(Z=>_e(Z)||wi(Z)||it(Z)?cO(String(Z)):Z)}const At={normalize:at,interpolate:W=>W,type:"vnode"};function pi(...W){return pe(Z=>{let Te;const ke=Z;try{ke.processor=At,Te=Reflect.apply(sO,null,[ke,...W])}finally{ke.processor=null}return Te},()=>ux(...W),"translate",Z=>Z[dx](...W),Z=>[cO(Z)],Z=>Zt(Z))}function Rt(...W){return pe(Z=>Reflect.apply(aO,null,[Z,...W]),()=>fx(...W),"number format",Z=>Z[mx](...W),hO,Z=>_e(Z)||Zt(Z))}function ri(...W){return pe(Z=>Reflect.apply(nO,null,[Z,...W]),()=>hx(...W),"datetime format",Z=>Z[px](...W),hO,Z=>_e(Z)||Zt(Z))}function Ji(W){P=W,N.pluralRules=P}function B(W,Z){return pe(()=>{if(!W)return!1;const Te=_e(Z)?Z:c.value,ke=oe(Te),Dt=N.messageResolver(ke,W);return a?Dt!=null:Xh(Dt)||Ds(Dt)||_e(Dt)},()=>[W],"translate exists",Te=>Reflect.apply(Te.te,Te,[W,Z]),Ose,Te=>it(Te))}function D(W){let Z=null;const Te=Hk(N,f.value,c.value);for(let ke=0;ke<Te.length;ke++){const Dt=d.value[Te[ke]]||{},zt=N.messageResolver(Dt,W);if(zt!=null){Z=zt;break}}return Z}function H(W){const Z=D(W);return Z??(i?i.tm(W)||{}:{})}function oe(W){return d.value[W]||{}}function Q(W,Z){if(n){const Te={[W]:Z};for(const ke in Te)mn(Te,ke)&&tm(Te[ke]);Z=Te[W]}d.value[W]=Z,N.messages=d.value}function ce(W,Z){d.value[W]=d.value[W]||{};const Te={[W]:Z};if(n)for(const ke in Te)mn(Te,ke)&&tm(Te[ke]);Z=Te[W],Uy(Z,d.value[W]),N.messages=d.value}function ye(W){return p.value[W]||{}}function L(W,Z){p.value[W]=Z,N.datetimeFormats=p.value,oO(N,W,Z)}function k(W,Z){p.value[W]=ar(p.value[W]||{},Z),N.datetimeFormats=p.value,oO(N,W,Z)}function G(W){return y.value[W]||{}}function ee(W,Z){y.value[W]=Z,N.numberFormats=y.value,lO(N,W,Z)}function se(W,Z){y.value[W]=ar(y.value[W]||{},Z),N.numberFormats=y.value,lO(N,W,Z)}fO++,i&&i1&&(Wi(i.locale,W=>{l&&(c.value=W,N.locale=W,Yf(N,c.value,f.value))}),Wi(i.fallbackLocale,W=>{l&&(f.value=W,N.fallbackLocale=W,Yf(N,c.value,f.value))}));const ne={id:fO,locale:F,fallbackLocale:q,get inheritLocale(){return l},set inheritLocale(W){l=W,W&&i&&(c.value=i.locale.value,f.value=i.fallbackLocale.value,Yf(N,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:te,get modifiers(){return C},get pluralRules(){return P||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(W){v=W,N.missingWarn=v},get fallbackWarn(){return _},set fallbackWarn(W){_=W,N.fallbackWarn=_},get fallbackRoot(){return E},set fallbackRoot(W){E=W},get fallbackFormat(){return S},set fallbackFormat(W){S=W,N.fallbackFormat=S},get warnHtmlMessage(){return M},set warnHtmlMessage(W){M=W,N.warnHtmlMessage=W},get escapeParameter(){return O},set escapeParameter(W){O=W,N.escapeParameter=W},t:le,getLocaleMessage:oe,setLocaleMessage:Q,mergeLocaleMessage:ce,getPostTranslationHandler:x,setPostTranslationHandler:$,getMissingHandler:V,setMissingHandler:Y,[aR]:Ji};return ne.datetimeFormats=h,ne.numberFormats=m,ne.rt=Me,ne.te=B,ne.tm=H,ne.d=je,ne.n=ze,ne.getDateTimeFormat=ye,ne.setDateTimeFormat=L,ne.mergeDateTimeFormat=k,ne.getNumberFormat=G,ne.setNumberFormat=ee,ne.mergeNumberFormat=se,ne[lR]=r,ne[dx]=pi,ne[px]=ri,ne[mx]=Rt,ne}function $se(e){const t=_e(e.locale)?e.locale:Kh,i=_e(e.fallbackLocale)||Zt(e.fallbackLocale)||qe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=Ut(e.missing)?e.missing:void 0,s=it(e.silentTranslationWarn)||wl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,n=it(e.silentFallbackWarn)||wl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=it(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=qe(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,f=Ut(e.postTranslation)?e.postTranslation:void 0,d=_e(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=it(e.sync)?e.sync:!0;let v=e.messages;if(qe(e.sharedMessages)){const O=e.sharedMessages;v=Object.keys(O).reduce((P,N)=>{const U=P[N]||(P[N]={});return ar(U,O[N]),P},v||{})}const{__i18n:_,__root:E,__injectWithOption:S}=e,A=e.datetimeFormats,w=e.numberFormats,b=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:i,messages:v,flatJson:b,datetimeFormats:A,numberFormats:w,missing:r,missingWarn:s,fallbackWarn:n,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:_,__root:E,__injectWithOption:S}}function gx(e={},t){{const i=xE($se(e)),{__extender:r}=e,s={id:i.id,get locale(){return i.locale.value},set locale(n){i.locale.value=n},get fallbackLocale(){return i.fallbackLocale.value},set fallbackLocale(n){i.fallbackLocale.value=n},get messages(){return i.messages.value},get datetimeFormats(){return i.datetimeFormats.value},get numberFormats(){return i.numberFormats.value},get availableLocales(){return i.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(n){},get missing(){return i.getMissingHandler()},set missing(n){i.setMissingHandler(n)},get silentTranslationWarn(){return it(i.missingWarn)?!i.missingWarn:i.missingWarn},set silentTranslationWarn(n){i.missingWarn=it(n)?!n:n},get silentFallbackWarn(){return it(i.fallbackWarn)?!i.fallbackWarn:i.fallbackWarn},set silentFallbackWarn(n){i.fallbackWarn=it(n)?!n:n},get modifiers(){return i.modifiers},get formatFallbackMessages(){return i.fallbackFormat},set formatFallbackMessages(n){i.fallbackFormat=n},get postTranslation(){return i.getPostTranslationHandler()},set postTranslation(n){i.setPostTranslationHandler(n)},get sync(){return i.inheritLocale},set sync(n){i.inheritLocale=n},get warnHtmlInMessage(){return i.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(n){i.warnHtmlMessage=n!=="off"},get escapeParameterHtml(){return i.escapeParameter},set escapeParameterHtml(n){i.escapeParameter=n},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(n){},get pluralizationRules(){return i.pluralRules||{}},__composer:i,t(...n){const[o,a,l]=n,c={};let f=null,d=null;if(!_e(o))throw er(Hi.INVALID_ARGUMENT);const p=o;return _e(a)?c.locale=a:Zt(a)?f=a:qe(a)&&(d=a),Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},rt(...n){return Reflect.apply(i.rt,i,[...n])},tc(...n){const[o,a,l]=n,c={plural:1};let f=null,d=null;if(!_e(o))throw er(Hi.INVALID_ARGUMENT);const p=o;return _e(a)?c.locale=a:wi(a)?c.plural=a:Zt(a)?f=a:qe(a)&&(d=a),_e(l)?c.locale=l:Zt(l)?f=l:qe(l)&&(d=l),Reflect.apply(i.t,i,[p,f||d||{},c])},te(n,o){return i.te(n,o)},tm(n){return i.tm(n)},getLocaleMessage(n){return i.getLocaleMessage(n)},setLocaleMessage(n,o){i.setLocaleMessage(n,o)},mergeLocaleMessage(n,o){i.mergeLocaleMessage(n,o)},d(...n){return Reflect.apply(i.d,i,[...n])},getDateTimeFormat(n){return i.getDateTimeFormat(n)},setDateTimeFormat(n,o){i.setDateTimeFormat(n,o)},mergeDateTimeFormat(n,o){i.mergeDateTimeFormat(n,o)},n(...n){return Reflect.apply(i.n,i,[...n])},getNumberFormat(n){return i.getNumberFormat(n)},setNumberFormat(n,o){i.setNumberFormat(n,o)},mergeNumberFormat(n,o){i.mergeNumberFormat(n,o)},getChoiceIndex(n,o){return-1}};return s.__extender=r,s}}const SE={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Cse({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,s)=>[...r,...s.type===It?s.children:[s]],[]):t.reduce((i,r)=>{const s=e[r];return s&&(i[r]=s()),i},Ct())}function hR(e){return It}const Nse=rt({name:"i18n-t",props:ar({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>wi(e)||!isNaN(e)}},SE),setup(e,t){const{slots:i,attrs:r}=t,s=e.i18n||ii({useScope:e.scope,__useComponent:!0});return()=>{const n=Object.keys(i).filter(d=>d!=="_"),o=Ct();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=_e(e.plural)?+e.plural:e.plural);const a=Cse(t,n),l=s[dx](e.keypath,a,o),c=ar(Ct(),r),f=_e(e.tag)||mt(e.tag)?e.tag:hR();return Bs(f,c,l)}}}),pO=Nse;function Pse(e){return Zt(e)&&!_e(e[0])}function fR(e,t,i,r){const{slots:s,attrs:n}=t;return()=>{const o={part:!0};let a=Ct();e.locale&&(o.locale=e.locale),_e(e.format)?o.key=e.format:mt(e.format)&&(_e(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>i.includes(y)?ar(Ct(),p,{[y]:e.format[y]}):p,Ct()));const l=r(e.value,o,a);let c=[o.key];Zt(l)?c=l.map((p,y)=>{const v=s[p.type],_=v?v({[p.type]:p.value,index:y,parts:l}):[p.value];return Pse(_)&&(_[0].key=`${p.type}-${y}`),_}):_e(l)&&(c=[l]);const f=ar(Ct(),n),d=_e(e.tag)||mt(e.tag)?e.tag:hR();return Bs(d,f,c)}}const Lse=rt({name:"i18n-n",props:ar({value:{type:Number,required:!0},format:{type:[String,Object]}},SE),setup(e,t){const i=e.i18n||ii({useScope:e.scope,__useComponent:!0});return fR(e,t,sR,(...r)=>i[mx](...r))}}),mO=Lse,kse=rt({name:"i18n-d",props:ar({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},SE),setup(e,t){const i=e.i18n||ii({useScope:e.scope,__useComponent:!0});return fR(e,t,rR,(...r)=>i[px](...r))}}),yO=kse;function Rse(e,t){const i=e;if(e.mode==="composition")return i.__getInstance(t)||e.global;{const r=i.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Dse(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw er(Hi.UNEXPECTED_ERROR);const f=Rse(e,a.$),d=gO(c);return[Reflect.apply(f.t,f,[...vO(d)]),f]};return{created:(o,a)=>{const[l,c]=t(a);i1&&e.global===c&&(o.__i18nWatcher=Wi(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{i1&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=gO(a);o.textContent=Reflect.apply(l.t,l,[...vO(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function gO(e){if(_e(e))return{path:e};if(qe(e)){if(!("path"in e))throw er(Hi.REQUIRED_VALUE,"path");return e}else throw er(Hi.INVALID_VALUE)}function vO(e){const{path:t,locale:i,args:r,choice:s,plural:n}=e,o={},a=r||{};return _e(i)&&(o.locale=i),wi(s)&&(o.plural=s),wi(n)&&(o.plural=n),[t,a,o]}function Fse(e,t,...i){const r=qe(i[0])?i[0]:{},s=!!r.useI18nComponentName;(it(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":pO.name,"I18nT"].forEach(o=>e.component(o,pO)),[mO.name,"I18nN"].forEach(o=>e.component(o,mO)),[yO.name,"I18nD"].forEach(o=>e.component(o,yO))),e.directive("t",Dse(t))}function Use(e,t,i){return{beforeCreate(){const r=Li();if(!r)throw er(Hi.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const n=s.i18n;if(s.__i18n&&(n.__i18n=s.__i18n),n.__root=t,this===this.$root)this.$i18n=bO(e,n);else{n.__injectWithOption=!0,n.__extender=i.__vueI18nExtend,this.$i18n=gx(n);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=bO(e,s);else{this.$i18n=gx({__i18n:s.__i18n,__injectWithOption:!0,__extender:i.__vueI18nExtend,__root:t});const n=this.$i18n;n.__extender&&(n.__disposer=n.__extender(this.$i18n))}else this.$i18n=e;s.__i18nGlobal&&uR(t,s,s),this.$t=(...n)=>this.$i18n.t(...n),this.$rt=(...n)=>this.$i18n.rt(...n),this.$tc=(...n)=>this.$i18n.tc(...n),this.$te=(n,o)=>this.$i18n.te(n,o),this.$d=(...n)=>this.$i18n.d(...n),this.$n=(...n)=>this.$i18n.n(...n),this.$tm=n=>this.$i18n.tm(n),i.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Li();if(!r)throw er(Hi.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),i.__deleteInstance(r),delete this.$i18n}}}function bO(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[aR](t.pluralizationRules||e.pluralizationRules);const i=Bv(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach(r=>e.mergeLocaleMessage(r,i[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const jse=Nl("global-vue-i18n");function Bse(e={},t){const i=__VUE_I18N_LEGACY_API__&&it(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=it(e.globalInjection)?e.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&i?!!e.allowComposition:!0,n=new Map,[o,a]=Vse(e,i),l=Nl("");function c(p){return n.get(p)||null}function f(p,y){n.set(p,y)}function d(p){n.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&i?"legacy":"composition"},get allowComposition(){return s},async install(y,...v){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),qe(v[0])){const S=v[0];p.__composerExtend=S.__composerExtend,p.__vueI18nExtend=S.__vueI18nExtend}let _=null;!i&&r&&(_=Kse(y,p.global)),__VUE_I18N_FULL_INSTALL__&&Fse(y,p,...v),__VUE_I18N_LEGACY_API__&&i&&y.mixin(Use(a,a.__composer,p));const E=y.unmount;y.unmount=()=>{_&&_(),p.dispose(),E()}},get global(){return a},dispose(){o.stop()},__instances:n,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function ii(e={}){const t=Li();if(t==null)throw er(Hi.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw er(Hi.NOT_INSTALLED);const i=Gse(t),r=qse(i),s=cR(t),n=zse(e,s);if(__VUE_I18N_LEGACY_API__&&i.mode==="legacy"&&!e.__useComponent){if(!i.allowComposition)throw er(Hi.NOT_AVAILABLE_IN_LEGACY_MODE);return Jse(t,n,r,e)}if(n==="global")return uR(r,e,s),r;if(n==="parent"){let l=Wse(i,t,e.__useComponent);return l==null&&(l=r),l}const o=i;let a=o.__getInstance(t);if(a==null){const l=ar({},e);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=xE(l),o.__composerExtend&&(a[yx]=o.__composerExtend(a)),Yse(o,t,a),o.__setInstance(t,a)}return a}function Vse(e,t,i){const r=Pm();{const s=__VUE_I18N_LEGACY_API__&&t?r.run(()=>gx(e)):r.run(()=>xE(e));if(s==null)throw er(Hi.UNEXPECTED_ERROR);return[r,s]}}function Gse(e){{const t=Pi(e.isCE?jse:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw er(e.isCE?Hi.NOT_INSTALLED_WITH_PROVIDE:Hi.UNEXPECTED_ERROR);return t}}function zse(e,t){return Fv(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function qse(e){return e.mode==="composition"?e.global:e.global.__composer}function Wse(e,t,i=!1){let r=null;const s=t.root;let n=Hse(t,i);for(;n!=null;){const o=e;if(e.mode==="composition")r=o.__getInstance(n);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(n);a!=null&&(r=a.__composer,i&&r&&!r[lR]&&(r=null))}if(r!=null||s===n)break;n=n.parent}return r}function Hse(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Yse(e,t,i){lr(()=>{},t),du(()=>{const r=i;e.__deleteInstance(t);const s=r[yx];s&&(s(),delete r[yx])},t)}function Jse(e,t,i,r={}){const s=t==="local",n=$f(null);if(s&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw er(Hi.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=it(r.inheritLocale)?r.inheritLocale:!_e(r.locale),a=X(!s||o?i.locale.value:_e(r.locale)?r.locale:Kh),l=X(!s||o?i.fallbackLocale.value:_e(r.fallbackLocale)||Zt(r.fallbackLocale)||qe(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=X(Bv(a.value,r)),f=X(qe(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=X(qe(r.numberFormats)?r.numberFormats:{[a.value]:{}}),p=s?i.missingWarn:it(r.missingWarn)||wl(r.missingWarn)?r.missingWarn:!0,y=s?i.fallbackWarn:it(r.fallbackWarn)||wl(r.fallbackWarn)?r.fallbackWarn:!0,v=s?i.fallbackRoot:it(r.fallbackRoot)?r.fallbackRoot:!0,_=!!r.fallbackFormat,E=Ut(r.missing)?r.missing:null,S=Ut(r.postTranslation)?r.postTranslation:null,A=s?i.warnHtmlMessage:it(r.warnHtmlMessage)?r.warnHtmlMessage:!0,w=!!r.escapeParameter,b=s?i.modifiers:qe(r.modifiers)?r.modifiers:{},M=r.pluralRules||s&&i.pluralRules;function O(){return[a.value,l.value,c.value,f.value,d.value]}const C=tt({get:()=>n.value?n.value.locale.value:a.value,set:D=>{n.value&&(n.value.locale.value=D),a.value=D}}),P=tt({get:()=>n.value?n.value.fallbackLocale.value:l.value,set:D=>{n.value&&(n.value.fallbackLocale.value=D),l.value=D}}),N=tt(()=>n.value?n.value.messages.value:c.value),U=tt(()=>f.value),j=tt(()=>d.value);function F(){return n.value?n.value.getPostTranslationHandler():S}function q(D){n.value&&n.value.setPostTranslationHandler(D)}function te(){return n.value?n.value.getMissingHandler():E}function h(D){n.value&&n.value.setMissingHandler(D)}function m(D){return O(),D()}function x(...D){return n.value?m(()=>Reflect.apply(n.value.t,null,[...D])):m(()=>"")}function $(...D){return n.value?Reflect.apply(n.value.rt,null,[...D]):""}function V(...D){return n.value?m(()=>Reflect.apply(n.value.d,null,[...D])):m(()=>"")}function Y(...D){return n.value?m(()=>Reflect.apply(n.value.n,null,[...D])):m(()=>"")}function pe(D){return n.value?n.value.tm(D):{}}function le(D,H){return n.value?n.value.te(D,H):!1}function Me(D){return n.value?n.value.getLocaleMessage(D):{}}function je(D,H){n.value&&(n.value.setLocaleMessage(D,H),c.value[D]=H)}function ze(D,H){n.value&&n.value.mergeLocaleMessage(D,H)}function at(D){return n.value?n.value.getDateTimeFormat(D):{}}function Gt(D,H){n.value&&(n.value.setDateTimeFormat(D,H),f.value[D]=H)}function At(D,H){n.value&&n.value.mergeDateTimeFormat(D,H)}function pi(D){return n.value?n.value.getNumberFormat(D):{}}function Rt(D,H){n.value&&(n.value.setNumberFormat(D,H),d.value[D]=H)}function ri(D,H){n.value&&n.value.mergeNumberFormat(D,H)}const Ji={get id(){return n.value?n.value.id:-1},locale:C,fallbackLocale:P,messages:N,datetimeFormats:U,numberFormats:j,get inheritLocale(){return n.value?n.value.inheritLocale:o},set inheritLocale(D){n.value&&(n.value.inheritLocale=D)},get availableLocales(){return n.value?n.value.availableLocales:Object.keys(c.value)},get modifiers(){return n.value?n.value.modifiers:b},get pluralRules(){return n.value?n.value.pluralRules:M},get isGlobal(){return n.value?n.value.isGlobal:!1},get missingWarn(){return n.value?n.value.missingWarn:p},set missingWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackWarn(){return n.value?n.value.fallbackWarn:y},set fallbackWarn(D){n.value&&(n.value.missingWarn=D)},get fallbackRoot(){return n.value?n.value.fallbackRoot:v},set fallbackRoot(D){n.value&&(n.value.fallbackRoot=D)},get fallbackFormat(){return n.value?n.value.fallbackFormat:_},set fallbackFormat(D){n.value&&(n.value.fallbackFormat=D)},get warnHtmlMessage(){return n.value?n.value.warnHtmlMessage:A},set warnHtmlMessage(D){n.value&&(n.value.warnHtmlMessage=D)},get escapeParameter(){return n.value?n.value.escapeParameter:w},set escapeParameter(D){n.value&&(n.value.escapeParameter=D)},t:x,getPostTranslationHandler:F,setPostTranslationHandler:q,getMissingHandler:te,setMissingHandler:h,rt:$,d:V,n:Y,tm:pe,te:le,getLocaleMessage:Me,setLocaleMessage:je,mergeLocaleMessage:ze,getDateTimeFormat:at,setDateTimeFormat:Gt,mergeDateTimeFormat:At,getNumberFormat:pi,setNumberFormat:Rt,mergeNumberFormat:ri};function B(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(c.value).forEach(H=>{D.mergeLocaleMessage(H,c.value[H])}),Object.keys(f.value).forEach(H=>{D.mergeDateTimeFormat(H,f.value[H])}),Object.keys(d.value).forEach(H=>{D.mergeNumberFormat(H,d.value[H])}),D.escapeParameter=w,D.fallbackFormat=_,D.fallbackRoot=v,D.fallbackWarn=y,D.missingWarn=p,D.warnHtmlMessage=A}return Sv(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw er(Hi.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=n.value=e.proxy.$i18n.__composer;t==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,c.value=D.messages.value,f.value=D.datetimeFormats.value,d.value=D.numberFormats.value):s&&B(D)}),Ji}const Zse=["locale","fallbackLocale","availableLocales"],_O=["t","rt","d","n","tm","te"];function Kse(e,t){const i=Object.create(null);return Zse.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n)throw er(Hi.UNEXPECTED_ERROR);const o=ht(n.value)?{get(){return n.value.value},set(a){n.value.value=a}}:{get(){return n.get&&n.get()}};Object.defineProperty(i,s,o)}),e.config.globalProperties.$i18n=i,_O.forEach(s=>{const n=Object.getOwnPropertyDescriptor(t,s);if(!n||!n.value)throw er(Hi.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${s}`,n)}),()=>{delete e.config.globalProperties.$i18n,_O.forEach(s=>{delete e.config.globalProperties[`$${s}`]})}}Mse();__INTLIFY_JIT_COMPILATION__?QM(wse):QM(_se);Kre(Nre);Xre(Hk);if(__INTLIFY_PROD_DEVTOOLS__){const e=ea();e.__INTLIFY__=!0,Bre(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Xse={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"current","map.export":"export map","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"français","lang-native":"Français","ramp.about.open":"Ouvrir À propos de PCAR","ramp.about":"À propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous déplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un élément de la liste est sélectionné, vous pouvez appuyer sur « Espace » ou « Entrée » pour cliquer sur l'élément. Vous pouvez également vous déplacer au sein de l'élément de la liste au moyen de la touche « Tab ».","keyboardInstructions.map":"Lorsque la carte est sélectionnée, utilisez le pavé curseur pour vous déplacer et appuyez sur « Entrée »  pour sélectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer à l'échelle métrique","map.toggleScaleToImperial":"Passer à l'échelle impériale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"actuel","map.export":"exporter la carte","notifications.open":"Ouvrir la fenêtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Développer","notifications.controls.collapse":"Réduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entrée ou sur la barre d'espacement pour accéder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"Épingler","panels.controls.unpin":"Désépingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Réduire","panels.controls.expand":"Développer","panels.controls.collapse":"Réduire","panels.controls.moveRight":"Aller à droite","panels.controls.moveLeft":"Aller à gauche","panels.controls.items":"Utilisez les touches fléchées pour naviguer entre les éléments","panels.alert.open":"Fenêtre {name} ouverte","panels.alert.close":"Fenêtre {name} fermée","panels.alert.minimize":"Fenêtre {name} réduite","layer.error":"Échec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prévu","layer.longdraw":"{id} prend plus de temps que prévu à extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont été désactivés pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement désactivé.","layer.noexportmap":"La tentative d’ajouter {name} comme couche d’imagerie cartographique a échouée car elle n’a pu être activé pour ce service","caption.attributionDefaultText":"Propulsé par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},wO="en",Qse={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function ene(){return Bse({legacy:!1,locale:document.documentElement.getAttribute("lang")||wO,fallbackLocale:wO,globalInjection:!0,messages:Xse,numberFormats:Qse})}var o_={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var xO;function tne(){return xO||(xO=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},i=e.exports,r=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},n={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var f=o[r.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[r.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=s[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=s[o];l&&t.removeEventListener(l,a,!1)},raw:r};if(!r){i?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(n,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),i?e.exports=n:window.screenfull=n})()}(o_)),o_.exports}var ine=tne();const Un=nv(ine);var Pd={exports:{}};Pd.exports;var SO;function rne(){return SO||(SO=1,function(e,t){var i=200,r="__lodash_hash_undefined__",s=9007199254740991,n="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",v="[object Object]",_="[object Promise]",E="[object RegExp]",S="[object Set]",A="[object String]",w="[object Symbol]",b="[object WeakMap]",M="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",U="[object Int16Array]",j="[object Int32Array]",F="[object Uint8Array]",q="[object Uint8ClampedArray]",te="[object Uint16Array]",h="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,x=/\w*$/,$=/^\[object .+?Constructor\]$/,V=/^(?:0|[1-9]\d*)$/,Y={};Y[n]=Y[o]=Y[M]=Y[O]=Y[a]=Y[l]=Y[C]=Y[P]=Y[N]=Y[U]=Y[j]=Y[p]=Y[y]=Y[v]=Y[E]=Y[S]=Y[A]=Y[w]=Y[F]=Y[q]=Y[te]=Y[h]=!0,Y[c]=Y[f]=Y[b]=!1;var pe=typeof g0=="object"&&g0&&g0.Object===Object&&g0,le=typeof self=="object"&&self&&self.Object===Object&&self,Me=pe||le||Function("return this")(),je=t&&!t.nodeType&&t,ze=je&&!0&&e&&!e.nodeType&&e,at=ze&&ze.exports===je;function Gt(R,J){return R.set(J[0],J[1]),R}function At(R,J){return R.add(J),R}function pi(R,J){for(var ae=-1,Ne=R?R.length:0;++ae<Ne&&J(R[ae],ae,R)!==!1;);return R}function Rt(R,J){for(var ae=-1,Ne=J.length,ir=R.length;++ae<Ne;)R[ir+ae]=J[ae];return R}function ri(R,J,ae,Ne){for(var ir=-1,jr=R?R.length:0;++ir<jr;)ae=J(ae,R[ir],ir,R);return ae}function Ji(R,J){for(var ae=-1,Ne=Array(R);++ae<R;)Ne[ae]=J(ae);return Ne}function B(R,J){return R?.[J]}function D(R){var J=!1;if(R!=null&&typeof R.toString!="function")try{J=!!(R+"")}catch{}return J}function H(R){var J=-1,ae=Array(R.size);return R.forEach(function(Ne,ir){ae[++J]=[ir,Ne]}),ae}function oe(R,J){return function(ae){return R(J(ae))}}function Q(R){var J=-1,ae=Array(R.size);return R.forEach(function(Ne){ae[++J]=Ne}),ae}var ce=Array.prototype,ye=Function.prototype,L=Object.prototype,k=Me["__core-js_shared__"],G=function(){var R=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),ee=ye.toString,se=L.hasOwnProperty,ne=L.toString,W=RegExp("^"+ee.call(se).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=at?Me.Buffer:void 0,Te=Me.Symbol,ke=Me.Uint8Array,Dt=oe(Object.getPrototypeOf,Object),zt=Object.create,ai=L.propertyIsEnumerable,Ri=ce.splice,K=Object.getOwnPropertySymbols,Ae=Z?Z.isBuffer:void 0,Ie=oe(Object.keys,Object),He=_u(Me,"DataView"),Xe=_u(Me,"Map"),Di=_u(Me,"Promise"),cr=_u(Me,"Set"),Rn=_u(Me,"WeakMap"),da=_u(Object,"create"),Oo=jl(He),Pf=jl(Xe),yu=jl(Di),pa=jl(cr),eb=jl(Rn),gu=Te?Te.prototype:void 0,Dl=gu?gu.valueOf:void 0;function Fl(R){var J=-1,ae=R?R.length:0;for(this.clear();++J<ae;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function C9(){this.__data__=da?da(null):{}}function N9(R){return this.has(R)&&delete this.__data__[R]}function P9(R){var J=this.__data__;if(da){var ae=J[R];return ae===r?void 0:ae}return se.call(J,R)?J[R]:void 0}function L9(R){var J=this.__data__;return da?J[R]!==void 0:se.call(J,R)}function k9(R,J){var ae=this.__data__;return ae[R]=da&&J===void 0?r:J,this}Fl.prototype.clear=C9,Fl.prototype.delete=N9,Fl.prototype.get=P9,Fl.prototype.has=L9,Fl.prototype.set=k9;function Io(R){var J=-1,ae=R?R.length:0;for(this.clear();++J<ae;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function R9(){this.__data__=[]}function D9(R){var J=this.__data__,ae=Ym(J,R);if(ae<0)return!1;var Ne=J.length-1;return ae==Ne?J.pop():Ri.call(J,ae,1),!0}function F9(R){var J=this.__data__,ae=Ym(J,R);return ae<0?void 0:J[ae][1]}function U9(R){return Ym(this.__data__,R)>-1}function j9(R,J){var ae=this.__data__,Ne=Ym(ae,R);return Ne<0?ae.push([R,J]):ae[Ne][1]=J,this}Io.prototype.clear=R9,Io.prototype.delete=D9,Io.prototype.get=F9,Io.prototype.has=U9,Io.prototype.set=j9;function vu(R){var J=-1,ae=R?R.length:0;for(this.clear();++J<ae;){var Ne=R[J];this.set(Ne[0],Ne[1])}}function B9(){this.__data__={hash:new Fl,map:new(Xe||Io),string:new Fl}}function V9(R){return Jm(this,R).delete(R)}function G9(R){return Jm(this,R).get(R)}function z9(R){return Jm(this,R).has(R)}function q9(R,J){return Jm(this,R).set(R,J),this}vu.prototype.clear=B9,vu.prototype.delete=V9,vu.prototype.get=G9,vu.prototype.has=z9,vu.prototype.set=q9;function bu(R){this.__data__=new Io(R)}function W9(){this.__data__=new Io}function H9(R){return this.__data__.delete(R)}function Y9(R){return this.__data__.get(R)}function J9(R){return this.__data__.has(R)}function Z9(R,J){var ae=this.__data__;if(ae instanceof Io){var Ne=ae.__data__;if(!Xe||Ne.length<i-1)return Ne.push([R,J]),this;ae=this.__data__=new vu(Ne)}return ae.set(R,J),this}bu.prototype.clear=W9,bu.prototype.delete=H9,bu.prototype.get=Y9,bu.prototype.has=J9,bu.prototype.set=Z9;function K9(R,J){var ae=rb(R)||w7(R)?Ji(R.length,String):[],Ne=ae.length,ir=!!Ne;for(var jr in R)se.call(R,jr)&&!(ir&&(jr=="length"||g7(jr,Ne)))&&ae.push(jr);return ae}function hT(R,J,ae){var Ne=R[J];(!(se.call(R,J)&&mT(Ne,ae))||ae===void 0&&!(J in R))&&(R[J]=ae)}function Ym(R,J){for(var ae=R.length;ae--;)if(mT(R[ae][0],J))return ae;return-1}function X9(R,J){return R&&fT(J,sb(J),R)}function tb(R,J,ae,Ne,ir,jr,$o){var Br;if(Ne&&(Br=jr?Ne(R,ir,jr,$o):Ne(R)),Br!==void 0)return Br;if(!Zm(R))return R;var vT=rb(R);if(vT){if(Br=p7(R),!J)return h7(R,Br)}else{var wu=Ul(R),bT=wu==f||wu==d;if(S7(R))return s7(R,J);if(wu==v||wu==n||bT&&!jr){if(D(R))return jr?R:{};if(Br=m7(bT?{}:R),!J)return f7(R,X9(Br,R))}else{if(!Y[wu])return jr?R:{};Br=y7(R,wu,tb,J)}}$o||($o=new bu);var _T=$o.get(R);if(_T)return _T;if($o.set(R,Br),!vT)var wT=ae?d7(R):sb(R);return pi(wT||R,function(nb,Km){wT&&(Km=nb,nb=R[Km]),hT(Br,Km,tb(nb,J,ae,Ne,Km,R,$o))}),Br}function Q9(R){return Zm(R)?zt(R):{}}function e7(R,J,ae){var Ne=J(R);return rb(R)?Ne:Rt(Ne,ae(R))}function t7(R){return ne.call(R)}function i7(R){if(!Zm(R)||b7(R))return!1;var J=gT(R)||D(R)?W:$;return J.test(jl(R))}function r7(R){if(!pT(R))return Ie(R);var J=[];for(var ae in Object(R))se.call(R,ae)&&ae!="constructor"&&J.push(ae);return J}function s7(R,J){if(J)return R.slice();var ae=new R.constructor(R.length);return R.copy(ae),ae}function ib(R){var J=new R.constructor(R.byteLength);return new ke(J).set(new ke(R)),J}function n7(R,J){var ae=J?ib(R.buffer):R.buffer;return new R.constructor(ae,R.byteOffset,R.byteLength)}function o7(R,J,ae){var Ne=J?ae(H(R),!0):H(R);return ri(Ne,Gt,new R.constructor)}function a7(R){var J=new R.constructor(R.source,x.exec(R));return J.lastIndex=R.lastIndex,J}function l7(R,J,ae){var Ne=J?ae(Q(R),!0):Q(R);return ri(Ne,At,new R.constructor)}function c7(R){return Dl?Object(Dl.call(R)):{}}function u7(R,J){var ae=J?ib(R.buffer):R.buffer;return new R.constructor(ae,R.byteOffset,R.length)}function h7(R,J){var ae=-1,Ne=R.length;for(J||(J=Array(Ne));++ae<Ne;)J[ae]=R[ae];return J}function fT(R,J,ae,Ne){ae||(ae={});for(var ir=-1,jr=J.length;++ir<jr;){var $o=J[ir],Br=void 0;hT(ae,$o,Br===void 0?R[$o]:Br)}return ae}function f7(R,J){return fT(R,dT(R),J)}function d7(R){return e7(R,sb,dT)}function Jm(R,J){var ae=R.__data__;return v7(J)?ae[typeof J=="string"?"string":"hash"]:ae.map}function _u(R,J){var ae=B(R,J);return i7(ae)?ae:void 0}var dT=K?oe(K,Object):A7,Ul=t7;(He&&Ul(new He(new ArrayBuffer(1)))!=O||Xe&&Ul(new Xe)!=p||Di&&Ul(Di.resolve())!=_||cr&&Ul(new cr)!=S||Rn&&Ul(new Rn)!=b)&&(Ul=function(R){var J=ne.call(R),ae=J==v?R.constructor:void 0,Ne=ae?jl(ae):void 0;if(Ne)switch(Ne){case Oo:return O;case Pf:return p;case yu:return _;case pa:return S;case eb:return b}return J});function p7(R){var J=R.length,ae=R.constructor(J);return J&&typeof R[0]=="string"&&se.call(R,"index")&&(ae.index=R.index,ae.input=R.input),ae}function m7(R){return typeof R.constructor=="function"&&!pT(R)?Q9(Dt(R)):{}}function y7(R,J,ae,Ne){var ir=R.constructor;switch(J){case M:return ib(R);case a:case l:return new ir(+R);case O:return n7(R,Ne);case C:case P:case N:case U:case j:case F:case q:case te:case h:return u7(R,Ne);case p:return o7(R,Ne,ae);case y:case A:return new ir(R);case E:return a7(R);case S:return l7(R,Ne,ae);case w:return c7(R)}}function g7(R,J){return J=J??s,!!J&&(typeof R=="number"||V.test(R))&&R>-1&&R%1==0&&R<J}function v7(R){var J=typeof R;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?R!=="__proto__":R===null}function b7(R){return!!G&&G in R}function pT(R){var J=R&&R.constructor,ae=typeof J=="function"&&J.prototype||L;return R===ae}function jl(R){if(R!=null){try{return ee.call(R)}catch{}try{return R+""}catch{}}return""}function _7(R){return tb(R,!0,!0)}function mT(R,J){return R===J||R!==R&&J!==J}function w7(R){return x7(R)&&se.call(R,"callee")&&(!ai.call(R,"callee")||ne.call(R)==n)}var rb=Array.isArray;function yT(R){return R!=null&&E7(R.length)&&!gT(R)}function x7(R){return T7(R)&&yT(R)}var S7=Ae||M7;function gT(R){var J=Zm(R)?ne.call(R):"";return J==f||J==d}function E7(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function Zm(R){var J=typeof R;return!!R&&(J=="object"||J=="function")}function T7(R){return!!R&&typeof R=="object"}function sb(R){return yT(R)?K9(R):r7(R)}function A7(){return[]}function M7(){return!1}e.exports=_7}(Pd,Pd.exports)),Pd.exports}var sne=rne();const EO=nv(sne),s1=oi("maptip",()=>{const e=X(void 0),t=X(void 0),i=X("");function r(o){e.value=o}function s(o){t.value=o}function n(o){i.value=o}return{maptipInstance:e,maptipPoint:t,content:i,setMaptipInstance:r,setMaptipPoint:s,setMaptipContent:n}}),nne=rt({__name:"esri-map",setup(e){const t=s1(),i=Pi("iApi"),r=tt(()=>t.maptipPoint),s=tt(()=>t.maptipInstance),n=tt(()=>t.content),o=tr([]),a=X(!1);o.push(Wi(r,()=>{if(r.value){const c=i.geo.map.getPixelWidth()/2,f=0,d=i.geo.map.mapPointToScreenPoint(r.value),p=d.screenX-c,y=f-d.screenY;s.value.setProps({offset:a.value?[p,y+25]:[p,y]}),n.value&&n.value!==""&&s.value.show()}else s.value.hide()})),o.push(Wi(n,c=>{c&&c!==""&&r?(s.value.setContent(c),s.value.show()):s.value.hide()})),Ln(()=>{o.forEach(c=>c())});const l=()=>{i.geo.map.setMouseFocus()};return(c,f)=>{const d=Tt("tippy");return Et((fe(),we("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:f[0]||(f[0]=p=>a.value=!0),onTouchend:f[1]||(f[1]=p=>a.value=!1),onKeydown:f[2]||(f[2]=J3(jm(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var dR={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},EE={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},one=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],n1={CSS:{},springs:{}};function oo(e,t,i){return Math.min(Math.max(e,t),i)}function rp(e,t){return e.indexOf(t)>-1}function a_(e,t){return e.apply(null,t)}var De={arr:function(e){return Array.isArray(e)},obj:function(e){return rp(Object.prototype.toString.call(e),"Object")},pth:function(e){return De.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||De.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return De.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return De.hex(e)||De.rgb(e)||De.hsl(e)},key:function(e){return!dR.hasOwnProperty(e)&&!EE.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function pR(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(i){return parseFloat(i)}):[]}function mR(e,t){var i=pR(e),r=oo(De.und(i[0])?1:i[0],.1,100),s=oo(De.und(i[1])?100:i[1],.1,100),n=oo(De.und(i[2])?10:i[2],.1,100),o=oo(De.und(i[3])?0:i[3],.1,100),a=Math.sqrt(s/r),l=n/(2*Math.sqrt(s*r)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(v){var _=t?t*v/1e3:v;return l<1?_=Math.exp(-_*l*a)*(f*Math.cos(c*_)+d*Math.sin(c*_)):_=(f+d*_)*Math.exp(-_*a),v===0||v===1?v:1-_}function y(){var v=n1.springs[e];if(v)return v;for(var _=1/6,E=0,S=0;;)if(E+=_,p(E)===1){if(S++,S>=16)break}else S=0;var A=E*_*1e3;return n1.springs[e]=A,A}return t?p:y}function ane(e){return e===void 0&&(e=10),function(t){return Math.ceil(oo(t,1e-6,1)*e)*(1/e)}}var lne=function(){var e=11,t=1/(e-1);function i(f,d){return 1-3*d+3*f}function r(f,d){return 3*d-6*f}function s(f){return 3*f}function n(f,d,p){return((i(d,p)*f+r(d,p))*f+s(d))*f}function o(f,d,p){return 3*i(d,p)*f*f+2*r(d,p)*f+s(d)}function a(f,d,p,y,v){var _,E,S=0;do E=d+(p-d)/2,_=n(E,y,v)-f,_>0?p=E:d=E;while(Math.abs(_)>1e-7&&++S<10);return E}function l(f,d,p,y){for(var v=0;v<4;++v){var _=o(d,p,y);if(_===0)return d;var E=n(d,p,y)-f;d-=E/_}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var v=new Float32Array(e);if(f!==d||p!==y)for(var _=0;_<e;++_)v[_]=n(_*t,f,p);function E(S){for(var A=0,w=1,b=e-1;w!==b&&v[w]<=S;++w)A+=t;--w;var M=(S-v[w])/(v[w+1]-v[w]),O=A+M*t,C=o(O,f,p);return C>=.001?l(S,O,f,p):C===0?O:a(S,A,A+t,f,p)}return function(S){return f===d&&p===y||S===0||S===1?S:n(E(S),d,y)}}return c}(),yR=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var s,n=4;r<((s=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((s*3-2)/22-r,2)}},Elastic:function(r,s){r===void 0&&(r=1),s===void 0&&(s=.5);var n=oo(r,1,10),o=oo(s,.1,2);return function(a){return a===0||a===1?a:-n*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/n))*(Math.PI*2)/o)}}},i=["Quad","Cubic","Quart","Quint","Expo"];return i.forEach(function(r,s){t[r]=function(){return function(n){return Math.pow(n,s+2)}}}),Object.keys(t).forEach(function(r){var s=t[r];e["easeIn"+r]=s,e["easeOut"+r]=function(n,o){return function(a){return 1-s(n,o)(1-a)}},e["easeInOut"+r]=function(n,o){return function(a){return a<.5?s(n,o)(a*2)/2:1-s(n,o)(a*-2+2)/2}},e["easeOutIn"+r]=function(n,o){return function(a){return a<.5?(1-s(n,o)(1-a*2))/2:(s(n,o)(a*2-1)+1)/2}}}),e}();function TE(e,t){if(De.fnc(e))return e;var i=e.split("(")[0],r=yR[i],s=pR(e);switch(i){case"spring":return mR(e,t);case"cubicBezier":return a_(lne,s);case"steps":return a_(ane,s);default:return a_(r,s)}}function gR(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Vv(e,t){for(var i=e.length,r=arguments.length>=2?arguments[1]:void 0,s=[],n=0;n<i;n++)if(n in e){var o=e[n];t.call(r,o,n,e)&&s.push(o)}return s}function Gv(e){return e.reduce(function(t,i){return t.concat(De.arr(i)?Gv(i):i)},[])}function TO(e){return De.arr(e)?e:(De.str(e)&&(e=gR(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function AE(e,t){return e.some(function(i){return i===t})}function ME(e){var t={};for(var i in e)t[i]=e[i];return t}function vx(e,t){var i=ME(e);for(var r in e)i[r]=t.hasOwnProperty(r)?t[r]:e[r];return i}function zv(e,t){var i=ME(e);for(var r in t)i[r]=De.und(e[r])?t[r]:e[r];return i}function cne(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function une(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=e.replace(t,function(a,l,c,f){return l+l+c+c+f+f}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),s=parseInt(r[1],16),n=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+s+","+n+","+o+",1)"}function hne(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,s=parseInt(t[3],10)/100,n=t[4]||1;function o(p,y,v){return v<0&&(v+=1),v>1&&(v-=1),v<1/6?p+(y-p)*6*v:v<1/2?y:v<2/3?p+(y-p)*(2/3-v)*6:p}var a,l,c;if(r==0)a=l=c=s;else{var f=s<.5?s*(1+r):s+r-s*r,d=2*s-f;a=o(d,f,i+1/3),l=o(d,f,i),c=o(d,f,i-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+n+")"}function fne(e){if(De.rgb(e))return cne(e);if(De.hex(e))return une(e);if(De.hsl(e))return hne(e)}function sa(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function dne(e){if(rp(e,"translate")||e==="perspective")return"px";if(rp(e,"rotate")||rp(e,"skew"))return"deg"}function bx(e,t){return De.fnc(e)?e(t.target,t.id,t.total):e}function ao(e,t){return e.getAttribute(t)}function OE(e,t,i){var r=sa(t);if(AE([i,"deg","rad","turn"],r))return t;var s=n1.CSS[t+i];if(!De.und(s))return s;var n=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=n+i;var l=n/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return n1.CSS[t+i]=c,c}function vR(e,t,i){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return i?OE(e,s,i):s}}function IE(e,t){if(De.dom(e)&&!De.inp(e)&&(!De.nil(ao(e,t))||De.svg(e)&&e[t]))return"attribute";if(De.dom(e)&&AE(one,t))return"transform";if(De.dom(e)&&t!=="transform"&&vR(e,t))return"css";if(e[t]!=null)return"object"}function bR(e){if(De.dom(e)){for(var t=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map,s;s=i.exec(t);)r.set(s[1],s[2]);return r}}function pne(e,t,i,r){var s=rp(t,"scale")?1:0+dne(t),n=bR(e).get(t)||s;return i&&(i.transforms.list.set(t,n),i.transforms.last=t),r?OE(e,n,r):n}function $E(e,t,i,r){switch(IE(e,t)){case"transform":return pne(e,t,r,i);case"css":return vR(e,t,i);case"attribute":return ao(e,t);default:return e[t]||0}}function CE(e,t){var i=/^(\*=|\+=|-=)/.exec(e);if(!i)return e;var r=sa(e)||0,s=parseFloat(t),n=parseFloat(e.replace(i[0],""));switch(i[0][0]){case"+":return s+n+r;case"-":return s-n+r;case"*":return s*n+r}}function _R(e,t){if(De.col(e))return fne(e);if(/\s/g.test(e))return e;var i=sa(e),r=i?e.substr(0,e.length-i.length):e;return t?r+t:r}function NE(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function mne(e){return Math.PI*2*ao(e,"r")}function yne(e){return ao(e,"width")*2+ao(e,"height")*2}function gne(e){return NE({x:ao(e,"x1"),y:ao(e,"y1")},{x:ao(e,"x2"),y:ao(e,"y2")})}function wR(e){for(var t=e.points,i=0,r,s=0;s<t.numberOfItems;s++){var n=t.getItem(s);s>0&&(i+=NE(r,n)),r=n}return i}function vne(e){var t=e.points;return wR(e)+NE(t.getItem(t.numberOfItems-1),t.getItem(0))}function xR(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return mne(e);case"rect":return yne(e);case"line":return gne(e);case"polyline":return wR(e);case"polygon":return vne(e)}}function bne(e){var t=xR(e);return e.setAttribute("stroke-dasharray",t),t}function _ne(e){for(var t=e.parentNode;De.svg(t)&&De.svg(t.parentNode);)t=t.parentNode;return t}function SR(e,t){var i=t||{},r=i.el||_ne(e),s=r.getBoundingClientRect(),n=ao(r,"viewBox"),o=s.width,a=s.height,l=i.viewBox||(n?n.split(" "):[0,0,o,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function wne(e,t){var i=De.str(e)?gR(e)[0]:e,r=t||100;return function(s){return{property:s,el:i,svg:SR(i),totalLength:xR(i)*(r/100)}}}function xne(e,t,i){function r(f){f===void 0&&(f=0);var d=t+f>=1?t+f:0;return e.el.getPointAtLength(d)}var s=SR(e.el,e.svg),n=r(),o=r(-1),a=r(1),l=i?1:s.w/s.vW,c=i?1:s.h/s.vH;switch(e.property){case"x":return(n.x-s.x)*l;case"y":return(n.y-s.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function AO(e,t){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=_R(De.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(i)?r.match(i).map(Number):[0],strings:De.str(e)||t?r.split(i):[]}}function PE(e){var t=e?Gv(De.arr(e)?e.map(TO):TO(e)):[];return Vv(t,function(i,r,s){return s.indexOf(i)===r})}function ER(e){var t=PE(e);return t.map(function(i,r){return{target:i,id:r,total:t.length,transforms:{list:bR(i)}}})}function Sne(e,t){var i=ME(t);if(/^spring/.test(i.easing)&&(i.duration=mR(i.easing)),De.arr(e)){var r=e.length,s=r===2&&!De.obj(e[0]);s?e={value:e}:De.fnc(t.duration)||(i.duration=t.duration/r)}var n=De.arr(e)?e:[e];return n.map(function(o,a){var l=De.obj(o)&&!De.pth(o)?o:{value:o};return De.und(l.delay)&&(l.delay=a?0:t.delay),De.und(l.endDelay)&&(l.endDelay=a===n.length-1?t.endDelay:0),l}).map(function(o){return zv(o,i)})}function Ene(e){for(var t=Vv(Gv(e.map(function(n){return Object.keys(n)})),function(n){return De.key(n)}).reduce(function(n,o){return n.indexOf(o)<0&&n.push(o),n},[]),i={},r=function(n){var o=t[n];i[o]=e.map(function(a){var l={};for(var c in a)De.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},s=0;s<t.length;s++)r(s);return i}function Tne(e,t){var i=[],r=t.keyframes;r&&(t=zv(Ene(r),t));for(var s in t)De.key(s)&&i.push({name:s,tweens:Sne(t[s],e)});return i}function Ane(e,t){var i={};for(var r in e){var s=bx(e[r],t);De.arr(s)&&(s=s.map(function(n){return bx(n,t)}),s.length===1&&(s=s[0])),i[r]=s}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function Mne(e,t){var i;return e.tweens.map(function(r){var s=Ane(r,t),n=s.value,o=De.arr(n)?n[1]:n,a=sa(o),l=$E(t.target,e.name,a,t),c=i?i.to.original:l,f=De.arr(n)?n[0]:c,d=sa(f)||sa(l),p=a||d;return De.und(o)&&(o=c),s.from=AO(f,p),s.to=AO(CE(o,f),p),s.start=i?i.end:0,s.end=s.start+s.delay+s.duration+s.endDelay,s.easing=TE(s.easing,s.duration),s.isPath=De.pth(n),s.isPathTargetInsideSVG=s.isPath&&De.svg(t.target),s.isColor=De.col(s.from.original),s.isColor&&(s.round=1),i=s,s})}var TR={css:function(e,t,i){return e.style[t]=i},attribute:function(e,t,i){return e.setAttribute(t,i)},object:function(e,t,i){return e[t]=i},transform:function(e,t,i,r,s){if(r.list.set(t,i),t===r.last||s){var n="";r.list.forEach(function(o,a){n+=a+"("+o+") "}),e.style.transform=n}}};function AR(e,t){var i=ER(e);i.forEach(function(r){for(var s in t){var n=bx(t[s],r),o=r.target,a=sa(n),l=$E(o,s,a,r),c=a||sa(l),f=CE(_R(n,c),l),d=IE(o,s);TR[d](o,s,f,r.transforms,!0)}})}function One(e,t){var i=IE(e.target,t.name);if(i){var r=Mne(t,e),s=r[r.length-1];return{type:i,property:t.name,animatable:e,tweens:r,duration:s.end,delay:r[0].delay,endDelay:s.endDelay}}}function Ine(e,t){return Vv(Gv(e.map(function(i){return t.map(function(r){return One(i,r)})})),function(i){return!De.und(i)})}function MR(e,t){var i=e.length,r=function(n){return n.timelineOffset?n.timelineOffset:0},s={};return s.duration=i?Math.max.apply(Math,e.map(function(n){return r(n)+n.duration})):t.duration,s.delay=i?Math.min.apply(Math,e.map(function(n){return r(n)+n.delay})):t.delay,s.endDelay=i?s.duration-Math.max.apply(Math,e.map(function(n){return r(n)+n.duration-n.endDelay})):t.endDelay,s}var MO=0;function $ne(e){var t=vx(dR,e),i=vx(EE,e),r=Tne(i,e),s=ER(e.targets),n=Ine(s,r),o=MR(n,i),a=MO;return MO++,zv(t,{id:a,children:[],animatables:s,animations:n,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var fn=[],OR=function(){var e;function t(){!e&&(!OO()||!ni.suspendWhenDocumentHidden)&&fn.length>0&&(e=requestAnimationFrame(i))}function i(s){for(var n=fn.length,o=0;o<n;){var a=fn[o];a.paused?(fn.splice(o,1),n--):(a.tick(s),o++)}e=o>0?requestAnimationFrame(i):void 0}function r(){ni.suspendWhenDocumentHidden&&(OO()?e=cancelAnimationFrame(e):(fn.forEach(function(s){return s._onDocumentVisibility()}),OR()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function OO(){return!!document&&document.hidden}function ni(e){e===void 0&&(e={});var t=0,i=0,r=0,s,n=0,o=null;function a(A){var w=window.Promise&&new Promise(function(b){return o=b});return A.finished=w,w}var l=$ne(e);a(l);function c(){var A=l.direction;A!=="alternate"&&(l.direction=A!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,s.forEach(function(w){return w.reversed=l.reversed})}function f(A){return l.reversed?l.duration-A:A}function d(){t=0,i=f(l.currentTime)*(1/ni.speed)}function p(A,w){w&&w.seek(A-w.timelineOffset)}function y(A){if(l.reversePlayback)for(var b=n;b--;)p(A,s[b]);else for(var w=0;w<n;w++)p(A,s[w])}function v(A){for(var w=0,b=l.animations,M=b.length;w<M;){var O=b[w],C=O.animatable,P=O.tweens,N=P.length-1,U=P[N];N&&(U=Vv(P,function(at){return A<at.end})[0]||U);for(var j=oo(A-U.start-U.delay,0,U.duration)/U.duration,F=isNaN(j)?1:U.easing(j),q=U.to.strings,te=U.round,h=[],m=U.to.numbers.length,x=void 0,$=0;$<m;$++){var V=void 0,Y=U.to.numbers[$],pe=U.from.numbers[$]||0;U.isPath?V=xne(U.value,F*Y,U.isPathTargetInsideSVG):V=pe+F*(Y-pe),te&&(U.isColor&&$>2||(V=Math.round(V*te)/te)),h.push(V)}var le=q.length;if(!le)x=h[0];else{x=q[0];for(var Me=0;Me<le;Me++){q[Me];var je=q[Me+1],ze=h[Me];isNaN(ze)||(je?x+=ze+je:x+=ze+" ")}}TR[O.type](C.target,O.property,x,C.transforms),O.currentValue=x,w++}}function _(A){l[A]&&!l.passThrough&&l[A](l)}function E(){l.remaining&&l.remaining!==!0&&l.remaining--}function S(A){var w=l.duration,b=l.delay,M=w-l.endDelay,O=f(A);l.progress=oo(O/w*100,0,100),l.reversePlayback=O<l.currentTime,s&&y(O),!l.began&&l.currentTime>0&&(l.began=!0,_("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,_("loopBegin")),O<=b&&l.currentTime!==0&&v(0),(O>=M&&l.currentTime!==w||!w)&&v(w),O>b&&O<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,_("changeBegin")),_("change"),v(O)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,_("changeComplete")),l.currentTime=oo(O,0,w),l.began&&_("update"),A>=w&&(i=0,E(),l.remaining?(t=r,_("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,_("loopComplete"),_("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var A=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=A==="reverse",l.remaining=l.loop,s=l.children,n=s.length;for(var w=n;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||A==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(A,w){return AR(A,w),l},l.tick=function(A){r=A,t||(t=r),S((r+(i-t))*ni.speed)},l.seek=function(A){S(f(A))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,fn.push(l),d(),OR())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(A){var w=PE(A);IR(w,l)},l.reset(),l.autoplay&&l.play(),l}function IO(e,t){for(var i=t.length;i--;)AE(e,t[i].animatable.target)&&t.splice(i,1)}function IR(e,t){var i=t.animations,r=t.children;IO(e,i);for(var s=r.length;s--;){var n=r[s],o=n.animations;IO(e,o),!o.length&&!n.children.length&&r.splice(s,1)}!i.length&&!r.length&&t.pause()}function Cne(e){for(var t=PE(e),i=fn.length;i--;){var r=fn[i];IR(t,r)}}function Nne(e,t){t===void 0&&(t={});var i=t.direction||"normal",r=t.easing?TE(t.easing):null,s=t.grid,n=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",f=De.arr(e),d=parseFloat(f?e[0]:e),p=f?parseFloat(e[1]):0,y=sa(f?e[1]:e)||0,v=t.start||0+(f?d:0),_=[],E=0;return function(S,A,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!_.length){for(var b=0;b<w;b++){if(!s)_.push(Math.abs(o-b));else{var M=l?(s[0]-1)/2:o%s[0],O=l?(s[1]-1)/2:Math.floor(o/s[0]),C=b%s[0],P=Math.floor(b/s[0]),N=M-C,U=O-P,j=Math.sqrt(N*N+U*U);n==="x"&&(j=-N),n==="y"&&(j=-U),_.push(j)}E=Math.max.apply(Math,_)}r&&(_=_.map(function(q){return r(q/E)*E})),i==="reverse"&&(_=_.map(function(q){return n?q<0?q*-1:-q:Math.abs(E-q)}))}var F=f?(p-d)/E:d;return v+F*(Math.round(_[A]*100)/100)+y}}function Pne(e){e===void 0&&(e={});var t=ni(e);return t.duration=0,t.add=function(i,r){var s=fn.indexOf(t),n=t.children;s>-1&&fn.splice(s,1);function o(p){p.passThrough=!0}for(var a=0;a<n.length;a++)o(n[a]);var l=zv(i,vx(EE,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=De.und(r)?c:CE(r,c),o(t),t.seek(l.timelineOffset);var f=ni(l);o(f),n.push(f);var d=MR(n,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}ni.version="3.2.1";ni.speed=1;ni.suspendWhenDocumentHidden=!0;ni.running=fn;ni.remove=Cne;ni.get=$E;ni.set=AR;ni.convertPx=OE;ni.path=wne;ni.setDashoffset=bne;ni.stagger=Nne;ni.timeline=Pne;ni.easing=TE;ni.penner=yR;ni.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Lne={xs:200,sm:576,md:768,lg:960};class $R{resizeObserver;constructor(t){this.resizeObserver=new ResizeObserver(i=>{i.length&&window.requestAnimationFrame(()=>{i.forEach(r=>{const s=r.target.dataset.breakpoints,n=s?JSON.parse(s):t??Lne;Object.keys(n).forEach(o=>{const a=n[o];r.contentRect.width>=a?r.target.classList.add(o):r.target.classList.remove(o)})})})})}observe(t){this.resizeObserver?.observe(t)}}const kne=["data-cy"],CR=rt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=X(null),i=e,r=X(!1);lr(()=>{i.panel.teleport&&new $R({xs:0,sm:461,...i.panel.teleport.breakpoints}).observe(t.value)});const s=(l,c,f)=>{if(r.value)return c();ni({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},n=(l,c)=>{s(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(r.value=i.panel.isScreenLoaded(i.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{s(l,c,[0,1])};return(l,c)=>{const f=Tt("focus-container");return fe(),we("div",{class:di(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:Ml(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Ke(Ov,{onBeforeLeave:o,onLeave:a,onEnter:n},{default:Ti(()=>[Et((fe(),Bt(M3(e.panel.route.screen),Mv({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[f]])]),_:1})],14,kne)}}}),Kc=oi("panel",()=>{const e=X(void 0),t=X(void 0),i=X(0),r=X(0),s=X(!1),n=X(!0),o=X({}),a=X({}),l=X([]),c=X([]),f=X([]),d=tt(()=>r.value);function p(j){return j==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function y(j){const F=[];return j.forEach(q=>{q in a.value&&F.push(a.value[q].getPromise())}),F}function v(j){O(j),b(),t.value=void 0}function _(j){C(j),b()}function E(j,F){P(j,F),b()}function S(j){N(j),b()}function A(j){i.value=j,b()}function w(j){s.value=j}function b(){let j=i.value;const F=[],q=350,te=12,h=600;for(let m=l.value.length-1;m>=0;m--){const x=l.value[m];let $=x.width||q;if(s.value?$=j:$+=te,x.id==="grid"&&($=Math.max(Math.min($,j),h)),(j>=$&&!s.value||F.length===0)&&(j-=$,F.unshift(x)),x.id==="grid"&&j<h)break}if(e.value&&!F.includes(e.value)&&!s.value){let m;for(let Y=0;Y<F.length-1&&j<(e.value.width||q)+te;Y++)m=F.shift(),j+=m.width||q;j>=(e.value.width||q)?F.unshift(e.value):t.value||(m=F.shift(),F.unshift(e.value));const x=l.value.indexOf(e.value),$=l.value.indexOf(m),V=l.value.slice();$>-1&&(V.splice(x,1),V.splice($,0,e.value)),l.value=V}r.value=j,f.value=F}function M(j){if(o.value={...o.value,[j.id]:j},j.id in a.value)a.value[j.id].resolveMe(j);else{const F=new Ni;F.resolveMe(j),a.value={...a.value,[j.id]:F}}}function O(j){j.teleport?c.value=[...c.value,j]:(l.value=[...l.value,j],t.value=j)}function C(j){if(j.teleport){const F=c.value.indexOf(j);F!==-1&&(c.value=[...c.value.slice(0,F),...c.value.slice(F+1)])}else{const F=l.value.indexOf(j);F!==-1&&(l.value=[...l.value.slice(0,F),...l.value.slice(F+1)])}}function P(j,F){const q=l.value.indexOf(j),te=F==="right"?1:-1;f.value.includes(l.value[q+te])&&([l.value[q],l.value[q+te]]=[l.value[q+te],l.value[q]])}function N(j){o.value[j.id]!==void 0&&delete o.value[j.id],a.value[j.id]!==void 0&&delete a.value[j.id];const F=f.value.indexOf(j);F!==-1&&(f.value=[...f.value.slice(0,F),...f.value.slice(F+1)]),e.value&&e.value.id==j.id&&(e.value=void 0)}function U(j){a.value={...a.value,[j]:new Ni}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:f,stackWidth:i,remWidth:r,mobileView:s,reorderable:n,teleported:c,getRemainingWidth:d,getVisible:p,getRegPromises:y,openPanel:v,closePanel:_,movePanel:E,removePanel:S,setStackWidth:A,setMobileView:w,updateVisible:b,registerPanel:M,addRegPromise:U}}),Rne=rt({__name:"panel-stack",setup(e){const t=Kc(),i=Pi("iApi"),r=X(),s=tt(()=>t.mobileView);lr(()=>{new ResizeObserver(f=>{const d=!(i?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");s.value!==d&&(t.mobileView=d,i?.event.emit($e.RAMP_MOBILEVIEW_CHANGE,d)),t.setStackWidth(f[0].contentRect.width)}).observe(r.value?.$el)});const n=c=>t.getVisible(c),o=(c,f)=>{l(c,f,[[6,0],[0,1]])},a=(c,f)=>{const[d,p]=[c.children[0].getBoundingClientRect(),c.parentElement.getBoundingClientRect()];c.style.width=`${d.width}px`,c.style.height=`${d.height}px`,c.style.left=`${d.left-p.left}px`,c.style.position="absolute",l(c,f,[[0,-6],[1,0]])},l=(c,f,d)=>{ni({targets:c,duration:300,translateY:{value:d[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:d[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:f})};return(c,f)=>(fe(),Bt($v,{onEnter:o,onLeave:a,name:"panel-container",tag:"div",ref_key:"el",ref:r},{default:Ti(()=>[(fe(!0),we(It,null,Cl(n(Oe(i).screenSize),d=>(fe(),Bt(CR,{key:`${d.id}`,panel:d},null,8,["panel"]))),128))]),_:1},512))}}),fa=(e,t)=>{const i=e.__vccOpts||e;for(const[r,s]of t)i[r]=s;return i},Dne=fa(Rne,[["__scopeId","data-v-452bbe12"]]);var ss="top",Hs="bottom",Ys="right",ns="left",LE="auto",zm=[ss,Hs,Ys,ns],Qh="start",im="end",Fne="clippingParents",NR="viewport",Jf="popper",Une="reference",$O=zm.reduce(function(e,t){return e.concat([t+"-"+Qh,t+"-"+im])},[]),PR=[].concat(zm,[LE]).reduce(function(e,t){return e.concat([t,t+"-"+Qh,t+"-"+im])},[]),jne="beforeRead",Bne="read",Vne="afterRead",Gne="beforeMain",zne="main",qne="afterMain",Wne="beforeWrite",Hne="write",Yne="afterWrite",Jne=[jne,Bne,Vne,Gne,zne,qne,Wne,Hne,Yne];function xo(e){return e?(e.nodeName||"").toLowerCase():null}function ws(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xc(e){var t=ws(e).Element;return e instanceof t||e instanceof Element}function zs(e){var t=ws(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kE(e){if(typeof ShadowRoot>"u")return!1;var t=ws(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Zne(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!zs(n)||!xo(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function Kne(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!zs(s)||!xo(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}const Xne={name:"applyStyles",enabled:!0,phase:"write",fn:Zne,effect:Kne,requires:["computeStyles"]};function fo(e){return e.split("-")[0]}var Cc=Math.max,o1=Math.min,ef=Math.round;function _x(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function LR(){return!/^((?!chrome|android).)*safari/i.test(_x())}function tf(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=e.getBoundingClientRect(),s=1,n=1;t&&zs(e)&&(s=e.offsetWidth>0&&ef(r.width)/e.offsetWidth||1,n=e.offsetHeight>0&&ef(r.height)/e.offsetHeight||1);var o=Xc(e)?ws(e):window,a=o.visualViewport,l=!LR()&&i,c=(r.left+(l&&a?a.offsetLeft:0))/s,f=(r.top+(l&&a?a.offsetTop:0))/n,d=r.width/s,p=r.height/n;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function RE(e){var t=tf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function kR(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&kE(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function la(e){return ws(e).getComputedStyle(e)}function Qne(e){return["table","td","th"].indexOf(xo(e))>=0}function kl(e){return((Xc(e)?e.ownerDocument:e.document)||window.document).documentElement}function qv(e){return xo(e)==="html"?e:e.assignedSlot||e.parentNode||(kE(e)?e.host:null)||kl(e)}function CO(e){return!zs(e)||la(e).position==="fixed"?null:e.offsetParent}function eoe(e){var t=/firefox/i.test(_x()),i=/Trident/i.test(_x());if(i&&zs(e)){var r=la(e);if(r.position==="fixed")return null}var s=qv(e);for(kE(s)&&(s=s.host);zs(s)&&["html","body"].indexOf(xo(s))<0;){var n=la(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function qm(e){for(var t=ws(e),i=CO(e);i&&Qne(i)&&la(i).position==="static";)i=CO(i);return i&&(xo(i)==="html"||xo(i)==="body"&&la(i).position==="static")?t:i||eoe(e)||t}function DE(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function sp(e,t,i){return Cc(e,o1(t,i))}function toe(e,t,i){var r=sp(e,t,i);return r>i?i:r}function RR(){return{top:0,right:0,bottom:0,left:0}}function DR(e){return Object.assign({},RR(),e)}function FR(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var ioe=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,DR(typeof t!="number"?t:FR(t,zm))};function roe(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=fo(i.placement),l=DE(a),c=[ns,Ys].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=ioe(s.padding,i),p=RE(n),y=l==="y"?ss:ns,v=l==="y"?Hs:Ys,_=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],S=qm(n),A=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=_/2-E/2,b=d[y],M=A-p[f]-d[v],O=A/2-p[f]/2+w,C=sp(b,O,M),P=l;i.modifiersData[r]=(t={},t[P]=C,t.centerOffset=C-O,t)}}function soe(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||kR(t.elements.popper,s)&&(t.elements.arrow=s))}const noe={name:"arrow",enabled:!0,phase:"main",fn:roe,effect:soe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rf(e){return e.split("-")[1]}var ooe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function aoe(e,t){var i=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:ef(i*s)/s||0,y:ef(r*s)/s||0}}function NO(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,v=o.y,_=v===void 0?0:v,E=typeof f=="function"?f({x:y,y:_}):{x:y,y:_};y=E.x,_=E.y;var S=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),w=ns,b=ss,M=window;if(c){var O=qm(i),C="clientHeight",P="clientWidth";if(O===ws(i)&&(O=kl(i),la(O).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),O=O,s===ss||(s===ns||s===Ys)&&n===im){b=Hs;var N=d&&O===M&&M.visualViewport?M.visualViewport.height:O[C];_-=N-r.height,_*=l?1:-1}if(s===ns||(s===ss||s===Hs)&&n===im){w=Ys;var U=d&&O===M&&M.visualViewport?M.visualViewport.width:O[P];y-=U-r.width,y*=l?1:-1}}var j=Object.assign({position:a},c&&ooe),F=f===!0?aoe({x:y,y:_},ws(i)):{x:y,y:_};if(y=F.x,_=F.y,l){var q;return Object.assign({},j,(q={},q[b]=A?"0":"",q[w]=S?"0":"",q.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",q))}return Object.assign({},j,(t={},t[b]=A?_+"px":"",t[w]=S?y+"px":"",t.transform="",t))}function loe(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:fo(t.placement),variation:rf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,NO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,NO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const coe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:loe,data:{}};var R0={passive:!0};function uoe(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=ws(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,R0)}),a&&l.addEventListener("resize",i.update,R0),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,R0)}),a&&l.removeEventListener("resize",i.update,R0)}}const hoe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:uoe,data:{}};var foe={left:"right",right:"left",bottom:"top",top:"bottom"};function jy(e){return e.replace(/left|right|bottom|top/g,function(t){return foe[t]})}var doe={start:"end",end:"start"};function PO(e){return e.replace(/start|end/g,function(t){return doe[t]})}function FE(e){var t=ws(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function UE(e){return tf(kl(e)).left+FE(e).scrollLeft}function poe(e,t){var i=ws(e),r=kl(e),s=i.visualViewport,n=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;var c=LR();(c||!c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a+UE(e),y:l}}function moe(e){var t,i=kl(e),r=FE(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=Cc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Cc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+UE(e),l=-r.scrollTop;return la(s||i).direction==="rtl"&&(a+=Cc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function jE(e){var t=la(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function UR(e){return["html","body","#document"].indexOf(xo(e))>=0?e.ownerDocument.body:zs(e)&&jE(e)?e:UR(qv(e))}function np(e,t){var i;t===void 0&&(t=[]);var r=UR(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=ws(r),o=s?[n].concat(n.visualViewport||[],jE(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(np(qv(o)))}function wx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function yoe(e,t){var i=tf(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function LO(e,t,i){return t===NR?wx(poe(e,i)):Xc(t)?yoe(t,i):wx(moe(kl(e)))}function goe(e){var t=np(qv(e)),i=["absolute","fixed"].indexOf(la(e).position)>=0,r=i&&zs(e)?qm(e):e;return Xc(r)?t.filter(function(s){return Xc(s)&&kR(s,r)&&xo(s)!=="body"}):[]}function voe(e,t,i,r){var s=t==="clippingParents"?goe(e):[].concat(t),n=[].concat(s,[i]),o=n[0],a=n.reduce(function(l,c){var f=LO(e,c,r);return l.top=Cc(f.top,l.top),l.right=o1(f.right,l.right),l.bottom=o1(f.bottom,l.bottom),l.left=Cc(f.left,l.left),l},LO(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function jR(e){var t=e.reference,i=e.element,r=e.placement,s=r?fo(r):null,n=r?rf(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case ss:l={x:o,y:t.y-i.height};break;case Hs:l={x:o,y:t.y+t.height};break;case Ys:l={x:t.x+t.width,y:a};break;case ns:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?DE(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case Qh:l[c]=l[c]-(t[f]/2-i[f]/2);break;case im:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function sf(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.strategy,o=n===void 0?e.strategy:n,a=i.boundary,l=a===void 0?Fne:a,c=i.rootBoundary,f=c===void 0?NR:c,d=i.elementContext,p=d===void 0?Jf:d,y=i.altBoundary,v=y===void 0?!1:y,_=i.padding,E=_===void 0?0:_,S=DR(typeof E!="number"?E:FR(E,zm)),A=p===Jf?Une:Jf,w=e.rects.popper,b=e.elements[v?A:p],M=voe(Xc(b)?b:b.contextElement||kl(e.elements.popper),l,f,o),O=tf(e.elements.reference),C=jR({reference:O,element:w,strategy:"absolute",placement:s}),P=wx(Object.assign({},w,C)),N=p===Jf?P:O,U={top:M.top-N.top+S.top,bottom:N.bottom-M.bottom+S.bottom,left:M.left-N.left+S.left,right:N.right-M.right+S.right},j=e.modifiersData.offset;if(p===Jf&&j){var F=j[s];Object.keys(U).forEach(function(q){var te=[Ys,Hs].indexOf(q)>=0?1:-1,h=[ss,Hs].indexOf(q)>=0?"y":"x";U[q]+=F[h]*te})}return U}function boe(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?PR:l,f=rf(r),d=f?a?$O:$O.filter(function(v){return rf(v)===f}):zm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,_){return v[_]=sf(e,{placement:_,boundary:s,rootBoundary:n,padding:o})[fo(_)],v},{});return Object.keys(y).sort(function(v,_){return y[v]-y[_]})}function _oe(e){if(fo(e)===LE)return[];var t=jy(e);return[PO(e),t,PO(t)]}function woe(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,_=i.allowedAutoPlacements,E=t.options.placement,S=fo(E),A=S===E,w=l||(A||!v?[jy(E)]:_oe(E)),b=[E].concat(w).reduce(function(je,ze){return je.concat(fo(ze)===LE?boe(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:_}):ze)},[]),M=t.rects.reference,O=t.rects.popper,C=new Map,P=!0,N=b[0],U=0;U<b.length;U++){var j=b[U],F=fo(j),q=rf(j)===Qh,te=[ss,Hs].indexOf(F)>=0,h=te?"width":"height",m=sf(t,{placement:j,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=te?q?Ys:ns:q?Hs:ss;M[h]>O[h]&&(x=jy(x));var $=jy(x),V=[];if(n&&V.push(m[F]<=0),a&&V.push(m[x]<=0,m[$]<=0),V.every(function(je){return je})){N=j,P=!1;break}C.set(j,V)}if(P)for(var Y=v?3:1,pe=function(ze){var at=b.find(function(Gt){var At=C.get(Gt);if(At)return At.slice(0,ze).every(function(pi){return pi})});if(at)return N=at,"break"},le=Y;le>0;le--){var Me=pe(le);if(Me==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}const xoe={name:"flip",enabled:!0,phase:"main",fn:woe,requiresIfExists:["offset"],data:{_skip:!1}};function kO(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function RO(e){return[ss,Ys,Hs,ns].some(function(t){return e[t]>=0})}function Soe(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=sf(t,{elementContext:"reference"}),a=sf(t,{altBoundary:!0}),l=kO(o,r),c=kO(a,s,n),f=RO(l),d=RO(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const Eoe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Soe};function Toe(e,t,i){var r=fo(e),s=[ns,ss].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[ns,Ys].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Aoe(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=PR.reduce(function(f,d){return f[d]=Toe(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const Moe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Aoe};function Ooe(e){var t=e.state,i=e.name;t.modifiersData[i]=jR({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Ioe={name:"popperOffsets",enabled:!0,phase:"read",fn:Ooe,data:{}};function $oe(e){return e==="x"?"y":"x"}function Coe(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,_=v===void 0?0:v,E=sf(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),S=fo(t.placement),A=rf(t.placement),w=!A,b=DE(S),M=$oe(b),O=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,N=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,U=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(O){if(n){var q,te=b==="y"?ss:ns,h=b==="y"?Hs:Ys,m=b==="y"?"height":"width",x=O[b],$=x+E[te],V=x-E[h],Y=y?-P[m]/2:0,pe=A===Qh?C[m]:P[m],le=A===Qh?-P[m]:-C[m],Me=t.elements.arrow,je=y&&Me?RE(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:RR(),at=ze[te],Gt=ze[h],At=sp(0,C[m],je[m]),pi=w?C[m]/2-Y-At-at-U.mainAxis:pe-At-at-U.mainAxis,Rt=w?-C[m]/2+Y+At+Gt+U.mainAxis:le+At+Gt+U.mainAxis,ri=t.elements.arrow&&qm(t.elements.arrow),Ji=ri?b==="y"?ri.clientTop||0:ri.clientLeft||0:0,B=(q=j?.[b])!=null?q:0,D=x+pi-B-Ji,H=x+Rt-B,oe=sp(y?o1($,D):$,x,y?Cc(V,H):V);O[b]=oe,F[b]=oe-x}if(a){var Q,ce=b==="x"?ss:ns,ye=b==="x"?Hs:Ys,L=O[M],k=M==="y"?"height":"width",G=L+E[ce],ee=L-E[ye],se=[ss,ns].indexOf(S)!==-1,ne=(Q=j?.[M])!=null?Q:0,W=se?G:L-C[k]-P[k]-ne+U.altAxis,Z=se?L+C[k]+P[k]-ne-U.altAxis:ee,Te=y&&se?toe(W,L,Z):sp(y?W:G,L,y?Z:ee);O[M]=Te,F[M]=Te-L}t.modifiersData[r]=F}}const Noe={name:"preventOverflow",enabled:!0,phase:"main",fn:Coe,requiresIfExists:["offset"]};function Poe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Loe(e){return e===ws(e)||!zs(e)?FE(e):Poe(e)}function koe(e){var t=e.getBoundingClientRect(),i=ef(t.width)/e.offsetWidth||1,r=ef(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Roe(e,t,i){i===void 0&&(i=!1);var r=zs(t),s=zs(t)&&koe(t),n=kl(t),o=tf(e,s,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((xo(t)!=="body"||jE(n))&&(a=Loe(t)),zs(t)?(l=tf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=UE(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Doe(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function Foe(e){var t=Doe(e);return Jne.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function Uoe(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function joe(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var DO={placement:"bottom",modifiers:[],strategy:"absolute"};function FO(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Boe(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?DO:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},DO,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(S){var A=typeof S=="function"?S(f.options):S;_(),f.options=Object.assign({},n,f.options,A),f.scrollParents={reference:Xc(a)?np(a):a.contextElement?np(a.contextElement):[],popper:np(l)};var w=Foe(joe([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(b){return b.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var S=f.elements,A=S.reference,w=S.popper;if(FO(A,w)){f.rects={reference:Roe(A,qm(w),f.options.strategy==="fixed"),popper:RE(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(U){return f.modifiersData[U.name]=Object.assign({},U.data)});for(var b=0;b<f.orderedModifiers.length;b++){if(f.reset===!0){f.reset=!1,b=-1;continue}var M=f.orderedModifiers[b],O=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof O=="function"&&(f=O({state:f,options:P,name:N,instance:y})||f)}}}},update:Uoe(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){_(),p=!0}};if(!FO(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var S=E.name,A=E.options,w=A===void 0?{}:A,b=E.effect;if(typeof b=="function"){var M=b({state:f,name:S,instance:y,options:w}),O=function(){};d.push(M||O)}})}function _(){d.forEach(function(E){return E()}),d=[]}return y}}var Voe=[hoe,Ioe,coe,Xne,Moe,xoe,Noe,noe,Eoe],Goe=Boe({defaultModifiers:Voe});const zoe=["content","aria-label"],BE=rt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=X(!1),i=X(null),r=tr([]),s=X(),n=X(),o=X(),a=e;r.push(Wi(t,()=>{i.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return lr(()=>{window.addEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),Pn(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=sf(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&n.value&&(i.value=Goe(o.value,n.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Ln(()=>{r.forEach(d=>d()),window.removeEventListener("click",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!s.value||!s.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),t.value=!1}),(d,p)=>{const y=Tt("tippy");return fe(),we("div",{ref_key:"el",ref:s},[Et((fe(),we("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[pn(d.$slots,"header")],8,zoe)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,trigger:"manual"}]]),Et(ue("div",{onClick:p[0]||(p[0]=v=>i.value.update()),class:di(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:n},[pn(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[Iv,t.value]])],512)}}}),po=oi("notification",()=>{const e=X([]),t=X({}),i=tt(()=>e.value.length>=99?99:e.value.length);function r(c){e.value=[c,...e.value]}function s(c){if(e.value.includes(c)){const f=e.value.indexOf(c);c instanceof BR&&l(c),f>-1&&e.value.splice(f,1)}}function n(c){t.value[c.id]=c}function o(c,f){t.value[c]&&(t.value[c].messageList.push(f),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const f=e.value.indexOf(c);f>-1&&e.value.splice(f,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:i,showNotification:r,removeNotification:s,registerGroup:n,addToGroup:o,clearAll:a}}),qoe={class:"h-full flex flex-col"},Woe={class:"w-full flex mb-6"},Hoe=["content","aria-label"],Yoe=rt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=po(),{t:i}=ii(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=bi("panel-screen"),l=Tt("tippy");return fe(),Bt(a,{panel:e.panel},{header:Ti(()=>[ho(jt(Oe(i)("notifications.title")),1)]),content:Ti(()=>[ue("div",qoe,[ue("div",Woe,[Et((fe(),we("button",{type:"button",onClick:s,class:di(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Oe(i)("notifications.controls.clearAll"),"aria-label":Oe(i)("notifications.controls.clearAll")},o[0]||(o[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,Hoe)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Ke(VR,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var bs=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(bs||{});class Joe extends ki{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":Si(Yoe)},alertName:"notifications.title"}}),this.notificationStore=po(this.$vApp.$pinia)}show(t,i){this.notificationStore.showNotification({type:t,message:i})}addGroup(t,i,r){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const s=new BR(this.$iApi,t,i,r);return this.notificationStore.registerGroup(s),s}getGroup(t){return this.notificationStore.groups[t]}}class BR extends ki{notificationStore=po(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,i,r,s){super(t),this.id=i,this.type=r,this.message=s}show(t){this.notificationStore.addToGroup(this.id,t)}}const Zoe=["content"],Koe={class:"flex items-center text-left"},Xoe={class:"select-text cursor-text"},Qoe=["content"],eae={key:0,class:"text-left"},tae=rt({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=po(),{t:i}=ii(),r=e,s=X(!1),n=tr({[bs.WARNING]:"⚠",[bs.INFO]:"ℹ️",[bs.ERROR]:"❌"}),o=l=>{t.removeNotification(l)},a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const f=Tt("tippy");return Et((fe(),we("li",{class:di(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:Oe(i)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[ue("div",Koe,[ue("span",null,[ho(jt(n[e.notification.type])+" ",1),ue("span",Xoe,jt(e.notification.message),1)]),c[4]||(c[4]=ue("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(fe(),we("div",{key:0,class:di(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ue("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Wt("",!0),Et((fe(),we("button",{type:"button",onClick:c[0]||(c[0]=jm(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Oe(i)("notifications.controls.dismiss")},c[3]||(c[3]=[ue("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ue("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,Qoe)),[[f,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&s.value?(fe(),we("div",eae,[(fe(!0),we(It,null,Cl(e.notification.messageList,(d,p)=>(fe(),we("p",{key:e.notification.id+d+p},jt(d),1))),128))])):Wt("",!0)],10,Zoe)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),iae=["content"],rae={key:0,class:"w-full border-b border-black"},sae={key:1,class:"flex flex-col items-center h-full"},VR=rt({__name:"notification-list",setup(e){const t=po(),{t:i}=ii(),r=X(),s=()=>{r.value._tippy.hide()},n=a=>{a.key==="Tab"&&r.value?.matches(":focus")&&r.value._tippy.show()};lr(()=>{r.value?.addEventListener("blur",s),r.value?.addEventListener("keyup",n)}),Ln(()=>{r.value?.removeEventListener("blur",s),r.value?.removeEventListener("keyup",n)});const o=tt(()=>t.notificationStack);return(a,l)=>{const c=Tt("focus-item"),f=Tt("focus-list"),d=Tt("tippy");return fe(),we("div",null,[o.value.length>0?Et((fe(),we("ul",{key:0,content:Oe(i)("panels.controls.items"),ref_key:"el",ref:r,class:"h-full overflow-y-auto"},[(fe(!0),we(It,null,Cl(o.value,(p,y)=>(fe(),we(It,{key:p.message+y},[y>0?(fe(),we("div",rae)):Wt("",!0),Et(Ke(tae,{class:di([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,iae)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(fe(),we("div",sae,[l[0]||(l[0]=ue("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ue("path",{d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ue("span",null,jt(Oe(i)("notifications.empty")),1),l[2]||(l[2]=ue("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),nae={class:"flex items-center hover:text-white"},oae=["aria-label"],aae={key:0,class:"number rounded-full w-18 text-white"},lae={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},cae={class:"pb-8 border-b border-gray-600"},uae={class:"absolute flex right-3 top-3"},hae=["content","aria-label"],fae=rt({__name:"caption-button",setup(e){const t=po(),{t:i}=ii(),r=tt(()=>t.notificationNumber),s=()=>t.clearAll();return(n,o)=>{const a=bi("close"),l=Tt("tippy");return fe(),Bt(BE,{position:"top-start",tooltip:Oe(i)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Ti(()=>[ue("div",nae,[(fe(),we("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Oe(i)("notifications.open")},o[0]||(o[0]=[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,oae)),r.value&&r.value>0?(fe(),we("span",aae,jt(r.value),1)):Wt("",!0)])]),default:Ti(c=>[ue("div",lae,[ue("div",null,[ue("h4",cae,jt(Oe(i)("notifications.title")),1),ue("div",uae,[Et((fe(),we("button",{type:"button",onClick:s,class:di(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Oe(i)("notifications.controls.clearAll"),"aria-label":Oe(i)("notifications.controls.clearAll")},o[1]||(o[1]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,hae)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Ke(a,{onClick:c.close},null,8,["onClick"])])]),Ke(VR,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),dae=fa(fae,[["__scopeId","data-v-77b1750c"]]),pae={class:"flex hover:text-white"},mae=["aria-label"],yae={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},gae=["aria-label","content"],vae={class:"pb-8 border-b border-gray-600 mb-10"},bae={class:"absolute right-5 top-5"},_ae={class:"select-text"},wae={class:"font-bold cursor-text"},xae={class:"text-sm cursor-text"},Sae={class:"text-sm cursor-text"},Eae=rt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=ii(),i=Pi("iApi"),r=()=>{i.reload()},s=tt(()=>`${Kf.major}.${Kf.minor}.${Kf.patch}`),n=tt(()=>Kf.hash.slice(0,9)),o=tt(()=>{const a=new Date(Kf.timestamp);if(isNaN(a))return"dev mode, no date";{const l=c=>c<10?"0"+c.toString():c.toString();return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()} ${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`}});return(a,l)=>{const c=bi("close"),f=bi("dropdown-menu"),d=Tt("tippy"),p=Tt("focus-item");return Et((fe(),Bt(f,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:Oe(t)("ramp.about"),tooltipPlacement:e.position},{header:Ti(()=>[ue("div",pae,[(fe(),we("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Oe(t)("ramp.about.open")},l[0]||(l[0]=[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,mae))])]),default:Ti(y=>[ue("div",yae,[ue("div",null,[Et((fe(),we("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:r,"aria-label":Oe(t)("ramp.reload"),content:Oe(t)("ramp.reload")},l[1]||(l[1]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,gae)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),ue("h4",vae,jt(Oe(t)("ramp.about")),1),ue("div",bae,[Ke(c,{onClick:y.close},null,8,["onClick"])]),ue("div",_ae,[ue("div",null,[ue("span",wae,jt(s.value),1),ue("span",xae," ["+jt(n.value)+"] ",1)]),ue("div",null,[ue("span",Sae,jt(o.value),1)]),l[2]||(l[2]=ue("div",{class:"mt-5"},[ue("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),ho(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[p]])}}}),Tae=fa(Eae,[["__scopeId","data-v-b2adae3d"]]),Aae={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Mae={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Oae=["href","aria-label"],Iae=["src","alt"],$ae={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},Cae={class:"flex min-w-fit justify-end"},Nae={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},Pae=["aria-pressed","aria-label","content"],Lae={class:"relative top-1 text-sm sm:text-base"},kae={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},Rae=["onClick"],Dae={key:0,class:"sr-only"},Fae=rt({__name:"map-caption",setup(e){const t=nl(),i=es(),{t:r}=ii(),s=Pi("iApi"),n=tt(()=>t.scale),o=tt(()=>t.attribution),a=tt(()=>t.coords),l=tt(()=>t.langtoggle),c=tt(()=>i.config.map),f=X([]),d=tr([]);d.push(Wi(c,E=>{E&&s.geo.map.caption.createCaption(c.value?.caption)})),Ln(()=>{d.forEach(E=>E())}),Cf(()=>{Pn(()=>{s.$i18n.locale.value&&f.value.length==0&&(f.value=s.$i18n.availableLocales)})});const p=()=>o.value?.logo?.link&&o.value?.logo?.value&&!o.value?.logo?.disabled,y=E=>{s.$i18n.locale.value!=E&&s.setLanguage(E)},v=()=>{t.toggleScale(),s.geo.map.caption.updateScale()},_=(E=!1)=>r(E?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(E,S)=>{const A=bi("dropdown-menu"),w=Tt("truncate"),b=Tt("tippy");return fe(),we("div",Aae,[Ke(Tae,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Ke(dae,{class:"sm:block display-none"}),p()?(fe(),we("span",Mae,[ue("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ue("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,Iae)],8,Oae)])):Wt("",!0),o.value?.text.disabled?Wt("",!0):Et((fe(),we("span",$ae,[ho(jt(o.value?.text.value),1)])),[[w,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),S[0]||(S[0]=ue("span",{class:"flex-grow w-15"},null,-1)),ue("div",Cae,[a.value?.disabled?Wt("",!0):Et((fe(),we("div",Nae,[ho(jt(a.value?.formattedString),1)])),[[w,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),n.value?.disabled?Wt("",!0):Et((fe(),we("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:v,"aria-pressed":n.value?.isImperialScale,"aria-label":`
                    ${n.value?.label} - ${_(n.value?.isImperialScale)}
                `,content:_(n.value?.isImperialScale)},[ue("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Ml({width:n.value?.width})},null,4),ue("span",Lae,jt(n.value?.label),1)],8,Pae)),[[b,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Wt("",!0):(fe(),Bt(A,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Oe(r)("map.changeLanguage"),ariaLabel:`${Oe(r)("map.language.short")} - ${Oe(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Ti(()=>[ue("span",kae,jt(Oe(r)("map.language.short")),1)]),default:Ti(()=>[(fe(!0),we(It,null,Cl(f.value,(M,O)=>(fe(),we("a",{key:`${M}-${O}`,class:di(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":M===Oe(s).$i18n.locale.value}]),href:"javascript:;",onClick:C=>y(M)},[ho(jt(Oe(r)("map.language."+M))+" ",1),M===Oe(s).$i18n.locale.value?(fe(),we("span",Dae,jt(Oe(r)("map.language.curr")),1)):Wt("",!0)],10,Rae))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),Uae=["content","aria-label"],jae={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},Bae=rt({__name:"floating-button",setup(e){const t=po(),i=Pi("iApi"),{t:r}=ii(),s=tt(()=>t.notificationNumber);return(n,o)=>{const a=Tt("tippy");return Et((fe(),we("button",{type:"button",onClick:o[0]||(o[0]=l=>Oe(i).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Oe(r)("notifications.title"),"aria-label":Oe(r)("notifications.title")},[o[1]||(o[1]=ue("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),s.value&&s.value>0?(fe(),we("span",jae,jt(s.value),1)):Wt("",!0)],8,Uae)),[[a]])}}}),Vae=fa(Bae,[["__scopeId","data-v-db7ed22c"]]),Gae={class:"flex items-center mb-20"},zae={class:"text-xl"},qae=rt({__name:"keyboard-instructions",setup(e){const t=Pi("iApi"),{t:i}=ii(),r=X(!1),s=X(["app","lists","map"]),n=X([]),o=X(null),a=X(null);lr(()=>{n.value.push(t.event.on("openKeyboardInstructions",()=>{r.value=!0,Pn(()=>{o.value.focus()})}))}),Ln(()=>{n.value.forEach(c=>t?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),r.value=!1)};return(c,f)=>{const d=bi("close");return r.value?(fe(),we("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>r.value=!1),onKeydown:l},[ue("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:f[2]||(f[2]=jm(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ue("div",Gae,[ue("h2",zae,jt(Oe(i)("keyboardInstructions.title")),1),Ke(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>r.value=!1)})]),(fe(!0),we(It,null,Cl(s.value,p=>(fe(),we("p",{class:"whitespace-pre-line pb-10",key:p},jt(Oe(i)(`keyboardInstructions.${p}`)),1))),128)),ue("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>r.value=!1),ref_key:"lastEl",ref:a},jt(Oe(i)("keyboardInstructions.OK")),513)],512)],32)):Wt("",!0)}}}),Wu=oi("instance",()=>({started:X(!1)})),Wae={class:"h-full relative"},Hae={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Yae={class:"absolute top-8 w-full flex justify-center"},Jae={key:1,class:"w-full h-full"},Zae=rt({__name:"shell",setup(e){const t=Pi("iApi"),i=Wu(),r=Ls(),s=Kc(),{t:n}=ii(),o=tt(()=>r.items.appbar),a=()=>{t?.event.emit("openKeyboardInstructions")},l=()=>s.teleported;return(c,f)=>(fe(),we("div",Wae,[ue("div",Hae,[f[0]||(f[0]=ue("div",{class:"sr-only screen-reader-alert"},null,-1)),ue("div",Yae,[ue("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},jt(Oe(n)("keyboardInstructions.open")),1)]),Ke(qae),Ke(Dne,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Wt("",!0):(fe(),Bt(Vae,{key:0})),Ke(Fae,{class:"z-30"})]),Oe(i).started?(fe(),Bt(nne,{key:0})):(fe(),we("div",Jae,f[1]||(f[1]=[ue("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(fe(!0),we(It,null,Cl(l(),d=>(fe(),Bt(y3,{to:d.teleport?.target,key:d.id},[(fe(),Bt(CR,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Kae=fa(Zae,[["__scopeId","data-v-2c534eed"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var os="top",Js="bottom",Zs="right",as="left",VE="auto",Wm=[os,Js,Zs,as],nf="start",rm="end",Xae="clippingParents",GR="viewport",Zf="popper",Qae="reference",UO=Wm.reduce(function(e,t){return e.concat([t+"-"+nf,t+"-"+rm])},[]),zR=[].concat(Wm,[VE]).reduce(function(e,t){return e.concat([t,t+"-"+nf,t+"-"+rm])},[]),ele="beforeRead",tle="read",ile="afterRead",rle="beforeMain",sle="main",nle="afterMain",ole="beforeWrite",ale="write",lle="afterWrite",cle=[ele,tle,ile,rle,sle,nle,ole,ale,lle];function So(e){return e?(e.nodeName||"").toLowerCase():null}function kn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function of(e){var t=kn(e).Element;return e instanceof t||e instanceof Element}function qs(e){var t=kn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function qR(e){if(typeof ShadowRoot>"u")return!1;var t=kn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ule(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!qs(n)||!So(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?n.removeAttribute(o):n.setAttribute(o,a===!0?"":a)}))})}function hle(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!qs(s)||!So(s)||(Object.assign(s.style,a),Object.keys(n).forEach(function(l){s.removeAttribute(l)}))})}}var WR={name:"applyStyles",enabled:!0,phase:"write",fn:ule,effect:hle,requires:["computeStyles"]};function mo(e){return e.split("-")[0]}var Nc=Math.max,a1=Math.min,af=Math.round;function lf(e,t){t===void 0&&(t=!1);var i=e.getBoundingClientRect(),r=1,s=1;if(qs(e)&&t){var n=e.offsetHeight,o=e.offsetWidth;o>0&&(r=af(i.width)/o||1),n>0&&(s=af(i.height)/n||1)}return{width:i.width/r,height:i.height/s,top:i.top/s,right:i.right/r,bottom:i.bottom/s,left:i.left/r,x:i.left/r,y:i.top/s}}function GE(e){var t=lf(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function HR(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&qR(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Eo(e){return kn(e).getComputedStyle(e)}function fle(e){return["table","td","th"].indexOf(So(e))>=0}function Rl(e){return((of(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wv(e){return So(e)==="html"?e:e.assignedSlot||e.parentNode||(qR(e)?e.host:null)||Rl(e)}function jO(e){return!qs(e)||Eo(e).position==="fixed"?null:e.offsetParent}function dle(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,i=navigator.userAgent.indexOf("Trident")!==-1;if(i&&qs(e)){var r=Eo(e);if(r.position==="fixed")return null}for(var s=Wv(e);qs(s)&&["html","body"].indexOf(So(s))<0;){var n=Eo(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function Hm(e){for(var t=kn(e),i=jO(e);i&&fle(i)&&Eo(i).position==="static";)i=jO(i);return i&&(So(i)==="html"||So(i)==="body"&&Eo(i).position==="static")?t:i||dle(e)||t}function zE(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function op(e,t,i){return Nc(e,a1(t,i))}function ple(e,t,i){var r=op(e,t,i);return r>i?i:r}function YR(){return{top:0,right:0,bottom:0,left:0}}function JR(e){return Object.assign({},YR(),e)}function ZR(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var mle=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,JR(typeof t!="number"?t:ZR(t,Wm))};function yle(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=mo(i.placement),l=zE(a),c=[as,Zs].indexOf(a)>=0,f=c?"height":"width";if(!(!n||!o)){var d=mle(s.padding,i),p=GE(n),y=l==="y"?os:as,v=l==="y"?Js:Zs,_=i.rects.reference[f]+i.rects.reference[l]-o[l]-i.rects.popper[f],E=o[l]-i.rects.reference[l],S=Hm(n),A=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,w=_/2-E/2,b=d[y],M=A-p[f]-d[v],O=A/2-p[f]/2+w,C=op(b,O,M),P=l;i.modifiersData[r]=(t={},t[P]=C,t.centerOffset=C-O,t)}}function gle(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||HR(t.elements.popper,s)&&(t.elements.arrow=s))}var vle={name:"arrow",enabled:!0,phase:"main",fn:yle,effect:gle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cf(e){return e.split("-")[1]}var ble={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _le(e){var t=e.x,i=e.y,r=window,s=r.devicePixelRatio||1;return{x:af(t*s)/s||0,y:af(i*s)/s||0}}function BO(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=f===!0?_le(o):typeof f=="function"?f(o):o,y=p.x,v=y===void 0?0:y,_=p.y,E=_===void 0?0:_,S=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),w=as,b=os,M=window;if(c){var O=Hm(i),C="clientHeight",P="clientWidth";if(O===kn(i)&&(O=Rl(i),Eo(O).position!=="static"&&a==="absolute"&&(C="scrollHeight",P="scrollWidth")),O=O,s===os||(s===as||s===Zs)&&n===rm){b=Js;var N=d&&M.visualViewport?M.visualViewport.height:O[C];E-=N-r.height,E*=l?1:-1}if(s===as||(s===os||s===Js)&&n===rm){w=Zs;var U=d&&M.visualViewport?M.visualViewport.width:O[P];v-=U-r.width,v*=l?1:-1}}var j=Object.assign({position:a},c&&ble);if(l){var F;return Object.assign({},j,(F={},F[b]=A?"0":"",F[w]=S?"0":"",F.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+E+"px)":"translate3d("+v+"px, "+E+"px, 0)",F))}return Object.assign({},j,(t={},t[b]=A?E+"px":"",t[w]=S?v+"px":"",t.transform="",t))}function wle(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:mo(t.placement),variation:cf(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,BO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,BO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var xle={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wle,data:{}},D0={passive:!0};function Sle(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=kn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&c.forEach(function(f){f.addEventListener("scroll",i.update,D0)}),a&&l.addEventListener("resize",i.update,D0),function(){n&&c.forEach(function(f){f.removeEventListener("scroll",i.update,D0)}),a&&l.removeEventListener("resize",i.update,D0)}}var Ele={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Sle,data:{}},Tle={left:"right",right:"left",bottom:"top",top:"bottom"};function By(e){return e.replace(/left|right|bottom|top/g,function(t){return Tle[t]})}var Ale={start:"end",end:"start"};function VO(e){return e.replace(/start|end/g,function(t){return Ale[t]})}function qE(e){var t=kn(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function WE(e){return lf(Rl(e)).left+qE(e).scrollLeft}function Mle(e){var t=kn(e),i=Rl(e),r=t.visualViewport,s=i.clientWidth,n=i.clientHeight,o=0,a=0;return r&&(s=r.width,n=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:s,height:n,x:o+WE(e),y:a}}function Ole(e){var t,i=Rl(e),r=qE(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=Nc(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Nc(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+WE(e),l=-r.scrollTop;return Eo(s||i).direction==="rtl"&&(a+=Nc(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:a,y:l}}function HE(e){var t=Eo(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function KR(e){return["html","body","#document"].indexOf(So(e))>=0?e.ownerDocument.body:qs(e)&&HE(e)?e:KR(Wv(e))}function ap(e,t){var i;t===void 0&&(t=[]);var r=KR(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=kn(r),o=s?[n].concat(n.visualViewport||[],HE(r)?r:[]):r,a=t.concat(o);return s?a:a.concat(ap(Wv(o)))}function xx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ile(e){var t=lf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function GO(e,t){return t===GR?xx(Mle(e)):of(t)?Ile(t):xx(Ole(Rl(e)))}function $le(e){var t=ap(Wv(e)),i=["absolute","fixed"].indexOf(Eo(e).position)>=0,r=i&&qs(e)?Hm(e):e;return of(r)?t.filter(function(s){return of(s)&&HR(s,r)&&So(s)!=="body"&&(i?Eo(s).position!=="static":!0)}):[]}function Cle(e,t,i){var r=t==="clippingParents"?$le(e):[].concat(t),s=[].concat(r,[i]),n=s[0],o=s.reduce(function(a,l){var c=GO(e,l);return a.top=Nc(c.top,a.top),a.right=a1(c.right,a.right),a.bottom=a1(c.bottom,a.bottom),a.left=Nc(c.left,a.left),a},GO(e,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function XR(e){var t=e.reference,i=e.element,r=e.placement,s=r?mo(r):null,n=r?cf(r):null,o=t.x+t.width/2-i.width/2,a=t.y+t.height/2-i.height/2,l;switch(s){case os:l={x:o,y:t.y-i.height};break;case Js:l={x:o,y:t.y+t.height};break;case Zs:l={x:t.x+t.width,y:a};break;case as:l={x:t.x-i.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?zE(s):null;if(c!=null){var f=c==="y"?"height":"width";switch(n){case nf:l[c]=l[c]-(t[f]/2-i[f]/2);break;case rm:l[c]=l[c]+(t[f]/2-i[f]/2);break}}return l}function sm(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.boundary,o=n===void 0?Xae:n,a=i.rootBoundary,l=a===void 0?GR:a,c=i.elementContext,f=c===void 0?Zf:c,d=i.altBoundary,p=d===void 0?!1:d,y=i.padding,v=y===void 0?0:y,_=JR(typeof v!="number"?v:ZR(v,Wm)),E=f===Zf?Qae:Zf,S=e.rects.popper,A=e.elements[p?E:f],w=Cle(of(A)?A:A.contextElement||Rl(e.elements.popper),o,l),b=lf(e.elements.reference),M=XR({reference:b,element:S,strategy:"absolute",placement:s}),O=xx(Object.assign({},S,M)),C=f===Zf?O:b,P={top:w.top-C.top+_.top,bottom:C.bottom-w.bottom+_.bottom,left:w.left-C.left+_.left,right:C.right-w.right+_.right},N=e.modifiersData.offset;if(f===Zf&&N){var U=N[s];Object.keys(P).forEach(function(j){var F=[Zs,Js].indexOf(j)>=0?1:-1,q=[os,Js].indexOf(j)>=0?"y":"x";P[j]+=U[q]*F})}return P}function Nle(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?zR:l,f=cf(r),d=f?a?UO:UO.filter(function(v){return cf(v)===f}):Wm,p=d.filter(function(v){return c.indexOf(v)>=0});p.length===0&&(p=d);var y=p.reduce(function(v,_){return v[_]=sm(e,{placement:_,boundary:s,rootBoundary:n,padding:o})[mo(_)],v},{});return Object.keys(y).sort(function(v,_){return y[v]-y[_]})}function Ple(e){if(mo(e)===VE)return[];var t=By(e);return[VO(e),t,VO(t)]}function Lle(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,f=i.boundary,d=i.rootBoundary,p=i.altBoundary,y=i.flipVariations,v=y===void 0?!0:y,_=i.allowedAutoPlacements,E=t.options.placement,S=mo(E),A=S===E,w=l||(A||!v?[By(E)]:Ple(E)),b=[E].concat(w).reduce(function(je,ze){return je.concat(mo(ze)===VE?Nle(t,{placement:ze,boundary:f,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:_}):ze)},[]),M=t.rects.reference,O=t.rects.popper,C=new Map,P=!0,N=b[0],U=0;U<b.length;U++){var j=b[U],F=mo(j),q=cf(j)===nf,te=[os,Js].indexOf(F)>=0,h=te?"width":"height",m=sm(t,{placement:j,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),x=te?q?Zs:as:q?Js:os;M[h]>O[h]&&(x=By(x));var $=By(x),V=[];if(n&&V.push(m[F]<=0),a&&V.push(m[x]<=0,m[$]<=0),V.every(function(je){return je})){N=j,P=!1;break}C.set(j,V)}if(P)for(var Y=v?3:1,pe=function(ze){var at=b.find(function(Gt){var At=C.get(Gt);if(At)return At.slice(0,ze).every(function(pi){return pi})});if(at)return N=at,"break"},le=Y;le>0;le--){var Me=pe(le);if(Me==="break")break}t.placement!==N&&(t.modifiersData[r]._skip=!0,t.placement=N,t.reset=!0)}}var kle={name:"flip",enabled:!0,phase:"main",fn:Lle,requiresIfExists:["offset"],data:{_skip:!1}};function zO(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function qO(e){return[os,Zs,Js,as].some(function(t){return e[t]>=0})}function Rle(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=sm(t,{elementContext:"reference"}),a=sm(t,{altBoundary:!0}),l=zO(o,r),c=zO(a,s,n),f=qO(l),d=qO(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var Dle={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Rle};function Fle(e,t,i){var r=mo(e),s=[as,os].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[as,Zs].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Ule(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=zR.reduce(function(f,d){return f[d]=Fle(d,t.rects,n),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var jle={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ule};function Ble(e){var t=e.state,i=e.name;t.modifiersData[i]=XR({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Vle={name:"popperOffsets",enabled:!0,phase:"read",fn:Ble,data:{}};function Gle(e){return e==="x"?"y":"x"}function zle(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,f=i.altBoundary,d=i.padding,p=i.tether,y=p===void 0?!0:p,v=i.tetherOffset,_=v===void 0?0:v,E=sm(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),S=mo(t.placement),A=cf(t.placement),w=!A,b=zE(S),M=Gle(b),O=t.modifiersData.popperOffsets,C=t.rects.reference,P=t.rects.popper,N=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,U=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(O){if(n){var q,te=b==="y"?os:as,h=b==="y"?Js:Zs,m=b==="y"?"height":"width",x=O[b],$=x+E[te],V=x-E[h],Y=y?-P[m]/2:0,pe=A===nf?C[m]:P[m],le=A===nf?-P[m]:-C[m],Me=t.elements.arrow,je=y&&Me?GE(Me):{width:0,height:0},ze=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:YR(),at=ze[te],Gt=ze[h],At=op(0,C[m],je[m]),pi=w?C[m]/2-Y-At-at-U.mainAxis:pe-At-at-U.mainAxis,Rt=w?-C[m]/2+Y+At+Gt+U.mainAxis:le+At+Gt+U.mainAxis,ri=t.elements.arrow&&Hm(t.elements.arrow),Ji=ri?b==="y"?ri.clientTop||0:ri.clientLeft||0:0,B=(q=j?.[b])!=null?q:0,D=x+pi-B-Ji,H=x+Rt-B,oe=op(y?a1($,D):$,x,y?Nc(V,H):V);O[b]=oe,F[b]=oe-x}if(a){var Q,ce=b==="x"?os:as,ye=b==="x"?Js:Zs,L=O[M],k=M==="y"?"height":"width",G=L+E[ce],ee=L-E[ye],se=[os,as].indexOf(S)!==-1,ne=(Q=j?.[M])!=null?Q:0,W=se?G:L-C[k]-P[k]-ne+U.altAxis,Z=se?L+C[k]+P[k]-ne-U.altAxis:ee,Te=y&&se?ple(W,L,Z):op(y?W:G,L,y?Z:ee);O[M]=Te,F[M]=Te-L}t.modifiersData[r]=F}}var qle={name:"preventOverflow",enabled:!0,phase:"main",fn:zle,requiresIfExists:["offset"]};function Wle(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Hle(e){return e===kn(e)||!qs(e)?qE(e):Wle(e)}function Yle(e){var t=e.getBoundingClientRect(),i=af(t.width)/e.offsetWidth||1,r=af(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Jle(e,t,i){i===void 0&&(i=!1);var r=qs(t),s=qs(t)&&Yle(t),n=Rl(t),o=lf(e,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!i)&&((So(t)!=="body"||HE(n))&&(a=Hle(t)),qs(t)?(l=lf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):n&&(l.x=WE(n))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Zle(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=t.get(a);l&&s(l)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function Kle(e){var t=Zle(e);return cle.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function Xle(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function Qle(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var WO={placement:"bottom",modifiers:[],strategy:"absolute"};function HO(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ece(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?WO:s;return function(a,l,c){c===void 0&&(c=n);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},WO,n),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(S){var A=typeof S=="function"?S(f.options):S;_(),f.options=Object.assign({},n,f.options,A),f.scrollParents={reference:of(a)?ap(a):a.contextElement?ap(a.contextElement):[],popper:ap(l)};var w=Kle(Qle([].concat(r,f.options.modifiers)));return f.orderedModifiers=w.filter(function(b){return b.enabled}),v(),y.update()},forceUpdate:function(){if(!p){var S=f.elements,A=S.reference,w=S.popper;if(HO(A,w)){f.rects={reference:Jle(A,Hm(w),f.options.strategy==="fixed"),popper:GE(w)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(U){return f.modifiersData[U.name]=Object.assign({},U.data)});for(var b=0;b<f.orderedModifiers.length;b++){if(f.reset===!0){f.reset=!1,b=-1;continue}var M=f.orderedModifiers[b],O=M.fn,C=M.options,P=C===void 0?{}:C,N=M.name;typeof O=="function"&&(f=O({state:f,options:P,name:N,instance:y})||f)}}}},update:Xle(function(){return new Promise(function(E){y.forceUpdate(),E(f)})}),destroy:function(){_(),p=!0}};if(!HO(a,l))return y;y.setOptions(c).then(function(E){!p&&c.onFirstUpdate&&c.onFirstUpdate(E)});function v(){f.orderedModifiers.forEach(function(E){var S=E.name,A=E.options,w=A===void 0?{}:A,b=E.effect;if(typeof b=="function"){var M=b({state:f,name:S,instance:y,options:w}),O=function(){};d.push(M||O)}})}function _(){d.forEach(function(E){return E()}),d=[]}return y}}var tce=[Ele,Vle,xle,WR,jle,kle,qle,vle,Dle],ice=ece({defaultModifiers:tce}),rce="tippy-box",QR="tippy-content",e9="tippy-backdrop",t9="tippy-arrow",i9="tippy-svg-arrow",dc={passive:!0,capture:!0},r9=function(){return document.body};function l_(e,t,i){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(i)?i[t]:i)}return e}function YE(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function s9(e,t){return typeof e=="function"?e.apply(void 0,t):e}function YO(e,t){if(t===0)return e;var i;return function(r){clearTimeout(i),i=setTimeout(function(){e(r)},t)}}function sce(e,t){var i=Object.assign({},e);return t.forEach(function(r){delete i[r]}),i}function nce(e){return e.split(/\s+/).filter(Boolean)}function yc(e){return[].concat(e)}function JO(e,t){e.indexOf(t)===-1&&e.push(t)}function oce(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function n9(e){return e.split("-")[0]}function uf(e){return[].slice.call(e)}function ZO(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function Pc(){return document.createElement("div")}function Hv(e){return["Element","Fragment"].some(function(t){return YE(e,t)})}function ace(e){return YE(e,"NodeList")}function JE(e){return YE(e,"MouseEvent")}function lce(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function cce(e){return Hv(e)?[e]:ace(e)?uf(e):Array.isArray(e)?e:uf(document.querySelectorAll(e))}function c_(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function nm(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function o9(e){var t,i=yc(e),r=i[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function uce(e,t){var i=t.clientX,r=t.clientY;return e.every(function(s){var n=s.popperRect,o=s.popperState,a=s.props,l=a.interactiveBorder,c=n9(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,v=c==="left"?f.right.x:0,_=n.top-r+d>l,E=r-n.bottom-p>l,S=n.left-i+y>l,A=i-n.right-v>l;return _||E||S||A})}function u_(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){e[r](s,i)})}function KO(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=i.getRootNode==null||(r=i.getRootNode())==null?void 0:r.host}return!1}var eo={isTouch:!1},XO=0;function hce(){eo.isTouch||(eo.isTouch=!0,window.performance&&document.addEventListener("mousemove",a9))}function a9(){var e=performance.now();e-XO<20&&(eo.isTouch=!1,document.removeEventListener("mousemove",a9)),XO=e}function fce(){var e=document.activeElement;if(lce(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function dce(){document.addEventListener("touchstart",hce,dc),window.addEventListener("blur",fce)}var pce=typeof window<"u"&&typeof document<"u",mce=pce?!!window.msCrypto:!1,yce={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},gce={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},gn=Object.assign({appendTo:r9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},yce,gce),vce=Object.keys(gn),bce=function(t){var i=Object.keys(t);i.forEach(function(r){gn[r]=t[r]})};function l9(e){var t=e.plugins||[],i=t.reduce(function(r,s){var n=s.name,o=s.defaultValue;if(n){var a;r[n]=e[n]!==void 0?e[n]:(a=gn[n])!=null?a:o}return r},{});return Object.assign({},e,i)}function _ce(e,t){var i=t?Object.keys(l9(Object.assign({},gn,{plugins:t}))):vce,r=i.reduce(function(s,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch{s[n]=o}return s},{});return r}function QO(e,t){var i=Object.assign({},t,{content:s9(t.content,[e])},t.ignoreAttributes?{}:_ce(e,t.plugins));return i.aria=Object.assign({},gn.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}var wce=function(){return"innerHTML"};function Sx(e,t){e[wce()]=t}function eI(e){var t=Pc();return e===!0?t.className=t9:(t.className=i9,Hv(e)?t.appendChild(e):Sx(t,e)),t}function tI(e,t){Hv(t.content)?(Sx(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Sx(e,t.content):e.textContent=t.content)}function l1(e){var t=e.firstElementChild,i=uf(t.children);return{box:t,content:i.find(function(r){return r.classList.contains(QR)}),arrow:i.find(function(r){return r.classList.contains(t9)||r.classList.contains(i9)}),backdrop:i.find(function(r){return r.classList.contains(e9)})}}function c9(e){var t=Pc(),i=Pc();i.className=rce,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=Pc();r.className=QR,r.setAttribute("data-state","hidden"),tI(r,e.props),t.appendChild(i),i.appendChild(r),s(e.props,e.props);function s(n,o){var a=l1(t),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&tI(c,e.props),o.arrow?f?n.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(eI(o.arrow))):l.appendChild(eI(o.arrow)):f&&l.removeChild(f)}return{popper:t,onUpdate:s}}c9.$$tippy=!0;var xce=1,F0=[],h_=[];function Sce(e,t){var i=QO(e,Object.assign({},gn,l9(ZO(t)))),r,s,n,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],v=YO(D,i.interactiveDebounce),_,E=xce++,S=null,A=oce(i.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:E,reference:e,popper:Pc(),popperInstance:S,props:i,state:w,plugins:A,clearDelayTimeouts:W,setProps:Z,setContent:Te,show:ke,hide:Dt,hideWithInteractivity:zt,enable:se,disable:ne,unmount:ai,destroy:Ri};if(!i.render)return b;var M=i.render(b),O=M.popper,C=M.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+b.id,b.popper=O,e._tippy=b,O._tippy=b;var P=A.map(function(K){return K.fn(b)}),N=e.hasAttribute("aria-expanded");return ri(),Y(),x(),$("onCreate",[b]),i.showOnCreate&&G(),O.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&te().addEventListener("mousemove",v)}),b;function U(){var K=b.props.touch;return Array.isArray(K)?K:[K,0]}function j(){return U()[0]==="hold"}function F(){var K;return!!((K=b.props.render)!=null&&K.$$tippy)}function q(){return _||e}function te(){var K=q().parentNode;return K?o9(K):document}function h(){return l1(O)}function m(K){return b.state.isMounted&&!b.state.isVisible||eo.isTouch||f&&f.type==="focus"?0:l_(b.props.delay,K?0:1,gn.delay)}function x(K){K===void 0&&(K=!1),O.style.pointerEvents=b.props.interactive&&!K?"":"none",O.style.zIndex=""+b.props.zIndex}function $(K,Ae,Ie){if(Ie===void 0&&(Ie=!0),P.forEach(function(Xe){Xe[K]&&Xe[K].apply(Xe,Ae)}),Ie){var He;(He=b.props)[K].apply(He,Ae)}}function V(){var K=b.props.aria;if(K.content){var Ae="aria-"+K.content,Ie=O.id,He=yc(b.props.triggerTarget||e);He.forEach(function(Xe){var Di=Xe.getAttribute(Ae);if(b.state.isVisible)Xe.setAttribute(Ae,Di?Di+" "+Ie:Ie);else{var cr=Di&&Di.replace(Ie,"").trim();cr?Xe.setAttribute(Ae,cr):Xe.removeAttribute(Ae)}})}}function Y(){if(!(N||!b.props.aria.expanded)){var K=yc(b.props.triggerTarget||e);K.forEach(function(Ae){b.props.interactive?Ae.setAttribute("aria-expanded",b.state.isVisible&&Ae===q()?"true":"false"):Ae.removeAttribute("aria-expanded")})}}function pe(){te().removeEventListener("mousemove",v),F0=F0.filter(function(K){return K!==v})}function le(K){if(!(eo.isTouch&&(l||K.type==="mousedown"))){var Ae=K.composedPath&&K.composedPath()[0]||K.target;if(!(b.props.interactive&&KO(O,Ae))){if(yc(b.props.triggerTarget||e).some(function(Ie){return KO(Ie,Ae)})){if(eo.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[b,K]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),a=!0,setTimeout(function(){a=!1}),b.state.isMounted||at())}}}function Me(){l=!0}function je(){l=!1}function ze(){var K=te();K.addEventListener("mousedown",le,!0),K.addEventListener("touchend",le,dc),K.addEventListener("touchstart",je,dc),K.addEventListener("touchmove",Me,dc)}function at(){var K=te();K.removeEventListener("mousedown",le,!0),K.removeEventListener("touchend",le,dc),K.removeEventListener("touchstart",je,dc),K.removeEventListener("touchmove",Me,dc)}function Gt(K,Ae){pi(K,function(){!b.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&Ae()})}function At(K,Ae){pi(K,Ae)}function pi(K,Ae){var Ie=h().box;function He(Xe){Xe.target===Ie&&(u_(Ie,"remove",He),Ae())}if(K===0)return Ae();u_(Ie,"remove",d),u_(Ie,"add",He),d=He}function Rt(K,Ae,Ie){Ie===void 0&&(Ie=!1);var He=yc(b.props.triggerTarget||e);He.forEach(function(Xe){Xe.addEventListener(K,Ae,Ie),y.push({node:Xe,eventType:K,handler:Ae,options:Ie})})}function ri(){j()&&(Rt("touchstart",B,{passive:!0}),Rt("touchend",H,{passive:!0})),nce(b.props.trigger).forEach(function(K){if(K!=="manual")switch(Rt(K,B),K){case"mouseenter":Rt("mouseleave",H);break;case"focus":Rt(mce?"focusout":"blur",oe);break;case"focusin":Rt("focusout",oe);break}})}function Ji(){y.forEach(function(K){var Ae=K.node,Ie=K.eventType,He=K.handler,Xe=K.options;Ae.removeEventListener(Ie,He,Xe)}),y=[]}function B(K){var Ae,Ie=!1;if(!(!b.state.isEnabled||Q(K)||a)){var He=((Ae=f)==null?void 0:Ae.type)==="focus";f=K,_=K.currentTarget,Y(),!b.state.isVisible&&JE(K)&&F0.forEach(function(Xe){return Xe(K)}),K.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||o)&&b.props.hideOnClick!==!1&&b.state.isVisible?Ie=!0:G(K),K.type==="click"&&(o=!Ie),Ie&&!He&&ee(K)}}function D(K){var Ae=K.target,Ie=q().contains(Ae)||O.contains(Ae);if(!(K.type==="mousemove"&&Ie)){var He=k().concat(O).map(function(Xe){var Di,cr=Xe._tippy,Rn=(Di=cr.popperInstance)==null?void 0:Di.state;return Rn?{popperRect:Xe.getBoundingClientRect(),popperState:Rn,props:i}:null}).filter(Boolean);uce(He,K)&&(pe(),ee(K))}}function H(K){var Ae=Q(K)||b.props.trigger.indexOf("click")>=0&&o;if(!Ae){if(b.props.interactive){b.hideWithInteractivity(K);return}ee(K)}}function oe(K){b.props.trigger.indexOf("focusin")<0&&K.target!==q()||b.props.interactive&&K.relatedTarget&&O.contains(K.relatedTarget)||ee(K)}function Q(K){return eo.isTouch?j()!==K.type.indexOf("touch")>=0:!1}function ce(){ye();var K=b.props,Ae=K.popperOptions,Ie=K.placement,He=K.offset,Xe=K.getReferenceClientRect,Di=K.moveTransition,cr=F()?l1(O).arrow:null,Rn=Xe?{getBoundingClientRect:Xe,contextElement:Xe.contextElement||q()}:e,da={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(yu){var pa=yu.state;if(F()){var eb=h(),gu=eb.box;["placement","reference-hidden","escaped"].forEach(function(Dl){Dl==="placement"?gu.setAttribute("data-placement",pa.placement):pa.attributes.popper["data-popper-"+Dl]?gu.setAttribute("data-"+Dl,""):gu.removeAttribute("data-"+Dl)}),pa.attributes.popper={}}}},Oo=[{name:"offset",options:{offset:He}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Di}},da];F()&&cr&&Oo.push({name:"arrow",options:{element:cr,padding:3}}),Oo.push.apply(Oo,Ae?.modifiers||[]),b.popperInstance=ice(Rn,O,Object.assign({},Ae,{placement:Ie,onFirstUpdate:p,modifiers:Oo}))}function ye(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function L(){var K=b.props.appendTo,Ae,Ie=q();b.props.interactive&&K===r9||K==="parent"?Ae=Ie.parentNode:Ae=s9(K,[Ie]),Ae.contains(O)||Ae.appendChild(O),b.state.isMounted=!0,ce()}function k(){return uf(O.querySelectorAll("[data-tippy-root]"))}function G(K){b.clearDelayTimeouts(),K&&$("onTrigger",[b,K]),ze();var Ae=m(!0),Ie=U(),He=Ie[0],Xe=Ie[1];eo.isTouch&&He==="hold"&&Xe&&(Ae=Xe),Ae?r=setTimeout(function(){b.show()},Ae):b.show()}function ee(K){if(b.clearDelayTimeouts(),$("onUntrigger",[b,K]),!b.state.isVisible){at();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(K.type)>=0&&o)){var Ae=m(!1);Ae?s=setTimeout(function(){b.state.isVisible&&b.hide()},Ae):n=requestAnimationFrame(function(){b.hide()})}}function se(){b.state.isEnabled=!0}function ne(){b.hide(),b.state.isEnabled=!1}function W(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(n)}function Z(K){if(!b.state.isDestroyed){$("onBeforeUpdate",[b,K]),Ji();var Ae=b.props,Ie=QO(e,Object.assign({},Ae,ZO(K),{ignoreAttributes:!0}));b.props=Ie,ri(),Ae.interactiveDebounce!==Ie.interactiveDebounce&&(pe(),v=YO(D,Ie.interactiveDebounce)),Ae.triggerTarget&&!Ie.triggerTarget?yc(Ae.triggerTarget).forEach(function(He){He.removeAttribute("aria-expanded")}):Ie.triggerTarget&&e.removeAttribute("aria-expanded"),Y(),x(),C&&C(Ae,Ie),b.popperInstance&&(ce(),k().forEach(function(He){requestAnimationFrame(He._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[b,K])}}function Te(K){b.setProps({content:K})}function ke(){var K=b.state.isVisible,Ae=b.state.isDestroyed,Ie=!b.state.isEnabled,He=eo.isTouch&&!b.props.touch,Xe=l_(b.props.duration,0,gn.duration);if(!(K||Ae||Ie||He)&&!q().hasAttribute("disabled")&&($("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,F()&&(O.style.visibility="visible"),x(),ze(),b.state.isMounted||(O.style.transition="none"),F()){var Di=h(),cr=Di.box,Rn=Di.content;c_([cr,Rn],0)}p=function(){var Oo;if(!(!b.state.isVisible||c)){if(c=!0,O.offsetHeight,O.style.transition=b.props.moveTransition,F()&&b.props.animation){var Pf=h(),yu=Pf.box,pa=Pf.content;c_([yu,pa],Xe),nm([yu,pa],"visible")}V(),Y(),JO(h_,b),(Oo=b.popperInstance)==null||Oo.forceUpdate(),$("onMount",[b]),b.props.animation&&F()&&At(Xe,function(){b.state.isShown=!0,$("onShown",[b])})}},L()}}function Dt(){var K=!b.state.isVisible,Ae=b.state.isDestroyed,Ie=!b.state.isEnabled,He=l_(b.props.duration,1,gn.duration);if(!(K||Ae||Ie)&&($("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,c=!1,o=!1,F()&&(O.style.visibility="hidden"),pe(),at(),x(!0),F()){var Xe=h(),Di=Xe.box,cr=Xe.content;b.props.animation&&(c_([Di,cr],He),nm([Di,cr],"hidden"))}V(),Y(),b.props.animation?F()&&Gt(He,b.unmount):b.unmount()}}function zt(K){te().addEventListener("mousemove",v),JO(F0,v),v(K)}function ai(){b.state.isVisible&&b.hide(),b.state.isMounted&&(ye(),k().forEach(function(K){K._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),h_=h_.filter(function(K){return K!==b}),b.state.isMounted=!1,$("onHidden",[b]))}function Ri(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),Ji(),delete e._tippy,b.state.isDestroyed=!0,$("onDestroy",[b]))}}function Pe(e,t){t===void 0&&(t={});var i=gn.plugins.concat(t.plugins||[]);dce();var r=Object.assign({},t,{plugins:i}),s=cce(e),n=s.reduce(function(o,a){var l=a&&Sce(a,r);return l&&o.push(l),o},[]);return Hv(e)?n[0]:n}Pe.defaultProps=gn;Pe.setDefaultProps=bce;Pe.currentInput=eo;var Ece=Object.assign({},WR,{effect:function(t){var i=t.state,r={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,r.popper),i.styles=r,i.elements.arrow&&Object.assign(i.elements.arrow.style,r.arrow)}}),Tce=function(t,i){var r;i===void 0&&(i={});var s=t,n=[],o=[],a,l=i.overrides,c=[],f=!1;function d(){o=s.map(function(b){return yc(b.props.triggerTarget||b.reference)}).reduce(function(b,M){return b.concat(M)},[])}function p(){n=s.map(function(b){return b.reference})}function y(b){s.forEach(function(M){b?M.enable():M.disable()})}function v(b){return s.map(function(M){var O=M.setProps;return M.setProps=function(C){O(C),M.reference===a&&b.setProps(C)},function(){M.setProps=O}})}function _(b,M){var O=o.indexOf(M);if(M!==a){a=M;var C=(l||[]).concat("content").reduce(function(P,N){return P[N]=s[O].props[N],P},{});b.setProps(Object.assign({},C,{getReferenceClientRect:typeof C.getReferenceClientRect=="function"?C.getReferenceClientRect:function(){var P;return(P=n[O])==null?void 0:P.getBoundingClientRect()}}))}}y(!1),p(),d();var E={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function(O){O.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function(O){O.props.showOnCreate&&!f&&(f=!0,_(O,n[0]))},onTrigger:function(O,C){_(O,C.currentTarget)}}}},S=Pe(Pc(),Object.assign({},sce(i,["overrides"]),{plugins:[E].concat(i.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},i.popperOptions,{modifiers:[].concat(((r=i.popperOptions)==null?void 0:r.modifiers)||[],[Ece])})})),A=S.show;S.show=function(b){if(A(),!a&&b==null)return _(S,n[0]);if(!(a&&b==null)){if(typeof b=="number")return n[b]&&_(S,n[b]);if(s.indexOf(b)>=0){var M=b.reference;return _(S,M)}if(n.indexOf(b)>=0)return _(S,b)}},S.showNext=function(){var b=n[0];if(!a)return S.show(0);var M=n.indexOf(a);S.show(n[M+1]||b)},S.showPrevious=function(){var b=n[n.length-1];if(!a)return S.show(b);var M=n.indexOf(a),O=n[M-1]||b;S.show(O)};var w=S.setProps;return S.setProps=function(b){l=b.overrides||l,w(b)},S.setInstances=function(b){y(!0),c.forEach(function(M){return M()}),s=b,y(!1),p(),d(),c=v(S),S.setProps({triggerTarget:o})},c=v(S),S},Ace={name:"animateFill",defaultValue:!1,fn:function(t){var i;if(!((i=t.props.render)!=null&&i.$$tippy))return{};var r=l1(t.popper),s=r.box,n=r.content,o=t.props.animateFill?Mce():null;return{onCreate:function(){o&&(s.insertBefore(o,s.firstElementChild),s.setAttribute("data-animatefill",""),s.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=s.style.transitionDuration,c=Number(l.replace("ms",""));n.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,nm([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&nm([o],"hidden")}}}};function Mce(){var e=Pc();return e.className=e9,nm([e],"hidden"),e}var Ex={clientX:0,clientY:0},U0=[];function u9(e){var t=e.clientX,i=e.clientY;Ex={clientX:t,clientY:i}}function Oce(e){e.addEventListener("mousemove",u9)}function Ice(e){e.removeEventListener("mousemove",u9)}var $ce={name:"followCursor",defaultValue:!1,fn:function(t){var i=t.reference,r=o9(t.props.triggerTarget||i),s=!1,n=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){r.addEventListener("mousemove",p)}function f(){r.removeEventListener("mousemove",p)}function d(){s=!0,t.setProps({getReferenceClientRect:null}),s=!1}function p(_){var E=_.target?i.contains(_.target):!0,S=t.props.followCursor,A=_.clientX,w=_.clientY,b=i.getBoundingClientRect(),M=A-b.left,O=w-b.top;(E||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var P=i.getBoundingClientRect(),N=A,U=w;S==="initial"&&(N=P.left+M,U=P.top+O);var j=S==="horizontal"?P.top:U,F=S==="vertical"?P.right:N,q=S==="horizontal"?P.bottom:U,te=S==="vertical"?P.left:N;return{width:F-te,height:q-j,top:j,right:F,bottom:q,left:te}}})}function y(){t.props.followCursor&&(U0.push({instance:t,doc:r}),Oce(r))}function v(){U0=U0.filter(function(_){return _.instance!==t}),U0.filter(function(_){return _.doc===r}).length===0&&Ice(r)}return{onCreate:y,onDestroy:v,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(E,S){var A=S.followCursor;s||A!==void 0&&a.followCursor!==A&&(v(),A?(y(),t.state.isMounted&&!n&&!l()&&c()):(f(),d()))},onMount:function(){t.props.followCursor&&!n&&(o&&(p(Ex),o=!1),l()||c())},onTrigger:function(E,S){JE(S)&&(Ex={clientX:S.clientX,clientY:S.clientY}),n=S.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),f(),o=!0)}}}};function Cce(e,t){var i;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((i=e.popperOptions)==null?void 0:i.modifiers)||[]).filter(function(r){var s=r.name;return s!==t.name}),[t])})}}var Nce={name:"inlinePositioning",defaultValue:!1,fn:function(t){var i=t.reference;function r(){return!!t.props.inlinePositioning}var s,n=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var v=y.state;r()&&(a.indexOf(v.placement)!==-1&&(a=[]),s!==v.placement&&a.indexOf(v.placement)===-1&&(a.push(v.placement),t.setProps({getReferenceClientRect:function(){return c(v.placement)}})),s=v.placement)}};function c(p){return Pce(n9(p),i.getBoundingClientRect(),uf(i.getClientRects()),n)}function f(p){o=!0,t.setProps(p),o=!1}function d(){o||f(Cce(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,v){if(JE(v)){var _=uf(t.reference.getClientRects()),E=_.find(function(A){return A.left-2<=v.clientX&&A.right+2>=v.clientX&&A.top-2<=v.clientY&&A.bottom+2>=v.clientY}),S=_.indexOf(E);n=S>-1?S:n}},onHidden:function(){n=-1}}}};function Pce(e,t,i,r){if(i.length<2||e===null)return t;if(i.length===2&&r>=0&&i[0].left>i[1].right)return i[r]||t;switch(e){case"top":case"bottom":{var s=i[0],n=i[i.length-1],o=e==="top",a=s.top,l=n.bottom,c=o?s.left:n.left,f=o?s.right:n.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,i.map(function(O){return O.left})),v=Math.max.apply(Math,i.map(function(O){return O.right})),_=i.filter(function(O){return e==="left"?O.left===y:O.right===v}),E=_[0].top,S=_[_.length-1].bottom,A=y,w=v,b=w-A,M=S-E;return{top:E,bottom:S,left:A,right:w,width:b,height:M}}default:return t}}var Lce={name:"sticky",defaultValue:!1,fn:function(t){var i=t.reference,r=t.popper;function s(){return t.popperInstance?t.popperInstance.state.elements.reference:i}function n(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=n("reference")?s().getBoundingClientRect():null,f=n("popper")?r.getBoundingClientRect():null;(c&&iI(o,c)||f&&iI(a,f))&&t.popperInstance&&t.popperInstance.update(),o=c,a=f,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function iI(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Pe.setDefaultProps({render:c9});Pe.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function ZE(e,t={},i={mount:!0,appName:"Tippy"}){i=Object.assign({mount:!0,appName:"Tippy"},i);const r=Li(),s=X(),n=X({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=$f();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=C=>{let P,N=ht(C)?C.value:C;return In(N)?(o.value||(o.value=_l({name:i.appName,setup:()=>()=>ht(C)?C.value:C}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):typeof N=="object"?(o.value||(o.value=_l({name:i.appName,setup:()=>()=>Bs(ht(C)?C.value:C)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):P=N,P},f=C=>{let P={};return ht(C)?P=C.value||{}:vs(C)?P={...C}:P={...C},P.content&&(P.content=c(P.content)),P.triggerTarget&&(P.triggerTarget=ht(P.triggerTarget)?P.triggerTarget.value:P.triggerTarget),(!P.plugins||!Array.isArray(P.plugins))&&(P.plugins=[]),P.plugins=P.plugins.filter(N=>N.name!=="vueTippyReactiveState"),P.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){n.value.isEnabled=!0},onMount(){n.value.isMounted=!0},onShow(){n.value.isMounted=!0,n.value.isVisible=!0},onShown(){n.value.isShown=!0},onHide(){n.value.isMounted=!1,n.value.isVisible=!1},onHidden(){n.value.isShown=!1},onUnmounted(){n.value.isMounted=!1},onDestroy(){n.value.isDestroyed=!0}})}),P},d=()=>{s.value&&s.value.setProps(f(t))},p=()=>{!s.value||!t.content||s.value.setContent(c(t.content))},y=C=>{var P;(P=s.value)===null||P===void 0||P.setContent(c(C))},v=C=>{var P;(P=s.value)===null||P===void 0||P.setProps(f(C))},_=()=>{var C;s.value&&(s.value.destroy(),s.value=void 0),a=null,(C=o.value)===null||C===void 0||C.unmount(),o.value=void 0},E=()=>{var C;(C=s.value)===null||C===void 0||C.show()},S=()=>{var C;(C=s.value)===null||C===void 0||C.hide()},A=()=>{var C;(C=s.value)===null||C===void 0||C.disable(),n.value.isEnabled=!1},w=()=>{var C;(C=s.value)===null||C===void 0||C.enable(),n.value.isEnabled=!0},b=()=>{var C;(C=s.value)===null||C===void 0||C.unmount()},M=()=>{if(!e)return;let C=ht(e)?e.value:e;typeof C=="function"&&(C=C()),C&&(s.value=Pe(C,f(t)),C.$tippy=O)},O={tippy:s,refresh:d,refreshContent:p,setContent:y,setProps:v,destroy:_,hide:S,show:E,disable:A,enable:w,unmount:b,mount:M,state:n};return i.mount&&(r?r.isMounted?M():lr(M):M()),r&&du(()=>{_()}),ht(t)||vs(t)?Wi(t,d,{immediate:!1}):ht(t.content)&&Wi(t.content,p,{immediate:!1}),O}function kce(e,t){const i=X();return lr(()=>{const s=(Array.isArray(e)?e.map(n=>n.value):typeof e=="function"?e():e.value).map(n=>n instanceof Element?n._tippy:n).filter(Boolean);i.value=Tce(s,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:i}}function Rce(e){return typeof e=="function"?e():Oe(e)}function Dce(e){var t,i;const r=Rce(e);return(i=(t=r)===null||t===void 0?void 0:t.$el)!==null&&i!==void 0?i:r}const Fce=rt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Pe.defaultProps.appendTo},aria:{default:()=>Pe.defaultProps.aria},delay:{default:()=>Pe.defaultProps.delay},duration:{default:()=>Pe.defaultProps.duration},getReferenceClientRect:{default:()=>Pe.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Pe.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Pe.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Pe.defaultProps.interactive},interactiveBorder:{default:()=>Pe.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Pe.defaultProps.interactiveDebounce},moveTransition:{default:()=>Pe.defaultProps.moveTransition},offset:{default:()=>Pe.defaultProps.offset},onAfterUpdate:{default:()=>Pe.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Pe.defaultProps.onBeforeUpdate},onCreate:{default:()=>Pe.defaultProps.onCreate},onDestroy:{default:()=>Pe.defaultProps.onDestroy},onHidden:{default:()=>Pe.defaultProps.onHidden},onHide:{default:()=>Pe.defaultProps.onHide},onMount:{default:()=>Pe.defaultProps.onMount},onShow:{default:()=>Pe.defaultProps.onShow},onShown:{default:()=>Pe.defaultProps.onShown},onTrigger:{default:()=>Pe.defaultProps.onTrigger},onUntrigger:{default:()=>Pe.defaultProps.onUntrigger},onClickOutside:{default:()=>Pe.defaultProps.onClickOutside},placement:{default:()=>Pe.defaultProps.placement},plugins:{default:()=>Pe.defaultProps.plugins},popperOptions:{default:()=>Pe.defaultProps.popperOptions},render:{default:()=>Pe.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Pe.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Pe.defaultProps.touch},trigger:{default:()=>Pe.defaultProps.trigger},triggerTarget:{default:()=>Pe.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Pe.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Pe.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Pe.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Pe.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Pe.defaultProps.allowHTML},animation:{default:()=>Pe.defaultProps.animation},arrow:{default:()=>Pe.defaultProps.arrow},content:{default:()=>Pe.defaultProps.content},inertia:{default:()=>Pe.defaultProps.inertia},maxWidth:{default:()=>Pe.defaultProps.maxWidth},role:{default:()=>Pe.defaultProps.role},theme:{default:()=>Pe.defaultProps.theme},zIndex:{default:()=>Pe.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:i,expose:r}){const s=X(),n=X(),o=X(),a=X(!1),l=()=>{let y={...e};for(const v of["to","tag","contentTag","contentClass"])y.hasOwnProperty(v)&&delete y[v];return y};let c=()=>Dce(s);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=s.value;return y||(y=s.value=n.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const f=ZE(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),lr(()=>{a.value=!0,Pn(()=>{d&&f.setContent(()=>o.value)})}),Wi(f.state,()=>{i("state",Oe(f.state))},{immediate:!0,deep:!0}),Wi(()=>e,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=tr({elem:s,contentElem:o,mounted:a,...f});return r(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),v=d?Bs(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const S=[];if(!s.value){const A=Bs("span",{ref:n,"data-v-tippy":"",style:{display:"none"}});S.push(A)}return v&&S.push(v),S}const _=t.default?t.default(p):[];if(!e.tag){const S=Bs(_[0],{ref:s,"data-v-tippy":""});return v?[S,v]:S}const E=(typeof e.tag=="string",e.tag);return Bs(E,{ref:s,"data-v-tippy":""},v?[_,v]:_)}}}),Uce=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let Tx={};Object.keys(Pe.defaultProps).forEach(e=>{Uce.includes(e)?Tx[e]={type:Boolean,default:function(){return Pe.defaultProps[e]}}:Tx[e]={default:function(){return Pe.defaultProps[e]}}});const jce=rt({props:Tx,setup(e){const t=X([]),{singleton:i}=kce(t,e);return{instances:t,singleton:i}},mounted(){var e;const i=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(i).map(r=>r._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return Bs(()=>e)}}),Bce={mounted(e,t,i){const r=typeof t.value=="string"?{content:t.value}:t.value||{},s=Object.keys(t.modifiers||{}),n=s.find(a=>a!=="arrow"),o=s.findIndex(a=>a==="arrow")!==-1;n&&(r.placement=r.placement||n),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),i.props&&i.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),i.props&&i.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),i.props&&i.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),i.props&&i.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),i.props&&i.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=i.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),ZE(e,r)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const i=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(i||{}):e._tippy&&e._tippy.setProps(i||{})}},Vce={install(e,t={}){Pe.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",Bce),e.component(t.component||"tippy",Fce),e.component(t.componentSingleton||"tippy-singleton",jce)}},h9=Pe.setDefaultProps;h9({ignoreAttributes:!0,plugins:[Lce,Nce,$ce,Ace]});const Gce=rt({name:"App",components:{Shell:Kae},setup(){const e=Li();lr(()=>{new $R().observe(e?.proxy?.$refs["app-size"]),h9({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),zce=["lang"],qce={class:"h-full",ref:"app-size"};function Wce(e,t,i,r,s,n){const o=bi("shell");return fe(),we("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ue("div",qce,[Ke(o)],512)],8,zce)}const Hce=fa(Gce,[["render",Wce]]),to="focus-list",Yl="focus-item",Yce="focus-icon",Jce="focus-container",Ah=`[${to}],[${Jce}]`,j0="truncate-text",B0="show-truncate",nh="focused",Ax=`button,input,select,a,textarea,[contenteditable],[${to}],[${Yce}],[tabIndex]`,Zce={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(to,!0),new Kce(e,t.value)},updated(e){f9(e)}};function f9(e){e.querySelectorAll(Ax).forEach(i=>{if(i.closest(Ah)===e||i.closest(Ah)===i&&i.parentElement.closest(Ah)===e)if(i.closest(`[${to}],.${nh}`).classList.contains(nh))i.setAttribute("tabindex","0");else{i.setAttribute("tabindex","-1");return}})}class Kce{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,i){this.element=t,this.highlightedItem=this.element,this.isHorizontal=i==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const r=this;t.addEventListener("keydown",function(s){r.onKeydown(s)}),t.addEventListener("focus",function(){r.onFocus()}),t.addEventListener("blur",function(){r.onBlur()}),t.addEventListener("mousedown",function(){r.onMousedown()}),t.addEventListener("touchstart",function(){r.onTouchstart()}),document.addEventListener("click",function(s){s.target&&t.contains(s.target)?r.onClick(s):r.defocusItem(r.highlightedItem)})}setTabIndex(t,i=this.element){i.querySelectorAll(Ax).forEach(s=>{(t===-1||s.closest(Ah)===this.element||s.closest(Ah)===s&&s.parentElement.closest(Ah)===this.element||s.closest(`[${to}],.${nh}`).classList.contains(nh))&&s.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(nh),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(Yl)===B0&&t.querySelector(`[${j0}]`)?._tippy?.hide()}focusItem(t){t.classList.add(nh),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(Yl)===B0&&t.querySelector(`[${j0}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,i=!1){if(this.defocusItem(this.highlightedItem),i)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const r=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[r+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const i=this,r=Array.prototype.filter.call(this.element.querySelectorAll(`[${Yl}]`),s=>s.closest(`[${to}]`)===i.element&&!!s.offsetParent);if(r.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(r);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":const s=this.highlightedItem.querySelectorAll(Ax).length===0,n=this.element.isEqualNode(t.target);this.highlightedItem!==this.element&&n&&(s&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let i=t.target;if(!i.hasAttribute(to))for(;i.parentElement.closest(`[${to}]`)!==this.element;)i=i.parentElement.closest(`[${to}]`);this.highlightedItem=i.closest(`[${Yl}]`)||i.closest(`[${to}]`)||this.highlightedItem,i.hasAttribute(`${Yl}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(Yl)===B0&&this.highlightedItem.querySelector(`[${j0}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),f9(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(Yl)===B0&&this.highlightedItem.querySelector(`[${j0}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const rI="focus-item",Xce={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",Qce()),t.value?e.setAttribute(rI,t.value):e.toggleAttribute(rI,!0)}};function Qce(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const KE="focus-container",d9="focus-list",eue="focus-icon",f_=`[${d9}],[${KE}]`,sI=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${d9}],[${KE}],[${eue}],[tabIndex]`;let d_=[];const tue={mounted(e){[...document.querySelectorAll(".inner-shell")].some(i=>i.contains(e))&&d_.push(new iue(e))},beforeUnmount(e){d_=d_.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class iue{element;constructor(t){this.element=t,this.element.toggleAttribute(KE,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const i=this;this.element.addEventListener("keypress",function(r){i.onKeypress(r)}),this.element.addEventListener("click",function(){i.onClick()}),this.element.addEventListener("focusout",function(r){i.onFocusOut(r)}),this.element.addEventListener("focus",function(){i.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(i){t.onKeypress(i)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(i){t.onFocusOut(i)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(sI),()=>!0).forEach(i=>{i.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(sI),i=>{(i.closest(f_)===this.element||i.closest(f_)===i&&i.parentElement.closest(f_)===this.element)&&i.offsetParent&&(i.tabIndex=0,t===void 0&&(t=i))}),t}}const rue="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",sue="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",hf=(e,t)=>{for(const i in t)e[i]=t[i];return e},Mx="numeric",Ox="ascii",Ix="alpha",Vy="asciinumeric",V0="alphanumeric",$x="domain",p9="emoji",nue="scheme",oue="slashscheme",nI="whitespace";function aue(e,t){return e in t||(t[e]=[]),t[e]}function Sc(e,t,i){t[Mx]&&(t[Vy]=!0,t[V0]=!0),t[Ox]&&(t[Vy]=!0,t[Ix]=!0),t[Vy]&&(t[V0]=!0),t[Ix]&&(t[V0]=!0),t[V0]&&(t[$x]=!0),t[p9]&&(t[$x]=!0);for(const r in t){const s=aue(r,i);s.indexOf(e)<0&&s.push(e)}}function lue(e,t){const i={};for(const r in t)t[r].indexOf(e)>=0&&(i[r]=!0);return i}function ds(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}ds.groups={};ds.prototype={accepts(){return!!this.t},go(e){const t=this,i=t.j[e];if(i)return i;for(let r=0;r<t.jr.length;r++){const s=t.jr[r][0],n=t.jr[r][1];if(n&&s.test(e))return n}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,i,r){for(let s=0;s<e.length;s++)this.tt(e[s],t,i,r)},tr(e,t,i,r){r=r||ds.groups;let s;return t&&t.j?s=t:(s=new ds(t),i&&r&&Sc(t,i,r)),this.jr.push([e,s]),s},ts(e,t,i,r){let s=this;const n=e.length;if(!n)return s;for(let o=0;o<n-1;o++)s=s.tt(e[o]);return s.tt(e[n-1],t,i,r)},tt(e,t,i,r){r=r||ds.groups;const s=this;if(t&&t.j)return s.j[e]=t,t;const n=t;let o,a=s.go(e);if(a?(o=new ds,hf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new ds,n){if(r)if(o.t&&typeof o.t=="string"){const l=hf(lue(o.t,r),i);Sc(n,l,r)}else i&&Sc(n,i,r);o.t=n}return s.j[e]=o,o}};const Re=(e,t,i,r,s)=>e.ta(t,i,r,s),Os=(e,t,i,r,s)=>e.tr(t,i,r,s),oI=(e,t,i,r,s)=>e.ts(t,i,r,s),me=(e,t,i,r,s)=>e.tt(t,i,r,s),Go="WORD",Cx="UWORD",om="LOCALHOST",Nx="TLD",Px="UTLD",Gy="SCHEME",Hu="SLASH_SCHEME",c1="NUM",m9="WS",XE="NL",oh="OPENBRACE",lp="OPENBRACKET",cp="OPENANGLEBRACKET",up="OPENPAREN",gc="CLOSEBRACE",ah="CLOSEBRACKET",lh="CLOSEANGLEBRACKET",vc="CLOSEPAREN",u1="AMPERSAND",h1="APOSTROPHE",f1="ASTERISK",Za="AT",d1="BACKSLASH",p1="BACKTICK",m1="CARET",el="COLON",QE="COMMA",y1="DOLLAR",Zn="DOT",g1="EQUALS",eT="EXCLAMATION",Kn="HYPHEN",v1="PERCENT",b1="PIPE",_1="PLUS",w1="POUND",x1="QUERY",tT="QUOTE",iT="SEMI",Wo="SLASH",hp="TILDE",S1="UNDERSCORE",y9="EMOJI",E1="SYM";var g9=Object.freeze({__proto__:null,WORD:Go,UWORD:Cx,LOCALHOST:om,TLD:Nx,UTLD:Px,SCHEME:Gy,SLASH_SCHEME:Hu,NUM:c1,WS:m9,NL:XE,OPENBRACE:oh,OPENBRACKET:lp,OPENANGLEBRACKET:cp,OPENPAREN:up,CLOSEBRACE:gc,CLOSEBRACKET:ah,CLOSEANGLEBRACKET:lh,CLOSEPAREN:vc,AMPERSAND:u1,APOSTROPHE:h1,ASTERISK:f1,AT:Za,BACKSLASH:d1,BACKTICK:p1,CARET:m1,COLON:el,COMMA:QE,DOLLAR:y1,DOT:Zn,EQUALS:g1,EXCLAMATION:eT,HYPHEN:Kn,PERCENT:v1,PIPE:b1,PLUS:_1,POUND:w1,QUERY:x1,QUOTE:tT,SEMI:iT,SLASH:Wo,TILDE:hp,UNDERSCORE:S1,EMOJI:y9,SYM:E1});const Nu=/[a-z]/,p_=/\p{L}/u,m_=/\p{Emoji}/u,y_=/\d/,aI=/\s/,lI=`
`,cue="️",uue="‍";let G0=null,z0=null;function hue(e){e===void 0&&(e=[]);const t={};ds.groups=t;const i=new ds;G0==null&&(G0=cI(rue)),z0==null&&(z0=cI(sue)),me(i,"'",h1),me(i,"{",oh),me(i,"[",lp),me(i,"<",cp),me(i,"(",up),me(i,"}",gc),me(i,"]",ah),me(i,">",lh),me(i,")",vc),me(i,"&",u1),me(i,"*",f1),me(i,"@",Za),me(i,"`",p1),me(i,"^",m1),me(i,":",el),me(i,",",QE),me(i,"$",y1),me(i,".",Zn),me(i,"=",g1),me(i,"!",eT),me(i,"-",Kn),me(i,"%",v1),me(i,"|",b1),me(i,"+",_1),me(i,"#",w1),me(i,"?",x1),me(i,'"',tT),me(i,"/",Wo),me(i,";",iT),me(i,"~",hp),me(i,"_",S1),me(i,"\\",d1);const r=Os(i,y_,c1,{[Mx]:!0});Os(r,y_,r);const s=Os(i,Nu,Go,{[Ox]:!0});Os(s,Nu,s);const n=Os(i,p_,Cx,{[Ix]:!0});Os(n,Nu),Os(n,p_,n);const o=Os(i,aI,m9,{[nI]:!0});me(i,lI,XE,{[nI]:!0}),me(o,lI),Os(o,aI,o);const a=Os(i,m_,y9,{[p9]:!0});Os(a,m_,a),me(a,cue,a);const l=me(a,uue);Os(l,m_,a);const c=[[Nu,s]],f=[[Nu,null],[p_,n]];for(let d=0;d<G0.length;d++)Ta(i,G0[d],Nx,Go,c);for(let d=0;d<z0.length;d++)Ta(i,z0[d],Px,Cx,f);Sc(Nx,{tld:!0,ascii:!0},t),Sc(Px,{utld:!0,alpha:!0},t),Ta(i,"file",Gy,Go,c),Ta(i,"mailto",Gy,Go,c),Ta(i,"http",Hu,Go,c),Ta(i,"https",Hu,Go,c),Ta(i,"ftp",Hu,Go,c),Ta(i,"ftps",Hu,Go,c),Sc(Gy,{scheme:!0,ascii:!0},t),Sc(Hu,{slashscheme:!0,ascii:!0},t),e=e.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<e.length;d++){const p=e[d][0],v=e[d][1]?{[nue]:!0}:{[oue]:!0};p.indexOf("-")>=0?v[$x]=!0:Nu.test(p)?y_.test(p)?v[Vy]=!0:v[Ox]=!0:v[Mx]=!0,oI(i,p,p,v)}return oI(i,"localhost",om,{ascii:!0}),i.jd=new ds(E1),{start:i,tokens:hf({groups:t},g9)}}function fue(e,t){const i=due(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=i.length,s=[];let n=0,o=0;for(;o<r;){let a=e,l=null,c=0,f=null,d=-1,p=-1;for(;o<r&&(l=a.go(i[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=i[o].length,p++),c+=i[o].length,n+=i[o].length,o++;n-=d,o-=p,c-=d,s.push({t:f.t,v:t.slice(n-c,n),s:n-c,e:n})}return s}function due(e){const t=[],i=e.length;let r=0;for(;r<i;){let s=e.charCodeAt(r),n,o=s<55296||s>56319||r+1===i||(n=e.charCodeAt(r+1))<56320||n>57343?e[r]:e.slice(r,r+2);t.push(o),r+=o.length}return t}function Ta(e,t,i,r,s){let n;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?n=e.j[l]:(n=new ds(r),n.jr=s.slice(),e.j[l]=n),e=n}return n=new ds(i),n.jr=s.slice(),e.j[t[o-1]]=n,n}function cI(e){const t=[],i=[];let r=0,s="0123456789";for(;r<e.length;){let n=0;for(;s.indexOf(e[r+n])>=0;)n++;if(n>0){t.push(i.join(""));let o=parseInt(e.substring(r,r+n),10);for(;o>0;o--)i.pop();r+=n}else e[r]==="_"?(t.push(i.join("")),r++):(i.push(e[r]),r++)}return t}const am={defaultProtocol:"http",events:null,format:uI,formatHref:uI,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function rT(e,t){t===void 0&&(t=null);let i=hf({},am);e&&(i=hf(i,e instanceof rT?e.o:e));const r=i.ignoreTags,s=[];for(let n=0;n<r.length;n++)s.push(r[n].toUpperCase());this.o=i,t&&(this.defaultRender=t),this.ignoreTags=s}rT.prototype={o:am,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,i){const r=t!=null;let s=this.o[e];return s&&(typeof s=="object"?(s=i.t in s?s[i.t]:am[e],typeof s=="function"&&r&&(s=s(t,i))):typeof s=="function"&&r&&(s=s(t,i.t,i)),s)},getObj(e,t,i){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,i.t,i)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function uI(e){return e}function v9(e,t){this.t="token",this.v=e,this.tk=t}v9.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),i=e.get("truncate",t,this),r=e.get("format",t,this);return i&&r.length>i?r.substring(0,i)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=am.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,i=this.toFormattedHref(e),r=e.get("tagName",i,t),s=this.toFormattedString(e),n={},o=e.get("className",i,t),a=e.get("target",i,t),l=e.get("rel",i,t),c=e.getObj("attributes",i,t),f=e.getObj("events",i,t);return n.href=i,o&&(n.class=o),a&&(n.target=a),l&&(n.rel=l),c&&hf(n,c),{tagName:r,attributes:n,content:s,eventListeners:f}}};function Yv(e,t){class i extends v9{constructor(s,n){super(s,n),this.t=e}}for(const r in t)i.prototype[r]=t[r];return i.t=e,i}const hI=Yv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),fI=Yv("text"),pue=Yv("nl"),Jl=Yv("url",{isLink:!0,toHref(e){return e===void 0&&(e=am.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==om&&e[1].t===el}}),Ki=e=>new ds(e);function mue(e){let{groups:t}=e;const i=t.domain.concat([u1,f1,Za,d1,p1,m1,y1,g1,Kn,c1,v1,b1,_1,w1,Wo,E1,hp,S1]),r=[h1,lh,gc,ah,vc,el,QE,Zn,eT,cp,oh,lp,up,x1,tT,iT],s=[u1,h1,f1,d1,p1,m1,gc,y1,g1,Kn,c1,oh,v1,b1,_1,w1,x1,Wo,E1,hp,S1],n=Ki(),o=me(n,hp);Re(o,s,o),Re(o,t.domain,o);const a=Ki(),l=Ki(),c=Ki();Re(n,t.domain,a),Re(n,t.scheme,l),Re(n,t.slashscheme,c),Re(a,s,o),Re(a,t.domain,a);const f=me(a,Za);me(o,Za,f),me(l,Za,f),me(c,Za,f);const d=me(o,Zn);Re(d,s,o),Re(d,t.domain,o);const p=Ki();Re(f,t.domain,p),Re(p,t.domain,p);const y=me(p,Zn);Re(y,t.domain,p);const v=Ki(hI);Re(y,t.tld,v),Re(y,t.utld,v),me(f,om,v);const _=me(p,Kn);Re(_,t.domain,p),Re(v,t.domain,p),me(v,Zn,y),me(v,Kn,_);const E=me(v,el);Re(E,t.numeric,hI);const S=me(a,Kn),A=me(a,Zn);Re(S,t.domain,a),Re(A,s,o),Re(A,t.domain,a);const w=Ki(Jl);Re(A,t.tld,w),Re(A,t.utld,w),Re(w,t.domain,a),Re(w,s,o),me(w,Zn,A),me(w,Kn,S),me(w,Za,f);const b=me(w,el),M=Ki(Jl);Re(b,t.numeric,M);const O=Ki(Jl),C=Ki();Re(O,i,O),Re(O,r,C),Re(C,i,O),Re(C,r,C),me(w,Wo,O),me(M,Wo,O);const P=me(l,el),N=me(c,el),U=me(N,Wo);me(U,Wo,P),Re(l,t.domain,a),me(l,Zn,A),me(l,Kn,S),Re(c,t.domain,a),me(c,Zn,A),me(c,Kn,S),Re(P,t.domain,O),me(P,Wo,O);const j=me(O,oh),F=me(O,lp),q=me(O,cp),te=me(O,up);me(C,oh,j),me(C,lp,F),me(C,cp,q),me(C,up,te),me(j,gc,O),me(F,ah,O),me(q,lh,O),me(te,vc,O),me(j,gc,O);const h=Ki(Jl),m=Ki(Jl),x=Ki(Jl),$=Ki(Jl);Re(j,i,h),Re(F,i,m),Re(q,i,x),Re(te,i,$);const V=Ki(),Y=Ki(),pe=Ki(),le=Ki();return Re(j,r),Re(F,r),Re(q,r),Re(te,r),Re(h,i,h),Re(m,i,m),Re(x,i,x),Re($,i,$),Re(h,r,h),Re(m,r,m),Re(x,r,x),Re($,r,$),Re(V,i,V),Re(Y,i,m),Re(pe,i,x),Re(le,i,$),Re(V,r,V),Re(Y,r,Y),Re(pe,r,pe),Re(le,r,le),me(m,ah,O),me(x,lh,O),me($,vc,O),me(h,gc,O),me(Y,ah,O),me(pe,lh,O),me(le,vc,O),me(V,vc,O),me(n,om,w),me(n,XE,pue),{start:n,tokens:g9}}function yue(e,t,i){let r=i.length,s=0,n=[],o=[];for(;s<r;){let a=e,l=null,c=null,f=0,d=null,p=-1;for(;s<r&&!(l=a.go(i[s].t));)o.push(i[s++]);for(;s<r&&(c=l||a.go(i[s].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,s++,f++;if(p<0)s-=f,s<r&&(o.push(i[s]),s++);else{o.length>0&&(n.push(g_(fI,t,o)),o=[]),s-=p,f-=p;const y=d.t,v=i.slice(s-f,s);n.push(g_(y,t,v))}}return o.length>0&&n.push(g_(fI,t,o)),n}function g_(e,t,i){const r=i[0].s,s=i[i.length-1].e,n=t.slice(r,s);return new e(n,i)}const Cr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function gue(){Cr.scanner=hue(Cr.customSchemes);for(let e=0;e<Cr.tokenQueue.length;e++)Cr.tokenQueue[e][1]({scanner:Cr.scanner});Cr.parser=mue(Cr.scanner.tokens);for(let e=0;e<Cr.pluginQueue.length;e++)Cr.pluginQueue[e][1]({scanner:Cr.scanner,parser:Cr.parser});Cr.initialized=!0}function vue(e){return Cr.initialized||gue(),yue(Cr.parser.start,e,fue(Cr.scanner.start,e))}var bue={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},_ue=/^#[xX]([A-Fa-f0-9]+)$/,wue=/^#([0-9]+)$/,xue=/^([A-Za-z0-9]+)$/,Sue=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var i=t.match(_ue);if(i)return String.fromCharCode(parseInt(i[1],16));if(i=t.match(wue),i)return String.fromCharCode(parseInt(i[1],10));if(i=t.match(xue),i)return this.named[i[1]]||"&"+i[1]+";"}},e}(),Eue=/[\t\n\f ]/,Tue=/[A-Za-z]/,Aue=/\r\n?/g;function hr(e){return Eue.test(e)}function dI(e){return Tue.test(e)}function Mue(e){return e.replace(Aue,`
`)}var Oue=function(){function e(t,i,r){r===void 0&&(r="precompile"),this.delegate=t,this.entityParser=i,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var n=this.tagNameBuffer.toLowerCase();(n==="pre"||n==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),n=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&n!=="script"&&n!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||dI(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();n==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();hr(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();hr(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();hr(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!hr(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var n=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=n.toUpperCase()==="PUBLIC",a=n.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();hr(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();hr(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();hr(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();hr(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();hr(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();hr(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(hr(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();hr(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(hr(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();hr(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();hr(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();hr(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||dI(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=Mue(t);this.index<this.input.length;){var i=this.states[this.state];if(i!==void 0)i.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var i=this.input.slice(this.index,t),r=this.entityParser.parse(i);if(r){for(var s=i.length;s;)this.consume(),s--;return this.consume(),r}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),Iue=function(){function e(t,i){i===void 0&&(i={}),this.options=i,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Oue(this,t,i.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var i=0;i<arguments.length;i++)if(t.type===arguments[i])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var i=this.current("Doctype");i.publicIdentifier===void 0?i.publicIdentifier=t:i.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var i=this.current("Doctype");i.systemIdentifier===void 0?i.systemIdentifier=t:i.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function $ue(e,t){var i=new Iue(new Sue(bue),t);return i.tokenize(e)}const b9="LinkifyResult",T1="StartTag",_9="EndTag",Lx="Chars",Cue="Comment",Nue="Doctype";function Pue(e,t){t===void 0&&(t={});const i=$ue(e),r=[],s=[],n=new rT(t,Rue);for(let o=0;o<i.length;o++){const a=i[o];if(a.type===T1){r.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||n.ignoreTags.indexOf(l)>=0))continue;let f=r.length;kue(l,i,++o,r),o+=r.length-f-1}else if(a.type!==Lx)r.push(a);else{const l=Lue(a.chars,n);r.push.apply(r,l)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case b9:s.push(a.rendered);break;case T1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+Fue(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",s.push(l);break}case _9:s.push(`</${a.tagName}>`);break;case Lx:s.push(kx(a.chars));break;case Cue:s.push(`<!--${kx(a.chars)}-->`);break;case Nue:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",s.push(l);break}}}return s.join("")}function Lue(e,t){const i=vue(e),r=[];for(let s=0;s<i.length;s++){const n=i[s];n.t==="nl"&&t.get("nl2br")?r.push({type:T1,tagName:"br",attributes:[],selfClosing:!0}):!n.isLink||!t.check(n)?r.push({type:Lx,chars:n.toString()}):r.push({type:b9,rendered:t.render(n)})}return r}function kue(e,t,i,r){let s=1;for(;i<t.length&&s>0;){let n=t[i];n.type===T1&&n.tagName.toUpperCase()===e?s++:n.type===_9&&n.tagName.toUpperCase()===e&&s--,r.push(n),i++}return r}function Rue(e){let{tagName:t,attributes:i,content:r}=e;return`<${t} ${Due(i)}>${kx(r)}</${t}>`}function kx(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w9(e){return e.replace(/"/g,"&quot;")}function Due(e){const t=[];for(const i in e){const r=e[i]+"";t.push(`${i}="${w9(r)}"`)}return t.join(" ")}function Fue(e){const t=[];for(let i=0;i<e.length;i++){const r=e[i][0],s=e[i][1]+"";t.push(`${r}="${w9(s)}"`)}return t}const Uue="truncate-text",jue="truncate-trigger",Bue={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(Uue,!0)},mounted(e,t){let i;t.value&&t.value.externalTrigger&&(i=e.closest(`[${jue}]`)),ZE(e,{content:pI(e.textContent),onShow:Vue,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:i,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(pI(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function Vue(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function pI(e){if(e===null)return"";let t=Pue(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const Gue=["content"],zue={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},que={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},Wue={key:1},Hue={key:0,class:"flex"},Yue=["innerHTML"],Jue={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},Zue=rt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:i}=ii(),r=Kc(),s=e1(),n=Pi("iApi"),o=Rg("el"),a=Rg("contentEl"),l=X();t({el:o});const c=e,f=tt(()=>n?.fixture.get("appbar")?s.temporary:[]),d=tt(()=>r.mobileView),p=tt(()=>r.reorderable),y=S=>S.scrollHeight>S.clientHeight,v=()=>!d.value&&!c.panel.teleport,_=S=>{c.panel.move(S),S==="left"&&Pn(()=>{(o.value?.querySelector(".move-left")).focus()})},E=tt(()=>c.screenId?c.panel.screens[c.screenId][n?.$i18n.locale.value??"en"]:null);return lr(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Ln(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",S=>{S.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(S,A)=>{const w=bi("back"),b=bi("panel-options-menu"),M=bi("left"),O=bi("right"),C=bi("pin"),P=bi("expand"),N=bi("minimize"),U=bi("close"),j=Tt("truncate"),F=Tt("focus-item"),q=Tt("tippy");return Et((fe(),we("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Oe(i)(e.panel.alertName)+". "+Oe(i)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(fe(),we("header",zue,[Ke(w,{class:di(e.panel.teleport?"display-none":"block sm:display-none"),onClick:A[0]||(A[0]=te=>e.panel.close())},null,8,["class"]),Et((fe(),we("h2",que,[S.$slots.header?pn(S.$slots,"header",{key:0}):(fe(),we("div",Wue,jt(Oe(i)(e.panel.alertName)),1))])),[[j]]),S.$slots.controls?(fe(),Bt(b,{key:0},{default:Ti(()=>[pn(S.$slots,"controls")]),_:3})):Wt("",!0),ue("div",{class:di(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Wt("",!0):(fe(),we("div",Hue,[p.value?(fe(),Bt(M,{key:0,onClick:A[1]||(A[1]=te=>_("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Wt("",!0),p.value?(fe(),Bt(O,{key:1,onClick:A[2]||(A[2]=te=>_("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Wt("",!0),Ke(C,{onClick:A[3]||(A[3]=te=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(fe(),Bt(P,{key:2,onClick:A[4]||(A[4]=te=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Wt("",!0)])),e.panel.button&&f.value?.includes(e.panel.id)?(fe(),Bt(N,{key:1,onClick:A[5]||(A[5]=te=>e.panel.minimize())})):Wt("",!0),Ke(U,{onClick:A[6]||(A[6]=te=>e.panel.close())})],2)])):Wt("",!0),e.content?(fe(),we("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[S.$slots.content?pn(S.$slots,"content",{key:0}):E.value?(fe(),we("div",{key:1,innerHTML:E.value.innerHTML},null,8,Yue)):Wt("",!0)],512)):Wt("",!0),e.footer?Et((fe(),we("div",Jue,[pn(S.$slots,"footer")])),[[F]]):Wt("",!0)],8,Gue)),[[q,{trigger:"manual",touch:!1,onShow:v,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),Kue={class:"relative"},Xue=["content","aria-label"],Que=["transform"],ehe=rt({__name:"pin",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=Tt("tippy");return fe(),we("div",Kue,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Oe(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Oe(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(fe(),we("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},r[0]||(r[0]=[ue("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,Que))],10,Xue)),[[s,{placement:"bottom",hideOnClick:!1}]])])}}}),the={class:"relative"},ihe=["content","aria-label"],rhe=rt({__name:"close",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=Tt("tippy");return fe(),we("div",the,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Oe(t)("panels.controls.close"),"aria-label":Oe(t)("panels.controls.close")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ue("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,ihe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),she={class:"relative"},nhe=["content","aria-label"],ohe=rt({__name:"back",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=Tt("tippy");return fe(),we("div",she,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Oe(t)("panels.controls.back"),"aria-label":Oe(t)("panels.controls.back")},r[0]||(r[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ue("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,nhe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),ahe={class:"w-32 h-32"},lhe=["content","aria-label"],che={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},uhe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},hhe=rt({__name:"expand",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=Tt("tippy");return fe(),we("div",ahe,[Et((fe(),we("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Oe(t)(`panels.controls.${e.active?"collapse":"expand"}`),"aria-label":Oe(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(fe(),we("svg",uhe,r[1]||(r[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ue("path",{d:"M4 12h16v2H4z"},null,-1)]))):(fe(),we("svg",che,r[0]||(r[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,lhe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),fhe={class:"relative"},dhe=["content","aria-label"],phe=rt({__name:"minimize",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=Tt("tippy");return fe(),we("div",fhe,[Et((fe(),we("button",{type:"button",class:di(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:Oe(t)("panels.controls.minimize"),"aria-label":Oe(t)("panels.controls.minimize")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ue("path",{d:"M6 19h12v2H6z"})],-1)]),10,dhe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),mhe={class:"relative"},yhe=["content","aria-label"],ghe=rt({__name:"right",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=Tt("tippy");return fe(),we("div",mhe,[Et((fe(),we("button",{type:"button",class:di(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Oe(t)("panels.controls.moveRight"),"aria-label":Oe(t)("panels.controls.moveRight")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,yhe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),vhe={class:"relative"},bhe=["content","aria-label"],_he=rt({__name:"left",props:{active:Boolean},setup(e){const{t}=ii();return(i,r)=>{const s=Tt("tippy");return fe(),we("div",vhe,[Et((fe(),we("button",{type:"button",class:di(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Oe(t)("panels.controls.moveLeft"),"aria-label":Oe(t)("panels.controls.moveLeft")},r[0]||(r[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,bhe)),[[s,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),whe=rt({__name:"panel-options-menu",setup(e){const{t}=ii();return(i,r)=>(fe(),Bt(BE,{class:"flex",tooltip:Oe(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Ti(()=>r[0]||(r[0]=[ue("div",{class:"p-6"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ue("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Ti(()=>[pn(i.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),xhe=fa(whe,[["__scopeId","data-v-5a275ac2"]]),She={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Ehe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},The=rt({__name:"fullscreen-nav",setup(e){const{t}=ii(),i=Pi("iApi"),r=()=>{i.toggleFullscreen()};return(s,n)=>{const o=bi("mapnav-button");return fe(),Bt(o,{onClickFunction:r,tooltip:Oe(t)("mapnav.fullscreen")},{default:Ti(()=>[Oe(i).isFullscreen?(fe(),we("svg",She,n[0]||(n[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(fe(),we("svg",Ehe,n[1]||(n[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),Ahe=rt({__name:"geolocator-nav",setup(e){const{t}=ii(),i=Pi("iApi");let r=tr([]);const s=async()=>{if(r.length)n(r);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?i.notify.show(bs.ERROR,t("mapnav.geolocator.error.permission")):i.notify.show(bs.ERROR,t("mapnav.geolocator.error.internal"))});a&&(r=[a.coords.longitude,a.coords.latitude],n(r))}},n=a=>{const l=new Dr("geolocation",a,Be.latLongSR(),!0);i.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=bi("mapnav-button");return fe(),Bt(c,{onClickFunction:s,tooltip:Oe(t)("mapnav.geolocator")},{default:Ti(()=>l[0]||(l[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),Mhe=rt({__name:"home-nav",setup(e){const{t}=ii(),i=Pi("iApi"),r=()=>{const s=i.geo.map.getExtentSet();i.geo.map.zoomMapTo(s.fullExtent)};return(s,n)=>{const o=bi("mapnav-button");return fe(),Bt(o,{onClickFunction:r,tooltip:Oe(t)("mapnav.home")},{default:Ti(()=>n[0]||(n[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ue("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),Ohe={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},Ihe=["content","aria-label"],$he=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,i)=>{const r=Tt("focus-item"),s=Tt("tippy");return fe(),we("div",Ohe,[Et((fe(),we("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:i[0]||(i[0]=n=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[pn(t.$slots,"default")],8,Ihe)),[[r],[s,{placement:"left"}]])])}}}),Che={class:"relative",tabindex:"-1"},Nhe=["aria-label","content"],Phe=rt({__name:"button",props:{onClickFunction:{type:Function,required:!0},id:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=Pi("iApi"),i=e,r=()=>t?.event.emit($e.APPBAR_BUTTON_CLICK,i.id);return(s,n)=>{const o=Tt("focus-item"),a=Tt("tippy");return fe(),we("div",Che,[Et((fe(),we("button",{type:"button",class:"py-6 w-full h-full",onClick:n[0]||(n[0]=()=>{e.onClickFunction(),r()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[pn(s.$slots,"default",{},void 0,!0)],8,Nhe)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),Lhe=fa(Phe,[["__scopeId","data-v-4e07c09f"]]),khe=oi("areas-of-interest",()=>({areas:X([])})),Rhe=oi("export",()=>{const e=X({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=X("");function i(r){if(e.value[r.name]!==void 0){const s=e.value[r.name];e.value[r.name]=r.selected!==void 0?r.selected:!s}}return{componentSelectedState:e,fileName:t,toggleSelected:i}}),Dhe=oi("extentguard",()=>{const e=X(!1);function t(l){e.value=l}const i=X(!1);function r(l){i.value=l}const s=X(!1);function n(l){s.value=l}const o=X([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:i,setEnforcing:r,alwaysOn:s,setAlwaysOn:n,extentSetIds:o,setExtentSetIds:a}}),Jv=function e(t){function i(s,n,o){var a,l={};if(Array.isArray(s))return s.concat(n);for(a in s)l[o?a.toLowerCase():a]=s[a];for(a in n){var c=o?a.toLowerCase():a,f=n[a];l[c]=c in l&&typeof f=="object"?i(l[c],f,c=="headers"):f}return l}function r(s,n,o,a,l){var c=typeof s!="string"?(n=s).url:s,f={config:n},d=i(t,n),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:i(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var v in y)typeof y[v]!="function"&&(f[v]=y[v]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(_){f.data=_,f.data=JSON.parse(_)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return t=t||{},r.request=r,r.get=function(s,n){return r(s,n,"get")},r.delete=function(s,n){return r(s,n,"delete")},r.head=function(s,n){return r(s,n,"head")},r.options=function(s,n){return r(s,n,"options")},r.post=function(s,n,o){return r(s,o,"post",n)},r.put=function(s,n,o){return r(s,o,"put",n)},r.patch=function(s,n,o){return r(s,o,"patch",n)},r.all=Promise.all.bind(Promise),r.spread=function(s){return s.apply.bind(s,s)},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=t,r.create=e,r}(),Fhe={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},v_={en:{},fr:{}};class Uhe{list={};listFetched=!1;constructor(t,i){Jv.get(i).then(r=>{r.data.definitions.forEach(s=>v_[t][s.code]=s.description),Object.keys(v_[t]).forEach(s=>{this.list[s]=v_[t][s]}),this.listFetched=!0})}fsaToProvinces(t){const i={};let r=Fhe[t.substring(0,1).toUpperCase()];return typeof r=="number"&&(r=[r]),r.forEach(s=>{i[s]=this.list[s]}),i}}function jhe(e,t){return new Uhe(e,t)}const q0={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Région De Tri D'Acheminement",NTS:"Système National De Référence Cartographique",COORD:"Latitude/Longitude",SCALE:"Échelle"}};class Bhe{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,i){Jv.get(i).then(r=>{r.data.definitions.forEach(s=>{q0[t][s.code]=s.term.split(`${s.code}-`)[1]}),Object.keys(q0[t]).forEach(s=>{this.allTypes[s]=q0[t][s],this.validTypes[s]=q0[t][s]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const i of t)delete this.validTypes[i];return this.filterComplete=!0,this.validTypes}}function Vhe(e,t){return new Bhe(e,t)}function Ghe(e,t){const i=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,r=/^\d{2,3}[A-P]/,s=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(i.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")){const n=t.slice(0,-1);return new zhe(e,n)}else return s.test(t)&&!e.disabledSearchTypes.includes("FSA")?new qhe(e,t):r.test(t)&&!e.disabledSearchTypes.includes("NTS")?new Whe(e,t.substring(0,6).toUpperCase()):new Hhe(e,t)}class Zv{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(t,i){this.query=i,this.config=t}search(){return this.jsonRequest(this.getUrl()).then(t=>this.normalizeNameItems(t.items)).catch(()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}getUrl(t,i,r,s){let n="";return t?n=this.config.geoLocateUrl+"?q="+this.query:(r&&s?n=`${this.config.geoNameUrl}?lat=${r}&lon=${s}&num=${this.config.maxResults}`:n=`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(n+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(n+="&category=O")),n}normalizeNameItems(t){return t.filter(i=>this.config.types.validTypes[i.concise.code]).map(i=>({name:i.name,location:i.location,province:this.config.provinces.list[i.province.code],type:this.config.types.allTypes[i.concise.code],LatLon:{lat:i.latitude,lon:i.longitude},bbox:i.bbox,order:this.config.sortOrder.indexOf(i.concise.code)>=0?this.config.sortOrder.indexOf(i.concise.code):this.config.sortOrder.length}))}jsonRequest(t){return new Promise((i,r)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="json",s.onload=()=>{if(s.status===200){const n=typeof s.response=="string"?JSON.parse(s.response):s.response;i(n)}else r("Could not load results from remote service.")},s.send()})}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(t,i,r){return this.jsonRequest(this.getUrl(!1,r,t,i)).then(s=>this.normalizeNameItems(s.items)).catch(()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}}class zhe extends Zv{constructor(t,i){super(t,i),this.resultType="latlong";const s=i.split(/[\s|,|;|]/).filter(a=>!isNaN(a)&&a!=="").map(a=>parseFloat(a)),n=.015,o=[s[1]-n,s[0]-n,s[1]+n,s[0]+n];this.latLongResult={name:`${s[0]},${s[1]}`,location:{latitude:s[0],longitude:s[1]},type:"Latitude/Longitude",position:[s[1],s[0]],bbox:o},this.onComplete=new Promise((a,l)=>{this.nameByLatLon(s[0],s[1]).then(c=>{c?(this.results=c,a(this)):l("Given lat lon coordinates cannot be found")})})}}class qhe extends Zv{constructor(t,i){i=i.substring(0,3).toUpperCase(),super(t,i),this.resultType="fsa",this.onComplete=new Promise(r=>{this.formatLocationResult().then(s=>{s?(this.featureResults.push(s),this.nameByLatLon(s.LatLon.lat,s.LatLon.lon,Object.keys(s._provinces).map(n=>parseInt(n))).then(n=>{this.results=n,r(this)})):(console.log("FSA code given cannot be found."),r(this))})})}formatLocationResult(){return this.locateByQuery().then(t=>{if(t.length===1&&this.query){const i=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(i).map(r=>i[r]).join(","),_provinces:i,LatLon:{lat:t[0].geometry.coordinates[1],lon:t[0].geometry.coordinates[0]}}}}).catch(()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")})}}class Whe extends Zv{unitName;unit;mapSheets=[];constructor(t,i){super(t,i),this.resultType="nts",i=isNaN(parseInt(i[2]))?"0"+i:i,this.unitName=i,this.onComplete=new Promise(r=>{this.locateByQuery().then(s=>{if(s.length>0&&this.query){const n=this.locateToResult(s);this.unit=n[0],this.mapSheets=n,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then(o=>{this.results=o,r(this)})}else console.log("Given NTS code not found"),r(this)}).catch(()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),r(this)})})}locateToResult(t){return t.map(r=>{const s=r.title.split(" ");return{nts:s.shift()||"",location:s.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:r.geometry.coordinates[1],lon:r.geometry.coordinates[0]},bbox:r.bbox}})}equals(t){return this.unitName===t.unitName}}class Hhe extends Zv{constructor(t,i){i=encodeURIComponent(i.trim()),super(t,i),this.resultType="address",this.onComplete=new Promise(r=>{this.locateByQuery().then(s=>{this.featureResults=this.locateToResult(s),this.search().then(n=>{this.results=n,r(this)})}).catch(()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then(s=>{this.results=s,r(this)})})})}locateToResult(t){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:t.filter(r=>r.type?.includes("Street")).map(r=>{const[s,n,o]=r.title.split(", ");return{name:s,city:n.split(" Of ").pop(),province:o,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:r.geometry.coordinates[1],lon:r.geometry.coordinates[0]}}})}}const mI="https://geogratis.gc.ca/services/geolocation/@{language}/locate",yI="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",gI="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",vI="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",Yhe={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class bI{config;constructor(t,i){let r,s,n,o;const a=i?.serviceUrls;a?(r=a.geoLocation?a.geoLocation:mI,s=a.geoNames?a.geoNames:yI,n=a.geoProvince?a.geoProvince:gI,o=a.geoTypes?a.geoTypes:vI):(r=mI,s=yI,n=gI,o=vI),r=r.replace("@{language}",t),s=s.replace("@{language}",t),n=n.replace("@{language}",t),o=o.replace("@{language}",t);const l=i?.settings;let c,f,d,p,y;l?(c=l.categories?l.categories:[],f=l.sortOrder?l.sortOrder:[],d=l.disabledSearchTypes?l.disabledSearchTypes:[],p=l.maxResults>0?l.maxResults:100,y=!!l.officialOnly):(c=[],f=[],d=[],p=100,y=!1),this.config={language:t,geoNameUrl:s,geoLocateUrl:r,types:Vhe(t,o),provinces:jhe(t,n),categories:c,sortOrder:f,disabledSearchTypes:d,maxResults:p,officialOnly:y},this.config.types.filterValidTypes(i?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=i?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(t){this._provinceList=t}set typeList(t){this._typeList=t}levenshteinDistance(t,i){i=i.toLowerCase().trim();const r=decodeURI(t.query.toLowerCase().replace("*","")),s=[];for(let n=0;n<=i.length;n++){s[n]=[n];for(let o=1;o<=r.length;o++)s[n][o]=n===0?o:Math.min(s[n][o-1]+1,s[n-1][o]+.2,s[n-1][o-1]+(r[o-1]===i[n-1]?0:1))}return s[i.length][r.length]}findProvinceObj(t){return this.provinceList.find(i=>i.name===t)}query(t){return Ghe(this.config,t.toUpperCase()).onComplete.then(i=>{let r=[];i.featureResults.length>0?i.resultType==="fsa"?r=i.featureResults.map(n=>({name:n.fsa,bbox:[n.LatLon.lon+.02,n.LatLon.lat-.02,n.LatLon.lon-.02,n.LatLon.lat+.02],type:n.desc,position:[n.LatLon.lon,n.LatLon.lat],location:{latitude:n.LatLon.lat,longitude:n.LatLon.lon,province:this.findProvinceObj(n.province)},order:-1})):i.resultType==="nts"?r=i.featureResults.map(n=>({name:n.nts,bbox:n.bbox??[n.LatLon.lon+.02,n.LatLon.lat-.02,n.LatLon.lon-.02,n.LatLon.lat+.02],type:n.desc,position:[n.LatLon.lon,n.LatLon.lat],location:{city:n.location,latitude:n.LatLon.lat,longitude:n.LatLon.lon},order:-1})):i.resultType==="address"&&(r=i.featureResults.map(n=>({name:n.name,bbox:[n.LatLon.lon+.002,n.LatLon.lat-.002,n.LatLon.lon-.002,n.LatLon.lat+.002],type:n.desc,position:[n.LatLon.lon,n.LatLon.lat],location:{city:n.city,latitude:n.LatLon.lat,longitude:n.LatLon.lon,province:this.findProvinceObj(n.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length})),this.config.sortOrder.length>0&&(r=r.sort((n,o)=>this.levenshteinDistance(i,n.name)>this.levenshteinDistance(i,o.name)?1:-1))):i.resultType==="latlong"&&(r=[i.latLongResult],r[0].order=-1);const s=i.results.map(n=>({name:n.name,bbox:n.bbox,type:n.type,position:[n.LatLon.lon,n.LatLon.lat],location:{city:n.location,latitude:n.LatLon.lat,longitude:n.LatLon.lon,province:this.findProvinceObj(n.province)},order:n.order}));return{results:r.concat(s).slice(0,this.config.maxResults).sort((n,o)=>this.config.sortOrder.length>0?n.order>o.order?1:-1:this.levenshteinDistance(i,n.name)>this.levenshteinDistance(i,o.name)?1:-1),failedServs:i.failedServs}})}fetchProvinces(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.provinces.listFetched){clearInterval(i);const r=[],s={code:-1,abbr:"...",name:"..."};r.push(s);const n=this.config.provinces.list;for(const o in n)r.push({code:o,abbr:Yhe[o],name:n[o]});this.provinceList=r,t(this.provinceList)}})})}fetchTypes(){return new Promise(t=>{const i=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(i);const r=[],s={code:-1,name:"..."};r.push(s);const n=this.config.types.allTypes;for(const o in n)this._excludedTypes.includes(o)||r.push({code:o,name:n[o]});this.typeList=r,t(this.typeList)}},250)})}}function _I(e,t,i){return e&&t.extent&&(i=i.filter(r=>r.bbox[0]<=t.extent.xmax&&r.bbox[1]<=t.extent.ymax&&r.bbox[2]>=t.extent.xmin&&r.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(i=i.filter(r=>r.location.province?.name&&r.location.province.name===t.province)),t.type&&t.type!=="..."&&(i=i.filter(r=>r.type===t.type)),i}const Jhe=oi("geosearch",()=>{const e=X(new bI("en",void 0)),t=X({type:"",province:"",extent:void 0}),i=X(!1),r=X(""),s=X(""),n=X(""),o=X([]),a=X([]),l=X(!1),c=X([]),f=tt(()=>new Promise(w=>{e.value.fetchProvinces().then(b=>{b.sort((M,O)=>M.name>O.name?1:-1),w(b)})})),d=tt(()=>new Promise(w=>{e.value.fetchTypes().then(b=>{b.sort((M,O)=>M.name>O.name?1:-1),w(b)})}));function p(w,b){e.value=new bI(w,b)}function y(w){l.value=!0;const b=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!b)o.value=[],a.value=[],l.value=!1;else if(b&&b!==n.value||w){const M=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(M),e.value.query(`${b}*`).then(O=>{c.value=O.failedServs,n.value=b,a.value=O.results;const C=_I(i.value,t.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const M=_I(i.value,t.value,a.value);o.value=M||[],l.value=!1}}function v(w){t.value.province=typeof w.province>"u"?"":w.province,y(w.forceReRun)}function _(w){t.value.type=typeof w.type>"u"?"":w.type,y(w.forceReRun)}function E(w){n.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=w,y()}function S(w){const b={a:"àáâãäåāăąǎȁȃȧạảấầẩẫậắằẳẵặ",b:"ḃɓḅḇ",c:"çćĉċč",d:"ďḋḍḏḑḓ",e:"èéêëēĕėęěȅȇẹẻẽếềểễệ",f:"ƒḟ",g:"ĝğġģǧǵḡ",h:"ĥȟḣḥḧḩḫẖ",i:"ìíîïĩīĭįıȉȋịỉĩ",j:"ĵǰɉ",k:"ķĸƙḳḵ",l:"ĺļľŀłḷḹḻḽ",m:"ḿṁṃ",n:"ñńņňŉŋǹṅṇṉṋ",o:"òóôõöōŏőơǒǫǭȍȏȯọỏốồổỗộớờởỡợ",p:"ṕṗ",r:"ŕŗřȑȓṛṝṟ",s:"śŝşšșṡṣṥṧṩ",t:"ţťŧțṫṭṯṱẗ",u:"ùúûüũūŭůűųưǔǖǘǚǜȕȗụủứừửữự",v:"ṽṿ",w:"ẁẃŵẅẇẉẋ",x:"ẋẍ",y:"ỳýŷÿỹȳẏẙỵỷỹ",z:"źżžẑẓẕ"};w=w.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),s.value=Array.from(w).map(M=>Object.keys(b).includes(M)?"["+M+b[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function A(w){if(w.visible!==void 0&&(i.value=w.visible),w.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=w.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:i,searchVal:r,searchRegex:s,lastSearchVal:n,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:v,setType:_,setSearchTerm:E,setSearchRegex:S,setMapExtent:A}}),Zhe=oi("help",()=>({location:X("./help/")}));var x9=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(x9||{}),Rx=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))(Rx||{});class S9 extends ki{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,i,r){super(t),this._uid=Mh.sharedUtils.generateUUID(),this._name=i.name,this._type=i.type??"placeholder",this._parent=r,this._children=[],this._loadPromise=new Ni,this._hidden=i.hidden??!1,this._expanded=i.expanded??!0,this._visibility=!0,this._exclusive=i.exclusive??!1,this._controls=i.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=i.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,i){i&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(r=>r!==t),this._controls?.push(t)):!i&&this._controls?.includes(t)&&(this._controls=this._controls.filter(r=>r!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,i=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof ja)||this._lastVisible.layerControlAvailable(yi.Visibility)))this._lastVisible.toggleVisibility(!0);else{const r=this.children.find(s=>!(s instanceof ja)||s.layerControlAvailable(yi.Visibility));r&&r.toggleVisibility(!0)}else this._lastVisible=this.children.find(r=>r.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&i&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(i=>i.visibility&&i!==this&&i.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof ja&&!this.layerControlAvailable(yi.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(i=>{i.uid!==t.uid&&i.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof ja&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof ja&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(i=>i.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(i=>i.visibility),this instanceof ja&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof ja&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},i=[];return this.children.forEach(r=>{i.push(r.getConfig())}),this.exclusive?t.exclusiveVisibility=i:t.children=i,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Ni}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class ja extends S9{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,i,r){super(t,i,r),this._type=Rx.Placeholder,this._layerId=i.layerId,this._layerIdx=i.sublayerIndex,this._isSublayer=i.sublayerIndex!==void 0,this._layerControls=i.layerControls??[],this._origLayerControls=i.layerControls,this._layerDisabledControls=i.disabledLayerControls??[],this._origLayerDisabledControls=i.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=i.symbologyExpanded||!1,i.coverIcon&&(this._coverIcon=i.coverIcon),i.description&&(this._description=i.description),this._symbologyRenderStyle=i.symbologyRenderStyle??"icons",this._customSymbology=!!i.symbologyStack,this._symbologyStack=i.symbologyStack?.map(s=>({uid:this.$iApi.geo.shared.generateUUID(),label:s.text,definitionClause:s.sqlQuery,imgUrl:s.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=i.maxLines&&[1,2,3,4,5,6].includes(i.maxLines)?i.maxLines:void 0}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,i=!0,r=!1){if(!(!this.layerControlAvailable(yi.Visibility)&&!r)&&(super.toggleVisibility(t,i),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const s=this._symbologyStack.some(n=>n.lastVisbility);this._symbologyStack.forEach(n=>{s||(n.lastVisbility=!0),n.visibility=this.visibility?n.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,i){this._symbologyStack.some(r=>((t===void 0||r.uid===t)&&(r.visibility=i,r.lastVisbility=i),t!==void 0&&r.uid===t))}load(t){const i=t instanceof oT?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);i&&(this.layer=i,this._layerRedrawing=i.mapLayer&&i.drawState!==Kr.UP_TO_DATE,i.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:i.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),i.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on($e.LAYER_VISIBILITYCHANGE,r=>{r.layer.uid===this.layer.uid&&this._type===Rx.Item&&this.toggleVisibility(r.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on($e.LAYER_DRAWSTATECHANGE,r=>{this.layer.uid===r.layer.uid&&(r.layer.drawState===Kr.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=r.layer.drawState===Kr.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?i.isOffscale():!1,this.handlers.push(this.$iApi.event.on($e.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var Khe=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(Khe||{});class wI extends S9{_infoType;_content;constructor(t,i,r){super(t,i,r),this._infoType=i.infoType??"title",this._content=i.content??"",i.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(i.infoType||i.content)&&(this._controls=i.controls?.slice()??[x9.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const Xhe=oi("legend",()=>{const e=X(),t=X([]),i=X([]),r=X(!0),s=X(3);function n(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof wI)&&!(l.item instanceof ja)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof wI&&!d.children.length&&d.content==="")),f);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,f=c.indexOf(l.oldItem);f>-1&&(t.value[f]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:r,maxLines:s,children:t,headerControls:i,addItem:n,removeItem:o,replaceItem:a}}),Qhe=oi("mapnav",()=>{const e=X({}),t=X([]);function i(r){r in e.value&&delete e.value[r];const s=t.value.indexOf(r);s!==-1&&t.value.splice(s,1)}return{items:e,order:t,removeItem:i}}),efe=oi("metadata",()=>{const e=X(""),t=X({type:"LineString",coordinates:[]});return{status:e,response:t}}),tfe=oi("northarrow",()=>{const e=X(""),t=X("");return{arrowIcon:e,poleIcon:t}}),ife=oi("overviewmap",()=>{const e=X({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=X({}),i=X(!0),r=X(1.5),s=X("#FF0000"),n=X(1),o=X("#000000"),a=X(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:i,expandFactor:r,borderColour:s,borderWidth:n,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),rfe=oi("scrollguard",()=>{const e=X(!1);function t(i){e.value=i}return{enabled:e,setEnabled:t}});var dr=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(dr||{});const sfe=oi("wizard",()=>{const e={id:"Placeholder",layerType:Le.UNKNOWN,url:""},t=X(),i=X(""),r=X(""),s=X(!0),n=X(null),o=X({config:e,configOptions:[]}),a=X(dr.UPLOAD);function l(c){switch(a.value){case dr.UPLOAD:c===dr.UPLOAD?i.value="":c===dr.FORMAT&&(a.value=dr.FORMAT);break;case dr.FORMAT:c===dr.UPLOAD?(n.value&&(i.value="",n.value=null),r.value="",a.value=dr.UPLOAD):c===dr.CONFIGURE&&(a.value=dr.CONFIGURE);break;case dr.CONFIGURE:c===dr.UPLOAD?(i.value="",r.value="",n.value=null,s.value=!0,o.value={config:e,configOptions:[]},a.value=dr.UPLOAD):c===dr.FORMAT&&(o.value={config:e,configOptions:[]},s.value=!0,a.value=dr.FORMAT);break}}return{layerSource:t,url:i,typeSelection:r,nested:s,fileData:n,layerInfo:o,currStep:a,goToStep:l}});class nfe{fixture;panel;event;geo;notify;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,i,r){this.event=new Fie(this);const s=ofe(t,this);this.$vApp=s.app,this.$element=s.element,this.$i18n=s.i18n,this.$rootEl=s.app.$root?.$el,this.fixture=new _de(this),this.panel=new wde(this),this.geo=new vde(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Joe(this),this._isFullscreen=Un.isEnabled&&!!this.$vApp.$root&&Un.isFullscreen&&Un.element===this.$vApp.$root.$el,Un.isEnabled&&Un.onchange(()=>{this._isFullscreen=Un.isEnabled&&!!this.$vApp.$root&&Un.isFullscreen&&Un.element===this.$vApp.$root.$el}),this.initialize(!0,i,r)}initialize(t,i,r){const s=es(this.$vApp.$pinia),n=Kc(this.$vApp.$pinia),o=s1(this.$vApp.$pinia);if(i?.configs!==void 0){const l=i.configs,c=l[this.$i18n.locale.value]??l[Object.keys(l)[0]];s.newConfig(c),s.registerConfig({config:c,configLangs:Object.keys(l),allLangs:Object.keys(this.$i18n.messages.value)});for(const v in l)s.registerConfig({config:l[v],configLangs:[v]});s.activeBasemapConfig=c.map.basemaps.find(v=>v.id===c.map.initialBasemapId);const f=setInterval(()=>{const v=this.$vApp.$el.querySelector("#esriMap");v&&(clearInterval(f),this.geo.map.createMap(c.map,v).then(()=>{if(v._tippy.hide(0),o.setMaptipInstance(v._tippy),c.layers&&c.layers.length>0){let _=0;c.layers.forEach(E=>{const S=this.geo.layer.createLayer(E);this.geo.map.addLayer(S,_).catch(()=>{}),S.mapLayer&&_++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const v=c.panels.open.map(_=>_.id);this.panel.isRegistered(v).then(()=>{c.panels?.open?.forEach(_=>{this.panel.open({id:_.id,screen:_.screen}),_.pin&&this.panel.pin(_.id)})})}n.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=v=>this.ui.suppressNumberLocalization?v.toString():this.$i18n.n(v,"number"),this.ui.escapeHtml=v=>{const _={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return v.replace(/[<>"']/g,E=>_[E])},this.ui.isPlainText=v=>typeof v=="string"?!this.containsValidHtml(v)&&!this.representsObject(v):!1}r||(r={});const a=Wu(this.$vApp.$pinia);r?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit($e.MAP_START)),t&&(r.loadDefaultFixtures!==!1||i?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(i?.startingFixtures):t||this.fixture.restore(),r.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reload(t,i){const r=Wu(this.$vApp.$pinia),s=po(this.$vApp.$pinia),n=es(this.$vApp.$pinia),o=Ls(this.$vApp.$pinia),a=so(this.$vApp.$pinia),l=ax(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),r.started=!1,this.geo.map.destroyMap(),a.$reset(),i?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),t===void 0&&(t=JSON.parse(JSON.stringify({startingFixtures:n.startingFixtures,configs:n.registeredConfigs}))),s.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,i)}component(t,i){if(i){const r=this.$element.component(t,i);return this.event.emit($e.COMPONENT,t),r}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=es(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return e1(this.$vApp.$pinia);case"areas-of-interest":return khe(this.$vApp.$pinia);case"details":return Uk(this.$vApp.$pinia);case"export":return Rhe(this.$vApp.$pinia);case"extentguard":return Dhe(this.$vApp.$pinia);case"geosearch":return Jhe(this.$vApp.$pinia);case"grid":return ax(this.$vApp.$pinia);case"help":return Zhe(this.$vApp.$pinia);case"legend":return Xhe(this.$vApp.$pinia);case"mapnav":return Qhe(this.$vApp.$pinia);case"metadata":return efe(this.$vApp.$pinia);case"northarrow":return tfe(this.$vApp.$pinia);case"overviewmap":return ife(this.$vApp.$pinia);case"scrollguard":return rfe(this.$vApp.$pinia);case"wizard":return sfe(this.$vApp.$pinia);case"config":return es(this.$vApp.$pinia);case"fixture":return Ls(this.$vApp.$pinia);case"instance":return Wu(this.$vApp.$pinia);case"layer":return so(this.$vApp.$pinia);case"map-caption":return nl(this.$vApp.$pinia);case"maptip":return s1(this.$vApp.$pinia);case"notification":return po(this.$vApp.$pinia);case"panel":return Kc(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const i=es(this.$vApp.$pinia),r=po(this.$vApp.$pinia),s=i.registeredLangs;Object.keys(i.registeredConfigs).length===1&&r.clearAll();const n=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();s[n]!==s[t]&&(this.event.emit($e.CONFIG_CHANGE,o),this.reload()),this.event.emit($e.LANG_CHANGE,{oldLang:n,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){Un.isEnabled&&Un.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Wu(this.$vApp.$pinia).started}updateAlert(t){const i=this.$vApp.$el.querySelector(".screen-reader-alert");i.childNodes.length>0&&(i.innerHTML="");const r=document.createElement("span");r.setAttribute("role","alert");const s=document.createTextNode(t);r.appendChild(s),i.insertBefore(r,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=Wu(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit($e.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function ofe(e,t){const i=Cie();i.use(({store:o})=>{const a=EO(o.$state);o.$reset=()=>o.$patch(EO(a))});const r=ene(),s=_l(Hce).use(r).use(Vce,{directive:"tippy",component:"tippy"}).use(i);s.directive("focus-container",tue),s.directive("focus-list",Zce),s.directive("focus-item",Xce),s.directive("truncate",Bue),s.component("panel-screen",Zue),s.component("pin",ehe),s.component("close",rhe),s.component("back",ohe),s.component("expand",hhe),s.component("panel-options-menu",xhe),s.component("dropdown-menu",BE),s.component("minimize",phe),s.component("right",ghe),s.component("left",_he),s.component("fullscreen-nav-button",The),s.component("geolocator-nav-button",Ahe),s.component("home-nav-button",Mhe),s.component("mapnav-button",$he),s.component("appbar-button",Lhe),s.component("transition",Ov),s.component("transition-group",$v),s.config.globalProperties.$iApi=t,s.config.globalProperties.$pinia=i,s.config.idPrefix=`ramp-${e.id||t.geo.shared.generateUUID()}`,s.provide("iApi",t);const n=s.mount(e);return{element:s,app:n,i18n:r.global}}class sT{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const i=new sT(t),r=t.layers.map(o=>{if(o.layerType===Le.TILE)return kt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===Le.MAPIMAGE)return kt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===Le.OSM)return kt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),n=(await Promise.allSettled(r)).filter(o=>o.status==="rejected"?(console.error(o.reason),i.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return i.esriBasemap=await kt.Basemap({baseLayers:n,title:t.name||"",id:t.id}),i}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class afe extends ki{esriMap;_basemapStore;created=!1;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Ni,this.handlers=[],this.pointZoomScale=5e4}noMapErr(){console.error("Attempted to manipulate the map before calling createMap()")}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,i){const r=l=>{this.$iApi.notify.show(bs.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},s=t.basemaps.map(l=>sT.create(l)),o=(await Promise.all(s)).filter(l=>(l.createErr&&r(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{Fs(()=>c.loadStatus,()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(r(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=Si(await kt.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=i,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,i){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,i)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Ni,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const i=this._basemapStore.find(r=>r.id===t);if(i)return i;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,i,r=!0,s=200,n="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ze.POINT&&(a.scale=i||this.pointZoomScale);const l={animate:r,duration:s,easing:n};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?Qt.fromESRI(this.esriView.extent):(this.noMapErr(),Qt.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Lp.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Be.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class lfe extends ki{maptipStore;constructor(t){super(t),this.maptipStore=s1(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const i=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!i){this.clear(),this.maptipStore.maptipInstance.disable();return}const r=this.$iApi.geo.layer.getLayer(i.layerId);if(r?.geomType!=Ze.POLYGON&&this.#e&&this.#e.layerId===i.layerId&&this.#e.oid===i.oid&&this.#e.layerIdx===i.layerIdx)return;if(this.clear(),this.#e=i,!r){console.error(`graphic hit test returned non-existent layer id: ${i.layerId}`);return}if(!r.hovertips)return;const s=await r.getIcon(i.oid),n=await r.getGraphic(i.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit($e.MAP_GRAPHICHIT,{layer:r,graphicHit:i,attributes:n.attributes,icon:s,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.attributes[t.layer.config.tooltipField||t.layer.nameField]}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class cfe extends ki{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const i=nl(this.$vApp.$pinia);if(i.coords.disabled=!1,i.scale.disabled=!1,i.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)i.coords.disabled=!0;else{const r=t.mapCoords.formatter;r!==void 0&&this.setPointFormatter(r)}if(t.scaleBar)if(t.scaleBar.disabled)i.scale.disabled=!0;else{const r=t.scaleBar.imperialScale;r!==void 0&&(i.toggleScale(r),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}i.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const i={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},r={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},s={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?s.logo.disabled=!0:(s.logo.altText=t.logo.altText||r.altText,s.logo.link=t.logo.link||r.link,s.logo.value=t.logo.value||r.value):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value),t.text?t.text.disabled?s.text.disabled=!0:s.text.value=t.text.value||i.value:s.text.value=i.value,nl(this.$vApp.$pinia).setAttribution(s)):(s.logo.altText=r.altText,s.logo.link=r.link,s.logo.value=r.value,s.text.value=i.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let n="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(f=>new Promise(d=>{let p=0;const y=o/a,v=setInterval(function(){f.loaded&&!f.loadError?(clearInterval(v),d(f)):p>y&&(clearInterval(v),d(null)),p++},a)})).toArray();Promise.all(c).then(f=>{n=f.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),s.text.value=n||s.text.value||i.value,nl(this.$vApp.$pinia).setAttribution(s)})}}}updateScale(){const t=nl(this.$vApp.$pinia),i=t.scale;if(i?.disabled)return;const r=i?.isImperialScale||!1,s=this.scaleHelper().find(n=>n.isImperialScale===r)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${s.pixels}px`,label:`${this.$iApi.$i18n.n(s.distance,"number")}${s.units}`,isImperialScale:r}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,i=this.$iApi.geo.map.getResolution(),r=[],s=i*t,n=1609.34,o=3.28084,a=s>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(r.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),s>1e3){const f=i*t/(c?n:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);r[l].distance=Math.ceil(f/p)*p,r[l].pixels=r[l].distance*(c?n:1e3)/i}else r[l].distance=Math.ceil(c?s*o:s),r[l].pixels=s/i}return r}wrapValue(t,i,r){return((t-i)%(r-i)+(r-i))%(r-i)+i}async formatLatLongDMS(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.floor(Math.abs((r-o)*60)),l=Math.floor((Math.abs(r)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(s))*(s<0?-1:1),f=Math.floor(Math.abs((s-c)*60)),d=Math.floor((Math.abs(s)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${n} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDDM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="°",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.abs((r-o)*60),l=Math.floor(Math.abs(s))*(s<0?-1:1),c=Math.abs((s-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${n} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${n} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatLatLongDD(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n="°",o=Math.abs(r),a=Math.abs(s);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${n} ${this.$iApi.$i18n.t("map.coordinates."+(0>s?"west":"east"))}`}async formatMercator(t){const i=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(i.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(i.y),"number")} m`}async formatLambert(t){const i=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(i.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>i.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(i.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(i.y>0?"north":"south"))}`}async formatUTM(t){const i=await this.$iApi.geo.proj.projectGeometry(4326,t),r=this.wrapValue(i.y,-90,90),s=this.wrapValue(i.x,-180,180),n=Math.ceil((s+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+n),t);return`${this.$iApi.$i18n.n(n,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const i=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(i.x,"number")} | ${this.$iApi.$i18n.n(i.y,"number")}`}}class ufe extends afe{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:1e4,load:1e4,fail:9e4};constructor(t){super(t),this.maptip=new lfe(t),this.caption=new cfe(t),this.mapMouseThrottle=0}async createMap(t,i){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,i),this.viewPromise.then(()=>{this.$iApi.event.emit($e.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit($e.MAP_DESTROYED)}async createMapView(t){const r=es(this.$vApp.$pinia).config.map;if(!r)throw new Error("Attempted to create map view without a map config");const s=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(r.initialBasemapId),n=r.tileSchemas.find(l=>l.id===s.tileSchemaId);if(!n)throw new Error(`Could not find tile schema for the given basemap id: ${s.id}`);const o=r.extentSets.find(l=>l.id===n.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${n.extentSetId}`);this._rampExtentSet=Lp.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=r.lodSets.find(l=>l.id===n.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${n.lodSetId}`);this.esriView=Si(await kt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:s.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:Fs(()=>this.esriView.extent,l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit($e.MAP_EXTENTCHANGE,c),this.$iApi.event.emit($e.FILTER_CHANGE,{extent:c,filterKey:Lr.EXTENT})}})}),this.handlers.push({type:"scale",handler:Fs(()=>this.esriView.scale,l=>{this.$iApi.event.emit($e.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit($e.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit($e.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit($e.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",t1(100,!0,l=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",t1(100,l=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit($e.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit($e.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit($e.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit($e.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit($e.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit($e.MAP_BLUR,l.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}):console.error("ESRI Map View is missing its container"),Fs(()=>this.esriView.fatalError,()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(s),n.recoveryBasemap?.basemapId){const l=n.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(n.id)},l)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const i=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=Ge(i.esriBasemap);const r=es(this.$vApp.$pinia);r.activeBasemapConfig=i.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const i=es(this.$vApp.$pinia),r=await this.findBasemap(t),n=i.activeBasemapConfig.tileSchemaId!==r.tileSchemaId;if(n){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Ni,this.created=!1,this.$iApi.event.emit($e.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(r),await this.viewPromise.then(()=>{this.$iApi.event.emit($e.MAP_REFRESH_END),this.$iApi.event.emit($e.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(r);const o=await kt.ColorBackground({color:new oa(r.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit($e.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:n})}return n}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const r=es(this.$vApp.$pinia).config.map;if(r){const s=r.tileSchemas.find(n=>n.id===t);if(s?.recoveryBasemap?.basemapId){const n=await this.findBasemap(s.recoveryBasemap.basemapId);await this.applyBasemap(n)}}}addLayer(t,i=void 0){return new Promise((r,s)=>{if(this.esriMap||(this.noMapErr(),s()),t.initiationState!==Xt.INITIATING&&t.initiationState!==Xt.INITIATED&&t.layerState!==hi.ERROR&&t.initiate(),t.mapLayer&&i===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)i=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(v=>v.id===c[p]);y&&!y.isCosmetic&&(i=p+1,d=!1)}d&&(i=0)}}so(this.$vApp.$pinia).addLayer(t,i),this.$iApi.event.emit($e.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===hi.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),s()):t.initiationState===Xt.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),r())},250)})}insertToEsriMap(t){let i=0;const r=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(r>0){const s=this.$iApi.geo.layer.layerOrderIds(),n=this.$iApi.geo.layer.allLayers();for(let o=r-1;o>-1;o--){const a=s[o],l=n.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){i=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}r>-1&&this.esriMap?.add(t.esriLayer,i)}reorder(t,i,r=!1){if(i<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const s=this.$iApi.geo.layer.allLayers();let n=this.$iApi.geo.layer.layerOrderIds();if(r){if(t.isCosmetic)return;if(i>0){const l=n.filter(c=>{const f=s.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});i>=l.length&&(console.error("non-cosmetic reorder index was too high"),i=l.length-1),i=n.indexOf(l[i])}}else i>=n.length&&(console.error("reorder index was too high"),i=n.length-1);const o=n.indexOf(t.id);if(o===i)return;if(so(this.$vApp.$pinia).reorderLayer(t,i),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(i>0){n=this.$iApi.geo.layer.layerOrderIds();for(let c=i-1;c>-1;c--){const f=n[c],d=s.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=i<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit($e.MAP_REORDER,{layer:t,newIndex:i})}removeSublayer(t){let i,r;if(typeof t=="string")i=t,r=this.$iApi.geo.layer.getLayer(i);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);i=t.uid,r=t}if(!r)throw new Error("Sublayer could not be found for removal.");r.visibility=!1,r.isRemoved=!0,this.$iApi.event.emit($e.LAYER_REMOVE,t),r.parentLayer?.sublayers.every(s=>s.isRemoved)&&this.removeLayer(r.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let i;if(t instanceof oT?i=t:i=this.$iApi.geo.layer.getLayer(t),!i)throw new Error("Layer could not be found for removal.");if(i.isSublayer){this.removeSublayer(i);return}i.supportsSublayers&&i.sublayers.forEach(s=>{s.isRemoved||this.removeSublayer(s)});const r=so(this.$vApp.$pinia);r.removeLayer(i),r.removeLayerConfig(i.id),i.removeEsriLayer(),i.initiationState===Xt.INITIATED&&i.terminate(),i.isRemoved=!0,this.$iApi.event.emit($e.LAYER_REMOVE,i)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const i=this.handlers.findIndex(r=>r.type==="pointer-move");if(i!==-1){const r=this.handlers[i];this.handlers.splice(i,1),r.handler.remove()}return i!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return Qa(this.mapMouseThrottle,t=>{this.$iApi.event.emit($e.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const i=t.isOffScale(this.getScale());if(!i.offScale)return;const r=this.esriView.constraints.lods;if(!r)return this.zoomMapTo(this.getExtent().center(),(i.zoomIn,t.minScale));const s=i.zoomIn?r:[...r].reverse(),n=s.find(o=>i.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||s[s.length-1];return this.zoomToLevel(n.level)}findClosestScale(t){const i=this.esriView?.constraints.lods;if(!i)return t;const r=i.map(n=>Math.abs(n.scale-t)),s=r.indexOf(Math.min(...r));return i[s].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?Dr.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new Dr("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const i=this.esriView.toScreen(t.toESRI());return{screenX:i.x,screenY:i.y}}else return this.noMapErr(),{screenX:1,screenY:1}}runIdentify(t){const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let r;if(t instanceof Dr){const c=this.mapPointToScreenPoint(t);r={mapPoint:t,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else r=t;if(i===void 0)return{click:r,results:[]};let s=Promise.resolve([]);i.some(c=>c.identifyMode===Bi.HYBRID||c.identifyMode===Bi.SYMBOLIC)&&(s=this.esriView.hitTest({x:r.screenX,y:r.screenY}).then(c=>c.results.map(f=>({layerId:f.layer.id,layerIdx:0,oid:f.graphic.getObjectId()}))));const n={geometry:r.mapPoint,hitTest:s},o=i.filter(c=>c.supportsIdentify).map(c=>(n.tolerance=r.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(n))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:r};return this.$iApi.event.emit($e.MAP_IDENTIFY,l),l}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const i=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Le.GRAPHIC);if(i.length===0)return;const r=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(r.results.length===0)return;const s=r.results;let n,o;const a=new Set;if(s.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=i.find(f=>f.id===l.layer.id);return c?(!c.isCosmetic&&c.layerType!==Le.GRAPHIC&&(n=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),n&&o)return{oid:o.getObjectId(),layerId:n.id,layerIdx:n.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const i=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(s=>i.includes(s))||this.keyPan()):i.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const i=["=","-"];this._activeKeys.includes(t.key)&&!i.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(r=>i.includes(r))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),i=this.mapPointToScreenPoint(t),r=this.screenPointToMapPoint({screenX:i.screenX+5,screenY:i.screenY+5}),s=Math.abs(r.x-t.x),n=Math.abs(r.y-t.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=s;break;case"ArrowRight":o+=s;break;case"ArrowUp":a+=n;break;case"ArrowDown":a-=n;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const hfe={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},ffe={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},dfe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},pfe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},mfe={circlePoint:hfe,solidLine:ffe,outlinedPoly:dfe,boundingBoxPoly:pfe};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var yfe=function(t,i){for(var r=0;r<t.length;r++)if(t[r]!==i[r])return!1;return!0},xI=function(t){return yfe(t[0],t[t.length-1])||t.push(t[0]),t},SI=function(t){var i=0,r=0,s=t.length,n=t[r],o;for(r;r<s-1;r++)o=t[r+1],i+=(o[0]-n[0])*(o[1]+n[1]),n=o;return i>=0},gfe=function(t){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return i},E9=function(t){var i=[],r=t.slice(0),s=xI(r.shift().slice(0));if(s.length>=4){SI(s)||s.reverse(),i.push(s);for(var n=0;n<r.length;n++){var o=xI(r[n].slice(0));o.length>=4&&(SI(o)&&o.reverse(),i.push(o))}}return i},vfe=function(t){for(var i=[],r=0;r<t.length;r++)for(var s=E9(t[r]),n=s.length-1;n>=0;n--){var o=s[n].slice(0);i.push(o)}return i},bfe=function e(t,i){i=i||"OBJECTID";var r={wkid:4326},s={},n;switch(t.type){case"Point":s.x=t.coordinates[0],s.y=t.coordinates[1],t.coordinates[2]!=null&&(s.z=t.coordinates[2]),s.spatialReference=r;break;case"MultiPoint":s.points=t.coordinates.slice(0),t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"LineString":s.paths=[t.coordinates.slice(0)],t.coordinates[0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiLineString":s.paths=t.coordinates.slice(0),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Polygon":s.rings=E9(t.coordinates.slice(0)),t.coordinates[0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"MultiPolygon":s.rings=vfe(t.coordinates.slice(0)),t.coordinates[0][0][0][2]!=null&&(s.hasZ=!0),s.spatialReference=r;break;case"Feature":t.geometry&&(s.geometry=e(t.geometry,i)),s.attributes=t.properties?gfe(t.properties):{},t.id&&(s.attributes[i]=t.id);break;case"FeatureCollection":for(s=[],n=0;n<t.features.length;n++)s.push(e(t.features[n],i));break;case"GeometryCollection":for(s=[],n=0;n<t.geometries.length;n++)s.push(e(t.geometries[n],i));break}return s};function T9(e){return new Function("d","return {"+e.map(function(t,i){return JSON.stringify(t)+": d["+i+"]"}).join(",")+"}")}function _fe(e,t){var i=T9(e);return function(r,s){return t(i(r),s,e)}}function wfe(e){var t=Object.create(null),i=[];return e.forEach(function(r){for(var s in r)s in t||i.push(t[s]=s)}),i}function nT(e){var t=new RegExp('["'+e+`
]`),i=e.charCodeAt(0);function r(c,f){var d,p,y=s(c,function(v,_){if(d)return d(v,_-1);p=v,d=f?_fe(v,f):T9(v)});return y.columns=p,y}function s(c,f){var d={},p={},y=[],v=c.length,_=0,E=0,S,A;function w(){if(_>=v)return p;if(A)return A=!1,d;var M=_,O;if(c.charCodeAt(M)===34){for(var C=M;C++<v;)if(c.charCodeAt(C)===34){if(c.charCodeAt(C+1)!==34)break;++C}return _=C+2,O=c.charCodeAt(C+1),O===13?(A=!0,c.charCodeAt(C+2)===10&&++_):O===10&&(A=!0),c.slice(M+1,C).replace(/""/g,'"')}for(;_<v;){var P=1;if(O=c.charCodeAt(_++),O===10)A=!0;else if(O===13)A=!0,c.charCodeAt(_)===10&&(++_,++P);else if(O!==i)continue;return c.slice(M,_-P)}return c.slice(M)}for(;(S=w())!==p;){for(var b=[];S!==d&&S!==p;)b.push(S),S=w();f&&(b=f(b,E++))==null||y.push(b)}return y}function n(c,f){return f==null&&(f=wfe(c)),[f.map(l).join(e)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:r,parseRows:s,format:n,formatRows:o}}var Kv=nT(","),xfe=Kv.parse,Sfe=Kv.parseRows,Efe=Kv.format,Tfe=Kv.formatRows,Xv=nT("	"),Afe=Xv.parse,Mfe=Xv.parseRows,Ofe=Xv.format,Ife=Xv.formatRows;const $fe=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:Efe,csvFormatRows:Tfe,csvParse:xfe,csvParseRows:Sfe,dsvFormat:nT,tsvFormat:Ofe,tsvFormatRows:Ife,tsvParse:Afe,tsvParseRows:Mfe},Symbol.toStringTag,{value:"Module"})),Cfe=tH($fe);var Zl={exports:{}},EI;function Nfe(){if(EI)return Zl.exports;EI=1,Zl.exports=e,Zl.exports.pair=n,Zl.exports.format=i,Zl.exports.formatPair=t,Zl.exports.coordToDMS=r;function e(a,l){var c=s(a,l);return c===null?null:c.val}function t(a){return i(a.lat,"lat")+" "+i(a.lon,"lon")}function i(a,l){var c=r(a,l);return c.whole+"° "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function r(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,v=y*60,_=Math.floor(v),E=Math.floor((v-_)*60);return{whole:p,minutes:_,seconds:E,dir:f}}function s(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,v=f[3]?parseFloat(f[3])/60:0,_=f[4]?parseFloat(f[4])/3600:0,E=y<0?-1:1;return(p==="S"||p==="W")&&(E*=-1),{val:(Math.abs(y)+v+_)*E,dim:p,matched:d,remain:a.slice(d.length)}}function n(a,l){a=a.trim();var c=s(a,l);if(!c)return null;a=c.remain.trim();var f=s(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Zl.exports}var b_,TI;function Pfe(){if(TI)return b_;TI=1;var e=Cfe,t=Nfe(),i=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function s(E,S){var A,w,b;for(var M in E)w=M.match(S),w&&(!A||w[0].length/M.length>b)&&(b=w[0].length/M.length,A=M);return A}function n(E){return s(E,i)}function o(E){return s(E,r)}function a(E){return!!E.match(i)}function l(E){return!!E.match(r)}function c(E){return typeof E=="object"?Object.keys(E).length:0}function f(E){var S=[",",";","	","|"],A=[];return S.forEach(function(w){var b=e.dsvFormat(w).parse(E);if(b.length>=1){for(var M=c(b[0]),O=0;O<b.length;O++)if(c(b[O])!==M)return;A.push({delimiter:w,arity:Object.keys(b[0]).length})}}),A.length?A.sort(function(w,b){return b.arity-w.arity})[0].delimiter:null}function d(E){return delete E.columns,E}function p(E){var S=f(E);return S?d(e.dsvFormat(S).parse(E)):null}function y(E,S,A){A||(A=S,S={}),S.delimiter=S.delimiter||",";var w=S.latfield||"",b=S.lonfield||"",M=S.crs||"",O=[],C={type:"FeatureCollection",features:O};if(M!==""&&(C.crs={type:"name",properties:{name:M}}),S.delimiter==="auto"&&typeof E=="string"&&(S.delimiter=f(E),!S.delimiter)){A({type:"Error",message:"Could not autodetect delimiter"});return}var P=S.numericFields?S.numericFields.split(","):null,N=typeof E=="string"?e.dsvFormat(S.delimiter).parse(E,function($){if(P)for(var V in $)P.includes(V)&&($[V]=+$[V]);return $}):E;if(!N.length){A(null,C);return}var U=[],j;w||(w=n(N[0])),b||(b=o(N[0]));var F=!w||!b;if(F){for(j=0;j<N.length;j++)O.push({type:"Feature",properties:N[j],geometry:null});A(U.length?U:null,C);return}for(j=0;j<N.length;j++)if(N[j][b]!==void 0&&N[j][w]!==void 0){var q=N[j][b],te=N[j][w],h,m,x;x=t(q,"EW"),x&&(q=x),x=t(te,"NS"),x&&(te=x),h=parseFloat(q),m=parseFloat(te),isNaN(h)||isNaN(m)?U.push({message:"A row contained an invalid value for latitude or longitude",row:N[j],index:j}):(S.includeLatLon||(delete N[j][b],delete N[j][w]),O.push({type:"Feature",properties:N[j],geometry:{type:"Point",coordinates:[parseFloat(h),parseFloat(m)]}}))}A(U.length?U:null,C)}function v(E){for(var S=E.features,A={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<S.length;w++)A.geometry.coordinates.push(S[w].geometry.coordinates);return A.properties=S.reduce(function(b,M){for(var O in M.properties)b[O]||(b[O]=[]),b[O].push(M.properties[O]);return b},{}),{type:"FeatureCollection",features:[A]}}function _(E){for(var S=E.features,A={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<S.length;w++)A.geometry.coordinates[0].push(S[w].geometry.coordinates);return A.properties=S.reduce(function(b,M){for(var O in M.properties)b[O]||(b[O]=[]),b[O].push(M.properties[O]);return b},{}),{type:"FeatureCollection",features:[A]}}return b_={isLon:l,isLat:a,guessLatHeader:n,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:v,toPolygon:_},b_}var __=Pfe();const Lfe={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function kfe(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,i=!0;for(let r=0;r<e.features.length;r++){const s=e.features[r];Object.assign(s.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in s&&typeof s.id<"u"&&(s.properties.ID_FILE=s.id,t=!1),"OBJECTID"in s.properties&&(s.properties.OBJECTID_FILE=s.properties.OBJECTID,delete s.properties.OBJECTID,i=!1),s.id=r+1}if(t)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.ID_FILE;if(i)for(let r=0;r<e.features.length;r++)delete e.features[r].properties.OBJECTID_FILE}function Rfe(e,t){const i=r=>r.indexOf(" ")>-1;t.fields?.forEach(r=>{if(r.name&&i(r.name)){const s=r.name;let n,o="_",a;do n=s.replace(/ /g,o),a=t.fields?.find(l=>l.name===n),a&&(o+="_");while(a);r.alias=s,r.name=n;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[n]=c.properties[s],delete c.properties[s]}}})}function Dfe(e,t){const i=e.features[t].geometry.geometries;if(i.length===1)e.features[t].geometry={type:i[0].type,coordinates:i[0].coordinates};else{const r=i.map(s=>s.coordinates);e.features[t].geometry={type:`Multi${i[0].type}`,coordinates:r}}}function Ffe(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class Ufe extends ki{async fetchFileData(t,i){const r=await Jv.get(t,{responseType:"arrayBuffer"});switch(i){case Le.GEOJSON:case Le.DATAJSON:return JSON.parse(this.arbToStr(r.data));case Le.SHAPEFILE:case Le.GEOJSONZIPPED:case Le.FLATGEOBUF:case Le.FLATGEOBUFZIPPED:return r.data;case Le.CSV:case Le.DATACSV:return this.arbToStr(r.data);default:console.error(`Unsupported file type passed to fetchFileData- '${i}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let i="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");Dfe(t,o)}const c=Ffe(a.geometry.type);if(i==="")i=c;else if(i!==c)throw new Error("GeoJSON file contains multiple geometry types")}const r=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let s=0;const n=Object.keys(t.features[0].properties);for(;s<t.features.length;){const o=t.features[s];if(o.properties&&Object.keys(o.properties).filter(a=>n.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=r.findIndex(f=>f.name===a);r[c]={name:a,type:this.inferType(l)},n.splice(n.indexOf(a),1)}}),n.length===0)break;s++}return r}extractCsvFields(t,i=","){return __.dsv.dsvFormat(i).parseRows(t)[0].map(s=>({name:s,type:Ho.STRING}))}filterCsvLatLonFields(t,i=","){const r=__.dsv.dsvFormat(i).parseRows(t),s=r[0],n={lat:JSON.parse(JSON.stringify(s)),lon:JSON.parse(JSON.stringify(s))};for(let o=0;o<s.length;o++)for(let a=1;a<r.length;a++){const l=Number(r[a][o]),c=n.lat.indexOf(s[o]),f=n.lon.indexOf(s[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&n.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&n.lon.splice(f,1),c===-1&&f===-1)break}return n}async geoJsonToEsriJson(t,i){let r,s="",n;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Ho.OID}]};kfe(t);const a=t.features[0].geometry.type,l=Lfe[a],c=JSON.parse(JSON.stringify(mfe[l]));if(i){if(i.sourceProjection&&(s=this.$iApi.geo.proj.normalizeProj(i.sourceProjection)),i.targetSR)r=i.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");i.layerId?n=i.layerId:n=this.$iApi.geo.shared.generateUUID(),i.colour&&(c.renderer.symbol.color=new oa(i.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");s||(s=Be.parseGeoJsonCrs(t.crs)),o.renderer=await kt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(i.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(_=>i.fieldMetadata?.fieldInfo?.find(E=>E.name===_.name)):this.extractGeoJsonFields(t)),i.fieldMetadata?.enforceOrder&&i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,i.fieldMetadata?.fieldInfo)),Rfe(t,o);const f=this.$iApi.geo.proj.normalizeProj(r);if(i){if(i.latField){const _=o.fields.find(E=>E.name===i.latField||E.alias===i.latField);_&&(_.type=Ho.DOUBLE)}if(i.lonField){const _=o.fields.find(E=>E.name===i.lonField||E.alias===i.lonField);_&&(_.type=Ho.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([s,r]);const d=Be.parseSR(r).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,s,f);const p=bfe(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(_=>_.name);for(let _=0;_<p.length;_++){const E=p[_];E.geometry.spatialReference=d,E.geometry.type=o.geometryType,Object.keys(E.attributes).forEach(S=>{y.includes(S)?(Array.isArray(E.attributes[S])||typeof E.attributes[S]=="object")&&E.attributes[S]!=null&&(E.attributes[S]=JSON.stringify(E.attributes[S])):delete E.attributes[S]})}return(i.fieldMetadata?.fieldInfo&&i.fieldMetadata?.fieldInfo.length>0?i.fieldMetadata.fieldInfo.filter(_=>_.trim&&y.includes(_.name)).map(_=>_.name):[]).forEach(_=>{for(let E=0;E<p.length;E++){const S=p[E].attributes;typeof S[_]=="string"&&(S[_]=S[_].trim())}}),o.source=p,o.spatialReference=d,o.id=n,o}async csvToGeoJson(t,i){const r={latfield:"Lat",lonfield:"Long",delimiter:","};return i&&(i.latfield&&(r.latfield=i.latfield),i.lonfield&&(r.lonfield=i.lonfield),i.delimiter&&(r.delimiter=i.delimiter)),new Promise((s,n)=>{__.csv2geojson(t,r,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),n(o)):(a.features.map(l=>{l.properties[r.lonfield]=l.geometry.coordinates[0],l.properties[r.latfield]=l.geometry.coordinates[1]}),s(a))})})}async shapefileToGeoJson(t){return(await Se(()=>import("./shp.min-BcJd8cCa.js").then(r=>r.s),__vite__mapDeps([203,204]),import.meta.url)).default(t)}fgbToGeoJson(t,i){return Se(async()=>{const{geojson:s}=await import("./flatgeobuf-Xmj1HQyn.js");return{geojson:s}},[],import.meta.url).then(({geojson:s})=>new Promise(n=>{let o=!1,a=null;const l=s.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Be(a.code):a.wkt?d=new Be(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),n(l)}else c+=60,c>i&&(clearInterval(f),n({}))},60)}))}inferType(t){return typeof t=="number"?Ho.DOUBLE:Ho.STRING}rawDataJsonParser(t,i=!1){let r;return typeof t=="string"?r=JSON.parse(t):i?r=structuredClone(t):r=t,r}async unzipSingleFile(t){const i=await Se(()=>import("./jszip.min-B3lO2u9E.js").then(o=>o.j),__vite__mapDeps([205,204]),import.meta.url),s=await new i.default().loadAsync(t),n=Object.keys(s.files)[0];if(n&&s.file(n))return await s.file(n).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const jfe=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function Qc(e,t){return e.then(function(i){return[null,i]}).catch(function(i){return[i,void 0]})}class Bfe extends ki{async loadWfsData(t,i=-1,r=0,s=1e3,n={type:"FeatureCollection",features:[]},o=!1){let a={offset:r.toString(),limit:s.toString()};i===-1&&(a={resulttype:"hits"});const c=new Sg(t).updateQuery(a),[f,d]=await Qc(Jv.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,f),Promise.reject(f);const p=d.data;if(i===-1)return i=d.data.numberMatched,this.loadWfsData(t,i,r,s,n,o);if(n.features=n.features.concat(p.features),p.features.length<i-r){const y=Math.min(s,i-r-p.features.length);return this.loadWfsData(c,i,p.features.length+r,y,n,o)}else return o&&n.features.length>0&&n.features[0].geometry.type===ci.POINT&&n.features.forEach(y=>{const v=y.geometry.coordinates;y.properties.rvInternalCoordX=v[0],y.properties.rvInternalCoordY=v[1]}),n}reversedAxisWKIDs(){return jfe}parseCapabilities(t){const i=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new Sg(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Ci(o,{responseType:"xml"}).then(a=>a.data)},r=new Promise(o=>{i().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(i())})}),s=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(v=>{const _=v.Name;if(p.push(_),v.LegendURL){const S=v.LegendURL.OnlineResource["@_xlink:href"];y[_]=S.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:s(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},n=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return Se(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>r.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:s(d),queryTypes:n(d.Request.GetFeatureInfo)}}))}}class lm{static makeRawItem(t,i){const r=Promise.resolve();return tr({format:t,data:i,started:!0,loaded:!0,loading:r,load(){return r}})}static makeOidItem(t,i){const r=new Ni,s={format:ch.ESRI,data:void 0,started:!1,loaded:!1,loading:r.getPromise(),async load(){if(!this.started){this.started=!0;const n=await i.getGraphic(t,{getAttribs:!0});this.data=n.attributes,this.loaded=!0,r.resolveMe()}return r.getPromise()}};return tr(s)}}class Vfe extends ki{files;ogc;constructor(t){super(t),this.files=new Ufe(t),this.ogc=new Bfe(t)}createLayer(t){let i;switch(t.layerType){case Le.FEATURE:i=Kfe;break;case Le.MAPIMAGE:i=Xfe;break;case Le.GRAPHIC:i=zfe;break;case Le.TILE:i=ide;break;case Le.WFS:i=sde;break;case Le.DATATABLE:i=ode;break;case Le.WMS:i=rde;break;case Le.GEOJSON:i=qfe;break;case Le.GEOJSONZIPPED:i=Yfe;break;case Le.FLATGEOBUFZIPPED:i=Zfe;break;case Le.CSV:i=Hfe;break;case Le.DATAJSON:i=nde;break;case Le.IMAGERY:i=tde;break;case Le.SHAPEFILE:i=Wfe;break;case Le.FLATGEOBUF:i=Jfe;break;case Le.OSM:i=ede;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new i(t,this.$iApi)}getLayer(t){return so(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,i){const r=so(this.$vApp.$pinia).getLayerById(t);if(r&&r.supportsSublayers&&i<r.sublayers.length)return r.sublayers[i]}getLayerPosition(t){const i=this.getLayer(t);if(i&&i.mapLayer){const r=i.isSublayer?i.parentLayer.id:i.id,s=this.layerOrderIds().findIndex(n=>n===r);return s===-1?void 0:s}else return}layerOrderIds(){return so(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return so(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==hi.ERROR&&t.initiationState===Xt.INITIATED)}allLayersOnMap(t=!0){const i=this.allLayers().filter(r=>r.mapLayer&&r.initiationState===Xt.INITIATED);if(t){const r=this.layerOrderIds(),s=new Map(r.map((n,o)=>[n,o]));i.sort((n,o)=>s.get(n.id)-s.get(o.id))}return i}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===Xt.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===hi.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===Xt.INITIATING)}getLayerControls(t){const i=this.getLayer(t);if(!i)return;const r=i.config.controls?.slice()??[yi.BoundaryZoom,yi.Datatable,yi.Identify,yi.Metadata,yi.Opacity,yi.Refresh,yi.Reload,yi.Remove,yi.Settings,yi.Symbology,yi.Visibility],s=[];return i.supportsFeatures||s.push(yi.Datatable),i.extent===void 0&&s.push(yi.BoundaryZoom),(i.config?.metadata||(i.isSublayer?i.parentLayer?.config?.metadata:{})||{}).url||s.push(yi.Metadata),!i.mapLayer&&!i.config.controls?.includes(yi.Settings)&&s.push(yi.Settings),s.forEach(o=>{const a=r?.indexOf(o)??-1;a!==-1&&r?.splice(a,1)}),{controls:r,disabledControls:i.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[i,r]=await Qc(Ci(t,{query:{f:"json"}}));if(!r)throw console.error(`Service metadata load error: ${t}`,i),new Error(`Service metadata load error: ${t}`);if(!r.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const s=r.data,n={geometryType:Ze.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:nr.UNKNOWN,mapLayer:!0};if(n.name=s.name||"",n.currentVersion=s.currentVersion||-1,n.minScale=s.effectiveMinScale||s.minScale||0,n.maxScale=s.effectiveMaxScale||s.maxScale||0,n.extent=s.extent?Qt.fromArcServer(s.extent,"layer_extent"):void 0,n.defaultVisibility=s.defaultVisibility??!0,n.canModifyLayer=s.canModifyLayer??!0,s.type==="Feature Layer"||s.type==="Table"){if(n.dataFormat=nr.ESRI_FEATURE,n.displayField=s.displayField||"",Array.isArray(s.fields)){const o=await Promise.all(s.fields.map(l=>kt.FieldFromJson(l)));n.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(n.objectIdField=l.name,!1):!0)&&(n.objectIdField=s.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),s.type==="Feature Layer"?(n.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(s.geometryType),s.drawingInfo?.renderer&&(n.renderer=await kt.RendererFromJson(s.drawingInfo.renderer)),s.sourceSpatialReference&&(n.sourceSR=Be.fromConfig(s.sourceSpatialReference))):n.mapLayer=!1}}else n.dataFormat=nr.ESRI_RASTER;return n}async loadFeatureCount(t,i=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const r={query:{f:"json",where:i||"1=1",returnCountOnly:!0,returnGeometry:!1}},[s,n]=await Qc(Ci(`${t}/query`,r));return n?n.data?Number.isInteger(n.data.count)?n.data.count:(console.error(`Funny result (${n.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,s),0)}}class oT extends ki{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,i){super(i),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=hi.NEW,this.drawState=Kr.NOT_LOADED,this.initiationState=Xt.NEW,this.layerIdx=-1,this.layerFormat=xs.UNKNOWN,this.layerType=Le.UNKNOWN,this.dataFormat=nr.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Bi.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ze.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new xg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Be.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new zN}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return Promise.resolve(new Sn(new El))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,i){}applySqlFilter(t=[]){}getFilterOIDs(t=[],i=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(Qt.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,i=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const i=this._sublayers.findIndex(r=>r?.uid===t);if(i===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return i}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let i;if(typeof t=="string"?i=this.uidToIdx(t):i=t,this._sublayers[i]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[i]}controlAvailable(t){const i=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,i)}}class A9 extends oT{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;constructor(t,i){super(t,i),this.name=t.name||"",this.geomType=Ze.NONE,this.dataFormat=nr.UNKNOWN,this.layerType=Le.UNKNOWN,this.layerFormat=xs.UNKNOWN;const r=i.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??r.draw,this.expectedTime.load=t.expectedLoadTime??r.load,this.expectedTime.fail=t.maxLoadTime||r.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Bi.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=hi.NEW,this.initiationState=Xt.NEW,this.drawState=Kr.NOT_LOADED,this.loadDefProm=new Ni,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.layerTree=new xg(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit($e.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,i=!1){this.layerState=t,this.$iApi.event.emit($e.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:i})}updateDrawState(t){this.drawState=t,t===Kr.REFRESH?this.startTimer("draw"):t===Kr.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit($e.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(Xt.INITIATING),this.startTimer("load");const t=n=>{this.layerState!==hi.ERROR&&(console.error(n),this.onError())},i=Date.now(),r=setTimeout(()=>{i>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[s]=await Qc(this.onInitiate());clearTimeout(r),i>this.lastCancel&&(this.drawState!==Kr.UP_TO_DATE&&this.startTimer("draw"),s?t(`Init error on layer id: ${this.id} . ${s.message}`):this.updateInitiationState(Xt.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Xt.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Xt.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new Ni,this.loadPromDone=!1,this.updateLayerState(hi.NEW),this.updateDrawState(Kr.NOT_LOADED),this.updateInitiationState(Xt.TERMINATED)}onLoad(){const t=Date.now();let i=!1;const r=setTimeout(()=>{i=!0,this.onError()},this.expectedTime.fail);try{const s=this.onLoadActions();Promise.all(s).then(()=>{clearTimeout(r),i?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Ni),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onLoad()),this.updateLayerState(hi.LOADED)))}).catch(()=>{clearTimeout(r),this.onError()})}catch(s){console.error("Encountered error on layer load: ",s),clearTimeout(r),this.onError()}}onError(t=!0){this.layerState!==hi.ERROR&&(this.initiationState===Xt.INITIATING&&this.updateInitiationState(Xt.NEW),this.loadPromDone&&(this.loadDefProm=new Ni),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(i=>i.onError(t)),t&&this.$iApi.notify.show(bs.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(hi.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Xt.NEW||this.initiationState===Xt.TERMINATING||this.initiationState===Xt.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===hi.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,i){return this.stubError(),Promise.resolve(new Sn(new El))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,i){this.stubError()}getFilterOIDs(t=[],i=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(Qt.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,i,r=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(bs.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}}class pu extends A9{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,i){super(t,i),this._scaleSet=new zN,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?Qt.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new Ni,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(Fs(()=>this.esriLayer.visible,t=>{this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(Fs(()=>this.esriLayer.opacity,t=>{this.$iApi.event.emit($e.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(Fs(()=>this.esriLayer.loadStatus,t=>{const i={"not-loaded":hi.LOADING,loading:hi.LOADING,loaded:hi.LOADED,failed:hi.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(i[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=t.layerView,this.esriWatches.push(Fs(()=>t.layerView.updating,i=>{this.updateDrawState(i?Kr.REFRESH:Kr.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Ni,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit($e.LAYER_RELOAD_START,this),this.sublayers.forEach(i=>this.$iApi.event.emit($e.LAYER_RELOAD_START,i)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit($e.LAYER_RELOAD_END,this),this.sublayers.forEach(i=>this.$iApi.event.emit($e.LAYER_RELOAD_END,i))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(i=>i.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const i=this.$iApi.geo.proj.checkProj(this.getSR()).then(r=>r?Promise.resolve():Promise.reject());return t.push(i),t}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let i;if(typeof t>"u")if(this.mapCheck())i=this.$iApi.geo.map.getScale();else return!1;else i=t;return this.scaleSet.isOffScale(i).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===Xt.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Be.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Be.latLongSR())}}class aT extends pu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.geomType=Ze.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new qN(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new O9}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const i=Date.now(),r=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(i<this.lastCancel))if(this.geomType=r.geometryType,this.attribs.quickCache=new $9(this.geomType),this.scaleSet.minScale=r.minScale,this.scaleSet.maxScale=r.maxScale,this.dataFormat=r.dataFormat,this.extent=this.extent??r.extent,this._serverVisibility=r.defaultVisibility,this.origRampConfig.name||(this.name=r.name??this.id),this.dataFormat===nr.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Le.SUBLAYER?r.canModifyLayer:!0,this.fields=r.fields,this.nameField=r.displayField,this.oidField=r.objectIdField,this.sourceSR=r.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const s=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:r.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(s,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const n={supportsLimit:(r.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Lr.PERMANENT)};this.attribs.attLoader=new I9(this.$iApi,n)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={},s=new El;const n=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(i.getAttribs||i.getStyle){const f=this.attribs.quickCache.getAttribs(t);if(f)r=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();r=d.features[d.oidIndex[t]]}else o=!0}if(i.getGeom){l=n.getScale();const f=this.attribs.quickCache.getGeom(t,l);f?s=f:a=!0}if(o||a){const f={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=n.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=n.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),s=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(r=d.attributes))}const c=new Sn(s,"",i.getAttribs?r:void 0);if(i.getStyle){const f=Ge(this.renderer.getGraphicSymbol(r));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const i=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(i.attributes||{},this.renderer)}setSqlFilter(t,i){const r=this.filter.getSql(t);if(i===r)return;this.filter.setSql(t,i),this.$iApi.event.emit($e.FILTER_CHANGE,{uid:this.uid,filterKey:t});const s=`${this.uid}-${t}-${i}`;this._lastFilterUpdate=s,setTimeout(()=>{this._lastFilterUpdate===s&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],i=void 0){const r=this.filter.getCombinedSql(t),s=!!i;if(!(r||s))return;i&&this.filter.setExtent(i);const n=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(n,s);if(!o){const a={filterGeometry:i,filterSql:r,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,n,s)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){const i=await this.queryOIDs(t),r={getGeom:!!t.includeGeometry,getAttribs:!0};return i.map(s=>({oid:s,graphic:this.getGraphic(s,r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}configDrawOrder(t,i){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(i.orderBy=t.drawOrder.map(r=>{const s=r.ascending??!0?"ascending":"descending";return r.field?{field:r.field,order:s}:{valueExpression:r.arcade,order:s}}),this._drawOrder=t.drawOrder.slice())}}class Gfe extends pu{constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=xs.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(i=>i.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(i=>i.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let i;t instanceof Array?i=t:i=[t];const r=i.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),s=this.$iApi.geo.map.getSR(),n=r.map(l=>this.$iApi.geo.proj.projectGeometry(s,l.geometry)),o=await Promise.all(n),a=r.map((l,c)=>{const f=new Sn(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let i;Array.isArray(t)?i=t:i=[t],i.map(s=>typeof s=="string"?s:s.id).forEach(s=>{const n=this.esriLayer.graphics.findIndex(a=>a.id===s);n>-1&&this.esriLayer.graphics.removeAt(n);const o=this._graphics.findIndex(a=>a.id===s);o>-1&&this._graphics.splice(o,1)})}}class zfe extends Gfe{constructor(t,i){super(t,i),this.layerType=Le.GRAPHIC}async onInitiate(){this.esriLayer=Si(await kt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(Kr.UP_TO_DATE),t}}class mu extends aT{esriJson;sourceGeoJson;tooltipField;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=xs.FEATURE,this.tooltipField="",this.layerIdx=0,t.identifyMode&&t.identifyMode!==Bi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Bi.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=Si(await kt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(n=>{i[n]=this.esriJson[n]}),this.origRampConfig.nameField?i.displayField=this.$iApi.geo.attributes.fieldValidator(i.fields,this.origRampConfig.nameField)||r:i.displayField=r,i.outFields=["*"],delete i.url,this.configDrawOrder(t,i),i}onLoadActions(){const t=super.onLoadActions(),i=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await kt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.origRampConfig.tooltipField?this.tooltipField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField)||this.nameField:this.tooltipField=this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.featureCount=this.esriLayer?.source.length||0};return t.push(i()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const i=new Ni,r=tr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[],a=[];if(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),n=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.SYMBOLIC)&&(s=n.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([s,n]).then(()=>{o.forEach(l=>{r.items.push(lm.makeRawItem(ch.ESRI,l.attributes))}),a.forEach(l=>{r.items.push(lm.makeOidItem(l,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??Qt.fromESRI(t.fullExtent,this.id+"_extent");const i=Si(t.fields.slice());this.fields=i.map(s=>({name:s.name,alias:s.alias,type:s.type,length:s.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new lde(this.$iApi,r)}async getGraphic(t,i){let r;if(!i.getGeom&&this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=new Sn(new El,"",s.features[s.oidIndex[t]])}else{const s={filterOIDs:[t],includeGeometry:!!i.getGeom},n=await this.queryFeatures(s);if(n.length===0)throw new Error(`Could not find object id ${t}`);n.length!==1&&console.warn("did not get a single result on a query for a specific object id"),r=n[0]}if(i.getStyle){const s=Ge(this.renderer.getGraphicSymbol(r.attributes));r.style=this.$iApi.geo.geom.styleEsriToRamp(s)}return r}async queryFeatures(t){const i={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(i)}async queryOIDs(t){const i={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(i)).map(s=>s.attributes?s.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const i=this.filter.getCombinedSql(t);kt.FeatureFilter({where:i}).then(r=>{Ge(this.esriView).filter=r})}}class qfe extends mu{constructor(t,i){super(t,i),this.layerType=Le.GEOJSON}async onInitiate(){let t;const i=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");i>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class Wfe extends mu{constructor(t,i){super(t,i),this.layerType=Le.SHAPEFILE}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.shapefileToGeoJson(i);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class Hfe extends mu{constructor(t,i){super(t,i),this.layerType=Le.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const i=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(i>this.lastCancel){const r=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});i>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class Yfe extends mu{constructor(t,i){super(t,i),this.layerType=Le.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(r)),await super.onInitiate())}}}class Jfe extends mu{constructor(t,i){super(t,i),this.layerType=Le.FLATGEOBUF}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class Zfe extends mu{constructor(t,i){super(t,i),this.layerType=Le.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),i=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(i);if(t>this.lastCancel){const s=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}}}class Kfe extends aT{tooltipField;constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.tooltipField="",this.supportsIdentify=!0,this.layerType=Le.FEATURE,this.layerFormat=xs.FEATURE,t.identifyMode&&t.identifyMode!==Bi.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Bi.HYBRID}async onInitiate(){Si(this.esriLayer=await kt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(i.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,i),i}onLoadActions(){const t=Date.now(),i=super.onLoadActions(),r=this.esriLayer.parsedUrl.path,n=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=n,this.serviceUrl=r;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await kt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.nameField=this.origRampConfig.nameField||this.nameField||"",this.tooltipField=this.origRampConfig.tooltipField||this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Lr.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=n,i.push(a,o()),i}runIdentify(t){if(!this.canIdentify())return[];const i=new Ni,r=tr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let s=Promise.resolve(),n=Promise.resolve(),o=[];if(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),n=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Bi.HYBRID||this.identifyMode===Bi.SYMBOLIC)&&(s=n.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([s,n]).then(()=>{o.forEach(a=>{r.items.push(lm.makeOidItem(a,this))}),r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}applySqlFilter(t=[]){if(this.layerExists){const i=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=i}else this.noLayerErr()}getGraphicExtent(t){return new Promise((i,r)=>{if(!this.layerExists)this.noLayerErr(),r();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),r();else{const s=this.attribs.quickCache.getExtent(t);s?i(s):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(n=>{const o=Qt.fromESRI(n.extent);this.attribs.quickCache.setExtent(t,o),i(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),r()})}})}}class Xfe extends pu{isDynamic;origState;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Le.MAPIMAGE,this.layerFormat=xs.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Bi.GEOMETRIC}async onInitiate(){this.esriLayer=Si(await kt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t);return this.origState={visibility:i.visible,opacity:i.opacity},i.visible=!1,t.imageFormat&&(i.imageFormat=t.imageFormat),i}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const i=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(bs.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??Qt.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const r=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},s={};this.origRampConfig.sublayers.forEach(l=>{s[l.index||0]=l});const n=[],o=(l,c)=>{const f=l.id,d=s[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new xg(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(v=>{o(v,y)})}else{this._sublayers[f]||(this._sublayers[f]=new Qfe({id:`${this.id}-${f}`,index:f,layerType:Le.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",n.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new xg(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(Fs(()=>l.visible,()=>{this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),Fs(()=>l.opacity,y=>{this.$iApi.event.emit($e.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=r(l.index||0);o(c,this.layerTree)}});const a=n.map(async l=>{const c=r(l.layerIdx),f=s[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),i<this.lastCancel)return;const d=l.esriSubLayer&&f?.customRenderer?.type;if(d&&(l.esriSubLayer.renderer=await kt.RendererFromJson(f.customRenderer)),await l.loadLayerMetadata(d?{customRenderer:l.esriSubLayer?.renderer}:{}),i<this.lastCancel)return;const p=s[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,l.nameField=p.nameField||l.nameField||"",this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(bs.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim();const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Lr.PERMANENT));i>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!n.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,i=!1){super.updateLayerState(t,i),this.sublayers.forEach(r=>r.updateLayerState(t,i))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(i=>i.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(s=>typeof s=="number"?this.layerTree?.findChildByIdx(s)?.uid:s));const i=t.sublayerIds?this._sublayers.filter(s=>t.sublayerIds?.includes(s.uid)):this._sublayers.filter(s=>s.canIdentify());if(i.length===0)return[];let r;return t.geometry.type===Ze.POINT&&(r=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),i.map(s=>{const n=new Ni,o={},a=tr({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:s.uid,layerId:s.id,requestTime:Date.now()});return s.geomType!==Ze.POLYGON&&r?o.filterGeometry=r:o.filterGeometry=t.geometry,o.filterSql=s.getCombinedSqlFilter(),o.sourceSR=s.sourceSR,s.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(lm.makeOidItem(c,s))}),a.loaded=!0,n.resolveMe()}).catch(()=>{a.errored=!0,n.resolveMe()}),a})}}class Qfe extends aT{tooltipField;constructor(t,i,r){if(super(t,i),this.layerType=Le.SUBLAYER,this.layerFormat=xs.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=r,this.dataFormat=nr.ESRI_FEATURE,this.supportsFeatures=!0,this.tooltipField="",this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!r.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(r),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=Si(t.esriLayer.allSublayers.find(i=>i.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Xt.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Xt.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const i=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=i}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const t=this._parentLayer?.esriLayer?.spatialReference;return t?Be.fromESRI(t):Be.latLongSR()}else return this.noLayerErr(),Be.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class ede extends pu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Le.OSM,this.layerFormat=xs.OSM,this.dataFormat=nr.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=Si(await kt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),r={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:i.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(r),t}}class tde extends pu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Le.IMAGERY,this.layerFormat=xs.IMAGERY,this.dataFormat=nr.ESRI_RASTER}async onInitiate(){this.esriLayer=Si(await kt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=Date.now(),r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t}}class ide extends pu{constructor(t,i){super(t,i),this.supportsIdentify=!1,this.layerType=Le.TILE,this.layerFormat=xs.TILE,this.dataFormat=nr.ESRI_TILE}async onInitiate(){this.esriLayer=Si(await kt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),i=Date.now();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(s=>{i>this.lastCancel&&(this.legend=s)});return t.push(r),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),r=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===hi.LOADED&&!r)this.$iApi.notify.show(bs.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===hi.ERROR&&r)this.reload();else if(this.layerState!==hi.ERROR&&!r)return this.$iApi.notify.show(bs.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class rde extends pu{sublayerNames;mimeType;constructor(t,i){super(t,i),this.supportsIdentify=!0,this.layerType=Le.WMS,this.layerFormat=xs.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=nr.OGC_RASTER,this.identifyMode=Bi.GEOMETRIC}async onInitiate(){this.esriLayer=Si(await kt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const i=super.makeEsriLayerConfig(t),r=t.sublayers;this.sublayerNames=r.map(n=>n.id||"error_no_wms_id");const s=r.map(n=>n.currentStyle).join();return i.customParameters={styles:s},t.url.indexOf("/geomet")!==-1&&(i.customParameters.layers=r[0].id),i}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const i=r=>{let s=!1;return r.forEach(n=>{this.sublayerNames.indexOf(n.name)>-1||n.sublayers&&n.sublayers.length>0&&i(n.sublayers)?s=!0:n.visible=!1}),s};return this.layerExists?i(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ze.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const i=new Ni,r=tr({items:[],loading:i.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(s=>{if(s){let n=!0,o;typeof s!="string"?o=ch.JSON:s.indexOf("Search returned no results")===-1&&s!==""?o=ch.TEXT:(n=!1,o=ch.UNKNOWN),n&&r.items.push(lm.makeRawItem(o,s))}r.loaded=!0,i.resolveMe()}).catch(()=>{r.errored=!0,i.resolveMe()}),[r]}setCustomParameter(t,i,r=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=i,r&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,i,r){const s=this.$iApi.geo.map,n=this.esriLayer;if(!s.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!n)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=s.getExtent(),c=n.spatialReferences,f=t.join(","),d=s.esriView.toScreen(i.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),_={"application/json":"json","text/html":"text","text/plain":"text"}[r]||"text",E=s.getSR();E.wkid?o=E.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(E.latestWkid&&c.indexOf(E.latestWkid)>-1?o=E.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),n.version==="1.3"||n.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:n.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const S={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:n.version,WIDTH:s.getPixelWidth(),HEIGHT:s.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:r},A=n.customLayerParameters;return A&&Object.keys(A).forEach(w=>{w.toLowerCase()!=="styles"&&(S[w]=A[w])}),Object.keys(S).forEach(w=>a[w]=S[w]),Ci(n.url.split("?")[0],{query:a,responseType:_})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const i=new Map;this.esriLayer.allSublayers.forEach(s=>{s.visible&&(s.legendUrl&&this.origRampConfig.sublayers?.forEach(n=>{if(n.id&&n.currentStyle&&n.id===s.name){const o=new Sg(s.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==n.currentStyle&&(s.legendUrl=o.updateQuery({STYLE:n.currentStyle}))}}),i.set(s.name,s.legendUrl))});const r=t.map(s=>s.styleLegends&&s.currentStyle?s.styleLegends.find(n=>n.name===s.currentStyle).url:void 0);return r.forEach((s,n)=>{s||(r[n]=i.get(t[n].id))}),r}getWMSLayerTitle(t){if(!this.esriLayer)return"";let i;return this.esriLayer.allSublayers.some(r=>r.name===t?(i=r.title,!0):!1),i||""}loadSymbology(){const t=Date.now(),i=this.config.sublayers,r=this.getLegendUrls(i.map(s=>({id:s.id,styleLegends:s.styleLegends,currentStyle:s.currentStyle}))).map((s,n)=>{const o=i[n].name||this.getWMSLayerTitle(i[n].id)||i[n].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(s).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=r}}class sde extends mu{constructor(t,i){super(t,i),this.layerType=Le.WFS}async onInitiate(){const t=Date.now(),i=new Sg(this.config.url),{offset:r,limit:s}=i.queryMap,n=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(r)||0,parseInt(s)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}class M9 extends A9{sourceJson;attribs;_visibility;constructor(t,i){super(t,i),this.dataFormat=nr.ESRI_FEATURE,this.layerFormat=xs.NOLAYER,this.drawState=Kr.NOT_VISUAL,this.attribs=new O9,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const i=t.fields.slice(),r=t.data[0].slice(),s=/ /gi;this.fields=i.map((o,a)=>{let l="",c=o;o.indexOf(" ")>-1&&(l=o,c=o.trim().replace(s,"-"),t.fields[a]=c);const f=this.$iApi.geo.layer.files.inferType(r[a]);return{name:c,alias:l,type:f,length:f===Ho.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Ho.OID}),t.fields.push(this.oidField),t.data.forEach((o,a)=>o.push(a+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const n={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new cde(this.$iApi,n),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length,this.origRampConfig.nameField?this.nameField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.nameField)||this.oidField:this.nameField=this.oidField,this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit($e.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==hi.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit($e.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(i=>{this.legend[0].svgcode=i})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,i){let r={};if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=s.features[s.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Sn(new El,"",r)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],i=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit($e.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class nde extends M9{constructor(t,i){super(t,i),this.layerType=Le.DATAJSON}async onInitiate(){const t=Date.now();let i;if(this.origRampConfig.rawData)i=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)i=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=i,await super.onInitiate())}}class ode extends M9{filter;serviceUrl;constructor(t,i){super(t,i),this.layerType=Le.DATATABLE,this.serviceUrl=t.url,this.filter=new qN(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),i=Date.now(),s=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,n=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(i<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.nameField=this.origRampConfig.nameField||a.displayField||this.oidField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Lr.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new I9(this.$iApi,l),this.attribs.quickCache=new $9(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Lr.PERMANENT)).then(a=>{i>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=s,t.push(n,o),t}async getGraphic(t){let i={};const r=this.attribs.quickCache.getAttribs(t);if(r)i=r;else if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=n.features[n.oidIndex[t]]}else{const n={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(n);this.attribs.quickCache.setAttribs(t,o.attributes),i=o.attributes}return new Sn(new El,"",i)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,i){const r=this.filter.getSql(t);i!==r&&(this.filter.setSql(t,i),this.$iApi.event.emit($e.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[]){const i=this.filter.getCombinedSql(t);if(!i)return;const r=this.filter.sqlActiveFilters(t);let s=this.filter.getCache(r,!1);if(!s){const n={filterSql:i,includeGeometry:!1};s=this.queryOIDs(n),this.filter.setCache(s,r,!1)}return s}queryOIDs(t){const i={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(i)}async queryFeaturesDiscrete(t){return(await this.queryOIDs(t)).map(r=>({oid:r,graphic:this.getGraphic(r)}))}async queryFeatures(t){const i=await this.queryFeaturesDiscrete(t);return Promise.all(i.map(r=>r.graphic))}}class ade extends ki{oidIndexer(t,i){t.features.forEach((r,s)=>{t.oidIndex[r[i]]=s})}async arcGisBatchLoad(t,i){if(i.loadAbortFlag)return[];const r=t.permanentFilter?` AND ${t.permanentFilter}`:"",s={query:{where:`${t.oidField}>${t.maxId}${r}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[n,o]=await Qc(Ci(t.serviceUrl+"/query",s));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,n),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){i.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const f=await this.arcGisBatchLoad(t,i);return i.loadAbortFlag?[]:a.concat(f)}else return i.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,i){t.maxId=-1,t.batchSize=-1;const s={features:(await this.arcGisBatchLoad(t,i)).map(n=>n.attributes),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,s}async loadGraphicsAttributes(t,i){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const s={features:t.sourceGraphics.map(n=>Ge(n).attributes).toArray(),oidIndex:{}};return this.oidIndexer(s,t.oidField),i.loadIsDone=!0,i.loadedCount=s.features.length,s}async loadCompactJsonAttributes(t,i){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const r=t.sourceDataJson.fields,s=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[r[f]]=typeof c=="string"&&s.includes(r[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),i.loadIsDone=!0,i.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const i={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(i.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(i.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(i.query.geometryPrecision=t.geometryPrecision);const[r,s]=await Qc(Ci(t.serviceUrl+"/query",i));if(!s)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,r),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!s.data||!s.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const n=s.data.features;if(n.length>0){let o;const a=this.trimFeatureSetAttributes([n[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=s.data.spatialReference;const l=_S(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new El;return new Sn(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,i){return i.forEach(r=>{t.forEach(s=>{typeof s.attributes[r]=="string"&&(s.attributes[r]=s.attributes[r].trim())})}),t}orderFields(t,i){const r=(n,o)=>n.findIndex(a=>a.name===o),s=(n,o)=>{const a=r(i,n.name),l=r(i,o.name);return a===-1&&l===-1?r(t,n.name)-r(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(s)}applyFieldMetadata(t,i=void 0){if(!i||!i.fieldInfo){t.fieldList="*";return}const r=i.fieldInfo.filter(s=>s.trim).map(s=>s.name);if(t.fields.forEach(s=>{r.includes(s.name)&&(s.trim=!0)}),i?.enforceOrder&&i?.fieldInfo&&i?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,i.fieldInfo),t.fieldList=i.fieldInfo.map(s=>s.name).join(",")),i.exclusiveFields){i.fieldInfo.find(n=>n.name===t.oidField)||i.fieldInfo.push({name:t.oidField}),t.fieldList=i.fieldInfo.map(n=>n.name).join(",");const s=i.fieldInfo;t.fields=t.fields.filter(n=>s.find(o=>o.name===n.name))}else t.fieldList="*";i.fieldInfo.forEach(s=>{if(s.alias){const n=t.fields.find(o=>o.name===s.name);n&&(n.alias=s.alias)}})}fieldValidator(t,i){if(t.findIndex(r=>r.name===i)===-1){const r=t.find(s=>s.alias===i);return r?r.name:(console.warn(`Cannot find name field in layer field list: ${i}`),"")}else return i}async generateTabularAttributes(t,i){return i.attLoader.tabularAttributesCache||(i.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,i)),i.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,i){if(t.dataFormat===nr.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const r=await i.attLoader.getAttribs();if(!r.features||r.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const s=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(r.features[0],Ge(o).name)).map(o=>({data:Ge(o).name,title:Ge(o).alias||Ge(o).name})),n=r.features.map(o=>{const a=WN({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return s.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);n.forEach(c=>{c[l]=a})}}),{columns:s,rows:n,fields:t.fields,oidField:t.oidField}}}class O9{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class AI{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class lT extends ki{aac;loadPromise;details;tabularAttributesCache;constructor(t,i){super(t),this.aac=new AI,this.details=i}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new AI,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class I9 extends lT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class lde extends lT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class cde extends lT{constructor(t,i){super(t,i)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class $9{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ze.POINT||t===Ze.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,i){this.attribs[t]=i}getGeom(t,i=void 0){return this.getGeomStore(i)[t]}setGeom(t,i,r=void 0){const s=this.getGeomStore(r);s[t]=i}getExtent(t){return this.extents[t]}setExtent(t,i){this.extents[t]=i}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class cT{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,i,r=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=r,this.type=A1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const i=this.makeSearchParams(t),r=this.symbolUnits.find(n=>n.match(i));if(r)return r;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${i}`);const s=new Qv(this);return s.svgCode="",s}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,i){let r="'";if(!i||i.length===0)return r;const s=i.find(n=>n.name===t);return s&&s.type&&s.type!=="string"&&(r=""),r}cleanFieldName(t,i){if(!t)return t;let r=i.find(s=>s.name===t);if(r)return t;{const s=t.toLowerCase();return r=i.find(n=>n.name.toLowerCase()===s),r?r.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(i=>i.definitionClause).join(" OR ")}))`}}class Qv{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new bo}match(t){return!!t}}class ude extends cT{constructor(t,i){super(t,i),this.type=A1.Simple;const r=new Qv(this);r.label=t.label||"",r.symbol=t.symbol,r.definitionClause="",this.symbolUnits.push(r)}}class hde extends cT{delim;keyFields;constructor(t,i,r=!1){super(t,i,r),this.type=A1.Unique,this.delim=t.fieldDelimiter||", ";const s=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,i));const n=this.keyFields.map(o=>this.getFieldDelimiter(o,i));if(t.uniqueValueInfos.forEach(o=>{const a=new MI(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${n[d]}${s(l[d])}${n[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new MI(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(i=>{let r=t[i]===null?"":t[i];return typeof r!="string"&&(r=r.toString()),r}).join(this.delim)}}class MI extends Qv{matchValue;constructor(t,i){super(t),typeof i=="number"?this.matchValue=i.toString():this.matchValue=i}match(t){return this.matchValue===t}}class fde extends cT{valField;constructor(t,i,r=!1){if(super(t,i,r),this.valField=this.cleanFieldName(t.field,i),t.classBreakInfos.forEach((s,n)=>{const o=n===0,a=new OI(this,s.minValue,s.maxValue,o);a.label=s.label||"",a.symbol=s.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${s.minValue} AND ${this.valField} <= ${s.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const s=new OI(this,0,0,!1);s.isDefault=!0,s.label=t.defaultLabel||"",s.symbol=t.defaultSymbol,s.definitionClause=this.makeElseClause(),this.defaultUnit=s}}makeSearchParams(t){return parseFloat(t[this.valField])}}class OI extends Qv{minValue;maxValue;firstBreak;constructor(t,i,r,s){super(t),this.minValue=i,this.maxValue=r,this.firstBreak=s}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var zy={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var dde=zy.exports,II;function pde(){return II||(II=1,function(e,t){(function(i,r){e.exports=i.document?r(i,i.document):function(s){return r(s,s.document)}})(typeof window<"u"?window:dde,function(i,r){var s=typeof this<"u"?this:i,n=s.SVG=function(h){if(n.supported)return h=new n.Doc(h),n.parser.draw||n.prepare(),h};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!r.createElementNS&&!!r.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(h){return"Svgjs"+E(h)+n.did++},n.create=function(h){var m=r.createElementNS(this.ns,h);return m.setAttribute("id",this.eid(h)),m},n.extend=function(){var h,m,x,$;for(h=[].slice.call(arguments),m=h.pop(),$=h.length-1;$>=0;$--)if(h[$])for(x in m)h[$].prototype[x]=m[x];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(h){var m=typeof h.create=="function"?h.create:function(){this.constructor.call(this,n.create(h.create))};return h.inherit&&(m.prototype=new h.inherit),h.extend&&n.extend(m,h.extend),h.construct&&n.extend(h.parent||n.Container,h.construct),m},n.adopt=function(h){if(!h)return null;if(h.instance)return h.instance;var m;return h.nodeName=="svg"?m=h.parentNode instanceof i.SVGElement?new n.Nested:new n.Doc:h.nodeName=="linearGradient"?m=new n.Gradient("linear"):h.nodeName=="radialGradient"?m=new n.Gradient("radial"):n[E(h.nodeName)]?m=new n[E(h.nodeName)]:m=new n.Element(h),m.type=h.nodeName,m.node=h,h.instance=m,m instanceof n.Doc&&m.namespace().defs(),m.setData(JSON.parse(h.getAttribute("svgjs:data"))||{}),m},n.prepare=function(){var h=r.getElementsByTagName("body")[0],m=(h?new n.Doc(h):n.adopt(r.documentElement).nested()).size(2,0);n.parser={body:h||r.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},r.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(h,m){var x,$=h.length,V=[];for(x=0;x<$;x++)V.push(m(h[x]));return V},filter:function(h,m){var x,$=h.length,V=[];for(x=0;x<$;x++)m(h[x])&&V.push(h[x]);return V},radians:function(h){return h%360*Math.PI/180},degrees:function(h){return h*180/Math.PI%360},filterSVGElements:function(h){return this.filter(h,function(m){return m instanceof i.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(h){var m;this.r=0,this.g=0,this.b=0,h&&(typeof h=="string"?n.regex.isRgb.test(h)?(m=n.regex.rgb.exec(h.replace(n.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):n.regex.isHex.test(h)&&(m=n.regex.hex.exec(S(h)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof h=="object"&&(this.r=h.r,this.g=h.g,this.b=h.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+A(this.r)+A(this.g)+A(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(h){return this.destination=new n.Color(h),this},at:function(h){return this.destination?(h=h<0?0:h>1?1:h,new n.Color({r:~~(this.r+(this.destination.r-this.r)*h),g:~~(this.g+(this.destination.g-this.g)*h),b:~~(this.b+(this.destination.b-this.b)*h)})):this}}),n.Color.test=function(h){return h+="",n.regex.isHex.test(h)||n.regex.isRgb.test(h)},n.Color.isRgb=function(h){return h&&typeof h.r=="number"&&typeof h.g=="number"&&typeof h.b=="number"},n.Color.isColor=function(h){return n.Color.isRgb(h)||n.Color.test(h)},n.Array=function(h,m){h=(h||[]).valueOf(),h.length==0&&m&&(h=m.valueOf()),this.value=this.parse(h)},n.extend(n.Array,{morph:function(h){if(this.destination=this.parse(h),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],x=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(x);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.indexOf(this.value[h])==-1&&x.push(this.value[h]);return this.value=x},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,$=[];m<x;m++)$.push(this.value[m]+(this.destination[m]-this.value[m])*h);return new n.Array($)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(h){return h=h.valueOf(),Array.isArray(h)?h:this.split(h)},split:function(h){return h.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var h=new this.constructor;return h.value=p(this.value),h}}),n.PointArray=function(h,m){n.Array.call(this,h,m||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var h=0,m=this.value.length,x=[];h<m;h++)x.push(this.value[h].join(","));return x.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(h){if(!this.destination)return this;for(var m=0,x=this.value.length,$=[];m<x;m++)$.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*h,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*h]);return new n.PointArray($)},parse:function(h){var m=[];if(h=h.valueOf(),Array.isArray(h)){if(Array.isArray(h[0]))return h.map(function(V){return V.slice()});if(h[0].x!=null)return h.map(function(V){return[V.x,V.y]})}else h=h.trim().split(n.regex.delimiter).map(parseFloat);h.length%2!==0&&h.pop();for(var x=0,$=h.length;x<$;x=x+2)m.push([h[x],h[x+1]]);return m},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var $=this.value.length-1;$>=0;$--)this.value[$]=[this.value[$][0]+h,this.value[$][1]+m];return this},size:function(h,m){var x,$=this.bbox();for(x=this.value.length-1;x>=0;x--)$.width&&(this.value[x][0]=(this.value[x][0]-$.x)*h/$.width+$.x),$.height&&(this.value[x][1]=(this.value[x][1]-$.y)*m/$.height+$.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var o={M:function(h,m,x){return m.x=x.x=h[0],m.y=x.y=h[1],["M",m.x,m.y]},L:function(h,m){return m.x=h[0],m.y=h[1],["L",h[0],h[1]]},H:function(h,m){return m.x=h[0],["H",h[0]]},V:function(h,m){return m.y=h[0],["V",h[0]]},C:function(h,m){return m.x=h[4],m.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},S:function(h,m){return m.x=h[2],m.y=h[3],["S",h[0],h[1],h[2],h[3]]},Q:function(h,m){return m.x=h[2],m.y=h[3],["Q",h[0],h[1],h[2],h[3]]},T:function(h,m){return m.x=h[0],m.y=h[1],["T",h[0],h[1]]},Z:function(h,m,x){return m.x=x.x,m.y=x.y,["Z"]},A:function(h,m){return m.x=h[5],m.y=h[6],["A",h[0],h[1],h[2],h[3],h[4],h[5],h[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(h){return function(m,x,$){if(h=="H")m[0]=m[0]+x.x;else if(h=="V")m[0]=m[0]+x.y;else if(h=="A")m[5]=m[5]+x.x,m[6]=m[6]+x.y;else for(var V=0,Y=m.length;V<Y;++V)m[V]=m[V]+(V%2?x.y:x.x);return o[h](m,x,$)}}(a[l].toUpperCase());n.PathArray=function(h,m){n.Array.call(this,h,m||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return P(this.value)},move:function(h,m){var x=this.bbox();if(h-=x.x,m-=x.y,!isNaN(h)&&!isNaN(m))for(var $,V=this.value.length-1;V>=0;V--)$=this.value[V][0],$=="M"||$=="L"||$=="T"?(this.value[V][1]+=h,this.value[V][2]+=m):$=="H"?this.value[V][1]+=h:$=="V"?this.value[V][1]+=m:$=="C"||$=="S"||$=="Q"?(this.value[V][1]+=h,this.value[V][2]+=m,this.value[V][3]+=h,this.value[V][4]+=m,$=="C"&&(this.value[V][5]+=h,this.value[V][6]+=m)):$=="A"&&(this.value[V][6]+=h,this.value[V][7]+=m);return this},size:function(h,m){var x,$,V=this.bbox();for(x=this.value.length-1;x>=0;x--)$=this.value[x][0],$=="M"||$=="L"||$=="T"?(this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y):$=="H"?this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x:$=="V"?this.value[x][1]=(this.value[x][1]-V.y)*m/V.height+V.y:$=="C"||$=="S"||$=="Q"?(this.value[x][1]=(this.value[x][1]-V.x)*h/V.width+V.x,this.value[x][2]=(this.value[x][2]-V.y)*m/V.height+V.y,this.value[x][3]=(this.value[x][3]-V.x)*h/V.width+V.x,this.value[x][4]=(this.value[x][4]-V.y)*m/V.height+V.y,$=="C"&&(this.value[x][5]=(this.value[x][5]-V.x)*h/V.width+V.x,this.value[x][6]=(this.value[x][6]-V.y)*m/V.height+V.y)):$=="A"&&(this.value[x][1]=this.value[x][1]*h/V.width,this.value[x][2]=this.value[x][2]*m/V.height,this.value[x][6]=(this.value[x][6]-V.x)*h/V.width+V.x,this.value[x][7]=(this.value[x][7]-V.y)*m/V.height+V.y);return this},equalCommands:function(h){var m,x,$;for(h=new n.PathArray(h),$=this.value.length===h.value.length,m=0,x=this.value.length;$&&m<x;m++)$=this.value[m][0]===h.value[m][0];return $},morph:function(h){return h=new n.PathArray(h),this.equalCommands(h)?this.destination=h:this.destination=null,this},at:function(h){if(!this.destination)return this;var m=this.value,x=this.destination.value,$=[],V=new n.PathArray,Y,pe,le,Me;for(Y=0,pe=m.length;Y<pe;Y++){for($[Y]=[m[Y][0]],le=1,Me=m[Y].length;le<Me;le++)$[Y][le]=m[Y][le]+(x[Y][le]-m[Y][le])*h;$[Y][0]==="A"&&($[Y][4]=+($[Y][4]!=0),$[Y][5]=+($[Y][5]!=0))}return V.value=$,V},parse:function(h){if(h instanceof n.PathArray)return h.valueOf();var m,$,x={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof h=="string"?h=h.replace(n.regex.numbersWithDots,d).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):h=h.reduce(function(Me,je){return[].concat.call(Me,je)},[]);var $=[],V=new n.Point,Y=new n.Point,pe=0,le=h.length;do n.regex.isPathLetter.test(h[pe])?(m=h[pe],++pe):m=="M"?m="L":m=="m"&&(m="l"),$.push(o[m].call(null,h.slice(pe,pe=pe+x[m.toUpperCase()]).map(parseFloat),V,Y));while(le>pe);return $},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(h,m){this.value=0,this.unit=m||"",typeof h=="number"?this.value=isNaN(h)?0:isFinite(h)?h:h<0?-34e37:34e37:typeof h=="string"?(m=h.match(n.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):h instanceof n.Number&&(this.value=h.valueOf(),this.unit=h.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(h){return h=new n.Number(h),new n.Number(this+h,this.unit||h.unit)},minus:function(h){return h=new n.Number(h),new n.Number(this-h,this.unit||h.unit)},times:function(h){return h=new n.Number(h),new n.Number(this*h,this.unit||h.unit)},divide:function(h){return h=new n.Number(h),new n.Number(this/h,this.unit||h.unit)},to:function(h){var m=new n.Number(this);return typeof h=="string"&&(m.unit=h),m},morph:function(h){return this.destination=new n.Number(h),h.relative&&(this.destination.value+=this.value),this},at:function(h){return this.destination?new n.Number(this.destination).minus(this).times(h).plus(this):this}}}),n.Element=n.invent({create:function(h){this._stroke=n.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=h)&&(this.type=h.nodeName,this.node.instance=this,this._events=h._events||{},this._stroke=h.getAttribute("stroke")||this._stroke)},extend:{x:function(h){return this.attr("x",h)},y:function(h){return this.attr("y",h)},cx:function(h){return h==null?this.x()+this.width()/2:this.x(h-this.width()/2)},cy:function(h){return h==null?this.y()+this.height()/2:this.y(h-this.height()/2)},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},width:function(h){return this.attr("width",h)},height:function(h){return this.attr("height",h)},size:function(h,m){var x=w(this,h,m);return this.width(new n.Number(x.width)).height(new n.Number(x.height))},clone:function(h){this.writeDataToDom();var m=N(this.node.cloneNode(!0));return h?h.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(h){return this.after(h).remove(),h},addTo:function(h){return h.put(this)},putIn:function(h){return h.add(this)},id:function(h){return this.attr("id",h)},inside:function(h,m){var x=this.bbox();return h>x.x&&m>x.y&&h<x.x+x.width&&m<x.y+x.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var h=this.attr("class");return h==null?[]:h.trim().split(n.regex.delimiter)},hasClass:function(h){return this.classes().indexOf(h)!=-1},addClass:function(h){if(!this.hasClass(h)){var m=this.classes();m.push(h),this.attr("class",m.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(m){return m!=h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)},reference:function(h){return n.get(this.attr(h))},parent:function(h){var m=this;if(!m.node.parentNode)return null;if(m=n.adopt(m.node.parentNode),!h)return m;for(;m&&m.node instanceof i.SVGElement;){if(typeof h=="string"?m.matches(h):m instanceof h)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=n.adopt(m.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(h){var m=[],x=this;do{if(x=x.parent(h),!x||!x.node)break;m.push(x)}while(x.parent);return m},matches:function(h){return v(this.node,h)},native:function(){return this.node},svg:function(h){var m=r.createElement("svg");if(h&&this instanceof n.Parent){m.innerHTML="<svg>"+h.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var x=0,$=m.firstChild.childNodes.length;x<$;x++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(h=r.createElement("svg")),this.writeDataToDom(),h.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var h=this.each?this:this.lines();h.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(h){return this.dom=h,this},is:function(h){return y(this,h)}}}),n.easing={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return-Math.cos(h*Math.PI/2)+1}},n.morph=function(h){return function(m,x){return new n.MorphObj(m,x).at(h)}},n.Situation=n.invent({create:function(h){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(h.duration).valueOf(),this.delay=new n.Number(h.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=h.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(h){this._target=h,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(h,m,x){typeof h=="object"&&(m=h.ease,x=h.delay,h=h.duration);var $=new n.Situation({duration:h||1e3,delay:x||0,ease:n.easing[m||"-"]||m});return this.queue($),this},delay:function(h){var m=new n.Situation({duration:h,delay:0,ease:n.easing["-"]});return this.queue(m)},target:function(h){return h&&h instanceof n.Element?(this._target=h,this):this._target},timeToAbsPos:function(h){return(h-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(h){return this.situation.duration/this._speed*h+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=i.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){i.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(h){return(typeof h=="function"||h instanceof n.Situation)&&this.situations.push(h),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var h,m,x,$=this.situation;if($.init)return this;for(h in $.animations)for(x=this.target()[h](),Array.isArray(x)||(x=[x]),Array.isArray($.animations[h])||($.animations[h]=[$.animations[h]]),m=x.length;m--;)$.animations[h][m]instanceof n.Number&&(x[m]=new n.Number(x[m])),$.animations[h][m]=x[m].morph($.animations[h][m]);for(h in $.attrs)$.attrs[h]=new n.MorphObj(this.target().attr(h),$.attrs[h]);for(h in $.styles)$.styles[h]=new n.MorphObj(this.target().style(h),$.styles[h]);return $.initialTransformation=this.target().matrixify(),$.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(h,m){var x=this.active;return this.active=!1,m&&this.clearQueue(),h&&this.situation&&(!x&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var h=this.situation;this.stop(),this.situation=h,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(h,m){var x=this.situation.duration/this._speed;return this.absPos=h,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*x,this.situation.finish=this.situation.start+x,this.step(!0)},speed:function(h){return h===0?this.pause():h?(this._speed=h,this.at(this.absPos,!0)):this._speed},loop:function(h,m){var x=this.last();return x.loops=h??!0,x.loop=0,m&&(x.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(h){var m=this.last();return typeof h>"u"?m.reversed=!m.reversed:m.reversed=h,this},progress:function(h){return h?this.situation.ease(this.pos):this.pos},after:function(h){var m=this.last(),x=function $(V){V.detail.situation==m&&(h.call(this,m),this.off("finished.fx",$))};return this.target().on("finished.fx",x),this._callStart()},during:function(h){var m=this.last(),x=function($){$.detail.situation==m&&h.call(this,$.detail.pos,n.morph($.detail.pos),$.detail.eased,m)};return this.target().off("during.fx",x).on("during.fx",x),this.after(function(){this.off("during.fx",x)}),this._callStart()},afterAll:function(h){var m=function x($){h.call(this),this.off("allfinished.fx",x)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(h){var m=function(x){h.call(this,x.detail.pos,n.morph(x.detail.pos),x.detail.eased,x.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(h,m,x){return this.last()[x||"animations"][h]=m,this._callStart()},step:function(h){if(h||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,x,$;m=Math.max(this.absPos,0),x=Math.floor(m),this.situation.loops===!0||x<this.situation.loops?(this.pos=m-x,$=this.situation.loop,this.situation.loop=x):(this.absPos=this.situation.loops,this.pos=1,$=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-$)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var V=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=V&&(this.situation.once[Y].call(this.target(),this.pos,V),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:V,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=V,this):this},eachAt:function(){var h,m,x,$=this,V=this.target(),Y=this.situation;for(h in Y.animations)x=[].concat(Y.animations[h]).map(function(le){return typeof le!="string"&&le.at?le.at(Y.ease($.pos),$.pos):le}),V[h].apply(V,x);for(h in Y.attrs)x=[h].concat(Y.attrs[h]).map(function(le){return typeof le!="string"&&le.at?le.at(Y.ease($.pos),$.pos):le}),V.attr.apply(V,x);for(h in Y.styles)x=[h].concat(Y.styles[h]).map(function(le){return typeof le!="string"&&le.at?le.at(Y.ease($.pos),$.pos):le}),V.style.apply(V,x);if(Y.transforms.length){for(x=Y.initialTransformation,h=0,m=Y.transforms.length;h<m;h++){var pe=Y.transforms[h];if(pe instanceof n.Matrix){pe.relative?x=x.multiply(new n.Matrix().morph(pe).at(Y.ease(this.pos))):x=x.morph(pe).at(Y.ease(this.pos));continue}pe.relative||pe.undo(x.extract()),x=x.multiply(pe.at(Y.ease(this.pos)))}V.matrix(x)}return this},once:function(h,m,x){var $=this.last();return x||(h=$.ease(h)),$.once[h]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(h,m,x){return(this.fx||(this.fx=new n.FX(this))).animate(h,m,x)},delay:function(h){return(this.fx||(this.fx=new n.FX(this))).delay(h)},stop:function(h,m){return this.fx&&this.fx.stop(h,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(h){if(this.fx){if(h==null)return this.fx.speed();this.fx.speed(h)}return this}}}),n.MorphObj=n.invent({create:function(h,m){if(n.Color.isColor(m))return new n.Color(h).morph(m);if(n.regex.delimiter.test(h))return n.regex.pathLetters.test(h)?new n.PathArray(h).morph(m):new n.Array(h).morph(m);if(n.regex.numberAndUnit.test(m))return new n.Number(h).morph(m);this.value=h,this.destination=m},extend:{at:function(h,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(h,m,x){if(typeof h=="object")for(var $ in h)this.attr($,h[$]);else this.add(h,m,"attrs");return this},style:function(h,m){if(typeof h=="object")for(var x in h)this.style(x,h[x]);else this.add(h,m,"styles");return this},x:function(h,m){if(this.target()instanceof n.G)return this.transform({x:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("x",x)},y:function(h,m){if(this.target()instanceof n.G)return this.transform({y:h},m),this;var x=new n.Number(h);return x.relative=m,this.add("y",x)},cx:function(h){return this.add("cx",new n.Number(h))},cy:function(h){return this.add("cy",new n.Number(h))},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},size:function(h,m){if(this.target()instanceof n.Text)this.attr("font-size",h);else{var x;(!h||!m)&&(x=this.target().bbox()),h||(h=x.width/x.height*m),m||(m=x.height/x.width*h),this.add("width",new n.Number(h)).add("height",new n.Number(m))}return this},width:function(h){return this.add("width",new n.Number(h))},height:function(h){return this.add("height",new n.Number(h))},plot:function(h,m,x,$){return arguments.length==4?this.plot([h,m,x,$]):this.add("plot",new(this.target()).morphArray(h))},leading:function(h){return this.target().leading?this.add("leading",new n.Number(h)):this},viewbox:function(h,m,x,$){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(h,m,x,$)),this},update:function(h){if(this.target()instanceof n.Stop){if(typeof h=="number"||h instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",h.offset)}return this}}),n.Box=n.invent({create:function(h,m,x,$){if(typeof h=="object"&&!(h instanceof n.Element))return n.Box.call(this,h.left!=null?h.left:h.x,h.top!=null?h.top:h.y,h.width,h.height);arguments.length==4&&(this.x=h,this.y=m,this.width=x,this.height=$),U(this)},extend:{merge:function(h){var m=new this.constructor;return m.x=Math.min(this.x,h.x),m.y=Math.min(this.y,h.y),m.width=Math.max(this.x+this.width,h.x+h.width)-m.x,m.height=Math.max(this.y+this.height,h.y+h.height)-m.y,U(m)},transform:function(h){var m=1/0,x=-1/0,$=1/0,V=-1/0,Y,pe=[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)];return pe.forEach(function(le){le=le.transform(h),m=Math.min(m,le.x),x=Math.max(x,le.x),$=Math.min($,le.y),V=Math.max(V,le.y)}),Y=new this.constructor,Y.x=m,Y.width=x-m,Y.y=$,Y.height=V-$,U(Y),Y}}}),n.BBox=n.invent({create:function(h){if(n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element){var m;try{if(r.documentElement.contains){if(!r.documentElement.contains(h.node))throw new Exception("Element not in the dom")}else{for(var x=h.node;x.parentNode;)x=x.parentNode;if(x!=r)throw new Exception("Element not in the dom")}m=h.node.getBBox()}catch{if(h instanceof n.Shape){var $=h.clone(n.parser.draw.instance).show();m=$.node.getBBox(),$.remove()}else m={x:h.node.clientLeft,y:h.node.clientTop,width:h.node.clientWidth,height:h.node.clientHeight}}n.Box.call(this,m)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(h){n.Box.apply(this,[].slice.call(arguments)),h instanceof n.Element&&n.Box.call(this,h.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=i.pageXOffset,this.y+=i.pageYOffset,this}},construct:{rbox:function(h){return h?new n.RBox(this).transform(h.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(h){var m,x=M([1,0,0,1,0,0]);for(h=h instanceof n.Element?h.matrixify():typeof h=="string"?M(h.split(n.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(h)?M(h):typeof h=="object"?h:x,m=q.length-1;m>=0;--m)this[q[m]]=h[q[m]]!=null?h[q[m]]:x[q[m]]},extend:{extract:function(){var h=b(this,0,1),m=b(this,1,0),x=180/Math.PI*Math.atan2(h.y,h.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(x*Math.PI/180)+this.f*Math.sin(x*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(x*Math.PI/180)+this.e*Math.sin(-x*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-x,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:x,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(h){return this.destination=new n.Matrix(h),this},at:function(h){if(!this.destination)return this;var m=new n.Matrix({a:this.a+(this.destination.a-this.a)*h,b:this.b+(this.destination.b-this.b)*h,c:this.c+(this.destination.c-this.c)*h,d:this.d+(this.destination.d-this.d)*h,e:this.e+(this.destination.e-this.e)*h,f:this.f+(this.destination.f-this.f)*h});return m},multiply:function(h){return new n.Matrix(this.native().multiply(O(h).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(h,m){return new n.Matrix(this.native().translate(h||0,m||0))},scale:function(h,m,x,$){return arguments.length==1?m=h:arguments.length==3&&($=x,x=m,m=h),this.around(x,$,new n.Matrix(h,0,0,m,0,0))},rotate:function(h,m,x){return h=n.utils.radians(h),this.around(m,x,new n.Matrix(Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0))},flip:function(h,m){return h=="x"?this.scale(-1,1,m,0):h=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,h,m??h)},skew:function(h,m,x,$){return arguments.length==1?m=h:arguments.length==3&&($=x,x=m,m=h),h=n.utils.radians(h),m=n.utils.radians(m),this.around(x,$,new n.Matrix(1,Math.tan(m),Math.tan(h),1,0,0))},skewX:function(h,m,x){return this.skew(h,0,m,x)},skewY:function(h,m,x){return this.skew(0,h,m,x)},around:function(h,m,x){return this.multiply(new n.Matrix(1,0,0,1,h||0,m||0)).multiply(x).multiply(new n.Matrix(1,0,0,1,-h||0,-m||0))},native:function(){for(var h=n.parser.native.createSVGMatrix(),m=q.length-1;m>=0;m--)h[q[m]]=this[q[m]];return h},toString:function(){return"matrix("+F(this.a)+","+F(this.b)+","+F(this.c)+","+F(this.d)+","+F(this.e)+","+F(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var h=this.rect(1,1),m=h.node.getScreenCTM();return h.remove(),new n.Matrix(m)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(h,m){var x,$={x:0,y:0};x=Array.isArray(h)?{x:h[0],y:h[1]}:typeof h=="object"?{x:h.x,y:h.y}:h!=null?{x:h,y:m??h}:$,this.x=x.x,this.y=x.y},extend:{clone:function(){return new n.Point(this)},morph:function(h,m){return this.destination=new n.Point(h,m),this},at:function(h){if(!this.destination)return this;var m=new n.Point({x:this.x+(this.destination.x-this.x)*h,y:this.y+(this.destination.y-this.y)*h});return m},native:function(){var h=n.parser.native.createSVGPoint();return h.x=this.x,h.y=this.y,h},transform:function(h){return new n.Point(this.native().matrixTransform(h.native()))}}}),n.extend(n.Element,{point:function(h,m){return new n.Point(h,m).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(h,m,x){if(h==null){for(h={},m=this.node.attributes,x=m.length-1;x>=0;x--)h[m[x].nodeName]=n.regex.isNumber.test(m[x].nodeValue)?parseFloat(m[x].nodeValue):m[x].nodeValue;return h}else if(typeof h=="object")for(m in h)this.attr(m,h[m]);else if(m===null)this.node.removeAttribute(h);else{if(m==null)return m=this.node.getAttribute(h),m==null?n.defaults.attrs[h]:n.regex.isNumber.test(m)?parseFloat(m):m;h=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):h=="stroke"&&(this._stroke=m),(h=="fill"||h=="stroke")&&(n.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof n.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new n.Number(m):n.Color.isColor(m)?m=new n.Color(m):Array.isArray(m)&&(m=new n.Array(m)),h=="leading"?this.leading&&this.leading(m):typeof x=="string"?this.node.setAttributeNS(x,h,m.toString()):this.node.setAttribute(h,m.toString()),this.rebuild&&(h=="font-size"||h=="x")&&this.rebuild(h,m)}return this}}),n.extend(n.Element,{transform:function(h,m){var x=this,$,V;if(typeof h!="object")return $=new n.Matrix(x).extract(),typeof h=="string"?$[h]:$;if($=new n.Matrix(x),m=!!m||!!h.relative,h.a!=null)$=m?$.multiply(new n.Matrix(h)):new n.Matrix(h);else if(h.rotation!=null)C(h,x),$=m?$.rotate(h.rotation,h.cx,h.cy):$.rotate(h.rotation-$.extract().rotation,h.cx,h.cy);else if(h.scale!=null||h.scaleX!=null||h.scaleY!=null){if(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,!m){var Y=$.extract();h.scaleX=h.scaleX*1/Y.scaleX,h.scaleY=h.scaleY*1/Y.scaleY}$=$.scale(h.scaleX,h.scaleY,h.cx,h.cy)}else if(h.skew!=null||h.skewX!=null||h.skewY!=null){if(C(h,x),h.skewX=h.skew!=null?h.skew:h.skewX!=null?h.skewX:0,h.skewY=h.skew!=null?h.skew:h.skewY!=null?h.skewY:0,!m){var Y=$.extract();$=$.multiply(new n.Matrix().skew(Y.skewX,Y.skewY,h.cx,h.cy).inverse())}$=$.skew(h.skewX,h.skewY,h.cx,h.cy)}else h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(V=x.bbox(),h.flip=V.cx,h.offset=V.cy):h.flip=h.offset,$=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(m?$=$.translate(h.x,h.y):(h.x!=null&&($.e=h.x),h.y!=null&&($.f=h.y)));return this.attr("transform",$)}}),n.extend(n.FX,{transform:function(h,m){var x=this.target(),$,V;return typeof h!="object"?($=new n.Matrix(x).extract(),typeof h=="string"?$[h]:$):(m=!!m||!!h.relative,h.a!=null?$=new n.Matrix(h):h.rotation!=null?(C(h,x),$=new n.Rotate(h.rotation,h.cx,h.cy)):h.scale!=null||h.scaleX!=null||h.scaleY!=null?(C(h,x),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,$=new n.Scale(h.scaleX,h.scaleY,h.cx,h.cy)):h.skewX!=null||h.skewY!=null?(C(h,x),h.skewX=h.skewX!=null?h.skewX:0,h.skewY=h.skewY!=null?h.skewY:0,$=new n.Skew(h.skewX,h.skewY,h.cx,h.cy)):h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?x.bbox()["c"+h.flip]:h.offset:h.offset==null?(V=x.bbox(),h.flip=V.cx,h.offset=V.cy):h.flip=h.offset,$=new n.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&($=new n.Translate(h.x,h.y)),$?($.relative=m,this.last().transforms.push($),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var h=(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(m){var x=m.trim().split("(");return[x[0],x[1].split(n.regex.delimiter).map(function($){return parseFloat($)})]}).reduce(function(m,x){return x[0]=="matrix"?m.multiply(M(x[1])):m[x[0]].apply(m,x[1])},new n.Matrix);return h},toParent:function(h){if(this==h)return this;var m=this.screenCTM(),x=h.screenCTM().inverse();return this.addTo(h).untransform().transform(x.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(h,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(h))for(var x=0,$=this.arguments.length;x<$;++x)this[this.arguments[x]]=h[x];else if(typeof h=="object")for(var x=0,$=this.arguments.length;x<$;++x)this[this.arguments[x]]=h[this.arguments[x]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(h){for(var m=[],x=0,$=this.arguments.length;x<$;++x)m.push(this[this.arguments[x]]);var V=this._undo||new n.Matrix;return V=new n.Matrix().morph(n.Matrix.prototype[this.method].apply(V,m)).at(h),this.inversed?V.inverse():V},undo:function(h){for(var m=0,x=this.arguments.length;m<x;++m)h[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:h[this.arguments[m]];return h.cx=this.cx,h.cy=this.cy,this._undo=new n[E(this.method)](h,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(h){var m=new n.Matrix().rotate(new n.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(h),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(h){return this._undo=h,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(h,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof h=="object")for(m in h)this.style(m,h[m]);else if(n.regex.isCss.test(h))for(h=h.split(/\s*;\s*/).filter(function(x){return!!x}).map(function(x){return x.split(/\s*:\s*/)});m=h.pop();)this.style(m[0],m[1]);else return this.node.style[_(h)];else this.node.style[_(h)]=m===null||n.regex.isBlank.test(m)?"":m;return this}}),n.Parent=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(h){return n.adopt(h)})},add:function(h,m){return m==null?this.node.appendChild(h.node):h.node!=this.node.childNodes[m]&&this.node.insertBefore(h.node,this.node.childNodes[m]),this},put:function(h,m){return this.add(h,m),h},has:function(h){return this.index(h)>=0},index:function(h){return[].slice.call(this.node.childNodes).indexOf(h.node)},get:function(h){return n.adopt(this.node.childNodes[h])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(h,m){var x,$,V=this.children();for(x=0,$=V.length;x<$;x++)V[x]instanceof n.Element&&h.apply(V[x],[x,V]),m&&V[x]instanceof n.Container&&V[x].each(h,m);return this},removeElement:function(h){return this.node.removeChild(h.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(h,m){return m===0||this instanceof n.Defs||this.node==n.parser.draw?this:(h=h||(this instanceof n.Doc?this:this.parent(n.Parent)),m=m||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(h,m-1):this.toParent(h)}),this.node.firstChild||this.remove(),this)},flatten:function(h,m){return this.ungroup(h,m)}}),n.Container=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(h){var m=[0,0,0,0],x,$,V,Y,pe,le,Me,je=1,ze=1,at=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(h instanceof n.Element){for(le=h,Me=h,pe=(h.attr("viewBox")||"").match(at),h.bbox,V=new n.Number(h.width()),Y=new n.Number(h.height());V.unit=="%";)je*=V.value,V=new n.Number(le instanceof n.Doc?le.parent().offsetWidth:le.parent().width()),le=le.parent();for(;Y.unit=="%";)ze*=Y.value,Y=new n.Number(Me instanceof n.Doc?Me.parent().offsetHeight:Me.parent().height()),Me=Me.parent();this.x=0,this.y=0,this.width=V*je,this.height=Y*ze,this.zoom=1,pe&&(x=parseFloat(pe[0]),$=parseFloat(pe[1]),V=parseFloat(pe[2]),Y=parseFloat(pe[3]),this.zoom=this.width/this.height>V/Y?this.height/Y:this.width/V,this.x=x,this.y=$,this.width=V,this.height=Y)}else h=typeof h=="string"?h.match(at).map(function(Gt){return parseFloat(Gt)}):Array.isArray(h)?h:typeof h=="object"?[h.x,h.y,h.width,h.height]:arguments.length==4?[].slice.call(arguments):m,this.x=h[0],this.y=h[1],this.width=h[2],this.height=h[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(h,m,x,$){return this.destination=new n.ViewBox(h,m,x,$),this},at:function(h){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*h,this.y+(this.destination.y-this.y)*h,this.width+(this.destination.width-this.width)*h,this.height+(this.destination.height-this.height)*h]):this}},parent:n.Container,construct:{viewbox:function(h,m,x,$){return arguments.length==0?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(h,m,x,$))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(h){n.Element.prototype[h]=function(m){return m==null?n.off(this,h):n.on(this,h,m),this}}),n.listenerId=0,n.on=function(h,m,x,$,V){var Y=x.bind($||h),pe=h instanceof n.Element?h.node:h;pe.instance=pe.instance||{_events:{}};var le=pe.instance._events;x._svgjsListenerId||(x._svgjsListenerId=++n.listenerId),m.split(n.regex.delimiter).forEach(function(Me){var je=Me.split(".")[0],ze=Me.split(".")[1]||"*";le[je]=le[je]||{},le[je][ze]=le[je][ze]||{},le[je][ze][x._svgjsListenerId]=Y,pe.addEventListener(je,Y,V||!1)})},n.off=function(h,m,x,$){var V=h instanceof n.Element?h.node:h;if(V.instance&&!(typeof x=="function"&&(x=x._svgjsListenerId,!x))){var Y=V.instance._events;(m||"").split(n.regex.delimiter).forEach(function(pe){var le=pe&&pe.split(".")[0],Me=pe&&pe.split(".")[1],je,ze;if(x)Y[le]&&Y[le][Me||"*"]&&(V.removeEventListener(le,Y[le][Me||"*"][x],$||!1),delete Y[le][Me||"*"][x]);else if(le&&Me){if(Y[le]&&Y[le][Me]){for(ze in Y[le][Me])n.off(V,[le,Me].join("."),ze);delete Y[le][Me]}}else if(Me)for(pe in Y)for(je in Y[pe])Me===je&&n.off(V,[pe,Me].join("."));else if(le){if(Y[le]){for(je in Y[le])n.off(V,[le,je].join("."));delete Y[le]}}else{for(pe in Y)n.off(V,pe);V.instance._events={}}})}},n.extend(n.Element,{on:function(h,m,x,$){return n.on(this,h,m,x,$),this},off:function(h,m){return n.off(this.node,h,m),this},fire:function(h,m){return h instanceof i.Event?this.node.dispatchEvent(h):this.node.dispatchEvent(h=new n.CustomEvent(h,{detail:m,cancelable:!0})),this._event=h,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(h){return h==null?this.transform("x"):this.transform({x:h-this.x()},!0)},y:function(h){return h==null?this.transform("y"):this.transform({y:h-this.y()},!0)},cx:function(h){return h==null?this.gbox().cx:this.x(h-this.gbox().width/2)},cy:function(h){return h==null?this.gbox().cy:this.y(h-this.gbox().height/2)},gbox:function(){var h=this.bbox(),m=this.transform();return h.x+=m.x,h.x2+=m.x,h.cx+=m.x,h.y+=m.y,h.y2+=m.y,h.cy+=m.y,h}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(h){h&&(h=typeof h=="string"?r.getElementById(h):h,h.nodeName=="svg"?this.constructor.call(this,h):(this.constructor.call(this,n.create("svg")),h.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var h;(h=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(h):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var h=this.node.getScreenCTM();return h&&this.style("left",-h.e%1+"px").style("top",-h.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this},clone:function(h){this.writeDataToDom();var m=this.node,x=N(m.cloneNode(!0));return h?(h.node||h).appendChild(x.node):m.parentNode.insertBefore(x.node,m.nextSibling),x}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var h=this.position()+1,m=this.parent();return m.removeElement(this).add(this,h),m instanceof n.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var h=this.position();return h>0&&this.parent().removeElement(this).add(this,h-1),this},front:function(){var h=this.parent();return h.node.appendChild(this.node),h instanceof n.Doc&&h.node.appendChild(h.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(h){h.remove();var m=this.position();return this.parent().add(h,m),this},after:function(h){h.remove();var m=this.position();return this.parent().add(h,m+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unmask();return this.targets=[],n.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(h){return this.masker=h instanceof n.Mask?h:this.parent().mask().add(h),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(h){return this.clipper=h instanceof n.ClipPath?h:this.parent().clip().add(h),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(h){this.constructor.call(this,n.create(h+"Gradient")),this.type=h},inherit:n.Container,extend:{at:function(h,m,x){return this.put(new n.Stop).update(h,m,x)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="gradientTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{gradient:function(h,m){return this.defs().gradient(h,m)}}}),n.extend(n.Gradient,n.FX,{from:function(h,m){return(this._target||this).type=="radial"?this.attr({fx:new n.Number(h),fy:new n.Number(m)}):this.attr({x1:new n.Number(h),y1:new n.Number(m)})},to:function(h,m){return(this._target||this).type=="radial"?this.attr({cx:new n.Number(h),cy:new n.Number(m)}):this.attr({x2:new n.Number(h),y2:new n.Number(m)})}}),n.extend(n.Defs,{gradient:function(h,m){return this.put(new n.Gradient(h)).update(m)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(h){return(typeof h=="number"||h instanceof n.Number)&&(h={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",new n.Number(h.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return this.fill()},attr:function(h,m,x){return h=="transform"&&(h="patternTransform"),n.Container.prototype.attr.call(this,h,m,x)}},construct:{pattern:function(h,m,x){return this.defs().pattern(h,m,x)}}}),n.extend(n.Defs,{pattern:function(h,m,x){return this.put(new n.Pattern).update(x).attr({x:0,y:0,width:h,height:m,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(h){this.constructor.call(this,h)},inherit:n.Element}),n.Bare=n.invent({create:function(h,m){if(this.constructor.call(this,n.create(h)),m)for(var x in m.prototype)typeof m.prototype[x]=="function"&&(this[x]=m.prototype[x])},inherit:n.Element,extend:{words:function(h){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(r.createTextNode(h)),this}}}),n.extend(n.Parent,{element:function(h,m){return this.put(new n.Bare(h,m))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(h,m){return this.attr("href",(m||"")+"#"+h,n.xlink)}},construct:{use:function(h,m){return this.put(new n.Use).element(h,m)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(h,m){return this.put(new n.Rect).size(h,m)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(h){return this.put(new n.Circle).rx(new n.Number(h).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(h){return this.attr("r",h)},ry:function(h){return this.rx(h)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(h,m){return this.put(new n.Ellipse).size(h,m).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(h){return this.attr("rx",h)},ry:function(h){return this.attr("ry",h)}}),n.extend(n.Circle,n.Ellipse,{x:function(h){return h==null?this.cx()-this.rx():this.cx(h+this.rx())},y:function(h){return h==null?this.cy()-this.ry():this.cy(h+this.ry())},cx:function(h){return h==null?this.attr("cx"):this.attr("cx",h)},cy:function(h){return h==null?this.attr("cy"):this.attr("cy",h)},width:function(h){return h==null?this.rx()*2:this.rx(new n.Number(h).divide(2))},height:function(h){return h==null?this.ry()*2:this.ry(new n.Number(h).divide(2))},size:function(h,m){var x=w(this,h,m);return this.rx(new n.Number(x.width).divide(2)).ry(new n.Number(x.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(h,m,x,$){return h==null?this.array():(typeof m<"u"?h={x1:h,y1:m,x2:x,y2:$}:h=new n.PointArray(h).toLine(),this.attr(h))},move:function(h,m){return this.attr(this.array().move(h,m).toLine())},size:function(h,m){var x=w(this,h,m);return this.attr(this.array().size(x.width,x.height).toLine())}},construct:{line:function(h,m,x,$){return n.Line.prototype.plot.apply(this.put(new n.Line),h!=null?[h,m,x,$]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(h){return this.put(new n.Polyline).plot(h||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(h){return this.put(new n.Polygon).plot(h||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(h){return h==null?this.array():this.clear().attr("points",typeof h=="string"?h:this._array=new n.PointArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("points",this.array().move(h,m))},size:function(h,m){var x=w(this,h,m);return this.attr("points",this.array().size(x.width,x.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},width:function(h){var m=this.bbox();return h==null?m.width:this.size(h,m.height)},height:function(h){var m=this.bbox();return h==null?m.height:this.size(m.width,h)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(h){return h==null?this.array():this.clear().attr("d",typeof h=="string"?h:this._array=new n.PathArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("d",this.array().move(h,m))},x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},size:function(h,m){var x=w(this,h,m);return this.attr("d",this.array().size(x.width,x.height))},width:function(h){return h==null?this.bbox().width:this.size(h,this.bbox().height)},height:function(h){return h==null?this.bbox().height:this.size(this.bbox().width,h)}},construct:{path:function(h){return this.put(new n.Path).plot(h||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(h){if(!h)return this;var m=this,x=new i.Image;return n.on(x,"load",function(){n.off(x);var $=m.parent(n.Pattern);$!==null&&(m.width()==0&&m.height()==0&&m.size(x.width,x.height),$&&$.width()==0&&$.height()==0&&$.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:x.width,height:x.height,ratio:x.width/x.height,url:h}))}),n.on(x,"error",function($){n.off(x),typeof m._error=="function"&&m._error.call(m,$)}),this.attr("href",x.src=this.src=h,n.xlink)},loaded:function(h){return this._loaded=h,this},error:function(h){return this._error=h,this}},construct:{image:function(h,m,x){return this.put(new n.Image).load(h).size(m||0,x||m||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(h){return h==null?this.attr("x"):this.attr("x",h)},y:function(h){var m=this.attr("y"),x=typeof m=="number"?m-this.bbox().y:0;return h==null?typeof m=="number"?m-x:m:this.attr("y",typeof h.valueOf()=="number"?h+x:h)},cx:function(h){return h==null?this.bbox().cx:this.x(h-this.bbox().width/2)},cy:function(h){return h==null?this.bbox().cy:this.y(h-this.bbox().height/2)},text:function(h){if(typeof h>"u"){for(var h="",m=this.node.childNodes,x=0,$=m.length;x<$;++x)x!=0&&m[x].nodeType!=3&&n.adopt(m[x]).dom.newLined==!0&&(h+=`
`),h+=m[x].textContent;return h}if(this.clear().build(!0),typeof h=="function")h.call(this,this);else{h=h.split(`
`);for(var x=0,V=h.length;x<V;x++)this.tspan(h[x]).newLine()}return this.build(!1).rebuild()},size:function(h){return this.attr("font-size",h).rebuild()},leading:function(h){return h==null?this.dom.leading:(this.dom.leading=new n.Number(h),this.rebuild())},lines:function(){var h=(this.textPath&&this.textPath()||this).node,m=n.utils.map(n.utils.filterSVGElements(h.childNodes),function(x){return n.adopt(x)});return new n.Set(m)},rebuild:function(h){if(typeof h=="boolean"&&(this._rebuild=h),this._rebuild){var m=this,x=0,$=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?x+=$:(this.attr("dy",$+x),x=0))}),this.fire("rebuild")}return this},build:function(h){return this._build=!!h,this},setData:function(h){return this.dom=h,this.dom.leading=new n.Number(h.leading||1.3),this}},construct:{text:function(h){return this.put(new n.Text).text(h)},plain:function(h){return this.put(new n.Text).plain(h)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(h){return h==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof h=="function"?h.call(this,this):this.plain(h),this)},dx:function(h){return this.attr("dx",h)},dy:function(h){return this.attr("dy",h)},newLine:function(){var h=this.parent(n.Text);return this.dom.newLined=!0,this.dy(h.dom.leading*h.attr("font-size")).attr("x",h.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(h){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(h)),this},tspan:function(h){var m=(this.textPath&&this.textPath()||this).node,x=new n.Tspan;return this._build===!1&&this.clear(),m.appendChild(x.node),x.text(h)},clear:function(){for(var h=(this.textPath&&this.textPath()||this).node;h.hasChildNodes();)h.removeChild(h.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,path:function(h){for(var m=new n.TextPath,x=this.doc().defs().path(h);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+x,n.xlink),this},array:function(){var h=this.track();return h?h.array():null},plot:function(h){var m=this.track(),x=null;return m&&(x=m.plot(h)),h==null?x:this},track:function(){var h=this.textPath();if(h)return h.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(h){return this.attr("href",h,n.xlink)},show:function(h){return this.attr("show",h,n.xlink)},target:function(h){return this.attr("target",h)}},construct:{link:function(h){return this.put(new n.A).to(h)}}}),n.extend(n.Element,{linkTo:function(h){var m=new n.A;return typeof h=="function"?h.call(m,m):m.to(h),this.parent().put(m).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(h){return this.attr("markerWidth",h)},height:function(h){return this.attr("markerHeight",h)},ref:function(h,m){return this.attr("refX",h).attr("refY",m)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(h,m,x){return this.defs().marker(h,m,x)}}}),n.extend(n.Defs,{marker:function(h,m,x){return this.put(new n.Marker).size(h,m).ref(h/2,m/2).viewbox(0,0,h,m).attr("orient","auto").update(x)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(h,m,x,$){var V=["marker"];return h!="all"&&V.push(h),V=V.join("-"),h=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(m,x,$),this.attr(V,h)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,m){return m=="color"?h:h+"-"+m}};["fill","stroke"].forEach(function(h){var m,x={};x[h]=function($){if(typeof $>"u")return this;if(typeof $=="string"||n.Color.isRgb($)||$&&typeof $.fill=="function")this.attr(h,$);else for(m=f[h].length-1;m>=0;m--)$[f[h][m]]!=null&&this.attr(f.prefix(h,f[h][m]),$[f[h][m]]);return this},n.extend(n.Element,n.FX,x)}),n.extend(n.Element,n.FX,{rotate:function(h,m,x){return this.transform({rotation:h,cx:m,cy:x})},skew:function(h,m,x,$){return arguments.length==1||arguments.length==3?this.transform({skew:h,cx:m,cy:x}):this.transform({skewX:h,skewY:m,cx:x,cy:$})},scale:function(h,m,x,$){return arguments.length==1||arguments.length==3?this.transform({scale:h,cx:m,cy:x}):this.transform({scaleX:h,scaleY:m,cx:x,cy:$})},translate:function(h,m){return this.transform({x:h,y:m})},flip:function(h,m){return m=typeof h=="number"?h:m,this.transform({flip:h||"both",offset:m})},matrix:function(h){return this.attr("transform",new n.Matrix(arguments.length==6?[].slice.call(arguments):h))},opacity:function(h){return this.attr("opacity",h)},dx:function(h){return this.x(new n.Number(h).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(h){return this.y(new n.Number(h).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(h,m){return this.dx(h).dy(m)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(h,m){var x=(this._target||this).type;return x=="radial"||x=="circle"?this.attr("r",new n.Number(h)):this.rx(h).ry(m??h)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(h){return this.node.getPointAtLength(h)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(h,m){if(typeof h=="object")for(m in h)this.font(m,h[m]);return h=="leading"?this.leading(m):h=="anchor"?this.attr("text-anchor",m):h=="size"||h=="family"||h=="weight"||h=="stretch"||h=="variant"||h=="style"?this.attr("font-"+h,m):this.attr(h,m)}}),n.Set=n.invent({create:function(h){h instanceof n.Set?this.members=h.members.slice():Array.isArray(h)?this.members=h:this.clear()},extend:{add:function(){var h,m,x=[].slice.call(arguments);for(h=0,m=x.length;h<m;h++)this.members.push(x[h]);return this},remove:function(h){var m=this.index(h);return m>-1&&this.members.splice(m,1),this},each:function(h){for(var m=0,x=this.members.length;m<x;m++)h.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(h){return this.index(h)>=0},index:function(h){return this.members.indexOf(h)},get:function(h){return this.members[h]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new n.RBox;var h=this.members[0].rbox(this.members[0].doc());return this.each(function(){h=h.merge(this.rbox(this.doc()))}),h}},construct:{set:function(h){return new n.Set(h)}}}),n.FX.Set=n.invent({create:function(h){this.set=h}}),n.Set.inherit=function(){var h,m=[];for(var h in n.Shape.prototype)typeof n.Shape.prototype[h]=="function"&&typeof n.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.Set.prototype[x]=function(){for(var $=0,V=this.members.length;$<V;$++)this.members[$]&&typeof this.members[$][x]=="function"&&this.members[$][x].apply(this.members[$],arguments);return x=="animate"?this.fx||(this.fx=new n.FX.Set(this)):this}}),m=[];for(var h in n.FX.prototype)typeof n.FX.prototype[h]=="function"&&typeof n.FX.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(x){n.FX.Set.prototype[x]=function(){for(var $=0,V=this.set.members.length;$<V;$++)this.set.members[$].fx[x].apply(this.set.members[$].fx,arguments);return this}})},n.extend(n.Element,{data:function(h,m,x){if(typeof h=="object")for(m in h)this.data(m,h[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+h))}catch{return this.attr("data-"+h)}else this.attr("data-"+h,m===null?null:x===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),n.extend(n.Element,{remember:function(h,m){if(typeof arguments[0]=="object")for(var m in h)this.remember(m,h[m]);else{if(arguments.length==1)return this.memory()[h];this.memory()[h]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(h){var m=r.getElementById(j(h)||h);return n.adopt(m)},n.select=function(h,m){return new n.Set(n.utils.map((m||r).querySelectorAll(h),function(x){return n.adopt(x)}))},n.extend(n.Parent,{select:function(h){return n.select(h,this.node)}});function d(h,m,x,$){return x+$.replace(n.regex.dots," .")}function p(h){for(var m=h.slice(0),x=m.length;x--;)Array.isArray(m[x])&&(m[x]=p(m[x]));return m}function y(h,m){return h instanceof m}function v(h,m){return(h.matches||h.matchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector).call(h,m)}function _(h){return h.toLowerCase().replace(/-(.)/g,function(m,x){return x.toUpperCase()})}function E(h){return h.charAt(0).toUpperCase()+h.slice(1)}function S(h){return h.length==4?["#",h.substring(1,2),h.substring(1,2),h.substring(2,3),h.substring(2,3),h.substring(3,4),h.substring(3,4)].join(""):h}function A(h){var m=h.toString(16);return m.length==1?"0"+m:m}function w(h,m,x){if(m==null||x==null){var $=h.bbox();m==null?m=$.width/$.height*x:x==null&&(x=$.height/$.width*m)}return{width:m,height:x}}function b(h,m,x){return{x:m*h.a+x*h.c+0,y:m*h.b+x*h.d+0}}function M(h){return{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}}function O(h){return h instanceof n.Matrix||(h=new n.Matrix(h)),h}function C(h,m){h.cx=h.cx==null?m.bbox().cx:h.cx,h.cy=h.cy==null?m.bbox().cy:h.cy}function P(h){for(var m=0,x=h.length,$="";m<x;m++)$+=h[m][0],h[m][1]!=null&&($+=h[m][1],h[m][2]!=null&&($+=" ",$+=h[m][2],h[m][3]!=null&&($+=" ",$+=h[m][3],$+=" ",$+=h[m][4],h[m][5]!=null&&($+=" ",$+=h[m][5],$+=" ",$+=h[m][6],h[m][7]!=null&&($+=" ",$+=h[m][7])))));return $+" "}function N(h){for(var m=h.childNodes.length-1;m>=0;m--)h.childNodes[m]instanceof i.SVGElement&&N(h.childNodes[m]);return n.adopt(h).id(n.eid(h.nodeName))}function U(h){return h.x==null&&(h.x=0,h.y=0,h.width=0,h.height=0),h.w=h.width,h.h=h.height,h.x2=h.x+h.width,h.y2=h.y+h.height,h.cx=h.x+h.width/2,h.cy=h.y+h.height/2,h}function j(h){var m=(h||"").toString().match(n.regex.reference);if(m)return m[1]}function F(h){return Math.abs(h)>1e-37?h:0}var q="abcdef".split("");if(typeof i.CustomEvent!="function"){var te=function(h,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var x=r.createEvent("CustomEvent");return x.initCustomEvent(h,m.bubbles,m.cancelable,m.detail),x};te.prototype=i.Event.prototype,n.CustomEvent=te}else n.CustomEvent=i.CustomEvent;return function(h){for(var m=0,x=["moz","webkit"],$=0;$<x.length&&!i.requestAnimationFrame;++$)h.requestAnimationFrame=h[x[$]+"RequestAnimationFrame"],h.cancelAnimationFrame=h[x[$]+"CancelAnimationFrame"]||h[x[$]+"CancelRequestAnimationFrame"];h.requestAnimationFrame=h.requestAnimationFrame||function(V){var Y=new Date().getTime(),pe=Math.max(0,16-(Y-m)),le=h.setTimeout(function(){V(Y+pe)},pe);return m=Y+pe,le},h.cancelAnimationFrame=h.cancelAnimationFrame||h.clearTimeout}(i),n})}(zy)),zy.exports}var mde=pde();const Pu=nv(mde);class yde extends ki{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,i){return i.getGraphicIcon(t)}getGraphicSymbol(t,i){return i.getGraphicSymbol(t)}makeRenderer(t,i,r=!1){switch(t.type){case this.SIMPLE:return new ude(t,i);case this.CLASS_BREAKS:return new fde(t,i,r);case this.UNIQUE_VALUE:return new hde(t,i,r);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const i=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),r={svgcode:"",imgHeight:"",imgWidth:""};if(t){const s=await this.renderSymbologyImage(t);if(s){r.svgcode=s;const n=document.createElement("span");n.innerHTML=s;const o=n.firstElementChild?.lastElementChild;r.imgHeight=o?.getAttribute("height")||"",r.imgWidth=o?.getAttribute("width")||""}else r.svgcode=i.svg()}else r.svgcode=i.svg();return r}listToSymbology(t,i){return i.map(({text:s,image:n})=>{const o={name:s,image:n,svgcode:""};return t(n).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,i=null){i===null&&(i=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const r=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(r===t)return"";const{loader:s}=await this.svgDrawImage(i,r);return i.viewbox(0,0,s.width,s.height),i.svg()}async renderSymbologyIcon(t,i=null){if(i===null){const n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n),i=Pu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const r=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:s}=await this.svgDrawImage(i,r);return s.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(s,this.CONTENT_IMAGE_SIZE),i.svg()}generatePlaceholderSymbology(t,i="#000"){const r=Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return r.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(i),r.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:r.svg()}}async generateBlankSymbology(){return Pu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const i=this,r=1.33333,s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s);const n=Pu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:v,path:_}){return n.path(_).size(v*r)},circle({size:v}){return n.circle(v*r)},cross({size:v}){return n.path("M 0,10 L 20,10 M 10,0 L 10,20").size(v*r)},x({size:v}){return n.path("M 0,0 L 20,20 M 20,0 L 0,20").size(v*r)},triangle({size:v}){return n.path("M 20,20 L 10,0 0,20 Z").size(v*r)},diamond({size:v}){return n.path("M 20,10 L 10,0 0,10 10,20 Z").size(v*r)},square({size:v}){return n.path("M 0,0 20,0 20,20 0,20 Z").size(v*r)}},a={[Wr.SOLID]:"none",[Wr.NONE]:"none",[Wr.DASH]:"5.333,4",[Wr.DOT]:"1.333,4",[Wr.DASHDOT]:"5.333,4,1.333,4",[Wr.LONGDASH]:"10.666,4",[Wr.LONGDASHDOT]:"10.666,4,1.333,4",[Wr.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[Wr.SHORTDOT]:"1.333,1.333",[Wr.SHORTDASH]:"5.333,1.333",[Wr.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[Wr.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:v=>({color:v.colour,opacity:v.opacity}),none:()=>"transparent",horizontal:(v,_)=>n.pattern(5,5,S=>S.line(0,5/2,5,5/2)).stroke(_),vertical:(v,_)=>n.pattern(5,5,S=>S.line(5/2,0,5/2,5)).stroke(_),"forward-diagonal":(v,_)=>n.pattern(5,5,S=>{S.line(0,0,5,5).stroke(_),S.line(0,0,5,5).move(0,5).stroke(_),S.line(0,0,5,5).move(5,0).stroke(_)}),"backward-diagonal":(v,_)=>n.pattern(5,5,S=>{S.line(5,0,0,5).stroke(_),S.line(5,0,0,5).move(5/2,5/2).stroke(_),S.line(5,0,0,5).move(-5/2,-5/2).stroke(_)}),cross:(v,_)=>n.pattern(5,5,S=>{S.line(5/2,0,5/2,5).stroke(_),S.line(0,5/2,5,5/2).stroke(_)}),"diagonal-cross":(v,_)=>n.pattern(7,7,S=>{S.line(0,0,7,7).stroke(_),S.line(7,0,0,7).stroke(_)})},d={"simple-marker"(){const v=y(t.color);t.outline=t.outline||c;const _=y(t.outline.color),E=p({color:_.colour,opacity:_.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),S=o[t.style](t).fill({color:v.colour,opacity:v.opacity}).stroke(E).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0);i.fitInto(S,i.CONTENT_SIZE)},"simple-line"(){const v=y(t.color),_=p({color:v.colour,opacity:v.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),E=i.CONTENT_PADDING,S=i.CONTAINER_SIZE-i.CONTENT_PADDING;n.line(E,E,S,S).stroke(_)},esriCLS(){this["simple-line"]()},"simple-fill"(){const v=y(t.color),_=p({color:v.colour,opacity:v.opacity}),E=f[t.style](v,_);t.outline=t.outline||c;const S=y(t.outline.color),A=p({color:S.colour,opacity:S.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(E).stroke(A)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const v=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,_=t.width*t.xscale,E=t.height*t.yscale;t.outline=t.outline||c;const S=y(t.outline.color),A=p({color:S.colour,opacity:S.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return i.$iApi.geo.shared.convertImagetoDataURL(v).then(b=>{const M=n.pattern(_,E,O=>O.image(b,_,E));n.rect(i.CONTENT_SIZE,i.CONTENT_SIZE).center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).fill(M).stroke(A)})},"picture-marker"(){const v=t.source,_=v&&v.imageData?`data:${v.contentType};base64,${v.imageData}`:t.url;return i.$iApi.geo.shared.convertImagetoDataURL(_).then(S=>i.svgDrawImage(n,S)).then(({image:S})=>{S.center(i.CONTAINER_CENTER,i.CONTAINER_CENTER).rotate(t.angle||0),i.fitInto(S,i.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(s),n.svg()}catch(v){return console.error(v),this.generateBlankSymbology()}function p(v){return Object.assign({},l,v)}function y(v){return v?{colour:`rgb(${v.r},${v.g},${v.b})`,opacity:v.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,i,r=0,s=0,n=!0){return new Promise((o,a)=>{const l=t.image(i,r,s,n).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,i){const r=t.node.getBoundingClientRect(),s=i/Math.max(r.width,r.height);s<1&&t.scale(s)}rendererToLegend(t){let i;const r=t.symbolUnits.slice(0);if(t.defaultUnit&&r.push(t.defaultUnit),t.falseRenderer)i=r.map(s=>[s]);else{const s=new Map;r.forEach(n=>{const o=s.get(n.label);o?o.push(n):s.set(n.label,[n])}),i=[],s.forEach(n=>i.push(n))}return i.map(s=>{const n=s[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:n.label||"",definitionClause:s.length===1?n.definitionClause:`(${s.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(n.symbol).then(a=>{o.svgcode=a,s.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const i={query:{f:"json"}},r={layers:[]},[s,n]=await Qc(Ci(`${t}/legend`,i));return n?n.data?n.data:(console.error(`Error loading legend data for ${t}`),r):(console.error(`Error loading legend for ${t}`,s),r)}async mapServerLegendToRenderer(t,i){const r=t.layers.find(n=>n.layerId===i);let s;if(typeof r<"u"){s={type:"uniqueValue",field:"fakefield",uniqueValueInfos:r.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const n=await kt.RendererFromJson(s);return this.makeRenderer(n,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const i=t.layers.map(n=>n.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),r={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...i)},s=await kt.RendererFromJson(r);return this.makeRenderer(s,[],!0)}async mapServerToLocalLegend(t,i=void 0){const r=await this.getMapServerLegend(t);let s,n;return typeof i>"u"?(n=0,s=await this.mapServerLegendToRendererAll(r)):(n=parseInt(i),s=await this.mapServerLegendToRenderer(r,n)),this.rendererToLegend(s)}}class gde extends ki{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const i=await kt.Query();i.returnGeometry=!1,t.filterSql&&(i.where=t.filterSql),t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),i.spatialRelationship="intersects");const r=await kt.QueryByIds(t.url,i);return Array.isArray(r)?r:[]}async geoJsonQuery(t){const i=await kt.Query();if(i.returnGeometry=!!t.includeGeometry,i.outFields=["*"],t.filterGeometry&&(i.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),i.spatialRelationship="intersects"),t.filterSql&&(i.where=t.filterSql),t.filterOIDs&&(i.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(i)).features.map((s,n)=>{let o;return i.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(s.geometry,`queryResult${n}`):o=new El,new Sn(o,"",s.attributes)})}async queryGeometryHelper(t,i,r,s){return!i&&t.type===Ze.EXTENT&&s&&!s.isEqual(t.sr)&&!(r&&r>2e7&&t.sr.wkid===3978&&s.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(s,t)).toESRI():t.toESRI()}makeClickBuffer(t,i=5){const r=this.$iApi.geo.map,s=r.getExtent(),n=i*(s.xmax-s.xmin)/r.getPixelWidth();return new Qt("ze_buffer",[t.x-n,t.y-n],[t.x+n,t.y+n],t.sr)}}class vde extends ki{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=Mh.geom,this.proj=Mh.proj,this.shared=Mh.sharedUtils,this.map=new ufe(t),this.layer=new Vfe(t),this.attributes=new ade(t),this.query=new gde(t),this.symbology=new yde(t),Array.isArray(Ot.request.interceptors)||(Ot.request.interceptors=[]),Ot.request.interceptors.push({before:i=>{i.url.includes("?blankTile=false")&&(i.url=i.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){Ot.request.proxyUrl=t}get proxy(){return Ot.request.proxyUrl||""}}const bde=Object.assign({"../fixtures/appbar/index.ts":()=>Se(()=>import("./index-RKTQztUm.js"),__vite__mapDeps([206,1,207]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>Se(()=>import("./index-DwspSTNo.js"),__vite__mapDeps([208,209,210,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>Se(()=>import("./index-CLX2q4Xp.js"),__vite__mapDeps([211,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>Se(()=>import("./index-CsMHlJrB.js"),__vite__mapDeps([212,1,213]),import.meta.url),"../fixtures/details/index.ts":()=>Se(()=>import("./index-DblY8FIR.js"),__vite__mapDeps([214,1,215]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>Se(()=>import("./index-BbMwTMs_.js"),__vite__mapDeps([216,217,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>Se(()=>import("./index-DFwmbBda.js"),__vite__mapDeps([218,217,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>Se(()=>import("./index-DpS7nHY-.js"),__vite__mapDeps([219,217,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>Se(()=>import("./index-DeHmp2Is.js"),__vite__mapDeps([220,217,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>Se(()=>import("./index-CDGrj6Ip.js"),__vite__mapDeps([221,217,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>Se(()=>import("./index-DipZyZ7y.js"),__vite__mapDeps([222,217,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>Se(()=>import("./index-DPadhU2P.js"),__vite__mapDeps([223,217,1]),import.meta.url),"../fixtures/export/index.ts":()=>Se(()=>import("./index-ekAleAcR.js"),__vite__mapDeps([224,1,225]),import.meta.url),"../fixtures/extentguard/index.ts":()=>Se(()=>import("./index-DEBdtd6D.js"),__vite__mapDeps([226,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>Se(()=>import("./index-BHpx-dxB.js"),__vite__mapDeps([227,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>Se(()=>import("./index-BEhBofFd.js"),__vite__mapDeps([228,1]),import.meta.url),"../fixtures/grid/index.ts":()=>Se(()=>import("./index-ubewMEJ2.js"),__vite__mapDeps([229,1,230]),import.meta.url),"../fixtures/help/index.ts":()=>Se(()=>import("./index-CYniv7OS.js"),__vite__mapDeps([231,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>Se(()=>import("./index-CBpBc_6G.js"),__vite__mapDeps([232,215,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>Se(()=>import("./index-C4m2k4P3.js"),__vite__mapDeps([233,1]),import.meta.url),"../fixtures/legend/index.ts":()=>Se(()=>import("./index-D8IQMXqX.js"),__vite__mapDeps([234,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>Se(()=>import("./index-eQlnNAOM.js"),__vite__mapDeps([235,1,236]),import.meta.url),"../fixtures/metadata/index.ts":()=>Se(()=>import("./index-DLTuZ9c0.js"),__vite__mapDeps([237,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>Se(()=>import("./index-M6qz8k9V.js"),__vite__mapDeps([238,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>Se(()=>import("./index-FSSLlfH1.js"),__vite__mapDeps([239,1,240]),import.meta.url),"../fixtures/panguard/index.ts":()=>Se(()=>import("./index-CLeAoWCG.js"),__vite__mapDeps([241,1,242]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>Se(()=>import("./index-DszDVcbN.js"),__vite__mapDeps([243,1,244]),import.meta.url),"../fixtures/settings/index.ts":()=>Se(()=>import("./index-BZuKP9Cy.js"),__vite__mapDeps([245,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>Se(()=>import("./index-haRez7Qp.js"),__vite__mapDeps([246,1]),import.meta.url),"../fixtures/wizard/index.ts":()=>Se(()=>import("./index-DDu_CJjE.js"),__vite__mapDeps([247,1]),import.meta.url)});class _de extends ki{constructor(t){super(t)}exists(t){return t in Ls(this.$vApp.$pinia).items}async add(t,i){let r;if(t in Ls(this.$vApp.$pinia).items)return this.get(t);if(i){if(typeof i!="function")throw new Error("malformed fixture constructor");r=uT.updateBaseToInstance(new i,t,this.$iApi)}else{const s=(await bde[`../fixtures/${t}/index.ts`]()).default;r=new s(t,this.$iApi)}return Ls(this.$vApp.$pinia).addFixture(r),this.$iApi.event.emit($e.FIXTURE_ADDED,r),this.$iApi.geo.map.created&&r.initialized?.(),r}remove(t){const i=this.get(t);if(!i)throw new Error(`Could not find fixture ${t} for removal`);return Ls(this.$vApp.$pinia).removeFixture(i),this.$iApi.event.emit($e.FIXTURE_REMOVED,i),i}flush(){const t=Ls(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=this.get(r);s?.persist&&typeof s?.removed=="function"?s.removed():s&&this.remove(r)})}restore(){const t=Ls(this.$vApp.$pinia);Object.keys(t.items).forEach(r=>{const s=t.items[r];typeof s.added=="function"&&s.added(),this.$iApi.geo.map.created&&typeof s.initialized=="function"&&s.initialized()})}get(t){const i=[];typeof t=="string"?i.push(t):Array.isArray(t)?i.push(...t):i.push(t.id);const r=i.map(s=>{const n=Ls(this.$vApp.$pinia).items[s];if(n)return n});return r.length===1?r[0]:r}isLoaded(t){const i=Ls(this.$vApp.$pinia),r=Array.isArray(t)?t:[t];r.forEach(n=>{i.loadPromises[n]===void 0&&i.addLoadPromise(n)});const s=i.getLoadPromises(r);return Array.isArray(t)?Promise.all(s):s[0]}addDefaultFixtures(t){Array.isArray(t)||(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const i=es(this.$vApp.$pinia);return i.startingFixtures=t,Promise.all(t.map(r=>this.add(r)))}}class uT extends ki{static updateBaseToInstance(t,i,r){const s=new uT(i,r);return Object.defineProperties(t,{id:{value:i},$iApi:{value:r},persist:{value:t.persist??!0},$vApp:{get(){return s.$vApp}},remove:{value:s.remove},extend:{value:s.extend},config:{get(){return s.config}},mount:{value:s.mount}}),t}id;persist;constructor(t,i){super(i),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,i={}){const r=rt({extends:t,iApi:this.$iApi,data(){return{...i}}}),s=_l(r),{el:n}=this.mount(r,{props:{...i.propsData},app:s});return n}mount(t,{props:i,children:r,element:s,app:n}={}){let o=s,a=Bs(t,i,r);return n&&n._context&&(a.appContext=n._context),o||(o=document.createElement("div")),Th(a,o),{vNode:a,destroy:()=>{o&&Th(null,o),o=null,a=null},el:o}}get config(){return es(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},i=(r,s=void 0)=>{if(r.fixtures&&r.fixtures[this.id]!==void 0){let n=r.id;s!==void 0&&(n=`${s.id}-${r.index}`),t[n]=r.fixtures[this.id]}r.sublayers&&r.sublayers.forEach(n=>i(n,r))};return this.$iApi.geo.layer.allLayers().forEach(r=>i(r.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const i={};if(typeof this.config.panelWidth=="number")t.forEach(r=>{i[r]=this.config.panelWidth});else{this.config.panelWidth.default&&t.forEach(r=>{i[r]=this.config.panelWidth.default});for(const r in this.config.panelWidth)r!="default"&&(i[r]=this.config.panelWidth[r])}for(const r in i){const s=this.$iApi.panel.get(r);this.$iApi.panel.setStyle(s,{"flex-basis":`${i[r]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const i=Kc(this.$vApp.$pinia),r=!!this.config.panelTeleport.target;t.forEach(s=>{i.items[s].teleport=r?this.config.panelTeleport:this.config.panelTeleport[s],i.items[s].style.width="100%"})}}}class wde extends ki{panelStore=Kc(this.$vApp.$pinia);updateHTML(t,i,r){const s=this.get(t),n=r?s.screens[r]:Object.values(s.screens)[0];if(pP(n))for(const o in i)n[o].innerHTML=i[o]instanceof HTMLElement?i[o].outerHTML:i[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const r in t.content)if(typeof t.content[r]=="string"){const s=document.createElement("div");s.innerHTML=t.content[r],t.content[r]=s}const i={};return i[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},i[t.id].screens[t.id]=t.content,i}registerHTML(t){const i=this.get(t.id);if(i)return console.error("Panel already exist"),i;const r=this.registerHTMLConfig(t),s={i18n:{messages:t.i18nMap}};return this.register(r,s)}register(t,i){const r=xde(t)?{[t.id]:t.config}:t;if(i){const n=i.i18n||{},o=this.$iApi.$i18n;Object.entries(n.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(n.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(n.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const s=Object.entries(r).reduce((n,[o,a])=>(n.push(new W0(this.$iApi,o,a)),n),[]);return s.forEach(n=>this.panelStore.registerPanel(n)),s.length===1?s[0]:s.reduce((n,o)=>(n[o.id]=o,n),{})}async isRegistered(t){const i=Array.isArray(t)?t:[t];i.forEach(s=>{this.panelStore.regPromises[s]===void 0&&this.panelStore.addRegPromise(s)});const r=this.panelStore.getRegPromises(i);return Array.isArray(t)?Promise.all(r):r[0]}remove(t){const i=this.get(t);i&&(i.isOpen&&this.close(i),this.panelStore.removePanel(i))}get(t){const i=typeof t=="string"?t:t.id;return this.panelStore.items[i]}open(t){let i,r,s;if(typeof t=="string"||t instanceof W0?i=this.get(t):(i=this.get(t.id),{screen:r,props:s}=t),!i)return i;if(i.isOpen&&!i.isVisible)i.minimize();else if(i.isOpen)return i;return r||(i.route&&!s?{screen:r,props:s}=i.route:r=Object.keys(i.screens).pop()),this.show(i,{screen:r,props:s})?(this.panelStore.openPanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_OPENED,i)):console.error(`Failed to open ${i.id} panel.`),i}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_CLOSED,i),i)}minimize(t){const i=this.get(t);return i&&(i.isPinned&&i.pin(!1),this.panelStore.closePanel(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:i.alertName?this.$iApi.$i18n.t(i.alertName):i.id})),this.$iApi.event.emit($e.PANEL_MINIMIZED,i),i)}move(t,i){const r=this.get(t);return r&&(this.panelStore.movePanel(r,i),r)}toggle(t,i){let r;return typeof t=="string"||t instanceof W0?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(t):this.close(r):r)}toggleMinimize(t,i){let r;return typeof t=="string"||t instanceof W0?r=this.get(t):r=this.get(t.id),r&&(i=typeof i<"u"?i:!r.isVisible,i!==r.isVisible?i?this.open(r):this.minimize(r):r)}pin(t,i){const r=this.get(t);return!r||(i=typeof i<"u"?i:!r.isPinned,!r.isPinned&&!i)||(this.panelStore.pinned=i?r:void 0),r}get pinned(){return this.panelStore.pinned||void 0}show(t,i){const r=this.get(t);if(!r)return r;if(r.screens[i.screen]){if(r.screens[i.screen]?.props){const s=Object.keys(r.screens[i.screen]?.props).filter(o=>o!=="panel"),n=i.props?Object.keys(i.props):[];for(let o=0;o<s.length;o++)if(!n.includes(s[o])&&r.screens[i.screen].props[s[o]].required)return}return i.screen in this.$element._context.components||r.registerScreen(i.screen),r.teleport&&(i.props={header:!!r.teleport?.showHeader,...i.props}),this.panelStore.items[r.id].route=i,r}}setStyle(t,i,r=!1){const s=this.get(t);return s&&(this.panelStore.items[s.id].style=r?i:{...s.style,...i},s)}expand(t,i){const r=this.get(t);return r&&(this.panelStore.items[r.id].expanded=i!==void 0?i:!r.expanded,r)}}function xde(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const Sde={};function Ede(e,t){const i=bi("panel-screen");return fe(),Bt(i,{header:!1,class:"screen-spinner"},{content:Ti(()=>t[0]||(t[0]=[ue("div",{class:"loader"},null,-1)])),_:1})}const Tde=fa(Sde,[["render",Ede],["__scopeId","data-v-d6b3771a"]]),Ade=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>Se(()=>import("./screen-BqkQ6BAX.js"),__vite__mapDeps([248,209,210,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>Se(()=>import("./screen-B5pmKfTg.js"),__vite__mapDeps([249,1,250]),import.meta.url),"../fixtures/export/screen.vue":()=>Se(()=>import("./screen-C9TjLJyE.js"),__vite__mapDeps([251,225,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>Se(()=>import("./screen-DUj9s4hd.js"),__vite__mapDeps([252,1,253]),import.meta.url),"../fixtures/grid/screen.vue":()=>Se(()=>import("./screen-DmTCjfxq.js"),__vite__mapDeps([254,230,1,255]),import.meta.url),"../fixtures/help/screen.vue":()=>Se(()=>import("./screen-CFOl8F8C.js"),__vite__mapDeps([256,257,1,258]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>Se(()=>import("./screen-DT48XtPu.js"),__vite__mapDeps([259,260,1,261]),import.meta.url),"../fixtures/legend/screen.vue":()=>Se(()=>import("./screen-BBSPGCN2.js"),__vite__mapDeps([262,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>Se(()=>import("./screen-Bl8Wpuy2.js"),__vite__mapDeps([263,257,1,264]),import.meta.url),"../fixtures/settings/screen.vue":()=>Se(()=>import("./screen-CE_ZtoL6.js"),__vite__mapDeps([265,260,266,267,1,268]),import.meta.url),"../fixtures/wizard/screen.vue":()=>Se(()=>import("./screen-DQuBQjMh.js"),__vite__mapDeps([269,260,1,270]),import.meta.url)});class W0 extends ki{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const i=this.screens[t];let r;if(oX(i)||nX(i))r=i,this.loadedScreens.push(t);else if(pP(i))r={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let s;typeof i=="string"?s=Ade[`../fixtures/${i}`]():s=i();const n=new Promise((o,a)=>{s.then(l=>{this.loadedScreens.push(t),o(aX(l)?l.default:l)}),s.catch(l=>a(l))});r=b3({loader:()=>n,loadingComponent:Tde,delay:200})}this.$iApi.$element.component(t,r)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,i,r){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:i,style:{},expanded:!1,controls:{expand:!1,...r.controls},...r},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const i=typeof t=="string"?{screen:t}:t;return this.route=i,this.$iApi.panel.show(this,i),this}setStyles(t,i=!1){return this.$iApi.panel.setStyle(this,t,i),this}expand(t){return this.$iApi.panel.expand(this,t),this}}function Mde(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=Ode(o);t[o.language]=a});const r=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let s=!1;const n=r.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return s=s||!c,c}));return s&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),n.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:n,configs:t}}function Ode(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return Cde(e.services,t),Ide(e.map,t),Nde(e.ui,t),e.plugins&&Pde(e.plugins,t),t}function Ide(e,t){if(e.layers&&e.layers.forEach(i=>{t.layers.unshift($de(i))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const i={};e.components.northArrow.arrowIcon&&(i.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(i.poleIcon=e.components.northArrow.poleIcon),i&&(t.fixtures.northarrow=i,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(i=>{const r={id:i.id,default:{xmin:i.default.xmin,xmax:i.default.xmax,ymin:i.default.ymin,ymax:i.default.ymax,spatialReference:i.spatialReference}};i.full&&(r.full={xmin:i.full.xmin,xmax:i.full.xmax,ymin:i.full.ymin,ymax:i.full.ymax,spatialReference:i.spatialReference}),i.maximum&&(r.maximum={xmin:i.maximum.xmin,xmax:i.maximum.xmax,ymin:i.maximum.ymin,ymax:i.maximum.ymax,spatialReference:i.spatialReference}),t.map.extentSets.push(r)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(i=>{const r={id:i.id,name:i.name,extentSetId:i.extentSetId,lodSetId:i.lodSetId,thumbnailTileUrls:[],hasNorthPole:i.hasNorthPole||!1};i.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[i.id]={id:i.overviewUrl.id||`overviewmap-basemap-${i.id}`,tileSchemaId:i.id,layers:[{id:i.overviewUrl.id||`overviewmap-basemap-${i.id}-0`,layerType:i.overviewUrl.layerType==="esriDynamic"?Le.MAPIMAGE:Le.TILE,url:i.overviewUrl.url,opacity:i.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(r)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(i=>{const r={id:i.id,tileSchemaId:i.tileSchemaId,name:i.name,description:i.description,altText:i.altText,thumbnailUrl:i.thumbnailUrl,layers:[]};i.attribution&&(r.attribution={text:{},logo:{}},i.attribution.text&&(r.attribution.text.disabled=!i.attribution.text.enabled,r.attribution.text.value=i.attribution.text.value),i.attribution.logo&&(r.attribution.logo.disabled=!i.attribution.logo.enabled,r.attribution.logo.altText=i.attribution.logo.altText,r.attribution.logo.value=i.attribution.logo.value,r.attribution.logo.link=i.attribution.logo.link)),i.layers.forEach((s,n)=>{const o={id:s.id||`${i.id}-${n}`,layerType:s.layerType==="esriDynamic"?Le.MAPIMAGE:Le.TILE,url:s.url,opacity:s.opacity??1};r.layers.push(o)}),t.map.basemaps.push(r)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(i=>{if(i.type==="esri-map-image"||i.type==="ogc-wms"){const r={name:i.name??`${i.id} Group`,children:[]};i.sublayers.forEach(s=>{const n={layerId:i.id};s.name&&(n.name=s.name),s.controls&&(n.controls=s.controls),s.disabledControls&&(n.disabledControls=s.disabledControls),i.type==="esri-map-image"?n.sublayerIndex=s.index:(n.sublayerId=s.id,console.warn(`sublayerId property defined in legend entry ${n.layerId} is currently not supported.`)),r.children.push(n)}),t.fixtures.legend.root.children.push(r)}else{const r={layerId:i.id};i.controls&&(r.controls=i.controls),i.disabledControls&&(r.disabledControls=i.disabledControls),t.fixtures.legend.root.children.push(r)}})):t.fixtures.legend={root:Dx(e.legend.root)})}function Dx(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const i=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=ff(e.controls,i),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=ff(e.disabledControls,i),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(r=>{if(r.layerId)t.children.push($I(r));else if(r.infoType)r.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:r.infoType,content:r.content}),typeof r.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(r.exclusiveVisibility){const s={name:"Visibility Set",children:[],exclusive:!0};typeof r.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),r.exclusiveVisibility.forEach(n=>{n.layerId?s.children.push($I(n)):s.children.push(Dx(n))}),t.children.push(s)}else t.children.push(Dx(r))}),t}function $I(e){const t=e,i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=ff(e.controls,i),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=ff(e.disabledControls,i)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function $de(e){const t=w_(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=w_(i);r.index=i.index,t.sublayers.push(r)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(i=>{const r=w_(i);r.id=i.id,i.currentStyle&&(r.currentStyle=i.currentStyle,console.warn(`currentStyle property provided in layer entry ${i.id} of layer ${e.id} is currently not supported.`)),i.allStyles&&console.warn(`allStyles property provided in layer entry ${i.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(r)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function w_(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const i=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=ff(e.controls,i),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=ff(e.disabledControls,i)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),Lde(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(r=>{const s={field:r.data};r.title&&(s.title=r.title),r.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof r.visible<"u"&&(s.visible=r.visible),r.width&&(s.width=r.width),r.sort&&(s.sort=r.sort),typeof r.searchable<"u"&&(s.searchable=r.searchable),r.filter&&(s.filter=r.filter),t.fixtures.grid.columns.push(s)})))),t}function ff(e,t){const i=[];return e.forEach(r=>{t.includes("identify")&&r==="query"?i.push("identify"):t.includes("datatable")&&r==="data"?i.push("datatable"):t.includes(r)?i.push(r):console.warn(`Ignored invalid control: ${r}`)}),i}function Cde(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(r=>r!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(r=>{typeof e[r]<"u"&&console.warn(`${r} property provided in services config cannot be mapped and will be skipped.`)})}function Nde(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const s=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(n=>{const o=n.toLowerCase();s.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${n}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const s=["groupToggle","visibilityToggle"];e.legend.reorderable&&s.push("layerReorder"),e.legend.allowImport&&s.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=s:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:s,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const i=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(s=>{s.forEach(n=>{n==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):n!=="layers"&&i.includes(n)&&!t.fixtures.appbar.items.includes(n.toLowerCase())&&(t.fixtures.appbar.items.push(n.toLowerCase()),(n.toLowerCase()==="help"||n.toLowerCase()==="export"&&!t.fixturesEnabled.includes(n.toLowerCase()))&&t.fixturesEnabled.push(n.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(s=>{typeof e[s]<"u"&&console.warn(`${s} property provided in services config cannot be mapped and will be skipped.`)})}function Pde(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(i=>({title:`${i["title-en-CA"]} / ${i["title-fr-CA"]}`,thumbnail:i.thumbnailUrl,altText:i.altText??"",description:i.description??"",extent:{xmin:i.xmin,xmax:i.xmax,ymin:i.ymin,ymax:i.ymax,spatialReference:{wkid:i.wkid}}}))}))}function Lde(e,t){const i=e.outfields&&e.outfields!=="*";if(!i&&!e.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(r.fieldInfo=e.fieldMetadata.map(s=>{const n={name:s.data};return s.alias&&(n.alias=s.alias),n}),i&&(e.outfields.split(",").map(n=>n.trim()).forEach(n=>{r.fieldInfo.findIndex(o=>o.name===n)===-1&&r.fieldInfo.push({name:n})}),r.exclusiveFields=!0)):i&&(r.fieldInfo=e.outfields.split(",").map(s=>({name:s.trim()})),r.exclusiveFields=!0),t.fieldMetadata=r}var Yu={major:"4",minor:"12",patch:"0-beta",timestamp:"Wed Apr 16 14:44:31 2025 -0400",hash:"f750e8fb2c373763a82ad8abfde5d9d27cc553e9"};console.info(`RAMP v${Yu.major}.${Yu.minor}.${Yu.patch} [${Yu.hash.slice(0,9)}] (Built on ${new Date(Yu.timestamp.toString()).toLocaleString()})`);const Kf=Yu;function wve(e){return Mde(e)}const xve=(e,t,i)=>new nfe(e,t,i),Mh=new sX;export{Ot as $,I$ as A,g as B,iv as C,T as D,NS as E,uT as F,Jt as G,Xi as H,To as I,et as J,Dj as K,mp as L,gp as M,ie as N,qi as O,Dr as P,bC as Q,e0e as R,M$ as S,u0e as T,J0 as U,$t as V,FC as W,pp as X,fm as Y,A$ as Z,$me as _,Lc as a,IS as a$,Yt as a0,lve as a1,Zme as a2,ol as a3,Ci as a4,iN as a5,TU as a6,ame as a7,a0 as a8,Ei as a9,On as aA,pge as aB,Wye as aC,Ce as aD,p0 as aE,yh as aF,vpe as aG,yo as aH,Sme as aI,JF as aJ,DS as aK,hm as aL,dt as aM,Qi as aN,Fs as aO,tA as aP,Z$ as aQ,M1 as aR,gm as aS,wp as aT,fU as aU,Mye as aV,Oye as aW,df as aX,Yye as aY,Ao as aZ,re as a_,k7 as aa,x$ as ab,D7 as ac,An as ad,L0e as ae,Tn as af,tH as ag,_ve as ah,v5 as ai,_5 as aj,b5 as ak,g5 as al,c4 as am,O1e as an,oye as ao,cD as ap,hge as aq,Lz as ar,mge as as,yge as at,lge as au,CS as av,Zz as aw,Qn as ax,xr as ay,XI as az,VF as b,xm as b$,jF as b0,M6 as b1,_ge as b2,zz as b3,aA as b4,F$ as b5,kW as b6,_q as b7,_S as b8,bq as b9,y0e as bA,Ws as bB,$ye as bC,tme as bD,Ii as bE,_p as bF,l0e as bG,dm as bH,ym as bI,En as bJ,F1 as bK,wve as bL,r0e as bM,sve as bN,HU as bO,t0e as bP,Vc as bQ,z1 as bR,xj as bS,Rd as bT,Mge as bU,$ge as bV,Ige as bW,Oge as bX,fge as bY,dge as bZ,k1 as b_,z6 as ba,nge as bb,wge as bc,rq as bd,Ip as be,Op as bf,Kye as bg,oge as bh,k0e as bi,Rc as bj,ot as bk,gf as bl,S0e as bm,uh as bn,Hde as bo,Yde as bp,Cye as bq,Jde as br,X7 as bs,go as bt,Yge as bu,$i as bv,hpe as bw,UI as bx,f$ as by,ct as bz,xve as c,tu as c$,j_ as c0,R7 as c1,M1e as c2,vf as c3,UW as c4,jW as c5,BW as c6,wye as c7,S_ as c8,ipe as c9,dj as cA,KI as cB,pb as cC,VC as cD,Sf as cE,Y_ as cF,Ht as cG,H_ as cH,Z_ as cI,ug as cJ,FS as cK,Ux as cL,jx as cM,Pye as cN,Ppe as cO,IU as cP,$h as cQ,pS as cR,Lpe as cS,Uge as cT,qde as cU,dg as cV,I1 as cW,$1 as cX,kye as cY,vm as cZ,Rye as c_,DI as ca,Ude as cb,zI as cc,Ej as cd,PC as ce,LC as cf,_0e as cg,B1 as ch,V1 as ci,Fde as cj,CC as ck,cge as cl,hg as cm,Rz as cn,bge as co,kz as cp,vge as cq,$C as cr,Kde as cs,yj as ct,m0e as cu,pj as cv,Dc as cw,y5 as cx,Sye as cy,gB as cz,Ye as d,xye as d$,Dye as d0,Fye as d1,vb as d2,Vde as d3,$pe as d4,Cpe as d5,mm as d6,lme as d7,cve as d8,O0e as d9,g1e as dA,N1e as dB,Jme as dC,o0e as dD,F0e as dE,rme as dF,Zx as dG,dq as dH,Tr as dI,Nn as dJ,Af as dK,bo as dL,lu as dM,R$ as dN,P1 as dO,mS as dP,U1 as dQ,xp as dR,vn as dS,GU as dT,fS as dU,zU as dV,Xme as dW,a0e as dX,$_ as dY,Mf as dZ,uye as d_,$0e as da,I0e as db,C0e as dc,N0e as dd,P0e as de,r2 as df,rge as dg,Ume as dh,X2 as di,Tye as dj,u1e as dk,$1e as dl,xq as dm,Sq as dn,jme as dp,O1 as dq,ope as dr,ave as ds,qq as dt,uve as du,gge as dv,Jq as dw,Zq as dx,Kq as dy,Gde as dz,JS as e,Ome as e$,lye as e0,_A as e1,E0e as e2,T0e as e3,Tp as e4,Ipe as e5,dp as e6,ome as e7,fD as e8,Bpe as e9,Oe as eA,It as eB,Pi as eC,X as eD,Rg as eE,t1 as eF,Sv as eG,Wi as eH,lr as eI,Ln as eJ,ho as eK,Wt as eL,Dhe as eM,$e as eN,Qt as eO,Ke as eP,b3 as eQ,BF as eR,GT as eS,Y7 as eT,eve as eU,Gc as eV,K1 as eW,epe as eX,pl as eY,q1e as eZ,ps as e_,su as ea,J0e as eb,Dh as ec,ime as ed,io as ee,qx as ef,Gme as eg,Vme as eh,iq as ei,U6 as ej,rt as ek,ii as el,Kc as em,Rhe as en,tt as eo,bi as ep,Tt as eq,Et as er,fe as es,Bt as et,Ti as eu,ue as ev,we as ew,Cl as ex,di as ey,jt as ez,UN as f,qI as f$,Yq as f0,dh as f1,LU as f2,xl as f3,Ju as f4,G1 as f5,iy as f6,Aye as f7,eu as f8,Xde as f9,Fq as fA,s0e as fB,GD as fC,o1e as fD,n1e as fE,sW as fF,KC as fG,Ch as fH,Hye as fI,Rme as fJ,bpe as fK,jge as fL,fve as fM,t1e as fN,Zge as fO,ive as fP,tve as fQ,Fme as fR,Dpe as fS,khe as fT,Si as fU,e1 as fV,Qhe as fW,lC as fX,pC as fY,yf as fZ,gpe as f_,W0e as fa,v0e as fb,_j as fc,wj as fd,Zde as fe,R0e as ff,bj as fg,Q0 as fh,T1e as fi,d1e as fj,hye as fk,K0e as fl,jde as fm,dpe as fn,jI as fo,VI as fp,GI as fq,ape as fr,Rpe as fs,$j as ft,Fj as fu,BC as fv,zye as fw,Hx as fx,Wx as fy,E$ as fz,Mh as g,es as g$,zpe as g0,XF as g1,rU as g2,oU as g3,Ih as g4,ZD as g5,na as g6,Fpe as g7,R1 as g8,bp as g9,_C as gA,h0e as gB,f0e as gC,xpe as gD,rC as gE,VN as gF,C1 as gG,mpe as gH,ype as gI,ppe as gJ,MU as gK,Dme as gL,eye as gM,ZC as gN,Uk as gO,lm as gP,Jz as gQ,jm as gR,J3 as gS,Jhe as gT,Zhe as gU,wI as gV,ja as gW,S9 as gX,oT as gY,Le as gZ,tfe as g_,Oj as ga,b0e as gb,Ph as gc,Wde as gd,ax as ge,efe as gf,Gl as gg,jN as gh,BN as gi,Mpe as gj,zx as gk,d0e as gl,g0 as gm,nv as gn,Hq as go,Mj as gp,zq as gq,Xhe as gr,Iv as gs,fa as gt,s$ as gu,jU as gv,cS as gw,aye as gx,Ope as gy,c0e as gz,F7 as h,npe as h$,tr as h0,ko as h1,Sn as h2,sl as h3,Ml as h4,ki as h5,Jv as h6,Sg as h7,sfe as h8,d3 as h9,ht as hA,w$ as hB,zT as hC,WB as hD,uge as hE,Z1e as hF,Cme as hG,RW as hH,ti as hI,K1e as hJ,Q1e as hK,vve as hL,f4 as hM,hve as hN,zc as hO,V7 as hP,nB as hQ,fB as hR,qC as hS,H0e as hT,gye as hU,Xx as hV,bme as hW,vme as hX,iF as hY,tF as hZ,dye as h_,pn as ha,Mv as hb,GP as hc,I as hd,Aq as he,HS as hf,Uq as hg,LI as hh,Dde as hi,O7 as hj,Rde as hk,I7 as hl,IB as hm,bye as hn,_$ as ho,WC as hp,lB as hq,jS as hr,f1e as hs,c1e as ht,cme as hu,ume as hv,x0e as hw,q0e as hx,Ov as hy,Wp as hz,Vd as i,Q0e as i$,Mp as i0,eme as i1,w0e as i2,Kme as i3,hU as i4,D1 as i5,n0e as i6,Gfe as i7,ide as i8,zfe as i9,xB as iA,t5 as iB,i5 as iC,e5 as iD,pve as iE,mve as iF,dve as iG,uq as iH,Jye as iI,ta as iJ,qS as iK,AN as iL,TW as iM,Tf as iN,$7 as iO,Epe as iP,Gye as iQ,BI as iR,uC as iS,Yme as iT,NC as iU,rA as iV,dC as iW,ru as iX,Vye as iY,lz as iZ,Qde as i_,rfe as ia,Y0 as ib,oi as ic,p5 as id,wB as ie,rye as ig,yN as ih,Npe as ii,Lye as ij,p0e as ik,afe as il,ife as im,kt as io,Pp as ip,sT as iq,gr as ir,Be as is,J1e as it,Bs as iu,Oh as iv,jq as iw,Qa as ix,M3 as iy,tpe as iz,dw as j,tye as j$,X0e as j0,Sm as j1,Em as j2,Tm as j3,Lr as j4,yi as j5,Ge as j6,so as j7,Rx as j8,x9 as j9,Tae as jA,Pue as jB,Ze as jC,C3 as jD,hL as jE,T3 as jF,dr as jG,sme as jH,upe as jI,jye as jJ,gve as jK,X1e as jL,au as jM,W1e as jN,H1e as jO,Y1e as jP,Mm as jQ,nu as jR,nve as jS,Upe as jT,pye as jU,C1e as jV,Uye as jW,Y0e as jX,GC as jY,U0e as jZ,iye as j_,l8 as ja,Khe as jb,Qc as jc,Xt as jd,l1e as je,a1e as jf,lW as jg,Bde as jh,Qme as ji,T$ as jj,hi as jk,qye as jl,Tge as jm,g0e as jn,BU as jo,nA as jp,eF as jq,Ba as jr,Kge as js,nN as jt,sf as ju,Pn as jv,Goe as jw,po as jx,Cf as jy,Li as jz,Ime as k,pq as k$,bB as k0,D0e as k1,yme as k2,Qx as k3,ml as k4,Jx as k5,Age as k6,Th as k7,H3 as k8,ch as k9,Zye as kA,mme as kB,i0e as kC,G0e as kD,Z7 as kE,mB as kF,Eye as kG,CB as kH,sye as kI,yB as kJ,n2 as kK,nye as kL,R1e as kM,cye as kN,mye as kO,rv as kP,_ye as kQ,aN as kR,ST as kS,qz as kT,sq as kU,Hz as kV,$p as kW,Np as kX,_pe as kY,rve as kZ,kS as k_,W0 as ka,Ho as kb,bs as kc,Ni as kd,Q_ as ke,j0e as kf,Rj as kg,A0e as kh,M0e as ki,KD as kj,Jge as kk,Z6 as kl,aq as km,gme as kn,qT as ko,B0e as kp,V0e as kq,age as kr,Xye as ks,tge as kt,Qye as ku,ige as kv,ege as kw,sge as kx,Nye as ky,AT as kz,pf as l,mq as l0,vye as l1,JB as l2,oN as l3,ZU as l4,S1e as l5,E1e as l6,kD as l7,Tme as l8,Ame as l9,rpe as lA,m1e as lB,b1e as lC,h1e as lD,Ku as lE,P1e as lF,oW as lG,zde as lH,nW as lI,hme as lJ,e1e as lK,w1e as lL,Qge as lM,Xge as lN,yye as lO,o$ as lP,jpe as lQ,x1e as lR,nme as la,_me as lb,UD as lc,Z0e as ld,tB as le,Zj as lf,NT as lg,Mu as lh,XW as li,k1e as lj,I1e as lk,y1e as ll,_1e as lm,v1e as ln,wpe as lo,B1e as lp,j1e as lq,fpe as lr,p1e as ls,fye as lt,A1e as lu,Spe as lv,sv as lw,yve as lx,spe as ly,P7 as lz,WN as m,Lt as n,$q as o,pm as p,ove as q,Gx as r,ft as s,Vx as t,Ur as u,ge as v,VD as w,Cn as x,MF as y,cpe as z};
